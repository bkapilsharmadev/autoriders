(function(){(function(){try{var i=window.localStorage;window.locStor=i}catch(a8){var i=window.locStor={};
i.setItem=function(C,m){i[C]=m};i.getItem=function(C){return i[C]};i.removeItem=function(C){delete i[C]}}}());
var d4=0,ch={};ch.a26=function(i,C){var m=d.aJ[d.cF("%|xK")];if(m==null)return"XYP";var e=i.toString(16).slice(0,4),z=e+C+"aQYRDCB";
return m(z).slice(5,17)+e.split("").reverse().join("")};ch.Jb=function(){var i=d.aJ[d.wq("3M"+(d.ox(26)?"]K":"fa"))];
i=i[d.wq("]["+(!d.ox(28)?",":"`"))];return Math.floor(i()/1e3)};ch.ox=function(i){var C=0;for(var Y=0;
Y<i;Y++)C+=Math.random();return C/i<Math.PI/4};ch.wq=function(i){var C="";if(!ch.ox(28))i+="-3";for(var Y=0;
Y<i.length;Y++){var m=i.charCodeAt(Y);if(m<32||126<m)throw"e";C+=String.fromCharCode(32+(m-32+17+3*Y)%95)}return C};
ch.cF=function(i){var C="";if(!ch.ox(28))i+="-1";for(var Y=0;Y<i.length;Y++){var m=i.charCodeAt(Y);m-=32;
m+=95e4;m-=17+3*Y;m=m%95;C+=String.fromCharCode(32+m)}return C};ch.E4=ch.wq("XP");ch.W1=ch.wq("XYP");
ch.b0=ch.wq("c[Y");ch.aim=ch.wq("][`");ch.Hb=ch.wq("SU_");ch.gN=ch.wq("b^L");ch.atV=ch.wq("61=");ch.oU=ch.wq("Q[M_");
ch.GC=ch.wq("WQJJ");ch.Yg=ch.wq("W^NL");ch.vu=ch.wq("[[JJ");ch.aiR=ch.wq("[[PU");ch.XX=ch.wq("^\\NT");
ch.al$=ch.wq("bQUL");ch.xM=ch.wq("bQWJ");ch.R$=ch.wq("3M]K");ch.a3t=ch.wq("<M]N");ch.Fe=ch.wq("][WK");
ch.ZS=ch.wq("P_bTF");ch.xW=ch.wq("RXRIN");ch.W5=ch.wq("b`bRH");ch.Ng=ch.wq("fUMZK");ch.asT=ch.wq("Q[]ZRM");
ch.aBv=ch.wq("WQRMKT");ch.aDx=ch.wq("WUMJHN");ch.K_=ch.wq("XR[GPE");ch.alO=ch.wq("aMWJRM");ch.Sa=ch.wq("bO[OST");
ch.C6=ch.wq("cM[MHT");ch.ait=ch.wq("^Z5OQE");ch.On=ch.wq("R[WLLRJ");ch.a2y=ch.wq("SU\\VOAV");ch.a5A=ch.wq("XZMK[/C");
ch.Lv=ch.wq("aQYRDCB");ch.UR=ch.wq("[[LGWILH");ch.qh=ch.wq("S[L[PEKN");ch.to=ch.wq("aQOKURBL");ch.Rr=ch.wq("aQ\\VRNP?");
ch.a8j=ch.wq("XZWKU(1'#");ch.a8m=ch.wq("SQLUGE2, ");ch.acj=ch.wq("]M_OJAQII");ch.Ru=ch.wq("bQ]:LMBILH");
ch.aeB=ch.wq("UU[YW#ECC8");ch.yF=ch.wq("cQaZ&OKN<BE");ch.Dj=ch.wq("P\\YKQD B@@5");ch.Mh=ch.wq("aQVUYE B@@5");
ch.$B=ch.wq("bQ]'WTOC9IE3");ch.awc=ch.wq("XZ\\KUT~?=CC3");ch._J=ch.wq("R^NGWE\"F<A6<?");ch.ays=ch.wq("VQ]+OEJ?EHrGs,");
ch.by=ch.wq("G95.WTM,<EF3><");ch.ayx=ch.wq("PZLKVTLL&F:5468");ch.cM=ch.wq("PPM+YEKN#=DB06*4");function jD(i){this.hb={};
this.s5=0;this.PH();if(i!=!0)window.__kb=this}jD.zj=null;jD.prototype.PH=function(){var i=navigator.keyboard;
if(i&&window.top==window.self)i.getLayoutMap().then(function(C){jD.zj=C})};jD.prototype.awn=function(i){var C={shiftKey:jD.$I,altKey:jD.rb,ctrlKey:jD.Uj};
for(var m in C){var e=i[m],z=C[m],L=this.S(z);if(!e&&L){for(var Y=0;Y<z.mT.length;Y++)this.WL(z.mT[Y])}}};
jD.prototype.wT=function(i){this.s5++;this.hb[i]=!0};jD.prototype.WL=function(i){this.s5--;delete this.hb[i];
if(this.s5<=0||jD.fG(i,jD.aV))this.reset()};jD.prototype.S=function(i){for(var Y=0;Y<i.mT.length;Y++)if(this.hb[i.mT[Y]])return!0;
return!1};jD.prototype.reset=function(){this.hb={};this.s5=0};jD.prototype.PD=function(i){var C=this,m=C.S(jD.$I)?10:1,e=0,z=0;
if(C.S(jD.O1))e=-m;else if(C.S(jD.zq))e=m;else if(C.S(jD.vx))z=-m;else if(C.S(jD.h$))z=m;var L=new b5(e,z);
if(i!=null){var l=new hN;l.rotate(i);L=l.M$(L);if(Math.abs(L.x)<Math.abs(L.y))L.x=0;else L.y=0;L.x=Math.round(L.x);
L.y=Math.round(L.y)}return L};jD.prototype.nK=function(){var i=this,C=jD.cq;for(var Y=0;Y<10;Y++)if(i.S(C[Y]))return Y;
return-1};jD.fG=function(i,C){return C.mT.indexOf(i)!=-1};jD.Wa=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
jD.vd="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(jD.Wa())jD.vd.push("ControlLeft","ControlRight");jD.jn=function(i){var C=i.code;if(C=="")return!1;
var m=jD.fG;if(i.altKey&&!i.shiftKey&&!i.ctrlKey){var e=jD.cq.concat([jD.Ek,jD.Mn,jD.Gg,jD.yw]),z=!1;
for(var Y=0;Y<e.length;Y++)if(m(C,e[Y]))return!1}return jD.vd.indexOf(C)==-1||i.shiftKey&&(C=="F5"||C=="F6")};
jD.aCk=function(i){var C=jD;if(i.ctrlKey&&(C.fG(i.code,C.Ek)||C.fG(i.code,C.Mn)))i.preventDefault()};
jD.eg=function(i){i.addEventListener("keydown",jD.aCk,!1)};jD.NU=function(i){if(typeof i=="string")return i;
var C=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(i==null)return"";var m=[];for(var Y=0;Y<i.length;
Y++){var e=i[Y].zm?i[Y].zm:i[Y];if(C&&i[Y].c0)e=i[Y].c0;m.push(e)}if(C||m.length==1)return m.join(" + ");
else{var z=m.pop();return m.join("+")+" + "+z}};jD.Ka=function(i){window.__kb.PH();var C=i.code,m=jD.zj;
if(m&&m.get(C)){var e={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=m.get(C).toLowerCase(),L=z.charCodeAt(0);
if(97<=L&&L<=122){var l="Key"+z.toUpperCase();C=l}else if(e[z])C=e[z];return C}var e={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=i.key.toLowerCase(),L=z.charCodeAt(0);
if(z.length==1){if(97<=L&&L<=122){var l="Key"+z.toUpperCase();C=l}else if(e[z])C=e[z]}if(z=="control"&&C!="")C="ControlLeft";
return C};jD.sm=0;jD.NX=function(i,C){var m=0;if(Date.now()-jD.sm>1e3){m=C==0?100:C*10}else{if(i%10!=0)i*=10;
m=(i+C)%100}jD.sm=Date.now();return m};jD.atW={nm:"No Touch",mT:["NoTouch"]};jD.RX={zm:"Enter",mT:["Enter","NumpadEnter"]};
jD.$I={zm:"Shift",c0:"\u21E7",mT:["ShiftLeft","ShiftRight"]};jD.aV={zm:"Meta",mT:["MetaLeft","MetaRight","OSLeft","OSRight"]};
jD.Uj={zm:"Ctrl",c0:"\u2318",mT:jD.Wa()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
jD.rb={zm:"Alt",c0:"\u2325",mT:["AltLeft","AltRight"]};jD.a59={zm:"CtrlOrAlt",mT:jD.Uj.mT.concat(jD.rb.mT)};
jD.pn={zm:"Escape",mT:["Escape"]};jD.uE={zm:"Space",mT:["Space"]};jD.kR={zm:"Tab",mT:["Tab"]};jD.IO={zm:"Home",mT:["Home"]};
jD.a3f={zm:"End",mT:["End"]};jD.O1={zm:"Left",mT:["ArrowLeft"]};jD.vx={zm:"Up",mT:["ArrowUp"]};jD.zq={zm:"Right",mT:["ArrowRight"]};
jD.h$={zm:"Down",mT:["ArrowDown"]};jD.Ek={zm:"+",mT:["NumpadAdd","Equal"]};jD.Mn={zm:"-",mT:["NumpadSubtract","Minus"]};
jD.Ro={zm:";",mT:["Semicolon"]};jD.ao9={zm:"Dead",mT:["Dead"]};jD.a1k={zm:"=",mT:["Equal"]};jD.sk={zm:"Backspace",mT:["Backspace"]};
jD.nR={zm:"Delete",mT:["Delete"]};jD.a9I={zm:"Backslash",mT:["Backslash","IntlBackslash"]};jD.aBL={zm:"Slash",mT:["NumpadDivide","Slash"]};
jD.agj={zm:"Backquote",mT:["Backquote"]};jD.Gg={zm:"[",mT:["BracketLeft"]};jD.yw={zm:"]",mT:["BracketRight"]};
jD.BU={zm:".",mT:["Period"]};jD.Ws={zm:",",mT:["Comma"]};jD.Tp={zm:"'",mT:["Quote"]};jD.B={zm:"A",mT:["KeyA"]};
jD.ns={zm:"B",mT:["KeyB"]};jD.Cl={zm:"C",mT:["KeyC"]};jD.pJ={zm:"D",mT:["KeyD"]};jD.E={zm:"E",mT:["KeyE"]};
jD.LQ={zm:"F",mT:["KeyF"]};jD.yM={zm:"G",mT:["KeyG"]};jD.HL={zm:"H",mT:["KeyH"]};jD.k$={zm:"I",mT:["KeyI"]};
jD.NI={zm:"J",mT:["KeyJ"]};jD.WP={zm:"K",mT:["KeyK"]};jD.nJ={zm:"L",mT:["KeyL"]};jD._X={zm:"M",mT:["KeyM"]};
jD.Rf={zm:"N",mT:["KeyN"]};jD.Lz={zm:"O",mT:["KeyO"]};jD.Je={zm:"P",mT:["KeyP"]};jD.EF={zm:"Q",mT:["KeyQ"]};
jD.eB={zm:"R",mT:["KeyR"]};jD.xv={zm:"S",mT:["KeyS"]};jD.f3={zm:"T",mT:["KeyT"]};jD.wA={zm:"U",mT:["KeyU"]};
jD.AH={zm:"V",mT:["KeyV"]};jD.JU={zm:"W",mT:["KeyW"]};jD.gA={zm:"X",mT:["KeyX"]};jD.cL={zm:"Y",mT:["KeyY"]};
jD.uA={zm:"Z",mT:["KeyZ"]};jD.GX={zm:"0",mT:["Numpad0","Digit0"]};jD.q_={zm:"1",mT:["Numpad1","Digit1"]};
jD.aaW={zm:"2",mT:["Numpad2","Digit2"]};jD.aiF={zm:"3",mT:["Numpad3","Digit3"]};jD.a6o={zm:"4",mT:["Numpad4","Digit4"]};
jD.ass={zm:"5",mT:["Numpad5","Digit5"]};jD.aE0={zm:"6",mT:["Numpad6","Digit6"]};jD.a2g={zm:"7",mT:["Numpad7","Digit7"]};
jD.a6N={zm:"8",mT:["Numpad8","Digit8"]};jD.aC6={zm:"9",mT:["Numpad9","Digit9"]};jD.cq=[jD.GX,jD.q_,jD.aaW,jD.aiF,jD.a6o,jD.ass,jD.aE0,jD.a2g,jD.a6N,jD.aC6];
jD.acc={zm:"F1",mT:["F1"]};jD.auJ={zm:"F2",mT:["F2"]};jD.agz={zm:"F3",mT:["F3"]};jD.a95={zm:"FF",mT:["F4"]};
jD.ih={zm:"F5",mT:["F5"]};jD.anx={zm:"F6",mT:["F6"]};jD.ajX={zm:"F7",mT:["F7"]};jD.abT={zm:"F8",mT:["F8"]};
jD.a08={zm:"F9",mT:["F9"]};jD.a5N={zm:"F10",mT:["F10"]};jD.aqk={zm:"F11",mT:["F11"]};jD.adI={zm:"F12",mT:["F12"]};
function gA(i){this.LE={};this.bP={};this.at$=0;this.aj3={};this.Go=[];this.a7E=0;this.vu=i;gA.Y2=this}gA.aBx=function(i,C){var Y=0,m=gA.N_;
while(Y<m.length){if((C>>>Y&1)==1)break;Y++}if(Y!=0&&gA.PO(i,[33,126])>.7)Y=0;if(C==0||m[Y][1]==""){if((C&15)!=0&&gA.PO(i,[33,126])>.7)Y=0;
else if(C==0)Y=0;else{Y=0}}return m[Y][1]};gA.zh=120;gA.z7=20;gA.cols=16;gA.jy=function(i){var C=i.name.postScriptName;
if(C==null)return null;return C.replace(/ /g,"-")};gA.db=function(i){var C=i.name,m=C.typoFamilyName,e=C.typoSubfamilyName,z=m&e,L=z?m:C.fontFamily,l=z?e:C.fontSubfamily;
if(l==null)l="Regular";var x=gA.arb,S=L.toLowerCase();for(var Y=0;Y<x.length;Y++){if(x[Y]=="roman")continue;
if(S.endsWith(" "+x[Y])||S.endsWith("-"+x[Y])){var k=L.length-x[Y].length,f=L.slice(k);L=L.slice(0,k-1);
if(f!=""){if(l=="Regular"||l==L+" Regular")l=f;else l=f+" "+l}break}}var X="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var Y=0;Y<X.length;Y++)if(L.startsWith(X[Y])){var f=L.slice(X[Y].length);L=X[Y];if(f.startsWith(" ")||f.startsWith("-"))f=f.slice(1);
if(f!=""){if(l=="Regular")l=f;else l=f+" "+l}break}var o={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},A=o[gA.jy(i)];
if(A)l=A;return[L,l]};gA.prototype.a3V=function(i){var C=this.OA();for(var m in C)if(C[m][0]==i)this.he(m)};
gA.prototype.a07=function(){return Object.keys(this.bP).length!=0};gA.prototype.he=function(i,C){if(this.LE[i])return this.LE[i];
if(this.bP[i])return null;var m=null,e=this.OA();if(e[i]!=null)m=e[i][5];if(m==null){var z=gA.Lv[i];
if(z==null){var L="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),l=i.toLowerCase(),x=0;
if(l.indexOf("sans")!=-1)x=0;else if(l.indexOf("serif")!=-1)x=4;var S=l.indexOf("bold")!=-1||l.indexOf("-black")!=-1,k=l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1||l.endsWith("-it");
if(S&&k)x+=3;else if(k)x+=2;else if(S)x+=1;z=L[x]}if(C!=null&&C>128)z=this.cv(C,z);if(this.aj3[i]==null){this.aj3[i]=1;
var f=Date.now()-this.at$>2e3?2e3:0;this.at$=Date.now();alert(i+" \u27A1 "+z,f)}return this.he(z,C)}this.bP[i]="a";
if(m=="--loc")gA.Ln.load(i);else this.vu(m)};gA.prototype.cv=function(i,C,m){var e=this.LE[C];if(e&&Typr.U.codeToGlyph(e,i)!=0)return C;
var z=this.OA(),L=gA.ayb(i),l=L[0];if(z[C]&&(z[C][3]&l)==0){if(m)for(var Y=0;Y<m.length;Y++){var x=m[Y].Name,S=z[x];
if(S&&(S[3]&l)!=0)return x}var x=gA.N_[L[1]][4];if(z[x])return x}return C};gA.ayb=function(i){var C=gA.N_,m=[0];
for(var Y=0;Y<C.length;Y++){var e=C[Y][2];for(var z=0;z<e.length;z+=2)if(e[z]<=i&&i<=e[z+1]){m[0]+=1<<Y;
m.push(Y)}}if(m.length==1)m.push(0);return m};gA.prototype.agd=function(){var i=this.Go,C=i[0],m=i.length-1;
alert(bC.get([22,6,0])+" "+C+(m==0?"":", ... ("+m+")")+" "+bC.get([23,0])+".",1500);this.Go=[]};gA.prototype.aqc=function(i,C){if(C!=!0){this.Go.push(i.name.fullName);
clearTimeout(this.a7E);this.a7E=setTimeout(this.agd.bind(this),300)}var m=gA.jy(i),e=this.OA(),z=e[m],L=gA.PS(i);
if(z==null){L.nj=gA.Tr(i,L);this.WE(L)}delete this.bP[m];this.LE[m]=i};gA.a1G=function(){var i=gA.N_,C=[];
for(var Y=0;Y<i.length;Y++)C.push(i[Y][0]);return C};gA.Tr=function(i,C){var m=document.createElement("canvas"),e=m.getContext("2d"),z=m.width=gA.zh,L=m.height=gA.z7,l=gA.z7*1.2/i.head.unitsPerEm;
e.translate(4,gA.z7*.9);e.scale(l,-l);e.fillStyle="#000000";var x=Typr.U.shape(i,gA.aBx(i,C[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(i,x),e);e.fill();var S=e.getImageData(0,0,z,L).data.buffer,k=i$.AL("PNG").B3([[S,0]],z,L,[1]);
return"data:image/png;base64,"+i$.m7(k)};gA.N_=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
gA.PS=function(i,C,m){var e=i.name,S=0;if(gA.jy(i)==null){console.log(i);throw"No postScriptName!"}var z=gA.N_,L=[];
for(var Y=0;Y<z.length;Y++){var l=z[Y][2],x=z[Y][3];L[Y]=gA.PO(i,l)>x?1:0}for(var Y=0;Y<L.length;Y++)S+=L[Y]<<Y;
var k=gA.db(i);return[k[0],k[1],gA.jy(i),S,m,C]};gA.PO=function(i,C){var m=0,e=0;for(var z=0;z<C.length;
z+=2){for(var L=C[z];L<=C[z+1];L++){var l=Typr.U.codeToGlyph(i,L);if(l==0)e++;else m++}}return m/(m+e)};
gA.awp=function(i,C){if(i[2]<C[2])return-1;if(i[2]>C[2])return 1;return 0};gA.aza=function(i,C){if(i[5]=="fs/"+i[2]+".otf")i[5]="";
else if(i[5]=="gf/"+i[2]+".otf")i[5]="a";if(i[2]==(i[0]+"-"+i[1]).replace(/\s/g,"")){i[2]=""}else if(i[2]==i[0].replace(/\s/g,"")){i[2]="a"}if(C){if(i[0]==C[0])i[0]="";
if(i[1]==C[1])i[1]="";if(i[3]==C[3])i[3]="";if(i[4]==C[4])i[4]=""}return i.join(",")};gA.akc=function(i,C){i=i.split(",");
if(i[0]=="")i[0]=C[0];if(i[1]=="")i[1]=C[1];if(i[3]=="")i[3]=C[3];else i[3]=parseInt(i[3]);if(i[4]=="")i[4]=C[4];
else i[4]=parseInt(i[4]);if(i[2]=="")i[2]=(i[0]+"-"+i[1]).replace(/\s/g,"");else if(i[2]=="a")i[2]=i[0].replace(/\s/g,"");
if(i[5]=="")i[5]="fs/"+i[2]+".otf";else if(i[5]=="a")i[5]="gf/"+i[2]+".otf";return i};gA.Lv={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
gA.prototype.OA=function(){if(FNTS.map==null){var i=FNTS.list,C=[];for(var Y=0;Y<i.length;Y++){C[Y]=gA.akc(i[Y],C[Y-1]);
C[Y].h6=Y;this.WE(C[Y])}}return FNTS.map};gA.prototype.WE=function(i){var C=i[0],m=i[1],e=i[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[i[2]]=i;if(FNTS.mapFS==null)FNTS.mapFS={};var z=FNTS.mapFS[C+"---"+m];FNTS.mapFS[C+"---"+m]=i;
if(FNTS.mapSub==null)FNTS.mapSub={};var L=FNTS.mapSub[C];if(L==null)L=FNTS.mapSub[C]=[];var l=L.indexOf(m);
if(l==-1)L.push(m);else L[l]=m};gA.ats=function(i,C){return gA.Kn(i)-gA.Kn(C)};gA.Kn=function(i){i=i.toLowerCase();
var C=gA.asj(i)+(gA.a7o(i)<<1);if(i.indexOf("cond")==-1)C+=1<<25;return C};gA.asj=function(i){return i.indexOf("italic")!=-1||i.indexOf("oblique")!=-1?1:0};
gA.arb="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
gA.apI=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
gA.a7o=function(i){var C=gA.apI,m=-1,e=-1;for(var Y=0;Y<C.length;Y++){var z=C[Y];if(z instanceof Array)for(var L=0;
L<z.length;L++){var l=z[L];if(i.indexOf(l)!=-1&&(m==-1||e<l.length)){m=Y;e=l.length}}else if(i.indexOf(z)!=-1&&(m==-1||e<z.length)){m=Y;
e=z.length}}if(m==-1)m=8;return m};gA.S$=function(i,C){var m=1e9,e=null,z=gA.Kn(C);for(var Y=0;Y<i.length;
Y++){var L=Math.abs(gA.Kn(i[Y])-z);if(L<m){m=L;e=i[Y]}}return e};gA.prototype.NE=function(i,C){this.OA();
return FNTS.mapFS[i+"---"+C]};gA.prototype.Fn=function(i){this.OA();return FNTS.mapSub[i]};gA.prototype.g8=function(){this.OA();
return FNTS.mapSub};gA.Ln={z4:null,Oe:null};gA.Ln.oG=function(i){gA.Ln.Oe=i;var C=window.locStor.localFonts;
if(C){C=i$.yk(C);C=pako.inflate(new Uint8Array(C));C=gA.Ln.z4=JSON.parse(W.U8(C));gA.Ln.PT()}};gA.Ln.load=function(i){var C=window.queryLocalFonts,m=gA.Ln.z4.toPSN,e;
for(var k7 in m)if(m[k7].indexOf(i)!=-1)e=k7;C({postscriptNames:[e]}).then(gA.Ln.wg)};gA.Ln.PT=function(){var i=gA.Y2,C=gA.Ln.z4,m=C.imap,e=i.OA();
for(var z in m){if(e[z])continue;var L=m[z].slice(0);L.nj=C.tmap[z];i.WE(L)}};gA.Ln.Ja=function(){var i=gA.Ln.z4,C=pako.deflate(W.x5(JSON.stringify(i))),m=i$.m7(C.buffer);
console.log(m.length);window.locStor.localFonts=m};gA.Ln.M5=function(){var i=gA.Ln.z4;return i!=null&&i.added};
gA.Ln.wo=function(i,C,m){var e=gA.Ln.z4;if(e){e.added=!e.added;gA.Ln.Ja();gA.Ln.PT();return}var z=window.queryLocalFonts;
if(z==null){alert("This feature is not available in your web browser :(");m();return}z().then(gA.Ln.wg.bind({ahp:C,aup:m}))};
gA.Ln.wg=async function(i){if(i.length==0){alert("You didn't allow us to access your fonts.");this.aup();
return}if(i.length==1){var C=await i[0].blob();C=await C.arrayBuffer();c8.Jl({name:"file.otf"},C,gA.Ln.Oe);
return}var m=new eX(v.E.H,!0),L=!1;m.data={d:v.B.dB,rU:"Loading local fonts ..."};gA.Ln.Oe.T(m);var e=Date.now(),z=gA.Ln.z4;
if(z==null)z=gA.Ln.z4={toPSN:{},imap:{},tmap:{},added:!0};var l={};for(var Y=0;Y<i.length;Y++){var x=i[Y],S=x.postscriptName;
l[S]=!0;if(z.toPSN[S])continue;var C=await x.blob();C=await C.arrayBuffer();if(i$.ra(C)!="otf")continue;
var f=Typr.parse(C),X=[];for(var o=0;o<f.length;o++){var A=f[o],P=gA.jy(A);X.push(P);if(z.imap[P])continue;
var F=z.imap[P]=gA.PS(A,"--loc",0);z.tmap[P]=gA.Tr(A,F)}z.toPSN[S]=X;L=!0}for(var S in z.toPSN)if(l[S]==null){var n=z.toPSN[S];
delete z.toPSN[S];for(var Y=0;Y<n.length;Y++){delete z.imap[n[Y]];delete z.tmap[n[Y]]}L=!0}if(L){console.log(Date.now()-e);
gA.Ln.Ja();gA.Ln.PT();this.ahp()}else console.log("no change");var m=new eX(v.E.H,!0);m.data={d:v.B.k6,rU:"Loading local fonts ..."};
gA.Ln.Oe.T(m);alert("Local fonts loaded!")};var a8={Et:0,aB:null,hL:null,xD:null,zc:null,GW:null,tm:!0,XT:0,kE:!1};
a8.event=function(i){var C=new XMLHttpRequest;C.open("GET","/papi/event.php?id="+i+"&rnd="+Math.random());
C.send()};a8.md=function(){var i=a8.Op();if(i==null)return null;var C=d.ox(24)?" ":"",m=d.aJ[d.cF("Uu,"+C)];
m=m[d.cF(C+"$/")];var e=a8.aM(1,999);if(e&&a8.aQ(e)*50>m()/20)return[0,e];var z=i.inTeams;if(z)for(var Y=0;
Y<z.length;Y++)if(z[Y][1]*50>m()/20)return[1,z[Y]];return null};a8.Vi=function(){return a8.a9c()!=null};
a8.Um=function(){return a8.aQ(a8.aM(1e3,999999999))};a8.aQ=function(i){return i==null?0:i[0]+i[1]*24*60*60};
a8.aM=function(i,C){var m=a8.Op(),e=m.pmnts,z=0,L=null;if(e==null||e.length==0)return 0;for(var Y=0;
Y<e.length;Y++){var l=e[Y],x=a8.aQ(l);if(i<=l[2]&&l[2]<=C)if(z<x){z=x;L=l}}return L};a8.Op=function(){return a8.GW};
a8.oG=function(i){window.addEventListener("message",a8.ac4,!1);setInterval(a8.oS,5e3);if(a8.Vi()&&navigator.onLine){a8.aB=i;
a8.MI()}else setTimeout(i,1)};a8.oS=function(){if(a8.Vi()&&a8.kE){a8.tI(a8.fQ());a8.kE=!1}};a8.TB=function(i){a8.aB=i;
var C="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);a8.xD=window.open(C,"_blank")};
a8.au5=function(){var i=window.locStor;i.removeItem(a8.Et+"_uid");i.removeItem(a8.Et+"_provider");i.removeItem(a8.Et+"_token");
a8.GW=null};a8.ac4=function(i){if(i.data instanceof ArrayBuffer||i.data instanceof Object)return;if(i.data.charAt(0)!="{")return;
var C=JSON.parse(i.data);if(C.prms==null)return;var m=C.prms.split(",");if(m[0]=="papi_logged_in"){var e=window.locStor;
e[a8.Et+"_uid"]=m[1];a8.Sf(m[2]);e[a8.Et+"_provider"]=m[3];a8.xD.close();a8.MI()}if(m[0]=="payment_complete"){a8.zc.close();
a8.MI()}};a8.a9c=function(){var i=window.locStor[a8.Et+"_token"];if(i!=null&&Date.now()*.001+10<parseInt(i.split("-")[0]))return i;
return null};a8.Sf=function(i){var C=window.locStor[a8.Et+"_token"];if(C!=null&&parseInt(i.split("-")[0])<parseInt(C.split("-")[0]))return;
window.locStor[a8.Et+"_token"]=i;clearTimeout(a8.XT);a8.XT=setTimeout(a8.aCh,Math.min(1e9,parseInt(i.split("-")[0])*1e3-Date.now()-20*1e3))};
a8.yI=function(i,C,m,e){if(!navigator.onLine)throw"a";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=m;var L=a8.SP(0)+"&read=3&tuid="+i+"&tid="+C;if(e)L+="&tpl="+encodeURIComponent(e);z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(L)};a8.aCh=function(){if(!navigator.onLine)throw"a";var i=new XMLHttpRequest;i.open("POST","https://www.photopea.com/papi/record_new.php",!0);
i.onload=a8.apW;var C=a8.SP(0)+"&read=2";i.setRequestHeader("Content-type","application/x-www-form-urlencoded");
i.send(C)};a8.MI=function(){if(!navigator.onLine)throw"b";var i=new XMLHttpRequest;i.open("POST","https://www.photopea.com/papi/record_new.php",!0);
i.onload=a8.a9R;var C=a8.SP(0)+"&read=1";i.setRequestHeader("Content-type","application/x-www-form-urlencoded");
i.send(C)};a8.tI=function(i){if(!navigator.onLine)throw"c";var C=new XMLHttpRequest;C.open("POST","https://www.photopea.com/papi/record_new.php",!0);
C.onload=a8.aiw;var m=a8.SP(0)+"&read=0&score="+(i.tpl?1:0)+"&spublic="+a8.tm+"&record="+encodeURIComponent(JSON.stringify(i));
C.setRequestHeader("Content-type","application/x-www-form-urlencoded");C.send(m)};a8.a9R=function(i){var C=JSON.parse(i.target.response);
if(C.error){}else{a8.GW=C.user;var m=a8.fQ(),e=C.record;if(C.record){a8.tm=C.spublic;a8.NL(e)}else if(m)a8.tI(m)}a8.Sf(C.token);
if(a8.aB){a8.aB();a8.aB=null}if(a8.hL){a8.hL();a8.hL=null}};a8.apW=function(i){var C=JSON.parse(i.target.response);
a8.Sf(C.token)};a8.aiw=function(i){var C=JSON.parse(i.target.response);a8.Sf(C.token);if(a8.hL)a8.MI()};
a8.SP=function(i){return"app="+i+"&uid="+window.locStor[a8.Et+"_uid"]+"&token="+window.locStor[a8.Et+"_token"]};
a8.h0=function(){return a8.fQ()};a8.Z1=function(i,C){a8.NL(i);a8.kE=!0;if(C){a8.hL=C;a8.oS()}};a8.fQ=function(){var i=window.locStor[a8.Et+"_stateLocal"],C;
if(i==null)return null;try{C=JSON.parse(i)}catch(a8){return null}return C};a8.NL=function(i){var C=JSON.stringify(i);
window.locStor[a8.Et+"_stateLocal"]=C};a8.order=function(i,C,m){a8.aB=m;var e="https://www.photopea.com/papi/order.php?ptype="+C+"&param="+i+"&uid="+window.locStor[a8.Et+"_uid"]+"&token="+window.locStor[a8.Et+"_token"];
a8.zc=window.open(e,"_blank")};a8.anK=function(i,C){a8.aB=C;var m="https://www.photopea.com/papi/insertKey.php?key="+i+"&uid="+window.locStor[a8.Et+"_uid"]+"&token="+window.locStor[a8.Et+"_token"];
a8.zc=window.open(m,"_blank")};var bC={};bC.Ql=0;bC.GO={};bC.zf=function(i){var C=LNG.tables,m=C[i];
if(m==null)m=C[0];if(typeof m=="string"){m=C[i]=bC.VY(m)}return m};bC.VY=function(i){var C=[],m=0,e=0,z=[],L=i.length;
while(e!=L){var l=i[e];if(l=="["){C.push(z);z=[];e=m=e+1}else if(l=="]"){z.push(m==e?null:i.substring(m,e));
var x=z;z=C.pop();z.push(x);e=m=e+1}else if(l==";"){if(i[e-1]!="]")z.push(m==e?null:i.substring(m,e));
e=m=e+1}else e++}return z};bC.get=function(i){if(typeof i=="string")return i;var C=typeof i[0];if(C=="number"){for(var Y=1;
Y<i.length;Y++)if(typeof i[Y]!="number"){console.log(i);throw"e"}return bC.Wt(i)}var m=bC.get(i[0]);
for(var Y=1;Y<i.length;Y++){var e=bC.get(i[Y]),z=m.indexOf("VAR"+(Y-1));m=m.slice(0,z)+e+m.slice(z+4)}return m};
bC.Wt=function(i){var C=JSON.stringify(i);if(bC.GO[C]!=null)return bC.GO[C];var m=bC.zf(0),e=bC.zf(bC.Ql),z=bC.ZB(i,e);
if(z==null)z=bC.ZB(i,m);return z};bC.ZB=function(i,C){for(var Y=0;Y<i.length;Y++){C=C[i[Y]];if(C==null)return null;
else if(typeof C=="string")break}if(C instanceof Array)C=C[0];return C.split("::")[0]};bC.eC=function(){var i=navigator.languages;
for(var Y=0;Y<i.length;Y++)if(i[Y]=="zh-HK"||i[Y]=="zh-TW"||i[Y]=="zh-MO")i[Y]="zh-CHT";return i};bC.ajH=function(){var i=bC.eC(),C=function(e,z){var L=e.code,l=z.code;
if(L=="en")return-1;if(l=="en")return 1;var x=i.indexOf(L)!=-1,S=i.indexOf(l)!=-1;if(x&&S)return L>l?1:-1;
if(x)return-1;if(S)return 1;return L>l?1:-1},m=LNG.langs.slice(0);m.sort(C);return m};bC.xa=function(i,C){bC.Ql=i;
if(LNG.tables[i])C();else{var m=new XMLHttpRequest;m.open("GET","code/lang/"+i+".js");m.onreadystatechange=function(){LNG.tables[i]=m.responseText;
C()};m.send()}};bC.Cy=function(i,C){for(var m=0;m<2;m++){var e=!1;for(var Y=0;Y<LNG.langs.length;Y++)if(LNG.langs[Y].code==i){bC.xa(Y,C);
e=!0}if(e)break;i=i.split("-")[0]}};bC.dx=function(){return LNG.langs[bC.Ql].code};bC.a8k=function(i){for(var Y=0;
Y<i.length;Y+=2)if(i[Y+1].indexOf(">")==-1)bC.GO[JSON.stringify(i[Y])]=i[Y+1]};bC.aft=function(i){var C=-1,m=LNG.langs;
for(var Y=0;Y<m.length;Y++)if(m[Y].code==i)C=Y;return C};var hQ={u5:!1,JW:!1,Ix:!1,Y0:null};hQ.Vk=function(){return d.aJ[ch.b0]!=d.aJ[ch.al$]};
hQ.qN=function(){var i=d.aJ[ch.qh],C=i[ch.oU],m=0,e=ch.$B,z=d.wq("PP\\KQSB"),L=d.wq("Y_5UDDB>idge"),l=i[ch._J](ch.Hb);
l[e](ch.E4,z);l[e](ch.W5,d.wq("fUMZKyqifDIhJ0*+&$-OG?<y~>"));C[ch.Dj](l);l=i[ch.ays](z);if(l==null){m=2}else{if(!C[d.wq("R[WZDIKM")](l)){m=3}else if(Math.round(l[d.wq("VQ](RUK>@B8p71*03m}x'")]()[ch.Ng]-500)>5){m=4}C[ch.Mh](l)}if(hQ.JW)m=5;
if(hQ.Ix)m=6;return m};hQ.aAI=function(i){var C=d.cF("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),m={method:"HEAD",mode:"no-cors"},e=new Request(C,m);
fetch(e).then(function(z){return z}).then(function(z){var L=d.cF("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),e=new Request(L);
fetch(e).then(function(z){z.text().then(function(l){i(l.length<2200)})}).catch(function(l){hQ.JW=!0;
console.clear();i(!0)})}).catch(function(z){hQ.JW=!0;console.clear();i(!0)})};hQ.avm=function(){var i=d.wq("UU[YW#ECC8"),C=d.wq("VQ](RUK>@B8p71*03m}x'"),m=d.wq("WQRMKT"),e=this.an$[i][C]();
if(e[m]<4){hQ.Ix=!0;this.afN(!0)}};hQ.aq6=function(){var i=d.aJ._cwY,C=d.aJ[ch.Ru],m="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",e=String.fromCharCode(32);
i(d.wq(m)+e+e+hQ.qN());if(!a8.md())C(hQ.aq6,Math.round(Math.PI*1e4))};hQ.Zu=function(i){var C=d.aJ[ch.qh],m=C[ch._J](i[0]);
for(var e in i[1]){if(e=="txt")m[ch.yF]=i[1][e];else m[ch.$B](e,i[1][e])}return m};hQ.alW=function(i,C,m,e){d._l(m);
var z=d.aJ[ch.qh],L=d.cF(" u.$%\"86<"),l=d.cF("!#c$,&"),x=d.aJ[L][l],S=d.aJ[d.cF(" u.$%\"86<")][d.cF("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!hQ.Vk()&&!hQ.qN()&&x&&i*C>300*300&&!S){var k=z[d.wq("VQ]+OEJ?EHDoD{&)l|&z")](ch.GC)[0],f=JSON.parse(d.cF("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var Y=0;Y<f.length;Y++){var X=hQ.Zu(f[f.length-1-Y]);k[ch.awc](X,k[ch.asH])}var o=d.cF("p}&$2a(:"),A=d.cF("'#!}i0%+"),P=d.cF("ps,}$\"40"),F=d.aJ.__cbu=hQ.Zu(JSON.parse(ch.wq("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
m[ch.Dj](F);d.aJ.___ggo=function(){d.aJ[P](ch.cM,2,function(R,Q){if(Q&&R[A]==!0){d.aJ.__csrf=null;if(!d.aJ[o]){d.aJ[o]=!0;
var s=hQ.arA.bind({j8:m,head:k,bB:C});s()}}else{d.aJ.__csrf=!0}})}}else{var n=hQ.a9A.bind({an$:m,azr:e,bB:C});
n();setInterval(n,3e4)}};hQ.axM="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
hQ.a9A=function(){var i=d.aJ[ch.qh],C=this.an$,m=this.azr,e=hQ.Y0,z=this.bB;d._l(C);var L=d.aJ[ch.cF(" u.$%\"86<")][ch.cF("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,l=e==1?1:hQ.a6G(z),x=JSON.parse(ch.wq(hQ.axM)),S=i[ch._J]("a");
S.textContent=ch.wq("0PhHOO@E@B8M/-9'\"0}y");S[ch.$B](ch.Yg,ch.wq("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
S[ch.$B](ch.C6,ch.cF("pv${,,"));S[ch.$B](ch.W5,ch.wq("R[UUUyTB@H6h"));if(!L)C[ch.Dj](S);for(var Y=0;
Y<l;Y++){var k=Math.random(),f=0,X=0;while(f+x[X][0]<k){f+=x[X][0];X++}if(X==2&&Date.now()>1665160336190)X=0;
if(L)X=1;var o=x[X],A=i[ch._J](ch.W1);A[ch.$B](ch.W5,ch.wq("Ra[YRRvJF=?B0:_")+ch.wq(e==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
A[ch.$B](ch.gN,o[e]);if(o.length>3){var P=o[3]+o[3+e],S=i[ch._J]("a");S[ch.$B](ch.Yg,P);S[ch.$B](ch.C6,ch.cF("pv${,,"));
S[ch.Dj](A);C[ch.Dj](S)}else{A[ch.cM](ch.xW,m,!1);C[ch.Dj](A)}}};hQ.a6G=function(i){var C=2;if(i>=3*270+30)C=3;
if(i>=4*270+30)C=4;return C};hQ.anS=function(i,C){C-=30;var m=[];if(i==1){m.push(1);C-=600+10;if(C-250>0){m.push(0);
C-=250}}if(i==2){if(C-260>0){m.push(2);C-=260}if(C-260>0){m.push(3);C-=260}if(C-260>0){m.push(4);C-=260}if(C-260>0){m.push(5);
C-=260}if(C-260>0){m.push(6);C-=260}if(C-110>0){m.push(7);C-=110}if(C-60>0){m.push(8);C-=60}}return m};
hQ.arA=function(){var i=ch.Dj,C=ch.$B,m=ch.cM,e=ch.Lv,z=ch.W5,L=ch.gN,l=d.wq("P_bTF"),x=ch.yF,S=ch.K_,k=d.aJ[ch.qh],f=ch._J,X=ch.Sa,o=d.aJ.__cbu,A=this.j8,P=hQ.Y0,F=this.head,n=this.bB,R=d.cF("~u*\"'/P)9ADBCrlnR]"),Q=[.1,.9],s=Math.random(),j=0;
while(Q[j]<s&&j<Q.length-1){s-=Q[j];j++}var _=hQ.anS(P,n);if(j==0){console.log(0);if(!hQ.u5){hQ.u5=!0;
for(var Y=0;Y<2;Y++){var B=k[ch._J](ch.Sa),N=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][Y];
B[ch.$B](ch.gN,ch.cF(N));B[ch.$B](ch.ZS,"");F[ch.Dj](B)}var a=JSON.parse(ch.cF("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPE$UNG<D=KVoLWZU]Yk[d @&!u}v%0I&14/73E5>YY\\baLYS,tSX{<$'*t #}&\"4$-V/<6bHPQIkM_[Sg_hj'+%$+%r'7+~]+694<8J:ClRZJLRd{ 5|\"/(ym=v~,|!.*p97E=8F)ODJpt*qeY)coeivrc|%!)%t+:A4EI_cx`THwP__bZlrgJu{#+X!11HLaI4?B=EASCLuP\\RVc_Peu|rot&=AV>ABPeO\\/XNBXWrJXXYc2^coxl|H(|z.%YS[X<Gl==DEIX! | cn4}+$ym$#>u$$%/]*/;D8HsSHFYP%!!$gr8mlt6tt{|!0XSYW;FkU47")),O=a[2]+"\n";
for(var Y=0;Y<_.length;Y++)O+=a[0][_[Y]]+"\n";var B=k[ch._J](ch.Sa);B[ch.yF]=O+a[3];F[ch.Dj](B);for(var Y=0;
Y<_.length;Y++){var H=k[ch._J](ch.Hb);H[ch.$B](ch.E4,a[1][_[Y]]);if(_[Y]!=0)H[ch.$B](ch.W5,a[4][P-1]);
H[ch.W5].marginBottom="10px";var B=k[ch._J](ch.Sa),O=ch.cF("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+a[1][Y]+"'); });";
B[ch.yF]=O;H[ch.Dj](B);A[ch.Dj](H)}}}else{console.log(1);var B=k[f](X);B[C](L,d.cF("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
B[C](ch.ZS,"");F[i](B);var q=JSON.parse(d.cF("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbA"));
for(var Y=0;Y<_.length;Y++){var H=k[f](d.wq("SU_"));H[C](ch.E4,q[_[Y]]);H[C](z,R);A[i](H)}}if(o)A[i](o)};
hQ.bI=function(i,C,m){clearInterval(hQ.Lk);hQ.KG=i;hQ.E4=m?m:"default";if(hQ.a9Y==null){hQ.a9Y=!0;var e=d.aJ[ch.qh],z=e[ch.oU],L=e[d.wq("VQ]+OEJ?EHDoD{&)l|&z")](ch.GC)[0],l=[1/12,1/12,10/12],x=Math.random(),S=0;
while(l[S]<x&&S<l.length-1){x-=l[S];S++}if(hQ.Y0!=0)S=2;hQ.ar6=S;console.log("===",S);if(S==0){var k=e[ch._J](ch.Hb);
k[ch.$B](ch.E4,"applixir_vanishing_div");k[ch.$B](ch.aDx,"");var f=e[ch._J](ch.K_);f[ch.$B](ch.E4,"applixir_parent");
k[ch.Dj](f);z[ch.Dj](k);k[ch.$B](ch.W5,"z-index:1000");var X=e[ch._J](ch.Sa);X[ch.$B](ch.gN,"//cdn.applixir.com/applixir.sdk3.0m.js");
z[ch.Dj](X)}else if(S==1||S==2){var X=e[ch._J](ch.Sa);X[ch.$B](ch.gN,"//www.googletagservices.com/tag/js/gpt.js");
L[ch.Dj](X);var X=e[ch._J](ch.Sa);X[ch.yF]="window.googletag = window.googletag || {cmd: []};";L[ch.Dj](X)}}if(C==null)C="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.";
var o=window.confirm(C);if(!o)return;hQ.Lk=setInterval(hQ.a6i,50)};hQ.a6i=function(){var i=hQ.ar6;if(i==0){if(window.invokeApplixirVideoUnit==null)return;
var C={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:hQ.a3d,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(C)}else if(i==1||i==2){var m={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg"}[hQ.E4];
if(i==1)m="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var e=window.googletag;if(e==null)return;
e.cmd.push(function(){var z=e.defineOutOfPageSlot(m,e.enums.OutOfPageFormat.REWARDED).addService(e.pubads());
e.enableServices();e.pubads().addEventListener("rewardedSlotReady",function(L){L.makeRewardedVisible()});
e.pubads().addEventListener("rewardedSlotGranted",function(){if(hQ.KG)hQ.KG();hQ.KG=null});e.display(z);
e.pubads().refresh([z])})}clearInterval(hQ.Lk)};hQ.a3d=function(i){if(i=="ad-watched")setTimeout(hQ.KG,100);
console.log(i)};var an={Dx:-2,s9:{expires_at:0},Si:[]};an.vl=function(i){if(i)an.Si.splice(0,0,i);if(an.Dx==-2){an.Dx=-1;
var C=document.createElement("script");C.src="//apis.google.com/js/client.js";document.body.appendChild(C);
C.onload=function(m){setTimeout(function(){an.Dx=0;an.vl()},100)}}if(an.Dx==-1)return;if(an.Dx==1)return;
if(an.s9.expires_at>Date.now()*.001+30){while(an.Si.length>0)an.Si.pop()()}else{if(an.Dx==0)an.Dx=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:an.Dx==2?!1:!0},an.ahz)})}};
an.ahz=function(i){if(i&&!i.error){an.s9=i;an.Dx=!1;an.vl()}else if(an.Dx==1){an.Dx=2;an.vl()}else alert("Error: "+i.error)};
an.LM=function(){return"access_token="+an.s9.access_token+"&token_type="+an.s9.token_type};an.wQ=function(){return an.s9.token_type+" "+an.s9.access_token};
function b5(i,C){if(!i)i=0;if(!C)C=0;this.x=i;this.y=C}b5.prototype.add=function(i){return new b5(this.x+i.x,this.y+i.y)};
b5.prototype.clone=function(){return new b5(this.x,this.y)};b5.prototype.q5=function(i){this.x=i.x;this.y=i.y};
b5.prototype.LJ=function(i){return this.x==i.x&&this.y==i.y};b5.prototype.normalize=function(i){var C=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=i/C;this.y*=i/C};b5.prototype.offset=function(i,C){this.x+=i;this.y+=C};b5.prototype.zy=function(i,C){this.x=i;
this.y=C};b5.prototype._3=function(i){return new b5(this.x-i.x,this.y-i.y)};b5.qM=function(i,C){return b5.ana(i.x,i.y,C.x,C.y)};
b5.U9=function(i,C,m){return new b5(i.x+m*(C.x-i.x),i.y+m*(C.y-i.y))};b5.acm=function(i,C){return new b5(i*Math.cos(C),i*Math.sin(C))};
b5.ana=function(i,C,m,e){return Math.sqrt((m-i)*(m-i)+(e-C)*(e-C))};b5.Gb={};b5.I$={};b5.Gb.create=function(){var i=new Float32Array(4);
return i};b5.I$.create=function(i){var C=new Float32Array(16);C[0]=C[5]=C[10]=C[15]=1;if(i)b5.I$.set(i,C);
return C};b5.Gb.add=function(i,C,m){m[0]=i[0]+C[0];m[1]=i[1]+C[1];m[2]=i[2]+C[2];m[3]=i[3]+C[3]};b5.Gb.set=function(i,C){C[0]=i[0];
C[1]=i[1];C[2]=i[2];C[3]=i[3]};b5.I$.set=function(i,C){C[0]=i[0];C[1]=i[1];C[2]=i[2];C[3]=i[3];C[4]=i[4];
C[5]=i[5];C[6]=i[6];C[7]=i[7];C[8]=i[8];C[9]=i[9];C[10]=i[10];C[11]=i[11];C[12]=i[12];C[13]=i[13];C[14]=i[14];
C[15]=i[15]};b5.I$.multiply=function(i,C,m){var e=i[0],z=i[1],L=i[2],l=i[3],x=i[4],S=i[5],k=i[6],f=i[7],X=i[8],o=i[9],A=i[10],P=i[11],F=i[12],n=i[13],R=i[14],Q=i[15],s=C[0],j=C[1],_=C[2],B=C[3];
m[0]=s*e+j*x+_*X+B*F;m[1]=s*z+j*S+_*o+B*n;m[2]=s*L+j*k+_*A+B*R;m[3]=s*l+j*f+_*P+B*Q;s=C[4];j=C[5];_=C[6];
B=C[7];m[4]=s*e+j*x+_*X+B*F;m[5]=s*z+j*S+_*o+B*n;m[6]=s*L+j*k+_*A+B*R;m[7]=s*l+j*f+_*P+B*Q;s=C[8];j=C[9];
_=C[10];B=C[11];m[8]=s*e+j*x+_*X+B*F;m[9]=s*z+j*S+_*o+B*n;m[10]=s*L+j*k+_*A+B*R;m[11]=s*l+j*f+_*P+B*Q;
s=C[12];j=C[13];_=C[14];B=C[15];m[12]=s*e+j*x+_*X+B*F;m[13]=s*z+j*S+_*o+B*n;m[14]=s*L+j*k+_*A+B*R;m[15]=s*l+j*f+_*P+B*Q;
return m};b5.I$.inverse=function(i,C){var m=i[0],e=i[1],z=i[2],L=i[3],l=i[4],x=i[5],S=i[6],k=i[7],f=i[8],X=i[9],o=i[10],A=i[11],P=i[12],F=i[13],n=i[14],R=i[15],Q=m*x-e*l,s=m*S-z*l,j=m*k-L*l,_=e*S-z*x,B=e*k-L*x,N=z*k-L*S,a=f*F-X*P,O=f*n-o*P,H=f*R-A*P,q=X*n-o*F,h=X*R-A*F,D=o*R-A*n,T=Q*D-s*h+j*q+_*H-B*O+N*a;
if(!T){return null}T=1/T;C[0]=(x*D-S*h+k*q)*T;C[1]=(z*h-e*D-L*q)*T;C[2]=(F*N-n*B+R*_)*T;C[3]=(o*B-X*N-A*_)*T;
C[4]=(S*H-l*D-k*O)*T;C[5]=(m*D-z*H+L*O)*T;C[6]=(n*j-P*N-R*s)*T;C[7]=(f*N-o*j+A*s)*T;C[8]=(l*h-x*H+k*a)*T;
C[9]=(e*H-m*h-L*a)*T;C[10]=(P*B-F*j+R*Q)*T;C[11]=(X*j-f*B-A*Q)*T;C[12]=(x*O-l*q-S*a)*T;C[13]=(m*q-e*O+z*a)*T;
C[14]=(F*s-P*_-n*Q)*T;C[15]=(f*_-X*s+o*Q)*T;return C};b5.I$.aC9=function(i,C,m){var e=C[0],z=C[1];m[0]=e*i[0]+z*i[4]+i[12];
m[1]=e*i[1]+z*i[5]+i[13]};b5.I$.a50=function(i,C,m){var e=C[0],z=C[1],L=C[2],l=C[3];m[0]=i[0]*e+i[4]*z+i[8]*L+i[12]*l;
m[1]=i[1]*e+i[5]*z+i[9]*L+i[13]*l;m[2]=i[2]*e+i[6]*z+i[10]*L+i[14]*l;m[3]=i[3]*e+i[7]*z+i[11]*L+i[15]*l};
function j2(i,C,m,e){if(!i)i=0;if(!C)C=0;if(!m)m=0;if(!e)e=0;this.x=i;this.y=C;this.m=m;this.J=e}j2.prototype.P=function(){return this.m*this.J};
j2.prototype.clone=function(){return new j2(this.x,this.y,this.m,this.J)};j2.prototype.contains=function(i,C){return i>=this.x&&i<=this.x+this.m&&(C>=this.y&&C<=this.y+this.J)};
j2.prototype.Xp=function(i){return this.contains(i.x,i.y)};j2.prototype.Y4=function(i){return this.x<=i.x&&this.y<=i.y&&i.x+i.m<=this.x+this.m&&i.y+i.J<=this.y+this.J};
j2.prototype.q5=function(i){this.x=i.x;this.y=i.y;this.m=i.m;this.J=i.J};j2.prototype.LJ=function(i){return this.x==i.x&&this.y==i.y&&this.m==i.m&&this.J==i.J};
j2.prototype.sW=function(i,C){this.x-=i;this.y-=C;this.m+=2*i;this.J+=2*C};j2.prototype.alx=function(i){this.sW(i.x,i.y)};
j2.prototype.G_=function(i){var C=Math.max(this.x,i.x),m=Math.max(this.y,i.y),e=Math.min(this.x+this.m,i.x+i.m),z=Math.min(this.y+this.J,i.y+i.J);
if(e<C||z<m)return new j2;else return new j2(C,m,e-C,z-m)};j2.prototype.EI=function(i){if(i.y+i.J<this.y||i.x>this.x+this.m||i.y>this.y+this.J||i.x+i.m<this.x)return!1;
return!0};j2.prototype.bs=function(){return this.m<=0||this.J<=0};j2.prototype.offset=function(i,C){this.x+=i;
this.y+=C};j2.prototype.gt=function(i){this.offset(i.x,i.y)};j2.prototype.ayn=function(){this.x=this.y=this.m=this.J=0};
j2.prototype.zy=function(i,C,m,e){this.x=i;this.y=C;this.m=m;this.J=e};j2.prototype.Z0=function(i){if(this.bs())return i.clone();
if(i.bs())return this.clone();var C=this.clone();C.a0s(i);return C};j2.Sr=new Float32Array(2);j2.prototype.a0s=function(i){if(i.bs())return;
if(this.bs()){this.q5(i);return}this.ha(i.x,i.y);this.ha(i.x+i.m,i.y+i.J)};j2.prototype.ha=function(i,C){var m=Math.min(this.x,i),e=Math.min(this.y,C);
this.m=Math.max(this.x+this.m,i)-m;this.J=Math.max(this.y+this.J,C)-e;this.x=m;this.y=e};j2.prototype.aoH=function(i,C){this.x=i;
this.y=C;this.m=this.J=0};function hN(i,C,m,e,z,L){if(typeof i==="undefined"){i=1;C=0;m=0;e=1;z=0;L=0}this.W=i;
this.e=C;this.xF=m;this.o6=e;this.W_=z;this.Rj=L}hN.prototype.je=function(){return Math.sqrt(Math.abs(this.W*this.o6-this.e*this.xF))};
hN.prototype.a1I=function(){var i=this,C=function(m){return Math.abs(m)<1e-9?0:m};i.W=C(i.W);i.e=C(i.e);
i.xF=C(i.xF);i.o6=C(i.o6);i.W_=C(i.W_);i.Rj=C(i.Rj)};hN.prototype.M$=function(i){return new b5(i.x*this.W+i.y*this.xF+this.W_,i.x*this.e+i.y*this.o6+this.Rj)};
hN.prototype.translate=function(i,C){this.W_+=i;this.Rj+=C};hN.prototype.rotate=function(i){var C=new hN(Math.cos(i),-Math.sin(i),Math.sin(i),Math.cos(i),0,0);
this.concat(C)};hN.prototype.scale=function(i,C){var m=new hN(i,0,0,C,0,0);this.concat(m)};hN.prototype.concat=function(i){this.q5(new hN(this.W*i.W+this.e*i.xF,this.W*i.e+this.e*i.o6,this.xF*i.W+this.o6*i.xF,this.xF*i.e+this.o6*i.o6,this.W_*i.W+this.Rj*i.xF+i.W_,this.W_*i.e+this.Rj*i.o6+i.Rj))};
hN.prototype.Fb=function(){var i=this.W*this.o6-this.e*this.xF;this.q5(new hN(this.o6/i,-this.e/i,-this.xF/i,this.W/i,(this.xF*this.Rj-this.o6*this.W_)/i,(this.e*this.W_-this.W*this.Rj)/i))};
hN.prototype.clone=function(){return new hN(this.W,this.e,this.xF,this.o6,this.W_,this.Rj)};hN.prototype.q5=function(i){this.W=i.W;
this.e=i.e;this.xF=i.xF;this.o6=i.o6;this.W_=i.W_;this.Rj=i.Rj};function i$(){}i$.CM={atX:"PNG JPG SVG GIF MP4 PDF".split(" "),a5C:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
i$.Xa=function(i,C){var m=i.memory.buffer.byteLength;if(m<C)i.memory.grow((C-m>>>16)+1)};i$.Nf={LP:function(i,C){fetch(i).then(function(m){return m.arrayBuffer()}).then(function(m){var e=new Uint8Array(m),z=0,S="";
if(C){z=e.length;var L={level:9},l=pako.deflateRaw(e,L),x=UZIP.deflateRaw(e,L);console.log(z,l.length,x.length);
e=l.length<x.length?l:x}for(var Y=0;Y<e.length;Y++)S+=String.fromCharCode(e[Y]);var k=btoa(S);console.log(JSON.stringify([z,k]))})},get:function(i,C){var m=BINDB[i],e=Date.now(),z=atob(m[1]),L=z.length,l=new Uint8Array(L);
for(var Y=0;Y<L;Y++)l[Y]=z.charCodeAt(Y);if(m[0]!=0){var x=new Uint8Array(m[0]);UZIP.inflateRaw(l,x);
l=x}if(C){var S=i$.ra(l.buffer);l=i$.AL(S).pX(l.buffer)}return l}};i$.ra=function(i){if(!(i instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var C=new Uint8Array(i),m=i$.CK,e,z=0,L=C.length-1;
if(m(C,[239,187,191]))z=3;while(z<C.length&&(C[z]==9||C[z]==10||C[z]==13||C[z]==32))z++;while(L!=0&&(C[L]==9||C[L]==10||C[L]==13||C[L]==32))L--;
if(m(C,[56,66,80,83]))e="psd";if(m(C,[6,6,237,245]))e="indd";if(m(C,[68,73,67,77],128))e="dcm";if(m(C,[102,116,121,112,109,105,102,49],4)||m(C,[102,116,121,112,97,118,105,102],4))e="avif";
if(m(C,[102,116,121,112,105,115,111,109],4))e="mp4";if(m(C,[102,116,121,112,109,112,52,50],4))e="mp4";
if(m(C,[102,116,121,112,113,116,32,32],4))e="mp4";if(m(C,[102,116,121,112,99,114,120,32],4))e="cr3";
if(m(C,[0,255,75,65]))e="afphoto";if(m(C,[67,83,70,67,72,85,78,75]))e="clip";if(m(C,[70,82,65,67]))e="frac";
if(m(C,[120]))e="pxd";if(m(C,[80,68,78,51]))e="pdn";if(m(C,[103,105,109,112,32,120,99,102,32]))e="xcf";
if(m(C,[102,105,103,45,107,105,119,105]))e="fig";if(m(C,[105,99,110,115]))e="icns";if(m(C,[137,80,78,71,13,10,26,10])){e="png";
var l=8;while(l<C.length){var x=W.Q(C,l);l+=4;var S=W.Sq(C,l,4);l+=4;if(S=="mkTS")e="fpng";l+=x+4}}if(m(C,[87,76]))e="cdr";
if(m(C,[82,73,70,70])){var k=bF.uU(C),f=k.nU;if(f=="WEBP")e="webp";else if(f.slice(0,3)=="CDR")e="cdr";
else e=f}if(m(C,[70,79,82,77])||m(C,[70,79,82,52])||m(C,[76,73,83,84])||m(C,[67,65,84,32])){var k=dg.uU(C),f=k.nU;
if(f=="ILBM"||f=="CIMG"||f=="ANIM")e="ilbm";else e=f}if(m(C,[255,216,255]))e="jpg";if(m(C,[0,0,0,12,106,80,32,32]))e="jpg";
if(m(C,[48,0,1,0],4))e="jb2";if(m(C,[71,73,70,56]))e="gif";if(m(C,[0,0,0,2,121,102,113,76]))e="msh";
if(m(C,[0,0,0,3,121,102,113,76]))e="msh";if(m(C,[0,0,0,16]))e="atn";if(m(C,[0,1]))e="aco";if(m(C,[0,2]))e="aco";
if(m(C,[65,83,69,70]))e="aco";if([0,1].indexOf(C[1])!=-1&&[1,2,3,9,10,11].indexOf(C[2])!=-1&&[0,16,24,32].indexOf(C[7])!=-1)e="tga";
if(m(C,[0,2,56,66,83,76]))e="asl";if(m(C,[0,1,0,-1,0,2,0]))e="abr";if(m(C,[0,2,0,-1,0,2,0]))e="abr";
if(m(C,[0,6,0,1]))e="abr";if(m(C,[0,6,0,2]))e="abr";if(m(C,[0,7,0,2]))e="abr";if(m(C,[0,9,0,2]))e="abr";
if(m(C,[0,10,0,2]))e="abr";if(m(C,[56,66,70,83]))e="shc";if(m(C,[56,66,80,84]))e="pat";if(m(C,[56,66,71,82]))e="grd";
if(m(C,[71,73,77,80,32,71,114,97]))e="grd";if(m(C,[56,66,84,80]))e="tpl";if(m(C,[0,4,0,5]))e="acv";if(m(C,[99,117,115,104]))e="csh";
if(m(C,[0,1,0,0,0]))e="otf";if(m(C,[79,84,84,79]))e="otf";if(m(C,[116,116,99,102]))e="otf";if(m(C,[68,68,83,32]))e="dds";
if(m(C,[80,86,82,3]))e="pvr";if(m(C,[86,84,70,0]))e="vtf";if(m(C,[83,73,77,80]))e="fits";if((m(C,[0,0,1,0])||m(C,[0,0,2,0]))&&C[4]!=0)e="ico";
if(m(C,[66,77]))e="bmp";if(m(C,[40,0,0,0]))e="bmp";if(m(C,[80,49]))e="ppm";if(m(C,[80,50]))e="ppm";if(m(C,[80,51]))e="ppm";
if(m(C,[80,52]))e="ppm";if(m(C,[80,53]))e="ppm";if(m(C,[80,54]))e="ppm";if(m(C,[73,73,42,0]))e="tiff";
if(m(C,[77,77,0,42]))e="tiff";if(m(C,[73,73,85,0]))e="tiff";if(m(C,[73,73,82,83]))e="tiff";if(m(C,[73,73,82,79]))e="tiff";
if(m(C,[70,85,74,73,70,73,76,77]))e="raf";if(m(C,[112]))e="lif";if(m(C,[73,73,26,0]))e="ciff";if(m(C,[83,81,76,105]))e="sketch";
if(m(C,[80,75])){var X=UZIP.parse(i,!0);if(X["document.json"])e="sketch";else if(X.manifest)e="xd";else if(X["maindoc.xml"])e="kra";
else if(X["content/root.dat"])e="cdr";else if(X["canvas.fig"])e="fig";else if(X["manifest.json"])e="pxz";
else e="zip"}if(m(C,[123]))e="json";if(W.Q(C,0)==C.length)e="icc";if(m(C,[35]))e="icc";if(m(C,[84,73,84,76],z))e="icc";
if(m(C,[76,85,84,95],z))e="icc";if(m(C,[60,63,120,109],z)){if(W.Fo(C,"<look>")!=-1)e="icc";else e="svg"}if(m(C,[255,254,60,0],z))e="svg";
if(m(C,[60,115,118,103],z))e="svg";if(m(C,[60,33,100,111],z)||m(C,[60,33,68,79],z)||m(C,[60,33,45,45],z)){if(W.Fo(C,"<svg")!=-1)e="svg";
else e="html"}if(m(C,[37,33])||m(C,[197,208,211,198])){if(W.Fo(C,"%AI9_PrivateDataBegin")!=-1||W.Fo(C,"%AI5_BeginLayer")!=-1)e="ai";
else e="eps"}if(m(C,[37,80,68,70],z)){var o=W.Fo(C,"/AIMetaData ");if(o!=-1){if(W.Fo(C,">>/Encrypt ",o)!=-1)e="pdf";
else e="ai"}else e="pdf"}else if(m(C,[10,69,79,70],L-3))e="dxf";if(m(C,[1,0,9,0]))e="wmf";if(m(C,[215,205,198,154]))e="wmf";
if(m(C,[1,0,0,0]))e="emf";if(m(C,[118,47,49,1]))e="exr";if(m(C,[10,10,10,10]))e="jsx";if(m(C,[77,90]))e="exe";
if(e==null&&I.raw.oP(C.length)!=null)return"tiff";return e};i$.CK=function(i,C,m){if(m==null)m=0;for(var Y=0;
Y<C.length;Y++)if(C[Y]!=-1&&i[m+Y]!=C[Y])return!1;return!0};i$.AL=function(i){var C={BMP:i$.ayw,CDR:i$.EU,DDS:i$.HF,EMF:i$.sx,DXF:i$.FQ,EPS:i$.wR,FIG:i$.wt,FPNG:i$.f8,INDD:i$.ar,GIF:i$.Vg,ICO:i$.zY,ILBM:i$.Xj,FITS:i$.adM,EXR:i$.at5,JPG:i$.w6,LIF:i$.Jp,DCM:i$.ae3,PDF:i$.Fx,PDN:i$.w_,PNG:i$.Os,ICNS:i$.uq,PPM:i$.pf,PSD:i$.f6,PXD:i$.zL,PXZ:i$.IE,RAF:i$.Te,CR3:i$.iV,RAW:i$.ad,SKETCH:i$.Sd,SVG:i$.RN,TGA:i$.hp,AVIF:i$.axv,TIFF:i$.XY,VTF:i$.si,WEBP:i$.ly,WMF:i$.vj,XCF:i$.eJ,XD:i$.Mz,KRA:i$.Iy,EXE:i$.alv,AI:i$.vD,AFPHOTO:i$.we,CLIP:i$.Xq,FRAC:i$.do,MP4:i$.alI};
return C[i.toUpperCase()]};i$.am=function(Y){var i=i$.CM.atX,C=i$.CM.a5C,m,e=[];if(Y==null)m=i.concat(C);
else m=Y==0?i:C;for(var Y=0;Y<m.length;Y++)if(i$.AL(m[Y]).B3)e.push(m[Y]);return e};i$.ajj=function(){var i;
function C(e){var z=e.target,L=z.width,l=z.height,x=document.createElement("canvas");x.width=L;x.height=l;
var S=x.getContext("2d");S.drawImage(z,0,0);i({Jw:new j2(0,0,L,l),data:S.getImageData(0,0,L,l).data.buffer})}function m(e,z,L){i=L;
var l=document.createElement("img");l.onload=C;l.src="data:"+z+";base64,"+i$.m7(e)}return m}();i$.aH=function(i,C,m,e,z){var L=i$.yt(i,C,m,e,z),l=i$.oR(L);
return l.buffer};i$.oR=function(i){var C=atob(i.split(",").pop()),m=new Uint8Array(C.length);for(var Y=0;
Y<C.length;Y++)m[Y]=C.charCodeAt(Y);return m};i$.yt=function(i,C,m,e,z,L){if(!(i instanceof ArrayBuffer))throw"e";
if(e==null)e="png";if(e=="png"&&L==!0){var l=i$.AL("PNG").B3([[i,0]],C,m);return"data:image/png;base64,"+i$.m7(l)}var x=i$.aU;
if(x==null)x=i$.aU=document.createElement("canvas");if(x.width!=C||x.height!=m){x.width=C;x.height=m}var S=x.getContext("2d"),k=new ImageData(new Uint8ClampedArray(i,0,C*m*4),C,m);
S.putImageData(k,0,0);return x.toDataURL("image/"+e,z)};i$.ail=function(i,C,m,e,z){if(z==null)z=0;var L="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",l="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+L+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(i==1)l+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
l+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+z+")\" xlink:href=\""+C+"\" x=\""+80*m+"\" y=\""+80*e+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var x=new Uint8Array(l.length);W.ab(l,x,0);var S="data:image/svg+xml;base64,"+i$.m7(x.buffer);return{FY:S,TD:new j2(0,0,128,128),YG:new b5(64,64)}};
i$.m7=function(i){var C=new Uint8Array(i),m="";for(var Y=0;Y<C.length;Y++)m+=String.fromCharCode(C[Y]);
return btoa(m)};i$.yk=function(i){var C=atob(i),m=C.length,e=new Uint8Array(m);for(var Y=0;Y<m;Y++)e[Y]=C.charCodeAt(Y);
return e.buffer};i$.pL=function(i){var C=[],m=[];for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y];if(e.getName().slice(0,3)=="_a_"){C.push(Y);
m.push(e.gF())}}return[C,m]};i$.Nn=function(i,C,m,e,z,L){if(m==null)m=i.m;if(e==null)e=i.J;var l=new j2(0,0,i.m,i.J),x=new hN(m/(i.m+.001),0,0,e/(i.J+.001),0,0),k;
C=C.toUpperCase();var S=i$.AL(C);if(S.yC){if(d4==0)i.I6();k=S.B3(i,m,e,z,L)}else if(d4==1){var f=i.aas(m,e,L);
k=S.B3([[f,0,i.lC,i.tr]],m,e,z)}else{if(z)z=z.slice(0);var X=i$.pL(i),o=X[0],A=X[1],P=i.Io(),F=P&&z?z.pop():!1,n=P&&!F?P[0]:null,R=null;
if(i.T3.length!=0){R=[];for(var Y=0;Y<i.T3.length;Y++)R.push(i.T3[Y].Hp(l))}if(o.length<2){var Q=i$.qO(i.I6(),P,F,i),s;
if(m==i.m&&e==i.J)s=Q.buffer;else{var j=$.V.eX([Q,l],x);s=j.buffer.buffer;if(R){var _=I.R(l.P()*4);for(var Y=0;
Y<R.length;Y++){I.uC(R[Y],_,3);var j=$.V.eX([_,l],x),B=R[Y]=I.R(j.rect.P());I.Ud(j.buffer,B,3)}}}k=S.B3([[s,0,i.lC,i.tr,R,n]],m,e,z)}else{var N=[];
for(var Y=0;Y<o.length;Y++){var a=o[Y],s;for(var O=0;O<o.length;O++)i.M[o[O]].fJ(o[O]==a);i.JJ();i.Y();
i.um();if(m==i.m&&e==i.J)s=i.I6().buffer.slice(0);else{var j=$.V.eX([i.I6(),l],x);s=j.buffer.buffer}s=i$.qO(new Uint8Array(s),P,F,i).buffer;
var H=i.M[a].getName().split(",");N.push([s,H[1]?parseInt(H[1]):100,i.lC,i.tr,R,n])}for(var Y=0;Y<o.length;
Y++)i.M[o[Y]].fJ(A[Y]);i.Y();i.um();if(z){z.push(100);var q=z.length,h=z[q-3],D=z[q-2],T=z[q-5]/100,p=z[q-1]/100;
if(T!=1)for(var Y=0;Y<N.length;Y++)N[Y][1]=Math.round((N[Y][1]==0?16:N[Y][1])/T);if(p<1){var y=0,b=[],t=0,O=0;
for(var Y=0;Y<N.length;++Y){y+=N[Y][1];if(Y>0){b.push(b[b.length-1]+N[Y-1][1])}else{b.push(0)}}var g=p*N.length,u=y/g,V=[];
for(var Y=0;Y<g;++Y){var c=0;while(t>b[O]&&O+1<N.length){c+=N[O][1];++O}if(c!=0){var E=Math.round(Math.min(1,(b[O]-t)/N[O][1])*c);
V[V.length-1][1]+=c-E;if(N[O][1]<N[O-1][1]/2){V.push(N[O-1])}else{V.push(N[O])}V[V.length-1][1]=N[O][1]+E}else if(O<N.length){V.push(N[O])}t+=u;
++O}while(O<N.length){V[V.length-1][1]+=N[O][1];++O}N=V}if(h)N.reverse();if(D){var Z=N.slice(1,N.length-1);
Z.reverse();N=N.concat(Z)}}k=S.B3(N,m,e,z)}}return k};i$.qO=function(i,C,m,e){var z=e.AA();if(m){i=i.slice(0);
ICC.U.applyLUT(C[3],C[2],i,i)}else if(z&&e.add.fcmy==1){i=i.slice(0);ICC.U.applyLUT(z[e.add.fcmy==1?5:3],z[2],i,i)}return i};
i$.abR=function(i,C){var m=new Uint8Array(i.data),e=new Uint8Array(C.data),z=0,L=0;for(var l=0;l<m.length;
l+=4){var x=m[l]-e[l],S=m[l+1]-e[l+1],k=m[l+2]-e[l+2],f=m[l+3]-e[l+3],X=x*x+S*S+k*k+f*f>>>2;z+=X;if(X>25)L++}var o=L/i.Jw.P()<1e-4;
return o};i$.Jd=function(i,C){var m=C[0].CJ&&C[0].CJ.startsWith("_a_"),e;if(m&&!1){var z=0,L=C.length;
for(var Y=0;Y<C.length-1;Y++){var l=C[Y],x=C[Y+1],S=i$.abR(l,x);if(S){var k=parseFloat(l.CJ.split(",").pop()),f=parseFloat(x.CJ.split(",").pop());
l.CJ=l.CJ.split(",")[0]+","+Math.round(k+f);C.splice(Y+1,1);Y--;z++}}if(z!=0){alert("Deleted "+z+" frames out of "+L+".");
for(var Y=0;Y<C.length;Y++){var X=C[Y],o=X.CJ;X.CJ="_a_frm"+Y+","+o.split(",")[1]}}}var A=new ei(i+"."+["psd","ai"][d4]),P=new j2(0,0,1,1);
if(m){e=A.Sv();e.add.lsct=aU.AY;e.yY(i);e.fn="pass";e.de=24;e.fJ(!0);A.M.push(A.b$())}for(var Y=0;Y<C.length;
Y++){var F=C[Y];P=P.Z0(F.Jw);var n=A.Sv();n.fJ(Y==0);n.yY(C.length==1?"Background":"Layer "+Y);if(Y==0&&F.lC)A.lC=F.lC;
if(Y==0&&F.tr)A.tr=F.tr;if(F.CJ)n.yY(F.CJ);if(F.Ze)for(var R=0;R<F.Ze.length;R++){var Q=F.Ze[R],s=ei.ew(Q[0]);
s.add.vmsk.$=Q[1];I.o.Pa(Q[1],new hN(P.m,0,0,P.J,0,0));A.DI.push(s)}if(F.Nb)A.Nb=F.Nb;n.rect=F.Jw.clone();
n.buffer=new Uint8Array(F.data);if(Y==0&&F.H1)A.yg(F.H1);I.vA(n);A.M.push(n)}if(m)A.M.push(e);if(C[0].T3){for(var Y=0;
Y<C[0].T3.length;Y++){var j=new cc.o7;A.T3.push(j);j.rect=C[0].Jw.clone();j.channel=C[0].T3[Y]}}A.g=[m?A.M.length-1:0];
A.m=P.m;A.J=P.J;if(d4==0)A.buffer=I.R(P.P()*4);A.Y();return A};i$.ND=function(i,C,m){var e=i.length-m,z=new Uint8Array(e);
for(var Y=0;Y<C;Y++)z[Y]=i[Y];for(var Y=C;Y<e;Y++)z[Y]=i[Y+m];return z};i$.aif=function(i,C,m){var e=i.length,z=m.length,L=new Uint8Array(e+z);
for(var Y=0;Y<C;Y++)L[Y]=i[Y];for(var Y=C;Y<e;Y++)L[Y+z]=i[Y];L.set(m,C);return L};i$.avz=function(i,C,m,e,z,L,l,x,S){var k=new eX(v.E.v,!0);
k.f=$.Z9;k.data={d:"h_stepbck"};var f={};for(var X=1;X<m.length;X++){var o=i.g.slice(0),A=i$.Hu(i,S,C,m,e,X),P="img"+X,F=m[0].indexOf(l);
if(l!=""){if(F==-1)alert("Column "+l+" not found.");else P=m[X][F]}f[P+"."+z.toLowerCase()]=new Uint8Array(i$.Nn(i,z,null,null,L,x));
for(var Y=0;Y<A;Y++)S.T(k)}return UZIP.encode(f)};i$.Hu=function(i,C,m,e,z,L){var l=new eX(v.E.H,!0),f=0;
l.data={d:v.B._i};var x=new eX(v.E.v,!0);x.f=$.bH;x.data={d:cc.dt,JK:{buffer:null,rect:null}};var S=x.data.JK;
for(var X=0;X<m.length;X++){var o=m[X],A=o.trait,P=parseInt(o.docRef.slice(4,-2)),F=-1;for(var Y=0;Y<i.M.length;
Y++)if(i.M[Y].add.lyid==P)F=Y;if(F==-1)continue;var n=e[0].indexOf(o.varName);if(n==-1){alert("Column "+o.varName+" is missing");
return}var R=e[L][n],Q=i.M[F];i.g=[F];if(A=="textcontent"){l.data.QC="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(R)+";";
C.T(l);f++}if(A=="visibility"&&Q.gF()+""!=R.toLowerCase()){R=R.trim().toLowerCase();if(R!="true"&&R!="false")R=R==""?"false":"true";
l.data.QC="app.activeDocument.activeLayer.visible = "+R+";";C.T(l);f++}if(A=="fileref"){var s=R.split("/").pop(),j=null;
for(var k7 in z)if(k7.split("/").pop()==s)j=z[k7];if(j==null){alert("Image "+s+" is missing.")}else{var _=i$.AL(i$.ra(j.buffer)).pX(j.buffer)[0],B=_.Jw,N=Q.rect,q=0,h=0;
if(Q.add.SoLd){var a=$.V.dR(Q.add.SoLd.nonAffineTransform);N=I.C.Ve(a)}var O=N.m/N.J,H=B.m/B.J;if(O>H){h=N.J;
q=~~(h*H)}else{q=N.m;h=~~(q/H)}l.data.QC="app.activeDocument.activeLayer.visible = false;";C.T(l);f++;
var D=$.V.eX([new Uint8Array(_.data),B],new hN(q/B.m,0,0,h/B.J,0,0));S.rect=D.rect;S.buffer=D.buffer;
D.rect.x=N.x+(N.m-q>>>1);D.rect.y=N.y+(N.J-h>>>1);C.T(x);f++;var T=i.M[i.g[0]];T.opacity=Q.opacity;T.cy=Q.cy;
T.fn=Q.fn;T.X=Q.X}}}return f};i$.Os={};i$.Os.B3=function(i,C,m,e){if(e==null)e=[100,!1,0,0,0];var z={sRGB:1,loop:e[3]};
if(i[0][5]!=null){delete z.sRGB;z.iCCP=i[0][5]}if(i[0][2]!=null){var L=Math.round(i[0][2]*(1e4/254));
z.pHYs=[L,L,1]}var l=e[0],x=l==100?0:Math.max(2,Math.floor(l*5));if(x==5)x=4;var S=[],k=[];for(var Y=0;
Y<i.length;Y++){S.push(i[Y][0]);k.push(i[Y][1])}var f=UPNG.encode(S,C,m,x,k,z,e[1]);return f};i$.Os.a8g=function(i,C,m){return UPNG.encodeLL([i],C,m,3,1,8)};
i$.Os.pX=function(i){var C=Date.now(),m=UPNG.decode(i),e=UPNG.toRGBA8(m),z=m.width,L=m.height,l=0,x=m.tabs.iCCP;
if(m.tabs.pHYs)l=Math.round(m.tabs.pHYs[0]*254/1e4);if(e.length==1)return[{Jw:new j2(0,0,z,L),data:e[0],lC:l,H1:x}];
var S=[];for(var Y=0;Y<e.length;Y++){S.push({CJ:"_a_frm"+Y+","+m.frames[Y].delay,Jw:new j2(0,0,z,L),data:e[Y],lC:l,H1:x})}return S};
i$.pf={};i$.pf.B3=function(i,C,m,e){var z=new Uint8Array(i[0][0]),L=C*m,l=L*3,x="P6\n"+C+" "+m+"\n255\n",S=x.length,k=I.R(S+l,!0);
for(var Y=0;Y<S;Y++)k[Y]=x.charCodeAt(Y);for(var Y=0;Y<L;Y++){var f=Y*4,X=Y*3+S;k[X]=z[f];k[X+1]=z[f+1];
k[X+2]=z[f+2]}return k.buffer};i$.pf.pX=function(i){i=new Uint8Array(i);var C=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],m=0,e=String.fromCharCode(i[0])+String.fromCharCode(i[1]),z=[],L=0,l=e=="P1"||e=="P4"?2:3;
for(m=2;m<i.length;m++){var x=i[m],S=String.fromCharCode(x);if(x=="#".charCodeAt(0)){while(i[m]!="\n".charCodeAt(0))m++;
continue}var k=C.indexOf(x)!=-1;if(L==0&&!k){z.push(S);L=1;continue}if(L==1&&!k){z[z.length-1]+=S;continue}if(L==1&&k){L=0;
if(z.length==l)break;continue}}var f=parseInt(z[0]),X=parseInt(z[1]),o=f*X*4,A=e=="P1"||e=="P4"?1:255/parseInt(z[2]),P=I.R(o);
if(e=="P1"||e=="P2"||e=="P3"){var F="",n=0,L=0,R="#".charCodeAt(0);for(var Y=m;Y<i.length;Y++){var x=i[Y],S=String.fromCharCode(x),k=C.indexOf(x)!=-1;
if(x==R){while(i[Y]!="\n".charCodeAt(0))Y++}else if(L==0&&!k){F=S;L=1}else if(L==1){if(k){L=0;var Q=parseInt(F);
F="";if(e=="P1"){P[n]=P[n+1]=P[n+2]=(1-Q)*255;P[n+3]=255;n+=4}if(e=="P2"){P[n]=P[n+1]=P[n+2]=Math.round(Q*A);
P[n+3]=255;n+=4}if(e=="P3"){P[n]=Math.round(Q*A);n++;if((n&3)==3){P[n]=255;n++}}}else F+=S}}}var s=f*X;
if(e=="P4")for(var j=0;j<X;j++){var _=j*8*Math.ceil(f/8);for(var B=0;B<f;B++){var Y=_+B,N=i[m+1+(Y>>3)];
N=N>>7-(Y&7)&1;var a=j*f+B<<2;P[a]=P[a+1]=P[a+2]=(1-N)*255;P[a+3]=255}}if(e=="P5")for(var Y=0;Y<s;Y++){var a=4*Y;
P[a]=P[a+1]=P[a+2]=Math.round(i[m+1+Y]*A);P[a+3]=255}if(e=="P6")for(var Y=0;Y<s;Y++){var a=4*Y,O=m+1+3*Y;
P[a]=Math.round(i[O]*A);P[a+1]=Math.round(i[O+1]*A);P[a+2]=Math.round(i[O+2]*A);P[a+3]=255}return[{Jw:new j2(0,0,f,X),data:P.buffer}]};
i$.HF={};i$.HF.B3=function(i,C,m,e){if(e==null)e=[0,!0];if(typeof e[0]=="boolean")e[0]=0;var z=new Uint8Array(i[0][0]);
if(!I.Rz(z)&&i[0][4]){z=z.slice(0);I.uC(i[0][4][0],z,3)}var L=C&3,l=m&3;if(L!=0||l!=0){var x=C+(L==0?0:4-L),S=m+(l==0?0:4-l),k=new Uint8Array(x*S*4);
I.eS(k,4278190080);I.fF(z,new j2(0,0,C,m),k,new j2(0,0,x,S));z=k;C=x;m=S}var X=UTEX.DDS.encode(z.buffer,C,m,e);
if(!1){var o=UTEX.DDS.decode(X)[0],k=new Uint8Array(o.pC),A=0;for(var Y=0;Y<z.length;Y++){var P=z[Y]-k[Y];
A+=P*P}console.log(A)}return X};i$.HF.pX=function(i){var C=UTEX.DDS.decode(i)[0];return[{Jw:new j2(0,0,C.width,C.height),data:C.image}]};
i$.si={};i$.si.pX=function(i){var C=UTEX.VTF.decode(i).pop();return[{Jw:new j2(0,0,C.width,C.height),data:C.image}]};
i$.w6={};i$.w6.WC=null;i$.w6.a5H=function(i,C){var m=i$.w6.WC,e=i.byteLength,z=C.width,L=C.height,l=z*L,x=5e6+2*e+l*(C.progressive?Math.max(2,C.numComponents)*4+1:8),S=m.instance.exports;
i$.Xa(S,x);var k=new Uint8Array(S.memory.buffer),f=S.malloc(e);k.set(new Uint8Array(i),f);var X=S.malloc(4),o=S.malloc(4),k7=S.malloc(4),A=S.stbi_load_from_memory(f,e,X,o,k7,4);
S.free(f);S.free(X,o,k7);S.free(A);var P=k.slice(A,A+l*4);return P};(function(){var i=i$.Nf.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(i).then(function(C){i$.w6.WC=C})}());i$.w6.B3=function(i,C,m,e){if(e==null)e=[85];
var z=i[0],L=new Uint8Array(z[0]);if(I.Rz(L)){var l=new Uint8Array(L.length),x=new j2(0,0,C,m);I.eS(l,4294967295);
I.l.Qv("norm",L,x,l,x,x,1);L=l}var S=new Uint8Array(i$.aH(L.buffer,C,m,"jpeg",e[0]/100));if(S.length<2e4||z[5]){var k=W.Fo(S,[255,226]);
if(k!=-1){var f=W.vV(S,k+2);S=i$.ND(S,k,f+2)}}if(z[5]!=null){var X=4+W.vV(S,4),o=z[5].length+16,A=new Uint8Array(o+2);
A[0]=255;A[1]=226;W.$g(A,2,o);W.AW(A,4,"ICC_PROFILE");A[16]=A[17]=1;A.set(z[5],18);S=i$.aif(S,X,A)}if(z[2]!=null){var P=i$.w6.s0(S)[224][0]+2;
P+=9;S[P]=1;W.$g(S,P+1,z[2]);W.$g(S,P+3,z[2])}if(z[3]!=null&&e[1]==!0&&Object.keys(z[3]).length!=0){var F=0,n=0,R=0,Q=kB.Li(z[3]),s=new Uint8Array(UTIF.encode([Q])),j="http://ns.adobe.com/xap/1.0/",X=20;
F=4+6+s.length;var _=kB.P_(z[3]),B=W.x5(_);n=4+j.length+1+B.length;var N=kB.aA3(z[3]);if(N.length!=0){var a=0,q=0;
for(var Y=0;Y<N.length;Y++)a+=5+N[Y][1].length;var O=a+(a&1),H=I.R(14+4+4+4+O);W.AW(H,q,"Photoshop 3.0");
q+=14;W.AW(H,q,"8BIM");q+=4;H[q++]=4;H[q++]=4;q+=2;W.CA(H,q,a);q+=4;for(var Y=0;Y<N.length;Y++){var h=N[Y],D=h[1];
H[q++]=28;H[q++]=2;H[q++]=h[0];W.$g(H,q,D.length);q+=2;W.AW(H,q,D);q+=D.length}R=4+H.length}var T=F+n+R,p=new Uint8Array(S.length+T);
for(var Y=0;Y<20;Y++)p[Y]=S[Y];for(var Y=20;Y<S.length;Y++)p[Y+T]=S[Y];p[X]=255;p[X+1]=225;W.$g(p,X+2,F-2);
W.AW(p,X+4,"Exif");for(var Y=0;Y<s.length;Y++)p[X+10+Y]=s[Y];X+=F;p[X]=255;p[X+1]=225;W.$g(p,X+2,n-2);
W.AW(p,X+4,j);for(var Y=0;Y<B.length;Y++)p[X+4+j.length+1+Y]=B[Y];X+=n;if(R!=0){p[X]=255;p[X+1]=237;
W.$g(p,X+2,R-2);for(var Y=0;Y<H.length;Y++)p[X+4+Y]=H[Y];X+=R}S=p}return S.buffer};i$.w6.s0=function(i){var C=0,m=[],e=i.length;
while(C<e){while(i[C]!=255&&C<e)C++;while(i[C]==255)C++;if(C==e)break;var z=i[C];C++;if(m[z]==null)m[z]=[];
m[z].push(C-2);if(z==216)continue;if(z==217)break;if(224<=z&&z<=239||z==218||z==219||z==192||z==193||z==194||z==196||z==221||z==254){var L=W.vV(i,C);
C+=L;if(z==218)while(C<e&&(i[C]!=255||(i[C+1]==0||208<=i[C+1]&&i[C+1]<=215)))C++;continue}console.log("unknown marker ",z.toString(16),C);
break}if(m[217]==null){console.log("EOI marker missing");var l=i.length-2;i[l]=255;i[l+1]=217;m[217]=[l]}return m};
i$.w6.a6u=function(i){i=new Uint8Array(i);if(i[0]!=255)return i.buffer;var C=i$.w6.s0(i),m=i$.w6.lp(i,C);
if(m.numComponents!=4)return i.buffer;var e=m.width,z=m.height,L=i$.w6.Cb(i,C,!0);return i$.w6.B3([[L[0].data]],e,z,[85])};
i$.w6.lp=function(i,C){var m=(C[192]?C[192]:C[193]?C[193]:C[194])[0]+4,e={};e.progressive=C[194]!=null;
e.precision=i[m];m++;e.height=W.vV(i,m);m+=2;e.width=W.vV(i,m);m+=2;e.numComponents=i[m];m++;if(C[224]){var z=e.jfif={};
m=C[224][0]+2+2+5+2;z.densityUnits=i[m];m++;z.xDensity=W.vV(i,m);m+=2;z.yDensity=W.vV(i,m);m+=2}if(C[238]){var z=e.adobe={};
m=C[238][0]+2+2+6;z.version=i[m];m++;z.flags0=W.vV(i,m);m+=2;z.flags1=W.vV(i,m);m+=2;z.transform=i[m];
m++}return e};i$.w6.a8_=function(i,C,m){var e=C,z=W.vV(i,e);e+=2;var L=W.Sq(i,e,4);if(L=="Exif"){e+=6;
var l=i.slice(e,e+z-8),x;try{x=UTIF.decode(l.buffer,{parseMN:!1,debug:!1})}catch(a8){}if(x&&x.length!=0)m.exif=x}else if(L=="http"){var S=0;
while(i[e+S]!=0)S++;var k=W.Sq(i,e,S);e+=S+1;if(k=="http://ns.adobe.com/xmp/extension/"){var f=W.Sq(i,e,32);
e+=32;e+=8;var X=C+z-e;while(i[e+X-1]==0)X--;if(m.xmp_extn==null)m.xmp_extn="";try{m.xmp_extn+=W.U8(i,e,X)}catch(a8){}}else if(k=="http://ns.adobe.com/xap/1.0/"){var o=W.U8(i.slice(e,e+z-S-3));
if(o[0]=="?")o="<"+o;m.xmp=o}}else console.log(L)};i$.w6.Cb=function(i,C,m){var e=i$.w6.lp(i,C),z=e.width,L=e.height,l=z*L,x,S=-1,j=72,_,N,a=null;
if(e.adobe)S=e.adobe.transform;if(m||z*L>15e7||S==0||S==2||e.progressive){var k=new PDFJS.JpegImage;
k.parse(i);var f=k.getData({width:z,height:L,forceRGB:!0,isSourcePDF:m}),x=I.R(l*4);for(var Y=0;Y<l;
Y++){var X=Y<<2,o=X-Y;x[X]=f[o];x[X+1]=f[o+1];x[X+2]=f[o+2];x[X+3]=255}}else{x=i$.w6.a5H(i.buffer,e)}var A=C[225];
if(A)for(var Y=0;Y<A.length;Y++)i$.w6.a8_(i,A[Y]+2,e);var P=C[226];if(P){var F=P[0],n=W.vV(i,F+2),R=W.Sq(i,F+4,11);
if(R=="ICC_PROFILE"){var Q=W.Q(i,F+18);e.icc=i.slice(F+18,F+18+Q)}}var s=C[217][0]+2;if(s!=i.length)e.suffix=i.slice(s);
var B=[z,L,1,0,0,0,1,0];if(e.jfif&&e.jfif.densityUnits!=0){j=Math.round([72,1,2.54][e.jfif.densityUnits]*e.jfif.xDensity)}else if(e.exif&&e.exif[0].t282!=null){var O=e.exif[0].t282[0];
j=O[0]/O[1]}if(e.exif){var H=e.exif;_=kB.Ti(H[0]);var q=H[0].t274;if(q)q=q[0];if(q!=null&&q>1&&q<20)B=I.raw.aCl(q,z,L)}if(e.xmp){_=kB.ht(e.xmp,_)}if(e.icc)N=e.icc;
var h=C[237],D=[],T=[];if(h){var p=new Uint8Array(65536),y=0,F=0;for(var Y=0;Y<h.length;Y++){F=h[Y]+2;
var b=F+W.vV(i,F);F+=2;var g=F;while(i[F]!=0)F++;F++;var u=W.Sq(i,g,F-g-1),t=b-F;if(t<0)break;while(y+t>p.length){var V=new Uint8Array(p.length*2);
V.set(p);p=V}var c=new Uint8Array(i.buffer,F,t);p.set(c,y);y+=t}F=0;i=p;while(F<y){var E=W.Sq(i,F,4);
F+=4;var Z=W.vV(i,F);F+=2;var G=i[F++],J=W.Sq(i,F,G);F+=G;if((G&1)==0)F++;var n=W.Q(i,F);F+=4;var s=F+n+(n&1);
if(Z==1028){while(F+4<s){var K=i[F++],M=i[F++],U=i[F++],r=W.vV(i,F);F+=2;if(K==28&&M==2)D.push([U,W.Sq(i,F,r)]);
F+=r}}else if(Z==1032)a=gZ.avQ(i,F);else if((Z&2e3)==2e3){var dS=cV.Qc(i,F,n);T.push([J,dS])}else{}F=s}if(D.length!=0)_=kB.alb(D,_)}var w=[{Jw:new j2(0,0,z,L),data:x.buffer,lC:j,tr:_,H1:N,Ze:T.length==0?null:T,Nb:a}],_=e.xmp_extn;
if(_){var di=new DOMParser,eM=di.parseFromString(_,"image/svg+xml"),eM=eM.children[0].children[0].children[0],j5=[eM.getAttribute("GImage:Data"),eM.getAttribute("GDepth:Data")];
for(var Y=0;Y<j5.length;Y++)if(j5[Y]){var ds=atob(j5[Y]),ba=new Uint8Array(ds.length);W.AW(ba,0,ds);
ba=ba.buffer;var gH=i$.ra(ba),ir=i$.AL(gH).pX(ba);w.push(ir[0])}}if(e.suffix){var iP=e.suffix,iy=!1,iG=W.Sq(iP,4,4),eg=W.Fo(iP,[255,216,255]);
if(i$.CK(iP,[0,0,1,10,14,0,0,0])){if(iy)console.log("Samsung");var F=0;while(F!=iP.length){var du=W.yX(iP,F+2);
F+=4;var gh={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[du];if(gh!=null){var ga=W.nO(iP,F);F+=4;
var d5=W.Sq(iP,F,ga);F+=ga;var fu=W.Sq(iP,F,gh);F+=gh;if(du==2608){var ay=F,c7=W.Q(iP,F+24);F+=c7+24;
var eE=W.Q(iP,F);F+=eE;var jn=iP.slice(ay,F);i$.w6.ts(jn)}}else if(du==18502){while(W.Sq(iP,F,4)!="SEFT")F+=4;
F+=4}else{break;console.log(W.Lt(iP,F,128));console.log(iP.slice(F));throw du.toString(16)}}}else if(iG=="ftyp"){if(iy)console.log("MP4 Video");
i$.w6.ts(iP)}else if(W.Sq(iP,0,4)=="fixe"){if(iy)console.log("fixe");alert("Unknown data - "+iP.length+" B - at the end of the file",3e3);
var F=4,n=W.nO(iP,F);F+=4;var dI=W.nO(iP,F);F+=4;var dQ=W.nO(iP,F);F+=4;console.log(n,dI,dQ,iP.slice(F,F+84));
F+=84;var jo=W.Sq(iP,F,32);F+=32;F+=8;var jo=W.Sq(iP,F,32);F+=32}else if(W.Sq(iP,8,13)=="FocusShot_Map"){if(iy)console.log("FocusShot_Map");
var hT=W.Q(iP,0),r=W.nO(iP,4),ba=I.R(l*4),ea=I.R(l*4);for(var b9=0;b9<L;b9++)for(var bI=0;bI<z;bI++){var Y=b9*z+bI,X=Y<<2,ii=8+13+((b9>>>1)*z+bI>>>1),d_=iP[ii],c4=iP[ii+(l>>>2)];
ba[X]=ba[X+1]=ba[X+2]=d_;ba[X+3]=255;ea[X]=ea[X+1]=ea[X+2]=c4;ea[X+3]=255}w.push({Jw:new j2(0,0,z,L),data:ba.buffer},{Jw:new j2(0,0,z,L),data:ea.buffer})}else if(iG=="edof"){if(iy)console.log("edof");
var q=iP[8+7];console.log(q.toString(16));var F=8+16,kG=W.yX(iP,F),fC=W.yX(iP,F+2),l=kG*fC;F+=4;F+=32+16;
var bO=I.R(l*4);for(var Y=0;Y<l;Y++){var X=Y<<2;bO[X]=bO[X+1]=bO[X+2]=iP[F+Y];bO[X+3]=255}if(q==16){}else if(q==19){var id=bO.slice(0);
I.D.S4(bO,id,kG,fC);var a5=kG;kG=fC;fC=a5;I.D.ZP(id,bO,kG,fC)}else throw"Unknown orientation of a depth map";
w.push({Jw:new j2(0,0,kG,fC),data:bO.buffer})}else if(W.Sq(iP,0,64).indexOf("DualShot")!=-1){var eU=W.nO,af=W.Sq,a7=W.yX,F=0;
function g$(){var d6=eU(iP,F);if(eU(iP,F+4)!=0)throw"e";F+=8;return d6}var cg=W.Q(iP,F);F+=4;try{if(cg==45066){F=1226;
var z=g$(),L=g$();F=3445}else if(cg==45322){var cC=eU(iP,F);F+=4;var jo=af(iP,F,cC);F+=cC;if(jo!="DualShot_DepthMap_1")throw jo;
z=1008;L=756}else throw cg;var kF=I.R(z*L*4);kF.fill(255);I.uM(iP.slice(F,F+z*L),kF);w.push({Jw:new j2(0,0,z,L),data:kF.buffer})}catch(a8){console.log("error reading a depth map")}try{if(eg!=0)iP=iP.slice(eg);
w=w.concat(i$.AL("jpg").pX(iP.buffer))}catch(a8){}}else if(eg!=-1&&!(iP[0]==255&&iP[1]==129)){if(iy)console.log("another JPG at",eg);
try{if(eg!=0)iP=iP.slice(eg);w=w.concat(i$.AL("jpg").pX(iP.buffer))}catch(a8){}}else if(W.Sq(iP,0,4)=="PMPD"){if(iy)console.log("Xiaomi stuff");
var F=4,am=W.nO(iP,12),cJ=W.nO(iP,16),kG=W.nO(iP,1060),fC=W.nO(iP,1064),fX=kG>fC,hP=w[0].Jw.m>w[0].Jw.J,kx=iP.slice(iP.length-kG*fC-4),f2=I.R(kG*fC);
for(var b9=0;b9<fC;b9++)for(var bI=0;bI<kG;bI++)f2[b9*kG+bI]=kx[(fC-b9-1)*kG+bI];var kF=I.R(kG*fC*4);
kF.fill(255);I.uM(f2,kF);if(fX!=hP){var id=kF.slice(0);I.D.S4(kF,id,kG,fC);var a5=kG;kG=fC;fC=a5;I.D.ZP(id,kF,kG,fC)}w.push({Jw:new j2(0,0,kG,fC),data:kF.buffer})}else console.log(W.Sq(iP,0,4),iP)}if(w.length>1){var gt=w[0].Jw,eb=!1,dA=!0;
w[0].CJ="Main";var iD=[!1];for(var Y=1;Y<w.length;Y++){iD[Y]=i$.w6.adp(new Uint8Array(w[Y].data));if(iD[Y])eb=!0;
if(!w[Y].Jw.LJ(w[0].Jw))dA=!1}if(!eb&&!dA)w=w.slice(0,1);else for(var Y=1;Y<w.length;Y++){w[Y].CJ=iD[Y]?"Depth Map":null;
var e9=w[Y].Jw;if(!e9.LJ(gt)){var eI=gt.m/e9.m,d9=gt.J/e9.J,f9=new hN;f9.scale(eI,d9);var e4=$.V.NN([new Uint8Array(w[Y].data),e9],1,I.D.fL(f9));
w[Y].Jw=e4.rect;w[Y].data=e4.buffer}}}if(i$.w6.MA==1)if(B[2]!=1||B[6]!=1)for(var Y=0;Y<w.length;Y++){var cj=w[Y],i4=new Uint8Array(cj.data),z=cj.Jw.m,L=cj.Jw.J,kG=B[0],fC=B[1],x=I.R(kG*fC*4);
I.D.GV(i4,z,L,x,B);cj.Jw=new j2(0,0,kG,fC);cj.data=x.buffer}return w};i$.w6.ts=function(i){if(window.confirm("Photopea found a "+b3.WF(i.length)+" MP4 video inside your image. Would you like to save it?",4e3)){g_.save(i.slice(0).buffer,"video.mp4")}};
i$.w6.adp=function(i){var C=!0;for(var Y=0;Y<i.length;Y+=4){C=C&&i[Y]==i[Y+1]&&i[Y+1]==i[Y+2]}return C};
i$.w6.MA=0;i$.w6.pX=function(i,C,m){i=new Uint8Array(i);if(i[0]==255){var e=i$.w6.s0(i);if(e[195]==null){i$.w6.MA++;
var z=i$.w6.Cb(i,e,!1);i$.w6.MA--;return z}var L=W.vV(i,e[195][0]+5),l=W.vV(i,e[195][0]+7),x=UTIF.LosslessJpegDecode(i),S=l*L,k=I.R(S*4);
for(var Y=0;Y<S;Y++){var f=Y<<2,X=f-Y;k[f]=x[X];k[f+1]=x[X+1];k[f+2]=x[X+2];k[f+3]=255}return[{Jw:new j2(0,0,l,L),data:k.buffer}]}else if(i[0]==0&&i[4]==48&&i[6]==1){var o=i,A=new PDFJS.Jbig2Image,P=[];
if(C)P.push({data:C,start:0,end:C.length});P.push({data:o,start:0,end:o.length});var x=A.parseChunks(P);
if(!m)for(var Y=0;Y<x.length;Y++)x[Y]=~x[Y];var l=W.Q(i,11),L=W.Q(i,15),F=Math.ceil(l/8),n=I.R(l*L*4);
for(var R=0;R<L;R++){var Q=R*F;for(var s=0;s<l;s++){var f=(R*l+s)*4,j=x[Q+(s>>>3)]>>>7-(s&7)&1,_=j*255;
n[f]=_;n[f+1]=_;n[f+2]=_;n[f+3]=255}}return[{Jw:new j2(0,0,l,L),data:n.buffer}]}else{var A=new PDFJS.JpxImage;
A.parse(i);var l=A.width,L=A.height,B=A.tiles,N=A.componentsCount,a=new Uint8Array(l*L*4),O=new j2(0,0,l,L);
for(var A=0;A<B.length;A++){var H=B[A],q=H.width,h=H.height,D=q*h,T=H.items,p=new j2(H.left,H.top,q,h),y=new Uint8Array(D*4);
if(N==1)for(var Y=0;Y<D;Y++){var b=T[Y],f=Y*4;y[f]=b;y[f+1]=b;y[f+2]=b;y[f+3]=255}else if(N==3)for(var Y=0;
Y<D;Y++){var X=Y*3,f=Y*4;y[f]=T[X];y[f+1]=T[X+1];y[f+2]=T[X+2];y[f+3]=255}else if(N==4)y.set(T);else console.log("Unknown number of components: "+N);
I.fF(y,p,a,O)}return[{Jw:O,data:a.buffer}]}};i$.ly={};i$.ly.B3=function(i,C,m,e){if(e==null)e=[70,!1,0,0,0];
var z=e[0]/100,F=0;if(i.length==1){var L=new Uint8Array(i$.aH(i[0][0],C,m,"webp",z));if(L.length<2e4){var l=bF.uU(L.buffer),x=l.sub;
for(var Y=0;Y<x.length;Y++)if(x[Y].zx=="ICCP"){var S=x[Y];L=i$.ND(L,S.F-8,S.size+8);W.Bz(L,4,l.size-(S.size+8));
break}}if(e[1]&&i[0][3]){var l=bF.uU(L.buffer),x=l.sub,k=x[0].F+x[0].size,f=i[0][3],X=new Uint8Array(UTIF.encode([kB.Li(f)])),o=new Uint8Array(6+X.length);
W.AW(o,0,"Exif\0\0");o.set(X,6);var A=W.x5(kB.P_(f)),P=new Uint8Array(16+o.length+A.length);W.AW(P,0,"EXIF");
W.Bz(P,4,o.length);P.set(o,8);var F=8+o.length;W.AW(P,F,"XMP\0");W.Bz(P,F+4,A.length);P.set(A,F+8);var n=new Uint8Array(L.length+P.length);
n.set(new Uint8Array(L.buffer,0,k),0);n.set(P,k);n.set(new Uint8Array(L.buffer,k),k+P.length);L=n;W.Bz(L,4,W.nO(L,4)+P.length)}return L.buffer}var R=W.HC,Q=W.cY,s=new ac;
R(s,F,"RIFF    WEBPVP8X");F+=16;Q(s,F,10);F+=4;Q(s,F,18);F+=4;Q(s,F,C-1);F+=3;Q(s,F,m-1);F+=3;R(s,F,"ANIM");
F+=4;Q(s,F,6);F+=4;s.uG(F,4);s.data[F+3]=255;W.c2(s,F+4,e[3]);F+=6;var j=[];for(var Y=0;Y<i.length;Y++){j.push(i[Y][0])}var _=UPNG.encode.compress(j,C,m,z==1?0:Math.max(2,Math.floor(z*500)),[!1,!0,!0,0,!0]).frames;
function B(l,g,u,t){var D=l.F-8,T=l.size+8;u.uG(t,T);for(var Y=0;Y<T;Y++)u.data[t+Y]=g[D+Y];return t+T}for(var Y=0;
Y<i.length;Y++){R(s,F,"ANMF");F+=4;var N=F,D=0,T=0;F+=4;var a=_[Y],O=a.rect,H=[O.x>>>1,O.y>>>1,O.width-1,O.height-1,i[Y][1]];
for(var q=0;q<5;q++)Q(s,F+3*q,H[q]);F+=15;s.uG(F,1);s.data[F]=1-a.blend<<1|a.dispose;F++;var h=new Uint8Array(i$.aH(a.img.buffer,O.width,O.height,"webp",1)),x=bF.uU(h.buffer).sub,p={};
for(var y=0;y<x.length;y++)p[x[y].zx]=x[y];if(p.VP8L)F=B(p.VP8L,h,s,F);else throw"e";var b=F-N-4;Q(s,N,b);
if((b&1)==1){s.uG(F,1);F++}}Q(s,4,F-8);return s.data.slice(0,F).buffer};(function(){var i=i$.Nf.get("wasm/webp").buffer;
WebAssembly.instantiate(i).then(function(C){var m=C.instance.exports;i$.ly.exp=m})}());i$.ly.pX=function(i){var C=new Uint8Array(i),m=i$.ly.auO,e=null,z=bF.uU(i).sub,L={},l=null;
for(var Y=0;Y<z.length;Y++)L[z[Y].zx]=z[Y];if(L.EXIF){var x=L.EXIF,S=new Uint8Array(i,x.F+6,x.size-6),x=UTIF.decode(S)[0];
if(x)l=kB.Ti(x)}if(L["XMP\0"]){var x=L["XMP\0"],S=new Uint8Array(i,x.F,x.size);if(l==null)l={};l=kB.ht(W.U8(S),l)}var k=L.ANIM,f=L.VP8L,o=L["VP8 "],A=L.VP8X;
if(k==null){var P,F;if(o){P=W.yX(C,o.F+6);F=W.yX(C,o.F+8)}else if(f){var n=W.nO(C,f.F+1);P=(n&(1<<14)-1)+1;
F=(n>>>14&(1<<14)-1)+1}else throw"e";var R=m(e,i,{F:0,size:C.length},P,F);R.tr=l;return[R]}var Q=A.F,P=1+(W.nO(C,Q+4)&16777215),F=1+(W.nO(C,Q+7)&16777215),s=[],j=new j2(0,0,P,F),_=I.R(P*F*4);
for(var Y=0;Y<z.length;Y++){var B=z[Y];if(B.zx!="ANMF")continue;var N=[];for(var a=0;a<5;a++)N.push(W.nO(C,B.F+a*3)&16777215);
var O=new j2(N[0]*2,N[1]*2,N[2]+1,N[3]+1),H=N[4],q=m(e,i,{F:B.F+16,size:B.size-16},P,F),h=new Uint8Array(q.data),D=C[B.F+15];
if(D>>>1==0)I.l.Qv("norm",h,O,_,j,O,1);else I.fF(h,O,_,j);s.push({CJ:"_a_"+s.length+","+H,Jw:j.clone(),data:_.buffer.slice(0)});
if((D&1)==1){I.eS(h,0);I.fF(h,O,_,j)}}return s};i$.ly.auO=function(i,C,m,e,z){var L=i$.ly.exp,l=L.memory,x=5e6+2*m.size+e*z*10;
i$.Xa(L,x);var S=new Uint8Array(l.buffer),k=L.malloc(m.size);S.set(new Uint8Array(C,m.F,m.size),k);var f=L.malloc(8),X=L.WebPDecodeARGB(k,m.size,f,f+4),o=W.nO(S,f),A=W.nO(S,f+4),P=o*A*4,F=I.R(P);
for(var Y=0;Y<P;Y+=4){F[Y]=S[X+Y+1];F[Y+1]=S[X+Y+2];F[Y+2]=S[X+Y+3];F[Y+3]=S[X+Y]}L.WebPFree(X);L.free(f);
L.free(k);return{Jw:new j2(0,0,o,A),data:F.buffer}};i$.ayw=function(){function i(x,S,k,f){var X=new Uint8Array(x[0][0]),o=new Uint32Array(X.buffer),A=[],P={},n=24,R=0,B=0;
for(var Y=0;Y<o.length;Y++){var F=o[Y]&16777215;if(P[F]==null){P[F]=A.length;A.push(F);if(A.length>256){A=null;
break}}}if(f&&f[0])A=null;if(A){n=1;while(1<<n<A.length)n*=2;if(n==2)n=4}var Q={HG:S,bB:k,bp:1,In:n,lq:0,ara:R},s=4*Math.floor((Q.In*Q.HG+31)/32);
Q.size=s*Q.bB+2;var j=new ac,_=A?(1<<n)*4:0;W.HC(j,B,"BM");B+=2;W.cY(j,B,s*k+16+40+_);B+=4;W.cY(j,B,0);
B+=4;W.cY(j,B,54+_);B+=4;j.uG(B,40);W.cY(j,B,40);B+=4;l(j.data,B,Q,s);B+=36;if(A){j.uG(B,_);var N=j.data;
for(var Y=0;Y<A.length;Y++){var a=B+Y*4,O=A[Y]>>>16,H=A[Y]>>>8&255,q=A[Y]&255;N[a]=O;N[a+1]=H;N[a+2]=q}B+=_}j.uG(B,s*k);
if(n==24)for(var h=0;h<k;h++){var D=B+(k-1-h)*s;for(var T=0;T<S;T++){var p=(h*S+T)*4;j.data[D+T*3+2]=X[p];
j.data[D+T*3+1]=X[p+1];j.data[D+T*3+0]=X[p+2]}}else if(n==8)for(var h=0;h<k;h++){var D=B+(k-1-h)*s;for(var T=0;
T<S;T++){var p=h*S+T,y=P[o[p]&16777215];j.data[D+T]|=y}}else if(n==4)for(var h=0;h<k;h++){var D=B+(k-1-h)*s;
for(var T=0;T<S;T++){var p=h*S+T,y=P[o[p]&16777215];j.data[D+(T>>>1)]|=y<<4-(T&1)*4}}else if(n==1)for(var h=0;
h<k;h++){var D=B+(k-1-h)*s;for(var T=0;T<S;T++){var p=h*S+T,y=P[o[p]&16777215];j.data[D+(T>>>3)]|=y<<7-(T&7)}}B+=s*k+2;
return j.data.slice(0,B).buffer}function C(x){x=new Uint8Array(x);if(W.nO(x,0)==40)return[m(x.buffer,0)];
var S=0,k=W.Sq(x,S,2);S+=2;if(k!="BM"){alert("Unsupported BMP format: "+k);return}var f=W.nO(x,S);S+=4;
S+=4;var X=W.nO(x,S);S+=4;return[m(x.buffer,S,X)]}function m(x,S,k){x=new Uint8Array(x);var f=W.nO(x,S),X=L(x,S+4);
if(X.bp!=1)alert("unsupported number of color planes: "+X.bp);if(X.lq!=0&&X.lq!=1&&X.lq!=2&&X.lq!=3){alert("Unsupported BMP compression: "+X.lq);
return}S+=f;var o=S,A=x;if(k==null)k=S;if(X.lq==1||X.lq==2){var P=z(x,k,X);X.In=8;x=P;k=0}var F=4*Math.floor((X.In*X.HG+31)/32),n=X.HG,R=Math.abs(X.bB),Q=new Uint8Array(n*R*4);
Q.fill(255);if(X.In==32)for(var s=0;s<R;s++){var j=k+(R-1-s)*F;for(var _=0;_<n;_++){var B=(s*n+_)*4;
Q[B]=x[j+_*4+2];Q[B+1]=x[j+_*4+1];Q[B+2]=x[j+_*4+0];Q[B+3]=x[j+_*4+3]}}else if(X.In==24)for(var s=0;
s<R;s++){var j=k+(R-1-s)*F;for(var _=0;_<n;_++){var B=(s*n+_)*4;Q[B]=x[j+_*3+2];Q[B+1]=x[j+_*3+1];Q[B+2]=x[j+_*3+0]}}else if(X.In==16)for(var s=0;
s<R;s++){var j=k+(R-1-s)*F;for(var _=0;_<n;_++){var B=(s*n+_)*4,N=x[j+_*2+1]<<8|x[j+_*2];Q[B]=(N>>>11)*(255/31);
Q[B+1]=(N>>>5&63)*(255/63);Q[B+2]=(N&31)*(255/31)}}else if(X.In==8)for(var s=0;s<R;s++){var j=k+(R-1-s)*F;
for(var _=0;_<n;_++){var B=(s*n+_)*4,a=x[j+_];Q[B]=A[o+4*a+2];Q[B+1]=A[o+4*a+1];Q[B+2]=A[o+4*a+0]}}else if(X.In==4)for(var s=0;
s<R;s++){var j=k+(R-1-s)*F;for(var _=0;_<n;_++){var B=(s*n+_)*4,a=x[j+(_>>1)];a=a>>4-4*(_&1);a=a&15;
Q[B]=A[o+4*a+2];Q[B+1]=A[o+4*a+1];Q[B+2]=A[o+4*a+0]}}else if(X.In==1)for(var s=0;s<R;s++){var j=k+(R-1-s)*F;
for(var _=0;_<n;_++){var B=(s*n+_)*4,O=x[j+(_>>3)];O=O>>7-(_&7);O=O&1;Q[B]=A[o+4*O+2];Q[B+1]=A[o+4*O+1];
Q[B+2]=A[o+4*O+0]}}else throw"Unknown bit depth "+X.In;if(X.bB<0){var H=new Uint32Array(Q.buffer),q=R>>>1;
for(var s=0;s<q;s++){var h=s*n,D=(R-s-1)*n;for(var _=0;_<n;_++){var T=H[h+_];H[h+_]=H[D+_];H[D+_]=T}}}return{Jw:new j2(0,0,n,R),data:Q.buffer}}function e(x,Y){return x>>>4-((Y&1)<<2)&15}function z(x,S,k){var f=k.HG,X=Math.abs(k.bB),o=new Uint8Array(f*X),A=0,P=0,Y=0;
while(P<X){var F=x[S++],n=x[S++],R=P*f+A;if(F>0){if(k.In==4)for(Y=0;Y<F;Y++){o[R+Y]=e(n,Y)}else for(Y=0;
Y<F;Y++){o[R+Y]=n}A+=F}else if(F==0&&n==0){P++;A=0}else if(F==0&&n==1){break}else if(F==0&&n==2){A+=x[S++];
P+=x[S++]}else{var Q=n;if(k.In==4){for(Y=0;Y<n;Y++){o[R+Y]=e(x[S+(Y>>>1)],Y)}Q=Math.ceil(n/2)}else{for(Y=0;
Y<n;Y++){o[R+Y]=x[S+Y]}}if((Q&1)!=0)Q++;S+=Q;A+=n}}return o}function L(x,S){var k=W.NC,f=W.nO,X=W.yX,o={};
o.HG=k(x,S);S+=4;o.bB=k(x,S);S+=4;o.bp=X(x,S);S+=2;o.In=X(x,S);S+=2;o.lq=f(x,S);S+=4;o.size=f(x,S);S+=4;
var A=k(x,S);S+=4;var P=k(x,S);S+=4;o.ara=f(x,S);S+=4;S+=4;return o}function l(x,S,k,f){W.Bz(x,S,k.HG);
S+=4;W.Bz(x,S,k.bB);S+=4;W.ZO(x,S,k.bp);S+=2;W.ZO(x,S,k.In);S+=2;W.Bz(x,S,k.lq);S+=4;W.Bz(x,S,k.size);
S+=4;W.Bz(x,S,2834);S+=4;W.Bz(x,S,2834);S+=4;W.Bz(x,S,k.ara);S+=4;S+=4}return{pX:C,B3:i,ars:m}}();i$.Vg={};
i$.Vg.B3=function(i,C,m,e){if(e==null)e=[100,!1,0,0,0,0];var z=[],L=[],l=C*m*4,F=null;for(var x=0;x<i.length;
x++){var S=new Uint8Array(i[x][0].slice(0));for(var Y=0;Y<l;Y+=4){var k=S[Y+3]=S[Y+3]>127?255:0;if(k==0)S[Y]=S[Y+1]=S[Y+2]=0}z.push(S.buffer);
L.push(i[x][1])}var f=Math.round(2+254*e[0]/100),X=UPNG.encode.compress(z,C,m,f,[!0,!1,!1,8,!1,e[1]]),o=X.plte,A=new Uint8Array(4),P=new Uint32Array(A.buffer);
for(var Y=0;Y<o.length;Y++){P[0]=o[Y];var n=A[0];A[0]=A[2];A[2]=n;o[Y]=P[0];if(P[0]==0)F=Y}while(o.length<256)o.push(0);
var R=new Uint8Array(2e4+Math.round(1.5*C*m*i.length)),Q=e[3],s={palette:o};if(Q!=1)s.loop=Q==0?0:Q-1;
var j=new GifWriter(R,C,m,s);for(var Y=0;Y<i.length;Y++){var _=X.frames[Y],B=_.rect,N=_.blend,a=_.dispose,O=Math.round(L[Y]/10);
if(O<2)O=2;j.addFrame(B.x,B.y,B.width,B.height,_.img,{transparent:F,disposal:a+1,delay:O})}return R.slice(0,j.end()).buffer};
i$.Vg.pX=function(i){var C=Date.now(),m=[],e=UGIF.decode(i),z=UGIF.toRGBA8(e),L=new j2(0,0,e.width,e.height);
for(var Y=0;Y<z.length;Y++){var l=e.frames[Y];m.push({Jw:L.clone(),CJ:"_a_frm"+Y+","+l.delay*10,data:z[Y]})}return m};
i$.zY={};i$.zY.B3=function(i,C,m,e){if(C>256||m>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var z=Math.min(C,256),L=Math.min(m,256),l=new j2(0,0,z,L),x=I.R(l.P()*4),S=new j2(0,0,C,m),k=new Uint8Array(i[0][0]);
I.fF(k,S,x,l);i[0][0]=x.buffer;C=z;m=L}var f=new Uint8Array(i[0][0]).slice(0),o=0;f[3]=Math.min(f[3],254);
var X=new ac,A=e&&e[0]==!0;W.c2(X,o,0);o+=2;W.c2(X,o,A?2:1);o+=2;W.c2(X,o,1);o+=2;var P=new Uint8Array(UPNG.encode([f.buffer],C,m,null,null,null,!0));
X.uG(o,16);X.data[o]=C==256?0:C;o++;X.data[o]=m==256?0:m;o++;o+=2;W.c2(X,o,A?Math.round(C/2):1);o+=2;
W.c2(X,o,A?Math.round(m/2):32);o+=2;W.cY(X,o,P.length);o+=4;W.cY(X,o,6+16);o+=4;X.uG(o,P.length);X.data.set(P,o);
o+=P.length;return X.data.slice(0,o).buffer};i$.zY.pX=function(i){i=new Uint8Array(i);var C=4,m=W.yX(i,C);
C+=2;var e=[];for(var Y=0;Y<m;Y++){var z=i$.zY.aBt(i,C+Y*16),L=i.buffer.slice(z.offset,z.offset+z.size),l=i$.ra(L);
l=l?l:"bmp";if(l=="png"){var x=i$.AL(l),S=x.pX(L);z.OV=S[0]}else{var k=i$.AL("BMP").ars(L,0),L=I.R(z.HG*z.bB*4);
I.fF(new Uint8Array(k.data),new j2(0,0,k.Jw.m,k.Jw.J),L,new j2(0,z.bB,z.HG,z.bB));k.data=L.buffer;k.Jw.J=z.bB;
z.OV=k}e.push(z)}e.sort(function(f,X){if(f.HG!=X.HG)return f.HG-X.HG;return f.aiI-X.aiI});return[e.pop().OV]};
i$.zY.aBt=function(i,C){var m={};m.HG=i[C];C++;if(m.HG==0)m.HG=256;m.bB=i[C];C++;if(m.bB==0)m.bB=256;
m.apj=i[C];C++;C++;m.asG=W.yX(i,C);C+=2;m.aiI=W.yX(i,C);C+=2;m.size=W.nO(i,C);C+=4;m.offset=W.nO(i,C);
C+=4;return m};i$.XY={};i$.XY.pX=function(i){var C=Date.now(),e;if(I.raw.oP(i.byteLength))return[I.raw.acE(i)];
var m=UTIF.decode(i);console.log(m);if(m[0].t33421)e=m[0];else if(m[0].subIFD&&m[0].t271&&m[0].t271[0]=="Hasselblad"){e=m[0].subIFD[0];
e.t33421=[2,2]}else if(m[0].subIFD&&m[0].subIFD[0].t33421){e=m[0].subIFD[0];if(e.t50706==null){if(e.t258[0]==8)e.t258[0]=12}}else if(m[0].subIFD&&m[0].subIFD[0]&&m[0].subIFD[0].t262&&m[0].subIFD[0].t262[0]==34892)e=m[0].subIFD[0];
else if(m[0].t50706)e=m[0];else if(m[0].subIFD&&m[0].subIFD[1]&&m[0].subIFD[1].t33421)e=m[0].subIFD[1];
else if(m[0].subIFD&&m[0].subIFD[2]&&m[0].subIFD[2].t33421)e=m[0].subIFD[2];else if(m[3]&&m[3].t50648){var z=m[0].exifIFD,L=z.makerNote;
e=m[3];var l=L.t224[1],x=L.t224[2];e.t256=[l];e.t257=[x];e.t258=[16];e.t259=[7];e.t262=[32803];e.t277=[1];
e.t33421=[2,2];var S=e.t50656[0],k=I.raw.Cx[S];if(k==null)throw"e";e.t33422=k}else if(m[0].t1&&m[0].t1.length==4){var f=m[0],X={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
e={};for(var o in X)if(f["t"+o])e["t"+X[o]]=f["t"+o];e.t2=f.t2;e.t3=f.t3;e.t10=f.t10;e.t45=f.t45;e.t258=[16];
e.t33421=[2,2];var A=f.t9[0];e.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][A-1];var P=f.t4[0],F=f.t5[0],n=f.t6[0],R=f.t7[0];
e.t50829=[P,F,n,R];var Q=f.t36[0],s=f.t37[0],j=f.t38[0];e.t50728=[s/Q,s/s,s/j]}else if(m[0].t258&&m[0].t258[0]>=12&&m[0].t271&&(m[0].t271[0].startsWith("OLYMPUS")||m[0].t271[0].startsWith("OM Digital Solutions"))){e=m[0];
e.t33421=[2,2]}if(e){UTIF.decodeImage(i,e,m);for(var _ in m[0])if((_[0]=="t"||_[0]=="e"||_[0]=="d")&&e[_]==null)e[_]=m[0][_];
e.B1=m[0].t274?m[0].t274[0]:1;return[e]}var B=[];for(var Y=0;Y<m.length;Y++){var N=m[Y],a=null,p=72;
UTIF.decodeImage(i,N,m);if(N.t258&&N.t258[0]==16&&N.t277&&N.t277[0]==1){var O=0,H=0,q=0,h=N.data;for(var D=0;
D<h.length;D+=2){var T=h[D+1]<<8|h[D];if(T>O)O=T;H+=T;q++}a=1/256*65535/(.5*O+.5*(2*H/q))}var y=N.t282,b=N.t296;
if(y!=null&&b!=null){p=y[0][0]/y[0][1];if(b[0]==3)p=Math.round(p/2.54)}if(N.width==null)continue;var g=UTIF.toRGBA8(N,a).buffer,u=kB.Ti(N);
console.log(N);B.push({Jw:new j2(0,0,N.width,N.height),data:g,lC:p,tr:u,H1:N.t34675?N.t34675.slice(0):null})}return B};
i$.XY.B3=function(i,C,m,e){if(e==null)e=[!1];var z={},L=i[0];if(L[3]!=null&&e[0])z=kB.Li(L[3]);if(L[2]!=null){z.t282=z.t283=[[Math.round(L[2]),1]];
z.t296=[2]}return UTIF.encodeImage(L[0],C,m,z)};i$.uq={};i$.uq.pX=function(i){i=new Uint8Array(i);var C=8,m,e=0;
while(C<i.length){var z=W.Sq(i,C,4),L=W.Q(i,C+4);if(z.startsWith("ic")){var l=i.slice(C+8,C+L),x=i$.ra(l.buffer),S=i$.AL(x),k=S.pX(l.buffer),f=k[0].Jw.P();
if(f>e){e=f;m=k}}C+=L}return m};i$.f6={};i$.f6.yC=!0;i$.f6.pX=function(i,C){gZ.uU(i,C)};i$.f6.a1y=function(i,C,m,e){if(e==null)e=[!1,!1,!1,!1,!1];
if(!e[0])i.I6();var z=new ac,L=gZ.hz(i,z,e);return[z.data.buffer,L]};i$.f6.B3=function(i,C,m,e){var z=i$.f6.a1y(i,C,m,e),L=z[0],l=z[1];
return L.byteLength==l?L:L.slice(0,l)};i$.zL={};i$.zL.yC=!0;i$.zL.pX=function(i,C){var m=pako.inflate(new Uint8Array(i)),e=W.vV(m,0),z=W.vV(m,2),L=4;
C.m=W.Q(m,L);L+=4;C.J=W.Q(m,L);L+=4;C.buffer=I.R(C.m*C.J*4);var l=W.vV(m,L);L+=2;L+=4;for(var x=0;x<l;
x++){var S=C.Sv(),P=0,y=1,b=2,g=3,u=0;C.M.push(S);var k=W.Q(m,L);L+=4;var f=L,X=W.vV(m,f);f+=2;var o=W.U8(m,f,X);
f+=X;S.yY(o);var A=m[f];f++;if(A!=0&&A!=1)throw A;S.rect.x=W.xz(m,f);f+=4;S.rect.y=W.xz(m,f);f+=4;S.rect.m=W.Q(m,f);
f+=4;S.rect.J=W.Q(m,f);f+=4;if(e>3){P=W.xz(m,f);f+=4}S.opacity=Math.round(255*m[f]/100);f++;var F=m[f];
f++;S.fJ(F!=0);S.fn="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[m[f]];
f++;var n=m[f];f++;if(n)S.add.lspf=1<<31;if(e>3){var R=W.vV(m,f);f+=2;if(R!=0){var Q=JSON.parse(W.U8(m,f,R));
f+=R;var s=Q.text,j=Q.textSettings,_=j.font,B=j.size,N=j.padding,a=parseInt(j.color.slice(1),16);S.add.lnsr="rend";
S.add.TySh=e7._x(0,0);S.add.TySh.l$=new j2(0,0,100,100);var O=S.add.TySh.i=new hN,H=S.rect.m/2,q=S.rect.J/2;
O.translate(-H,-q);O.rotate(-P*Math.PI/180);O.translate(H,q);O.translate(S.rect.x+N,S.rect.y+N);var h=S.add.TySh.Wg;
e7.k8(h,1);e7.N2(h,[0,0,S.rect.m-N*2,S.rect.J]);e7.cQ(h,0,s);var D=e7.IF(h,0,1);D.hU.FontSize=B;D.hU.FillColor={Type:1,Values:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]};
if(j.bold)_+="-Bold";e7.Ca(D,_);D.t7.Justification=["left","right","center"].indexOf(j.align);e7.Bl(h,0,s.length,D)}}var T=W.Q(m,f);
f+=4;if(T!=S.rect.P()*4){for(var Y=S.rect.m;Y>S.rect.m/2;Y--){var p=T/(Y*4);if(p==Math.round(p)){S.rect.m=Y;
S.rect.J=p;break}}}S.buffer=I.R(S.rect.P()*4);if(e>3){y=0;b=1;g=2;u=3}for(var Y=0;Y<T;Y+=4){S.buffer[Y]=m[f+Y+y];
S.buffer[Y+1]=m[f+Y+b];S.buffer[Y+2]=m[f+Y+g];S.buffer[Y+3]=m[f+Y+u]}f+=T;var t=W.Q(m,f);f+=4;if(t==0&&e>3){L+=k;
continue}var V=m[f];f++;var c=W.vV(m,f);f+=2;if(t!=0){S.X=new cc.o7;S.X.rect=S.rect.clone();S.X.channel=I.R(S.rect.P());
for(var Y=0;Y<t;Y+=4)S.X.channel[Y>>>2]=m[f+Y+1];f+=t}if(V!=0){var E=JSON.parse(jt.default);S.add.lmfx=E;
for(var Y=0;Y<jt.order.length;Y++)E[jt.m8[Y]]={t:"VlLs",v:[]};var Z={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var Y=0;Y<V;Y++){var G=W.vV(m,f),J=f+G+4,K=m.slice(f,J),M=m[f+2];f+=3;var U=Z[M+""],r=JSON.parse(jt.qx[U]);
E[jt.m8[U]].v.push({t:"Objc",v:r});if(U!=0){r.Md.v.BlnM=aw.An("norm");r.Opct.v.val=m[f];f++;if(U==9||U==2){r.Dstn.v.val=m[f+1];
f+=2}else f+=2;r.blur.v.val=Math.round(m[f]*1.2);f++;if(U==9||U==2){r.uglg.v=!1;r.lagl.v.val=180-W.vV(m,f);
f+=2}r.Clr.v=I.I.$q({Z:m[f+1],r:m[f+2],e:m[f+3]})}else{r.hglM.v.BlnM=r.sdwM.v.BlnM=aw.An("norm");f+=2;
var dS=m[f++],w=m[f++];r.blur.v.val=Math.round(Math.sqrt(w*dS)*1.3);r.srgR.v.val=Math.round(100*dS/w);
r.uglg.v=!1;r.lagl.v.val=180-W.vV(m,f);f+=2;r.hglO.v.val=m[f++];r.hglC.v=I.I.$q({Z:m[f+1],r:m[f+2],e:m[f+3]});
f+=4;r.sdwO.v.val=m[f++];r.sdwC.v=I.I.$q({Z:m[f+1],r:m[f+2],e:m[f+3]});f+=4}f=J}}if(f-L<k){var di=W.Q(m,f),ds=0;
f+=4;f++;var X=W.vV(m,f);f+=2;var s=W.U8(m,f,X);f+=X;s=s.replace(/\r/g,"\n");var X=W.vV(m,f);f+=2;var _=W.U8(m,f,X);
f+=X;var B=W.vV(m,f);f+=2;var eM=S.rect.x,j5=S.rect.m;if(di&4)ds=1;if(di&2)ds=2;var ba=Math.round(B*.4);
if(ds==0||ds==2)j5+=ba;if(ds==1||ds==2){j5+=ba;eM-=ba}S.add.lnsr="rend";S.add.TySh=e7._x(0,0);S.add.TySh.l$=new j2(0,0,100,100);
S.add.TySh.i=new hN(1,0,0,1,eM,S.rect.y+B*.25);var h=S.add.TySh.Wg;e7.k8(h,1);e7.N2(h,[0,0,j5,S.rect.J]);
e7.cQ(h,0,s);var D=e7.IF(h,0,1);D.hU.FontSize=B;D.hU.FillColor={Type:1,Values:[1,m[f+1]/255,m[f+2]/255,m[f+3]/255]};
f+=4;if(m[f+5])_+="-Bold";if(m[f+6])_+="-Italic";e7.Ca(D,_);D.t7.Justification=ds;f+=8;e7.Bl(h,0,s.length,D)}L+=k}};
i$.IE={};i$.IE.yC=!0;i$.IE.pX=function(i,C){var m=UZIP.parse(i),e=JSON.parse(W.U8(m["manifest.json"].buffer));
C.m=e.width;C.J=e.height;C.buffer=I.R(C.m*C.J*4);C.name=e.name+".psd";var z=e.stack;for(var L=0;L<z.length;
L++){var l=z[L],x=l.type,S=l.rect,k=l.format,f=C.Sv();f.yY(l.name);f.fJ(l.visible);f.opacity=Math.round(255*l.opacity);
var X=f.rect=new j2(S.x,S.y,S.w,S.h),o=S.r;if(o==null)o=0;C.M.push(f);if(x=="image"&&o!=0||x=="shape"&&k.variant=="svg"){var A=C.Mf(m[l.content],f.getName(),0,0);
A.de=f.de;A.opacity=f.opacity;f=A;C.M.pop();C.M.push(f);var P=I.C.Ym(X).j;I.C.i(P,i$.IE.N8(X,o),P);f.add.SoLd.Trnf=$.V.xN(P);
f.add.SoLd.nonAffineTransform=$.V.xN(P);f.g1(C,!1)}else if(x=="image"){var F=m[l.content].buffer,n=i$.ra(F),R=i$.AL(n),Q=R.pX(F)[0];
X.m=Q.Jw.m;X.J=Q.Jw.J;f.buffer=new Uint8Array(Q.data)}else if(x=="shape"){f.de|=16;var s=f.add.vstk=jt.lc.TQ(!0),j=f.add.vmsk=new cc.hF,_;
f.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}};var B=k.variant,N=k.fill;if(B=="rectangle"||B=="rounded"){_=I.o.vC.Rect(X.x,X.y,X.m,X.J,k.radii)}else if(B=="ellipse"){_=I.o.vC.Xl(X.x,X.y,X.m,X.J)}else if(B=="path"){var a=Typr.U.SVGToPath(l.content),O={G:a.cmds,j:a.crds};
_=I.C.aZ(O);var H=I.o.RP(_);I.o.Pa(_,new hN(X.m/H.m,0,0,X.J/H.J,X.x,X.y))}else console.log(k);f.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}};
if(N.type=="color"){f.add.SoCo.Clr.v=I.I.$q(CSS.L4(N.value))}else if(N.type=="gradient"){delete f.add.SoCo;
var q=f.add.GdFl=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),h=q.Grad.v;h.Intr.v=0;var D=[],T=N.value.stops;
for(var Y=0;Y<T.length;Y++){var p=T[Y],y=CSS.L4(p.color);D.push([p.position,[y.Z/255,y.r/255,y.e/255]])}I.I.Sc(D,h);
q.Angl.v.val=-(N.value.direction+o)+90+180}else console.log(N);var b=i$.IE.N8(X,o);I.o.Pa(_,b);var g=l.style;
if(g&&g.outline){var u=g.outline;s.strokeEnabled.v=!0;s.strokeStyleLineWidth.v.val=u.size;s.strokeStyleContent.v.Clr.v=I.I.$q(CSS.L4(u.color))}j.$=_;
f.tO();f.rH(C)}else if(x=="text"){f.add.lnsr="rend";f.add.TySh=e7._x(0,0);f.add.TySh.l$=new j2(0,0,100,100);
var t=f.add.TySh.Wg;e7.k8(t,1);e7.N2(t,[0,0,X.m,X.J]);var V=l.content;e7.cQ(t,0,V);var c=e7.IF(t,0,1);
e7.Ca(c,k.font.name);var E=c.hU.FontSize=Math.round(k.size);if(k.fill&&k.fill.value){var Z=CSS.L4(k.fill.value);
c.hU.FillColor={Type:1,Values:[1,Z.Z/255,Z.r/255,Z.e/255]}}var G=k.linespace;if(G){c.hU.AutoLeading=!1;
c.hU.Leading=Math.round(E*(1.06+parseFloat(G)));console.log(G,c.hU)}c.hU.FauxBold=k.bold;c.t7.Justification=["left","right","center","justify"].indexOf(k.align);
e7.Bl(t,0,V.length,c);f.add.TySh.i=new hN(1,0,0,1,X.x+Math.round(E*.1),X.y+Math.round(E*.1));f.rect=new j2}else console.log(l)}C.qK=!0};
i$.IE.N8=function(i,C){var m=i.x+i.m/2,e=i.y+i.J/2,z=new hN;z.translate(-m,-e);z.rotate(-C*Math.PI/180);
z.translate(m,e);return z};i$.Iy={};i$.Iy.yC=!0;i$.Iy.pX=function(i,C){ke.uU(i,C)};var ke=function(){function i(X,o){var A=Date.now(),P=UZIP.parse(X);
console.log(P);console.log(Date.now()-A);A=Date.now();var F=P["maindoc.xml"],n=new DOMParser,R=n.parseFromString(W.U8(F),"image/svg+xml").children[0].children[0],Q=R.getAttribute("name"),s=o.m=k(R,"width"),j=o.J=k(R,"height");
o.lC=Math.round(k(R,"x-res"));var _=R.children[0].children;C(_,o,{ES:Q,be:P,YK:null});console.log(Date.now()-A);
A=Date.now()}function C(X,o,A){for(var P=0;P<X.length;P++){var F=X[X.length-1-P],n=F.getAttribute("nodetype");
if(n=="transparencymask"){A.YK.X=f(F,A);continue}var R=F.getAttribute("compositeop"),Q=F.getAttribute("filename"),s=F.getAttribute("channelflags"),j=F.children;
j=j.length==0?null:j[0].children;var _=o.Sv();if(n=="paintlayer"){var B=k(F,"x"),N=k(F,"y"),a=A.be[A.ES+"/layers/"+Q+".defaultpixel"],O=A.be[A.ES+"/layers/"+Q],H=S(O);
_.rect=H[0];_.rect.offset(B,N);_.buffer=H[1];if(_.rect.bs()&&a.join()!="0,0,0,0"){_.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:a[0],r:a[1],e:a[2]})}};
_.rH(o)}}else if(n=="grouplayer"){_.add.lsct=aU.AY;_.fn="pass";_.de|=24;o.M.push(o.b$());var q=A.YK;
A.YK=_;C(j,o,A);A.YK=q}else if(n=="shapelayer"){var O=A.be[A.ES+"/layers/"+Q+".shapelayer/content.svg"],h=W.U8(O),D=o.Mf(O,_.getName(),0,0);
_=D;var T=new j2(0,0,o.m,o.J),p=I.C.Ym(T).j;_.add.SoLd.Trnf=$.V.xN(p);_.add.SoLd.nonAffineTransform=$.V.xN(p);
_.g1(o,!1)}else if(n=="clonelayer"){var Y=-1;for(var y=0;y<X.length;y++)if(X[y].getAttribute("name")==F.getAttribute("clonefrom"))Y=y;
if(Y!=-1){C([X[Y]],o,A);_=o.M.pop()}}else console.log(n,F);_.yY(F.getAttribute("name"));if(k(F,"locked")==1)_.add.lspf=1<<31;
_.fJ(k(F,"visible")==1);var b={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[R];if(b)_.fn=b;
else console.log(R);_.opacity=k(F,"opacity");if(s=="1110")_.cy=!0;var g=j?j[0]:null;if(g&&g.tagName=="mask")_.X=f(g,A);
o.M.push(_)}}function m(X,o){var A=0,P=0,F=X.length,n,R,Q;while(A<F){n=X[A++];if(n>31){R=n>>>5;if(R==7)R=7+X[A++];
Q=(n&31)<<8|X[A++];var s=P-Q-1,j=R>>>1;o[P++]=o[s++];o[P++]=o[s++];for(var Y=0;Y<j;Y++){o[P++]=o[s++];
o[P++]=o[s++]}if((R&1)==1)o[P++]=o[s++]}else{for(var Y=0;Y<=n;Y++){o[P++]=X[A++]}}}}function e(X,o){var A=0;
while(X[o+A]!=10)A++;return W.Sq(X,o,A)}var z=new j2(0,0,64,64),L=new Uint8Array(64*64*4),l=new Uint8Array(64*64*4);
function x(){for(var Y=0;Y<4096;Y++){var X=Y<<2;L[X+0]=l[Y+8192];L[X+1]=l[Y+4096];L[X+2]=l[Y];L[X+3]=l[Y+12288]}}function S(X){var o=0,A={};
for(var Y=0;Y<5;Y++){var P=e(X,o);o+=P.length+1;P=P.split(" ");A[P[0]]=parseInt(P[1])}var F=A.PIXELSIZE,n=[],R=new j2;
while(o<X.length){var P=e(X,o),Q=P.split(",");o+=P.length+1;if(Q[2]!="LZF")throw Q[2];z.x=parseInt(Q[0]);
z.y=parseInt(Q[1]);R=R.Z0(z);var s=parseInt(Q[3]);n.push([z.clone(),new Uint8Array(X.buffer,o+1,s-1)]);
o+=s}var j=I.R(R.P()*F);for(var Y=0;Y<n.length;Y++){var _=n[Y];m(_[1],l);if(F==4){x();I.fF(L,_[0],j,R)}else I.Vo(l,_[0],j,R)}return[R,j]}function k(X,o){return parseInt(X.getAttribute(o))}function f(X,o){var A=X.getAttribute("filename"),P=o.be[o.ES+"/layers/"+A+".pixelselection"],F=S(P),n=new cc.o7;
n.VA=k(X,"visible")==1;n.rect=F[0];n.channel=F[1];return n}return{uU:i}}();i$.Sd={};i$.Sd.yC=!0;i$.Sd.pX=function(i,C){gI.uU(i,C)};
i$.do={};i$.do.pX=function(i){var C=new Uint8Array(i),m=i$.do.jM(C,0,0),e=m.sub[2],z=i$.do.u0(C,e),L=m.sub[3],l=i$.do.u0(C,L);
return[z,l]};i$.do.u0=function(i,C){var m=C.sub[C.sub.length-1],e=m.sub[0].F,z=m.sub[1].F,L=i.slice(e,e+16),l=i.slice(z,z+m.sub[1].size),x=W.nO,S=i[e],k=x(i,e+1),f=x(i,e+5),X=i[e+13],o=new j2(0,0,k,f),A=I.R(k*f*4);
if(X){new Uint32Array(A.buffer).fill(4278190080)}else{UTEX.readBC1(i,z,A,k,f)}return{Jw:o,data:A}};i$.do.jM=function(i,C,m){var e=W.Sq,z=W.nO,L=e(i,C,4);
L=L.split("").reverse().join("");var l=z(i,C+4);if(l!=0){console.log(i.slice(C-8));throw l}var x=z(i,C+8);
while((x&3)!=0)x++;var S={zx:L,F:C+12,size:x};if(L=="CARF"||L=="CTEX"||L=="CREW"||L=="BMAP"){S.sub=[];
C+=12;if(L=="CTEX"||L=="CREW")C+=32;var k=S.F+S.size;while(C<k){var f=i$.do.jM(i,C,m+1);S.sub.push(f);
C+=12+f.size+(f.size&1)}}return S};i$.Mz={};i$.Mz.yC=!0;i$.Mz.pX=function(i,C){fH.uU(i,C)};i$.wt={};
i$.wt.yC=!0;i$.wt.pX=function(i,C){f$.uU(i,C)};i$.eJ={};i$.eJ.yC=!0;i$.eJ.pX=function(i,C){hX.uU(i,C)};
i$.f8={};i$.f8.yC=!0;i$.f8.pX=function(i,C){gk.uU(i,C)};i$.we={};i$.we.yC=!0;i$.we.pX=function(i,C){fh.uU(i,C)};
i$.RN={};i$.RN.yC=!0;i$.RN.B3=function(i,C,m,e,z,L){if(e==null)e=[!0,!1,!1,!1,!0];var l=d2.Em(i,{nN:e[0],hidden:e[1],axg:e[2],akl:e[3],mQ:e[4],auA:C,ain:m},z.FV,L);
return l};i$.RN.pX=function(i,C,m){d2.uU(i,C,m)};i$.wR={};i$.wR.yC=!0;i$.wR.pX=function(i,C){var m=150,e=new hN(1,0,0,-1,0,0);
e.scale(m/72,m/72);C.lC=m;var z=new ix(C,e,!0);FromPS.Parse(i,z)};i$.Fx={};i$.Fx.yC=!0;i$.Fx.B3=function(i,C,m,e,z){if(e==null)e=["",100,!1,!1,!1,0,!1];
e[7]=["jpg"];var L=new ToPDF;gm.Em(i,e,L,z.FV,C,m);return L.buffer};i$.Fx.pX=function(i,C,m){var e=2;
while(!0){var z=e*72,L=new hN(1,0,0,-1,0,0);L.scale(z/72,z/72);C.lC=z;var l=new ix(C,L,!0);FromPDF.Parse(i,l);
var x=Math.max(C.m,C.J);if(m&&x<Math.max(m[0],m[1])){C.M=[];var S=e;while(x*(e/S)<Math.max(m[0],m[1]))e++}else break}};
i$.vj={};i$.vj.yC=!0;i$.vj.pX=function(i,C){var m=72,e=new hN(1,0,0,1,0,0);e.scale(m/72,m/72);C.lC=m;
var z=new ix(C,e,!1);FromWMF.Parse(i,z)};i$.sx={};i$.sx.qk=!0;i$.sx.yC=!0;i$.sx.B3=function(i,C,m,e,z){if(e==null)e=["",100,!1,!1,!1,0,!1];
e[7]=[];var L=new ToEMF;gm.Em(i,e,L,z.FV);return L.buffer};i$.sx.pX=function(i,C){var m=72,e=new hN(1,0,0,1,0,0);
e.scale(m/72,m/72);C.lC=m;var z=new ix(C,e,!1);FromEMF.Parse(i,z)};i$.EU={};i$.EU.yC=!0;i$.EU.pX=function(i,C){return cD.uU(i,C)};
i$.Xj={};i$.Xj.pX=function(){var i,C,m,e,z,L,l=0,x=0,S=0,k=0,f=0,Q="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",s=null;
function X(j){var _=dg.uU(j),B=_.nU,h=0,D,T;console.log(_);var N=new Uint8Array(j);if(B=="ILBM")return o(_,N);
if(B=="CIMG")return F(_,N);if(B=="ANIM"&&_.sub[0].zx=="ADAT")return R(_,N);if(B!="ANIM")throw B;var a=W.vV,O=W.Q,H=_.sub,q=o(H[0],N);
for(var p=1;p<H.length-2;p++){var y=q[Math.max(0,p-2)].a1a.slice(0),b=H[p];for(var g=0;g<b.sub.length;
g++){var u=b.sub[g],t=u.F;if(u.zx=="ANHD"){var V=N[t++];if(V!=5)throw V;var e=N[t++],c=a(N,t),E=a(N,t+2);
if(c!=0&&c!=i)throw c;if(E!=0&&E!=C)throw E;var Z=a(N,t+4),G=a(N,t+6);if(Z!=0||G!=0)throw Z;t+=8;var J=a(N,t);
t+=2;D=a(N,t);t+=2;if(N[t++]!=0)throw"e";if(N[t++]!=0)throw"e";T=a(N,t);t+=2}else if(u.zx=="DLTA"){var K=[],M=t;
for(var Y=0;Y<16;Y++)K.push(O(N,t+Y*4));t+=64;var U=L;for(var r=0;r<z;r++){if(K[r]==0)continue;t=M+K[r];
for(var dS=0;dS<U;dS++){var w=N[t++],di=0;if(w==0)continue;for(var Y=0;Y<w;Y++){var eM=N[t++];if(eM==0){var j5=N[t++],ds=N[t++];
for(var ba=0;ba<j5;ba++){y[(di*z+r)*U+dS]=ds;di++}}else if(eM<128){di+=eM}else{eM-=128;for(var ba=0;
ba<eM;ba++){y[(di*z+r)*U+dS]=N[t+ba];di++}t+=eM}}}}}else console.log(u.zx)}if(p==1&&D>100)D=0;var gH=D==0?17:Math.round((D-h)*1e3/60);
q.push({data:P(N,y).buffer,Jw:new j2(0,0,i,C),a1a:y,CJ:"_a_frm"+p+","+gH});h=D}if(S!=0&&i>C*2){var ir=new Uint32Array(i*C*2);
ir.fill(4294967295);for(var p=0;p<q.length;p++){var iP=q[p],iy=new Uint32Array(iP.data);for(var di=0;
di<C;di++){var iG=di*2;for(var dS=0;dS<i;dS++)ir[iG*i+dS]=iy[di*i+dS];iG++;for(var dS=0;dS<i;dS++)ir[iG*i+dS]=iy[di*i+dS]}iP.Jw.J*=2;
iP.data=ir.slice(0).buffer}}return q}function o(j,_){var B,N,a;l=0;x=0;k=0;f=0;S=0;for(var O=0;O<j.sub.length;
O++){var H=j.sub[O],q=H.F;if(H.zx=="BMHD"){var h=[];for(var Y=0;Y<4;Y++)h[Y]=W.vV(_,q+2*Y);q+=8;var D=h[2],T=h[3];
i=h[0];C=h[1];m=_[q++];e=_[q++];a=_[q++];if(a!=0&&a!=1)throw a;L=i+15>>>4<<1;z=m+e}else if(H.zx=="CMAP")l=q;
else if(H.zx=="CAMG"){var p=W.Q(_,q);x=p&32768,S=p&4,k=p&2048;f=p&128}else if(H.zx=="BODY"){N=I.R(L*C*z);
if(a==0)N=_.slice(q,q+N.length);if(a==1)ej.qv(_,q,H.size,N,0,N.length)}else if(H.zx=="PLTP"){console.log(_.slice(q,q+H.size))}}B=P(_,N);
return[{Jw:new j2(0,0,i,C),data:B.buffer,a1a:N}]}function A(j,k7){return j[k7>>>3]>>>7-(k7&7)&1}function P(j,_){var B=m-2,N=(1<<B)-1,a=Math.round(255/N),O,H,q,h=L*8;
if(l!=0){var D=1<<m,T=!0;for(var Y=1;Y<D;Y++){var p=l+Y*3;if(j[p]!=j[p-3]||j[p+1]!=j[p-2]||j[p+2]!=j[p-1]&&j[p+2]!=j[p-1]+1)T=!1}if(T){for(var Y=0;
Y<D;Y++){var p=l+Y*3,y=Math.round(Y*255/(D-1));j[p]=j[p+1]=j[p+2]=y}}}var b=I.R(i*C*4);for(var g=0;g<C;
g++)for(var u=0;u<i;u++){var t=0;for(var V=0;V<z;V++){var c=(g*z+V)*h+u,E=A(_,c);t|=E<<V}t=t&(1<<m)-1;
var Y=g*i+u,Z=Y<<2;if(l!=0){if(k!=0&&t>>>B!=0){var G=t>>>B,J=(t&N)*a;if(G==1)q=J;else if(G==2)O=J;else if(G==3)H=J}else{var J=l+t*3;
O=j[J+0];H=j[J+1];q=j[J+2]}}else{if(m==24){O=t>>>0&255;H=t>>>8&255;q=t>>>16&255}else if(m==16){var K=0,M=1,r=4;
for(var V=0;V<16;V++)K+=(t>>>V&1)<<15-V;var U=(1<<M)-1,dS=(1<<r)-1;O=(K>>>7&U)*(255/U);H=q=O}else throw m}b[Z+0]=O;
b[Z+1]=H;b[Z+2]=q;b[Z+3]=255}return b}function F(j,_){var B=1,N=2,a=4,O=W.Q,H=W.vV,i=200,C=200,q,h,D,T;
for(var p=0;p<j.sub.length;p++){var y=j.sub[p],b=y.F;if(y.zx=="TBHD"){i=O(_,b);b+=4;C=O(_,b);b+=4;T=I.R(i*C*4);
D=new j2(0,0,i,C);b+=4;var g=O(_,b);b+=4;var u=H(_,b);b+=2;if(u!=0)throw"e";h=H(_,b);b+=2;var t=O(_,b);
b+=4;if(t!=1)throw t;q=0;if(g&B)q+=3;if(g&N)q+=1}if(y.nU=="TBMP"){var V=y.sub;for(var c=0;c<V.length;
c++){var E=V[c].F,Z=V[c].size,G=H(_,E),J=H(_,E+2),K=H(_,E+4)-G+1,M=H(_,E+6)-J+1;E+=8;var U=I.R(K*M*4),r=I.R(K*M);
U.fill(255);for(var Y=0;Y<4;Y++){E=n(_,E,Z-8,r,0);I.uC(r,U,3-Y)}if(E!=V[c].F+Z)throw"e";I.fF(U,new j2(G,J,K,M),T,D)}}}return[{Jw:D,data:T.buffer}]}function n(j,_,B,N,a){var O=_;
while(a<N.length){var H=j[_++],jU=(H&127)+1;if(H&128){H=j[_++];for(var Y=0;Y<jU;++Y)N[a++]=H}else{for(var Y=0;
Y<jU;++Y)N[a++]=j[_++]}}return _}function R(j,_){if(s==null){var B=i$.yk(Q);s=new Uint32Array(pako.inflate(new Uint8Array(B)).buffer)}var N=W.Q,a=W.vV,O=j.sub[0],H=j.sub[1],i=a(_,O.F),C=a(_,O.F+2),q=a(_,O.F+4),y,Y,b,g,u,t;
if(q!=3)throw q;var h=new j2(0,0,i,C),D=I.R(i*C*4),T=I.R(i*C);D.fill(255);var p=new Uint32Array(D.buffer),V=H.F;
for(g=0;g<2;g++){t=g;u=0;y=Math.floor((i*C+2-g-1)/2);while(y>0){Y=_[V++];if(Y&128){Y=257-Y;y-=Y;b=_[V++];
u=u&s[b]|s[b+256];do{p[t]=u;t+=2}while(--Y)}else{Y++;y-=Y;do{b=_[V++];p[t]=u=u&s[b]|s[b+256];t+=2}while(--Y)}}}for(var Y=0;
Y<D.length;Y+=4){var c=D[Y+3],E=D[Y+2],Z=D[Y+1];D[Y]=c;D[Y+1]=E;D[Y+2]=Z;D[Y+3]=255}for(var G=0;G<C>>>1;
G++){for(var J=0;J<i;J++){var Y=G*i+J,b=(C-1-G)*i+J,K=p[Y];p[Y]=p[b];p[b]=K}}return[{Jw:h,data:D.buffer}]}return X}();
i$.hp={};i$.hp.yC=!1;i$.hp.B3=function(i,C,m,e){var z=i[0][4],L=new Uint8Array(i[0][0]),l=2,x=z?!0:!1,S=x?4:3,k=new Uint8Array(C*m*S);
for(var f=0;f<m;f++)for(var X=0;X<C;X++){var o=f*C+X<<2,A=((m-f-1)*C+X)*S;k[A]=L[o+2];k[A+1]=L[o+1];
k[A+2]=L[o+0];if(x)k[A+3]=z[0][f*C+X]}if(!0){var P=k.length,F=0,n=new Uint8Array(P*2),R=0,Q=0,s=C*S;
while(Q<P){var j=Q,_=0,B=s*(Math.floor(Q/s)+1);while(j<B&&_<128){var N=!0;for(var Y=0;Y<S;Y++)N=N&k[Q+Y]==k[j+Y];
if(!N)break;j+=S;_++}if(_==1){var a=1;while(a<128&&Q+(a+1)*S<B){var N=!0,O=Q+a*S;for(var Y=0;Y<S;Y++)N=N&k[O+Y]==k[O+S+Y];
if(N)break;a++}n[R++]=a-1;for(var H=0;H<a;H++)for(var Y=0;Y<S;Y++)n[R++]=k[Q++]}else{n[R++]=127+_;for(var Y=0;
Y<S;Y++)n[R+Y]=k[Q+Y];R+=S;Q+=S*_;F+=_}}k=n.slice(0,R);l+=8}var q=new Uint8Array(18+k.length+26);q[2]=l;
W.ZO(q,12,C);W.ZO(q,14,m);q[16]=S*8;q[17]=S==4?8:0;q.set(k,18);W.AW(q,18+k.length+8,"TRUEVISION-XFILE.");
return q.buffer};i$.hp.pX=function(i){var C=new Uint8Array(i),m=0,e=C[0],z=C[1],L=C[2],l=C[4]*256+C[3],x=C[6]*256+C[5],S=C[7],k=C[9]*256+C[8],f=C[11]*256+C[10],X=C[13]*256+C[12],o=C[15]*256+C[14],A=C[16],P=C[17],F=P>>>4,n=W.Sq(C,18,e),R=I.R(X*o*4),m=18+e+(x*S>>>3),Q=new Uint8Array(C.buffer,m);
if(L>3){var s=0,j=C,_=new Uint8Array(X*o*A>>>3),B=m,N=0,a=C.length,O=A>>>3;while(N<_.length){var k7=j[B];
B++;if(k7<128)for(var Y=0;Y<k7+1;Y++){for(var H=0;H<O;H++){_[N]=j[B];N++;B++}}else{for(var Y=0;Y<k7-127;
Y++){for(var H=0;H<O;H++){_[N]=j[B+H];N++}}B+=O}}L-=8;Q=_;m=B}else m+=X*o*A>>>3;var q=new Uint8Array(4),h=i$.hp.a91;
for(var D=0;D<o;D++)for(var T=0;T<X;T++){var p=(F&2)==0?(o-D-1)*X+T:D*X+T,y=D*X+T,b,g,u,t=255,V=p*A>>>3;
if(L==1){var c=0;if(A==8)c=Q[V];else throw"e";h(C,18+e+l+(c*S>>>3),S,q);b=q[0];g=q[1];u=q[2];t=q[3]}else if(L==2){h(Q,V,A,q);
b=q[0];g=q[1];u=q[2];t=q[3]}else if(L==3){if(A==8)b=g=u=Q[V];else throw"e"}var E=y*4;R[E]=b;R[E+1]=g;
R[E+2]=u;R[E+3]=t}var q={Jw:new j2(0,0,X,o),data:R.buffer,CJ:n};if(I.Rz(R)){var Z=I.R(X*o);I.Ud(R,Z,3);
I.eS(R,4278190080,16777215);q.T3=[Z]}return[q]};i$.hp.a91=function(i,C,m,e){var z,L,l,x=255;if(m==24||m==32){l=i[C];
L=i[C+1];z=i[C+2];if(m==32)x=i[C+3]}else if(m==16){var S=i[C+1]<<8|i[C+0];z=S>>>10&31;L=S>>>5&31;l=S>>>0&31;
z=Math.round(z*(255/31));L=Math.round(L*(255/31));l=Math.round(l*(255/31))}else throw"e";e[0]=z;e[1]=L;
e[2]=l;e[3]=x};i$.axv=function(){var i,C=[],m=!1;function e(l,x,S,k){i=S;C.push(l,k);z()}function z(){if(m||C.length==0)return;
m=!0;i$.ajj(C.shift(),"image/avif",L)}function L(l){i(null,[l],C.shift());m=!1;z()}return{yC:!1,xL:!0,pX:e}}();
i$.alI=function(){var i,C=[],m=!1,e,z,L,l=10,x,S,k,f=0,o;function X(s,j,_,B,N){i=_;C.push(s,B);var a=cZ.uU(s),O=cZ.aCs(a,"vide"),H=O.tkhd,q=O.mdia.minf.stbl,h=H.duration/a.moov.mvhd.HA,D=q.stsz.length,T=Math.round(D/h);
console.log(a);e=H.HG;z=H.bB;var p=e+" \xD7 "+z+" px, "+D+" frames, "+b3.WF(e*z*4*D)+" decoded<br/>";
p+=h.toFixed(2)+" seconds, "+T+" FPS";var y=new eX(v.E.H,!0);y.data={d:v.B.c6,pw:"setFPS",GZ:l,G$:F,a0W:p};
N.T(y)}async function A(){if(m||C.length==0)return;m=!0;var s=C.shift(),j=cZ.uU(s),_=cZ.aCs(j,"vide"),B=_.tkhd,N=_.mdia.minf.stbl,a=N.stsd.azX.avcC,O=B.duration/j.moov.mvhd.HA,H=N.stsz.length,q=Math.round(H/O),h=Math.max(1,Math.round(q/l)),D=N.stsd.lo,y=0;
console.log(D);if(["hvc1","hev1","apcn"].indexOf(D)!=-1)alert(D.toUpperCase()+" codec not supported");
o=Date.now();e=B.HG;z=B.bB;L=[];x=document.createElement("canvas");S=x.getContext("2d");x.width=e;x.height=z;
var T=new Uint8Array(s),p=[];if(N.stsd.lo=="raw "){for(var b=0;b<H;b++){var g=e*z;if(y%h==0){var u=cZ.aeM(j,"vide",b),t=new Uint8Array(s,u[0],u[1]),V=I.R(e*z*4);
V.fill(255);for(var Y=0;Y<g;Y++){var c=Y*4,E=Y*3;V[c]=t[E];V[c+1]=t[E+1];V[c+2]=t[E+2]}var Z=L.length;
L[Z]={CJ:"_a_"+Z+","+Math.round(h*1e3/q),Jw:new j2(0,0,e,z),data:V}}y++}P();return}var G=new VideoDecoder({output:function(M){if(y%h==0){S.drawImage(M,0,0);
M.close();var V=S.getImageData(0,0,e,z).data.buffer,Z=L.length;L[Z]={CJ:"_a_"+Z+","+Math.round(h*1e3/q),Jw:new j2(0,0,e,z),data:V}}else M.close();
clearTimeout(f);f=setTimeout(P,100);y++},error:function(M){console.log(M.message)}}),J={codec:"vp09.00.10.08",codedWidth:e,codedHeight:z};
if(a){J.codec="avc1.640034";J.description=T.slice(a.F,a.F+a.Z_)}G.configure(J);for(var Y=0;Y<H;Y++){var u=cZ.aeM(j,"vide",Y),t=new Uint8Array(s,u[0],u[1]),K=new EncodedVideoChunk({timestamp:Y,duration:1e3,type:Y==0?"key":"delta",data:t});
G.decode(K)}await G.flush()}function P(){i(null,L,C.shift());m=!1;console.log(Date.now()-o);A()}function F(s){l=Math.max(1,Math.min(60,s));
if(window.VideoDecoder)A();else n()}function n(){if(m||C.length==0)return;m=!0;x=document.createElement("canvas");
S=x.getContext("2d");k=document.createElement("video");var s="data:"+"video/mp4"+";base64,"+i$.m7(C.shift());
k.src=s;k.muted=!0;k.currentTime=0;k.addEventListener("canplay",R,!1);k.addEventListener("timeupdate",Q,!1)}function R(s){k.removeEventListener("canplay",R);
e=x.width=k.videoWidth;z=x.height=k.videoHeight;L=[];k.play()}function Q(s){clearTimeout(f);S.drawImage(k,0,0);
L.push({CJ:"_a_"+L.length+","+Math.round(1e3/l),Jw:new j2(0,0,e,z),data:S.getImageData(0,0,e,z).data.buffer});
var j=k.currentTime+1/l;if(j<k.duration&&s){k.currentTime=j;f=setTimeout(Q,1e3)}else{i(null,L,C.shift());
k.removeEventListener("timeupdate",Q);m=!1;n();L=null}}return{yC:!1,xL:!0,pX:X}}();i$.alI.B3=function(){var i,C,m,e,z,L,l=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],x=40,S,k,f,X,o,A;
function P(D,T){if(!z&&T){if(T.description){z=T.description}if(T.decoderConfig&&T.decoderConfig.description){z=T.decoderConfig.description}}var p=new ArrayBuffer(D.byteLength);
D.copyTo(p);F(p);m.push({duration:D.duration,timestamp:D.timestamp,type:D.type,byteLength:D.byteLength});
if(D.type=="key"){e.push(m.length)}}function F(D){var T=new Uint8Array(L.byteLength+D.byteLength);T.set(new Uint8Array(L));
T.set(new Uint8Array(D),L.byteLength);L=T.buffer}function n(D){return new Uint8Array([D.charCodeAt(0),D.charCodeAt(1),D.charCodeAt(2),D.charCodeAt(3)]).buffer}function R(D){var T=new Uint32Array([D]),p=new Uint8Array(T.buffer);
return new Uint8Array([p[3],p[2],p[1],p[0]])}function Q(D){o[X]=D;++X}function s(D){o[X]=D>>8&255;o[X+1]=D&255;
X+=2}function j(D){o[X]=D>>16&255;o[X+1]=D>>8&255;o[X+2]=D&255;X+=3}function _(D){o[X]=D>>24&255;o[X+1]=D>>16&255;
o[X+2]=D>>8&255;o[X+3]=D&255;X+=4}function B(D){f.push(X);X+=4;N(D)}function N(D){for(var Y=0;Y<D.length;
++Y){o[X]=D.charCodeAt(Y);++X}}function a(D){o.set(new Uint8Array(D),X);X+=D.byteLength}function O(){var D=X;
X=f.pop();_(D-X);X=D}function H(){f=[];var D=[],T={},p=9e4,y=m.length,b=e.length,g=-1;for(var Y=0;Y<m.length;
++Y){S+=m[Y].duration/1e3;k+=m[Y].byteLength;if(m[Y].duration!=g){if(Y!=0){D.push(T)}g=m[Y].duration;
T={duration:9e4*m[Y].duration/1e6,sampleCount:1}}else{T.sampleCount=T.sampleCount+1}}k+=8;D.push(T);
var u=D.length,t=579+z.byteLength+4*y+4*y+4*b+8*u;o=new Uint8Array(t);X=0;B("moov");B("mvhd");_(0);_(0);
_(0);_(1e3);_(S);_(65536);s(256);s(0);_(0);_(0);_(65536);_(0);_(0);_(0);_(65536);_(0);_(0);_(0);_(1073741824);
_(0);_(0);_(0);_(0);_(0);_(0);_(2);O();B("trak");B("tkhd");_(7);_(0);_(0);_(1);_(0);_(S);_(0);_(0);s(0);
s(0);s(256);s(0);_(65536);_(0);_(0);_(0);_(65536);_(0);_(0);_(0);_(1073741824);_(i*65536);_(C*65536);
O();B("mdia");B("mdhd");_(0);_(0);_(0);_(p);_(S/1e3*p);Q(85);Q(196);s(0);O();B("hdlr");_(0);_(0);N("vide");
_(0);_(0);_(0);N("VideoHandler");Q(0);O();B("minf");B("vmhd");_(1);s(0);s(0);s(0);s(0);O();B("dinf");
B("dref");_(0);_(1);B("url ");_(1);O();O();O();B("stbl");B("stsd");_(0);_(1);B("avc1");s(0);s(0);s(0);
s(1);s(0);s(0);_(0);_(0);_(0);s(i);s(C);_(4718592);_(4718592);_(0);s(1);for(var Y=0;Y<8;++Y){_(0)}s(24);
s(-1);B("avcC");a(z);O();O();O();B("stts");_(0);_(u);for(var Y=0;Y<u;++Y){_(D[Y].sampleCount);_(D[Y].duration)}O();
B("stsc");_(0);_(1);_(1);_(1);_(1);O();B("stsz");_(0);_(0);_(y);for(var Y=0;Y<y;++Y){_(m[Y].byteLength)}O();
B("stco");_(0);_(y);var V=x;for(var Y=0;Y<y;++Y){_(V);V+=m[Y].byteLength}O();B("stss");_(0);_(b);for(var Y=0;
Y<b;++Y){_(e[Y])}O();O();O();O();O();O();return}function q(D,T,p){var y=new Uint8Array(i*C*4),b=new Uint8Array(D),g=T?i-1:i,u=p?C-1:C;
if(T){for(var Y=0;Y<u;++Y){y.set(b.slice(4*Y*g,4*Y*g+4*g),4*Y*i);y[4*(Y+1)*i-4]=b[4*(Y+1)*g-4];y[4*(Y+1)*i-3]=b[4*(Y+1)*g-3];
y[4*(Y+1)*i-2]=b[4*(Y+1)*g-2];y[4*(Y+1)*i-1]=b[4*(Y+1)*g-1]}if(p){y.set(y.slice(4*i*u-4*i,4*i*u),4*i*u)}}else if(p){y.set(b);
y.set(b.slice(4*g*u-4*g),4*g*u)}return y.buffer}async function h(D,T,p,y){var b=Date.now(),g=!1,u=!1,K=0;
if(T%2!=0){g=!0;i=T+1}else{i=T}if(p%2!=0){u=!0;C=p+1}else{C=p}z=null;e=[];m=[];S=0;k=0;L=new Uint8Array;
F(new Uint8Array(l));F(R(0).buffer);F(n("mdat"));var t=new VideoEncoder({output:(chunk,opts)=>P(chunk,opts),error:a8=>{console.log(a8)}}),V=.02*(1+Math.pow(3.2*y[0]/100,2.3)),c=V*i*C,E=c*D.length,Z=Math.round(c*24),G={width:i,height:C,codec:"avc1.420034",bitrate:Z},J=await VideoEncoder.isConfigSupported(G);
console.log(J);if(J.supported==!1){console.log("Encoding not supported. Config: ",J.config);return new Uint8Array(0).buffer}t.configure(G);
for(var Y=0;Y<D.length;++Y){var M=D[Y][1]*1e3,U=D[Y][0];if(u||g){U=q(D[Y][0],g,u)}var r=new VideoFrame(U,{timestamp:K,duration:M,format:"RGBA",codedWidth:i,codedHeight:C});
t.encode(r);r.close();K+=M}await t.flush();H();A=new Uint8Array(L.byteLength+o.byteLength);A.set(new Uint8Array(L),0);
A.set(R(k),x-8);A.set(o,L.byteLength);var dS=Date.now();console.log(dS-b);return A.buffer}return h}();
i$.Jp={};i$.Jp.pX=function(i){var C=new Uint8Array(i),m=0,e=112,z=42,L=W.nO,f;m+=8;var l=C[m];m++;if(l!=z)throw"e";
var x=L(C,m);m+=4;var S=W.gh(C,m,x);m+=x*2;var k=[];while(m<C.length){f=L(C,m);m+=4;if(f!=e)throw f;
m+=4;f=C[m];m++;if(f!=z)throw f;var X=L(C,m);m+=4;var o=C[m];m++;if(o!=z){m-=5;X=L(C,m);m+=8;f=C[m];
m++;if(f!=z)throw f}var A=L(C,m)*2;m+=4;if(X>0)k.push(m+A);m+=A+X}var P=new DOMParser,F=P.parseFromString(S,"image/svg+xml").firstChild.firstChild,n=[];
i$.Jp.a1A(F,C,k,n);return n};i$.Jp.a1A=function(i,C,m,e){var z=i.firstChild.firstChild;if(z.tagName=="Image"){var L=z.getElementsByTagName("ImageDescription")[0],l=L.children[0].children,x=L.children[1].children,S=m.shift(),k=[];
for(var Y=0;Y<x.length;Y++)k.push(parseInt(x[Y].getAttribute("NumberOfElements")));while(k.length>3)k[2]*=k.pop();
var f=l.length,X=k[0],o=k[1],A=k[2],P=parseInt(x[0].getAttribute("BytesInc"));for(var F=0;F<A;F++){var n=I.R(X*o*4);
I.eS(n,4278190080);for(var R=0;R<f;R++){var Q=I.R(X*o);if(P==1)for(var s=0;s<Q.length;s++)Q[s]=C[S+s];
else if(P==2)for(var s=0;s<Q.length;s++)Q[s]=Math.min(255,(C[S+s*2+1]<<8|C[S+s*2])>>>2);else throw P;
if(R!=3)I.uC(Q,n,R);if(f==1){I.uC(Q,n,1);I.uC(Q,n,2)}S+=X*o*P}e.push({Jw:new j2(0,0,X,o),data:n.buffer})}}else{var j=i.children,_=0;
while(_<j.length&&j[_].tagName!="Children")_++;if(_==j.length)throw"e";j=j[_].children;for(var B=0;B<j.length;
B++)i$.Jp.a1A(j[B],C,m,e)}};i$.ae3=function(){function i(l,x,S,k,f){var X=new Int8Array(l.buffer),o=new Int8Array(k.buffer),A=x+S;
while(x<A){var k7=X[x];x++;if(k7>=0&&k7<128)for(var Y=0;Y<k7+1;Y++){o[f]=X[x];f++;x++}if(k7>=-127&&k7<0){for(var Y=0;
Y<-k7+1;Y++){o[f]=X[x];f++}x++}}return f}function C(l,x,S,k,f,X){var o=x*S*k>>>3,A=I.R(o*f),P=e(l,0,0,0)[0];
for(var F=0;F<f;F++){var n=P[F+1];if(X){var R=i$.AL("jpg").pX(n.buffer),Q=I.R(o);I.Gt(new Uint8Array(R[0].data),Q);
A.set(Q,o*F)}else if(n[0]==255&&n[1]==216&&n[2]==255){var s=UTIF.LosslessJpegDecode(n);A.set(new Uint8Array(s.buffer),o*F)}else i(n,64,n.length,A,o*F)}return A}function m(l){var x=new Uint8Array(l),S=0,k=W.Sq(x,0,128);
S+=128;var f=W.Sq(x,S,4);S+=4;var X=z(x,S,0)[0],o=X.g28;if(o==null){alert("No image.");return[]}var A=o.cols,P=o.rows,F=A*P,n=o.photoInterpret,R=o.bitsAlloc,Q=o.bitsStored,s=o.lossyCompr;
if(s==null)s=X.g8.lossyCompr;var j=X.g7fe0.pixelData,_=o.numOfFrames;_=_?parseInt(_):1;var B=new Uint8Array(j.buffer),N=F*R>>>3;
if(B.length!=N*_){j=C(j,A,P,R,_,s)}else{}if(R==16)j=new Uint16Array(j.buffer);console.log(o);console.log(X);
var a=[];for(var O=0;O<_;O++){var H=O*N,l=I.R(A*P*4);l.fill(255);if(n=="MONOCHROME2"){var q=0,h=255,D=o.largestValue,T=o.smallestValue;
if(D!=null){h=D;q=T}else if(Q!=8){h=0;q=1e9;for(var Y=0;Y<F;Y++){var p=j[H+Y];if(p>1<<Q-8){if(p>h)h=p;
if(p<q)q=p}}}var y=255/(h-q);for(var Y=0;Y<F;Y++){var p=Math.max(0,Math.min(255,(j[H+Y]-q)*y)),b=Y*4;
l[b]=l[b+1]=l[b+2]=p}}else if(n=="PALETTE COLOR"){var g=o.pltRed,u=o.pltGreen,t=o.pltBlue;for(var Y=0;
Y<F;Y++){var V=j[H+Y],b=Y*4;l[b]=g[V]>>>8;l[b+1]=u[V]>>>8;l[b+2]=t[V]>>>8}}else throw n;a.push({Jw:new j2(0,0,A,P),data:l.buffer})}return a}function e(l,x,S,k){if(S==0)S=l.length;
var f=W.yX,X=W.lY,o=W.nO,A=[],P=x;while(x<S){var F=f(l,x);x+=2;var n=f(l,x);x+=2;var R=o(l,x);x+=4;if(F==65534&&n==57344){if(R==4294967295){var Q=z(l,x,k+1);
A.push(Q[0]);x=Q[1]}else{A.push(l.slice(x,x+R));x+=R}}else if(F==65534&&n==57357){}else if(F==65534&&n==57565)break;
else throw"e"}return[A,x]}function z(l,x,S){var k=W.yX,f=W.lY,X=W.nO,o={},A="\t".repeat(S);while(x<l.length){var P=k(l,x),Q="",s=0,_=null;
x+=2;var F=k(l,x);x+=2;var n=P.toString(16),R=F.toString(16);if(P==65532)break;if(P==65534&&F==57357){x-=4;
break}if(P==65534&&F==57565)throw"e";if(F==0){x+=8;continue}if(65<=l[x+1]){Q=W.Sq(l,x,2);x+=2;if(Q=="OB"||Q=="SQ"||Q=="OW"){s=X(l,x+2);
x+=6}else{s=k(l,x);x+=2}}else{Q=L[n][R].split(",")[1];s=X(l,x);x+=4}console.log(n,R,Q,s);var j=L[n][R];
if(j)j=j.split(",")[0];if(j==null){j="t"+R}if(Q=="SQ"){var B=e(l,x,x+s,S);_=B[0];x=B[1];s=0}else if(Q=="US")_=k(l,x);
else if(Q=="SS")_=f(l,x);else if(Q=="UL")_=X(l,x);else if(Q=="FL")_=W.Bp(l,x);else if(Q=="AT")_=[k(l,x),k(l,x+2)];
else if(Q=="OB")_=l.slice(x,x+s);else if(Q=="OW")_=new Uint16Array(l.slice(x,x+s).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(Q)!=-1){var N=x+s;
while(l[N-1]==0)N--;_=W.Sq(l,x,N-x).trim()}else{console.log(A,JSON.stringify(W.Sq(l,x,Math.min(s,32))));
throw Q}if(o["g"+n]==null)o["g"+n]={};o["g"+n][j]=_;x+=s}return[o,x]}var L={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{pX:m}}();i$.adM={};i$.adM.pX=function(i){var C=new Uint8Array(i),m=0,e={},f=1e9;for(var Y=0;Y<306;
Y++){var z=W.Sq(C,m,8).trim(),L=W.Sq(C,m+9,71).split("/")[0].trim();e[z]=L;m+=80;if(z=="END"){m=Math.ceil(m/2880)*2880;
break}}var l=parseInt(e.NAXIS1),x=parseInt(e.NAXIS2),S=l*x,k=parseInt(e.BITPIX),X=-1e9,o=new Float32Array(S),A=new Float32Array(i,m,i.byteLength-m>>>2);
for(var Y=0;Y<S;Y++){var P=Y<<2,F=Y<<1;if(k==-32){var n=C[m+P+0];C[m+P+0]=C[m+P+3];C[m+P+3]=n;var n=C[m+P+1];
C[m+P+1]=C[m+P+2];C[m+P+2]=n;o[Y]=A[Y]}else if(k==16){o[Y]=W.yX(C,m+F)}else throw k;var R=o[Y];if(R<f)f=R;
if(R>X)X=R}var Q=I.R(S*4),s=1/X;for(var j=0;j<x;j++)for(var _=0;_<l;_++){var Y=j*l+_,B=(x-j-1)*l+_,P=B<<2,R=o[Y]*s;
Q[P]=Q[P+1]=Q[P+2]=255*R;Q[P+3]=255}return[{Jw:new j2(0,0,l,x),data:Q,CJ:e.OBJECT}]};i$.Te={};i$.Te.pX=function(i){var C=new Uint8Array(i),m=16,e=W.Sq(C,m,4),L=32,R=0,Q=0,s=!1,g;
m+=4;var z=W.Sq(C,m,8);m+=8;while(C[m+L-1]==0)L--;var l=W.Sq(C,m,L);m+=32;var x=W.Sq(C,m,4);m+=4;m+=20;
var S=W.Q(C,m);m+=4;var k=W.Q(C,m);m+=4;var f=W.Q(C,m);m+=4;var X=W.Q(C,m);m+=4;var o=W.Q(C,m);m+=4;
var A=W.Q(C,m);m+=4;var P="FujiFilm "+l,F=[0,1,1,2];if(P=="FujiFilm X10"){P="FujiFilm FinePix X10";F=[2,1,1,0]}var n={t271:["FujiFilm"],t272:[P],t277:[1],t33421:[2,2],t33422:F,B1:1};
m=f;var j=[],_=W.vV,B=W.Q(C,m);m+=4;for(var Y=0;Y<B;Y++){var N=_(C,m);m+=2;var a=_(C,m);m+=2;if(N==256){Q=_(C,m);
R=_(C,m+2)}else if(N==272){j=[_(C,m),_(C,m+2)]}else if(N==273){j.push(_(C,m),_(C,m+2))}else if(N==304){s=!(C[m]>>>7)}else if(N==305){var O=Math.round(Math.sqrt(a)),H=[];
for(var q=0;q<a;q++)H.push(C[m+q]);H.reverse();n.t33421=[O,O];n.t33422=H}else if(N==12272){var h=_(C,m),D=_(C,m+2),T=_(C,m+6);
n.t50728=[h/D,1,h/T]}m+=a}var p=R<Q,y=C.slice(o,o+A),b=Math.round(A*8/(R*Q));if(y[0]==73&&y[1]==73&&y[2]==42){g=UTIF.decode(y.buffer)[0].fujiIFD;
b=g.t61443[0];var u=g.t61454,t=g.t61450;if(t)n.t50714=t;if(u)n.t50728=[u[0]/u[1],1,u[0]/u[2]];var V=g.t61447[0];
y=y.slice(V,V+g.t61448[0])}var A=y.length,c=A*8<R*Q*b;if(c){console.log("compressed");var E=n.t33422,Z=~~Math.sqrt(E.length),G=[];
for(var Y=0;Y<Z;Y++)G[Y]=E.slice(Y*Z,Y*Z+Z);y=new Uint8Array(UTIF._decompressRAF(y,G).buffer);A=y.length}function J(dS,w,di){di=di<<8-(w&7);
var eM=w>>>3;dS[eM]|=di>>>16;dS[eM+1]|=di>>>8;dS[eM+2]|=di}var K=A*8/(R*Q);if(K==16)for(var Y=0;Y<A;
Y+=2){var M=y[Y];y[Y]=y[Y+1];y[Y+1]=M}else if(K==14){for(var Y=0;Y<A;Y+=4){var M=y[Y];y[Y]=y[Y+3];y[Y+3]=M;
M=y[Y+1];y[Y+1]=y[Y+2];y[Y+2]=M}}else if(K==12)for(var Y=0;Y<A;Y+=3){var U=y[Y+2]<<16|y[Y+1]<<8|y[Y+0];
U=U>>>12|(U&4095)<<12;y[Y]=U>>>16&255;y[Y+1]=U>>>8&255;y[Y+2]=U&255}if(p)y=i$.Te.anz(y,R,Q);var r=p?2:1;
R*=r;n.t256=[R];n.t257=[Q];n.t258=[b];n.t50719=[j[1],j[0]*r];n.t50720=[j[3],j[2]*r];n.width=R;n.height=Q;
n.data=new Uint8Array(y.buffer);return[n]};i$.Te.anz=function(i,C,m){i=new Uint16Array(i.buffer);var e=new Uint16Array(C*m*2);
for(var z=0;z<m;z+=2)for(var L=0;L<C;L++){var l=z*C+L,x=l*2,S=i[l],k=i[l+C];e[x+1]=e[x+2*C]=k;if(((z>>>1)+L&1)==0){e[x]=S;
e[x+2*C+1]=i[l+1]}else{e[x]=i[l-1];e[x+2*C+1]=S}}return e};i$.iV={};i$.iV.a6W=function(i,C,m){m=m<<8-(C&7);
var e=C>>>3;i[e]|=m>>>16;i[e+1]|=m>>>8;i[e+2]|=m};i$.iV.pX=function(i){var C=new Uint8Array(i),m=0,e=Date.now(),z=cZ.uU(i),L=z.moov.uuid[0],l=new CR3Parser(i),x=l.getTrack().meta,S=L.CMT1[0],k=S.t256[0]=x.width,f=S.t257[0]=x.height,X=k*f,o=S.exifIFD=L.CMT2[0],A=o.makerNote=L.CMT3[0],P=z.moov.trak[3].mdia.minf.stbl,F=P.co64[0],n=C.slice(F,F+P.stsz[0]),R=0;
while(R<n.length){var Q=W.nO(n,R);R+=4;var s=W.yX(n,R);R+=2;var j=n[R]==1;R+=2;R+=4;if(s==8||s==9){var _=UTIF.decode(n.slice(R+8,R+Q-12).buffer)[0];
for(var B in _)A[B]=_[B]}R+=Q-12}S.t277=[1];S.t33421=[2,2];S.t33422=[0,1,1,2];S.B1=1;if(S.t274)S.B1=S.t274[0];
var N=l.extractCFA(),a=x.bitDepth;if(a!=14)throw"e";S.t258=[a];var O=new Uint8Array(Math.ceil(X*a/8)),H=16-a;
for(var Y=0;Y<X;Y++)i$.iV.a6W(O,Y*14,N[Y]<<H);S.width=k;S.height=f;S.data=O;return[S]};i$.ad={};i$.ad.qk=!0;
i$.ad.B3=function(i,C,m,e){var z=new Uint8Array(i[0][0]),L=C*m,l=[1,3,4][e[0]],x=8+8*e[1],S=e[2];if(l==1){var k=new Uint8Array(C*m);
I.Ud(z,k,0);z=k}if(l==3){var k=new Uint8Array(C*m*3);for(var Y=0;Y<L;Y++){var f=Y*4,X=Y*3;k[X]=z[f];
k[X+1]=z[f+1];k[X+2]=z[f+2]}z=k}if(x==16){var o=z.length,k=new Uint8Array(o*2);for(var Y=0;Y<o;Y++){var A=Math.round(z[Y]*(65535/255));
k[Y*2+S]=A>>>8;k[Y*2+1-S]=A&255}z=k}return z.buffer};i$.at5={};i$.at5.pX=function(i,C){function m(S){return~~(.5+I.ie(Math.max(0,Math.min(1,S)))*255)}var e=EXRLoader.parse(i),z=e.width,L=e.height,l=I.R(z*L*4);
for(var x=0;x<L;x++)for(var S=0;S<z;S++){var Y=(x*z+S)*4,k=((L-x-1)*z+S)*4;l[Y]=m(e.data[k+0]);l[Y+1]=m(e.data[k+1]);
l[Y+2]=m(e.data[k+2]);l[Y+3]=m(e.data[k+3])}return[{Jw:new j2(0,0,z,L),data:l.buffer}]};i$.FQ={};i$.FQ.qk=!0;
i$.FQ.yC=!0;i$.FQ.B3=function(i,C,m,e,z){e=["",100,!1,!1,!1,0,!1];e[7]=["jpg"];var L=new ToDXF;gm.Em(i,e,L,z.FV);
return L.buffer};i$.FQ.pX=function(i,C){var m=72,e=new hN(1,0,0,1,0,0);e.scale(m/72,m/72);C.lC=m;var z=new ix(C,e,!1);
FromDXF.Parse(i,z)};i$.alv={};i$.alv.pX=function(){var i=W.yX,C=W.nO,m=W.Sq,e;function z(l,x,S,k,f){var X=C(l,S),o=C(l,S+4),A=C(l,S+8),P=i(l,S+12),F=i(l,S+14);
S+=16;var n={};for(var Y=0;Y<P+F;Y++){var R=C(l,S),Q=C(l,S+4),s,j;if(R>>>31==1){R=R&16777215}if(Y<P)s=W.gh(l,x+R+2,i(l,x+R));
else s="id"+R;var _=k.slice(0);_.push(s);if(Q>>>31==1){Q=Q&268435455;j=z(l,x,x+Q,_,f)}else{var B=C(l,x+Q),N=C(l,x+Q+4),a=C(l,x+Q+8),O=C(l,x+Q+12);
if(O!=0)throw"e";if(B<f[0]||B>f[0]+f[1])throw"e";var H=f[2]+B-f[0];j=l.slice(H,H+N);var q=i$.ra(j.buffer);
if(q&&["bmp","png","ico"].indexOf(q)!=-1){var h=i$.AL(q);if(!h.yC){var D=null;try{D=h.pX(j.buffer)}catch(a8){}if(D){D[0].CJ=_[1];
e.push(D[0])}}}else if(q)console.log(q)}n[s]=j;S+=8}return n}function L(l){e=[];var x=new Uint8Array(l),S=0,k=i(x,S);
S+=2;S+=58;var f=C(x,S);S+=4;S=f;var X=m(x,S,4);S+=4;var o=i(x,S);S+=2;var A=i(x,S);S+=2;var P=C(x,S);
S+=4;var F=C(x,S);S+=4;var n=C(x,S);S+=4;var R=i(x,S);S+=2;var Q=i(x,S);S+=2;S+=R;var s={};for(var Y=0;
Y<A;Y++){var j=S;while(x[j]!=0)j++;var _=m(x,S,j-S),B=C(x,S+8),N=C(x,S+12),a=C(x,S+16),O=C(x,S+20),H=C(x,S+24),q=C(x,S+28),h=i(x,S+32),D=i(x,S+34),Q=C(x,S+36);
s[_]=[N,B,O,a,Q];if(H+q!=0)throw"e";S+=40}for(var T in s){var p=s[T];S=p[2];if(T==".rsrc"){var y=z(x,S,S,[],p),b="id134"}}return e}return L}();
i$.vD={};i$.vD.yC=!0;i$.vD.pX=function(i,C,m){dE.uU(i,C,m)};i$.vD.B3=function(i,C,m){return dE.Em(i)};
(function(){var i=i$.Nf.get("wasm/zstd").buffer;WebAssembly.instantiate(i).then(function(C){var m=C.instance.exports;
i$.vD.apF=m})}());i$.vD.KH=function(i,C){var m=i$.vD.apF,e=i.length,z=m.memory,L=2*e+1e6,S=8;i$.Xa(m,L);
var l=new Uint8Array(z.buffer),x=m.malloc(e);l.set(i,x);while(!0){var k=C==null?e*S:C;i$.Xa(m,L+k);var f=m.malloc(k),X=m.ZSTD_decompress(f,k,x,e);
if(X==-70){m.free(f);S+=S>>>1;if(C!=null)throw"error"}else{l=new Uint8Array(z.buffer);i=l.slice(f,f+X);
m.free(f);break}}m.free(x);return i};i$.w_={};i$.w_.yC=!0;i$.w_.pX=function(){var i=0,C=1,m=2,e=3,z=4,L=5,l=6,x=7,S=1,k=2,f=7,X=8,o=9,A,P,F,n,R;
function Q(){var k7=W.NC(A,P);P+=4;return k7}function s(){var g=0,u=0;for(var Y=0;Y<5;Y++){var t=A[P++];
g+=(t&127)<<u;u+=7;if((t&128)==0)break}return g}function j(){var g=s(),u=W.U8(A,P,g);P+=g;return u}function _(){return{typeName:j(),ayl:Q()}}function B(){var g=Q(),u=j(),t=[],V=Q();
for(var Y=0;Y<V;Y++)t.push([j()]);return{id:g,T_:u,agV:t}}function N(g){var u=g.agV,t=[];for(var Y=0;
Y<u.length;Y++)u[Y].push(A[P++]);for(var Y=0;Y<u.length;Y++){var V=u[Y][1],c;u[Y].push(a(V))}}function a(g){var u;
if(g==i)u=A[P++];else if(g==e)u=j();else if(g==z)u=_();else if(g==C||g==m||g==l||g==L){}else throw g;
return u}function O(g,u,t){var V;if(g==i){if(u==S)V=A[P++]==1;else if(u==k){V=A[P++]}else if(u==X)V=Q();
else if(u==o){V=Q();Q()}else throw u}else if(g==e){V=D(t+1)}else if(g==z){V=D(t+1)}else if(g==L){V=D(t+1)}else if(g==C){V=D(t+1)}else if(g==l){V=D(t+1)}else if(g==m){V=D(t+1)}else throw g;
return V}function H(g,u){var t=F["c"+g],V=t.agV,c={_class:t.T_};for(var Y=0;Y<V.length;Y++){var E=V[Y],Z=E[1],G=E[2],J=O(Z,G,u),K=E[0];
c[K]=J}return c}function q(g,u,t,V){var c=[];for(var Y=0;Y<g;Y++){var E=O(u,t,V);if(E.me&&E.me=="null_count"){var Z=E.qg;
for(var G=0;G<Z;G++)c.push(null);Y+=Z-1}else c.push(E)}return c}function h(){return[Q(),Q()]}function D(g){if(g==null)throw"e";
var u=null,t=A[P],V=null;P++;if(t==0){var c=Q(),E=Q(),Z=Q(),G=Q();u=[c,E,Z,G]}else if(t==1){V=Q();var J=Q();
u=H(J,g)}else if(t==4){var K=B();V=K.id;N(K);F["c"+K.id]=K;u=H(K.id,g)}else if(t==5){var K=B();V=K.id;
N(K);var M=Q();F["c"+K.id]=K;u=H(K.id,g)}else if(t==6){V=Q();var U=j();u=U}else if(t==7){V=Q();var r=A[P++];
if(r!=0)throw r;var dS=Q();if(dS!=1)throw dS;var w=Q(),di=A[P++],eM=a(di);u=q(w,di,eM,g)}else if(t==9){var j5=Q();
u={me:"ref",qg:j5};R["o"+j5]=!0}else if(t==10){u={me:"null_count",qg:1}}else if(t==11){u={me:"end"}}else if(t==12){var M=Q(),ds=j()}else if(t==13){var ba=A[P++];
u={me:"null_count",qg:ba}}else if(t==16){var gH=h();V=gH[0];u=q(gH[1],z,null,g)}else if(t==17){var gH=h();
V=gH[0];u=q(gH[1],C,null,g)}else throw"e";if(V!=null&&V>0){if(n["o"+V]!=null)throw"e";n["o"+V]=u}return u}function T(g,n){if(g instanceof Array){for(var Y=0;
Y<g.length;Y++)g[Y]=p(g[Y],n)}else if(g instanceof Object){for(var u in g)g[u]=p(g[u],n)}}function p(g,n){if(g&&g.me&&g.me=="ref")return n["o"+g.qg];
else return g}function y(g,u,t){var V=Date.now();A=new Uint8Array(g);P=0;F={};n={};R={};var c=W.Sq(A,0,4);
if(c!="PDN3")throw c;P+=4;var E=W.yX(A,P)+A[P+2]*256*256;P+=3;var Z=W.Sq(A,P,E);P+=E;P+=2;while(!0){var G=D(0);
if(G&&G.me&&G.me=="end")break}for(var J in R)if(n[J]==null)throw J;for(var J in n)T(n[J],n);var K=n.o1;
console.log(K);u.m=K.width;u.J=K.height;u.buffer=I.R(u.m*u.J*4);var M=K.layers["ArrayList+_items"];for(var Y=0;
Y<M.length;Y++){var U=M[Y];if(U==null)continue;var r=U["Layer+width"],dS=U["Layer+height"],w=U["Layer+properties"],di=U.properties,eM=di.blendOp._class.split("+").pop();
eM=eM.slice(0,eM.length-7);var j5={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[eM],ds=u.Sv();
ds.yY(w.name);ds.opacity=w.opacity;ds.fJ(w.visible);ds.fn=j5;if(A[P]!=0)throw"e";P++;var ba=W.Q(A,P);
P+=4;var gH=Math.ceil(r*dS*4/ba);ds.rect=new j2(0,0,r,dS);var ir=ds.buffer=I.R(r*dS*4);for(var iP=0;
iP<gH&&P<A.length;iP++){var iy=b();ir.set(iy[1],iy[0]*ba)}for(var iG=0;iG<ir.length;iG+=4){var eg=ir[iG+0];
ir[iG+0]=ir[iG+2];ir[iG+2]=eg}u.M.push(ds)}}function b(){var g=W.Q(A,P);P+=4;var u=W.Q(A,P);P+=4;P+=10;
u-=10;var t=pako.inflateRaw(A.slice(P,P+u));P+=u;return[g,t]}return y}();i$.ar={};i$.ar.yC=!0;i$.ar.pX=function(i,C){jI.uU(i,C)};
i$.Xq={};i$.Xq.yC=!0;i$.Xq.pX=function(){var i,C,n=null,a,O;function m(){var b=i[C];C+=1;return b}function e(){var b=W.vV(i,C);
C+=2;return b}function z(){var b=W.Q(i,C);C+=4;return b}function L(){var b=W.xz(i,C);C+=4;return b}function l(){var b=W.AR(i,C);
C+=8;return b}function x(){var b=z();if(b>200)throw b;var g=W.Yh(i,C,b);C+=b*2;return g}function S(){var b=W.Me(i,C);
C+=8;return b}function k(){var b=W.dU(i,C);C+=4;return b}function f(){var b=z();if(z()!=4)throw"e";var g=[];
for(var Y=0;Y<b;Y++)g.push(z());return g}function X(b,g,u){for(var Y=0;Y<b.length;Y++)if(b[Y][g]==u)return b[Y]}function o(b,g){var u=Date.now();
i=new Uint8Array(b);C=W.Fo(i,"CH"+"NK"+"SQ"+"Li")+8;var t=l(),V=cP.parse(i.buffer.slice(C,C+t)),c=cP.aw7(V,!0);
console.log(c);var E=c.Canvas[0],Z=E.Width,G=E.Height,J=E.Unit,K=g.lC=E.Resolution;if(J==0){}else if(J==1){Z=Math.round(Z*K/2.54);
G=Math.round(G*K/2.54)}else if(J==2){Z=Math.round(Z*K/25.4);G=Math.round(G*K/25.4)}else if(J==3){Z=Math.round(Z*K);
G=Math.round(G*K)}else if(J==5){Z=Math.round(Z*K/72);G=Math.round(G*K/72)}else{console.log(E);throw J}g.m=Z;
g.J=G;g.buffer=I.R(Z*G*4);console.log(Date.now()-u);var M=X(c.Layer,"MainId",E.RootFolder);D(c,i,g,M.FirstChildIndex,0);
console.log(Date.now()-u)}function A(){var b=W.yX(i,C);C+=2;return b}function P(){var b=W.nO(i,C);C+=4;
return b}function F(){var b=W.NC(i,C);C+=4;return b}function R(b){var g={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},t=0;
i=b;C=0;var u={};while(C<i.length){var V=P(),c=P(),E=C+c;if(c==0)continue;var Z=[];if(V==11){var G=P();
for(var J=0;J<G;J++){var K=[P(),P()];Z.push(K);t+=K[1];var M=C+P()-4;K.push(A(),A(),A(),A());K.push(W.uw(i,C));
C+=8;var U=A();K.push(W.gh(i,C,U));C+=U*2;if(C!=M)throw"e"}}else if(V==31){Z=W.U8(i,C,c);C+=c}else if(V==34)for(var Y=0;
Y<3;Y++)Z.push(P()>>>16);else if(V==42)for(var Y=0;Y<4;Y++)Z.push(F());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(V)!=-1){if(c!=4)throw"e";
Z=P();if([37,45,46,51,53,55,61,62].indexOf(V)!=-1){if(Z!=0&&Z!=1)throw V+":"+Z;C=E;continue}}else if(V==47){var r=A();
if(P()!=50)throw"e";if(P()!=0)throw"e";var dS=A();Z=W.Sq(i,C,dS);C+=dS}else if(V==57){var G=A();for(var Y=0;
Y<G;Y++){var w=A(),di=W.Sq(i,C,w);C+=w;var eM=A(),j5=W.Sq(i,C,eM);C+=eM;Z.push([di,j5])}var ds=P();for(var Y=0;
Y<G;Y++)Z[Y].push(ds)}else if(V==39||V==63)Z.push(P(),P());else if(V==64){for(var Y=0;Y<8;Y++)Z.push(W.NC(i,C+Y*4)/100);
C+=32}else{Z=i.slice(C,E);C+=c}var ba=g[V];if(ba==null)ba="t"+V;if(u[ba])throw"e";u[ba]=Z;if(C!=E)throw V}if(n){}n=u;
return u}function Q(b){i=b;C=0;var g=z();if(g!=b.length)throw"e";var u=z(),t=x(),V=z(),c=S(),E=[z()/4294967295,z()/4294967295,z()/4294967295];
return[V,c,E]}function s(b,g){function u(){var c4=[];for(var Y=0;Y<4;Y++)c4.push(W.xz(i,C+Y*4));C+=16;
return c4}function t(k7){var c4=[];for(var Y=0;Y<k7;Y++)c4.push(k());return c4}function V(c4){var kG="";
for(var Y=C;Y<c4;Y+=4)kG+=i.slice(Y,Y+4).join(", ")+"\n";return kG}i=b;C=g+8;var c=l(),E=C+c;C+=56;if(C==E)return;
var Z=[],G=[],J=[],K=[],M=[];while(C<E){var U=z(),gH=1;if(U!=88&&U!=96)throw U;var U=z();if(U!=72)throw"e";
var r=z();if(r!=88&&r!=104&&r!=120)throw r;var U=z();if(U!=88)throw"e";var dS=z(),w=z(),di=u(),eM=[];
J.push(eM);for(var Y=0;Y<6;Y++){eM.push(_(z()))}var j5=S(),ds=z();if(ds==16||ds==1040||ds==304){z();
ds=z()}var ba=S();K.push(ba);var ir=z(),iP=(w&256)!=0,iy=[],iG=[],eg={88:1,104:2,120:3}[r];for(var Y=0;
Y<dS;Y++){var du=Y==0?1:eg;for(var gh=0;gh<du;gh++)iy.push(S(),S());iG.push(du==1?Y==0?"M":"L":du==2?"Q":"C");
var ga=u(),d5=z();gH=k();var fu=t(10),ay=z(),c7=z()}M.push(gH);if(r==104){var eE=S(),jn=S();if(iP){iG.push("Q");
iy.push(eE,jn,iy[0],iy[1])}}if(r==120){var eE=S(),jn=S(),dI=S(),dQ=S();if(iP){iG.push("C");iy.push(eE,jn,dI,dQ,iy[0],iy[1])}}if(w&128){var jo=["M"],hT=[iy[0],iy[1]],ea=iy.length>>>1,b9=I.C.aa3(iy);
for(var Y=0;Y<ea;Y++){var bI=iy[2*Y],ii=iy[2*Y+1],d_=.7;for(var gh=0;gh<2;gh++){b9[Y*4+gh*2]=d_*b9[Y*4+gh*2]+(1-d_)*bI;
b9[Y*4+gh*2+1]=d_*b9[Y*4+gh*2+1]+(1-d_)*ii}}for(var Y=1;Y<ea;Y++){jo.push("C");hT.push(b9[Y*4-2],b9[Y*4-1],b9[Y*4],b9[Y*4+1],iy[Y*2],iy[Y*2+1])}if(iP){jo.push("C");
hT.push(b9[ea*4-2],b9[ea*4-1],b9[0],b9[1],iy[0],iy[1])}iy=hT;iG=jo}if(iP)iG.push("Z");G=G.concat(iy);
Z=Z.concat(iG)}if(C!=E)throw"e";return[{j:G,G:Z},J,K,M]}function j(b,g){i=b;C=g+8;var u=l(),t=C+u,V=0;
C+=56;var c=[];while(C<t){var E=z(),Z=C+E-4;if(Z>t)throw"e";if(E==11){C-=4;var G=x(),J=z();if(J!=12)throw"e";
var K=f(),M=x(),J=z();if(J!=12)throw"e";var U=f();if(C!=t)throw"e"}else{var r=x(),dS=z();if(dS!=V)throw dS;
V++;var w=e();if(w!=0&&w!=1&&w!=2&&w!=5)throw w;var di=m();if(di!=0&&di!=32&&di!=64)throw di;if(z()!=1)throw"e";
if(z()!=1)throw"e";if(m()!=0)throw"e";if(z()==1){var eM=z(),j5=W.nO(i,C);if(eM!=j5+4)throw"e";c.push(new Uint8Array(i.buffer,C+4,j5));
C+=eM}else c.push(new Uint8Array(0));var ds=x();if(C!=Z)throw C}}return c}function _(b){return Math.min(255,Math.round(b/16777216))}function B(b){i=b;
C=0;var g=z();if(g!=16)throw g;var u=z();if(u!=102)throw u;var t=z();if(t!=42&&t!=58)throw t;var V=z();
if(b.length-V!=118+t)throw b.length-V;var c=x();if(c!="Parameter")throw c;var E=z(),Z=z(),G=z(),J=z(),K=[];
for(var Y=0;Y<16;Y++)K.push(z());var c=x();if(c!="InitColor")throw c;if(z()!=20)throw"e";var M=z(),U=z(),r=z();
if(z()!=4)throw"e";if(t==58){var dS=[];K.push(dS);for(var Y=0;Y<4;Y++)dS.push(_(z()))}var c=x();if(c!="BlockSize")throw c;
var w=z();if(w!=12)throw w;var di=f();if(C!=i.length)throw"e";return[E,Z,G,J,M*255,K]}function N(b,g){var u=W.Sq(g,0,40),t=X(b["ExternalC"+"hunk"],"Exte"+"rnalID",u);
if(t==null){console.log("chnk not found",u)}return t?t.Offset:-1}function H(b,g,u,t){if(a==null){a=I.R(256*256*4);
O=I.R(256*256)}var V=b.Mipmap,c=b.MipmapInfo,E=b.Offscreen,Z=X(V,"MainId",u),G=X(c,"MainId",Z.BaseMipmapInfo),J=X(E,"MainId",G.Offscreen),K=N(b,J.BlockData),o=null;
if(K==-1)return null;var M=j(g,K),U=B(J.Attribute),r=U[0],dS=U[1],w=U[2],di=U[3],eM=U[4],j5=U[5],ds=j5[16],ba=j5[1],gH=j5[2],ir=ba+gH;
if(gH!=j5[5])throw"e";if(ba!=j5[7])throw"e";var iP=I.R(256*(j5[6]+j5[8])),iy=new j2;if(ds)iy=new j2(0,0,r,dS);
else{for(var iG=0;iG<di;iG++)for(var eg=0;eg<w;eg++){var du=M[iG*w+eg];if(du.length==0)continue;iy=iy.Z0(new j2(eg<<8,iG<<8,256,256))}}var gh=iy.G_(new j2(0,0,r,dS)),ga=I.R(gh.P()*(ir==1?1:4));
if(ds)new Uint32Array(ga.buffer).fill(255<<24|ds[0]<<16|ds[1]<<8|ds[2]);if(ir==1)ga.fill(eM);for(var iG=0;
iG<di;iG++)for(var eg=0;eg<w;eg++){var du=M[iG*w+eg];if(du.length==0)continue;var d5=new Uint8Array(du.buffer,du.byteOffset+2,du.length-6),fu=new j2(eg<<8,iG<<8,256,256);
UZIP.inflateRaw(d5,iP);if(ir==1){if(j5[8]==32){q(iP,0,O);I.Vo(O,fu,ga,gh)}else I.Vo(iP,fu,ga,gh)}else if(ir==2){if(j5[8]==32){new Uint32Array(a.buffer).fill(4278190335);
q(iP,0,O);I.uC(O,a,3);q(iP,256*32,O);I.uM(O,a)}else for(var Y=0;Y<262144;Y+=4){var ds=iP[65536+(Y>>>2)];
a[Y]=ds;a[Y+1]=ds;a[Y+2]=ds;a[Y+3]=iP[Y>>>2]}I.fF(a,fu,ga,gh)}else if(ir==5){for(var Y=0;Y<262144;Y+=4){a[Y]=iP[65536+Y+2];
a[Y+1]=iP[65536+Y+1];a[Y+2]=iP[65536+Y+0];a[Y+3]=iP[Y>>>2]}I.fF(a,fu,ga,gh)}else throw ir}if(t&&ir==1){var ay=I.R(r*dS*4);
I.uC(ga,ay,3);ga=ay}return[gh,ga,eM]}function q(b,C,g){for(var Y=0;Y<g.length;Y++){g[Y]=(b[C+(Y>>>3)]>>>7-(Y&7)&1)*255}}var h=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function D(b,g,u,t,V){var c=b.Layer,E=b.Canvas[0];while(t!=0){var Z=X(c,"MainId",t),G=Z.Type,w=!1;console.log(Z);
var J=u.Sv();J.yY(Z.Name);J.opacity=Math.min(255,Z.Opacity);J.fJ((Z.Visibility&1)!=0);J.fn=h[Z.Composite];
if(J.fn==null){alert("Unknown blend mode "+Z.Composite);J.fn="norm"}J.cy=Z.Clip==1;u.M.push(J);var K=Z.LayerMaskMipmap;
if(K!=0){var M=H(b,g,K,!1);if(M){J.X=new cc.o7;J.X.rect=M[0];J.X.channel=M[1];J.X.color=M[2];T(J.X.rect,Z,"Mask","Mask");
J.X.gv()}}var U=[];for(var Y=0;Y<3;Y++)U.push(_(Z["DrawColorMain"+["Red","Green","Blue"][Y]]));var r={t:"Objc",v:I.I.$q({Z:U[0],r:U[1],e:U[2]})},dS=JSON.parse(jt.default);
for(var Y=0;Y<jt.order.length;Y++)dS[jt.m8[Y]]={t:"VlLs",v:[]};if(Z.DrawColorEnable==1&&G!=1584){w=!0;
var di=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);di.Clr=r;dS.solidFillMulti.v.push({t:"Objc",v:di})}if(Z.EffectInfo){var eM=Q(Z.EffectInfo),U=eM[2];
if(eM[0]==1){w=!0;var di=JSON.parse(jt.qx[jt.order.indexOf("FrFX")]);di.Clr.v=I.I.$q({Z:U[0]*255,r:U[1]*255,e:U[2]*255});
di.Sz.v.val=Math.round(eM[1]);dS.frameFXMulti.v.push({t:"Objc",v:di})}}if(Z.FilterLayerInfo){i=Z.FilterLayerInfo;
C=0;var j5=z(),ds=z();if(ds!=i.length-C)throw"e";var ba={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[j5];
if(ba!=null){var gH=ft.TQ(ba);J.add[ba]=gH?gH:{};if(ba=="brit")ft.L9["g"+ba](gH,[L(),L(),!0]);if(ba=="hue2")jK.gH(gH,0,[L(),L(),L()]);
if(ba=="curv"){var ir=[],iP=C;for(var Y=0;Y<32;Y++){C=iP+Y*130;var iy=e(),iG=[];ir.push(iG);for(var eg=0;
eg<iy;eg++)iG.push(e()/65535,e()/65535)}for(var Y=0;Y<4;Y++){var iG=ir[Y],du=aA.t1(gH,Y),gh=du[0];for(var eg=0;
eg<iG.length;eg+=2){var ga=du[eg>>>1]=JSON.parse(JSON.stringify(gh));ga.v.Hrzn.v=Math.round(iG[eg]*255);
ga.v.Vrtc.v=Math.round(iG[eg+1]*255)}aA.gH(gH,Y,du)}}if(ba=="grdm"){var d5=gH.Grad.v,fu=[],ay=z();if(ay!=ds-4)throw ay;
var c7=z();if(c7!=16)throw c7;var eE=z();if(eE!=28)throw eE;var jn=z();for(var Y=0;Y<jn;Y++){var dI=0,dQ=[];
for(var eg=0;eg<7;eg++)dQ.push(z());fu.push([dQ[6]/32768,[dQ[1]/4294967295,dQ[2]/4294967295,dQ[3]/4294967295],dQ[4]/4294967295])}I.I.Sc(fu,d5)}if(ba=="blnc"){gH.PrsL.v=z()==1;
for(var Y=0;Y<3;Y++){var hT=gH[["ShdL","MdtL","HghL"][Y]].v;for(var eg=0;eg<3;eg++)hT[eg].v=L()}}}else console.log("Unknown adjustment",j5,ds,J.getName())}if(G==1584){J.de|=16;
J.add.SoCo={classID:"null",Clr:r};J.rH(u)}else if(G==800){u.M.pop()}else if(Z.Folder!=0){J.add.lsct=(Z.Folder&16)!=0?aU.Lp:aU.AY;
J.fn="pass";u.M.pop();u.M.push(u.b$());D(b,g,u,Z.FirstChildIndex,V+1);u.M.push(J)}else if(G==0||G==1||G==2||G==3){var M=H(b,g,Z.RenderMipmap,!0);
if(M){J.rect=M[0];J.buffer=M[1];T(J.rect,Z,"Render","");J.gv()}if(Z.TextLayerType!=null){var b9="TextLayerString",ii="TextLayerAttributes",d_=[Z[b9]],c4=[Z[ii]];
if(Z[b9+"Array"]){i=Z[b9+"Array"];C=0;while(C<i.length){var ds=P();d_.push(i.slice(C,C+ds));C+=ds}i=Z[ii+"Array"];
C=0;while(C<i.length){var ds=P();c4.push(i.slice(C,C+ds));C+=ds}}var kG=J;u.M.pop();for(var fC=0;fC<d_.length;
fC++){var J=kG.clone();u.M.push(J);var bO=R(c4[fC]),id=bO.runs,a5=bO.fnts,eU=bO.bplg,af=bO.bbox,a7=af[2]-af[0],g$=af[3]-af[1],cg=eU[2]-eU[0],cC=eU[3]-eU[1],kF=new hN;
kF.translate(-a7/2,-g$/2);kF.rotate(Math.atan2(-cC,cg));kF.translate(a7/2,g$/2);var am=af[0]+Z.OffsetX,cJ=af[1]+Z.OffsetY;
kF.translate(am,cJ);J.add.lnsr="rend";J.add.TySh=e7._x(0,0);J.add.TySh.l$=new j2(0,0,500,500);J.add.TySh.i=kF;
var fX=J.add.TySh.Wg,hP=W.U8(d_[fC]);J.yY(hP);e7.cQ(fX,0,hP);e7.k8(fX,1);e7.N2(fX,[0,0,a7,g$]);for(var Y=0;
Y<id.length;Y++){var kx=id[Y],f2=kx[0],gt=f2+kx[1],iD=kx[2],eb=e7.IF(fX,f2,gt),dA=u.lC/72*bO.size/100;
if((iD&512)!=0)dA*=kx[6]/100;eb.hU.FontSize=Math.round(dA);var r=(iD&256)!=0?kx.slice(3):bO.colr;eb.hU.FillColor={Type:1,Values:[1,r[0]/65535,r[1]/65535,r[2]/65535]};
var e9=kx[7]==""?bO.font:kx[7];if(a5){if(a5[Y])e9=a5[Y][1];else for(var eg=0;eg<a5.length;eg++)if(a5[eg][0]==e9)e9=a5[eg][1]}e7.Ca(eb,e9);
e7.Bl(fX,f2,gt,eb)}if(J.rect.P()==0)u.qK=!0;else{J.rect=new j2(am,cJ,a7,g$);J.buffer=I.R(J.rect.P()*4);
I.fF(kG.buffer,kG.rect,J.buffer,J.rect)}}}}var eI=b.VectorObjectList;if(Z.VectorNormalType!=null&&eI&&X(eI,"LayerId",t)){var d9=X(eI,"LayerId",t).VectorData,f9=N(b,d9),e4=s(g,f9);
if(e4){var cj=null;if(J.add.TySh){var cj=J.clone();u.M.push(cj);delete J.add.TySh}p(J,Z,e4[0]);if(J.yJ()){J.de|=24;
var i4=u.Sv();i4.yY(J.getName());i4.opacity=J.opacity;u.M.push(i4);p(i4,Z,e4[0]);y(i4,e4);i4.rH(u)}else{y(J,e4,cj!=null)}J.rH(u);
if(cj){cj.add.TySh.i.concat(new hN(1,0,0,1,J.rect.x+J.rect.m/2,J.rect.y+J.rect.J/2))}}}if(w)J.add.lmfx=dS;
if(t==E.CurrentLayer)u.g=[u.M.indexOf(J)];t=Z.NextIndex}}function T(b,g,u,t){b.x+=g[u+"OffscrOffsetX"]+g[t+"OffsetX"];
b.y+=g[u+"OffscrOffsetY"]+g[t+"OffsetY"]}function p(b,g,u){b.add.vmsk=new cc.hF;I.C.i(u.j,new hN(1,0,0,1,g.OffsetX,g.OffsetY),u.j);
b.add.vmsk.$=I.C.aZ(u);b.tO()}function y(b,g,u){var t=g[1][0],V=g[2][0];b.de|=16;var c=b.add.vstk=jt.lc.TQ(!0,!0);
c.fillEnabled.v=u==!0;b.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:255,r:255,e:255})}};c.strokeStyleContent.v.Clr.v=I.I.$q({Z:t[0],r:t[1],e:t[2]});
c.strokeStyleLineWidth.v.val=V*2;c.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return o}();
var cY={};cY.fp=!1;cY.a0H=!1;cY.WG=!1;cY.B2=document.createElement("canvas");cY.Hs=null;cY.lZ=null;cY.k5=0;
(function(){var i={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},C;if(!C)C=cY.B2.getContext("webgl",i);
if(!C)C=cY.B2.getContext("experimental-webgl",i);if(C){cY.fp=!0;cY.a0H=!0;cY.Hs=C;cY.lZ=C.createFramebuffer();
C.bindFramebuffer(C.FRAMEBUFFER,cY.lZ);C.disable(C.BLEND);C.disable(C.DEPTH_TEST);var m=C.createBuffer();
C.bindBuffer(C.ARRAY_BUFFER,m);C.bufferData(C.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),C.STATIC_DRAW);
C.enableVertexAttribArray(0);C.vertexAttribPointer(0,2,C.FLOAT,!1,0,0)}}());cY.a1r=function(i){i=i.replace(/\s\s+/g," ");
i=i.replace(/; /g,";");i=i.replace(/} /g,"}");i=i.replace(/ }/g,"}");i=i.replace(/{ /g,"{");i=i.replace(/ {/g,"{");
i=i.replace(/= /g,"=");i=i.replace(/ =/g,"=");i=i.replace(/\| /g,"|");i=i.replace(/ \|/g,"|");return i};
cY.YX=function(i){var C=cY.Hs;if(i>C.getParameter(C.MAX_TEXTURE_SIZE)){cY.fp=!1;alert("Disabling WebGL")}};
cY.sJ=function(i,C){return new Float32Array([(i.x-C.x)/C.m,(i.y-C.y)/C.J,i.m/C.m,i.J/C.J])};cY.BF=function(){return this.B2};
cY.OK=function(i,C){var m=cY.Hs;m.bindFramebuffer(m.FRAMEBUFFER,cY.lZ);m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,i.zo,0);
m.viewport(0,0,i.m,i.J);if(C){m.enable(m.SCISSOR_TEST);m.scissor(C.x,C.y,C.m,C.J)}else m.disable(m.SCISSOR_TEST)};
cY.amK=function(i,C,m){if(m)throw"error";var e=cY.Hs;e.disable(e.SCISSOR_TEST);e.bindFramebuffer(e.FRAMEBUFFER,null);
e.viewport(0,0,i,C);if(m){e.enable(e.SCISSOR_TEST);e.scissor(m.x,m.y,Math.round(m.m),Math.round(m.J))}else e.disable(e.SCISSOR_TEST)};
cY.clear=function(){var i=cY.Hs;i.clearColor(0,0,0,0);i.clear(i.COLOR_BUFFER_BIT)};cY.mn=function(i,C){if(C==null)C=0;
var m=(C>>>0&255)==0,e=(C>>>8&255)==0,z=(C>>>16&255)==0,L=(C>>>24&255)==0,l=(i>>>0&255)*(1/255),x=(i>>>8&255)*(1/255),S=(i>>>16&255)*(1/255),k=(i>>>24&255)*(1/255),f=cY.Hs;
f.colorMask(m,e,z,L);f.clearColor(l,x,S,k);f.clear(f.COLOR_BUFFER_BIT);f.colorMask(!0,!0,!0,!0)};cY.qd=function(i,C,m,e,z){var L=C.G_(e);
if(z)L=L.G_(z);if(L.bs())return;var l=cY.Hs;cY.OK(i);l.bindTexture(l.TEXTURE_2D,m.zo);l.copyTexSubImage2D(l.TEXTURE_2D,0,L.x-e.x,L.y-e.y,L.x-C.x,L.y-C.y,L.m,L.J)};
cY.H4=function(Y,i,C){var m=cY.a8f[Y];if(m==null||m.m!=i||m.J!=C){if(m)m.delete();m=new cY.RV(i,C)}cY.a8f[Y]=m;
return m};cY.a8f=[];cY.kb=function(){this.hs=null;this.wA=null};cY.kb.Rl=null;cY.kb.prototype.TE=function(i){if(this.wA)return;
this.wA={};var C=cY.Hs,m=this.hs,e=this.wA;for(var Y=0;Y<i.length;Y++){var z=i[Y];e[z]=C.getUniformLocation(m,z)}};
cY.kb.prototype.ZY=function(){};cY.kb.prototype.lw=function(i){var C=cY.Hs;for(var Y=0;Y<i.length;Y+=2){C.uniform1i(i[Y],Y>>>1);
C.activeTexture(C["TEXTURE"+(Y>>>1)]);C.bindTexture(C.TEXTURE_2D,i[Y+1])}C.activeTexture(C.TEXTURE0)};
cY.kb.prototype.oG=function(i,C){var m=cY.Hs,e=m.createShader(m.FRAGMENT_SHADER);m.shaderSource(e,i);
m.compileShader(e);if(!m.getShaderParameter(e,m.COMPILE_STATUS))console.log(m.getShaderInfoLog(e));var z=m.createShader(m.VERTEX_SHADER);
m.shaderSource(z,C);m.compileShader(z);if(!m.getShaderParameter(z,m.COMPILE_STATUS))console.log(m.getShaderInfoLog(z));
var L=m.createProgram();m.attachShader(L,z);m.attachShader(L,e);m.linkProgram(L);if(!m.getProgramParameter(L,m.LINK_STATUS))console.log("Could not initialise shaders");
this.hs=L};cY.kb.prototype._s=function(){if(cY.kb.Rl!=this){cY.Hs.useProgram(this.hs);cY.kb.Rl=this}};
cY.UQ=function(i,C){cY.gX++;cY.k5+=i*C;if(cY.WG)console.log("GL.Channels instances: "+cY.gX+", memory: "+cY.k5);
var m=cY.Hs;this.m=i;this.J=C;this.zo=m.createTexture();this.MF=null;this._f(this.zo,i,C)};cY.UQ.prototype._f=function(i,C,m){var e=cY.Hs;
e.bindTexture(e.TEXTURE_2D,i);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);
e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,C,m,0,e.ALPHA,e.UNSIGNED_BYTE,null)};cY.UQ.prototype.set=function(i,C){var m=cY.Hs;
m.bindTexture(m.TEXTURE_2D,this.zo);m.pixelStorei(m.UNPACK_ALIGNMENT,1);var e=this.m*this.J;if(C==null||C.P()*10>e)m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.m,this.J,0,m.ALPHA,m.UNSIGNED_BYTE,i);
else{var z=new j2(0,0,this.m,this.J),L=I.R(C.P());I.Vo(i,z,L,C);m.texSubImage2D(m.TEXTURE_2D,0,C.x,C.y,C.m,C.J,m.ALPHA,m.UNSIGNED_BYTE,L)}m.pixelStorei(m.UNPACK_ALIGNMENT,4)};
cY.UQ.prototype.delete=function(){var i=cY.Hs;if(this.zo){i.deleteTexture(this.zo);cY.gX--;cY.k5-=this.m*this.J}if(cY.WG)if(cY.WG)console.log("GL.Channels instances: "+cY.gX+", memory: "+cY.k5*4)};
cY.gX=0;cY.RV=function(i,C,m){if(m==null)m=!1;cY.gX++;cY.k5+=i*C*4;if(cY.WG)console.log("GL.Channels instances: "+cY.gX+", memory: "+cY.k5);
var e=cY.Hs;this.ahA=m;this.m=i;this.J=C;this.zo=e.createTexture();this.MF=null;this._f(this.zo,i,C)};
cY.RV.prototype.set=function(i,C){var m=cY.Hs;m.disable(m.SCISSOR_TEST);m.bindTexture(m.TEXTURE_2D,this.zo);
if(i==null||i instanceof Uint8Array){var e=this.m*this.J;if((C==null||C.P()*10>e)&&(i==null||i.length>=e*4))m.texImage2D(m.TEXTURE_2D,0,m.RGBA,this.m,this.J,0,m.RGBA,m.UNSIGNED_BYTE,i);
else{var z=i;if(i.length==e*4){var z=I.R(C.P()*4);I.fF(i,new j2(0,0,this.m,this.J),z,C)}m.texSubImage2D(m.TEXTURE_2D,0,C.x,C.y,C.m,C.J,m.RGBA,m.UNSIGNED_BYTE,z)}}else m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,i)};
cY.RV.prototype.get=function(i){var C=cY.Hs;cY.OK(this);C.readPixels(0,0,this.m,this.J,C.RGBA,C.UNSIGNED_BYTE,i)};
cY.RV.prototype.uK=function(i){if(i.bs())return;var C=cY.Hs;if(this.MF==null){this.MF=C.createTexture();
this._f(this.MF,this.m,this.J);cY.gX++;cY.k5+=this.m*this.J*4}C.bindFramebuffer(C.FRAMEBUFFER,cY.lZ);
C.bindTexture(C.TEXTURE_2D,this.MF);if(i){var m=Math.max(i.x,0),e=Math.max(i.y,0);C.copyTexSubImage2D(C.TEXTURE_2D,0,m,e,m,e,i.m,i.J)}else C.copyTexImage2D(C.TEXTURE_2D,0,C.RGBA,0,0,this.m,this.J,0)};
cY.RV.prototype._f=function(i,C,m){var e=cY.Hs;e.bindTexture(e.TEXTURE_2D,i);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.ahA?e.LINEAR:e.NEAREST);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,C,m,0,e.RGBA,e.UNSIGNED_BYTE,null)};
cY.RV.prototype.delete=function(){var i=cY.Hs;if(this.zo){i.deleteTexture(this.zo);cY.gX--;cY.k5-=this.m*this.J*4}if(this.MF){i.deleteTexture(this.MF);
cY.gX--;cY.k5-=this.m*this.J*4}if(cY.WG)if(cY.WG)console.log("GL.Channels instances: "+cY.gX+", memory: "+cY.k5)};
cY.RV.prototype.clone=function(){var i=cY.Hs,C=new cY.RV(this.m,this.J);cY.OK(this);i.bindTexture(i.TEXTURE_2D,C.zo);
i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,this.m,this.J,0);return C};cY.er={aiV:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",afA:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",ib:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",bS:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",a6j:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",ma:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",CP:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",pJ:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a3Y:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",xw:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ahC:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",sw:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",adA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",oZ:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Bc:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",wX:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",wK:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Aj:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",ao:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",anD:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",akd:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Zg:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",a7e:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
cY.l={};cY.l.lM={};cY.l.TI=null;cY.l.yH=null;cY.l.bN=null;cY.l.afw=function(i,C,m,e,z,L,l,x){if(x==null)x=k4.Nk();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(i)==-1){l=l*x.fill;x.fill=1;x.style=!1}var S=i+(x.Sl?"1":"");
if(cY.l.lM[S]==null)cY.l.lM[S]=new cY.l.fM(i,x.Sl!=null);var k=cY.l.lM[S],f=m.G_(z).G_(L);f.offset(-z.x,-z.y);
if(f.bs())return;var X=cY.Hs;cY.OK(e,f);e.uK(f);k._s();k.ZY(C.zo,e.MF,cY.sJ(m,z),l,x.fill,x.style?1:0,x.eW?1:0,x.Sl?new Float32Array(x.Sl):null);
X.drawArrays(X.TRIANGLES,0,6)};cY.l.co=function(i,C,m,e,z,L,l,x,S,k,f){if(cY.l.TI==null)cY.l.TI=new cY.l.bV(!0,!0);
if(cY.l.yH==null)cY.l.yH=new cY.l.bV(!0,!1);if(cY.l.bN==null)cY.l.bN=new cY.l.bV(!1,!0);var X=k?1:0,o=i?z?cY.l.TI:cY.l.yH:cY.l.bN,A=new Float32Array(f?[f[0],f[1],f[2],1]:[1,1,1,1]),P=C?C.G_(e).G_(x):e.G_(x);
if(P.bs())return;P.offset(-e.x,-e.y);var F=cY.Hs;cY.OK(m,P);m.uK(P);o._s();if(i==null)o.ZY(null,m.MF,z.zo,cY.sJ(e,e),cY.sJ(L,e),l/255,S,X,A);
else if(z)o.ZY(i.zo,m.MF,z.zo,cY.sJ(C,e),cY.sJ(L,e),l/255,S,X,A);else o.ZY(i.zo,m.MF,null,cY.sJ(C,e),null,l/255,S,X,A);
F.drawArrays(F.TRIANGLES,0,6)};cY.l.ahh=function(i,C,m){if(cY.l.a9b==null)cY.l.a9b=new cY.l.i8;var e=cY.l.a9b,z=new j2(0,0,i.m,i.J),L=cY.Hs;
cY.OK(C);C.uK(z);e._s();e.ZY(z,i.zo,C.MF,m.zo);L.drawArrays(L.TRIANGLES,0,6)};cY.l.LQ={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
cY.l.fM=function(i,C){cY.kb.call(this);var m="\t\t\tprecision highp float;\t\t\t"+cY.er.ib+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(C?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+cY.er.ma+"\t\t\t"+cY.er.CP+"\t\t\t"+cY.er.pJ+"\t\t\t"+cY.er.aiV+"\t\t\t"+cY.er.afA+"\t\t\t"+cY.er.a3Y+"\t\t\t"+cY.er.xw+"\t\t\t"+cY.er.ahC+"\t\t\t"+cY.er.sw+"\t\t\t"+cY.er.hash+"\t\t\t"+(C?cY.er.Zg:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+cY.l.LQ[i]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",e="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(i=="diss")m+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else m+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(C?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.oG(m,e)};cY.l.fM.prototype=new cY.kb;cY.l.fM.prototype.ZY=function(i,C,m,e,z,L,l,x){this.TE("srct alpha source target fill style keepBGA blIf".split(" "));
var S=cY.Hs,k=this.wA;S.uniform4fv(k.srct,m);S.uniform1f(k.alpha,e);S.uniform1f(k.fill,z);S.uniform1f(k.style,L);
S.uniform1f(k.keepBGA,l);if(x)S.uniform4fv(k.blIf,x);this.lw([k.source,i,k.target,C])};cY.l.bV=function(i,C){cY.kb.call(this);
this.a0I=i;this.P2=C;var m="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+cY.er.adA+"\t\t\t"+cY.er.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(i?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(C?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(i?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(C?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",e="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oG(m,e)};cY.l.bV.prototype=new cY.kb;cY.l.bV.prototype.ZY=function(i,C,m,e,z,L,l,x,S){if(this.P2)this.TE("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.TE("srct awg dissv source target cswitch".split(" "));var k=cY.Hs,f=this.wA;k.uniform4fv(f.srct,e);
if(this.P2){k.uniform4fv(f.wrct,z);k.uniform1f(f.wcolor,L)}else{k.uniform4fv(f.cswitch,S)}k.uniform1f(f.awg,l);
k.uniform1f(f.dissv,x);var X=[f.source,i,f.target,C];if(this.P2)X.push(f.weight,m);this.lw(X)};cY.l.i8=function(){cY.kb.call(this);
var i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",C="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.oG(i,C)};cY.l.i8.prototype=new cY.kb;cY.l.i8.prototype.ZY=function(i,C,m,e){this.TE(["rct","prev","next","alpha"]);
var z=cY.Hs,L=this.wA;z.uniform4fv(L.rct,[0,0,1,1]);this.lw([L.prev,C,L.next,m,L.alpha,e])};cY.GT={yK:{},Mb:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
cY.GT.PU=function(i,C){var m=fp.SU,e=[m.uX,m.MT,m.zr,m.zH,m.v9,m.NS,m.mS,m.S5].indexOf(i.type),z=cY.GT.yK[i.type];
if(z==null)z=cY.GT.yK[i.type]=new cY.yK[e];z._s();z.ZY(C,i);cY.Hs.drawArrays(cY.Hs.TRIANGLES,0,6)};cY.yK=[];
cY.yK[0]=function(){cY.kb.call(this);this.$$={};var i="\t\t\tprecision mediump float;\t\t\t"+cY.er.CP+"\t\t\t"+cY.er.ib+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[0].prototype=new cY.kb;cY.yK[0].prototype.ZY=function(i,C){var m={Z:C.$C,r:C.ry,e:C.Vq,W:I.R(C.$C.length)},e=m.Z.length;
if(this.$$["m"+e]==null){this.$$["m"+e]={awz:new cY.RV(e,1),S2:I.R(e*4)}}var z=this.$$["m"+e];I.bb(m,z.S2,0);
var L=z.awz;L.set(z.S2);this.TE(["source","map","toGray","presLum"]);var l=cY.Hs,x=this.wA;l.uniform1f(x.toGray,C.Jf?1:0);
l.uniform1f(x.presLum,C.Mu?1:0);this.lw([x.source,i,x.map,L.zo])};cY.yK[1]=function(){cY.kb.call(this);
this.aep=new cY.RV(256,1);this.a0U=I.R(256*4);var i="\t\t\t\tprecision mediump float;\t\t\t\t"+cY.er.wX+"\t\t\t\t"+cY.er.oZ+"\t\t\t\t"+cY.er.Bc+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[1].prototype=new cY.kb;cY.yK[1].prototype.ZY=function(i,C){I.bb({Z:C.aev,r:C.$F,e:C.aic,W:I.R(256)},this.a0U);
this.aep.set(this.a0U);this.TE(["source","map","cfa","cfb","colorize"]);var m=cY.Hs,e=this.wA;m.uniform1f(e.cfa,C.agb);
m.uniform1f(e.cfb,C.iS);m.uniform1i(e.colorize,C.ah0);this.lw([e.source,i,e.map,this.aep.zo])};cY.yK[2]=function(){cY.kb.call(this);
var i="\t\t\tprecision mediump float;\t\t\t"+cY.er.wX+"\t\t\t"+cY.er.wK+"\t\t\t"+cY.er.Aj+"\t\t\t"+cY.er.oZ+"\t\t\t"+cY.er.Bc+"\t\t\t"+cY.er.anD+"\t\t\t"+cY.er.akd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[2].prototype=new cY.kb;cY.yK[2].prototype.ZY=function(i,C){this.TE(["source","vib","sat","yF"]);
var m=cY.Hs,e=this.wA;m.uniform1f(e.vib,C.N5[0]);m.uniform1f(e.sat,C.N5[1]);m.uniform3fv(e.yF,new Float32Array([C.N5[2],C.N5[3],C.N5[3]]));
this.lw([e.source,i])};cY.yK[3]=function(){cY.kb.call(this);var i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[3].prototype=new cY.kb;cY.yK[3].prototype.ZY=function(i,C){this.TE(["source","trf"]);
var m=cY.Hs,e=this.wA;m.uniformMatrix4fv(e.trf,!1,new Float32Array(I.X$.S4(C.OT)));this.lw([e.source,i])};
cY.yK[4]=function(){cY.kb.call(this);var i="\t\t\tprecision mediump float; \t\t\t"+cY.er.ao+"\t\t\t"+cY.er.wX+"\t\t\t"+cY.er.Bc+"\t\t\t"+cY.er.oZ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[4].prototype=new cY.kb;cY.yK[4].prototype.ZY=function(i,C){this.TE(["source","mnm","mxm","shift","lim"]);
var m=cY.Hs,e=this.wA;m.uniform3fv(e.mnm,new Float32Array(C.lB));m.uniform3fv(e.mxm,new Float32Array(C.rF));
m.uniform3fv(e.shift,new Float32Array(C.shift));m.uniform1f(e.lim,C.Nv);this.lw([e.source,i])};cY.yK[5]=function(){cY.kb.call(this);
var i="\t\t\tprecision mediump float;\t\t\t"+cY.er.ib+"\t\t\t"+cY.er.bS+"\t\t\t"+cY.er.a6j+"\t\t\t"+cY.er.oZ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[5].prototype=new cY.kb;cY.yK[5].prototype.ZY=function(i,C){this.TE(["source","cfs"]);
var m=cY.Hs,e=this.wA;m.uniform3fv(e.cfs,C.axt);this.lw([e.source,i])};cY.yK[6]=function(){cY.kb.call(this);
var i="\t\t\tprecision mediump float;\t\t\t"+cY.er.wX+"\t\t\t"+cY.er.bS+"\t\t\t"+cY.er.a6j+"\t\t\t"+cY.er.oZ+"\t\t\t"+cY.er.Bc+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[6].prototype=new cY.kb;cY.yK[6].prototype.ZY=function(i,C){this.TE(["source","wght","prms"]);
var m=cY.Hs,e=this.wA,z=[C.qC,C.auR,C.CP,C.a1b,C.c1,C.adR];m.uniform1fv(e.wght,new Float32Array(C.awg));
m.uniform1fv(e.prms,new Float32Array(z));this.lw([e.source,i])};cY.yK[7]=function(){cY.kb.call(this);
this.AV={};var i="\t\t\tprecision mediump float;\t\t\t"+cY.er.a7e+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.oG(i,cY.GT.Mb)};cY.yK[7].prototype=new cY.kb;cY.yK[7].prototype.ZY=function(i,C){this.TE(["source","lut","N"]);
var m=cY.Hs,e=this.wA,z=C.Rf,L=C.Jg;if(this.AV["m"+z]==null)this.AV["m"+z]=new cY.RV(z,z*z);var l=this.AV["m"+z];
l.set(L);m.uniform1f(e.N,z);this.lw([e.source,i,e.lut,l.zo]);m.activeTexture(m.TEXTURE1);var x=m.LINEAR;
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,x);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,x);
m.activeTexture(m.TEXTURE0)};cY.filter={c5:{},Mb:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",ae1:0,awQ:1,VG:2,a2P:3,adU:4,aBZ:5,vU:6,aow:7};
cY.filter.PU=function(i,C){var m=cY.filter,e,z=i.type+":"+(i.Hw?i.Hw.join(","):""),e=cY.filter.c5[z];
if(e==null)e=cY.filter.c5[z]=new cY.c5[i.type](i.Hw);e._s();e.ZY(C,i);cY.Hs.drawArrays(cY.Hs.TRIANGLES,0,6)};
cY.c5=[0,0,0,0,0,0,0,0,0,0,0,0];cY.c5[7]=function(){cY.kb.call(this);var i="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.oG(ch.cF(i),ch.cF(cY.filter.Mb))};cY.c5[7].prototype=new cY.kb;cY.c5[7].prototype.ZY=function(i,C){this.TE(["source","iwh","kern"]);
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform1fv(e.kern,C.ajE);this.lw([e.source,i])};cY.c5[6]=function(i){cY.kb.call(this);
var C=i[0],m=i[1],e=i[2],z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",L=ch.cF(z);
L=L.replaceAll("PRC",e+".0");L=L.replaceAll("DIR",["x,0","0,x"][m]);this.oG(L,cY.GT.Mb)};cY.c5[6].prototype=new cY.kb;
cY.c5[6].prototype.ZY=function(i,C){this.TE(["source","iwh","rad"]);var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);
m.uniform1f(e.rad,C.Y3);this.lw([e.source,i])};cY.c5[4]=function(i){cY.kb.call(this);var C=i[0],m=i[1],e="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+i[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][m]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][C]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][m]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(m==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.oG(e,cY.GT.Mb)};cY.c5[4].prototype=new cY.kb;cY.c5[4].prototype.ZY=function(i,C){this.TE(["source","iwh","rrad","tr"]);
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform1f(e.rrad,C.pQ);m.uniform1f(e.tr,C.agK);this.lw([e.source,i]);
var z=m.LINEAR;z=m.NEAREST;m.activeTexture(m.TEXTURE0);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,z);
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,z);m.activeTexture(m.TEXTURE0)};cY.c5[5]=function(){cY.kb.call(this);
var i="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.oG(ch.cF(i),ch.cF(cY.filter.Mb))};cY.c5[5].prototype=new cY.kb;cY.c5[5].prototype.ZY=function(i,C){this.TE(["source","ssum","iwh","amnt","edgf"]);
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform1f(e.amnt,C.aAP);m.uniform1f(e.edgf,C.aB_);this.lw([e.source,i,e.ssum,C.aDW])};
cY.c5[3]=function(){cY.kb.call(this);var i="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.oG(ch.cF(i),ch.cF(cY.filter.Mb))};cY.c5[3].prototype=new cY.kb;cY.c5[3].prototype.ZY=function(i,C){this.TE("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform1f(e.tdep,C.amZ);m.uniform1f(e.rrad,C.pQ);m.uniform2fv(e.spec,C.apA);
m.uniform3fv(e.nois,C.ay2);m.uniformMatrix4fv(e.poly0,!1,C.apL);m.uniformMatrix4fv(e.poly1,!1,C.a9H);
this.lw([e.source,i]);var z=m.LINEAR;m.activeTexture(m.TEXTURE0);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,z);
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,z);m.activeTexture(m.TEXTURE0)};cY.c5[0]=function(){cY.kb.call(this);
var i="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.oG(ch.cF(i),ch.cF(cY.filter.Mb))};cY.c5[0].prototype=new cY.kb;cY.c5[0].prototype.ZY=function(i,C){this.TE(["source","iwh","ld","shine"]);
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform3fv(e.ld,C.abt);m.uniform1f(e.shine,C.awA);this.lw([e.source,i,e.tang,C.c9])};
cY.c5[1]=function(){cY.kb.call(this);var i="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.oG(ch.cF(i),ch.cF(cY.filter.Mb))};cY.c5[1].prototype=new cY.kb;cY.c5[1].prototype.ZY=function(i,C){this.TE(["source","iwh","isc","bristle"]);
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform1f(e.isc,C.as0);m.uniform1f(e.bristle,C.aAE);
this.lw([e.source,i])};cY.c5[2]=function(){cY.kb.call(this);var i="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.oG(ch.cF(i),ch.cF(cY.filter.Mb))};cY.c5[2].prototype=new cY.kb;cY.c5[2].prototype.ZY=function(i,C){this.TE(["source","tang","iwh","sigma","expo"]);
var m=cY.Hs,e=this.wA;m.uniform2fv(e.iwh,C.DF);m.uniform1f(e.sigma,C.avL);m.uniform1f(e.expo,C.arm);
this.lw([e.source,i,e.tang,C.c9]);var z=m.LINEAR;m.activeTexture(m.TEXTURE0);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,z);
m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,z);m.activeTexture(m.TEXTURE0)};function I(){}I.z={};
I.as1={};I.asP=function(){var i=[64,64,128,256,512,1024,2048],C=[];for(var Y=0;Y<i.length;Y++){var m=i[Y],e=document.createElement("canvas");
e.width=m;e.height=m;C.push(e.getContext("2d",{willReadFrequently:!0}))}return C}();I.BF=function(i,C){var m,e=I.asP,Y=1,z=Math.max(i,C);
while(Y<e.length&&z>e[Y].canvas.width)Y++;if(Y==e.length){m=e[0];var L=m.canvas;L.width=i;L.height=C}else{m=e[Y];
m.clearRect(0,0,i,C)}return m};I.tD=function(i,C,m){var e=new Uint32Array(C*m);e[0]=i[0];for(var z=1;
z<C;z++)e[z]=e[z-1]+i[z];for(var L=1;L<m;L++){var Y=L*C;e[Y]=e[Y-C]+i[Y];for(var z=1;z<C;z++)e[Y+z]=i[Y+z]+e[Y+z-1]+e[Y+z-C]-e[Y+z-C-1]}return e};
I.Ia=function(i,C,m,e,z,L){var l=(z-1)*C,x=L*C;return i[x+e]-i[x+m-1]-i[l+e]+i[l+m-1]};I.DP=function(i,C,m){var e={},z=0,L=0,l=new Uint32Array(i.buffer),x=l.length,S=Date.now();
for(var k=1;k<m-1;k++)for(var f=1;f<C-1;f++){var X=k*C+f,o=l[X];if(o>>>24<230)L++;if(e[o]==null){e[o]=!0;
z++}}if(L!=0||z<20)return!1;return!0};I.EC=function(i,C,m,e,z,L){if(z==null)z=L=0;e=Math.log(e)/Math.log(2);
e=Math.round(e);var l=new Uint32Array(i.buffer);for(var Y=0;Y<m;Y++)for(var x=0;x<C;x++){l[Y*C+x]=I.a7g(Y+L,x+z,e)}};
I.ams=function(Y,i,C){return 255-((Y>>>C)+(i>>>C)&1)*51};I.a7g=function(Y,i,C){return 4294967295-((Y>>>C)+(i>>>C)&1)*3355443};
I.dK=function(i){return{Z:i>>>16&255,r:i>>>8&255,e:i&255}};I.Pq=function(i){return i.e<<16|i.r<<8|i.Z};
I.dP=function(i){var C=i.toString(16);while(C.length<6)C="0"+C;return C};I.az5=function(i){return parseInt(i,16)};
I.CP=function(i){return.3*i.Z+.59*i.r+.11*i.e};I.ma=function(i){return Math.max(i.Z,i.r,i.e)-Math.min(i.Z,i.r,i.e)};
I.iw=function(i,C,m){return.3*i+.59*C+.11*m};I.aeo=function(i,C,m){return Math.max(i,C,m)-Math.min(i,C,m)};
I.bS=function(i,C){var m=C-i,e=Math.abs(m),z=m-1,L=m+1;if(Math.abs(z)<e)m=z;else if(Math.abs(L)<e)m=L;
return m};I.ie=function(i){return i<.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055};I.rt=function(i){return i<.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)};
I.amN=function(i,C){var m=Math.min(i.length,C.length);for(var Y=0;Y<m;Y+=4){var e=i[Y],z=i[Y+1],L=i[Y+2];
C[Y]=16+Math.floor(65.481/255*e+128.553/255*z+24.966/255*L+.5);C[Y+1]=128-Math.floor(37.797/255*e-74.203/255*z+112/255*L+.5);
C[Y+2]=128+Math.floor(112/255*e-93.786/255*z-18.214/255*L+.5);C[Y+3]=i[Y+3]}};I.auf=function(i,C,m){var e,z,L,l=Math.max(i,C,m),x=Math.min(i,C,m);
L=l;if(l!=0)z=(l-x)/l;else z=0;if(z==0)e=0;else{var S=l-x,k=(l-i)/S,f=(l-C)/S,X=(l-m)/S;if(i==l)e=X-f;
else if(C==l)e=2+k-X;else e=4+f-k;e*=1/6;if(e<0)e=e+1}return{bB:e,ve:z,e:L}};I.avU=function(i,C,m){var e=0,z=0,L=0;
if(C==0)e=z=L=m;else{var l=(i-Math.floor(i))*6,x=Math.floor(l),S=l-Math.floor(l),k=m*(1-C),f=m*(1-C*S),X=m*(1-C*(1-S));
switch(x){case 0:e=m;z=X;L=k;break;case 1:e=f;z=m;L=k;break;case 2:e=k;z=m;L=X;break;case 3:e=k;z=f;
L=m;break;case 4:e=X;z=k;L=m;break;case 5:e=m;z=k;L=f;break}}return{Z:e,r:z,e:L}};I.oZ=function(i,C,m){var e=Math.max(i,C,m),z=Math.min(i,C,m),L=0,l=0,x=(e+z)*.5;
if(e!=z){var S=e-z;l=x>.5?S/(2-(e+z)):S/(e+z);switch(e){case i:L=(C-m)/S+(C<m?6:0);break;case C:L=(m-i)/S+2;
break;case m:L=(i-C)/S+4;break}L*=1/6}return{bB:L,ve:l,A5:x}};I.Bc=function(i,C,m){var e,z,L;if(C==0)e=z=L=m;
else{var l=m<.5?m*(1+C):m+C-m*C,x=2*m-l;e=I.wX(x,l,i+1/3);z=I.wX(x,l,i);L=I.wX(x,l,i-1/3)}return{Z:e,r:z,e:L}};
I.wX=function(i,C,m){if(m<0)m+=1;if(m>1)m-=1;if(m<1/6)return i+(C-i)*6*m;if(m<1/2)return C;if(m<2/3)return i+(C-i)*(2/3-m)*6;
return i};I.wK=function(i,C,m){var e=Math.max(i,C,m),z=Math.min(i,C,m),L,l,x=e,S=e-z;l=e==0?0:S/e;if(e==z)L=0;
else{switch(e){case i:L=(C-m)/S+(C<m?6:0);break;case C:L=(m-i)/S+2;break;case m:L=(i-C)/S+4;break}L*=1/6}return{bB:L,ve:l,qg:x}};
I.Aj=function(i,C,m){var e,z,L,Y,l,x,S,k;Y=Math.floor(i*6);l=i*6-Y;x=m*(1-C);S=m*(1-l*C);k=m*(1-(1-l)*C);
switch(Y%6){case 0:e=m,z=k,L=x;break;case 1:e=S,z=m,L=x;break;case 2:e=x,z=m,L=k;break;case 3:e=x,z=S,L=m;
break;case 4:e=k,z=x,L=m;break;case 5:e=m,z=x,L=S;break}return{Z:e,r:z,e:L}};I.W7=function(){var i=[],C=[];
for(var Y=0;Y<8e3;Y++){var m=Y*(1/4e3);i[Y]=I.rt(m);C[Y]=m>.008856?Math.pow(m,1/3):(903.3*m+16)*(1/116)}return[i,C]}();
I.ao=function(i,C,m,e){if(e==null)e=[.9642,1,.8249];var z=I.W7[0],L=I.W7[1];i=z[~~(.5+i*(4e3/255))];
C=z[~~(.5+C*(4e3/255))];m=z[~~(.5+m*(4e3/255))];var l=I.X$.aqT,x=l[0]*i+l[1]*C+l[2]*m,S=l[4]*i+l[5]*C+l[6]*m,k=l[8]*i+l[9]*C+l[10]*m;
x=x*(1/e[0]);S=S*(1/e[1]);k=k*(1/e[2]);return I.a7f(x,S,k)};I.a7f=function(i,C,m){var e=I.W7[1],z=e[~~(.5+i*4e3)],L=e[~~(.5+C*4e3)],l=e[~~(.5+m*4e3)];
return{nJ:116*L-16,W:500*(z-L),e:200*(L-l)}};I.xQ=function(i,C,m){var e=903.3,z=.008856,L=(i+16)/116,l=L*L*L,x=L-m/200,S=x*x*x,k=C/500+L,f=k*k*k,X=S>z?S:(116*x-16)/e,o=l>z?l:(116*L-16)/e,A=f>z?f:(116*k-16)/e,P=A*96.42,F=o*100,n=X*82.49,R=I.X$.eq(I.X$.tC,[P/100,F/100,n/100,0]);
for(var Y=0;Y<4;Y++)R[Y]=Math.max(0,Math.min(255,I.ie(R[Y])*255));return{Z:R[0],r:R[1],e:R[2]}};I.a0h=function(i,C,m,e,z){var L=i.nJ,l=i.W,x=i.e,S=(L<C.nJ?C.nJ-L:m.nJ<L?m.nJ-L:0)*(1/100),k=(l<C.W?C.W-l:m.W<l?m.W-l:0)*(1/116),f=(x<C.e?C.e-x:m.e<x?m.e-x:0)*(1/116),X=Math.sqrt(S*S+k*k+f*f)*1.35;
return X<=e?Math.min(1,1.17*(1-X*z)):0};I.gO=function(i){var C=I.BZ("cmykToRgb"),m=C[2],e=C[3],z=[0,0,0,0];
ICC.U.applyLUT4Float(e,m,i,z);return z};I.a5v=function(){var i=function(k7){return Math.round(k7*255)},C="",m=3;
for(var Y=0;Y<tab.length;Y++){var e=i(tab[Y]);if(m<=Y)e=e-i(tab[Y-m])+256&255;C+=e.toString(16).padStart(2,"0")}return C};
I.BZ=function(i){var C=LUTS["_"+i];if(C==null){var m=LUTS[i],e=m[0],k7=m[1],z=m[2],L=m[3],l=[];for(var Y=0;
Y<L.length;Y+=2)l.push(parseInt(L.slice(Y,Y+2),16));for(var Y=k7;Y<l.length;Y++)l[Y]=l[Y]+l[Y-k7]&255;
for(var Y=0;Y<l.length;Y++)l[Y]*=1/255;C=LUTS["_"+i]=[e,k7,z,l]}return C};I.uy=function(i){var C=I.BZ("rgbToCmyk"),m=C[2],e=C[3],z=[0,0,0,0];
ICC.U.applyLUT3to4Float(e,m,i,z);return z};I.aqL=function(i){for(var Y=0;Y<i.length;Y+=4){var C=[i[Y+0]*(1/255),i[Y+1]*(1/255),i[Y+2]*(1/255)],m=I.uy(C);
i[Y+0]=255-Math.floor(.5+m[0]*255);i[Y+1]=255-Math.floor(.5+m[1]*255);i[Y+2]=255-Math.floor(.5+m[2]*255);
i[Y+3]=255-Math.floor(.5+m[3]*255)}};I.Gt=function(i,C,m){var e=i.length,z=.3,L=.59,l=.11;if(m){z=m[0];
L=m[1];l=m[2]}for(var Y=0;Y<e;Y+=4)C[Y>>2]=~~(i[Y+0]*z+i[Y+1]*L+i[Y+2]*l+.5)};I.uM=function(i,C){var m=C.length;
for(var Y=0;Y<m;Y+=4){var e=i[Y>>>2];C[Y]=e;C[Y+1]=e;C[Y+2]=e}};I.bb=function(i,C){var m=i.W,e=i.Z,z=i.r,L=i.e,l=Math.min(i.W.length,C.buffer.byteLength>>>2),x=4*Math.floor(l/4),S=new Uint32Array(C.buffer),k=new Uint32Array(m.buffer),f=new Uint32Array(e.buffer),X=new Uint32Array(z.buffer),o=new Uint32Array(L.buffer);
for(var Y=0;Y<x;Y+=4){var A=k[Y>>2],P=o[Y>>2],F=X[Y>>2],n=f[Y>>2];S[Y]=A<<24|(P&255)<<16|(F&255)<<8|n&255;
S[Y+1]=(A&65280)<<16|(P&65280)<<8|F&65280|(n&65280)>>>8;S[Y+2]=(A&16711680)<<8|P&16711680|(F&16711680)>>>8|(n&16711680)>>>16;
S[Y+3]=A&4278190080|(P&4278190080)>>>8|(F&4278190080)>>>16|(n&4278190080)>>>24}for(var Y=x;Y<l;Y++)S[Y]=m[Y]<<24|L[Y]<<16|z[Y]<<8|e[Y]};
I.M8=function(i,C){var m=C.W,e=C.Z,z=C.r,L=C.e,l=Math.min(C.W.length,i.buffer.byteLength>>>2),x=4*Math.floor(l/4),S=new Uint32Array(i.buffer),k=new Uint32Array(m.buffer),f=new Uint32Array(e.buffer),X=new Uint32Array(z.buffer),o=new Uint32Array(L.buffer);
for(var Y=0;Y<x;Y+=4){var A=S[Y],P=S[Y+1],F=S[Y+2],n=S[Y+3];f[Y>>2]=A&255|(P&255)<<8|(F&255)<<16|n<<24;
X[Y>>2]=(A&65280)>>8|P&65280|(F&65280)<<8|(n&65280)<<16;o[Y>>2]=(A&16711680)>>16|(P&16711680)>>8|F&16711680|(n&16711680)<<8;
k[Y>>2]=A>>>24|P>>>24<<8|F>>>24<<16|n&4278190080}for(var Y=x;Y<l;Y++){var R=S[Y];e[Y]=R>>0&255;z[Y]=R>>8&255;
L[Y]=R>>16&255;m[Y]=R>>24&255}};I.Ud=function(i,C,m){var e=new Uint8Array(i.buffer),z=Math.min(e.length/4,C.length);
for(var Y=0;Y<z;Y++){C[Y]=e[(Y<<2)+m]}};I.uC=function(i,C,m){var e=new Uint8Array(C.buffer),z=new Uint32Array(i.buffer),L=Math.min(e.length/4,i.length),Y=0;
while(Y+4<L){var l=z[Y>>>2];e[(Y<<2)+m]=l&255;e[(Y<<2)+m+4]=l>>>8&255;e[(Y<<2)+m+8]=l>>>16&255;e[(Y<<2)+m+12]=l>>>24;
Y+=4}while(Y<L){e[(Y<<2)+m]=i[Y];Y++}};I.eS=function(i,C,m){if(m==null)m=0;var e=new Uint32Array(i.buffer),z=e.length;
for(var Y=0;Y<z;Y++)e[Y]=e[Y]&m|C};I.ahb=function(i,C,m,e,z){if(z==null)z=0;var L=new Uint32Array(i.buffer);
m=m.G_(C);var l=m.x-C.x,x=m.y-C.y,S=m.m,k=m.J,f=C.m;for(var X=0;X<k;X++){var Y=(x+X)*f+l;for(var o=0;
o<S;o++){L[Y]=L[Y]&z|e;Y++}}};I.EP=function(i,C){var m=Math.min(i.buffer.byteLength,C.buffer.byteLength),e=m>>>2,i=new Uint32Array(i.buffer,0,e),C=new Uint32Array(C.buffer,0,e);
C.set(i)};I.LJ=function(i,C){var m=i.buffer.byteLength,e=C.buffer.byteLength,z=new Uint32Array(i.buffer,0,m>>2),L=new Uint32Array(C.buffer,0,e>>2);
if(m!=e)return!1;var l=z.length;for(var Y=0;Y<l;Y++)if(L[Y]!=z[Y])return!1;return!0};I.Fb=function(i){var C=new Uint32Array(i.buffer),m=C.length;
for(var Y=0;Y<m;Y++)C[Y]=~C[Y]};I.auh=function(i){var C=i.length;for(var Y=0;Y<C;Y+=4){i[Y]=~i[Y];i[Y+1]=~i[Y+1];
i[Y+2]=~i[Y+2]}};I.a2c=function(i){var C=i.length;for(var Y=3;Y<C;Y+=4)i[Y]=~i[Y]};I.ah1=function(i){return i+(i%4==0?0:4-i%4)};
I.R=function(i,C){if(C==null)C=!1;if(!C)i=I.ah1(i);try{var m=new Uint8Array(i)}catch(a8){alert("Not enough RAM! (need "+Math.round(i/(1<<20))+" MB)",7e3);
throw"low_ram"}return m};I.axa=function(i,C,m,e){if(e==null)e=0;var z=0;while(z+3<i.length&&i[z+3].P()>=e&&C.je()*(1<<(z>>>1))<m)z+=2;
var L=i[1],l=i[z+1],x=new hN;x.translate(-L.x,-L.y);x.scale(L.m/l.m,L.J/l.J);x.translate(L.x,L.y);x.concat(C);
return[z,x]};I.aq=function(i){var C=i.length,m=i[C-2],e=i[C-1];while(e.m>=2&&e.J>=2){var z=I.r_(m,e);
i.push(z.S2,z.rect);m=z.S2;e=z.rect}};I.od=function(i){var C=i.length,m=i[C-2],e=i[C-1];while(e.m>=2&&e.J>=2){var z=I.QL(m,e);
i.push(z.S2,z.rect);m=z.S2;e=z.rect}};I.r_=function(i,C,m){var e=C.m,z=C.J,L=e>>1,l=z>>1,x=new j2(C.x,C.y,L,l),S=m&&m.length==L*l*4?m:I.R(L*l*4),k=new Uint32Array(i.buffer),f=new Uint32Array(S.buffer);
for(var X=0;X<l;X++)for(var o=0;o<L;o++){var A=X*L+o,P=(X<<1)*e+(o<<1),F=k[P],n=k[P+1],R=k[P+e],Q=k[P+e+1],s=F>>>24,j=n>>>24,_=R>>>24,B=Q>>>24,N=s+j+_+B;
if(N==1020){var a=(F>>>0&255)+(n>>>0&255)+(R>>>0&255)+(Q>>>0&255)+2>>>2,O=(F>>>8&255)+(n>>>8&255)+(R>>>8&255)+(Q>>>8&255)+2>>>2,H=(F>>>16&255)+(n>>>16&255)+(R>>>16&255)+(Q>>>16&255)+2>>>2;
f[A]=255<<24|H<<16|O<<8|a}else if(N==0)f[A]=0;else{var a=(F>>>0&255)*s+(n>>>0&255)*j+(R>>>0&255)*_+(Q>>>0&255)*B,O=(F>>>8&255)*s+(n>>>8&255)*j+(R>>>8&255)*_+(Q>>>8&255)*B,H=(F>>>16&255)*s+(n>>>16&255)*j+(R>>>16&255)*_+(Q>>>16&255)*B,q=1/N;
a=~~(a*q+.5);O=~~(O*q+.5);H=~~(H*q+.5);f[A]=N+2>>>2<<24|H<<16|O<<8|a}}return{rect:x,S2:S}};I.aiZ=function(i,C,m){var e=C.m,z=C.J,L=e>>1,l=z>>1,x=new j2(C.x,C.y,L,l),S=m&&m.length==L*l*4?m:I.R(L*l*4),k=new Uint32Array(i.buffer),f=new Uint32Array(S.buffer);
for(var X=0;X<l;X++)for(var o=0;o<L;o++){var A=X*L+o,P=(X<<1)*e+(o<<1),F=k[P],n=k[P+1],R=k[P+e],Q=k[P+e+1],s=2+(F>>>0&255)+(n>>>0&255)+(R>>>0&255)+(Q>>>0&255)>>>2,j=2+(F>>>8&255)+(n>>>8&255)+(R>>>8&255)+(Q>>>8&255)>>>2,_=2+(F>>>16&255)+(n>>>16&255)+(R>>>16&255)+(Q>>>16&255)>>>2,B=2+(F>>>24&255)+(n>>>24&255)+(R>>>24&255)+(Q>>>24&255)>>>2;
f[A]=B<<24|_<<16|j<<8|s}return{rect:x,S2:S}};I.a1n=function(i,C,m){var e=C.m,z=C.J,L=2*Math.floor(e/3),l=2*Math.floor(z/3),x=new j2(C.x,C.y,L,l),S=m&&m.length==L*l*4?m:I.R(L*l*4),k=new Uint32Array(i.buffer),f=new Uint32Array(S.buffer);
for(var X=0;X<l;X+=2)for(var o=0;o<L;o+=2){var A=X*L+o,P=(X*3>>>1)*e+(o*3>>>1),F=k[P],n=k[P+1],R=k[P+2],Q=k[P+e],s=k[P+1+e],j=k[P+2+e],_=k[P+e+e],B=k[P+1+e+e],N=k[P+2+e+e],a=F>>>24<<2,O=(F>>>16&255)*a,H=(F>>>8&255)*a,q=(F&255)*a,h=n>>>24<<1,D=(n>>>16&255)*h,T=(n>>>8&255)*h,p=(n&255)*h,y=R>>>24<<2,b=(R>>>16&255)*y,g=(R>>>8&255)*y,u=(R&255)*y,t=Q>>>24<<1,V=(Q>>>16&255)*t,c=(Q>>>8&255)*t,E=(Q&255)*t,Z=s>>>24,G=(s>>>16&255)*Z,J=(s>>>8&255)*Z,K=(s&255)*Z,M=j>>>24<<1,U=(j>>>16&255)*M,r=(j>>>8&255)*M,dS=(j&255)*M,w=_>>>24<<2,di=(_>>>16&255)*w,eM=(_>>>8&255)*w,j5=(_&255)*w,ds=B>>>24<<1,ba=(B>>>16&255)*ds,gH=(B>>>8&255)*ds,ir=(B&255)*ds,iP=N>>>24<<2,iy=(N>>>16&255)*iP,iG=(N>>>8&255)*iP,eg=(N&255)*iP,du=a+h+t+Z,gh=y+h+M+Z,ga=w+ds+t+Z,d5=iP+ds+M+Z,fu=du==0?0:1/du,ay=gh==0?0:1/gh,c7=ga==0?0:1/ga,eE=d5==0?0:1/d5,jn=0,dI=0,dQ=0,jo=0;
jn=~~(.5+(q+p+E+K)*fu);dI=~~(.5+(H+T+c+J)*fu);dQ=~~(.5+(O+D+V+G)*fu);jo=~~(.5+du*(1/9));f[A]=jo<<24|dQ<<16|dI<<8|jn;
jn=~~(.5+(u+p+dS+K)*ay);dI=~~(.5+(g+T+r+J)*ay);dQ=~~(.5+(b+D+U+G)*ay);jo=~~(.5+gh*(1/9));f[A+1]=jo<<24|dQ<<16|dI<<8|jn;
jn=~~(.5+(j5+ir+E+K)*c7);dI=~~(.5+(eM+gH+c+J)*c7);dQ=~~(.5+(di+ba+V+G)*c7);jo=~~(.5+ga*(1/9));f[A+L]=jo<<24|dQ<<16|dI<<8|jn;
jn=~~(.5+(eg+ir+dS+K)*eE);dI=~~(.5+(iG+gH+r+J)*eE);dQ=~~(.5+(iy+ba+U+G)*eE);jo=~~(.5+d5*(1/9));f[A+L+1]=jo<<24|dQ<<16|dI<<8|jn}return{rect:x,S2:S}};
I.au7=function(i,C,m){var e=C.m,z=C.J,L=2*Math.floor(e/3),l=2*Math.floor(z/3),x=new j2(C.x,C.y,L,l),S=m&&m.length==L*l*4?m:I.R(L*l*4),k=new Uint32Array(i.buffer),f=new Uint32Array(S.buffer);
for(var X=0;X<l;X+=2)for(var o=0;o<L;o+=2){var A=X*L+o,P=(X*3>>>1)*e+(o*3>>>1),F=k[P],n=k[P+1],R=k[P+2],Q=k[P+e],s=k[P+1+e],j=k[P+2+e],_=k[P+e+e],B=k[P+1+e+e],N=k[P+2+e+e],a=(F>>>16&255)<<2,O=(F>>>8&255)<<2,H=(F&255)<<2,q=(n>>>16&255)<<1,h=(n>>>8&255)<<1,D=(n&255)<<1,T=(R>>>16&255)<<2,p=(R>>>8&255)<<2,y=(R&255)<<2,b=(Q>>>16&255)<<1,g=(Q>>>8&255)<<1,u=(Q&255)<<1,t=s>>>16&255,V=s>>>8&255,c=s&255,E=(j>>>16&255)<<1,Z=(j>>>8&255)<<1,G=(j&255)<<1,J=(_>>>16&255)<<2,K=(_>>>8&255)<<2,M=(_&255)<<2,U=(B>>>16&255)<<1,r=(B>>>8&255)<<1,dS=(B&255)<<1,w=(N>>>16&255)<<2,di=(N>>>8&255)<<2,eM=(N&255)<<2,j5=0,ds=0,ba=0;
j5=~~(.5+(H+D+u+c)*(1/9));ds=~~(.5+(O+h+g+V)*(1/9));ba=~~(.5+(a+q+b+t)*(1/9));f[A]=255<<24|ba<<16|ds<<8|j5;
j5=~~(.5+(y+D+G+c)*(1/9));ds=~~(.5+(p+h+Z+V)*(1/9));ba=~~(.5+(T+q+E+t)*(1/9));f[A+1]=255<<24|ba<<16|ds<<8|j5;
j5=~~(.5+(M+dS+u+c)*(1/9));ds=~~(.5+(K+r+g+V)*(1/9));ba=~~(.5+(J+U+b+t)*(1/9));f[A+L]=255<<24|ba<<16|ds<<8|j5;
j5=~~(.5+(eM+dS+G+c)*(1/9));ds=~~(.5+(di+r+Z+V)*(1/9));ba=~~(.5+(w+U+E+t)*(1/9));f[A+L+1]=255<<24|ba<<16|ds<<8|j5}return{rect:x,S2:S}};
I.Rz=function(i){var C=255,m=i.length;m-=m&31;for(var Y=3;Y<m;Y+=32)C=C&i[Y]&i[Y+4]&i[Y+8]&i[Y+12]&i[Y+16]&i[Y+20]&i[Y+24]&i[Y+28];
return C!=255};I.k2=function(i,C,m,e){var z=I.r_,L=I.a1n;if(!I.Rz(i)){z=I.aiZ;L=I.au7}var l={S2:i,rect:C},x=I.xf(m);
for(var Y=0;Y<x.length;Y++){if(x[Y]==2)l=z(l.S2,l.rect,e);else l=L(l.S2,l.rect,e)}return l};I.aa0=function(i,C,m,e){var z=I.QL,L=I.a85,l={S2:i,rect:C},x=I.xf(m);
for(var Y=0;Y<x.length;Y++){if(x[Y]==2)l=z(l.S2,l.rect,e);else l=L(l.S2,l.rect,e)}return l};I.xf=function(i){var C=[],m=i;
while(m<.499){C.push(2);m*=2}C.push(m<.5001?2:3);return C};I.QL=function(i,C,m){var e=C.m,z=C.J,L=e>>1,l=z>>1,x=new j2(C.x,C.y,L,l);
if(i==null)return{rect:x};var S=m&&m.length>=L*l?m:I.R(L*l);for(var k=0;k<l;k++){var f=k*L;for(var X=0;
X<L;X++){var o=(k<<1)*e+(X<<1);S[f+X]=2+i[o]+i[o+1]+i[o+e]+i[o+e+1]>>>2}}return{rect:x,S2:S}};I.a85=function(i,C,m){var e=C.m,z=C.J,L=2*Math.floor(e/3),l=2*Math.floor(z/3),x=new j2(C.x,C.y,L,l);
if(i==null)return{rect:x};var S=m&&m.length>=L*l?m:I.R(L*l);for(var k=0;k<l;k+=2)for(var f=0;f<L;f+=2){var X=k*L+f,o=(k*3>>>1)*e+(f*3>>>1),A=i[o]<<2,P=i[o+1]<<1,F=i[o+2]<<2,n=i[o+e]<<1,R=i[o+1+e],Q=i[o+2+e]<<1,s=i[o+e+e]<<2,j=i[o+1+e+e]<<1,_=i[o+2+e+e]<<2;
S[X]=~~(.5+(A+P+n+R)*(1/9));S[X+1]=~~(.5+(F+P+Q+R)*(1/9));S[X+L]=~~(.5+(s+j+n+R)*(1/9));S[X+L+1]=~~(.5+(_+j+Q+R)*(1/9))}return{rect:x,S2:S}};
I.axL=function(i,C,m,e,z){var L=C.G_(e);if(z)L=L.G_(z);var l=Math.max(0,L.x-C.x),x=Math.max(0,L.x-e.x),S=Math.max(0,L.y-C.y),k=Math.max(0,L.y-e.y),f=L.m,X=L.J;
for(var Y=0;Y<X;Y++){var o=(S+Y)*C.m+l,A=(k+Y)*e.m+x;for(var P=0;P<f;P++){m[A+P]=Math.max(m[A+P],i[o+P])}}};
I.Vo=function(i,C,m,e,z){var L=C.G_(e);if(z)L=L.G_(z);var l=Math.max(0,L.x-C.x),x=Math.max(0,L.x-e.x),S=Math.max(0,L.y-C.y),k=Math.max(0,L.y-e.y),f=L.m,X=L.J;
for(var Y=0;Y<X;Y++){var o=(S+Y)*C.m+l,A=(k+Y)*e.m+x;m.set(new Uint8Array(i.buffer,o,f),A)}};I.auV=function(i,C,m,e){if(C.LJ(e)){I.uC(i,m,3);
return}var z=C.G_(e),L=Math.max(0,z.x-C.x),l=Math.max(0,z.x-e.x),x=Math.max(0,z.y-C.y),S=Math.max(0,z.y-e.y),k=z.m,f=z.J;
for(var Y=0;Y<f;Y++){var X=(x+Y)*C.m+L,o=(S+Y)*e.m+l;for(var A=0;A<k;A++)m[(o+A<<2)+3]=i[X+A]}};I.Kf=function(i,C,m,e){var z=C.G_(e),L=Math.max(0,z.x-C.x),l=Math.max(0,z.x-e.x),x=Math.max(0,z.y-C.y),S=Math.max(0,z.y-e.y),k=z.m,f=z.J;
for(var Y=0;Y<f;Y++){var X=(x+Y)*C.m+L,o=(S+Y)*e.m+l;for(var A=0;A<k;A++)m[o+A]=i[(X+A<<2)+3]}};I.fF=function(i,C,m,e,z){if(C.LJ(e)&&(z==null||z.LJ(e))){I.EP(i,m);
return}i=new Uint32Array(i.buffer),m=new Uint32Array(m.buffer);var L=C.G_(e);if(z)L=L.G_(z);var l=Math.max(0,L.x-C.x),x=Math.max(0,L.x-e.x),S=Math.max(0,L.y-C.y),k=Math.max(0,L.y-e.y),f=L.m,X=L.J,o=f&3,A=o==0?f:f-o;
for(var Y=0;Y<X;Y++){var P=(S+Y)*C.m+l,F=(k+Y)*e.m+x;m.set(new Uint32Array(i.buffer,P*4,f),F)}};I.qd=function(i,C,m,e){var z=C.G_(e),L=Math.max(0,z.x-C.x),l=Math.max(0,z.x-e.x),x=Math.max(0,z.y-C.y),S=Math.max(0,z.y-e.y),k=z.m,f=z.J,X=i.W,o=i.Z,A=i.r,P=i.e,F=m.W,n=m.Z,R=m.r,Q=m.e;
for(var Y=0;Y<f;Y++){var s=(x+Y)*C.m+L,j=(S+Y)*e.m+l;for(var _=0;_<k;_++){F[j+_]=X[s+_];n[j+_]=o[s+_];
R[j+_]=A[s+_];Q[j+_]=P[s+_]}}};I.Qs=function(i){var C=i.length;for(var Y=0;Y<C;Y+=4){var m=i[Y+3];if(m==255)continue;
i[Y]=~~(i[Y]*m*(1/255)+.5);i[Y+1]=~~(i[Y+1]*m*(1/255)+.5);i[Y+2]=~~(i[Y+2]*m*(1/255)+.5)}};I.J7=function(i){var C=i.length;
for(var Y=0;Y<C;Y+=4){var m=i[Y+3];if(m==0||m==255)continue;var e=255/m;i[Y]=~~(i[Y]*e+.5);i[Y+1]=~~(i[Y+1]*e+.5);
i[Y+2]=~~(i[Y+2]*e+.5)}};I.Sx=function(i,C){for(var Y=0;Y<i.length;Y++)if(i[Y]!=C)return!1;return!0};
I.ig=function(i){return i+1+(i>>>8)>>>8};I.round=function(i,C){if(C==null)C=128;var m=i.length;for(var Y=0;
Y<m;Y++)i[Y]=i[Y]<C?0:255};I.Eg=function(i,C){var m=i.length;for(var Y=0;Y<m;Y++)i[Y]=Math.round(i[Y]*C)};
I.DD=function(i,C){var m=new Uint32Array(i.buffer),e=new Uint32Array(C.buffer),z=m.length;for(var Y=0;
Y<z;Y++){var L=m[Y],l=e[Y];e[Y]=I.ig((L>>>24)*(l>>>24))<<24|I.ig((L>>>16&255)*(l>>>16&255))<<16|I.ig((L>>>8&255)*(l>>>8&255))<<8|I.ig((L&255)*(l&255))}};
I.z8=function(i,C){var m=i.length;for(var Y=0;Y<m;Y++)C[(Y<<2)+3]=I.ig(C[(Y<<2)+3]*i[Y])};I.az2=function(i,C,m,e){var z=Math.max(0,e.x-C.x),L=Math.max(0,C.x-e.x),l=Math.max(0,e.y-C.y),x=Math.max(0,C.y-e.y),S=Math.min(C.x+C.m,e.x+e.m)-Math.max(C.x,e.x),k=Math.min(C.y+C.J,e.y+e.J)-Math.max(C.y,e.y);
for(var Y=0;Y<k;Y++){var f=(l+Y)*C.m+z,X=(x+Y)*e.m+L;for(var o=0;o<S;o++){m[X]=I.ig(m[X]*i[f]);f++;X++}}};
I.v0=function(i,C,m,e){var z=Math.max(0,e.x-C.x),L=Math.max(0,C.x-e.x),l=Math.max(0,e.y-C.y),x=Math.max(0,C.y-e.y),S=Math.min(C.x+C.m,e.x+e.m)-Math.max(C.x,e.x),k=Math.min(C.y+C.J,e.y+e.J)-Math.max(C.y,e.y);
for(var Y=0;Y<k;Y++){var f=(l+Y)*C.m+z,X=((x+Y)*e.m+L<<2)+3;for(var o=0;o<S;o++){m[X]=I.ig(m[X]*i[f]);
f++;X+=4}}};I.pA=function(i,C,m,e){var z=Math.max(0,e.x-C.x),L=Math.max(0,C.x-e.x),l=Math.max(0,e.y-C.y),x=Math.max(0,C.y-e.y),S=Math.min(C.x+C.m,e.x+e.m)-Math.max(C.x,e.x),k=Math.min(C.y+C.J,e.y+e.J)-Math.max(C.y,e.y);
for(var Y=0;Y<k;Y++){var f=((l+Y)*C.m+z<<2)+3,X=((x+Y)*e.m+L<<2)+3;for(var o=0;o<S;o++){m[X]=I.ig(m[X]*i[f]);
f+=4;X+=4}}};I.so=function(i,C){if(C==null)C=1;var m=4*C,e=i.length>>>2,z=new Float64Array(256),L=new Float64Array(256),l=new Float64Array(256),x=new Float64Array(256),S=4*Math.floor(e/C)*C,k=0;
for(var Y=0;Y<S;Y+=m){var f=i[Y+0],X=i[Y+1],o=i[Y+2],A=i[Y+3]*C,P=A*(1/255);L[f]+=P;l[X]+=P;x[o]+=P;
k+=A}for(var Y=0;Y<256;Y++)z[Y]=L[Y]+l[Y]+x[Y];return[z,L,l,x,e,k/255]};I.avn=function(i,C){function m(B,N){var a=-1,O=0;
while(O<=N){a++;O+=B[a]}return a}function e(B,N){var a=256,O=0;while(O<=N){a--;O+=B[a]}return a}function z(B){var N=0,a=0;
for(var Y=0;Y<256;Y++){a+=B[Y];N+=B[Y]*Y*(1/255)}return N/a}var L=i[0],l=i[1]/100,x=i[2]/100,S=[],k=[];
for(var Y=0;Y<4;Y++){var f=Y==0?3:1;S[Y]=m(C[Y],f*l*C[5]);k[Y]=e(C[Y],f*x*C[5])}var X=[z(C[1]),z(C[2]),z(C[3])],o=X.slice(0);
o.sort(function(B,N){return B-N});var A=X.indexOf(o[1]),P=(X[0]+X[1]+X[2])/3,F=[];for(var Y=0;Y<4;Y++){var n=0,R=255,Q=S[Y],s=k[Y];
if(L==0&&Y==0){n=Q;R=s}if(L==1&&Y!=0){n=Q;R=s}if(L==2&&Y!=0){var f=X[Y-1]/P;R=Math.max(0,Math.min(255,k[A]*f))}var j=[n,R];
F.push(j);if(L==3&&Y==0){var _=255*(1-P);j.push(_)}}return F};I.aae=function(i,C){var m=new Uint32Array(i.buffer),e=m.length;
for(var Y=0;Y<e;Y++){var z=m[Y],L=z&255,l=z>>8&255,x=z>>16&255,S=z>>24&255;m[Y]=C[L]|C[l]<<8|C[x]<<16|C[S]<<24}};
I.ahT=function(i,C,m,e,z,L,l){var x=new Uint32Array(i.buffer),S=new Uint32Array(C.buffer),k=x.length,f=0;
while(256<<f<m.length)f++;if(!l&&!L){for(var Y=0;Y!=k;Y++){var X=x[Y],o=(X&255)<<f,A=(X>>>8&255)<<f,P=(X>>>16&255)<<f,F=m[o],n=e[A],R=z[P];
S[Y]=F|n<<8|R<<16|X&4278190080}return}for(var Y=0;Y<k;Y++){var X=x[Y],o=(X&255)<<f,A=(X>>>8&255)<<f,P=(X>>>16&255)<<f;
if(L)o=A=P=Math.round(o*.3+A*.59+P*.11);var F=m[o],n=e[A],R=z[P];if(l){var Q=I.iw(o,A,P),s=I.iw(F,n,R);
if(Q>s){var j=(Q-s)/(255-s);F+=j*(255-F);n+=j*(255-n);R+=j*(255-R)}else if(s==0)F=n=R=0;else{var j=Q/s;
F=j*F;n=j*n;R=j*R}}S[Y]=F|n<<8|R<<16|X&4278190080}};I.yP=function(i,C){var m=C.m,e=C.J,top=0,z=0,L=0,l=0,x=0;
x=0;for(var S=0;S<e;S++){var k=S*m;for(var Y=0;Y<m;Y++)x|=i[k+Y];if(x!=0)break;top++}if(top==e)return new j2(0,0,0,0);
x=0;for(var S=e-1;S>=0;S--){var k=S*m;for(var Y=0;Y<m;Y++)x|=i[k+Y];if(x!=0)break;L++}var f=e-L;x=0;
for(var Y=0;Y<m;Y++){for(var S=top;S<f;S++)x|=i[S*m+Y];if(x!=0)break;z++}x=0;for(var Y=m-1;Y>=0;Y--){for(var S=top;
S<f;S++)x|=i[S*m+Y];if(x!=0)break;l++}var X=new j2(C.x+z,C.y+top,m-z-l,e-top-L);return X};I.qX=function(i,C,m,e,z){if(e==null)e=[!0,!0,!0,!0];
if(m==null)m=0;if(z==null)z=4294967295;var L=new Uint32Array(i.buffer),l=C.m,x=C.J,top=0,S=0,k=0,f=0,X=!1,o=[L[0],L[L.length-1],0][m];
X=!1;if(e[0])for(var A=0;A<x;A++){var P=A*l;for(var Y=0;Y<l;Y++)if(L[P+Y]&z^o)X=!0;if(X)break;top++}X=!1;
if(e[2])for(var A=x-1;A>=0;A--){var P=A*l;for(var Y=0;Y<l;Y++)if(L[P+Y]&z^o)X=!0;if(X)break;k++}X=!1;
if(e[1])for(var Y=0;Y<l;Y++){for(var A=0;A<x;A++)if(L[A*l+Y]&z^o)X=!0;if(X)break;S++}X=!1;if(e[3])for(var Y=l-1;
Y>=0;Y--){for(var A=0;A<x;A++)if(L[A*l+Y]&z^o)X=!0;if(X)break;f++}var F=new j2(C.x+S,C.y+top,l-S-f,x-top-k);
return F.bs()?new j2(0,0,0,0):F};I.gv=function(i){var C=I.yP(i.channel,i.rect);if(C.LJ(i.rect))return;
var m=I.R(C.P());I.Vo(i.channel,i.rect,m,C);i.channel=m;i.rect=C};I.vA=function(i){var C=I.qX(i.buffer,i.rect,2,null,4278190080);
if(C.LJ(i.rect))return;var m=new I.R(C.P()*4);I.fF(i.buffer,i.rect,m,C);i.buffer=m;i.rect=C};I.extend=function(i,C,m){if(i.rect.Y4(C))return;
var e=i.rect.Z0(C),z=I.R(e.P());if(m!=null)z.fill(m);I.Vo(i.channel,i.rect,z,e);i.rect=e;i.channel=z};
I.avt=function(i,C){if(C.bs()||i.rect.Y4(C))return;var m=i.rect.Z0(C),e=I.R(m.P()*4);I.fF(i.buffer,i.rect,e,m);
i.rect=m;i.buffer=e};I.Gl=function(i,C,m){if(!m.Xp(i))return!1;var e=Math.floor(i.x)-m.x,z=Math.floor(i.y)-m.y,Y=z*m.m+e;
return C[Y]>128};I.af1=function(i,C,m){if(!m.Xp(i))return!1;var e=Math.floor(i.x)-m.x,z=Math.floor(i.y)-m.y,Y=z*m.m+e;
return C[4*Y+3]>128};I.R5=function(i){if(I.xg.length<i){I.xg=I.R(i);I.xg.fill(255)}return I.xg};I.xg=I.R(0);
I.T9=function(i){if(I.zW.length<i)I.zW=I.R(i);return I.zW};I.zW=I.R(0);I.RV=function(i){this.W=I.R(i);
this.Z=I.R(i);this.r=I.R(i);this.e=I.R(i)};I.RV.prototype.clone=function(){var i=this.W.length,C=new I.RV(1);
C.W=this.W.slice(0);C.Z=this.Z.slice(0);C.r=this.r.slice(0);C.e=this.e.slice(0);return C};I.z.abx=function(i,C,m,e,z){var L=z[0]+1,l=z[1],x=Math.abs(l-25)/4,S=z[2],k=S%2+S*S>>1,f=I.z.s;
f.oG(C,m);var X=f.mF(1),o=f.mF(1),A=f.mF(1);f.Ye(i,e,S,S,k);f.hS(e);f._Q(e,X);f.EL(X,o,L,L,1);f.EL(X,A,L,L,L*L);
f.sub(A,o);f.DD(o,x);(l<25?f.sub:f.add)(X,o);f.Js(o,e);f.Ec(e)};I.z.ajU=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=z[0]*2.55,x=z[1],S=x>>1,k=z[2]*.25,f=L.mF(4),X=L.mF(1),o=L.mF(1);L.Cz(i,f,x,1,!0,S);
L.Cz(i,e,x,1,!1,S);L.tu(i,X);L.Vm(X,l);L.j7(X,o,3);L.xo(e,o,f);L.Hg(f,e,k)};I.z.ai6=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);L.aj(z[3]);var l=z[0]*-3+80,x=z[1]*-3+80,S=z[2]/2+.5,k=z[4],f=z[5],X=L.mF(1),o=L.mF(1),A=L.mF(1),P=L.mF(1),F=L.mF(4),n=L.mF(4);
L.tu(i,X);L.EP(X,o);L.X9(X,x,5);L.a7C(X,.4,0);L.j7(X,A,3);L.HM(A,X,9,3,!0,27);L.EP(o,A);L.Fb(A);var R=L.KW(l,5,A);
for(var Y=0;Y<L.aE;Y++){o[Y]=R[255-o[Y]]}L.a7C(o,.4,0);L.EP(o,A);L.j7(A,P,2);L.HM(P,A,5,3,!1,15);L.DD(X,S);
L.DD(A,S);L._w(e,2155905279);L._w(n,k);L._w(F,f);L.xo(n,X,e);L.xo(F,A,e)};I.z.awD=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=new Uint8Array(256),x=5+10*z[1];x+=z[1]>3?(z[1]-3)*10:0;var S=~~(z[2]*.73)+50,k=Math.min(S+x,128),f=k-S,X=-255*S;
for(var Y=0;Y<256;Y++){var o=Y*65;l[Y]=L.RK(X/f);X+=255}var A=L.mF(1),P=L.mF(1),F=L.mF(1);L.tu(i,A);
L.EP(A,F);L.j7(A,P,2*z[0]+1);L.sub(P,A);L.DD(A,65);L.HM(A,P,9,3,!0,20);for(var Y=0;Y<L.aE;Y++){var n=F[Y],R=P[Y];
A[Y]=R>0?~~((R*n+(255-R)*128)/255):128}L.j7(A,P,3);L.HM(P,A,15,2,!0,16);L.HM(P,F,15,2,!1,15);L.qT(A,F);
L.nL(F,P,2);L.Z5(P,l);L.j7(P,A,2);L.Im(A,e)};I.z.avf=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=2*z[0]+1,x=L.aAR[z[1]],S=z[2]*5.1,k=z[3],f=L.mF(1),X=L.mF(1),o=L.mF(4),A=L.mF(4);
L._w(o,k);L.hS(o,e);L.awZ(f,S);L.Js(f,e);L.Ec(e,o);L.tu(i,X);L.j7(X,f,l);L.sub(f,X);L.DD(X,x);L.HM(X,f,9,3,!0,20);
L.xo(i,f,o);L.OH(o,e,3);L.Cz(e,o,15,2,!0,16);L.Cz(e,A,15,2,!1,16);L.qT(o,A);L.Hg(A,e,2)};I.z.a5j=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=(15-z[0])/4+1,x=(15-z[1])/4+1,S=z[2],k=z[3],f=L.UX(z[4]),X=z[5]+1,o=z[6],A=z[7],P=z[8],F=L.mF(1),n=L.mF(1),R=L.mF(1),Q=L.mF(1),s=L.mF(4),j=L.mF(4);
L.QK(R,S,k,o);L.tu(i,n);L.j7(n,F,5);L.eH(R,F,Q,X,f);L.DD(Q,l);L.p9(Q,2);L.Fb(F);L.eH(R,F,n,X,f);L.DD(n,x);
L.p9(n,2);L._w(s,2155905279);L._w(j,A);L._w(e,P);L.xo(s,n,j);L.xo(j,Q,e)};I.z.adW=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);L.aj(z[3]);var l=z[0],x=z[1]/10,S=z[2]/10,k=L.mF(1),f=L.mF(1),X=L.mF(1),o=L.Fp(),A=L.Fp(),P=L.Fp();
L.NV(k);L.j7(k,f,11);L.j7(f,k,11);L.Pg(k,o);L.AO(i,k);L.EP(k,X);L.j7(k,f,9);L.j7(f,k,9);L.Pg(k,A);L.Eq(A,P,5);
L.Eq(P,A,5);L.aqt(o,.8);L.aqj(o,A,.8,.9);L.a3p(A,k,l);L.EL(k,f,2,2,1);L.EL(f,k,2,2,3);L.EL(k,f,2,2,3);
L.EL(X,k,5,5,13);L.ce(f,k,f,x);L.s4(k,f,f,S);L.eH(f,f,k,5,1);L.hS(i,e);L.Js(k,e);L.Ec(e)};I.z.a4P=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=z[0],x=z[1]/2,S=z[2],k=l/2,f=L.mF(4),X=L.mF(4);L.EP(i,e);for(var o=0;o<S;o++){L.Cz(e,f,l,1,!0,k);
L.Cz(e,X,l,1,!1,k);L.qT(X,f);L.OH(f,X,2);L.Hg(X,e,x)}};I.z.alJ=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);
var l=z[0]*10,x=z[1]*4.9,S=z[2]*4.9,k=L.mF(1),f=L.mF(1),X=L.mF(4),o=L.mF(4);L.tu(i,k);L.Vm(k,L.a83(k,l));
L.j7(k,f,3);L.Cz(i,X,5,1,!1,1);L.Cz(i,e,15,2,!0,16);L.xo(e,f,X);L.hS(X,e);L._Q(e,k);L.X9(k,x,S);L.Js(k,e);
L.Ec(e)};I.z.a4H=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[4]);var l=z[0]/20,x=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][z[1]],S=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][z[2]],k=z[3],f=new Int16Array(256);
for(var Y=0;Y<256;Y++){f[Y]=~~((Y-128)*l)}var X=L.mF(1),o=L.mF(1),A=L.mF(4);L.tu(i,X);L.j7(X,o,25);L.DD(o,x);
L.p9(o,S);L.j7(o,X,25);L.NV(o);L.ax6(X,o,f);L.EP(i,e);L._w(A,k);L.xo(A,X,e)};I.z.af6=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=z[0]+5,x=15-z[1],S=l*l/2,k=1-(3-z[2])/10,f=~~(x*x*k-1),X=~~(x*x*(1-k));if(X==0)X=1;var o=L.mF(1),A=L.mF(1),P=L.mF(1),F=L.mF(4);
L.tu(i,P);L.EL(P,o,l,l,S);L.j7(P,A,l);L.sub(o,A);L.Vm(A,1);L.Ye(i,F,x,x,f);L.Ye(i,e,x,x,X);L.xo(F,A,e)};
I.z.awB=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[3]);var l=(20-z[0])*.05,x=z[1]*-2.75+60,S=65-x,k=z[2]/10,f=L.mF(1),X=L.mF(1);
L.AO(i,X);var o=L.KW(x,S,X);L.hS(i,e);L._Q(e,X);L.NV(f);L.ws(X,f,l);L.Z5(X,o);L.DD(X,z[2]/10);L.add(f,X);
L.Js(X,e);L.Ec(e)};I.z.aC$=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=5+z[0],x=15-z[1],S=z[2],k=l*l/2+l*l%2*1,f=1-(3-z[2])/10,X=~~(x*x*f-1),o=~~(x*x*(1-f));
if(o==0)o=1;var A=L.mF(1),P=L.mF(1),F=L.mF(1),n=L.mF(1),R=L.mF(1);L.AO(i,P);L.nL(P,A,3);L.EL(A,P,2,2,1);
var Q=L.KW(20,20,P);L.Z5(P,Q);L.j7(P,R,5);L.EL(R,A,l,l,k);L.EL(R,P,x,x,X);L.EL(R,F,x,x,o);L.j7(R,n,l);
L.sub(A,n);L.Vm(n,1);L.alz(P,n,F);L.hS(i,e);L.Js(F,e);L.Ec(e)};I.z.aj7=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);L.aj(z[5]);var l=L.aE,x=L.xU,S=z[0],k=z[1],f=z[2],X=z[3],o=z[4],A=.05*S+1,P=S/100,F=S>>1,n=2*S-100,R=+(k==9),Q=+(k==7),s=[4,1][R],j=[3,2][R],_=[1,2][Q],B=[2,1][Q],N=[50,75][R],a=k<4?f:(f>>1)+50,O=L.a3r(N,a),H=L._9(X),q=L._9(o),h=L.mF(4),D=L.mF(4),T=L.mF(1),p=L.mF(1);
function y(e,O){if(a!=50){L.aiG(e,O)}}function b(i,U){for(var Y=0;Y<l;Y++){i[Y]=L.RK(i[Y]+(U[Y]-128)*P)}}function g(i,U){for(var Y=0,r=0;
Y<l;Y++){i[r]=L.RK(i[r]+(U[r]-128)*P);i[r+1]=L.RK(i[r+1]+(U[r+1]-128)*P);i[r+2]=L.RK(i[r+2]+(U[r+2]-128)*P);
r+=4}}function u(i,e){L.NV(D);L.EP(i,e);g(e,D);y(e,O)}function t(U){var r=0;for(var dS=0;dS<12;dS++)r+=L.random();
return L.RK(F*(r-6)+U)}function V(i,e){L.EP(i,e);for(var Y=0;Y<x;Y+=4){e[Y]=t(e[Y]);e[Y+1]=t(e[Y+1]);
e[Y+2]=t(e[Y+2])}y(e,O)}function c(i,e){L.EP(i,e);for(var Y=0;Y<x;Y+=4){if(L.random()<P){e[Y]=H[0];e[Y+1]=H[1];
e[Y+2]=H[2]}}y(e,O)}function E(i,e){L.NV(h);L.Ye(h,D,j,j,s);L.EP(i,h);g(h,D);L.Ye(h,e,5,5,13);y(e,O)}function Z(i,e){L.NV(D);
L.EP(i,h);g(h,D);y(e,O);L.Ye(h,e,j,j,s)}function G(i,e){L.EP(i,h);y(e,O);L.tu(h,T);for(var Y=0,U=0;Y<l;
Y++){var r=((n-T[Y]+255)*128.5+.5)/32767;if(L.random()<=r){e[U++]=q[0];e[U++]=q[1];e[U++]=q[2]}else{e[U++]=H[0];
e[U++]=H[1];e[U++]=H[2]}e[U]=i[U];U++}}function J(i,e){L.hS(i,e);L._Q(e,T);L.nL(T,p,A);L.EL(p,T,j,j,s);
L.Z5(T,O);L.Js(T,e);L.Ec(e)}function K(i){var U=0;if(k==8){for(var r=0;r<C;r++){i[U++]=~~(L.random()*255)}for(var Y=1;
Y<m;Y++){for(var r=0;r<C;r++){i[U++]=i[r]}}}else{for(var Y=0;Y<m;Y++){var dS=~~(L.random()*255);for(var r=0;
r<C;r++){i[U++]=dS}}}}function M(i,e){L.tu(i,T);L.NV(p);b(T,p);K(p);b(T,p);L.OH(i,h,9);L.OH(h,D,9);L.j7(T,p,2);
L.Z5(p,O);L.j7(p,T,2);L.hS(D,e);L.Js(T,e);L.Ec(e)}[u,V,c,E,E,Z,G,M,M,J][k](i,e)};I.z.afQ=function(i,C,m,e,z){var L=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],l=I.z.s,F=0,n,Y,_,B,N,a=0,O=1,H=255;
l.oG(C,m);l.aj(z[3]);var x=l.mF(1),S=l.mF(1);l.tu(i,x);var k=z[0],f=z[1],X=f<=50?L[f]/255:1+(255-L[101-f])/255,o=z[2],A=x.length,P=new Float32Array(A),R=1+1/10*k,Q=(1-1/R)/2,s=16/256,j=C-1;
for(Y=0;Y<l.aE;Y++){P[Y]=x[Y]/255;S[Y]=k==1?l.random()<1/255?H:O:O}function q(h,D){var T=h*C+D;if(S[T]!=O||h>=m||D>=C){return}var B=P[T],p=X-B,y=l.random(),b=y/R+Q;
if(F==0||Math.abs(N-B)>s){n=b<=p?a:H;F=~~(l.random()*k)}else if(.1<y){F--}else{F=0}S[T]=n;N=B}if(o==0){for(Y=0;
Y<C;Y++){for(_=0;_<C;_++){B=Y+_;if(B>=C)break;q(_,j-B)}F=0}for(Y=1;Y<m;Y++){for(_=0;_<m;_++){B=Y+_;if(B>=m||_>=C)break;
q(B,j-_)}F=0}}else if(o==1){for(Y=0;Y<m;Y++){for(_=0;_<C;_++){q(Y,_)}F=0}}else if(o==2){for(Y=0;Y<C;
Y++){for(_=0;_<C;_++){B=Y+_;if(B>=C)break;q(_,B)}F=0}for(Y=1;Y<m;Y++){for(_=0;_<m;_++){B=Y+_;if(B>=m||_>=C)break;
q(B,_)}F=0}}else{for(Y=0;Y<C;Y++){for(_=0;_<m;_++){q(_,Y)}F=0}}l.Im(S,e)};I.z.asa=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=z[0],x=z[1],S=z[2],k=L.mF(1),f=L.mF(1),X=L.mF(1),o=L.mF(1),A=L.mF(4),P=L.mF(4);L._Q(i,o,3,4);
L.tu(i,k);L.EL(k,f,3,3,1);L.EL(k,X,3,3,9);L.sub(X,f);L.j7(f,k,3);L.X9(k,40,10,o);L.Cz(i,e,l,2,!1,l);
L.Cz(i,A,l,2,!0,l);L._w(P,255);L.xo(e,k,P);L.xo(P,k,A);L.Hg(A,e,1);L.hS(e);L._Q(e,k);L.X9(k,x,S,o);L.Js(k,e);
L.Ec(e)};I.z.ahY=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[3]);var l=z[0],x=z[1],S=z[2]/10;l=l+x;
var k=L.mF(1),f=L.mF(1),X=L.Fp(),o=L.Fp();L.NV(k);L.j7(k,f,11);L.j7(f,k,11);L.Pg(k,X);L.Eq(X,o,5);L.Eq(o,X,5);
L.aqt(o,.97);L.a3p(o,k,l);L.EL(k,f,x,x,1);L.AO(i,k);L.ce(f,k,f,.6);L.s4(k,f,f,S);L.eH(f,f,k,5,1);L.hS(i,e);
L.Js(k,e);L.Ec(e)};I.z.a4i=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=Math.abs(z[0]),x=l+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][l],S=2*l+1,k=z[1]/10,f=k*13/15,X=L.mF(1),o=L.mF(1),A=L.mF(1),P=L.mF(1),F=L.mF(4),n=L.mF(4),R=L.mF(4),Q=L.mF(4),s=L.mF(4);
L.tu(i,X);if(z[0]>=0){L.Fb(X)}L.EP(X,A);L.j7(X,P,x);L.j7(P,X,x);L.DD(X,k);L.EP(X,o);L.j7(X,P,S);L.j7(P,X,S);
L.DD(X,f);L._w(R,z[2]);L._w(Q,z[3]);L._w(s,z[4]);L.xo(R,X,Q,F);L.xo(s,o,F,n);L.xo(Q,A,n,e);L._Q(i,A,3);
L.Js(A,e,3)};I.z.au0=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[5]);var l=z[0]*5.1,x=z[1]/100,S=L.ax0[z[2]],k=L.mF(1),f=L.mF(1),X=L.mF(1);
L.tu(i,k);L.awZ(f,255);L.NV(X);L.Vm(k,l);L.ws(f,k,.7);L.ws(X,k,x);L.eH(k,k,f,5,S);L.EP(i,e);L.aeR(e,l,z[4],z[3]);
L.hS(e);L.Js(f,e);L.Ec(e)};I.z.aqN=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=z[0],x=4-z[1],S=11-z[2],k=L.mF(1),f=L.mF(1),X=L.mF(4);
L.AO(i,f);for(var Y=0;Y<x;Y++){L.EP(f,k);L.aao(k,f,l,l)}L.OH(i,X,l);L.hS(X,X);L.Js(f,X);L.Ec(X,X);(S<11?L.a0f:L.EP)(X,e,S)};
I.z.ahq=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[2]);var l=z[0]+5,x=~~(l/5+1),S=~~(l/2)+1,k=S*S,f=~~(l/3),X=L.ax0[z[1]],o=new Array(256);
for(var Y=0;Y<256;Y++){o[Y]=~~(.2*(Y-128))}var A=L.mF(1),P=L.mF(1);L.avr(i,e,l);L.hS(e);L._Q(e,A);L.NV(P);
L.ax6(A,P,o);L.azS(P,l,l,x,x);L.ce(A,P,A,1);L.j7(A,P,f);L.j7(P,A,f);L.EL(A,P,S,S,k);L.eH(P,P,A,5,X);
L.Js(A,e);L.Ec(e)};I.z.ac3=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=L.mF(1),x=L.mF(1),S=L.mF(1),k=L.Fp(),f=L.Fp();
L.tu(i,l);L.j7(l,x,z[2]);L.Vm(x,z[0]*5.1);L.EL(x,l,2,2,4);L.j7(l,x,3);L.j7(x,l,3);L.EP(l,S);L.j7(l,x,5);
L.j7(x,l,5);L.Pg(l,k);L.Eq(k,f,5);L.Eq(f,k,5);L.abG(k,x,z[1]);L.Fb(x);L.ce(S,x,S,1);L.Im(S,e)};I.z.ab4=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=1<<7-z[2],x=L.mF(1),S=L.mF(1),k=L.mF(1);L.AO(i,S);L.j7(S,x,3);L.EP(x,S);L.j7(x,k,z[0]+5);
L.sub(k,S);L.X9(S,1,z[1]);L.DD(x,1/l);L.DD(x,l);L.sub(x,S);L.hS(i,e);L.Js(S,e);L.Ec(e)};I.z.a9k=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);L.aj(z[3]);var l=L.mF(1),x=L.mF(1),S=L.mF(1);L.tu(i,l);L.amm(x,z[0]/50);L.j7(x,S,3);L.EL(l,x,9,9,41);
L.X9(x,z[1],z[2]);L.ce(x,S,S,.75);L.s4(x,S,x,.5);L.EP(x,l);L.EL(l,S,3,3,8);L.ce(S,x,S,.75);L.DD(S,1.2);
L.nL(S,l,1);L.j7(l,S,2);L.nL(S,l,2);L.DD(l,1.2);L.j7(l,S,2);L.Im(S,e)};I.z.a4z=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=z[0]+9,x=z[1]/2,S=z[2],k=z[3],f=L.UX(z[4]),X=z[5]+1,o=z[6],A=L.mF(1),P=L.mF(1),F=L.mF(4),n=L.mF(4);
L.QK(P,S,k,o);L.aia(i,e,l,1,1);L.aia(e,F,l,1,1);L.apo(F,F,n,7,x);L.DD(n,1.2);L.p9(n,1.2);L.eH(P,A,A,X,f);
L.DD(A,3);L.EP(i,e);L.xo(n,A,e)};I.z.ahe=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[3]);var l=z[0]+4,x=l*2/5+(l%5|0);
l--;var S=z[1]*-2.75+60,k=65-S,f=z[2]/10,X=L.mF(1),o=L.mF(1);L.NV(X);L.AO(i,o);var A=L.KW(S,k,o);L.hS(i,e);
L._Q(e,o);L.ws(o,X,.8);L.Z5(o,A);L.DD(o,f);L.add(X,o);L.HM(o,X,l,3,!1,x);L.Js(X,e);L.Ec(e)};I.z.awx=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);L.aj(z[3]);var l=z[0]+5,x=(l*l>>1)+l%2,S=z[1]/10,k=z[2],f=(k*k>>1)+k%2,X=L.mF(1),o=L.mF(1),A=L.mF(1),P=L.mF(4),F=L.mF(4),n=L.mF(4);
L.NV(A);L.hS(i,n);L._Q(n,X);L.ws(X,A,.8);L.j7(A,X,3);L.nL(X,A,S);L.Js(A,n);L.Ec(n,n);L.tu(n,A);L.EL(A,X,l,l,x);
L.j7(A,o,l);L.sub(X,o);L.Vm(o,1);L.Ye(n,P,7,7,40);L.Ye(n,F,7,7,10);L.xo(P,o,F);L.Ye(F,e,k,k,f)};I.z.ahH=function(i,C,m,e,z){var L=I.z.s,x=255,Y,k;
L.oG(C,m);var l=z[0];if(l<2)x=l;else if(l<12)x=5*l-5;else if(l<47)x=2*l+28;else if(l<50){Y=l-47;x=125+12.5*Y+12.5*Y*Y}var S=new Uint8Array(256);
for(Y=75,k=15;Y<256;Y++,k+=24)S[Y]=Math.min(255,k);var f=L.mF(1),X=L.mF(1),o=L.mF(1);L.tu(i,f);L.j7(f,X,11);
L.j7(X,o,11);L.sub(o,f);L.DD(f,8);L.sub(o,f);L.Vm(f,x);L.Fb(f);L.j7(f,X,5);L.Vm(X,51);L.j7(X,f,z[1]);
L.j7(f,X,z[1]);L.Fb(X);L.Z5(X,S);L.Im(X,e)};I.z.aaA=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=L.aAR[z[1]],x=z[2],S=x*1.5,k=L.mF(1),f=L.mF(1),X=L.mF(1);
L.AO(i,k);L.HM(k,f,15,2,!0,15);L.EP(f,X);L.X9(X,x,S);L.j7(X,k,3);L.j7(f,X,z[0]);L.sub(X,f);L.DD(f,l);
L.sub(k,f);L.j7(f,k,3);L.HM(k,f,3,1,!1,1);L.OH(i,e,15);L.hS(e);L.Js(f,e);L.Ec(e)};I.z.a6d=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);L.aj(z[3]);var l=z[0]*5.1,x=16-z[1],S=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][z[2]],k=L.mF(1),f=L.mF(1),X=L.mF(1);
L.tu(i,k);L.Vm(k,l);L.j7(k,f,x);L.j7(f,k,x);L.NV(X);L.s4(k,X,X,1);L.ce(k,X,k,.75);L.DD(k,S);L.p9(k,S);
L.EL(k,f,2,2,2);L.Im(f,e)};I.z.a0D=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);var l=z[0]+9,x=z[1]+9,S=z[2],k=z[3],f=L.UX(z[4]),X=z[5]+1,o=z[6],A=L.mF(1),P=L.mF(1),F=L.mF(1),n=L.mF(1),R=L.mF(1),Q=L.mF(4);
L.AO(i,A);L.aao(A,F,l,l);L.j7(F,A,x);L.EP(F,R);L.EP(A,n);L.sub(R,n);L.sub(A,R);L.add(R,n);L.DD(n,10);
L.QK(P,S,k,o);L.eH(P,A,R,X,f);L.alz(R,n,F,.8);L.OH(i,Q,9);L.OH(Q,e,9);L.hS(e);L.Js(F,e);L.Ec(e)};I.z.a6t=function(i,C,m,e,z){var L=I.z.s;
L.oG(C,m);var l=16-z[0],x=z[1]*8,S=1-(3-z[2])/10,k=~~(l*l*S-1),f=~~(l*l*(1-S));if(f==0)f=1;var X=L.mF(1),o=L.mF(1),A=L.mF(1),P=L.mF(4);
L.tu(i,A);L.EL(A,X,7,7,25);L.j7(A,o,7);L.sub(X,o);L.Vm(o,1);L.Ye(i,P,l,l,k);L.Ye(i,e,l,l,f);L.xo(P,o,e);
L.hS(e);L._Q(e,X);L.EL(X,A,3,3,1);L.EL(X,o,3,3,9);L.sub(o,A);L.EP(A,o);L.sub(X,A);L.sub(A,o);L.EL(o,X,3,3,8);
L.X9(X,x,1);L.Js(X,e);L.Ec(e)};I.z.a33=function(i,C,m,e,z){var L=I.z.s;L.oG(C,m);L.aj(z[3]);var l=z[0],x=z[1],S=z[2],k=l>>1,f=Math.max(~~(l/5),1),X=Math.max(~~(l*2/3),1),o=L.a3r(x,S),A=L.mF(1),P=L.mF(1),F=L.mF(1),n=L.mF(1),R=L.mF(4);
L.AO(i,A);L.aaX(2147483647,4,2,2,0,255,P);L.aaX(4,2147483647,2,2,0,255,n);L.NV(F);L.s4(P,F,P,1);L.s4(n,F,n,1);
L.s4(P,A,P,1);L.s4(n,A,n,1);L.OH(i,R,k);L.OH(R,e,k);L.EL(P,A,1,l,f);L.EL(A,P,3,l,X);L.EL(n,A,l,1,f);
L.EL(A,n,l,3,X);L.qT(P,n);L.hS(e);L.Js(n,e);L.Ec(e);L.aiG(e,o)};I.z.AZ=function(i,C,m){var e=m.alM,z=m.aE,L=m.mF(1),top=m.mF(1),l=m.mF(1),x=m.mF(1),S=m.mF(1),k=m.mF(1),f=m.mF(1),X=m.mF(1),o=m.mF(1),A=m.HG,P=m.bB,F=I.H2.pN,n=I.H2.wn;
F(i,L,A,P,n([8,5,2,5,2,-1,2,-1,-4]));F(i,top,A,P,n([5,5,5,2,2,2,-1,-1,-1]));F(i,l,A,P,n([2,5,8,-1,2,5,-4,-1,2]));
F(i,x,A,P,n([5,2,-1,5,2,-1,5,2,-1]));F(i,S,A,P,n([2,2,2,2,2,2,2,2,2]));F(i,k,A,P,n([-1,2,5,-1,2,5,-1,2,5]));
F(i,f,A,P,n([2,-1,-4,5,2,-1,8,5,2]));F(i,X,A,P,n([-1,-1,-1,2,2,2,5,5,5]));F(i,o,A,P,n([-4,-1,2,-1,2,5,2,5,8]));
var R=[L,top,l,x,S,k,f,X,o];for(var Q=0;Q<P;Q++){for(var s=0;s<A;s++){var j=Q*A+s,_=i[j],B=null,N=0;
for(var a=-1;a<2;a++){for(var O=-1;O<2;O++){var H=R[(a+1)*3+O+1],q=Math.max(0,Math.min(Q+a,P-1)),h=Math.max(0,Math.min(s+O,A-1)),D=H[q*A+h],T=Math.abs(D-_);
if(B==null||T<B){B=T;N=D}}}C[j]=N}}};I.z.auH=function(i,C,m,e,z){var self=I.z.s;self.oG(C,m);var L=self.mF(1),l=self.mF(1);
for(var Y=0;Y<4;Y++){self._Q(i,L,Y);if(Y<3){I.z.AZ(L,l,self);I.z.AZ(l,L,self);I.z.AZ(L,l,self);I.z.AZ(l,L,self);
I.z.AZ(L,l,self);I.z.AZ(l,L,self);I.z.AZ(L,l,self);I.z.AZ(l,L,self);I.z.AZ(L,l,self)}else l=L;self.Js(l,e,Y)}};
I.z.s={};I.z.s.HG=0;I.z.s.bB=0;I.z.s.aE=0;I.z.s.ic=0;I.z.s.xU=0;I.z.s.oG=function(i,C){var m=i*C,self=I.z.s;
self.HG=i;self.bB=C;self.aE=m;self.ic=m<<1;self.xU=m<<2};I.z.s.aj=function(i){I.z.s.random=function(){var C=i+=1831565813;
C=Math.imul(C^C>>>15,C|1);C^=C+Math.imul(C^C>>>7,C|61);return((C^C>>>14)>>>0)/4294967296}};I.z.s.mF=function(i){var C=I.z.s;
return new Uint8Array([-1,C.aE,C.ic,-1,C.xU][i])};I.z.s.Fp=function(){return new Int32Array(I.z.s.ic)};
I.z.s.j7=function(i,C,m,e){if(e==null)e=m;var self=I.z.s,z=self.HG,L=self.bB,l=e,x=e>>1,S=m,k=m>>1,f=m*e,X=0;
for(var Y=0;Y<L;Y++){var o=0;for(var A=0;A<l;A++){for(var P=0;P<S;P++){var F=0-k+P,n=Y-x+A;if(F<0)F=0;
else if(F>=z)F=z-1;if(n<0)n=0;else if(n>=L)n=L-1;o+=i[n*z+F]}}C[X++]=~~(o/f);for(var R=1;R<z;R++){for(var A=0;
A<l;A++){var Q=R-k-1,s=Q+S,n=Y-x+A;if(Q<0)Q=0;if(s>=z)s=z-1;if(n<0)n=0;else if(n>=L)n=L-1;o+=i[n*z+s]-i[n*z+Q]}C[X++]=~~(o/f)}}};
I.z.s.Eq=function(i,C,m,e){var self=I.z.s,z=new Int32Array(self.aE),L=new Int32Array(self.aE);for(var Y=0;
Y<2;Y++){self._Q(i,z,Y,2);self.j7(z,L,m,e);self.Js(L,C,Y,2)}};I.z.s.OH=function(i,C,m,e){var self=I.z.s,z=self.mF(1),L=self.mF(1);
for(var Y=0;Y<4;Y++){self._Q(i,z,Y);if(Y<3)self.j7(z,L,m,e);else L=z;self.Js(L,C,Y)}};I.z.s.aia=function(i,C,m,e,z){var self=I.z.s,L=self.HG,l=self.bB,x=m+e-1,S=m>>1,k=x>>1,f=0,X=m*e,o=new Int32Array(m);
for(var Y=0;Y<l;Y++){var A=0,P=0,F=0;for(var n=0;n<m;n++){var R=z?x-n-e:n;for(var Q=R,s=e+R;Q<s;Q++){var j=0-k+Q,_=Y-S+n;
if(Q==R){o[n]=j}if(j<0)j=0;else if(j>=L)j=L-1;if(_<0)_=0;else if(_>=l)_=l-1;var B=L*_+j<<2;A+=i[B];P+=i[B+1];
F+=i[B+2]}}C[f++]=~~(A/X);C[f++]=~~(P/X);C[f++]=~~(F/X);C[f]=i[f];f++;for(var N=1;N<L;N++){for(var n=0;
n<m;n++){var _=Y-S+n,R=o[n]+1;o[n]=R;var a=R-1,O=R+e-1;if(_<0)_=0;else if(_>=l)_=l-1;if(a<0)a=0;else if(a>=L)a=L-1;
if(O<0)O=0;else if(O>=L)O=L-1;var H=_*L+a<<2,q=_*L+O<<2;A=A+i[q]-i[H];P=P+i[q+1]-i[H+1];F=F+i[q+2]-i[H+2]}C[f++]=~~(A/X);
C[f++]=~~(P/X);C[f++]=~~(F/X);C[f]=i[f];f++}}};I.z.s.HM=function(i,C,m,e,z,L){var self=I.z.s,l=self.HG,x=self.bB,S=m+e-1,k=m>>1,f=S>>1,X=0,o=new Int32Array(m),A=new Int32Array(256),P=new Int32Array(16);
for(var Y=0;Y<x;Y++){for(var F=0;F<256;F++){A[F]=0}for(var F=0;F<16;F++){P[F]=0}for(var n=0;n<m;n++){var R=z?S-n-e:n;
for(var Q=R,s=e+R;Q<s;Q++){var j=0-f+Q,_=Y-k+n;if(Q==R){o[n]=j}if(j<0)j=0;else if(j>=l)j=l-1;if(_<0)_=0;
else if(_>=x)_=x-1;A[i[_*l+j]]++;P[i[_*l+j]>>>4]++}}var B=0,N=0;while(B+P[N>>>4]<L){B+=P[N>>>4];N+=16}for(;
N<256;N++){B+=A[N];if(B>=L)break}C[X++]=N;for(var F=1;F<l;F++){for(var n=0;n<m;n++){var _=Y-k+n,R=o[n]+1;
o[n]=R;var a=R-1,O=R+e-1;if(_<0)_=0;else if(_>=x)_=x-1;if(a<0)a=0;else if(a>=l)a=l-1;if(O<0)O=0;else if(O>=l)O=l-1;
A[i[_*l+a]]--;A[i[_*l+O]]++;P[i[_*l+a]>>>4]--;P[i[_*l+O]>>>4]++}B=0;N=0;while(B+P[N>>>4]<L){B+=P[N>>>4];
N+=16}for(;N<256;N++){B+=A[N];if(B>=L)break}C[X++]=N}}};I.z.s.Cz=function(i,C,m,e,z,L){var self=I.z.s,l=self.mF(1),x=self.mF(1);
for(var Y=0;Y<4;Y++){self._Q(i,l,Y);if(Y<3)self.HM(l,x,m,e,z,L);else x=l;self.Js(x,C,Y)}};I.z.s.EL=function(i,C,m,e,z){z=Math.min(e*m,z);
var self=I.z.s,L=self.HG,l=self.bB,x=e>>1,S=m>>1,k=0,f=new Int32Array(e),X=new Int32Array(256),o=new Int32Array(16);
for(var Y=0;Y<l;Y++){for(var A=0;A<256;A++){X[A]=0}for(var A=0;A<16;A++){o[A]=0}for(var P=0;P<e;P++){for(var F=0,n=m;
F<n;F++){var R=0-S+F,Q=Y-x+P;if(F==0){f[P]=R}if(R<0)R=0;else if(R>=L)R=L-1;if(Q<0)Q=0;else if(Q>=l)Q=l-1;
X[i[Q*L+R]]++;o[i[Q*L+R]>>>4]++}}var s=0,j=0;while(s+o[j>>>4]<z){s+=o[j>>>4];j+=16}for(;j<256;j++){s+=X[j];
if(s>=z)break}C[k++]=j;for(var A=1;A<L;A++){for(var P=0;P<e;P++){var Q=Y-x+P,_=f[P]+1;f[P]=_;var B=_-1,N=_+m-1;
if(Q<0)Q=0;else if(Q>=l)Q=l-1;if(B<0)B=0;else if(B>=L)B=L-1;if(N<0)N=0;else if(N>=L)N=L-1;X[i[Q*L+B]]--;
X[i[Q*L+N]]++;o[i[Q*L+B]>>>4]--;o[i[Q*L+N]>>>4]++}s=0;for(j=0;j<256;j++){s+=X[j];if(s>=z)break}C[k++]=j}}};
I.z.s.Ye=function(i,C,m,e,z){var self=I.z.s,L=self.mF(1),l=self.mF(1);for(var Y=0;Y<4;Y++){self._Q(i,L,Y);
if(Y<3)self.EL(L,l,m,e,z);else l=L;self.Js(l,C,Y)}};I.z.s.nL=function(i,C,m){var self=I.z.s,e=self.HG,z=self.bB,L=0;
for(var Y=0;Y<z;Y++){var l=Y*e,x=(Y-1)*e,S=(Y+1)*e;if(x<0)x=l;if(S>=z)S=l;for(var k=0;k<e;k++){var f=k-1,X=k+1;
if(f<0)f=k;if(X>=e)X=k;var o=l+f,A=l+X,P=x+k,F=S+k,n=l+k,R=i[o],Q=i[A],s=i[P],j=i[F],_=i[n],B=_+(_*4*m+.5);
B=B-((R+Q+j+s)*m+.5);C[L++]=self.RK(B)}}};I.z.s.Hg=function(i,C,m){var self=I.z.s,e=self.mF(1),z=self.mF(1);
for(var Y=0;Y<4;Y++){self._Q(i,e,Y);if(Y<3)self.nL(e,z,m);else z=e;self.Js(z,C,Y)}};I.z.s.a0f=function(i,C,m){var self=I.z.s,e=self.HG,z=self.bB,L=0,l=m+4;
for(var Y=0;Y<z;Y++){var x=Y*e,S=(Y-1)*e,k=(Y+1)*e;if(S<0)S=x;if(k>=z)k=x;for(var f=0;f<e;f++){var X=f-1,o=f+1;
if(X<0)X=f;if(o>=e)o=f;var A=x+X<<2,P=x+o<<2,F=S+f<<2,n=k+f<<2,R=x+f<<2;for(var Q=0;Q<3;Q++){var s=i[A+Q],j=i[P+Q],_=i[F+Q],B=i[n+Q],N=i[R+Q];
C[L++]=(N*m+s+j+B+_)/l}C[L]=i[L];L++}}};I.z.s.aao=function(i,C,m,e){var self=I.z.s,z=self.HG,L=self.bB,l=m>>1,x=e>>1,S=0,k=new Int32Array(m),f=new Int32Array(256);
for(var Y=0;Y<L;Y++){for(var X=0;X<256;X++){f[X]=0}for(var o=0;o<m;o++){for(var A=0,P=e;A<P;A++){var F=0-x+A,n=Y-l+o;
if(A==0){k[o]=F}if(F<0)F=0;else if(F>=z)F=z-1;if(n<0)n=0;else if(n>=L)n=L-1;f[i[n*z+F]]++}}var R=0,Q=0;
for(var s=0;s<256;s++){if(R<f[s]){Q=s;R=f[s]}}C[S++]=Q;for(var X=1;X<z;X++){for(var o=0;o<m;o++){var n=Y-l+o,j=k[o]+1;
k[o]=j;var _=j-1,B=j+e-1;if(n<0)n=0;else if(n>=L)n=L-1;if(_<0)_=0;else if(_>=z)_=z-1;if(B<0)B=0;else if(B>=z)B=z-1;
f[i[n*z+_]]--;f[i[n*z+B]]++}R=0;Q=0;for(var s=0;s<256;s++){if(R<f[s]){Q=s;R=f[s]}}C[S++]=Q}}};I.z.s.aB$=[function(i,C,m,e,z,L,l,x,S,k){return z+(i+C+m)*k-(S+x+l)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(C+m+L)*k-(x+l+e)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(m+L+S)*k-(l+e+i)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(L+S+x)*k-(e+i+C)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(S+x+l)*k-(i+C+m)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(x+l+e)*k-(C+m+L)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(l+e+i)*k-(m+L+S)*k},function(i,C,m,e,z,L,l,x,S,k){return z+(e+i+C)*k-(L+S+x)*k}];
I.z.s.eH=function(i,C,m,e,z){var self=I.z.s,L=self.HG,l=self.bB,x=L,S=self.aB$[e-1];for(var Y=0;Y<l;
Y++){var k=(Y>0?Y-1:0)*x,f=Y*x,X=(Y<l?Y+1:Y)*x;for(var o=0;o<L;o++){var A=o>0?o-1:0,P=o<L?o+1:o,F=f+o,n=i[k+A],R=i[k+o],Q=i[k+P],s=i[f+A],j=C[F],_=i[f+P],B=i[X+A],N=i[X+o],a=i[X+P];
m[F]=self.RK(S(n,R,Q,s,j,_,B,N,a,z))}}};I.z.s.apo=function(i,C,m,e,z){var self=I.z.s,L=self.mF(1),l=self.mF(1),x=self.mF(1);
for(var Y=0;Y<3;Y++){self._Q(i,L,Y);self._Q(C,l,Y);self.eH(L,l,x,e,z);self.Js(x,m,Y)}self._Q(C,L,3);
self.Js(L,m,3)};I.z.s.tu=function(i,C){var m=i.length,e=0;for(var Y=0;Y<m;Y++){C[e++]=~~((i[Y++]+i[Y++]+i[Y++]+2)/3)}};
I.z.s.Im=function(i,C){var m=C.length,e=0;for(var Y=0;Y<m;Y++){var z=i[Y];C[e++]=z;C[e++]=z;C[e++]=z;
C[e++]=255}if(C[0]==255)C[0]--;else C[0]++};I.z.s.AO=function(i,C){var m=C.length,e=0;for(var Y=0;Y<m;
Y++){var z=i[e++],L=i[e++],l=i[e++];e++;if(L>z)z=L;if(l>z)z=l;C[Y]=z}};I.z.s.hS=function(i,C){if(C==null)C=i;
var m=i.length;for(var e=0;e<m;e+=4){var z=i[e],L=i[e+1],l=i[e+2],x=z,S=0,k=z,X;if(L<=z){z=L}else{S=1;
k=L}if(l<=k){if(z>l){z=l}}else{S=2;k=l}var f=k-z;if(f!=0){if(S==0){X=~~(43*(L-l)/f)}else if(S==1){X=~~(43*(l+2*f-x)/f)}else{X=43*(x+4*f-L)/f}if(X<0){X=255&X-1}C[e]=X;
C[e+1]=~~(255*f/k)}else{C[e]=f;C[e+1]=f}C[e+2]=k;C[e+3]=i[e+3]}};I.z.s.Ec=function(i,C){if(C==null)C=i;
var m=i.length;for(var e=0;e<m;e+=4){var z=i[e],L=i[e+1],l=i[e+2];if(L){if(z==255)z=0;var x=~~(6*z/255),S=~~(-255*x+6*z);
if(x==0){C[e]=l;C[e+1]=~~(l*(255-L*(255-S)/255)/255);C[e+2]=~~(l*(255-L)/255)}else if(x==1){C[e]=~~(l*(255-L*S/255)/255);
C[e+1]=l;C[e+2]=~~(l*(255-L)/255)}else if(x==2){C[e]=~~(l*(255-L)/255);C[e+1]=l;C[e+2]=~~(l*(255-L*(255-S)/255)/255)}else if(x==3){C[e]=~~(l*(255-L)/255);
C[e+1]=~~(l*(255-L*S/255)/255);C[e+2]=l}else if(x==4){C[e]=~~(l*(255-L*(255-S)/255)/255);C[e+1]=~~(l*(255-L)/255);
C[e+2]=l}else{C[e]=l;C[e+1]=~~(l*(255-L)/255);C[e+2]=~~(l*(255-L*S/255)/255)}}else{C[e]=l;C[e+1]=l;C[e+2]=l}C[e+3]=i[e+3]}};
I.z.s.Js=function(i,C,m,e){if(m==null)m=2;if(e==null)e=4;var z=i.length;for(var Y=0;Y<z;Y++){C[m]=i[Y];
m+=e}};I.z.s._Q=function(i,C,m,e){if(m==null)m=2;if(e==null)e=4;var z=C.length;for(var Y=0;Y<z;Y++){C[Y]=i[m];
m+=e}};I.z.s.alz=function(i,C,m,e){if(e==null)e=1;var z=C.length,L=0,l;for(var L=0;L<z;L++){l=C[L];if(l){l*=e;
m[L]=~~((l*i[L]+(255-l)*m[L])/255)}}};I.z.s.xo=function(i,C,m,e){if(e==null)e=m;var z=C.length,L=0,l,x;
for(var Y=0;Y<z;Y++){l=C[Y];if(l){x=255-l;e[L]=~~((l*i[L]+x*m[L])/255);e[L+1]=~~((l*i[L+1]+x*m[L+1])/255);
e[L+2]=~~((l*i[L+2]+x*m[L+2])/255)}e[L+3]=i[L+3];L+=4}};I.z.s.ce=function(i,C,m,e){var z=~~(e*255),L=m.length;
for(var Y=0;Y<L;Y++){m[Y]=((255-z*(255-i[Y])/255)*C[Y]+i[Y]*(z*(255-i[Y])/255))/255}};I.z.s.s4=function(i,C,m,e){var z=~~(e*255),L=m.length;
for(var Y=0;Y<L;Y++){m[Y]=((255-z*i[Y]/255)*C[Y]+i[Y]*(z*i[Y]/255))/255}};I.z.s.ws=function(i,C,m){var e=C.length;
for(var Y=0;Y<e;Y++){C[Y]=~~(i[Y]*m+.5)+(C[Y]-~~(C[Y]*m+.5))}};I.z.s.sub=function(i,C){var m=i.length;
for(var Y=0;Y<m;Y++){C[Y]=Math.max(i[Y]-C[Y],0)}};I.z.s.add=function(i,C){var m=i.length;for(var Y=0;
Y<m;Y++){C[Y]=Math.min(i[Y]+C[Y],255)}};I.z.s.alM=function(i,C){var m=i.length;for(var Y=0;Y<m;Y++){C[Y]=i[Y]+C[Y]}};
I.z.s.qT=function(i,C){var m=i.length;for(var Y=0;Y<m;Y++){C[Y]=i[Y]+C[Y]>>1}};I.z.s.EP=function(i,C){var m=i.length;
for(var Y=0;Y<m;Y++){C[Y]=i[Y]}};I.z.s.Z5=function(i,C){var m=i.length;for(var Y=0;Y<m;Y++){i[Y]=C[i[Y]]}};
I.z.s.aiG=function(i,C){var m=I.z.s.xU;for(var Y=0;Y<m;Y+=4){var e=i[Y],z=i[Y+1],L=i[Y+2],l=e;if(z>e)l=z;
if(L>e)l=L;var x=C[l];if(x){i[Y]=~~(x*e/l);i[Y+1]=~~(x*z/l);i[Y+2]=~~(x*L/l)}else{i[Y]=x;i[Y+1]=x;i[Y+2]=x}}};
I.z.s.DD=function(i,C){for(var Y=0,m=i.length;Y<m;Y++){i[Y]=Math.min(255,~~(.5+i[Y]*C))}};I.z.s.p9=function(i,C){for(var Y=0,m=i.length;
Y<m;Y++){i[Y]=255-Math.min(255,~~(.5+(255-i[Y])*C))}};I.z.s.Fb=function(i){var C=i.length;for(var Y=0;
Y<C;Y++){i[Y]=255-i[Y]}};I.z.s.Vm=function(i,C,m,e){if(m==null)m=0;if(e==null)e=255;for(var Y=0,z=i.length;
Y<z;Y++){i[Y]=i[Y]>=C?e:m}};I.z.s._9=function(i){return[i>>24&255,i>>16&255,i>>8&255,i&255]};I.z.s.aeR=function(i,C,m,e){if(m==null)m=255;
if(e==null)e=4278190335;var z=I.z.s,L=z.xU,l=z._9(m),x=z._9(e);for(var Y=0;Y<L;Y+=4){var S=~~((i[Y]+i[Y+1]+i[Y+2]+2)/3);
if(S>=C){i[Y]=l[0];i[Y+1]=l[1];i[Y+2]=l[2]}else{i[Y]=x[0];i[Y+1]=x[1];i[Y+2]=x[2]}}};I.z.s._w=function(i,C){var m=I.z.s,e=m.xU,z=m._9(C);
for(var Y=0;Y<e;){i[Y++]=z[0];i[Y++]=z[1];i[Y++]=z[2];i[Y++]=z[3]}};I.z.s.awZ=function(i,C){var m=i.length;
for(var Y=0;Y<m;){i[Y++]=C}};I.z.s.a3r=function(i,C){i=i>5?(100-Math.max(4,i))/100:.95;C=C!=100?Math.max(4,C)/100:.9995;
var m=new Uint8Array(256),e=C>.5?.5/(1-C):C*2,z=~~(e*256),L=~~((.5-i*e)*256)<<8;for(var Y=0;Y<256;Y++){m[Y]=I.z.s.RK(L>>8);
L+=z}return m};I.z.s.NV=function(i){for(var Y=0,C=I.z.s,m=i.length;Y<m;Y++){i[Y]=~~(C.random()*256)}};
I.z.s.amm=function(i,C){for(var Y=0,m=I.z.s,e=i.length;Y<e;Y++){i[Y]=m.random()<C?255:0}};I.z.s.a7C=function(i,C,m){for(var Y=0,e=I.z.s,z=i.length;
Y<z;Y++){if(e.random()<C)i[Y]=m}};I.z.s.ax6=function(i,C,m){var e=i.length;for(var Y=0;Y<e;Y++){i[Y]=I.z.s.RK(i[Y]+m[C[Y]])}};
I.z.s.P8=function(i){var C=new Uint32Array(256);for(var Y=0,m=i.length;Y<m;Y++)C[i[Y]]++;return C};I.z.s.ay$=function(i,C){var m=0,e=0,z=new Uint32Array(256),L=new Float32Array(256);
for(var Y=0,l=i.length;Y<l;Y++){var x=i[Y],S=C[Y];if(S==255){z[x]++;m++}else if(S>0){S/=255;e+=S;L[x]+=S;
if(e>=1){e--;m++}if(L[x]>=1){L[x]--;z[x]++}}}return[m,z]};I.z.s.KW=function(i,C,m,e){var self=I.z.s,z,L,f=0,o=256;
if(e){var l=self.ay$(m,e);z=l[1];L=l[0]/100}else{z=self.P8(m);L=self.aE/100}var x=new Uint8Array(256),S=L*i,k=L*C,X=-1;
do{f+=z[++X]}while(f<=S);f=0;do{f+=z[--o]}while(f<=k);if(o-X<=0)o=X+1;if(o>255){o=255;X=254}var A=255/(o-X),P=-X;
for(var Y=0;Y<256;Y++){x[Y]=self.RK(A*P+.5);P++}return x};I.z.s.X9=function(i,C,m,e){var z=I.z.s;z.Z5(i,z.KW(C,m,i,e))};
I.z.s.a83=function(i,C){var self=I.z.s,m=self.P8(i),e=self.aE*C/100,z=0,L=-1;do{z+=m[++L]}while(z<=e);
return L};I.z.s.Pg=function(i,C){var m=0,self=I.z.s,e=self.HG,z=self.bB,L=1/Math.PI,l=L*255;for(var Y=0;
Y<z;Y++){var x=Y+1;if(x==z)x--;var S=Y*e,k=~~((1-(Y+1)/z)*255);for(var f=0;f<e;f++){var X=f+1;if(X==e)X--;
var o=i[S+f],A=i[S+X],P=i[x*e+f];if(o-P==0){C[m++]=k}else{var F=o-P+255;if(F==255){F=0}else{F=~~(Math.atan2(1/(255-F),1)*l+.5);
if(F<0)F+=255}C[m++]=F}if(o-A==0){C[m++]=~~((1-(f+1)/e)*255)}else{var F=o-A+255;if(F==255){F=0}else{F=~~(Math.atan2(1/(255-F),1)*l+.5);
if(F<0)F+=255}C[m++]=F}}}};I.z.s.aqt=function(i,C){var self=I.z.s,m=self.HG,e=self.bB,z=0;for(var Y=0;
Y<e;Y++){for(var L=0;L<m;L++){i[z]=~~(Y*C+.5)+~~(i[z]*(1-C)+.5);z++;i[z]=~~(L*C+.5)+~~(i[z]*(1-C)+.5);
z++}}};I.z.s.aqj=function(i,C,m,e){var self=I.z.s,z=self.HG,L=self.bB,l=0;for(var Y=0;Y<L;Y++){for(var x=0;
x<z;x++){C[l]=~~(C[l]*(1-m)+.5)+~~(i[l]*e+.5);l++;C[l]=~~(C[l]*(1-m)+.5)+~~(i[l]*e+.5);l++}}};I.z.s.a3p=function(i,C,m){var self=I.z.s,e=self.HG,z=self.bB,L=0,l=0;
for(var Y=0;Y<z;Y++){for(var x=0;x<e;x++){var S=i[L++],k=i[L++];C[l++]=k%m>=2&&S%m>=2?255:0}}};I.z.s.aaX=function(i,C,m,e,z,L,l){var self=I.z.s,x=self.HG,S=self.bB,k=0,f=0,X=0;
for(var Y=0;Y<S;Y++){var o=Y%i<m||S-m<=Y;for(var A=0;A<x;A++){l[k++]=o||A%C<e||x-e<=A?z:L}}};I.z.s.QK=function(i,C,m,e){var self=I.z.s,z=self.HG,L=self.bB,l=a9.QK(C),x=l[1],S=l[0].m,k=l[0].J,f=100/m;
for(var X=0;X<L;X++)for(var o=0;o<z;o++){var A=I.D.R3(o*f,X*f,x,S,k);i[X*z+o]=e?255-A:A}};I.z.s.RK=function(i){return~~Math.min(255,Math.max(0,i))};
I.z.s.aAR=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];I.z.s.ax0=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
I.z.s.UX=function(i){return i>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][i-41]:i/40};I.z.s.avr=function(i,C,m){var self=I.z.s,e=self.HG,z=self.bB,L=m,l=m>>1,x=l-1,S=L*L,k=0;
for(var Y=0;Y<z;Y++){var f=0,X=0,o=0,A=~~(Y/m)*m,P=0;for(var F=0;F<L;F++){for(var n=0;n<L;n++){var R=P+n,Q=A+F;
if(R>=e)R=e-1;if(Q>=z)Q=z-1;f+=i[Q*e+R<<2];X+=i[(Q*e+R<<2)+1];o+=i[(Q*e+R<<2)+2]}}var s=~~(f/S),j=~~(X/S),_=~~(o/S);
C[k]=s;C[k+1]=j;C[k+2]=_;C[k+3]=i[k+3];k+=4;for(var B=1;B<e;B++){for(var F=0;F<L;F++){var N=B-1,a=N+L,Q=A+F;
if(a>=e)a=e-1;if(Q>=z)Q=z-1;var O=Q*e,H=O+a<<2,q=O+N<<2;f+=i[H]-i[q];X+=i[H+1]-i[q+1];o+=i[H+2]-i[q+2]}if(B%m==0){s=~~(f/S);
j=~~(X/S);_=~~(o/S)}C[k]=s;C[k+1]=j;C[k+2]=_;C[k+3]=i[k+3];k+=4}}};I.z.s.azS=function(i,C,m,e,z){var self=I.z.s,L=self.HG,l=self.bB,x=0,S=0,k=0,f=0;
for(var Y=f;Y<l+f;Y++){var X=Y%C>=e||Y<e||l+f-e<=Y;for(var o=0;o<L;o++){i[x++]=X&&(o%m>=z||o<z||L-z<=o)?255:0}}};
I.z.s.abG=function(i,C,m){var e=function(k,f){return f<=k?k/f&1?f-k%f:k%f:k},z=[function(x,S){return e(x,255)/255},function(x,S){return(255+e(x,255)-e(S,255))/510},function(x,S){return(255-e(S,255))/255},function(x,S){return(510-e(x,255)-e(S,255))/510},function(x,S){return(255-e(x,255))/255},function(x,S){return(255-e(x,255)+e(S,255))/510},function(x,S){return e(S,255)/255},function(x,S){return(e(x,255)+e(S,255))/510}][m],L=0,l=0;
for(var Y=0;Y<I.z.s.aE;Y++){var x=i[L++],S=i[L++];C[l++]=~~(255*z(x,S))}};I.z.aha=function(){var i=[],C=new Uint8Array(512),m=new Float32Array(512),e=new Float32Array(512),z=[1,-1,1,-1,1,-1,0,0],L=[1,1,-1,-1,0,0,1,-1],l=0,x,P=0;
for(;l<256;l++)i[l]=l;while(l!=0){l--;x=Math.floor(Math.random()*l);i[x]^=i[l]^(i[l]=i[x])}function S(S){S=Math.floor(S*65536);
if(S<256){S|=S<<8}for(var Y=0;Y<256;Y++){var R=Y+256,Q=i[Y]^(Y&1?S:S>>8)&255;C[Y]=C[R]=Q;Q=Q%8;m[Y]=m[R]=z[Q];
e[Y]=e[R]=L[Q]}}function k(R){return R*R*R*(R*(R*6-15)+10)}function f(R,Q,s){return(1-s)*R+s*Q}function X(R,Q){return R&Q}function o(R,Q){return R%Q}function A(R,Q,s,j,_){var B=Math.floor(R),N=Math.floor(Q),l,a,O,H,q,h;
R=R-B;Q=Q-N;B=B&255;N=N&255;l=B+C[N];H=m[l]*R+e[l]*Q;l=B+C[_(N+1,j)];O=m[l]*R+e[l]*(Q-1);l=_(B+1,s)+C[N];
q=m[l]*(R-1)+e[l]*Q;l=_(B+1,s)+C[_(N+1,j)];h=m[l]*(R-1)+e[l]*(Q-1);a=k(R);return f(f(H,q,a),f(O,h,a),k(Q))}function F(R,l,Q){R[l]=Q}function n(R,Q,s,j,_){var B=Math.min(Math.min(Q,256),Math.min(256,s)),N=B==256||B<8,a=8,O=new Uint32Array(a),H=new Uint32Array(a),q=new Float32Array(a),h=new Float32Array(a),D=1,T=1,p=N?X:o,y=F,b;
for(var Y=0;Y<a;Y++){b=T*1/B;if(N){H[Y]=(1<<Math.ceil(Math.log2(s*b)))-1;O[Y]=(1<<Math.ceil(Math.log2(Q*b)))-1}else{H[Y]=b*s;
O[Y]=b*Q}q[Y]=D;h[Y]=b;D*=.5;T=T<<1}S(Math.random());for(var g=0,l=0;g<s;g++){for(var u=0;u<Q;u++){var t=0;
for(var V=0;V<a;V++){b=h[V];t+=A(u*b,g*b,O[V],H[V],p)*q[V]}y(j,l++,Math.round(Math.max(0,255*Math.min(1,.5+t*.5))))}}}return n}();
I.z.acp=function(){function i(C,m,e,z){var L=new Uint8Array(C.length>>>2),l=new Uint8Array(C.length>>>2),x=new Uint8Array(C.length);
for(var Y=0;Y<C.length;Y+=4){var S=C[Y+0]*.3+C[Y+1]*.59+C[Y+2]*.11;l[Y>>>2]=S;x[Y]=C[Y];x[Y+1]=C[Y+1];
x[Y+2]=C[Y+2]}I.H2.aq_(l,L,m,e);I.H2.v3(C,z,m,e,I.H2.Rh[1],0,!0);for(var Y=0;Y<C.length;Y+=4){x[Y+3]=255-L[Y>>>2]}for(var Y=0,k=C.length;
Y<k;Y+=4){var f=x[Y+3]/255;z[Y]=x[Y]*f+z[Y]*(1-f);z[Y+1]=x[Y+1]*f+z[Y+1]*(1-f);z[Y+2]=x[Y+2]*f+z[Y+2]*(1-f)}}return i}();
I.z.av5=function(){function i(L,l,x,S,k){var f=new Uint32Array(L.buffer),X=0;for(var Y=0;Y<x;Y++){for(var o=0;
o<l;o++,X+=4){var A=f[Y*l+o],P=A&255,F=A>>>8&255,n=A>>>16&255,R=A>>>24&255,Q=~~(Math.random()*8),s=Q%3,j=0,_=0;
if(Q<3){_--}else if(Q>4){_++}if(s==0){j--}else if(s==2){j++}var B=o+j,N=Y+_;if(B<0)B=0;else if(B>l-1)B=l-1;
if(N<0)N=0;else if(N>x-1)N=x-1;var A=f[N*l+B],a=A&255,O=A>>>8&255,H=A>>>16&255,q=A>>>24&255;S[X]=k(P,a);
S[X+1]=k(F,O);S[X+2]=k(n,H);S[X+3]=k(R,q)}}}function C(L,l){return l}function m(L,l){return L>l?l:L}function e(L,l){return L<l?l:L}function z(L,l,x,S,k){var f=k[0];
if(f==0)i(L,l,x,S,C);else if(f==1)i(L,l,x,S,m);else if(f==2)i(L,l,x,S,e);else if(f==3){console.error("Not implemented")}else console.error("Mew mew")}return z}();
I.z.ah_=function(){function i(C,m,e,z,L){var l=L&&L[0]?L[0]:4,x,S,k,f,X,o,A;for(var Y=0;Y<e;Y++){var P=Math.max(Y-l,0),F=Math.min(Y+l,e-1);
for(var n=0;n<m;n++){var R=Math.max(n-l,0),Q=Math.min(n+l,m-1);x=P*m+R<<2;f=C[x];X=C[x+1];o=C[x+2];A=C[x+3];
x=P*m+Q<<2;f+=C[x];X+=C[x+1];o+=C[x+2];A+=C[x+3];x=F*m+R<<2;f+=C[x];X+=C[x+1];o+=C[x+2];A+=C[x+3];x=F*m+Q<<2;
f+=C[x];X+=C[x+1];o+=C[x+2];A+=C[x+3];x=Y*m+n<<2;z[x]=f+2>>>2;z[x+1]=X+2>>>2;z[x+2]=o+2>>>2;z[x+3]=A+2>>>2}}}return i}();
I.z.a1e=function(){function i(C,m,e,z){var L=new Uint8Array(C.length),l=new Uint8Array(C.length>>>2),x=new Uint8Array(C.length>>>2);
I.H2.v3(C,L,m,e,I.H2.Rh[2],0,!0);for(var Y=0;Y<C.length;Y+=4){var S=L[Y+0]*.3+L[Y+1]*.59+L[Y+2]*.11;
l[Y>>>2]=S;z[Y+0]=C[Y+0];z[Y+1]=C[Y+1];z[Y+2]=C[Y+2];z[Y+3]=C[Y+3]}I.H2.aq_(l,x,m,e);for(var Y=0;Y<C.length;
Y+=4){L[Y+3]=~~(Math.max(0,255-x[Y>>>2]-50)*(255/205))}for(var Y=0,k=C.length;Y<k;Y+=4){var f=L[Y+3]/255;
z[Y]=L[Y]*f+z[Y]*(1-f);z[Y+1]=L[Y+1]*f+z[Y+1]*(1-f);z[Y+2]=L[Y+2]*f+z[Y+2]*(1-f)}}return i}();I.z.pw=function(){function i(Q,s){return Q[s]+Q[s+1]+Q[s+2]+Q[s+3]}function C(Q,s){return Q[s]+Q[s+1]+Q[s+2]+2*Q[s+3]}function m(Q,s,j,_){Q[s]=j[_];
Q[s+1]=j[_+1];Q[s+2]=j[_+2];Q[s+3]=j[_+3]}function e(Q,s,j){Q[s]=Q[j];Q[s+1]=Q[j+1];Q[s+2]=Q[j+2];Q[s+3]=Q[j+3]}function z(Q,s,j){Q[j]=s[j];
Q[j+1]=s[j+1];Q[j+2]=s[j+2];Q[j+3]=255-s[j+3]}function L(Q){for(var Y=0,s=Q.length;Y<s;Y+=4){Q[Y+3]=255-Q[Y+3]}}function l(){var Q=Math.random();
if(Q>.5)return 0;if(Q>.25)return 1;if(Q>.1)return 2;if(Q>.02143)return 3;if(Q>.00445)return 4;if(Q>65e-5)return 5;
if(Q>415e-6)return 6;if(Q>55e-6)return 7;return 8}function x(Q,s,j,_,B,N){Q[s]=j[_]+(B[N]-j[_]>>1);Q[s+1]=j[_+1]+(B[N+1]-j[_+1]>>1);
Q[s+2]=j[_+2]+(B[N+2]-j[_+2]>>1);Q[s+3]=j[_+3]+(B[N+3]-j[_+3]>>1)}function S(Q,s,j,_,B,N){Q[s]=B[N]+j[_]>>1;
Q[s+1]=B[N+1]+j[_+1]>>1;Q[s+2]=B[N+2]+j[_+2]>>1;Q[s+3]=B[N+3]+j[_+3]>>1}function k(Q,s,j,_,B,N,a,O,H){var q=0,h=0,D=0,Y,T=B[N],p;
x(O,0,Q,s,Q,j);for(Y=0;Y<T;Y++){x(O,(Y+1)*4,O,Y*4,Q,j)}h=(T+1)*4;D+=T;N--;m(Q,s,O,h-4);_[N]=i(Q,s);s-=H;
while(N>0&&_[N-1]<_[N]){p=O;O=a;a=p;q=h;S(O,0,Q,s-H,a,0);for(Y=4;Y<q;Y+=4){S(O,Y,O,Y-4,a,Y)}T=B[N];for(Y=D;
Y<T;Y++){x(O,h,O,h-4,a,q-4);h+=4;D++}N--;m(Q,s,O,h-4);_[N]=i(Q,s);s-=H}}function f(Q,s,j,_,B){var N=s*4,a=0,O,H,q=new Uint8Array(s+1),h=new Uint8Array(10*4),D=new Uint8Array(10*4);
for(var Y=0;Y<j;Y++){z(_,Q,a);B[0]=i(_,a);q[0]=l();O=a;a+=4;for(var T=1;T<s;T++){z(_,Q,a);B[T]=i(_,a);
H=l();q[T]=H;if(B[T-1]<B[T]&&H>0){k(_,a-4,a,B,q,T,h,D,4)}a+=4}B[s]=B[0];q[s]=q[0];if(B[s-1]<B[s]&&H>0){k(_,a,O,B,q,s,h,D,4)}}L(_)}function X(){var Q=Math.random();
if(Q>.659755)return 0;if(Q>.1625)return 10;if(Q>.06)return 20;if(Q>.01)return 30;if(Q>.0035)return 40;
if(Q>65e-5)return 50;if(Q>415e-6)return 60;if(Q>55e-6)return 70;return 80}function o(Q,s,j,_,B,N){var a=X()+1,O=_[B];
for(var Y=1;Y<a;Y++){if(0>B)break;if(_[B-Y]<O){e(Q,s,j)}else{break}s+=N}}function A(Q,s,j,_,B){var N=s*4,a=0;
for(var Y=0;Y<j;Y++){z(_,Q,a);B[0]=i(_,a);a+=4;for(var O=1;O<s;O++){z(_,Q,a);B[O]=i(Q,a);if(B[O-1]<B[O]){o(_,a-4,a,B,O,-4)}a+=4}B[s]=B[0];
if(B[O-1]<B[O]){o(_,a-4,a-N,B,O,-4)}}L(_)}function P(Q,s,j,_,B,N){var a=1,O,H,q=new Uint8Array(4),h,D=s;
while(Math.random()<1/a){D=s;if(_<=1)break;O=j[_];H=j[_-1];if(O<=H)break;m(q,0,Q,D-N);h=!0;for(var Y=_;
Y<B;Y++){if(H>j[Y]){m(Q,D-N,q,0);j[Y-1]=H;h=!1;break}m(Q,D-N,Q,D);j[Y-1]=j[Y];D+=N}if(h){m(Q,D-N,q,0);
j[B-1]=H}a++;_--;s-=N}}function F(Q,s,j,_,B){var N=0,a=0,O=s*4;for(var Y=0;Y<j;Y++){a=N;for(var H=0;
H<s;H++){z(_,Q,N);B[H]=C(_,N);N+=4}N=a;for(var H=1;H<s;H++){if(B[H-1]<B[H]&&Math.random()<.66){P(_,N+4,B,H,s,4)}N+=4}N+=4}L(_)}function n(Q,s,j,_,B){var N=B[0],a=B[1],O=new Uint16Array(s+1),H=Q,q=_,h;
if(a){h=_.slice(0);R(Q,_,s,j);H=_;q=h}if(N==0)f(H,s,j,q,O);else if(N==1)A(H,s,j,q,O);else if(N==2)F(H,s,j,q,O);
if(a){R(h,_,s,j)}}function R(Q,s,j,_){for(var B=0;B<_;B++)for(var N=0;N<j;N++){var a=B*j+N<<2,O=B*j+(j-1-N)<<2;
s[O]=Q[a];s[O+1]=Q[a+1];s[O+2]=Q[a+2];s[O+3]=Q[a+3]}}return n}();I.z.aCf=function(i,C,m,e,z){var L=I.z.s,l=1,n=0,s=0;
L.oG(C,m);L.aj(z[2]);var x=3<<13,S=Math.PI/2.43,k=S/256,f=Math.PI*2/256;function X(){var N=L.random()*256,a=L.random()*256;
return l*~~(Math.tan(S-N*k)*325*Math.cos(a*f)*256)+x>>16}l=z[0];var o=z[1],A=(o+2)/2,P=L.random()*255,F=L.mF(1);
for(var Y=0;Y<m;Y++){var R=L.RK(X()+P);for(var Q=0;Q<C;Q++){R=L.RK(X()+R);F[n++]=R}}n=C;for(var Y=1;
Y<m;Y++){var j=L.RK(X()+F[s++]);F[n++]=j;for(var Q=1;Q<C;Q++){var _=s+1;if(Q+1==C){_--}var B=(A+j+F[_]+F[s]*o)/(o+2);
j=L.RK(X()+B);F[n++]=j;s++}}L.Im(F,e)};var bW=function(){function i(Z){Z=Z^61^Z>>>16;Z=Z+(Z<<3);Z=Z^Z>>>4;
Z=Z*668265261;Z=Z^Z>>>15;return Z}var C=function(){var C=function(Z){if(Z){this.W=Z}this.W=i(this.W);
return(this.W&16777215)*(1/16777215)};return C};function m(Z,G){if(G==null){G=[0,0]}return Math.sqrt((G[0]-Z[0])*(G[0]-Z[0])+(G[1]-Z[1])*(G[1]-Z[1]))}function e(Z,G){if(G==null){G=[0,0]}return[-(G[1]-Z[1])/m(Z,G),(G[0]-Z[0])/m(Z,G)]}function z(Z){return[Math.cos(Z),Math.sin(Z)]}function L(Z){var G=m(Z,[0,0]),J=[Z[0]/G,Z[1]/G],K=Math.atan(J[1]/J[0]);
if(J[0]>0&&J[1]<0){K+=2*Math.PI}else if(J[0]<0&&J[1]<0){K+=Math.PI}else if(J[0]<0&&J[1]>0){K+=Math.PI}return K}function l(Z){var l=0;
for(var Y=1;Y<Z.length/2;++Y){l+=m([Z[2*Y],Z[2*Y+1]],[Z[2*(Y-1)],Z[2*(Y-1)+1]])}return l}function x(Z,G,J){var K=new Float32Array(Z.length),M=1/(Z.length/2),U=_(J);
for(var Y=0;Y<Z.length/2;++Y){var r=Y*M,dS=r/2+.5,w=1,di=0;if(J.shape==2){w=1/(2*dS)}if(J.shape==3){dS=(1-r)/2+.5;
w=1/(2*dS)+.5}if(J.shape==4){dS=r;w=Math.sin(3/2*Math.PI*dS)/4+1}if(J.shape==5){dS=(r-.5)*6;w=(-Math.atan(dS)/1.25+1)/5+.6-.2*r}var eM=[null,null];
if(Y==0){eM=e([Z[2*Y],Z[2*Y+1]],[Z[2*(Y+1)],Z[2*(Y+1)+1]])}else if(Y==Z.length/2-1){eM=e([Z[2*(Y-1)],Z[2*(Y-1)+1]],[Z[2*Y],Z[2*Y+1]])}else{eM=e([Z[2*(Y-1)],Z[2*(Y-1)+1]],[Z[2*(Y+1)],Z[2*(Y+1)+1]])}K[2*Y]=Z[2*Y]+(w*G+di)*eM[0];
K[2*Y+1]=Z[2*Y+1]+(w*G+di)*eM[1];if(J.style==2){K[2*Y]+=B(2*Y/K.length,U,J)}}return K}function S(Z,G,J){var K=new Float32Array(Z.length),M=1/(Z.length/2);
for(var Y=0;Y<Z.length/2;++Y){var U=Y*M,r=[null,null],dS=.6*J.tV*O(U,G.a2f)*J.k9/100,w=.6*J.tV*O(U,G.aDM)*J.k9/100,di=G.agN*dS+(1-G.agN)*w;
if(Y==0){r=e([Z[2*Y],Z[2*Y+1]],[Z[2*(Y+1)],Z[2*(Y+1)+1]])}else if(Y==Z.length/2-1){r=e([Z[2*(Y-1)],Z[2*(Y-1)+1]],[Z[2*Y],Z[2*Y+1]])}else{r=e([Z[2*(Y-1)],Z[2*(Y-1)+1]],[Z[2*(Y+1)],Z[2*(Y+1)+1]])}K[2*Y]=Z[2*Y]+di*r[0];
K[2*Y+1]=Z[2*Y+1]+di*r[1]}return K}function k(Z){if(Z.jH==1){return[.150684932,.205479452,.465753425,.178082192]}else if(Z.jH==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var G=[],J=1/(D(Z)-1);
for(var Y=0;Y<D(Z)-1;++Y){G.push(J)}return G}}function f(Z,G,J){var K=[],M=G-Z,U=Z;for(var Y=0;Y<J.length-1;
++Y){K.push(U+J[Y]*M);U=K[Y]}return K}function X(Z,G,J,K){var M=new Float32Array(J.length),U=0,r={shape:Math.floor(K.random()*2.99),ahi:K.random()*.1+.15};
for(var Y=0;Y<J.length-1;++Y){var dS=U+J[Y];M[Y]=((1-dS)*Z+dS*G)*R(K,dS,r);U=dS}return M}function o(Z,G,J,K){var M=q(K),U=K.random(),r=U*20+(1-U)*26,dS=new Float32Array(J.length),w=0;
for(var Y=0;Y<J.length-1;++Y){var di=w+J[Y];dS[Y]=(1-di)*Z+di*G+M/r*(2/3*Math.sin(Math.PI*di)+1/3*Math.sqrt(Math.sin(Math.PI*di)));
w=di}return dS}function A(Z,G,J){var K=[];for(var Y=0;Y<G.length-1;++Y){K.push(G[Y].slice());var M=Y*(D(J)-1),U=(Y+1)*(D(J)-1),r=Z[U]-Z[M];
for(var dS=M+1;dS<U;++dS){var w=_(J),di=new Float32Array(G[0].length),eM=(Z[dS]-Z[M])/r;for(var j5=0;
j5<G[0].length/2;++j5){di[2*j5]=(1-eM)*G[Y][2*j5]+eM*G[Y+1][2*j5];di[2*j5+1]=(1-eM)*G[Y][2*j5+1]+eM*G[Y+1][2*j5+1];
if(J.style==2){di[2*j5]+=B(2*j5/G[0].length,w,J)}}K.push(di)}}K.push(G[G.length-1]);return K}function P(Z,G,J){var K=new Array(G.length),M=t(Z),r=null;
for(var Y=0;Y<G.length;++Y){K[Y]=x(M,(G[Y]-.5)*J.k9,J)}var U=1+.05*J.aBR*q(J)/q({jH:1});for(var Y=0;
Y<G.length;++Y){if(G[Y]==0){r=Y}}for(var Y=0;Y<G.length;++Y){var dS=(J.random()-.5)*2,w=Math.round(J.random()*9+1),di=new Float32Array(w*2+2);
for(var eM=0;eM<=w;++eM){di[2*eM]=K[Y][0]-(K[Y][2*eM]-K[Y][0]);di[2*eM+1]=K[Y][1]-(K[Y][2*eM+1]-K[Y][1])}if(Y==r){dS*=.1}for(var eM=(K[Y].length-1)/2;
eM>w;--eM){K[Y][2*eM]=(1-dS)*K[Y][2*eM]+dS*(K[Y][2*(eM-w)]+U*(K[Y][2*eM]-K[Y][2*(eM-w)]));K[Y][2*eM+1]=(1-dS)*K[Y][2*eM+1]+dS*(K[Y][2*(eM-w)+1]+U*(K[Y][2*eM+1]-K[Y][2*(eM-w)+1]))}for(var eM=w-1;
eM>=0;--eM){K[Y][2*eM]=(1-dS)*K[Y][2*eM]+dS*(di[2*(w-eM)]+U*(K[Y][2*eM]-di[2*(w-eM)]));K[Y][2*eM+1]=(1-dS)*K[Y][2*eM+1]+dS*(di[2*(w-eM)+1]+U*(K[Y][2*eM+1]-di[2*(w-eM)+1]))}}var j5=a(G,J);
if(J.tV>0){var ds=0;for(var Y=0;Y<G.length;++Y){if(Y==0){ds+=G[Y]}else{ds+=Math.abs(G[Y]-G[Y-1])}var ba=ds-Math.floor(ds),gH=1;
if(ba==0){gH=0}K[Y]=S(K[Y],{a2f:j5[Math.floor(ds)],aDM:j5[Math.floor(ds)+gH],agN:ba},J)}}return K}function F(Z,G){var J=y(G,Z),K=b(G,Z),M=[],U=[],r=[],dS=k(Z);
for(var Y=0;Y<G.length-1;++Y){M.push(G[Y]);U.push(J[Y]);r.push(K[Y]);var w=f(G[Y],G[Y+1],dS),di=X(J[Y],J[Y+1],dS,Z),eM=o(K[Y],K[Y+1],dS,Z);
for(var j5=0;j5<w.length;++j5){M.push(w[j5]);U.push(di[j5]);r.push(eM[j5])}}M.push(G[G.length-1]);U.push(J[J.length-1]);
r.push(K[K.length-1]);return{aoP:M,awJ:U,Qd:r}}function n(Z,G,J,K){var M=new Float32Array(2*K),U=Z.length/2,r=U-G,dS=J*r,w=dS/K;
for(var Y=0;Y<K;++Y){var di=Math.floor(G+Y*w),eM=Math.ceil(G+Y*w),J=G+Y*w,j5=eM-di,ds=1,ba=0;if(j5!=0){ds=(eM-J)/j5;
ba=(J-di)/j5}M[2*Y]=ds*Z[2*di]+ba*Z[2*eM];M[2*Y+1]=ds*Z[2*di+1]+ba*Z[2*eM+1]}return M}function R(Z,G,J){var K=J.ahi,M=G*2*Math.PI,U=M,r=0;
if(J.shape==0){r=(Math.sin(2*U+Math.PI/2)+1)/2}else if(J.shape==1){r=(Math.sin(U+Math.PI/2)+1)/2}else{r=(4*Math.sin(3/4*U+Math.PI)+Math.sin(Math.PI/2+2*U)-2*U/Math.PI+6)/7}return Math.min(1,1-K+K*r)}function Q(Z,G,J,K){var M=[];
for(var Y=0;Y<Z.length;++Y){M.push(n(Z[Y],G[Y],J[Y],K))}return M}function s(Z,G,J){var K=[];for(var Y=0;
Y<Z.length;++Y){var M=z(2*Math.PI*J.random()),U=z(2*Math.PI*J.random()),r=J.EB*.5*T({jH:1})/T(J),dS=r*J.k9/200,w=r*G/500,di=new Float32Array(Z[0].length);
for(var eM=0;eM<Z[0].length/2;++eM){var j5=z(2*Math.PI*J.random()),ds=2*eM/Z[0].length;di[2*eM]=Z[Y][2*eM]+dS*(j5[0]+((1-ds)*M[0]+ds*U[0]));
di[2*eM+1]=Z[Y][2*eM+1]+w*(j5[1]+((1-ds)*M[1]+ds*U[1]))}K.push(di)}return K}function j(Z,G,J){var K=J.xV,M=2/K,U=[1/10,1/30,1/40,1/45,1/100],r=U[J.jH-1],dS=4*(J.opacity/25*M*r)*(1-J.EB/150),j5=0,ba=0;
if(J.style==3){return dS*.09}var w=2.2*(Z-.5),di=w*w*w*w+.27+Math.max(0,(J.opacity-50)/15),eM=2*(Math.sin(3*Math.PI*G)/(Math.PI*G+2)+1.1)-G/2;
G=2*G;if(G<.41){var ds=2*Math.PI*G/.41;j5=(Math.sin(ds-Math.PI/2)+1)/4+.5}else if(G<.77){var ds=2*Math.PI*(G-.41)/.36;
j5=(Math.sin(ds-Math.PI/2)+1)/4+.5-ds/2/Math.PI*.5}else{var ds=2*Math.PI*(G-.77)/.23;j5=(Math.sin(ds-Math.PI/2)+1)/2*.12}j5*=3;
j5+=Math.max(0,(J.opacity-50)/15);if(J.type==6){ba=eM}else{ba=j5}return dS*di*ba}function _(Z){return{B:Z.random()*7/2+.5,ns:Z.random()*2*Math.PI}}function B(Z,G,J){return J.k9/300*D({jH:1})/D(J)*10*(Math.sin(G.B*2*Math.PI*Z+G.ns)+10*(J.random()-.5))}function N(Z){var G=Math.exp(-Z.tV/25);
return{B:Z.random()*3/2+.5,ns:Z.random()*2*Math.PI,Cl:(Z.random()-.5)*10*G}}function a(Z,G){var J=Math.ceil(g(Z)),K=[];
for(var Y=0;Y<=J;++Y){K.push(N(G))}return K}function O(Z,G){var J=G.B*4*Math.PI*Z+G.ns;return Math.exp(-1/2*Math.PI*Z)*Math.cos(J)*Math.cos(J)*Math.cos(J)*Math.cos(J)*Math.cos(J)+Z*G.Cl-G.Cl/4}function H(Z,G,J,K,M){var U=0,r=T(G)-1;
for(var Y=0;Y<r;++Y){for(var dS=0;dS<Z.length-1;dS+=D(G)-1){for(var w=Y;w<Z[0].length/2-r;w+=r){for(var di=dS;
di<dS+(D(G)-1);++di){J[M+U]=j(di*(G.xV-1)/(Z.length-1)%1,w/Z[0].length,G);var eM=0,j5=0;if(G.type==6&&di!=0&&di!=Z.length-1){j5=(Z[di][2*(w+1)+1]-Z[di][2*w+1])/2;
eM=(Z[di][2*(w+1)]-Z[di][2*w])/2}K[8*M+8*U]=Z[di][2*w]+eM;K[8*M+8*U+1]=Z[di][2*w+1]+j5;K[8*M+8*U+2]=Z[di][2*(w+r)]+eM;
K[8*M+8*U+3]=Z[di][2*(w+r)+1]+j5;K[8*M+8*U+4]=Z[di+1][2*(w+r)];K[8*M+8*U+5]=Z[di+1][2*(w+r)+1];K[8*M+8*U+6]=Z[di+1][2*w];
K[8*M+8*U+7]=Z[di+1][2*w+1];++U}}}}}function q(Z){var G=[100,300,500,700,1e3];return G[Z.jH-1]}function h(Z){var G=[30,70,100,140,300];
return G[Z.jH-1]}function D(Z){var G=[5,7,26,40,100];return G[Z.jH-1]}function T(Z){if(Z.jH==1){return 4}else if(Z.jH==2){return 8}else{return Math.floor(h(Z)/9)}}function p(Z){var G=Z.xV,J=new Float32Array(G),K=null;
for(var Y=0;Y<G;++Y){J[Y]=Z.random()}if(Z.xV<=3){J[0]=0;J[Z.xV-1]=1}else{for(var Y=0;Y<2;++Y){var M=Math.floor(Z.random()*G);
if(K==null||K!=M){J[M]=Y;K=M}else{J[M+1]=Y}}}return J}function y(Z,G){var J=[],K=.2,U=0;for(var Y=0;
Y<Z.length;++Y){var M=G.random()*(1-K)+K;J.push(M)}var r=Math.min(3,G.xV);for(var Y=0;Y<Z.length;++Y){if(J[Y]>.9){++U}}while(U<r){var dS=Math.floor(G.random()*Z.length);
if(J[dS]<=.9){J[dS]=.9+.1*G.random();++U}}return J}function b(Z,G){var J=q(G),K=q({jH:1}),M=[];for(var Y=0;
Y<Z.length;++Y){M.push(Math.max(1,(G.random()*10+2)*J/K))}return M}function g(Z){var G=0;for(var Y=0;
Y<Z.length;++Y){if(Y==0){G+=Z[Y]}else{G+=Math.abs(Z[Y]-Z[Y-1])}}return G}function u(Z,G){if(Z.length/2-1==q(G)){return Z}var J=new Float32Array(2*(q(G)+1)),K=(Z.length-2)/(J.length-2);
for(var Y=0;Y<J.length/2;++Y){var M=Y*K,U=Math.floor(M),r=Math.ceil(M),dS=r-U,w=1,di=0;if(dS!=0){w=(r-M)/dS;
di=(M-U)/dS}J[2*Y]=w*Z[2*U]+di*Z[2*r];J[2*Y+1]=w*Z[2*U+1]+di*Z[2*r+1]}return J}function t(Z,G){var J=Z.length/2,K=l(Z),M=K/J,U=!1,w=0,di=0,eM=1;
if(G){var r=Math.floor(K/G.ahv),dS=G.ahv;if(G.ax3&&Z[0]==Z[Z.length-2]&&Z[1]==Z[Z.length-1]){U=!0;dS=K/(r+1)}if(G.type==2&&!U&&dS*r+G.length>K){J=r+1}else{J=r+2}M=dS}var j5=new Float32Array(J*2);
j5[0]=Z[0];j5[1]=Z[1];for(var Y=1;Y<J;++Y){while(w<=Y*M){di=w;w+=m([Z[2*eM],Z[2*eM+1]],[Z[2*(eM-1)],Z[2*(eM-1)+1]]);
++eM}var ds=1-(Y*M-di)/(w-di);j5[2*Y]=(1-ds)*Z[2*eM]+ds*Z[2*(eM-1)];j5[2*Y+1]=(1-ds)*Z[2*eM+1]+ds*Z[2*(eM-1)+1]}j5[j5.length-2]=Z[Z.length-2];
j5[j5.length-1]=Z[Z.length-1];return j5}function V(Z,G){var J=t(Z,G),K=[];for(var Y=0;Y<(J.length-2)/2;
++Y){var M=[];M.push(J[2*Y]);M.push(J[2*Y+1]);var U=m([J[2*(Y+1)],J[2*(Y+1)+1]],[J[2*Y],J[2*Y+1]]),r=[(J[2*(Y+1)]-J[2*Y])/U,(J[2*(Y+1)+1]-J[2*Y+1])/U],dS=z((G.ayC-90)/360*2*Math.PI),w=r;
if(G.type==3){w=dS}else if(G.type==4){w=z(L(r)+L(dS))}else if(G.type==5){w=z(((G.random()-.5)*G.ayC-90)/360*2*Math.PI)}var di=G.length;
if(G.aDj){di=2*G.random()*G.length}M.push(J[2*Y]+w[0]*di);M.push(J[2*Y+1]+w[1]*di);K.push(M)}return K}function c(Z){if(Z.aAV){Z.Hr=100*Math.random()}else{Z.Hr=Z.a1W}Z.random=new C;
Z.random(Z.Hr);if(Z.type==6){Z.xV=2;Z.shape=5;Z.aBR=0}}function E(Z,G){Z=u(Z,G);var J=[Z],di=0;if(G.type>=2&&G.type<6){J=V(Z,G)}var K=T(G)-1,M=h(G)-K,U=(G.xV-1)*(D(G)-1),r=J.length*M*U,dS=new Float32Array(r),w=new Float32Array(8*r);
for(var Y=0;Y<J.length;++Y){for(var eM=0;eM<1e4;++eM){G.Hr=i(G.Hr)}G.random(G.Hr);var Z=u(J[Y],G),j5=p(G),ds=g(j5),ba=P(Z,j5,G),gH=F(G,j5),ir=A(gH.aoP,ba,G);
ir=Q(ir,gH.Qd,gH.awJ,h(G));if(G.EB>0){ir=s(ir,l(J[Y]),G)}H(ir,G,dS,w,di);di+=M*U}return[dS,w]}var bW=function(Z){var G=performance.now(),J=Z[0],K=Z[1];
c(K);var M=[new Float32Array(0),new Float32Array(0)];for(var Y=0;Y<J.length;++Y){K.Hr=i(K.Hr);var U=E(J[Y],K),r=new Float32Array(M[0].length+U[0].length),dS=new Float32Array(M[1].length+U[1].length);
r.set(M[0]);r.set(U[0],M[0].length);M[0]=r;dS.set(M[1]);dS.set(U[1],M[1].length);M[1]=dS}var w=performance.now();
if(K.a9w){console.FO("Geometry: "+String(w-G)+"ms")}return M};return bW}(),eJ=function(){function i(z,L){var l=[],x=0,S=L.length,k=0,f=0,X=new j2,o=0,A=1e9;
for(f=0;f<S;f++){var P=f*8,F=L[f];if(F<A)A=F;var n=z[P+0],R=z[P+1],Q=z[P+2],s=z[P+3],j=z[P+4],_=z[P+5],B=z[P+6],N=z[P+7],a=Math.min(n,Q,j,B),O=Math.max(n,Q,j,B),H=Math.min(R,s,_,N),q=Math.max(R,s,_,N),h=new j2(a,H,O-a,q-H),D=h.Z0(X),T=o+F;
if(f-k<10&&(f==k||D.P()*.8<h.P()+X.P())){X=D;o=T}else{l.push(f-k);k=f;X=h;o=F;A=F}}if(f!=k)l.push(f-k);
return l}function C(z,L,l,x,S,k){var f=document.createElement("canvas"),R=0,r=.8;f.width=L;f.height=l;
var X=f.getContext("2d"),o=S[0],A=S[1],P=new Float64Array(L*l),F=Date.now(),n=i(A,o);for(var Q=0;Q<n.length;
Q++){var s=R,j=R+n[Q],N=1e9,O=1e9,y=0;R=j;var _=s*8,B=j*8,a=-N,H=-O;for(var q=_;q<B;q+=2){var h=A[q],D=A[q+1];
if(h<N)N=h;if(h>a)a=h;if(D<O)O=D;if(D>H)H=D}N=Math.floor(N);a=Math.ceil(a);O=Math.floor(O);H=Math.ceil(H);
var T=a-N,p=H-O;for(var b=s;b<j;b++)y+=o[b];for(var q=_;q<B;q+=8){var g=o[q>>>3],u=A[q+0],t=A[q+1],V=A[q+2],c=A[q+3],E=A[q+4],Z=A[q+5],G=A[q+6],J=A[q+7];
X.fillStyle="rgba(0,0,0,"+g/y+")";X.beginPath();X.moveTo(u,t);X.lineTo(V,c);X.lineTo(E,Z);X.lineTo(G,J);
X.closePath();X.fill()}var K=X.getImageData(N,O,T,p).data;for(var D=0;D<p;D++)for(var h=0;h<T;h++){var Y=D*T+h,M=K[Y*4+3],U=(O+D)*L+N+h;
if(M!=0)P[U]+=M*y}X.clearRect(N,O,T,p)}var dS=k[1].color,w=Math.pow(dS.Z/255,r),di=Math.pow(dS.r/255,r),eM=Math.pow(dS.e/255,r),j5=new j2(0,0,L,l),ds=I.R(L*l*4);
for(var D=0;D<l;D++)for(var h=0;h<L;h++){var Y=D*L+h,b=Y*4,o=P[Y]*(1/255);ds[b]=e(w,o);ds[b+1]=e(di,o);
ds[b+2]=e(eM,o);ds[b+3]=Math.min(255,o*255)}I.l.Qv("norm",ds,j5,x,j5,j5,1)}var m=new Uint8Array(2e3);
for(var Y=0;Y<2e3;Y++)m[Y]=255*Math.min(1,Math.log(Y/700+1));function e(z,L){return m[Math.min(1500,~~(z*L*1e3))]}return C}(),dB=function(){var i=new Float32Array(3e3),C=new Float32Array(3e3),m=new Float32Array(256),e=new Float32Array(3e3);
function z(){var A=i.length;i[0]=Math.log10(157647e-9);for(var Y=1;Y<A;++Y)i[Y]=Math.log10(Y/A)}function L(){var A=C.length;
for(var Y=0;Y<A;++Y)C[Y]=Math.pow(10,20*(Y-A/2)/A)}function l(){var A=m.length;for(var Y=0;Y<A;++Y)m[Y]=I.rt(Y/255)}function x(){var A=e.length;
for(var Y=0;Y<A;++Y)e[Y]=255*I.ie(Y/(A-1))}function S(A,P){var F=A.length>>>2;for(var Y=0;Y<F;++Y){var n=m[A[4*Y]],R=m[A[4*Y+1]],Q=m[A[4*Y+2]],s=.3811*n+.5783*R+.0402*Q,j=.1967*n+.7244*R+.0782*Q,_=.0241*n+.1288*R+.8444*Q;
s=i[~~(s*i.length)];j=i[~~(j*i.length)];_=i[~~(_*i.length)];P[3*Y]=(s+j+_)*.5773502692;P[3*Y+1]=(s+j-2*_)*.4082482905;
P[3*Y+2]=(s-j)*.7071067812}}function k(A,P){var F=P.length>>>2,n=e.length-1;for(var Y=0;Y<F;++Y){var R=.5773502692*A[3*Y],Q=.4082482905*A[3*Y+1],s=.7071067812*A[3*Y+2],j=C[~~((R+Q+s+10)*(3e3/20))],_=C[~~((R+Q-s+10)*(3e3/20))],B=C[~~((R-2*Q+10)*(3e3/20))],N=4.4679*j-3.5873*_+.1193*B,a=-1.2186*j+2.3809*_-.1624*B,O=.0497*j-.2439*_+1.2045*B;
P[4*Y]=e[~~(n*Math.max(0,Math.min(1,N)))];P[4*Y+1]=e[~~(n*Math.max(0,Math.min(1,a)))];P[4*Y+2]=e[~~(n*Math.max(0,Math.min(1,O)))]}}function f(A){var P=0,F=0,n=0;
for(var Y=0;Y<A.length;Y+=3){P+=A[Y];F+=A[Y+1];n+=A[Y+2]}return[P/(A.length/3),F/(A.length/3),n/(A.length/3)]}function X(A,f){var P=0,F=0,n=0;
for(var Y=0;Y<A.length;Y+=3){var R=A[Y]-f[0],Q=A[Y+1]-f[1],s=A[Y+2]-f[2];P+=R*R;F+=Q*Q;n+=s*s}return[Math.sqrt(P/(A.length/3)),Math.sqrt(F/(A.length/3)),Math.sqrt(n/(A.length/3))]}function o(A,P,F,n,R,Q){z();
L();l();x();var s=0,t,V;if(Q[0]>100)s=-(Q[0]-100)/100*.13;else if(Q[0]>=75)s=(100-Q[0])/25*.04;else if(Q[0]>=50)s=.04+(75-Q[0])/25*.04;
else if(Q[0]>=25)s=.08+(50-Q[0])/25*.08;else s=.16+(25-Q[0])/25*.24;var j=(Q[1]-100+100)/100,_=Q[2]/100,B=Q[3],N=new Float32Array(A.length*3/4),a=new Float32Array(n.length*3/4),O=Date.now();
S(A,N);S(n,a);var H=Date.now(),q=f(N),h=f(a),D=Date.now(),T=X(N,q),p=X(a,h),y=Date.now();h[0]*=Math.pow(10,s);
var b=[p[0]/T[0],p[1]/T[1],p[2]/T[2]],g=N.length,u=1/-1.1546978950500488;for(var Y=0;Y<g;Y+=3){if(B){var c=Math.max(0,Math.min(1,N[Y]*u));
c=1-Math.sqrt(c);t=c*h[1];V=c*h[2]}else{t=h[1];V=h[2]}N[Y]=(N[Y]-q[0])*b[0]+h[0];N[Y+1]=(N[Y+1]-q[1])*b[1]*j+t;
N[Y+2]=(N[Y+2]-q[2])*b[2]*j+V}var E=Date.now();k(N,R);var Z=R.length>>>2;for(var Y=0;Y<Z;++Y){R[4*Y]=(1-_)*R[4*Y]+_*A[4*Y];
R[4*Y+1]=(1-_)*R[4*Y+1]+_*A[4*Y+1];R[4*Y+2]=(1-_)*R[4*Y+2]+_*A[4*Y+2];R[4*Y+3]=255}}return o}(),d8=function(){function i(C,m,e,z,L){var l=[-1,-1,-1,-1],x=255,S=160,k,f=!1,X=new Array(4);
X[0]=new Array(m);X[1]=new Array(e);X[2]=new Array(m);X[3]=new Array(e);var o=new Array(2);o[0]=new Array(e);
o[1]=new Array(e);function A(p,y,b,g,u){this.start=g;this.axis=u;this.dir=p;this.end=-1;this.source=y;
this.P=b}function P(p,y,b,g,u){if(b%2==0){if(!X[b][p])X[b][p]=new Array;X[b][p].push(new A(b,g,u,y,p))}else{if(!X[b][y])X[b][y]=new Array;
X[b][y].push(new A(b,g,u,p,y))}var t=Date.now()}function F(Y){var p=!1,y=0;if(C[4*Y+3]<x)return p;var b=Y%m,g=Math.floor(Y/m);
n(b,g);if(Y+m<m*e&&C[4*(Y+m)+3]<x&&C[4*(Y-m)+3]>=x&&C[4*(Y-2*m)+3]>=x){var u=2;if(C[4*(Y+m)+3]<=S)y=-1;
if(C[4*(Y+2*m-1)+3]<x&&C[4*(Y+2*m+1)+3]<x)p=!0;else if(C[4*(Y+2*m-1)+3]>=x&&C[4*(Y+1)+3]>=x)p=!0;else if(C[4*(Y+2*m+1)+3]>=x&&C[4*(Y-1)+3]>=x)p=!0;
P(b,g,u,y,p)}else if(Y-m>=0&&C[4*(Y-m)+3]<x&&C[4*(Y+m)+3]>=x&&C[4*(Y+2*m)+3]>=x){var u=0;if(C[4*(Y-m)+3]<=S)y=-1;
if(C[4*(Y-2*m-1)+3]<x&&C[4*(Y-2*m+1)+3]<x)p=!0;else if(C[4*(Y-2*m-1)+3]>=x&&C[4*(Y+1)+3]>=x)p=!0;else if(C[4*(Y-2*m+1)+3]>=x&&C[4*(Y-1)+3]>=x)p=!0;
P(b,g,u,y,p)}y=0;if(Y+1<m*e&&C[4*(Y+1)+3]<x&&C[4*(Y-1)+3]>=x&&C[4*(Y-2)+3]>=x){var u=3;if(C[4*(Y+1)+3]<=S)y=-1;
if(!p&&C[4*(Y+m+2)+3]<x&&C[4*(Y-m+2)+3]<x){p=!0;P(b,g,u,y,!0)}else P(b,g,u,y,!1)}else if(Y>=1&&C[4*(Y-1)+3]<x&&C[4*(Y+1)+3]>=x&&C[4*(Y+2)+3]>=x){var u=1;
if(C[4*(Y-1)+3]<=S)y=-1;if(!p&&C[4*(Y+m-2)+3]<x&&C[4*(Y-m-2)+3]<x){p=!0;P(b,g,u,y,!0)}else P(b,g,u,y,!1)}return p}function n(Y,p){if(l[0]==-1){l[0]=Y;
l[1]=p;l[2]=1;l[3]=1}if(Y<l[0]){l[2]+=l[0]-Y;l[0]=Y}if(Y>l[0]+l[2])l[2]=Y-l[0];if(p<l[1]){l[3]+=l[1]-p;
l[1]=p}if(p>l[1]+l[3])l[3]=p-l[1]}function R(p,Y,y,b){if(!y.P)return;var g=(p+2)%4,u=y.start,t=l[1];
if(p==2)t+=l[3];else if(p==1)t=l[0];else if(p==3)t=l[0]+l[2];var V=y.source;if(X[g][Y])for(var c=0;c<X[g][Y].length;
++c){if(p>1){var E=u+Math.floor((X[g][Y][c].start-u)/2);if(X[g][Y][c].start>u&&E<t)t=E}else{var E=u-Math.floor((u-X[g][Y][c].start)/2);
if(X[g][Y][c].start<u&&E>t)t=E}}for(var Z=1;Z<Math.abs(t-u);++Z){var c=u+Z;if(p==1||p==0)c=u-Z;for(var G=0;
G<2;++G){var J=2*G,K=!1;if(p%2==0)J+=1;if(X[J][c]){for(var M=0;M<X[J][c].length;++M){if(X[J][c][M].P){var U=X[J][c][M].start,r=Y-U,dS=c-u;
if(J==0||J==1)r=-r;if(r<=0)continue;if(p==0||p==1)dS=-dS;if(dS>r){t=c;K=!0;break}}}if(K)break}}}y.end=t;
j(p,Y,u,t,V)}function Q(p){for(var Y=0;Y<X[p].length;++Y){if(X[p][Y])for(var y=0;y<X[p][Y].length;++y){R(p,Y,X[p][Y][y])}}}function s(){var p=[2,0,3,1];
for(var Y=0;Y<p.length;++Y)Q(p[Y])}function j(p,Y,y,b,g){if(p==2)for(var u=y;u<=b;++u){if(!_(u*m+Y,(y+g)*m+Y))return!1}else if(p==0)for(var u=y;
u>=b;--u){if(!_(u*m+Y,(y-g)*m+Y))return!1}else if(p==1)for(var u=y;u>=b;--u){if(!_(Y*m+u,Y*m+y-g))return!1}else if(p==3)for(var u=y;
u<=b;++u){if(!_(Y*m+u,Y*m+y+g))return!1}}function _(p,y){if(!k[p]){z[4*p]=z[4*y];z[4*p+1]=z[4*y+1];z[4*p+2]=z[4*y+2];
if(f)z[4*p+3]=255;k[p]=!0;return!0}return!1}function B(){for(var Y=0;Y<4;Y+=1){for(var p=0;p<X[Y].length;
++p){if(X[Y][p])for(var y=0;y<X[Y][p].length;++y){var b=X[Y][p][y];for(var g=1;g<3;g+=2){var u=(Y+g)%4;
if(X[u][b.start])for(var t=0;t<X[u][b.start].length;++t){if(X[u][b.start][t].start==b.axis){var k7=m*b.start+b.axis;
if(Y%2==1){k7=b.start+m*b.axis;N(X[u][b.start][t])}else N(b)}}}}}}}function N(p){if(p.dir%2==0){var k7=m*p.start+p.axis,y=p.start,b=1;
if(!k[k7+1])b=3;else if(k[k7-1])return;var g=z[4*k7],u=z[4*k7+1],t=z[4*k7+2];while(z[4*k7]==g&&z[4*k7+1]==u&&z[4*k7+2]==t){if(b==1){if(!o[0][y])o[0][y]=new Array;
o[0][y].push(new A(b,0,!1,p.axis,y))}else{if(!o[1][y])o[1][y]=new Array;o[1][y].push(new A(b,0,!1,p.axis,y))}if(p.dir==2){k7+=m;
y++}else{k7-=m;y--}}}}function a(){for(var p=0;p<2;++p){var y=(p+1)%2;for(var Y=0;Y<o[p].length;++Y){if(o[p][Y])for(var b=0;
b<o[p][Y].length;++b){var g=l[0];if(p==1)g+=l[2];var u=o[p][Y][b].start;if(o[y][Y])for(var t=0;t<o[y][Y].length;
++t){var V=o[y][Y][t].ve;if(p==0){if(V>g&&V<u){g=u-Math.floor((u-V)/2)}}else{if(V<g&&V>u){g=u+Math.ceil((V-u)/2)}}}if(p==0)j(o[p][Y][b].dir,Y,u-1,g,-1);
else j(o[p][Y][b].dir,Y,u+1,g,-1)}}}for(var Y=0;Y<k.length;++Y){if(!k[Y]&&Y%m>=l[0]&&Y%m<=l[0]+l[2]&&Math.floor(Y/m)>=l[1]&&Math.floor(Y/m)<=l[1]+l[3]){var u=m;
if(Y<u||!k[Y-u])u=1;z[4*Y]=z[4*(Y-u)];z[4*Y+1]=z[4*(Y-u)+1];z[4*Y+2]=z[4*(Y-u)+2];k[Y]=!0;if(f)z[4*Y+3]=255}}}function O(){k=new Array(C.length/4);
for(var Y=0;Y<z.length/4;++Y){k[Y]=!1;z[4*Y]=C[4*Y];z[4*Y+1]=C[4*Y+1];z[4*Y+2]=C[4*Y+2];z[4*Y+3]=C[4*Y+3];
if(z[4*Y+3]==255)k[Y]=!0;if(F(Y))k[Y]=!1}if(l[0]>0){l[0]--;l[2]++}if(l[1]>0){l[1]--;l[3]++}if(l[0]+l[2]<m){l[2]++}if(l[1]+l[3]<e){l[3]++}}var H=Date.now();
O();var q=Date.now();s();var h=Date.now();B();var D=Date.now();a();var T=Date.now();console.log("Init: "+String(q-H));
console.log("Filling: "+String(h-q));console.log("Check areas: "+String(D-h));console.log("Fill areas: "+String(T-D))}return i}();
function fM(){}fM.ajb=function(i){var C=[I.rt(i[0]),I.rt(i[1]),I.rt(i[2]),0];return I.X$.eq(I.X$.aqT,C)};
fM.a7t=function(i){var C=I.X$.eq(I.X$.tC,i);return[I.ie(C[0]),I.ie(C[1]),I.ie(C[2])]};fM.v6=function(i,C){var m={},e=5003,z=1667,L=25e3,l=57.4,x=16.1,S=1.8,k=0,f=1.54,X=.75,P=0;
if(C>0){i-=C/100*4}if(i<0){x=22.54;l=80.36;f=.756}if(C>0){S=1.3;X=.2}var o=Math.min(e+l*i,L),A=Math.max(e-x*i,z);
if(i<0){o=Math.max(e+x*i,z);A=Math.min(e-l*i,L)}if(i>0){if(i<=14){P=(i-1)/13*.075+.025}else if(i<=29){P=.1}else if(i<=60){P=.1-.1*(i-29)/(60-29)}else{var F=i-60;
k=-20*(F/40);P=-.3*(F/40)}}else{if(i<-60){var F=i+60;k=-20*(F/40)}}var n=Math.abs(i)/100*f+Math.abs(C)/100*X+P,R=-(C*S+k),Q=h6.kQ(o,-R),s=h6.rI(Q),j=h6.kQ(A,0),_=h6.rI(j),B=h6.aty(s,_);
m.aq7=n;m.a0M=B;if(i==0&&C==0)m.ax$=!0;else m.ax$=!1;return m};fM.ava=function(i,C,m,e){if(e.ax$){return[i,C,m]}var z=this.ajb([i,C,m]),L=z[0],l=z[1],x=z[2],S=l+1e-12,k=[L/S,l/S,x/S,0],f=I.X$.eq(e.a0M,k),X=0,o=.4;
f[0]*=S;f[1]*=S;f[2]*=S;if(S>o)X=1/(1-o)*(S-o);z[0]=(1-X)*f[0]+X*L;z[1]=(1-X)*f[1]+X*l;z[2]=(1-X)*f[2]+X*x;
return this.a7t(z)};I.a5E={JN:function(i,C){var Y=i.length;i.push(C);var m=Y>>>1;while(m!=0&&i[Y][0]<i[m][0]){var e=i[Y];
i[Y]=i[m];i[m]=e;Y=m;m=Y>>>1}},IH:function(i){if(i.length==2)return i.pop();var top=i[1],Y=1;i[1]=i.pop();
var C=i.length;while(!0){var m=Y<<1,e=m+1,z=Y;if(m<C&&i[m][0]<i[z][0])z=m;if(e<C&&i[e][0]<i[z][0])z=e;
if(z==Y)break;var L=i[Y];i[Y]=i[z];i[z]=L;Y=z}return top},ayP:function(i){for(var Y=1;Y<i.length;Y++){var C=Y,m=1e9;
while(C!=0){var e=i[C][0];if(e>m){console.log(Y);throw"e"}m=e;C=C>>>1}}}};I.l={};I.l.BO=new Float64Array(256);
I.l.C5=new Uint8Array(256*256);I.l.wN=new Uint8Array(256*256);(function(){for(var Y=0;Y<256;Y++)I.l.BO[Y]=255/Y;
for(var Y=0;Y<256;Y++)for(var i=0;i<256;i++)I.l.C5[Y*256+i]=Y==0?0:Math.round(i*255/Y);for(var Y=0;Y<256;
Y++)for(var i=0;i<256;i++)I.l.wN[Y*256+i]=Math.round(Y*(255-i)/255)}());I.l.Qv=function(i,C,m,e,z,L,l,x){if(x==null)x=k4.Nk();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(i)==-1){l=l*x.fill;x.fill=1;x.style=!1}var S="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),k="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),f=I.l[i+"F"];
if(x.Sl==null&&i=="norm")I.l.ac0(C,m,e,z,L,l,f,x.eW?1:0);else if(i=="diss")I.l.axE(C,m,e,z,L,l,f,x.eW?1:0);
else if(S.indexOf(i)!=-1)I.l.aeV(C,m,e,z,L,l,f,x);else if(k.indexOf(i)!=-1)I.l.aAQ(C,m,e,z,L,l,f,x)};
I.l.auu=function(i,C,m){var e=i*m+1-m;return e<.001?0:1-Math.min(1,(1-C)/e)};I.l.a3U=function(i,C,m){return i*m==1?1:Math.min(1,C/(1-i*m))};
I.l.pJ=function(i){return i<=.25?((16*i-12)*i+4)*i:Math.sqrt(i)};I.l.normF=function(i,C,m){return i};
I.l.darkF=function(i,C,m){return Math.min(i,C)};I.l["mul F"]=function(i,C,m){return i*C};I.l.idivF=function(i,C,m){var e=i*m+1-m;
return C==1?1:1-C>=e?0:1-(1-C)/e};I.l.lbrnF=function(i,C,m){return Math.max(0,i*m+C-m)};I.l.dkClF=function(i,C,m){var e=I.CP(i)<I.CP(C)?i:C;
m.Z=e.Z;m.r=e.r;m.e=e.e;return m};I.l.liteF=function(i,C,m){return Math.max(i,C)};I.l.scrnF=function(i,C,m){return C+i-C*i};
I.l["div F"]=function(i,C,m){i*=m;return C==0?0:C>=1-i?1:C/(1-i)};I.l.lddgF=function(i,C,m){i*=m;return Math.min(1,i+C)};
I.l.lgClF=function(i,C,m){var e=I.CP(i)>I.CP(C)?i:C;m.Z=e.Z;m.r=e.r;m.e=e.e;return m};I.l.overF=function(i,C,m){return I.l.hLitF(C,i,m)};
I.l.sLitF=function(i,C,m){return i<=.5?C-(1-2*i)*C*(1-C):C+(2*i-1)*(I.l.pJ(C)-C)};I.l.hLitF=function(i,C,m){return i<=.5?I.l["mul F"](2*i,C,m):I.l.scrnF(2*i-1,C,m)};
I.l.vLitF=function(i,C,m){return i<=.5?I.l.auu(2*i,C,m):I.l.a3U(2*i-1,C,m)};I.l.lLitF=function(i,C,m){return i<=.5?I.l.lbrnF(2*i,C,m):I.l.lddgF(2*i-1,C,m)};
I.l.pLitF=function(i,C,m){return i<=.5?I.l.darkF(2*i,C,m):I.l.liteF(2*i-1,C,m)};I.l.hMixF=function(i,C,m){if(m>.99)return i+C<1?0:1;
return Math.min(1,Math.max(0,(C+i*m-m)/(1-m+1e-6)))};I.l.diffF=function(i,C,m){i*=m;return Math.abs(i-C)};
I.l.smudF=function(i,C,m){return i+C-2*i*C};I.l.fsubF=function(i,C,m){return Math.max(C-i,0)};I.l.fdivF=function(i,C,m){return Math.min(C/i,1)};
I.l["hue F"]=function(i,C,m){I.l.xw(i,I.ma(C),m);I.l.sw(m,I.CP(C),m)};I.l["sat F"]=function(i,C,m){I.l.xw(C,I.ma(i),m);
I.l.sw(m,I.CP(C),m)};I.l.colrF=function(i,C,m){I.l.sw(i,I.CP(C),m)};I.l["lum F"]=function(i,C,m){I.l.sw(C,I.CP(i),m)};
I.l.sw=function(i,C,m){var e=C-I.CP(i);m.Z=i.Z+e;m.r=i.r+e;m.e=i.e+e;I.l.agp(m)};I.l.agp=function(i){var C=i.Z,m=i.r,e=i.e,z=I.iw(C,m,e),k7=Math.min(C,m,e),L=Math.max(C,m,e);
if(k7<0){var l=z/(z-k7);C=z+(C-z)*l;m=z+(m-z)*l;e=z+(e-z)*l}if(L>1){var l=(1-z)/(L-z);C=z+(C-z)*l;m=z+(m-z)*l;
e=z+(e-z)*l}i.Z=C;i.r=m;i.e=e};I.l.xw=function(i,C,m){var e=I.l.aaR,z=i.Z,L=i.r,l=i.e;if(z==L&&L==l){m.Z=m.r=m.e=0}else if(z>L){if(z>l){if(L>l){m.Z=C;
m.r=e(z,L,l,C);m.e=0}else{m.Z=C;m.e=e(z,l,L,C);m.r=0}}else{m.e=C;m.Z=e(l,z,L,C);m.r=0}}else{if(z<l){if(L>l){m.r=C;
m.e=e(L,l,z,C);m.Z=0}else{m.e=C;m.r=e(l,L,z,C);m.Z=0}}else{m.r=C;m.Z=e(L,z,l,C);m.e=0}}};I.l.aaR=function(i,C,m,e){return(C-m)*e/(i-m)};
I.l.ac0=function(i,C,m,e,z,L,l,x){var S=C.G_(e).G_(z),k=Math.max(0,S.x-C.x),f=Math.max(0,S.x-e.x),X=Math.max(0,S.y-C.y),o=Math.max(0,S.y-e.y),A=S.m,P=S.J,F=C.m,n=e.m,R=I.l.C5,Q=I.l.wN,s=new Uint32Array(i.buffer),j=new Uint32Array(m.buffer);
for(var Y=0;Y<P;Y++){var _=(X+Y)*F+k,B=(o+Y)*n+f;for(var N=0;N<A;N++){var a=s[_+N],b=1;if(a>>>24==0)continue;
if(a>>>24==255&&L==1&&x==0){j[B+N]=s[_+N];continue}var O=j[B+N],H=a&255,q=a>>>8&255,h=a>>>16&255,D=O&255,T=O>>>8&255,p=O>>>16&255,y=L,g=(O>>>24)*(1/255);
if(x==0){y=(a>>>24)*L*(1/255);b=g}var u=b*(1-y),t=y+u,V=1/t;j[B+N]=~~(.5+(x*g+(1-x)*t)*255)<<24|~~(.5+(h*y+p*u)*V)<<16|~~(.5+(q*y+T*u)*V)<<8|~~(.5+(H*y+D*u)*V)}}};
I.l.adL=function(i,C,m,e,z,L){var l=C.G_(e).G_(z),x=Math.max(0,l.x-C.x),S=Math.max(0,l.x-e.x),k=Math.max(0,l.y-C.y),f=Math.max(0,l.y-e.y),X=l.m,o=l.J,A=C.m,P=e.m,F=I.l.C5,n=I.l.wN,R=new Uint32Array(i.buffer),Q=new Uint32Array(m.buffer),s=Math.floor(Math.random()*16777215),j=0;
for(var Y=0;Y<o;Y++){var _=(k+Y)*A+x,B=(f+Y)*P+S;for(var N=0;N<X;N++){var a=R[_+N];if(a>>>24==0)continue;
if(a>>24==255&&L==1){Q[B+N]=a;continue}var O=Q[B+N],H=(a>>>24)*L*(1/255),q=(O>>>24)*(1/255),h=q*(1-H),D=H+h,T=a&255,p=a>>>8&255,y=a>>>16&255,b=O&255,g=O>>>8&255,u=O>>>16&255;
j>>>=8;if((N&3)==0)j=I.l.tU(B+N+s);var t=D==0?0:1/D,V=Math.floor(D*(256*255))+(j&255)>>>8,c=Math.floor((y*H+u*h)*t+.5),E=Math.floor((p*H+g*h)*t+.5),Z=Math.floor((T*H+b*h)*t+.5);
Q[B+N]=V<<24|c<<16|E<<8|Z}}};I.l.Zg=function(i,C,m,e,z,L,l,x){var S=I.iw(i,C,m),k=I.iw(e,z,L),f=Math.min,X=I.l.aju,o=X(S,x,0);
o=f(o,X(i,x,8));o=f(o,X(C,x,16));o=f(o,X(m,x,24));var A=X(k,x,4);A=f(A,X(e,x,12));A=f(A,X(z,x,20));A=f(A,X(L,x,28));
A=Math.max(A,1-l);var P=Math.min(o,A);return P<0?0:P>1?1:P};I.l.aju=function(i,C,Y){return Math.min((i-C[Y])*C[Y+1],(i-C[Y+3])*C[Y+2])};
I.l.aeV=function(i,C,m,e,z,L,l,x){var S=1/255,k=S*L,f=x.eW?1:0,X=x.fill,o=x.style,A=C.G_(e).G_(z),P=Math.max(0,A.x-C.x),F=Math.max(0,A.x-e.x),n=Math.max(0,A.y-C.y),R=Math.max(0,A.y-e.y),Q=A.m,s=A.J,j=C.m,_=e.m,B=new Uint32Array(i.buffer),N=new Uint32Array(m.buffer);
for(var Y=0;Y<s;Y++){var a=(n+Y)*j+P,O=(R+Y)*_+F;for(var H=0;H<Q;H++,a++,O++){var q=B[a],t=1;if(q>>>24==0)continue;
var h=N[O],D=(q&255)*S,T=(q>>>8&255)*S,p=(q>>>16&255)*S,y=(h&255)*S,b=(h>>>8&255)*S,g=(h>>>16&255)*S,u=L;
if(f==0){u=(q>>>24)*k;t=(h>>>24)*S}if(x.Sl)u*=I.l.Zg(D,T,p,y,b,g,t,x.Sl);var V=t*(1-u),c=u+V,E=c==0?0:255/c,Z=o?1:u,G=((1-t)*u*D+(1-Z)*t*y+Z*t*l(D,y,(1+u-Z)*X))*E,J=((1-t)*u*T+(1-Z)*t*b+Z*t*l(T,b,(1+u-Z)*X))*E,K=((1-t)*u*p+(1-Z)*t*g+Z*t*l(p,g,(1+u-Z)*X))*E;
c=u*X+t*(1-u*X);var M=~~(c*255+.5);N[O]=f*(h>>>24)+(1-f)*M<<24|K<<16|J<<8|G}}};I.l.aAQ=function(i,C,m,e,z,L,l,x){var S=1/255,k=S*L,f=x.eW?1:0,X=C.G_(e).G_(z),o=Math.max(0,X.x-C.x),A=Math.max(0,X.x-e.x),P=Math.max(0,X.y-C.y),F=Math.max(0,X.y-e.y),n=X.m,R=X.J,Q=new Uint32Array(i.buffer),s=new Uint32Array(m.buffer),j={Z:0,r:0,e:0},_={Z:0,r:0,e:0},B={Z:0,r:0,e:0};
for(var Y=0;Y<R;Y++){var N=(P+Y)*C.m+o,a=(F+Y)*e.m+A;for(var O=0;O<n;O++,N++,a++){var H=Q[N],q=s[a],h=(H&255)*S,D=(H>>>8&255)*S,T=(H>>>16&255)*S,p=(q&255)*S,y=(q>>>8&255)*S,b=(q>>>16&255)*S,g=L,u=1;
if(f==0){g=(H>>>24)*k;u=(q>>>24)*S}if(x.Sl)g*=I.l.Zg(h,D,T,p,y,b,u,x.Sl);var t=u*(1-g),V=g+t,c=255/V;
j.Z=h;j.r=D;j.e=T;_.Z=p;_.r=y;_.e=b;l(j,_,B);var E=(((1-u)*h+u*B.Z)*g+p*t)*c,Z=(((1-u)*D+u*B.r)*g+y*t)*c,G=(((1-u)*T+u*B.e)*g+b*t)*c,J=f*(q>>>24)+(1-f)*Math.round(V*255);
s[a]=J<<24|G<<16|Z<<8|E}}};I.l.jX=function(i){i=i^61^i>>>16;i=i+(i<<3);i=i^i>>>4;i=i*668265261;i=i^i>>15;
return(i&16777215)*(1/16777215)};I.l.tU=function(i){i=i^61^i>>>16;i=i+(i<<3);i=i^i>>>4;i=i*668265261;
i=i^i>>>15;return i};I.l.VB=function(i){this.aj=i};I.l.VB.prototype.get=function(){var i=this.aj=I.l.tU(this.aj);
return(i&16777215)*(1/16777215)};I.l.axE=function(i,C,m,e,z,L,l,x){var S=1/255,k=S*L,f=Math.round(L*(256*256*256/255)),X=C.G_(e).G_(z),o=Math.max(0,X.x-C.x),A=Math.max(0,X.x-e.x),P=Math.max(0,X.y-C.y),F=Math.max(0,X.y-e.y),n=X.m,R=X.J,Q=new Uint32Array(i.buffer),s=new Uint32Array(m.buffer);
for(var Y=0;Y<R;Y++){var j=(P+Y)*C.m+o,_=(F+Y)*e.m+A;for(var B=0;B<n;B++,j++,_++){var N=Q[j],a=s[_],O=x*255+(1-x)*(N>>>24);
if((I.l.tU(j)&16777215)>=O*f)continue;s[_]=N&16777215|x*(a>>>24)+(1-x)*255<<24}}};I.l.amb=function(i,C,m){for(var Y=0;
Y<i.length;Y+=4){var e=m[Y>>>2];if(e==0)continue;var z=e*(1/255),L=1/z,l=C[Y],x=C[Y+1],S=C[Y+2],k=i[Y],f=i[Y+1],X=i[Y+2];
C[Y]=Math.min(255,Math.max(0,Math.round((l-(1-z)*k)*L)));C[Y+1]=Math.min(255,Math.max(0,Math.round((x-(1-z)*f)*L)));
C[Y+2]=Math.min(255,Math.max(0,Math.round((S-(1-z)*X)*L)));C[Y+3]=255}};I.l.ZC=function(i,C,m,e,z,L,l,x,S,k,f){if(k==null)k=!1;
if(f==null)f=[1,1,1];var X=255<<24|f[2]*16711680|f[1]*65280|f[0]*255,o=~X;if(z&&!C.LJ(L)){var A=I.R(C.P()*4);
A.fill(l);I.Vo(z,L,A,C);z=A;L=C}if(k){if(z==null)I.l.aa7(i,C,m,e,z,x,S,X,o);else I.l.aDr(i,C,m,e,z,x,S)}else{if(z==null)I.l.agq(i,C,m,e,z,x,S,X,o);
else I.l.aCL(i,C,m,e,z,x,S)}};I.l.agq=function(i,C,m,e,z,L,l,x,S){var k=1/255,f=C.G_(e).G_(L),X=Math.max(0,f.x-C.x),o=Math.max(0,f.x-e.x),A=Math.max(0,f.y-C.y),P=Math.max(0,f.y-e.y),F=f.m,n=f.J,R=new Uint32Array(i.buffer),Q=new Uint32Array(m.buffer),s=I.l.C5,j=l*255&255;
for(var Y=0;Y<n;Y++){var _=(A+Y)*C.m+X,B=(P+Y)*e.m+o;for(var N=0;N<F;N++,_++,B++){var a=R[_],O=Q[B],H=a>>>24,q=O>>>24,h=I.ig(j*H+(255-j)*q),D=I.ig(H*j),T=I.ig(q*(255-j)),p=a&255,y=a>>>8&255,b=a>>>16&255,g=O&255,u=O>>>8&255,t=O>>>16&255,V=D*p+g*T,c=D*y+u*T,E=D*b+t*T;
V=s[h<<8|I.ig(V)];c=s[h<<8|I.ig(c)];E=s[h<<8|I.ig(E)];var Z=h<<24|E<<16|c<<8|V;Q[B]=S&O|x&Z}}};I.l.aa7=function(i,C,m,e,z,L,l,x,S){var k=1/255,f=C.G_(e).G_(L),X=Math.max(0,f.x-C.x),o=Math.max(0,f.x-e.x),A=Math.max(0,f.y-C.y),P=Math.max(0,f.y-e.y),F=f.m,n=f.J,R=new Uint32Array(i.buffer),Q=new Uint32Array(m.buffer),s=I.l.C5,j=l*16777215&16777215;
for(var Y=0;Y<n;Y++){var _=(A+Y)*C.m+X,B=(P+Y)*e.m+o;for(var N=0;N<F;N++,_++,B++){if((I.l.tU(_)&16777215)<j){Q[B]=S&Q[B]|x&R[_]}}}};
I.l.aCL=function(i,C,m,e,z,L,l){var x=1/255,S=C.G_(e).G_(L),k=Math.max(0,S.x-C.x),f=Math.max(0,S.x-e.x),X=Math.max(0,S.y-C.y),o=Math.max(0,S.y-e.y),A=S.m,P=S.J,F=new Uint32Array(i.buffer),n=new Uint32Array(m.buffer),R=I.l.C5;
for(var Y=0;Y<P;Y++){var Q=(X+Y)*C.m+k,s=(o+Y)*e.m+f;for(var j=0;j<A;j++,Q++,s++){var _=z[Q]*l&255;if(_==0)continue;
if(_==255){n[s]=F[Q];continue}var B=F[Q],N=n[s],a=B>>>24,O=N>>>24,H=I.ig(_*a+(255-_)*O),q=I.ig(a*_),h=I.ig(O*(255-_)),D=B&255,T=B>>>8&255,p=B>>>16&255,y=N&255,b=N>>>8&255,g=N>>>16&255,u=R[H<<8|I.ig(q*D+y*h)],t=R[H<<8|I.ig(q*T+b*h)],V=R[H<<8|I.ig(q*p+g*h)];
n[s]=H<<24|V<<16|t<<8|u}}};I.l.aDr=function(i,C,m,e,z,L,l){var x=1/255,S=C.G_(e).G_(L),k=Math.max(0,S.x-C.x),f=Math.max(0,S.x-e.x),X=Math.max(0,S.y-C.y),o=Math.max(0,S.y-e.y),A=S.m,P=S.J,F=new Uint32Array(i.buffer),n=new Uint32Array(m.buffer),R=I.l.C5,Q=Math.round(l*257);
for(var Y=0;Y<P;Y++){var s=(X+Y)*C.m+k,j=(o+Y)*e.m+f;for(var _=0;_<A;_++,s++,j++){var B=z[s]*Q;if((I.l.tU(s)&65535)<B)n[j]=F[s]}}};
I.l.a2H=function(i,C,m,e,z,L,l){var x=1/255,S=C.G_(e).G_(L),k=Math.max(0,S.x-C.x),f=Math.max(0,S.x-e.x),X=Math.max(0,S.y-C.y),o=Math.max(0,S.y-e.y),A=S.m,P=S.J,F=new Uint32Array(i.buffer),n=new Uint32Array(m.buffer),R=Math.floor(Math.random()*e.P()),Q=I.l.anJ;
for(var Y=0;Y<P;Y++){var s=(X+Y)*C.m+k,j=(o+Y)*e.m+f;for(var _=0;_<A;_++){var B=z[s+_]*l;if(B==0)continue;
if(B==255){n[j+_]=F[s+_];continue}var N=F[s+_],a=n[j+_],O=N>>>24,H=a>>>24,q=O*B*(1/255),h=H*(255-B)*(1/255),D=N&255,T=N>>>8&255,p=N>>>16&255,y=a&255,b=a>>>8&255,g=a>>>16&255,u=I.l.tU(j+_+R),t=Math.floor((q+h)*256+.5)+(u>>>0&255)>>>8,V=t==0?0:256/(q+h),c=D*q+y*h,E=T*q+b*h,Z=p*q+g*h,G=Math.floor(c*V+.5)+(u>>>8&255)>>>8,J=Math.floor(E*V+.5)+(u>>>16&255)>>>8,K=Math.floor(Z*V+.5)+(u>>>24&255)>>>8;
n[j+_]=t<<24|K<<16|J<<8|G}}};I.l.anJ=function(i){return Math.floor(i+Math.random())};I.l.wk=function(i,C,m,e,z,L,l){var x=1/255,S=C.G_(e).G_(L),k=Math.max(0,S.x-C.x),f=Math.max(0,S.x-e.x),X=Math.max(0,S.y-C.y),o=Math.max(0,S.y-e.y),A=S.m,P=S.J;
for(var Y=0;Y<P;Y++){var F=(X+Y)*C.m+k,n=(o+Y)*e.m+f;for(var R=0;R<A;R++,F++,n++){var Q=l*z[F]*x;if(Q==0)continue;
if(Q==1){m[n]=i[F];continue}m[n]=i[F]*Q+m[n]*(1-Q)}}};I.a4L=function(){function i(L){var l=L*.85;return Math.exp(-(l*l)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function C(L,l){var x=L<l?1:i((L-l)/Math.pow(1.001-l,.86));
return x}var m=[];function e(L){if(m[L])return m[L];var l=Math.pow(L,.55),x=new Float64Array(8e3),S=0,k=8e3;
for(var Y=0;Y<8e3;Y++){var f=C(Y*(1.55/4e3),l);if(f>=1)S=Y;else if(f<=0&&k==8e3)k=Y;x[Y]=f}var X=[x,S,k];
m[L]=X;return X}function z(L,l,x){if(L<4)l=1;var S=1+.55*(1-l),k=Math.round(x*L*S)+2,f=new j2(0,0,k,k),X=I.R(k*k),o=[X,f],A=k/2,P=S/(A-1);
if(L==2)P*=2;if(L==3)P*=1.6;var F=Date.now(),n=e(l),R=Math.round(8e3/A),Q=n[0],s=n[1]-R,j=n[2]+R,_=Math.min(k,k+1>>>1),B=P*.4*(4e3/1.55),N=I.R(8e3);
for(var Y=0;Y<8e3;Y++){var a=Y,O=Y,H=~~Math.max(0,a-B-B),q=~~Math.max(0,a-B),h=~~Math.min(7999,a+B),D=~~Math.min(7999,a+B+B),T=~~(.5+255*(1/5)*(Q[O]+Q[H]+Q[q]+Q[h]+Q[D]));
N[Y]=T;if(T==0)break}for(var Y=0;Y<_;Y++){var p=P*(Y-A+.5),y=p*p,b=Y*k,g=(k-1-Y)*k;for(var u=0;u<_;u++){var t=P*(u-A+.5),O=~~(Math.sqrt(t*t+y)*(4e3/1.55));
if(j<O)continue;else if(O<s){var T=255;while(u<_){var V=k-1-u;X[b+u]=T;X[b+V]=T;X[g+u]=T;X[g+V]=T;u++}break}else{var T=N[O],V=k-1-u;
X[b+u]=T;X[b+V]=T;X[g+u]=T;X[g+V]=T}}}return o}return{anC:z}}();I.VL={};I.VL.a0j=function(i,C,m,e,z,L){I.VL.iu(i,C,m,e,z,L,null,0)};
I.VL.arI=function(i,C,m,e,z){I.VL.iu(i,C,m,e,z,null,null,0)};I.VL.aAW=function(i,C,m,e,z,L,l){I.VL.iu(i,C,m,e,z,null,L,l*.5)};
I.VL.iu=function(i,C,m,e,z,L,l,x){var S=0,h=0,D=1e9,T=0,p=1e9,y=0,b=1e9,g=0,u=0,t=0,V=0;if(L){S=z*.5;
z=3+Math.round((z-3)*.75)}if(l){z=Math.round(z*2.2)}var k=1/z,f=Math.floor(C*k)+1,X=Math.floor(m*k)+1,o=[],A=new Uint8Array(f*X*4),P=l?.5:1,F=L?64:0;
for(var n=0;n<X;n++){var R=l?.5*(n&1):0;for(var Q=0;Q<f;Q++){var s=(Q+Math.random()*P+R)*z,j=(n+Math.random()*P)*z;
o.push(s,j);var _=Math.min(C-1,Math.floor(s)),B=Math.min(m-1,Math.floor(j)),N=(B*C+_)*4,a=(n*f+Q)*4;
for(var Y=0;Y<4;Y++)A[a+Y]=Math.max(0,Math.min(255,Math.floor(i[N+Y]+(Math.random()-.5)*F)))}}var O=L?L:l?l:[0,0,0],H=f*X*2,q=[-f-1,-f,-f+1,-1,0,1,f-1,f,f+1];
for(var n=0;n<m;n++){t=0;for(var Q=0;Q<C;Q++){var c=Q+.5,E=n+.5,Z=Math.floor(E*k),G=Math.floor(c*k),J=Z*f+G,U=0,r=0;
if(t>1+x){D=I.VL.am6(o,h,c,E);g=Math.sqrt(D);t--;V++}else{D=p=b=1e9;for(var Y=0;Y<q.length;Y++){var K=(J+q[Y])*2;
if(K<0||K>=H)continue;var M=I.VL.am6(o,K,c,E);if(M<b){if(M<p){if(M<D){y=T;b=p;T=h;p=D;h=K;D=M}else{y=T;
b=p;T=K;p=M}}else{y=K;b=M}}}g=Math.sqrt(D);u=Math.sqrt(p);t=u-(g+u)*.5}if(l==null){var dS=(g+u)*.5,w=L?Math.max(0,dS-S):0;
U=Math.max(0,Math.min(1,.5+dS-g-w));r=Math.max(0,Math.min(1,1-(.5+dS-g)-w))}else{var di=Math.min(I.VL.aij(o,h,T,c,E),I.VL.aij(o,h,y,c,E));
U=Math.max(0,Math.min(1,di-x*.5));if(c<x||C-x<c||E<x||m-x<E)U=0;r=0}var eM=1-r-U,a=n*C+Q<<2,j5=h<<1,ds=T<<1;
e[a+0]=Math.floor(.5+U*A[j5+0]+r*A[ds+0]+eM*O[0]);e[a+1]=Math.floor(.5+U*A[j5+1]+r*A[ds+1]+eM*O[1]);
e[a+2]=Math.floor(.5+U*A[j5+2]+r*A[ds+2]+eM*O[2]);e[a+3]=i[a+3]}}};I.VL.am6=function(i,C,m,e){var z=m-i[C],L=e-i[C+1];
return z*z+L*L};I.VL.aij=function(i,C,m,e,z){var L=i[C],l=i[C+1],x=i[m],S=i[m+1],k=(L+x)*.5,f=(l+S)*.5,X=k+(S-l),o=f-(x-L),A=o-f,P=X-k;
return Math.abs(A*e-P*z+X*f-o*k)/Math.sqrt(P*P+A*A)};I.Zo={};I.Zo.Ie=function(i){if(I.Zo.Sr.length<i)I.Zo.Sr=I.R(i);
return I.Zo.Sr};I.Zo.Sr=I.R(0);I.Zo.aBE=function(i){if(I.Zo.DX.length<i)I.Zo.DX=new Float32Array(i);
return I.Zo.DX};I.Zo.DX=new Float32Array(0);I.Zo.MO=function(i,C,m,e){var z=m.m,L=m.J;I.Zo.ar0(i,C,z,L,e)};
I.Zo.L_=function(i,C,m,e){var z=m.m,L=m.J;I.Zo.a5Y(i,C,z,L,e)};I.Zo.amC=function(i,C,m){var e=C.m,z=C.J;
I.Zo.a9q(i,e,z,m)};I.Zo.Kh=function(i,C,m,e){var z=C.m,L=C.J;I.Zo.auW(i,z,L,m,e)};I.Zo.asg=function(i,C,m,e){var z=m.m,L=m.J;
e=Math.round(e);var l=I.Zo.Ie(z*L);I.EP(i,C);I.Zo.Od(C,l,z,L,e)};I.Zo.in=function(i,C,m){var e=C.m,z=C.J;
m=Math.round(m);var L=I.Zo.Ie(e*z*4);I.Zo.PW(i,L,e,z,m)};I.Zo.au$=function(i,C,m){var e=C.m,z=C.J;m=Math.round(m);
I.Zo.auE(i,I.Zo.aBE(e*z),e,z,m)};I.Zo.a24=function(i,C,m){var e=C.m,z=C.J;m=Math.round(m);var L=I.Zo.Ie(e*z*4);
I.Zo.ami(i,L,e,z,m);I.EP(L,i)};I.Zo.rO=function(i,k7){var C=Math.sqrt(12*i*i/k7+1),m=Math.floor(C);if(m%2==0)m--;
var e=m+2,z=(12*i*i-k7*m*m-4*k7*m-3*k7)/(-4*m-4),L=Math.round(z),l=[];for(var Y=0;Y<k7;Y++)l.push(Y<L?m:e);
return l};I.Zo.ar0=function(i,C,m,e,z){var L=I.Zo.rO(z,3),l=I.Zo.Ie(m*e);I.EP(i,C);I.Zo.Od(C,l,m,e,L[0]-1>>1);
I.Zo.Od(C,l,m,e,L[1]-1>>1);I.Zo.Od(C,l,m,e,L[2]-1>>1)};I.Zo.a5Y=function(i,C,m,e,z){var L=I.Zo.rO(z,2),l=I.Zo.Ie(m*e);
I.EP(i,C);I.Zo.Od(C,l,m,e,L[0]-1>>1);I.Zo.Od(C,l,m,e,L[1]-1>>1)};I.Zo.a9q=function(i,C,m,e){var z=I.Zo.rO(e,3),L=I.Zo.Ie(C*m*4);
I.Zo.PW(i,L,C,m,z[0]-1>>1);I.Zo.PW(i,L,C,m,z[1]-1>>1);I.Zo.PW(i,L,C,m,z[2]-1>>1)};I.Zo.auW=function(i,C,m,e,z){if(z==null)z=3;
var L=I.Zo.rO(e,z),l=I.Zo.aBE(C*m);for(var Y=0;Y<z;Y++)I.Zo.auE(i,l,C,m,(L[Y]-1)/2)};I.Zo.Od=function(i,C,m,e,z){I.Zo.a22(i,C,m,e,z);
I.Zo.ayf(C,i,m,e,z)};I.Zo.PW=function(i,C,m,e,z){I.Zo.ami(i,C,m,e,z);I.Zo.a01(C,i,m,e,z)};I.Zo.auE=function(i,C,m,e,z){I.Zo.aa_(i,C,m,e,z);
I.Zo.axh(C,i,m,e,z)};I.Zo.bn=[];I.Zo.X8=function(i){if(I.Zo.bn[i])return I.Zo.bn[i];var C=1/(i+i+1),m=(i+i+1)*256,e=I.R(m);
for(var Y=0;Y<m;Y++)e[Y]=Math.round(Y*C);I.Zo.bn[i]=e;return e};I.Zo.a22=function(i,C,m,e,z){var L=1/(z+z+1),l=m-z-z-1,x=I.Zo.X8(z);
for(var Y=0;Y<e;Y++){var S=Y*m,k=S,f=S+z,X=i[S],o=i[S+m-1],A=(z+1)*X;for(var P=0;P<z;P++)A+=i[S+P];for(var P=0;
P<=z;P++){A+=i[f+P]-X;C[S+P]=x[A]}f+=z+1;S+=z+1;for(var P=0;P<l;P++){A+=i[f+P]-i[k+P];C[S+P]=x[A]}f+=l;
k+=l;S+=l;for(var P=m-z;P<m;P++){A+=o-i[k++];C[S++]=x[A]}}};I.Zo.ami=function(i,C,m,e,z){var L=m<<2,l=z<<2,x=1/(z+z+1),S=m-z-z-1,k=S<<2,f=I.Zo.X8(z);
for(var Y=0;Y<e;Y++){var X=Y*L,o=X,A=X+l,P=X+L,F=i[X],n=i[X+1],R=i[X+2],Q=i[X+3],s=(z+1)*F,j=(z+1)*n,_=(z+1)*R,B=(z+1)*Q;
for(var N=0;N<l;N+=4){s+=i[X+N];j+=i[X+N+1];_+=i[X+N+2];B+=i[X+N+3]}for(var N=0;N<=l;N+=4){s+=i[A]-F;
C[X]=f[s];j+=i[A+1]-n;C[X+1]=f[j];_+=i[A+2]-R;C[X+2]=f[_];B+=i[A+3]-Q;C[X+3]=f[B];A+=4;X+=4}for(var N=0;
N<k;N+=4){s+=i[A+N]-i[o+N];C[X+N]=f[s];j+=i[A+N+1]-i[o+N+1];C[X+N+1]=f[j];_+=i[A+N+2]-i[o+N+2];C[X+N+2]=f[_];
B+=i[A+N+3]-i[o+N+3];C[X+N+3]=f[B]}A+=k;o+=k;X+=k;F=i[P-4];n=i[P-3];R=i[P-2];Q=i[P-1];for(var N=m-z;
N<m;N++){s+=F-i[o];C[X]=f[s];j+=n-i[o+1];C[X+1]=f[j];_+=R-i[o+2];C[X+2]=f[_];B+=Q-i[o+3];C[X+3]=f[B];
o+=4;X+=4}}};I.Zo.aa_=function(i,C,m,e,z){var L=1/(z+z+1),l=m-z-z-1;for(var Y=0;Y<e;Y++){var x=Y*m,S=x,k=x+z,f=i[x],X=i[x+m-1],o=(z+1)*f;
for(var A=0;A<z;A++)o+=i[x+A];for(var A=0;A<=z;A++){o+=i[k+A]-f;C[x+A]=o*L}k+=z+1;x+=z+1;for(var A=0;
A<l;A++){o+=i[k+A]-i[S+A];C[x+A]=o*L}k+=l;S+=l;x+=l;for(var A=m-z;A<m;A++){o+=X-i[S++];C[x++]=o*L}}};
I.Zo.ayf=function(i,C,m,e,z){var L=1/(z+z+1),l=e-z-z-1,x=I.Zo.X8(z);for(var Y=0;Y<m;Y++){var S=Y,k=S,f=S+z*m,X=i[S],o=i[S+m*(e-1)],A=(z+1)*X;
for(var P=0;P<z;P++)A+=i[S+P*m];for(var P=0;P<=z;P++){A+=i[f]-X;C[S]=x[A];f+=m;S+=m}for(var P=0;P<l;
P++){var F=P*m;A+=i[f+F]-i[k+F];C[S+F]=x[A]}k+=l*m;f+=l*m;S+=l*m;for(var P=e-z;P<e;P++){A+=o-i[k];C[S]=x[A];
k+=m;S+=m}}};I.Zo.a01=function(i,C,m,e,z){var L=m<<2,l=z<<2,x=1/(z+z+1),S=e-z-z-1,k=S<<2,f=I.Zo.X8(z);
for(var Y=0;Y<m;Y++){var X=Y<<2,o=X,A=X+z*L,P=X+L*(e-1),F=i[X],n=i[X+1],R=i[X+2],Q=i[X+3],s=(z+1)*F,j=(z+1)*n,_=(z+1)*R,B=(z+1)*Q;
for(var N=0;N<z;N++){var a=X+N*L;s+=i[a];j+=i[a+1];_+=i[a+2];B+=i[a+3]}for(var N=0;N<=z;N++){s+=i[A]-F;
C[X]=f[s];j+=i[A+1]-n;C[X+1]=f[j];_+=i[A+2]-R;C[X+2]=f[_];B+=i[A+3]-Q;C[X+3]=f[B];A+=L;X+=L}for(var N=0;
N<S;N++){var O=N*L;s+=i[A+O]-i[o+O];C[X+O]=f[s];j+=i[A+O+1]-i[o+O+1];C[X+O+1]=f[j];_+=i[A+O+2]-i[o+O+2];
C[X+O+2]=f[_];B+=i[A+O+3]-i[o+O+3];C[X+O+3]=f[B]}o+=S*L;A+=S*L;X+=S*L;F=i[P];n=i[P+1];R=i[P+2];Q=i[P+3];
for(var N=e-z;N<e;N++){s+=F-i[o];C[X]=f[s];j+=n-i[o+1];C[X+1]=f[j];_+=R-i[o+2];C[X+2]=f[_];B+=Q-i[o+3];
C[X+3]=f[B];o+=L;X+=L}}};I.Zo.axh=function(i,C,m,e,z){var L=1/(z+z+1),l=e-z-z-1;for(var Y=0;Y<m;Y++){var x=Y,S=x,k=x+z*m,f=i[x],X=i[x+m*(e-1)],o=(z+1)*f;
for(var A=0;A<z;A++)o+=i[x+A*m];for(var A=0;A<=z;A++){o+=i[k]-f;C[x]=o*L;k+=m;x+=m}for(var A=0;A<l;A++){var P=A*m;
o+=i[k+P]-i[S+P];C[x+P]=o*L}S+=l*m;k+=l*m;x+=l*m;for(var A=e-z;A<e;A++){o+=X-i[S];C[x]=o*L;S+=m;x+=m}}};
I.bZ={};I.bZ.R=function(i,C,m,e){var z=[];for(var L=0;L<4;L++)for(var l=0;l<4;l++)z.push(i+m*l/3,C+e*L/3);
return z};I.bZ.azJ=function(i,C){var m=i.slice(0);for(var Y=0;Y<4;Y++)for(var e=0;e<4;e++){var z=2*(Y*4+e),L=2*(e*4+(3-Y));
if(C){var l=z;z=L;L=l}m[L]=i[z];m[L+1]=i[z+1]}return m};I.bZ.hQ=I.R(0);I.bZ.drawImage=function(i,C,m,e,z,L,l){var x=!1,S=Date.now(),k=2,f=m+2*k,X=e+2*k,o=new j2(k,k,m,e),A=o.clone();
A.sW(k,k);var P=I.bZ.hQ;if(P.length!=A.P()*4)P=I.bZ.hQ=I.R(A.P()*4);else P.fill(0);I.fF(C,o,P,A);if(x)console.log(Date.now()-S,"copy rect");
S=Date.now();I.Qs(P);if(x)console.log(Date.now()-S,"multiply alpha");S=Date.now();var F=Math.max(m,e),n=Math.round(50*m/F),R=Math.round(Math.sqrt(3)*.5*50*e/F),Q=n-.5,s=[],j=[],_=[];
for(var B=0;B<R+1;B++){var N=(B&1)==0;for(var a=0;a<n+1;a++){var O=(a-(N?.5:0))/Q,H=B/R;if(a==0)O=0;
if(a==n)O=1;s.push(f*O,X*H);if(a<n&&B<R){var q=B*(n+1)+a,h=q+1,D=q+n+1,T=D+1;if(N)j.push(q,h,D,D,h,T);
else j.push(q,h,T,q,T,D)}var p=I.bZ.ag8(i,O,H);_.push(-p)}}var y=s.slice(0);I.bZ.i(i,y,o);I.C.i(y,new hN(1,0,0,1,-L.x,-L.y),y);
if(x)console.log(Date.now()-S,"mesh built");S=Date.now();var b=L.m,g=L.J;I.r2.u9(P,f,X,z,b,g,s,y,_,j,l);
if(x)console.log(Date.now()-S,"rendered");S=Date.now();I.J7(z);if(x)console.log(Date.now()-S,"divided");
S=Date.now()};I.bZ.VI=new Array(10);I.bZ.Oj=function(i,C){var m=200,e=0,z=0,L=1e9,l=I.bZ.VI;for(var x=0;
x<m+1;x++)for(var S=0;S<m+1;S++){var k=S/m,f=x/m;I.bZ.aAS(i,k,f,l);var X=l[8]-C.x,o=l[9]-C.y,A=X*X+o*o;
if(A<L){L=A;e=k;z=f}}return[e,z]};I.bZ.i=function(i,C,m){var e=m.x,z=m.y,L=1/m.m,l=1/m.J,x=I.bZ.VI;for(var S=0;
S<C.length;S+=2){var k=(C[S]-e)*L,f=(C[S+1]-z)*l;I.bZ.aAS(i,k,f,x);C[S]=x[8];C[S+1]=x[9]}};I.bZ.ag8=function(i,C,m){var e,z,L,l,x=I.bZ.VI;
I.bZ.awe(i,C,m,x);e=x[8];z=x[9];I.bZ.abK(i,C,m,x);L=x[8];l=x[9];return e*l-z*L};I.bZ.Id=function(i,C,m){var e=0,z=0,L=i[2][0],l=i[2][1];
while(e+2<L.length&&L[e+1]<C)e++;C=(C-L[e])/(L[e+1]-L[e]);while(z+2<l.length&&l[z+1]<m)z++;m=(m-l[z])/(l[z+1]-l[z]);
return[e*3,z*3,C,m]};I.bZ.aAS=function(i,C,m,e){var z=I.bZ.Id(i,C,m);I.bZ.vP(e,0,z[3]);I.bZ.vP(e,4,z[2]);
I.bZ.WH(i[3],z[0],z[1],i[0],e)};I.bZ.awe=function(i,C,m,e){var z=I.bZ.Id(i,C,m);I.bZ.vP(e,0,z[3]);I.bZ.aud(e,4,z[2]);
I.bZ.WH(i[3],z[0],z[1],i[0],e)};I.bZ.abK=function(i,C,m,e){var z=I.bZ.Id(i,C,m);I.bZ.aud(e,0,z[3]);I.bZ.vP(e,4,z[2]);
I.bZ.WH(i[3],z[0],z[1],i[0],e)};I.bZ.aud=function(i,Y,C){var m=1-C;i[Y]=-3*(m*m);i[Y+1]=3*(m*m)-6*(C*m);
i[Y+2]=6*(C*m)-3*(C*C);i[Y+3]=3*(C*C)};I.bZ.vP=function(i,Y,C){var m=1-C;i[Y]=m*(m*m);i[Y+1]=3*C*(m*m);
i[Y+2]=3*(C*C)*m;i[Y+3]=C*C*C};I.bZ.awS=function(i,C,m,e,z){var L=I.bZ.Id(i,C,m),l=L[0],x=L[1],S=L[2],k=L[3],f=i[0],X=Math.floor(S*3),o=Math.floor(k*3),A=I.bZ.VI,P=16,N=0;
I.bZ.vP(A,0,k);I.bZ.vP(A,4,S);var F=[],n=[],R=[];for(var Q=0;Q<4;Q++){for(var s=0;s<4;s++){var Y=Q*4+s,j=A[Q]*A[4+s];
F.push(j);n.push((x+Q)*f+l+s);if((Q==o||Q==o+1)&&(s==X||s==X+1)){var _=S*3-X;if(s==X)_=1-_;var B=k*3-o;
if(Q==o)B=1-B;R[Y]=_*B/j}else R[Y]=0}}for(var Y=0;Y<P;Y++)N+=F[Y]*R[Y];for(var Y=0;Y<P;Y++)R[Y]/=N;for(var Y=0;
Y<P;Y++){var j=F[Y],a=n[Y];i[3][a*2]+=R[Y]*e;i[3][a*2+1]+=R[Y]*z}};I.bZ.S4=function(i){var C=i[0],m=i[1],e=i[2],z=i[3],L=z.slice(0);
for(var l=0;l<m;l++)for(var x=0;x<C;x++){z[(x*m+l)*2]=L[(l*C+x)*2];z[(x*m+l)*2+1]=L[(l*C+x)*2+1]}i[0]=m;
i[1]=C;i[2]=[e[1],e[0]]};I.bZ.split=function(i,C,m){if(C==1)I.bZ.S4(i);var e=i[0],z=i[1],L=i[2][0],l=i[3],x=0;
while(L[x+1]&&L[x+1]<m)x++;var S=(m-L[x])/(L[x+1]-L[x]),k=1-S;for(var f=0;f<z;f++){var Y=(f*(e+3)+x*3)*2,X=k*l[Y]+S*l[Y+2],o=k*l[Y+1]+S*l[Y+3],A=k*l[Y+2]+S*l[Y+4],P=k*l[Y+3]+S*l[Y+5],F=k*l[Y+4]+S*l[Y+6],n=k*l[Y+5]+S*l[Y+7],R=k*X+S*A,Q=k*o+S*P,s=k*A+S*F,j=k*P+S*n,_=k*R+S*s,B=k*Q+S*j;
l.splice(Y+2,4,X,o,R,Q,_,B,s,j,F,n)}L.push(m);L.sort();i[0]+=3;if(C==1)I.bZ.S4(i)};I.bZ.WH=function(i,C,m,e,z){var L=0,l=0,x=0,S=z[0],k=z[1],f=z[2],X=z[3],o=z[4],A=z[5],P=z[6],F=z[7],Y=(m*e+C)*2;
x=S*o;L+=i[Y+0]*x;l+=i[Y+1]*x;x=S*A;L+=i[Y+2]*x;l+=i[Y+3]*x;x=S*P;L+=i[Y+4]*x;l+=i[Y+5]*x;x=S*F;L+=i[Y+6]*x;
l+=i[Y+7]*x;Y+=e+e;x=k*o;L+=i[Y+0]*x;l+=i[Y+1]*x;x=k*A;L+=i[Y+2]*x;l+=i[Y+3]*x;x=k*P;L+=i[Y+4]*x;l+=i[Y+5]*x;
x=k*F;L+=i[Y+6]*x;l+=i[Y+7]*x;Y+=e+e;x=f*o;L+=i[Y+0]*x;l+=i[Y+1]*x;x=f*A;L+=i[Y+2]*x;l+=i[Y+3]*x;x=f*P;
L+=i[Y+4]*x;l+=i[Y+5]*x;x=f*F;L+=i[Y+6]*x;l+=i[Y+7]*x;Y+=e+e;x=X*o;L+=i[Y+0]*x;l+=i[Y+1]*x;x=X*A;L+=i[Y+2]*x;
l+=i[Y+3]*x;x=X*P;L+=i[Y+4]*x;l+=i[Y+5]*x;x=X*F;L+=i[Y+6]*x;l+=i[Y+7]*x;Y+=e+e;z[8]=L;z[9]=l};I.LC={};
I.LC.azv=function(i,C,m){var e=Date.now(),z=new ArrayBuffer(C*m*16),L=I.LC.a6C(i,C,m,z),l=I.LC.a1H(C,m,z);
return{Rf:l,A5:L}};I.LC.a2U=function(i,C,m){var e=Math.round(i.length/8),z=new Uint32Array(e),L=new Uint8Array(e),l=new Uint32Array(e);
I.eS(z,4294967295,0);z[m]=0;var x=new eO(e);x.push(m,z[m]);var S={Rf:i,A5:C,MJ:z,aa:L,Gq:l,nJ:x,aiC:m};
return S};I.LC._E=function(i,C){var m=i.Rf,e=i.A5,z=i.MJ,L=i.aa,l=i.Gq,x=i.nJ;while(!x.bs()&&(C==null||L[C]==0)){var S=x.pop();
L[S]=1;for(var Y=0;Y<8;Y++){var k=m[8*S+Y],f=S+k;if(k==0||L[f])continue;var X=z[S]+e[8*S+Y];if(x.contains(f)&&X<z[f])x.remove(f,z[f]);
if(!x.contains(f)){z[f]=X;l[f]=S;x.push(f,z[f])}}}};function eO(i){this.dz=new Uint32Array(i);this.list=[];
this.jb=0;this.cE=4294967295}eO.prototype.bs=function(){return this.jb==0};eO.prototype.push=function(i,C){var m=this.list;
if(m[C]==null)m[C]=[];m[C].push(i);this.jb++;this.dz[i]=m[C].length-1+1;this.cE=Math.min(this.cE,C)};
eO.prototype.pop=function(){this.jb--;var i=this.list,C=this.cE,m=i[C].pop();if(i[C].length==0)i[C]=null;
this.aks();this.dz[m]=0;return m};eO.prototype.contains=function(i){return this.dz[i]!=0};eO.prototype.remove=function(i,C){this.jb--;
var m=this.list,Y=this.dz[i]-1;if(Y==m[C].length-1)m[C].pop();else{var e=m[C].pop();m[C][Y]=e;this.dz[e]=Y+1}if(m[C].length==0)m[C]=null;
this.dz[i]=0;this.aks()};eO.prototype.aks=function(){if(this.jb==0){this.cE=4294967295;return}var i=this.cE,C=this.list;
while(C[i]==null)i++;this.cE=i};I.LC.ahc=function(i,C,m,e){var z=new Int16Array(e);for(var L=0;L<m;L++)for(var l=0;
l<C;l++){var Y=L*C+l,x=0;if(1<l&&l<C-2&&1<L&&L<m-2){x+=i[Y-C-C];x+=i[Y-C-1]+2*i[Y-C]+i[Y-C+1];x+=i[Y-2]+2*i[Y-1]-16*i[Y]+2*i[Y+1]+i[Y+2];
x+=i[Y+C-1]+2*i[Y+C]+i[Y+C+1];x+=i[Y+C+C]}else x=-16*i[Y];z[Y]=x}return z};I.LC.aqo=function(i,C,m,e){if(e==null)e=128;
var z=new Uint8Array(C*m);for(var L=1;L<m-1;L++)for(var l=1;l<C-1;l++){var Y=L*C+l;z[Y]=I.LC.aBG(i[Y],i[Y-1],i[Y+1],i[Y-C],i[Y+C],e)}return z};
I.LC.aBG=function(i,C,m,e,z,L){var l=Math.abs(i);return i*C<0&&l<Math.abs(C)&&Math.abs(C-i)>L||i*m<0&&l<Math.abs(m)&&Math.abs(m-i)>L||i*e<0&&l<Math.abs(e)&&Math.abs(e-i)>L||i*z<0&&l<Math.abs(z)&&Math.abs(z-i)>L?1:0};
I.LC.atQ=function(i,C,m,e){var z=new Float32Array(e),L=0;new Uint32Array(e).fill(0);for(var l=0;l<m;
l++)for(var x=0;x<C;x++){var S=0,k=0,Y=l*C+x,f=Y*3;if(0<x&&x<C-1)S=i[Y+1]-i[Y-1];if(0<l&&l<m-1)k=i[Y+C]-i[Y-C];
var X=z[f+2]=Math.sqrt(S*S+k*k);if(X!=0){var o=1/X;z[f]=S*o;z[f+1]=k*o}if(X>L)L=X}var A=C*m,P=L==0?0:1/L;
for(var Y=0;Y<A;Y++)z[Y*3+2]=1-z[Y*3+2]*P;return z};I.LC.ayX=function(i,C,m){return m[~~((.5+.5*i)*255)]+m[~~((.5+.5*C)*255)]};
I.LC.a6C=function(i,C,m,e){var z=Date.now(),L=I.LC.ahc(i,C,m,e),l=I.LC.aqo(L,C,m),x=I.LC.atQ(i,C,m,e),S=new Float32Array(256);
for(var Y=0;Y<256;Y++)S[Y]=Math.acos(-1+2*Y/255)*(.95/Math.PI);var k=[-1,0,1,1,1,0,-1,-1],f=[-1,-1,-1,0,1,1,1,0];
for(var Y=0;Y<8;Y++){var X=1/Math.sqrt(k[Y]*k[Y]+f[Y]*f[Y]);k[Y]*=X;f[Y]*=X}var o=[k[0],f[0],k[1],f[1],k[2],f[2],k[3],f[3]],A=[-C-1,-C,-C+1,1],P=new Uint8Array(C*m*8);
new Uint32Array(P.buffer).fill(4294967295);var F=C*m;for(var n=1;n<m-1;n++)for(var R=1;R<C-1;R++){var Q=n*C+R,s=1-l[Q],j=x[Q*3+2],_=x[3*Q+1],B=-x[3*Q];
for(var N=0;N<4;N++){var a=Q+A[N];I.LC.a9T(Q,a,N,P,l,x,s,j,_,B,o,S)}}return P};I.LC.a9T=function(i,C,m,e,z,L,l,x,S,k,f,X){var o=1-z[C],A=(m&1)==0?1:Math.SQRT1_2,P=L[C*3+2]*A,F=L[3*C+1],n=-L[3*C],R=x*A,Q=f[m+m],s=f[m+m+1],j=S*Q+k*s,_=F*Q+n*s;
if(j+_<0){j=-j;_=-_}var B=I.LC.ayX(j,_,X);e[(i<<3)+m]=I.LC.al0(o,B,P);e[(C<<3)+m+4]=I.LC.al0(l,B,R)};
I.LC.al0=function(i,C,m){return 1+~~(.5+20*(.43*i+.43*C+.14*m))};I.LC.a1H=function(i,C,m){var e=new Int16Array(m),z=e,Y=0,L=0;
new Uint32Array(m).fill(0);for(var l=0;l<C;l++)for(var x=0;x<i;x++){if(l>0&&x>0)z[L+0]=-i-1;if(l>0)z[L+1]=-i;
if(l>0&&x<i-1)z[L+2]=-i+1;if(x<i-1)z[L+3]=1;if(l<C-1&&x<i-1)z[L+4]=i+1;if(l<C-1)z[L+5]=i;if(l<C-1&&x>0)z[L+6]=i-1;
if(x>0)z[L+7]=-1;Y++;L+=8}return e};I.H2={};I.H2.wn=function(i){var C=i.slice(0),m=0;for(var Y=0;Y<i.length;
Y++)m+=i[Y];for(var Y=0;Y<i.length;Y++)C[Y]/=m;return C};I.H2.Rh=[I.H2.wn([1,2,1,2,16,2,1,2,1]),I.H2.wn([1,2,1,2,4,2,1,2,1]),I.H2.wn([0,-1,0,-1,8,-1,0,-1,0]),I.H2.wn([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
I.H2.v3=function(i,C,m,e,z,L,l,x){if(l==null)l=!1;if(x==null)x=!1;var S=Math.floor(Math.sqrt(z.length)),k=S-1>>>1,f=new Uint32Array(i.buffer),C=new Uint8ClampedArray(C.buffer);
for(var Y=0;Y<e;Y++)for(var X=0;X<m;X++){var o=0,A=0,P=0,F=0;for(var n=0;n<S;n++)for(var R=0;R<S;R++){var Q=z[n*S+R];
if(Q==0)continue;var s=X-k+R,j=Y-k+n;if(s<0)s=0;else if(s>m-1)s=m-1;if(j<0)j=0;else if(j>e-1)j=e-1;if(x&&f[j*m+s]>>>24==0){j=Y;
s=X}var _=f[j*m+s];o+=(_&255)*Q;A+=(_>>>8&255)*Q;P+=(_>>>16&255)*Q;F+=(_>>>24&255)*Q}if(l){if(o<0)o=-o;
if(A<0)A=-A;if(P<0)P=-P;if(F<0)F=-F}if(x){o=Math.max(0,Math.min(255,o));A=Math.max(0,Math.min(255,A));
P=Math.max(0,Math.min(255,P));F=Math.max(0,Math.min(255,F))}var B=Y*m+X<<2;C[B]=~~(.5+o);C[B+1]=~~(.5+A);
C[B+2]=~~(.5+P);C[B+3]=255-L&C[B+3]|L&~~(.5+F)}};I.H2.apV=function(i,C,m,e){var z=i.length,L=new Uint8Array(z);
I.H2.v3(i,C,m,e,I.H2.Rh[4],0,!0);I.H2.v3(i,L,m,e,I.H2.Rh[5],0,!0);for(var Y=0;Y<z;Y+=4){var l=C[Y],x=C[Y+1],S=C[Y+2],k=C[Y+3],f=L[Y],X=L[Y+1],o=L[Y+2],A=L[Y+3];
C[Y]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+f*f)));C[Y+1]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+X*X)));
C[Y+2]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+o*o)))}};I.H2.aq_=function(i,C,m,e){var z=i.length,L=new Uint8Array(z);
I.H2.pN(i,C,m,e,I.H2.Rh[4],!0);I.H2.pN(i,L,m,e,I.H2.Rh[5],!0);for(var Y=0;Y<z;Y++){var l=C[Y],x=L[Y];
C[Y]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+x*x)))}};I.H2.pN=function(i,C,m,e,z,L){C=new Uint8ClampedArray(C.buffer);
var l=[-m-1,-m,-m+1,-1,0,1,m-1,m,m+1],x=e-1,S=m-1;for(var Y=1;Y<x;Y++)for(var k=1;k<S;k++){var f=Y*m+k,X=I.H2.X1(i,f,m,z);
if(L){if(X<0)X=-X}C[f]=~~(X+.5)}};I.H2.X1=function(i,C,m,e){return i[C-m-1]*e[0]+i[C-m]*e[1]+i[C-m+1]*e[2]+i[C-1]*e[3]+i[C]*e[4]+i[C+1]*e[5]+i[C+m-1]*e[6]+i[C+m]*e[7]+i[C+m+1]*e[8]};
I.H2.a6b=function(i,C,m,e,z){var L=[-m-1,-m,-m+1,-1,0,1,m-1,m,m+1],l=e-1,x=m-1;for(var Y=1;Y<l;Y++)for(var S=1;
S<x;S++){var k=Y*m+S;C[k]=I.H2.aBY(i,k,m,z)}};I.H2.aBY=function(i,C,m,e){return i[C-m-1]*e[0]+i[C-m]*e[1]+i[C-m+1]*e[2]+i[C-1]*e[3]+i[C]*e[4]+i[C+1]*e[5]+i[C+m-1]*e[6]+i[C+m]*e[7]+i[C+m+1]*e[8]};
I.Lc={};I.Lc._j=function(){function i(l,x,S,k,f,X){if(f==0){x.set(l);return}var o=I.R(S*k),A=I.R(S*k);
if(I.Rz(l)){C(l,x,S,k,f,X);I.Ud(l,o,3);I.Lc.abC(o,A,S,k,f,X);I.uC(A,x,3)}else{for(var Y=0;Y<3;Y++){I.Ud(l,o,Y);
I.Lc.abC(o,A,S,k,f,X);I.uC(A,x,Y)}}}function C(l,x,S,k,f,X){var o=0,A=new ArrayBuffer(512*4*3),P=[new Int32Array(A,0),new Int32Array(A,2048),new Int32Array(A,2*2048)],F=1+2*Math.round(Math.sqrt(f)),n=F>>>1,R=new Array(F),Q=new Array(F);
for(var Y=0;Y<F;Y++){var A=new ArrayBuffer(512*4*3);R[Y]=[new Int32Array(A,0),new Int32Array(A,2048),new Int32Array(A,2*2048)];
Q[Y]=R[Y][0]}var s=[I.Lc.r6,I.Lc.iZ][X],j=s[0],_=s[1],B=P[0];for(var N=0;N<S;N++)if(N<f||N>S-f-F-1){B.fill(0);
var a=Math.max(N-f,0),O=Math.min(S,N+f+1),H=O-a;for(var q=0;q<f;q++)e(B,l,q*S+a,q*S+O,1);for(var q=0;
q<k;q++){var h=q-f-1,D=q+f;if(D<k)e(B,l,D*S+a,D*S+O,1);if(h>=0)e(B,l,h*S+a,h*S+O,-1);var T=q*S+N<<2;
o=B[300];if(o!=0)for(var Y=0;Y<3;Y++)x[T+Y]=j(P[Y],l[T+Y],o)}}else{for(var Y=0;Y<F;Y++)Q[Y].fill(0);
var a=N-f+n,O=N+f+1+n;for(var q=0;q<f;q++)m(Q,l,q*S+a,q*S+O,1,n);for(var q=0;q<k;q++){var h=q-f-1,D=q+f;
if(h>=0)m(Q,l,h*S+a,h*S+O,-1,n);if(D<k)m(Q,l,D*S+a,D*S+O,1,n);var p=R[n];o=p[0][300];for(var Y=0;Y<n;
Y++){var y=n-1-Y,b=n+1+Y,g=R[y],u=R[b],t=o+g[0][300],V=o+u[0][300],c=q*S+N+y<<2,E=q*S+N+b<<2;if(t!=0)for(var Z=0;
Z<3;Z++)x[c+Z]=_(p[Z],g[Z],l[c+Z],t);if(V!=0)for(var Z=0;Z<3;Z++)x[E+Z]=_(p[Z],u[Z],l[E+Z],V)}var T=q*S+N+n<<2;
if(o!=0)for(var Z=0;Z<3;Z++)x[T+Z]=j(p[Z],l[T+Z],o)}N+=F-1}}function m(l,x,S,k,f,X){var o=z,A=S<<2,P=k<<2;
o(l[X-1],x,S-1<<2,f);o(l[X-1],x,k-1<<2,-f);o(l[X+1],x,k<<2,f);o(l[X+1],x,S<<2,-f);for(var Y=1;Y<X;Y++){var F=l[X-Y-1],n=l[X+Y+1];
for(var R=0;R<=Y;R++){var Q=R<<2;o(F,x,S-1-R<<2,f);o(F,x,k-1-R<<2,-f);o(n,x,k+R<<2,f);o(n,x,S+R<<2,-f)}}e(l[X],x,S,k,f)}function e(l,x,Y,S,k){var f=Y<<2,X=S<<2;
while(f<X){z(l,x,f,k);f+=4}}function z(l,x,S,k){var f=k*x[S+3];l[300]+=f;L(l,x[S],0,f);L(l,x[S+1],512,f);
L(l,x[S+2],1024,f)}function L(l,x,S,k){l[S|x]+=k;l[S|256|x>>>4]+=k}return i}();I.Lc.abC=function(){function i(X,o,A,P,F,n){if(F==0){o.set(X);
return}if(F<=200)C(X,o,A,P,F,n);else L(X,o,A,P,F,n)}function C(X,o,A,P,F,n){var R=0,Q=new Int32Array(512),s=1+2*Math.round(Math.sqrt(F)),j=s>>>1,_=new Array(s);
for(var Y=0;Y<s;Y++)_[Y]=new Int32Array(512);var B=[I.Lc.r6,I.Lc.iZ][n],N=B[0],a=B[1];for(var O=0;O<A;
O++)if(O<F||O>A-F-s-1){Q.fill(0);R=0;var H=Math.max(O-F,0),q=Math.min(A,O+F+1),h=q-H;for(var D=0;D<F;
D++){R+=h;e(Q,X,D*A+H,D*A+q,1)}for(var D=0;D<P;D++){var T=D-F-1,p=D+F;if(T>=0){R-=h;e(Q,X,T*A+H,T*A+q,-1)}if(p<P){R+=h;
e(Q,X,p*A+H,p*A+q,1)}var y=N(Q,X[D*A+O],R);o[D*A+O]=y}}else{for(var Y=0;Y<s;Y++)_[Y].fill(0);R=0;var H=O-F+j,q=O+F+1+j,h=q-H;
for(var D=0;D<F;D++){R+=h;m(_,X,D*A+H,D*A+q,1,j)}for(var D=0;D<P;D++){var T=D-F-1,p=D+F;if(T>=0){R-=h;
m(_,X,T*A+H,T*A+q,-1,j)}if(p<P){R+=h;m(_,X,p*A+H,p*A+q,1,j)}for(var Y=0;Y<j;Y++){var b=j-1-Y,g=j+1+Y;
o[D*A+O+b]=a(_[j],_[b],X[D*A+O+b],R);o[D*A+O+g]=a(_[j],_[g],X[D*A+O+g],R)}o[D*A+O+j]=N(_[j],X[D*A+O+j],R)}O+=s-1}}function m(X,o,A,P,F,n){var R=z;
R(X[n-1],o[A-1],0,F);R(X[n-1],o[P-1],0,-F);R(X[n+1],o[P],0,F);R(X[n+1],o[A],0,-F);for(var Y=1;Y<n;Y++){var Q=X[n-Y-1],s=X[n+Y+1];
for(var j=0;j<=Y;j++){R(Q,o[A-1-j],0,F);R(Q,o[P-1-j],0,-F);R(s,o[P+j],0,F);R(s,o[A+j],0,-F)}}e(X[n],o,A,P,F)}function e(X,o,Y,A,P){while(Y<A)z(X,o[Y++],0,P)}function z(X,o,A,P){X[A|o]+=P;
X[A|256|o>>>4]+=P}function L(X,o,A,P,F,n){var R=0,Q=new Int32Array(512),s=new Int32Array(1*A),j=new Int32Array(512*A),_=Math.min(F,A),B=Math.min(F,P),N=[I.Lc.r6,I.Lc.iZ][n],a=N[0];
for(var O=0;O<B;O++)l(j,s,X,A,O,1);for(var O=0;O<P;O++){if(O+F<P)l(j,s,X,A,O+F,1);if(O-F-1>=0)l(j,s,X,A,O-F-1,-1);
Q.fill(0);R=0;for(var H=0;H<_;H++){R+=s[H];x(Q,j,H)}for(var H=0;H<A;H++){var q=H-F-1,h=H+F;if(q>=0&&s[q]!=0){R-=s[q];
S(Q,j,q)}if(h<A&&s[h]!=0){R+=s[h];x(Q,j,h)}var D=R==0?0:a(Q,X[O*A+H],R);o[O*A+H]=D}}}function l(X,o,A,P,F,n){var Y=F*P;
for(var R=0;R<P;R++){z(X,A[Y+R],R<<9,n);o[R]+=n}}function x(X,o,A){for(var Y=0;Y<16;Y++){var P=o[A<<9|256|Y];
if(P==0)continue;X[256|Y]+=P;var F=Y<<4,n=A<<9|F;k(X,o,F,n);k(X,o,F+4,n+4);k(X,o,F+8,n+8);k(X,o,F+12,n+12)}}function S(X,o,A){for(var Y=0;
Y<16;Y++){var P=o[A<<9|256|Y];if(P==0)continue;X[256|Y]-=P;var F=Y<<4,n=A<<9|F;f(X,o,F,n);f(X,o,F+4,n+4);
f(X,o,F+8,n+8);f(X,o,F+12,n+12)}}function k(X,o,A,P){X[A]+=o[P];X[A+1]+=o[P+1];X[A+2]+=o[P+2];X[A+3]+=o[P+3]}function f(X,o,A,P){X[A]-=o[P];
X[A+1]-=o[P+1];X[A+2]-=o[P+2];X[A+3]-=o[P+3]}return i}();I.Lc.fq=.5;I.Lc.r6=[function(i,C,m){var e=~~(.5+I.Lc.fq*m),z=0,Y=256;
while(z+i[Y]<e)z+=i[Y++];Y=Y-256<<4;while(z<e)z+=i[Y++];return Y-1},function(i,C,m,e){var z=~~(.5+I.Lc.fq*e),L=0,Y=256;
while(L+i[Y]+C[Y]<z){L+=i[Y]+C[Y];Y++}Y=Y-256<<4;while(L<z){L+=i[Y]+C[Y];Y++}return Y-1}];I.Lc.xe=100;
I.Lc.iZ=[function(i,C,m){var e=I.Lc.xe,z=0,L=0,Y=Math.max(0,C-e),l=Math.min(256,C+e+1);while(Y<l){var x=i[Y];
z+=Y*x;L+=x;Y++}return L==0?0:z/L},function(i,C,m,e){var z=I.Lc.xe,L=0,l=0,Y=Math.max(0,m-z),x=Math.min(256,m+z+1);
while(Y<x){var S=i[Y]+C[Y];L+=Y*S;l+=S;Y++}return l==0?0:L/l}];I.D={};I.D.sb=function(i){var C=$.V.dR(i.Trnf),m=i.Sz.v,e=I.D.v6(C,new j2(0,0,m.Wdth.v,m.Hght.v));
return I.D.YD(e)};I.D.v6=function(i,C){var m=i[0],e=i[1],z=i[2],L=i[3],l=i[6],x=i[7],S=i[4],k=i[5],f=0,X=0,o=1,A=0,P=0,F=1,n=1,R=1;
if(C){f=C.x;X=C.y;o=C.x+C.m;A=C.y;P=C.x;F=C.y+C.J;n=C.x+C.m;R=C.y+C.J}return I.D.axR(i,[f,X,o,A,n,R,P,F])};
I.D.adc=function(i){function C(L,l){for(var Y=0;Y<l.length;Y+=2)if(!m(L,l[Y],l[Y+1]))return!1;return!0}function m(L,l,x){return L[2*l]==L[2*x]&&L[2*l+1]==L[2*x+1]}var e=0;
if(C(i,[0,1,2,3]))e+=1;if(C(i,[0,3,1,2]))e+=2;return e};I.D.axR=function(i,C){function m(y,Y,b){var D=y[Y*2]-y[b*2],T=y[Y*2+1]-y[b*2+1];
return Math.sqrt(D*D+T*T)}var e=i[0],z=i[1],L=i[2],l=i[3],x=i[6],S=i[7],k=i[4],f=i[5],X=C[0],o=C[1],A=C[2],P=C[3],F=C[6],n=C[7],R=C[4],Q=C[5],s=[[X,o,1,0,0,0,-X*e,-o*e,e],[0,0,0,X,o,1,-X*z,-o*z,z],[A,P,1,0,0,0,-A*L,-P*L,L],[0,0,0,A,P,1,-A*l,-P*l,l],[F,n,1,0,0,0,-F*x,-n*x,x],[0,0,0,F,n,1,-F*S,-n*S,S],[R,Q,1,0,0,0,-R*k,-Q*k,k],[0,0,0,R,Q,1,-R*f,-Q*f,f]],j=[0,0,0,0,0,0,0,0],_=I.OT.x3(s,j);
if(_!=0){j=[0,0,0,0,0,0,0,0];var B=I.D.adc(i),N=I.D.adc(C);if(B==N&&B!=0){var a=B==1,O=a?3:1,H=m(i,0,O),q=m(C,0,O),h=q/H,D=i[2*O]-i[0],T=i[2*O+1]-i[1],p=new hN;
p.translate(-e,-z);p.rotate(Math.atan2(T,D)-(a?Math.PI/2:0));if(a)p.scale(1,h);else p.scale(h,1);p.translate(X,o);
p.Fb();j=I.D.fL(p)}}return j};I.D.R=function(i,C){if(i==null)i=C=0;return[1,0,i,0,1,C,0,0]};I.D.r5=function(i){return Math.abs(i[6])<1e-10&&Math.abs(i[7])<1e-10};
I.D.YD=function(i){return new hN(i[0],i[3],i[1],i[4],i[2],i[5])};I.D.fL=function(i){return[i.W,i.xF,i.W_,i.e,i.o6,i.Rj,0,0]};
I.D.i=function(i,C){var m=new Float64Array(2);for(var e=0;e<C.length;e+=2){var z=C[e],L=C[e+1];I.D.R7(z,L,i,m);
C[e]=m[0];C[e+1]=m[1]}};I.D.R7=function(i,C,m,e){var z=1/(m[6]*i+m[7]*C+1);e[0]=(m[0]*i+m[1]*C+m[2])*z;
e[1]=(m[3]*i+m[4]*C+m[5])*z};I.D.aa1=function(i,C){var m=new Float64Array(2);I.D.R7(C.x,C.y,i,m);return new b5(m[0],m[1])};
I.D.S4=function(i,C,m,e){i=new Uint32Array(i.buffer);C=new Uint32Array(C.buffer);for(var z=0;z<e;z++){for(var L=0;
L<m;L++){C[L*e+z]=i[z*m+L]}}};I.D.ZP=function(i,C,m,e){i=new Uint32Array(i.buffer);C=new Uint32Array(C.buffer);
for(var z=0;z<e;z++){for(var L=0;L<m;L++){C[z*m+L]=i[z*m+m-1-L]}}};I.D.ap9=function(i,C,m,e){i=new Uint32Array(i.buffer);
C=new Uint32Array(C.buffer);for(var z=0;z<e;z++){for(var L=0;L<m;L++){C[z*m+L]=i[(e-1-z)*m+L]}}};I.D.adZ=function(i){return Math.abs(i[6])<1e-9&&Math.abs(i[7])<1e-9};
I.D.aD$=function(i){return Math.abs(i[0])<1e-9&&Math.abs(i[4])<1e-9||Math.abs(i[1])<1e-9&&Math.abs(i[3])<1e-9};
I.D.drawImage=function(i,C,m,e,z,L,l,x,S){if(l==null)l=!1;if(x==null)x=!1;var k=I.D.Fb(i),f=!0,X=0;for(var Y=0;
Y<8;Y++){var o=Math.round(i[Y]);if(Y!=2&&Y!=5)X+=Math.abs(o);if(Math.abs(o-i[Y])>1e-9)f=!1}var A=I.D.adZ(i),P=I.D.aD$(i)&&A,F=P?1:0;
if(l||f&&X==m+e&&A){I.D.az4(k,C,m,e,z,L,x,A,S);return}var n=L.m,R=L.J,Q=new Float64Array(2);z=new Uint32Array(z.buffer);
C=new Uint32Array(C.buffer);for(var s=0;s<R;s++)for(var j=0;j<n;j++){var _=s*n+j,B,N,a,O,t=0,V=0,c=0,E=0;
z[_]=0;var H=j+L.x+.5,q=s+L.y+.5;B=H;N=q;a=k;var h=a[0]*B+a[1]*N+a[2],D=a[3]*B+a[4]*N+a[5];if(!A){O=1/(a[6]*B+a[7]*N+1);
h*=O;D*=O}var T=h*m,p=D*e,y=T<-1||T>m+1||p<-1||p>e+1;if(x){T=Math.max(.001,Math.min(m-1,T));p=Math.max(.001,Math.min(e-1,p))}else if(y)continue;
var b=I.D.aCB(i,m,e,H,q,h,D),g=Math.round(b*2.3);if(b<1.1){I.D.J6(T,p,C,m,e,z,_,F);continue}if(!x&&(T<.6||T>m-.6||p<.6||p>e-.6)){g=Math.max(g,5)}if(x&&y)g=1;
var u=1/g,Z=L.x+j,G=L.y+s;a=k;for(var Y=0;Y<g;Y++)for(var J=0;J<g;J++){B=Z+(Y+.5)*u;N=G+(J+.5)*u;var T=a[0]*B+a[1]*N+a[2],p=a[3]*B+a[4]*N+a[5];
if(!A){O=1/(a[6]*B+a[7]*N+1);T*=O;p*=O}if(x){T=Math.max(.001,Math.min(.999,T));p=Math.max(.001,Math.min(.999,p))}else if(T<0||T>=1||p<0||p>=1)continue;
T=Math.floor(T*m);p=Math.floor(p*e);var K=p*m+T,M=C[K],U=M>>>24;t+=(M&255)*U;V+=(M>>>8&255)*U;c+=(M>>>16&255)*U;
E+=U}if(E!=0){var r=1/E;t=~~(t*r+.5);V=~~(V*r+.5);c=~~(c*r+.5);E=~~(E*u*u+.5);z[_]=E<<24|c<<16|V<<8|t}}};
I.D.aCB=function(i,C,m,e,z,L,l){var x=I.D.aAp(i,e,z,L+1/C,l),S=I.D.aAp(i,e,z,L,l+1/m);return 1/Math.sqrt(Math.max(x,S))};
I.D.aAp=function(i,C,m,e,z){var L=1/(i[6]*e+i[7]*z+1),l=(i[0]*e+i[1]*z+i[2])*L-C,x=(i[3]*e+i[4]*z+i[5])*L-m;
return l*l+x*x};I.D.az4=function(i,C,m,e,z,L,l,x,S){if(x&&!l&&L.P()>4e6&&S){I.D.av$(i,C,m,e,z,L,l,x,S);
return}var k=L.x+L.m,f=L.y+L.J,X=0,o=new Uint32Array(z.buffer),A=new Uint32Array(C.buffer),P=i[0]*m,F=i[1]*m,n=i[2]*m,R=i[3]*e,Q=i[4]*e,s=i[5]*e,j=i[6],_=i[7];
if(x&&!l)for(var B=L.y+.5;B<f;B++)for(var N=L.x+.5;N<k;N++){var a=P*N+F*B+n,O=R*N+Q*B+s;if(0<a&&a<m&&0<O&&O<e){var H=~~O*m+~~a;
o[X]=A[H]}else o[X]=0;X++}else for(var B=L.y+.5;B<f;B++)for(var N=L.x+.5;N<k;N++){var q=1/(j*N+_*B+1),a=(P*N+F*B+n)*q,O=(R*N+Q*B+s)*q;
if(l){a=Math.max(.001,Math.min(m-1,a));O=Math.max(.001,Math.min(e-1,O))}if(0<a&&a<m&&0<O&&O<e){var H=Math.floor(O)*m+Math.floor(a);
o[X]=A[H]}else o[X]=0;X++}};I.D.av$=function(i,C,m,e,z,L,l,x,S){var k=new Uint32Array(z.buffer),f=new Uint32Array(C.buffer),_=0;
if(S&&(L.m&3)!=0)throw"e";var X=i[0]*m,o=i[1]*m,A=i[2]*m,P=i[3]*e,F=i[4]*e,n=i[5]*e,R=i[6],Q=i[7],s=L.m,j=L.J,B=L.x+.5,N=L.y+.5,a=(s>>>2<<2)-1e-9,O=-.1+(j>>>1<<1)-1e-9,H=~~m,q=X==0?0:1/X,h=P==0?0:1/P;
for(var D=0;D<j;D++){var T=B*X+o*(D+N)+A,p=B*P+F*(D+N)+n,y=0,b=s;if(X==0){}else if(q>0){y=Math.max(y,-T*q);
b=Math.min(b,(m-T)*q)}else{b=Math.min(b,-T*q);y=Math.max(y,(m-T)*q)}if(P==0){}else if(h>0){y=Math.max(y,-p*h);
b=Math.min(b,(e-p)*h)}else{b=Math.min(b,-p*h);y=Math.max(y,(e-p)*h)}if(b<0)b=0;if(y>b)y=b;y=~~Math.ceil(y);
b=~~b;_=~~(D*s);k.fill(0,_,_+y);_+=y;for(var g=y;g<b;g+=4){var u=X*g+T,t=P*g+p,V=~~t*H+~~u,c=f[V];k[_]=c;
k[_+1]=c;k[_+2]=c;k[_+3]=c;_+=4}k.fill(0,_,_+s-b)}};I.D.Fb=function(i){var C=i[4]-i[5]*i[7],m=i[2]*i[7]-i[1],e=i[1]*i[5]-i[2]*i[4],z=i[5]*i[6]-i[3],L=i[0]-i[2]*i[6],l=i[3]*i[2]-i[0]*i[5],x=i[3]*i[7]-i[4]*i[6],S=i[1]*i[6]-i[0]*i[7],k=1/(i[0]*i[4]-i[1]*i[3]);
return[C*k,m*k,e*k,z*k,L*k,l*k,x*k,S*k]};I.D.oW=function(i,C){var m=i[0],e=i[1],z=i[2],L=i[3],l=i[4],x=i[5],S=i[6],k=i[7],f=C[0],X=C[1],o=C[2],A=C[3],P=C[4],F=C[5],n=C[6],R=C[7],Q=[m*f+e*A+z*n,m*X+e*P+z*R,m*o+e*F+z,L*f+l*A+x*n,L*X+l*P+x*R,L*o+l*F+x,S*f+k*A+n,S*X+k*P+R],s=1/(S*o+k*F+1);
for(var Y=0;Y<8;Y++)Q[Y]*=s;return Q};I.D.J6=function(i,C,m,e,z,L,l,x){var S=i,k=C,o=0,A=0,P=0,F=0;i-=.499999;
C-=.499999;var f=Math.floor(i),X=Math.floor(C);if(x==0){var Y=X*e+f,n=f>=0&&f<e,R=f+1>=0&&f+1<e,Q=X>=0&&X<z,s=X+1>=0&&X+1<z;
if(n&&Q)o=m[Y];if(R&&Q)A=m[Y+1];if(n&&s)P=m[Y+e];if(R&&s)F=m[Y+e+1]}else if(x==1){var j=f<0?0:f>e-1?e-1:f,_=f<-1?0:f>e-2?e-1:f+1,B=X<0?0:X>z-1?z-1:X,N=X<-1?0:X>z-2?z-1:X+1;
o=m[B*e+j];A=m[B*e+_];P=m[N*e+j];F=m[N*e+_]}else{var j=(f+50*e)%e,_=(f+50*e+1)%e,B=(X+50*z)%z,N=(X+50*z+1)%z;
o=m[B*e+j];A=m[B*e+_];P=m[N*e+j];F=m[N*e+_]}var a=i-f,O=C-X,H=(1-O)*(1-a)*(o>>>24),q=(1-O)*a*(A>>>24),h=O*(1-a)*(P>>>24),D=O*a*(F>>>24),T=H+q+h+D,p=H*(o&255)+q*(A&255)+h*(P&255)+D*(F&255),y=H*(o>>>8&255)+q*(A>>>8&255)+h*(P>>>8&255)+D*(F>>>8&255),b=H*(o>>>16&255)+q*(A>>>16&255)+h*(P>>>16&255)+D*(F>>>16&255);
if(T==0)L[l]=0;else{var g=1/T;p=~~(p*g+.5);y=~~(y*g+.5);b=~~(b*g+.5);T=~~(T+.5);L[l]=T<<24|b<<16|y<<8|p}};
I.D.ahk=function(i,C,m,e,z,L){var l=i-.499999,x=C-.499999,S=~~l,k=~~x,f=l-S,X=x-k,o=(1-X)*(1-f),A=(1-X)*f,P=X*(1-f),F=X*f,n=k*e+S<<2,R=(k+1)*e+S<<2,Q=o*m[n]+A*m[n+4]+P*m[R]+F*m[R+4],s=o*m[n+1]+A*m[n+5]+P*m[R+1]+F*m[R+5],j=o*m[n+2]+A*m[n+6]+P*m[R+2]+F*m[R+6],_=o*m[n+3]+A*m[n+7]+P*m[R+3]+F*m[R+7];
L[0]=Q;L[1]=s;L[2]=j;L[3]=_};I.D.R3=function(i,C,m,e,z){i-=.499999;C-=.499999;var L=Math.floor(i),l=Math.floor(C),x=i-L,S=C-l,k=(1-S)*(1-x),f=(1-S)*x,X=S*(1-x),o=S*x,A=(L+50*e)%e,P=(L+1+50*e)%e,F=(l+50*z)%z,n=(l+1+50*z)%z,R=m[F*e+A],Q=m[F*e+P],s=m[n*e+A],j=m[n*e+P];
if(R==null||j==null)throw"e";return k*R+f*Q+X*s+o*j};I.D.ai_=function(i,C,m,e,z){i-=.499999;C-=.499999;
var L=Math.floor(i),l=Math.floor(C),x=i-L,S=C-l,k=(1-S)*(1-x),f=(1-S)*x,X=S*(1-x),o=S*x,A=0,P=l*e+L,F=P+e;
if(0<=l&&l<z&&0<=L&&L<e)A+=k*m[P];if(0<=l&&l<z&&0<=L+1&&L+1<e)A+=f*m[P+1];if(0<=l+1&&l+1<z&&0<=L&&L<e)A+=X*m[F];
if(0<=l+1&&l+1<z&&0<=L+1&&L+1<e)A+=o*m[F+1];return A};I.D.ae8=function(i,C,m,e,z,L,l,x,S,k,f,X){var o=new Uint32Array(i.buffer),A=new Uint32Array(e.buffer),P=(1+2*k)/z,F=[],n=[];
for(var R=0;R<z;R++){var Q=-.25+k-R*P;F.push(Math.cos(2*Math.PI*Q)*X/f);F.push(Math.sin(2*Math.PI*Q)/f)}l*=C;
x*=m;for(var s=0;s<L;s++){var j=Math.pow(s/L,S)*L;for(var R=0;R<z;R++){var _=l+F[R<<1]*j,B=x+F[(R<<1)+1]*j,N=~~(.5+(_<0?0:_>C-1?C-1:_)),a=~~(.5+(B<0?0:B>m-1?m-1:B));
A[s*z+R]=o[a*C+N]}}};I.D.afb=function(i,C,m,e,z,L,l,x,S,k,f,X){var o=new Uint32Array(i.buffer),A=new Uint32Array(e.buffer),P=1/X,F=[],n=m*4,R=1/n;
for(var Q=0;Q<n+10;Q++)F.push(Math.pow(Q*R,1/S)*m*f);l*=z;x*=L;for(var Q=0;Q<L;Q++)for(var s=0;s<z;s++){var j=P*(s-l),_=Q-x,B=1.75-Math.atan2(_,j)*(1/(2*Math.PI));
B=B-~~B;B=(B+k)*(1/(1+2*k));var N=Math.sqrt(j*j+_*_);N=F[~~(N*4)];I.D.J6(B*C+.5,N+.5,o,C,m,A,Q*z+s,1)}};
I.D.GV=function(i,C,m,e,z){var L=z[0],l=z[1];for(var x=0;x<l;x++)for(var S=0;S<L;S++){var k=z[2]*S+z[3]*x+z[4],f=z[5]*S+z[6]*x+z[7],X=x*L+S<<2,o=f*C+k<<2;
e[X]=i[o+0];e[X+1]=i[o+1];e[X+2]=i[o+2];e[X+3]=i[o+3]}};I.I={sA:function(i,C){var m=~~(.499+i*C);return m<0?0:m>C?C:m},a6y:function(i,C,m,e,z,L,l,x){var S=m[0],k=m[1],f=m[2],X=m[3],o=e.m,A=e.J,P=new Float64Array(o*4+8),F=new Float64Array(o*4+8);
for(var n=0,Y=0;n<A;n++){var R=P;P=F;F=R;F.fill(0);for(var Q=0;Q<o;Q++,Y++){var s=Q+z,j=n+L,_=S*s+k*j,B=f*s+X*j,N=0,H=0;
if(x==0)N=_+.5;else if(x==1)N=2*Math.sqrt(_*_+B*B);else if(x==2)N=(Math.PI+Math.atan2(-B,-_))/(2*Math.PI);
else if(x==3)N=Math.abs(_*2);else if(x==4)N=2*(Math.abs(_)+Math.abs(B));var a=I.I.sA(N,l)*4,O=Q*4;for(var q=0;
q<4;q++){var h=Math.max(0,Math.min(254.999,C[a+q]+P[O+4+q])),D=Math.floor(h);if(Math.random()<h-D)D++;
var T=h-D;P[O+8+q]=T*(7/16);F[O+0+q]=T*(3/16);F[O+4+q]=T*(5/16);F[O+8+q]=T*(1/16);H|=D<<q*8}i[Y]=H}}},f3:[function(i,C,m,e,z,L,l){var x=m[0],S=m[1],k=m[2],f=m[3],X=e.m,o=e.J;
for(var A=0,Y=0;A<o;A++)for(var P=0;P<X;P++,Y++){var F=P+z,n=A+L,R=x*F+S*n,Q=k*F+f*n,s=R+.5;i[Y]=C[I.I.sA(s,l)]}},function(i,C,m,e,z,L,l){var x=m[0],S=m[1],k=m[2],f=m[3],X=e.m,o=e.J;
for(var A=0,Y=0;A<o;A++)for(var P=0;P<X;P++,Y++){var F=P+z,n=A+L,R=x*F+S*n,Q=k*F+f*n,s=2*Math.sqrt(R*R+Q*Q);
i[Y]=C[I.I.sA(s,l)]}},function(i,C,m,e,z,L,l){var x=m[0],S=m[1],k=m[2],f=m[3],X=e.m,o=e.J;for(var A=0,Y=0;
A<o;A++)for(var P=0;P<X;P++,Y++){var F=P+z,n=A+L,R=x*F+S*n,Q=k*F+f*n,s=(Math.PI+Math.atan2(-Q,-R))/(2*Math.PI);
i[Y]=C[I.I.sA(s,l)]}},function(i,C,m,e,z,L,l){var x=m[0],S=m[1],k=m[2],f=m[3],X=e.m,o=e.J;for(var A=0,Y=0;
A<o;A++)for(var P=0;P<X;P++,Y++){var F=P+z,n=A+L,R=x*F+S*n,Q=k*F+f*n,s=Math.abs(R*2);i[Y]=C[I.I.sA(s,l)]}},function(i,C,m,e,z,L,l){var x=m[0],S=m[1],k=m[2],f=m[3],X=e.m,o=e.J;
for(var A=0,Y=0;A<o;A++)for(var P=0;P<X;P++,Y++){var F=P+z,n=A+L,R=x*F+S*n,Q=k*F+f*n,s=2*(Math.abs(R)+Math.abs(Q));
i[Y]=C[I.I.sA(s,l)]}}]};I.I.a4G=function(i,C){return i+.5};I.I.aDs=function(i,C){return 2*Math.sqrt(i*i+C*C)};
I.I.a9r=function(i,C){return(Math.PI+Math.atan2(-C,-i))/(2*Math.PI)};I.I.a7U=function(i,C){return Math.abs(i*2)};
I.I.axq=function(i,C){return 2*(Math.abs(i)+Math.abs(C))};I.I.oV=function(i,C,m,e,z,L,l,x,S,k,f,X){var o=i.Clrs,A=new Uint32Array(C.buffer),P=1023,F=o?I.I.uJ(i,S,k):null;
if(X&&o){var n=I.I.aaw(i,F,P+1,l);I.I.a6y(A,n,e,m,m.x-z,m.y-L,P,x)}else{var R=o?I.I.a2e(i,F,P+1,l):I.I.alT(i,P+1,l);
if(x<5){I.I.f3[x](A,R,e,m,m.x-z,m.y-L,P)}else{var Q=new Uint8Array(R.buffer),s=m.m,j=m.J,_=f.ML-f.lV,B=1/_,N=f.oC.m-m.m>>1,a=f.oC.J-m.J>>1,O=f.oC.m,H=-.6*B,q=(-.6+.4)*B,h=(-.6+2*.4)*B,D=(-.6+3*.4)*B;
for(var T=0,Y=0;T<j;T++)for(var p=0;p<s;p++,Y+=4){var y=0,b=0,g=0,u=0,t=(T+a)*O+p+N,V=(f.pP[t]-f.lV)*B,c=0;
if(V<=0||V>=1){c=(V<=0?0:P)<<2;C[Y]=Q[c];C[Y+1]=Q[c+1];C[Y+2]=Q[c+2];C[Y+3]=Q[c+3];continue}c=Math.max(0,Math.min(P-1,Math.round((V+H)*P)))<<2;
b+=Q[c];g+=Q[c+1];u+=Q[c+2];y+=Q[c+3];c=Math.max(0,Math.min(P-1,Math.round((V+q)*P)))<<2;b+=Q[c];g+=Q[c+1];
u+=Q[c+2];y+=Q[c+3];c=Math.max(0,Math.min(P-1,Math.round((V+h)*P)))<<2;b+=Q[c];g+=Q[c+1];u+=Q[c+2];y+=Q[c+3];
c=Math.max(0,Math.min(P-1,Math.round((V+D)*P)))<<2;b+=Q[c];g+=Q[c+1];u+=Q[c+2];y+=Q[c+3];C[Y]=b>>>2;
C[Y+1]=g>>>2;C[Y+2]=u>>>2;C[Y+3]=y>>>2}}}};I.I.uJ=function(i,C,m){var e=[i.Clrs.v,i.Trns.v],z=[[],[]],L=255;
for(var l=0;l<2;l++)for(var Y=0;Y<e[l].length;Y++){var x,S=e[l][Y].v;if(l==0){var k=S.Type.v.Clry;if(k=="FrgC")x={Z:C>>16&255,r:C>>8&255,e:C&255};
else if(k=="BckC")x={Z:m>>16&255,r:m>>8&255,e:m&255};else x=I.I.oq(S.Clr.v)}else{x=S.Opct.v.val*(255/100);
if(x<L)L=x}z[l].push([x,S.Lctn.v/4096,S.Mdpn.v/100])}z.push(L>254);return z};I.I.oq=function(i){var C,m=i.classID;
if(m=="RGBC"){if(i.Rd)C={Z:i.Rd.v,r:i.Grn.v,e:i.Bl.v};else C={Z:i.redFloat.v*255,r:i.greenFloat.v*255,e:i.blueFloat.v*255}}else if(m=="HSBC"){C=I.Aj(i.H.v.val/360,i.Strt.v/100,i.Brgh.v/100);
C.Z*=255;C.r*=255;C.e*=255}else if(m=="CMYC"){var e=100-i.Cyn.v,z=100-i.Mgnt.v,L=100-i.Ylw.v,l=100-i.Blck.v,x=255*e*l*1e-4,S=255*(.2*e+.8*z)*l*1e-4,k=255*(.2*z+.8*L)*l*1e-4;
C={Z:x,r:S,e:k}}else if(m=="Grsc")C={Z:255-i.Gry.v,r:255-i.Gry.v,e:255-i.Gry.v};else if(m=="LbCl"){C=I.xQ(i.Lmnc.v,i.A.v,i.B.v)}else if(m=="BkCl")C={Z:0,r:0,e:0};
else console.log(i);if(isNaN(C.Z))C.Z=C.r=C.e=0;return C};I.I.alT=function(i,C,m){var e=new Uint32Array(C),z=new Uint8Array(e.buffer);
e.fill(4278190080);var L=[],l=[],x=i.RndS.v,S=i.Smth.v/4096;for(var Y=0;Y<4;Y++){L[Y]=~~(i.Mnm.v[Y].v*255/100);
l[Y]=~~(i.Mxm.v[Y].v*255/100)}var k=I.R(C*4),f=I.R(C);for(var X=0;X<3;X++){I.z.aCf(null,C,1,k,[1+Math.round(S*S*S*60),22,x*(2+X)]);
I.Ud(k,f,0);I.uC(f,z,X);var o=L[X],A=l[X];for(var Y=0;Y<C;Y++)z[4*Y+X]=Math.max(o,Math.min(A,z[4*Y+X]))}if(m)for(var Y=0;
Y<C/2;Y++){var P=e[Y];e[Y]=e[C-1-Y];e[C-1-Y]=P}return e};I.I.$q=function(i){return{classID:"RGBC",Rd:{t:"doub",v:i.Z},Grn:{t:"doub",v:i.r},Bl:{t:"doub",v:i.e}}};
I.I.aaw=function(i,C,m,e){var z=[],L=1/(m-0);for(var Y=0;Y<m;Y++){var l=Y*4,x=I.I.wj(i,C,(e?m-1-Y:Y)*L);
z[l]=x[0];z[l+1]=x[1];z[l+2]=x[2];z[l+3]=x[3]}return z};I.I.a2e=function(i,C,m,e){var z=new Uint32Array(m),L=1/(m-0);
for(var Y=0;Y<m;Y++)z[Y]=I.I.a$(i,C,(e?m-1-Y:Y)*L);return z};I.I.wj=function(i,C,m){var e=i.Intr.v*(1/4096),z=C[0],L=C[1],l=z.length-1,x=L.length-1,Y=-1,S=0,k=0,f=0,X=0;
if(C[2])S=255;else{while(Y<x&&L[Y+1][1]<=m)Y++;if(Y==-1){S=L[0][0]}else if(Y==x){S=L[Y][0]}else{var o=I.I.ak$(L,Y,m,e);
S=o*L[Y][0]+(1-o)*L[Y+1][0]}}Y=-1;while(Y<l&&z[Y+1][1]<=m)Y++;if(Y==-1){var A=z[0][0];k=A.Z;f=A.r;X=A.e}else if(Y==l){var A=z[Y][0];
k=A.Z;f=A.r;X=A.e}else{var P=z[Y][0],F=z[Y+1][0],n=I.I.ak$(z,Y,m,e);k=n*P.Z+(1-n)*F.Z;f=n*P.r+(1-n)*F.r;
X=n*P.e+(1-n)*F.e}return[k,f,X,S]};I.I.a$=function(i,C,m){var e=I.I.wj(i,C,m),z=~~(.5+e[0]),L=~~(.5+e[1]),l=~~(.5+e[2]),x=~~(.5+e[3]);
return x<<24|l<<16|L<<8|z};I.I.ak$=function(i,Y,C,m){if(i.length==2)m*=.5;var e=i[Y][1],z=i[Y+1][1],L=e+i[Y+1][2]*(z-e),l;
if(C<L)l=.5*(C-e)/(L-e);else l=.5+.5*(C-L)/(z-L);l=.5+.5*(m*Math.cos(Math.PI*l)+(1-m)*(1-2*l));return l};
I.I.abV=function(i,C,m){var e=.5*m.J,z=e*(i/C),L=Math.sqrt(e*e+z*z),l=.5*m.m,x=l*(C/i),S=Math.sqrt(l*l+x*x);
return Math.min(L,S)};I.I.II=function(i,C){var m=Math.PI*i.Angl.v.val/180,e=i.Scl.v.val/100,z=i.Ofst.v,L=z.Hrzn.v.val/100,l=z.Vrtc.v.val/100,x=Math.cos(m),S=-Math.sin(m),k=I.I.abV(x,S,C),f=k*e,X=C.x+C.m/2+L*C.m,o=C.y+C.J/2+l*C.J;
return[new b5(X,o),new b5(X+x*f,o+S*f)]};I.I.dV=function(i,C,m,e){var z=C.x-i.x,L=-(C.y-i.y),l=Math.sqrt(z*z+L*L),x=Math.atan2(L,z),S=Math.cos(x),k=-Math.sin(x),f=I.I.abV(S,k,m),X=l/f,o=(i.x-m.x-m.m/2)/m.m,A=(i.y-m.y-m.J/2)/m.J;
e.Angl.v.val=180*x/Math.PI;e.Scl.v.val=X*100;var P=e.Ofst.v;P.Hrzn.v.val=o*100;P.Vrtc.v.val=A*100};I.I.Sc=function(i,C){for(var Y=0;
Y<i.length;Y++){var m=i[Y],e=Math.round(m[0]*4096),z=m[1],L=m[2],l=m[3];if(L==null)L=1;if(l==null)l=.5;
var x=I.I.$q({Z:z[0]*255,r:z[1]*255,e:z[2]*255});C.Clrs.v[Y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:e},Mdpn:{t:"long",v:Math.round(l*100)},Clr:{t:"Objc",v:x},Type:{t:"enum",v:{Clry:"UsrS"}}}};
C.Trns.v[Y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:e},Mdpn:{t:"long",v:Math.round(l*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(L*100)}}}}}};
I.I.yW=function(i,C,m){if(C){i=JSON.parse(JSON.stringify(i));for(var Y=0;Y<2;Y++){var e=i[Y==0?"Clrs":"Trns"].v;
for(var z=0;z<e.length;z++)e[z].v.Lctn.v=4096-e[z].v.Lctn.v;e.reverse()}}var L=[],l=1/255,x=i.Clrs.v,S=i.Trns.v,e=x;
if(d4==0||x.length!=S.length){if(d4!=0)console.log("strange gradient");if(m!=!0)e=x.concat(S);var k=I.I.uJ(i,0,0);
for(var Y=0;Y<e.length;Y++){var f=e[Y].v,X=f.Lctn.v/4096,o=I.I.wj(i,k,X);L.push([X,[o[0]*l,o[1]*l,o[2]*l],o[3]*l])}L.sort(function(P,F){return P[0]-F[0]});
for(var Y=1;Y<L.length;Y++)if(L[Y][0]-L[Y-1][0]<.001){L.splice(Y,1);Y--}}else{for(var Y=0;Y<e.length;
Y++){var f=x[Y].v,A=f.Clr.v,X=f.Lctn.v/4096;L.push([X,[A.Rd.v*l,A.Grn.v*l,A.Bl.v*l],S[Y].v.Opct.v.val*.01])}}return L};
I.aqO={};I.aqO.LR=function(i,C,m,e,z,L,l,x,S,k,f,X){var o,A,P,F=Date.now(),n=!1,R=l,Q=k,s,j,_,B,N=L*255,a=255-S*255,O=1+z*6,H=1+x*6,q=1+X*4,h=(q-1)/7,D=0,T=255-0,p,y,b,g,u,t,V,c,E,Z,G,J,K,M=0,U=1,r,dS,w,di,eM,j5,ds,ba,gH,ir,iP=1+f,iy,iG=I.R(m*e),eg=I.R(m*e),du=I.R(m*e),gh=I.R(m*e),ga=255/N,d5=255/(255-a);
for(A=0;A<e;A++){for(o=0;o<m;o++){var Y=A*m+o,fu=Y<<2;r=I.iw(i[fu],i[fu+1],i[fu+2]);gh[Y]=r;if(r<N)iG[Y]=255-r*ga;
if(r>a)eg[Y]=255-(255-r)*d5}}if(n)console.log("init",Date.now()-F);F=Date.now();if(z*R>0){du.set(iG);
I.Zo.L_(du,iG,new j2(0,0,m,e),R)}if(x*Q>0){du.set(eg);I.Zo.L_(du,eg,new j2(0,0,m,e),Q)}if(n)console.log("blur",Date.now()-F);
F=Date.now();var ay=I.R(256),c7=I.R(256);for(var Y=0;Y<256;Y++){var eE=Y*(1/255),jn=0;jn=(1-Math.pow(1-eE,O))*255;
ay[Y]=Math.max(0,Math.min(255,~~(jn+.5)));jn=Math.pow(eE,H)*255;c7[Y]=Math.max(0,Math.min(255,~~(jn+.5)))}var dI=new Uint8ClampedArray(C.buffer),dQ=new Float32Array(32768);
for(var Y=0;Y<32768;Y++){iy=Math.sqrt(Y)*(1/128);if(iP>1)iy=(1-iy)*(iP-1)+1;else iy=iy*(iP-1)+1;dQ[Y]=iy}for(A=0;
A<e;A++){for(o=0;o<m;o++){var Y=A*m+o,fu=Y<<2,jn=gh[Y],jo=iG[Y]*(1/255),hT=eg[Y]*(1/255);jn=(1-jo)*jn+jo*ay[~~jn];
jn=(1-hT)*jn+hT*c7[~~jn];r=jn;var ea=i[fu],b9=i[fu+1],bI=i[fu+2];dS=-ea*.168736-b9*.331264+bI*.5;w=ea*.5-b9*.418688-bI*.081312;
iy=dQ[~~(.5+dS*dS+w*w)];di=dS*iy;j5=w*iy;U=1-Math.min(2-(jo+hT),1);dS=U*dS+(1-U)*di;w=U*w+(1-U)*j5;ba=r+1.402*w;
gH=r-.34414*dS-.71414*w;ir=r+1.772*dS;dI[fu]=~~(.5+ba);dI[fu+1]=~~(.5+gH);dI[fu+2]=~~(.5+ir)}}if(n)console.log("apply masks",Date.now()-F);
F=Date.now()};I.T5={};I.T5.hV=function(i,C,m,e,z){var L=Date.now(),l=!1,F=1,T=0,E=0;if(!C.Y4(z)){var x=C.Z0(z),S=I.R(x.P()*4);
I.fF(i,C,S,x);i=S;C=x}var k=I.R(C.P());I.Vo(m,z,k,C);I.round(k);z=z.G_(C);var f=z.m,X=z.J,o=f*3<X?2:1,A=X*3<f?2:1;
if(z.P()*(o*2+1)*(A*2+1)<C.P()){var x=new j2(z.x-f*o,z.y-X*o,f*(o*2+1),X*(A*2+1)).G_(C),S=I.R(x.P()*4);
I.fF(i,C,S,x);var P=I.R(x.P());I.Vo(k,C,P,x);C=x;i=S;k=P}while((C.m+C.J)/2/F>400)F++;var n=i,R=C,Q=k,s=Math.floor(R.m/F),j=Math.floor(R.J/F);
i=I.R(s*j*4);I.scale.LO(n,R.m,R.J,i,s,j,1/F);k=I.R(s*j);I.scale.GV(Q,R.m,R.J,k,s,j,1/F);I.round(k,1);
if(l)console.log("scale down:",F,s,j);var _=I.yP(k,new j2(0,0,s,j));if(_.bs())return 1;var B=Math.round((_.m+_.J)/2/15);
if(l)console.log(Date.now()-L,"preprocess");L=Date.now();var N=I.R(s*j*4);I.amN(i,N);var a=Int16Array,O=new a(s*j*24),H=new a(64),q=new a(64),h=new a(64),D=new a(64);
for(var p=3;p<j-4;p++)for(var y=3;y<s-4;y++){var b=p*s+y;if(k[b]==255)continue;if(I.T5.acr(N,k,y,p,s,j,H,q,h)!=0)continue;
I.T5.Iz(H,D);var g=T*24;O[g]=y;O[g+1]=p;I.T5.EP(H,O,g+4,12);I.T5.Iz(q,D);I.T5.EP(q,O,g+16,4);I.T5.Iz(h,D);
I.T5.EP(h,O,g+20,4);var u=O[g+5],t=O[g+6];O[g+5]=O[g+16];O[g+6]=O[g+20];O[g+16]=u;O[g+20]=t;T++}if(T==0)return 2;
if(l)console.log(Date.now()-L,"FWHT computed");L=Date.now();var V=[];I.T5.D4(0,T-1,V,O,new a(2*24));
if(l)console.log(Date.now()-L,"KD tree computed");L=Date.now();var c=new Uint32Array(s*j*4);for(var Y=0;
Y<T;Y++){var Z=Y,G=I.T5.at9(Z,O,V,B);if(G==-1)continue;var J=Z*24,K=G*24,M=O[J],U=O[J+1],r=O[K],dS=O[K+1];
E+=I.T5.getError(K,J,O,1e99);var w=r-M,di=dS-U;c[(j+di)*2*s+(s+w)]+=1}if(l)console.log(Date.now()-L,"NN found");
L=Date.now();var eM=[],j5=1/(2*s);for(var Y=0;Y<c.length;Y++){if(c[Y]>0){var p=Math.floor(Y*j5),y=Y-p*2*s;
eM.push({x:y-s,y:p-j,b:c[Y],CI:-1})}}eM.sort(function(dI,dQ){return dQ.b-dI.b});var ds=new Int32Array(s*j),ba=[];
for(var Y=0;Y<s*j;Y++){if(k[Y]==255){ds[Y]=ba.length>>>1;ba.push(Y%s,Math.floor(Y/s))}else if(i[(Y<<2)+3]<200){ds[Y]=-2}else{ds[Y]=-1}}var gH=I.T5.aCa(s,j,eM,ds,ba);
if(gH==null){if(l)console.log("no appropriate labeling");return 3}var ir=gH.AP,top=gH.top;ir=I.T5.avF(ir,i,s,j,top,ds,ba);
if(l)console.log(Date.now()-L,"optimal labeling found");L=Date.now();var x=z.clone();x.sW(1,1);x=x.G_(R);
var iP=I.R(x.P()*4),iy=I.R(x.P());I.fF(n,R,iP,x);var iG=R.m,eg=R.J;for(var p=0;p<eg;p++)for(var y=0;
y<iG;y++){if(Q[p*iG+y]==0)continue;var du=Math.min(Math.floor(y/F),s-1),gh=Math.min(Math.floor(p/F),j-1),ga=ds[gh*s+du];
if(ga==-1)continue;var d5=ir[ga],fu=top[d5],ay=y+fu.x*F,c7=p+fu.y*F,eE=c7*iG+ay<<2,jn=(p-x.y+R.y)*x.m+(y-x.x+R.x)<<2;
iP[jn]=n[eE];iP[jn+1]=n[eE+1];iP[jn+2]=n[eE+2];iP[jn+3]=n[eE+3];iP[jn+3]=n[eE+3];iy[jn>>2]=d5+1}if(l)console.log(Date.now()-L,"copied back");
L=Date.now();I.rT.hV(iP,iy,x,null,1e3);if(l)console.log(Date.now()-L,"poisson smooth");L=Date.now();
I.fF(iP,x,e,z);return 0};I.T5.a4r=function(i,C,m,e,z,L){return I.T5.ev(i+z.x,C+z.y,m,e,L)?0:1e9};I.T5.avF=function(i,C,m,e,top,z,L){var l=Date.now(),x=L.length>>>1,S=[-1,0,0,-1,1,0,0,1],k=1e99,f=[],X=[],o=2*(x*2*3+x*2),A=null,P=0,F=0,n=0,R=1e99;
while(!0&&Date.now()<l+12e3){n++;var Q=null,s=k;for(var j=0;j<top.length;j++){var _=top[j],B=0,N=x+2,a=0;
for(var Y=0;Y<x;Y++){var O=L[Y*2],H=L[Y*2+1],q=top[i[Y]],h=I.T5.a4r(O,H,m,e,_,z),D=i[Y]==j?1e9:I.T5.a4r(O,H,m,e,q,z);
for(var k7=0;k7<4;k7++){if(k7==0&&O==0||k7==1&&H==0||k7==2&&O==m-1||k7==3&&H==e-1)continue;var T=S[2*k7],p=S[2*k7+1],y=O+T,b=H+p,g=z[b*m+y];
if(g==-2){}else if(g==-1){h+=3*I.T5.i_(y+_.x,b+_.y,y,b,m,e,C,z);h+=2*I.T5.i_(y+_.x+T,b+_.y+p,y+T,b+p,m,e,C,z);
D+=3*I.T5.i_(y+q.x,b+q.y,y,b,m,e,C,z);D+=2*I.T5.i_(y+q.x+T,b+q.y+p,y+T,b+p,m,e,C,z)}else if(k7>1){if(i[Y]==i[g]){var u=0;
u+=I.T5.i_(O+q.x,H+q.y,O+_.x,H+_.y,m,e,C,z);u+=I.T5.i_(y+q.x,b+q.y,y+_.x,b+_.y,m,e,C,z);f[B]=Y;f[B+1]=g;
X[B]=u;X[B+1]=u;B+=2}else{var t=top[i[g]],V=N,c=0,E=0,Z=0;N++;c+=I.T5.i_(O+q.x,H+q.y,O+_.x,H+_.y,m,e,C,z);
c+=I.T5.i_(y+q.x,b+q.y,y+_.x,b+_.y,m,e,C,z);E+=I.T5.i_(O+t.x,H+t.y,O+_.x,H+_.y,m,e,C,z);E+=I.T5.i_(y+t.x,b+t.y,y+_.x,b+_.y,m,e,C,z);
Z+=I.T5.i_(O+t.x,H+t.y,O+q.x,H+q.y,m,e,C,z);Z+=I.T5.i_(y+t.x,b+t.y,y+q.x,b+q.y,m,e,C,z);f[B]=Y;f[B+1]=V;
X[B]=c;X[B+1]=c;B+=2;f[B]=g;f[B+1]=V;X[B]=E;X[B+1]=E;B+=2;f[B]=V;f[B+1]=x+1;X[B]=Z;X[B+1]=0;B+=2}}}f[B]=x;
f[B+1]=Y;X[B]=h;X[B+1]=0;B+=2;f[B]=Y;f[B+1]=x+1;X[B]=D;X[B+1]=0;B+=2;a+=Math.min(h,D)}if(a>s)continue;
var G=I.eE.x3(N,B,x,x+1,f,X,s);if(G.MJ<s){s=G.MJ;var J=i.slice(0);I.T5.ahy(J,B,f,G.FJ,j,x);Q=J}}if(s*1>=k){break}k=s;
i=Q;if((n&3)==0){if(s*1.03>=R)break;R=s}if((n&3)==0){var K=0*top.length;for(var Y=0;Y<top.length&&top.length>K;
Y++){if(i.indexOf(Y)!=-1)continue;top.splice(Y,1);for(var g=0;g<i.length;g++)if(i[g]>Y)i[g]--;Y--}}}return i};
I.T5.ahy=function(i,C,m,e,z,L){for(var Y=0;Y<e.length;Y++){var l=e[Y]<<1,x=0,S=0;if(l<C){x=m[l];S=m[l+1]}else{S=m[l];
x=m[l+1]}if(x==L&&i[S]!=z)i[S]=z}};I.T5.ajD=function(top,i,C,m,e,z,L,l,x){for(var Y=0;Y<C.length;Y++){var S=C[Y],k=!0;
if(l!=null&&!I.T5.ev(l+S.x,x+S.y,z,L,m))continue;if(S.CI==-1)S.CI=I.T5.an9(S,m,e,z,L);if(S.CI<=0)continue;
for(var f=0;f<top.length;f++){var X=top[f],o=S.x-X.x,A=S.y-X.y;if(o*o+A*A<i){k=!1;break}}if(k)return S}return null};
I.T5.an9=function(i,C,m,e,z){var L=0;for(var Y=0;Y<m.length;Y+=2){var l=m[Y]+i.x,x=m[Y+1]+i.y;if(I.T5.ev(l,x,e,z,C))L++}return L/(m.length>>1)};
I.T5.aCa=function(i,C,m,e,z){var L=z.length>>>1,top=[];for(var Y=0;Y<60;Y++){var l=I.T5.ajD(top,25,m,e,z,i,C);
if(l==null)break;else top.push(l)}if(top.length==0)return null;var x=[];for(var Y=0;Y<L;Y++){var S=z[Y*2],k=z[Y*2+1],f=-1,X=0;
while(!0){X++;var o=Math.random();f=Math.floor(o*.99999*top.length);var A=top[f],P=S+A.x,F=k+A.y;if(I.T5.ev(P,F,i,C,e))break;
if(X>1e3){var l;l=I.T5.ajD(top,0,m,e,z,i,C,S,k);if(l==null)for(var n=0;n<4;n++){var R,Q,s=0;while(!0){R=~~(Math.random()*i);
Q=~~(Math.random()*C);if(I.T5.ev(R,Q,i,C,e))break;s++;if(s>500)throw"e"}l={x:R-S,y:Q-k,b:1,CI:-1};m.push(l);
top.push(l)}else top.push(l);X=0}}x.push(f)}return{top:top,AP:x}};I.T5.i_=function(i,C,m,e,z,L,l,x){if(i==m&&C==e)return 0;
if(i<0||C<0||i>=z||C>=L||m<0||e<0||m>=z||e>=L||x[C*z+i]!=-1||x[e*z+m]!=-1)return 1e7;var S=C*z+i<<2,k=e*z+m<<2,f=l[S]-l[k],X=l[S+1]-l[k+1],o=l[S+2]-l[k+2];
return 1+(f*f+X*X+o*o)};I.T5.ev=function(i,C,m,e,z){return i>=0&&i<m&&C>=0&&C<e&&z[C*m+i]==-1};I.T5.at9=function(i,C,m,e){var z=24*i,L=C[z],l=C[z+1],x=e*e,S=0,o=1e9;
while(m[S]!=99)if(C[z+m[S]]<m[S+1])S=m[S+2];else S=m[S+3];var k=m[S+1],f=m[S+2],X=-1;for(var Y=k;Y<=f;
Y++){var S=Y,A=S*24,P=C[A],F=C[A+1];if((P-L)*(P-L)+(F-l)*(F-l)<x)continue;var n=I.T5.getError(A,z,C,o);
if(n<o){o=n;X=S}}return X};I.T5.getError=function(i,C,m,e){var z=0;for(var L=4;L<24;L+=4){var l=m[C+L]-m[i+L],x=m[C+L+1]-m[i+L+1],S=m[C+L+2]-m[i+L+2],k=m[C+L+3]-m[i+L+3];
z+=l*l+x*x+S*S+k*k;if(z>=e)return z+1}return z};I.T5.D4=function(i,C,m,e,z){var L=16,o=0;if(C-i<=L){m.push(99,i,C);
return}I.T5.OO(i,C,e,z);var l=-1,x=-1;for(var Y=4;Y<24;Y++){var S=z[2*Y+1]-z[2*Y];if(S>x){x=S;l=Y}}var k=i+C>>1,f=I.T5.aCp(k,i,C,e,l),X=-1;
for(var Y=i;Y<=C;Y++)if(e[24*Y+l]==f){if(X==-1)X=Y;o=Y}if(i+8<X&&X-i>C-o)k=X;else if(o+1<C-8)k=o+1;else if(C-i<64){m.push(99,i,C);
return}else k=k;var A=m.length;m.push(l,f,0,0);m[A+2]=A+4;I.T5.D4(i,k-1,m,e,z);m[A+3]=m.length;I.T5.D4(k,C,m,e,z)};
I.T5.OO=function(i,C,m,e){for(var Y=0;Y<48;Y+=4){e[Y]=3e4;e[Y+1]=-3e4;e[Y+2]=3e4;e[Y+3]=-3e4}for(var Y=i;
Y<=C;Y++){var z=Y*24;for(var L=0;L<24;L++){var l=m[z+L],x=e[L<<1],S=e[(L<<1)+1];if(l<x)e[L<<1]=l;if(l>S)e[(L<<1)+1]=l}}};
I.T5.sN=function(i,C,m){var e=0,Y=0;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;
Y++;e=m[i+Y];m[i+Y]=m[C+Y];m[C+Y]=e;Y++};I.T5.sL=function(i,C,m,e){var z=m+e>>>1,L=i[24*z+C];while(m<=e){while(i[24*m+C]<L)m++;
while(i[24*e+C]>L)e--;if(m<=e){if(i[24*m+C]!=i[24*e+C])I.T5.sN(m*24,e*24,i);m++;e--}}return m};I.T5.aCp=function(i,C,m,e,z){var L=0;
while(C!=m){L=I.T5.sL(e,z,C,m);if(i<L)m=L-1;else C=L}return e[i*24+z]};I.T5.EP=function(i,C,m,e){for(var Y=0;
Y<e;Y++)C[m+Y]=i[Y]};I.T5.acr=function(i,C,m,e,z,L,l,x,S){var k=(e-3)*z+(m-3),f=k<<2;for(var X=0;X<8;
X++){if(C[k]+C[k+1]+C[k+2]+C[k+3]+C[k+4]+C[k+5]+C[k+6]+C[k+7]!=0||i[f+3]<200||i[f+7]<200||i[f+11]<200||i[f+15]<200||i[f+19]<200||i[f+23]<200||i[f+27]<200||i[f+31]<200)return 1;
var Y=X<<3;l[Y+0]=i[f+0];x[Y+0]=i[f+1];S[Y+0]=i[f+2];l[Y+1]=i[f+4];x[Y+1]=i[f+5];S[Y+1]=i[f+6];l[Y+2]=i[f+8];
x[Y+2]=i[f+9];S[Y+2]=i[f+10];l[Y+3]=i[f+12];x[Y+3]=i[f+13];S[Y+3]=i[f+14];l[Y+4]=i[f+16];x[Y+4]=i[f+17];
S[Y+4]=i[f+18];l[Y+5]=i[f+20];x[Y+5]=i[f+21];S[Y+5]=i[f+22];l[Y+6]=i[f+24];x[Y+6]=i[f+25];S[Y+6]=i[f+26];
l[Y+7]=i[f+28];x[Y+7]=i[f+29];S[Y+7]=i[f+30];f+=z<<2;k+=z}return 0};I.T5.Iz=function(i,C){C[0]=i[32]+i[0];
C[1]=i[33]+i[1];C[2]=i[34]+i[2];C[3]=i[35]+i[3];C[4]=i[36]+i[4];C[5]=i[37]+i[5];C[6]=i[38]+i[6];C[7]=i[39]+i[7];
C[8]=i[40]+i[8];C[9]=i[41]+i[9];C[10]=i[42]+i[10];C[11]=i[43]+i[11];C[12]=i[44]+i[12];C[13]=i[45]+i[13];
C[14]=i[46]+i[14];C[15]=i[47]+i[15];C[16]=i[48]+i[16];C[17]=i[49]+i[17];C[18]=i[50]+i[18];C[19]=i[51]+i[19];
C[20]=i[52]+i[20];C[21]=i[53]+i[21];C[22]=i[54]+i[22];C[23]=i[55]+i[23];C[24]=i[56]+i[24];C[25]=i[57]+i[25];
C[26]=i[58]+i[26];C[27]=i[59]+i[27];C[28]=i[60]+i[28];C[29]=i[61]+i[29];C[30]=i[62]+i[30];C[31]=i[63]+i[31];
C[32]=i[0]-i[32];C[33]=i[1]-i[33];C[34]=i[2]-i[34];C[35]=i[3]-i[35];C[36]=i[4]-i[36];C[37]=i[5]-i[37];
C[38]=i[6]-i[38];C[39]=i[7]-i[39];C[40]=i[8]-i[40];C[41]=i[9]-i[41];C[42]=i[10]-i[42];C[43]=i[11]-i[43];
C[44]=i[12]-i[44];C[45]=i[13]-i[45];C[46]=i[14]-i[46];C[47]=i[15]-i[47];C[48]=i[16]-i[48];C[49]=i[17]-i[49];
C[50]=i[18]-i[50];C[51]=i[19]-i[51];C[52]=i[20]-i[52];C[53]=i[21]-i[53];C[54]=i[22]-i[54];C[55]=i[23]-i[55];
C[56]=i[24]-i[56];C[57]=i[25]-i[57];C[58]=i[26]-i[58];C[59]=i[27]-i[59];C[60]=i[28]-i[60];C[61]=i[29]-i[61];
C[62]=i[30]-i[62];C[63]=i[31]-i[63];i[0]=C[16]+C[0];i[1]=C[17]+C[1];i[2]=C[18]+C[2];i[3]=C[19]+C[3];
i[4]=C[20]+C[4];i[5]=C[21]+C[5];i[6]=C[22]+C[6];i[7]=C[23]+C[7];i[8]=C[24]+C[8];i[9]=C[25]+C[9];i[10]=C[26]+C[10];
i[11]=C[27]+C[11];i[12]=C[28]+C[12];i[13]=C[29]+C[13];i[14]=C[30]+C[14];i[15]=C[31]+C[15];i[16]=C[0]-C[16];
i[17]=C[1]-C[17];i[18]=C[2]-C[18];i[19]=C[3]-C[19];i[20]=C[4]-C[20];i[21]=C[5]-C[21];i[22]=C[6]-C[22];
i[23]=C[7]-C[23];i[24]=C[8]-C[24];i[25]=C[9]-C[25];i[26]=C[10]-C[26];i[27]=C[11]-C[27];i[28]=C[12]-C[28];
i[29]=C[13]-C[29];i[30]=C[14]-C[30];i[31]=C[15]-C[31];C[0]=i[8]+i[0];C[1]=i[9]+i[1];C[2]=i[10]+i[2];
C[3]=i[11]+i[3];C[4]=i[12]+i[4];C[5]=i[13]+i[5];C[6]=i[14]+i[6];C[7]=i[15]+i[7];C[8]=i[0]-i[8];C[9]=i[1]-i[9];
C[10]=i[2]-i[10];C[11]=i[3]-i[11];C[12]=i[4]-i[12];C[13]=i[5]-i[13];C[14]=i[6]-i[14];C[15]=i[7]-i[15];
i[0]=C[4]+C[0];i[1]=C[5]+C[1];i[2]=C[6]+C[2];i[3]=C[7]+C[3];i[4]=C[0]-C[4];i[5]=C[1]-C[5];i[6]=C[2]-C[6];
i[7]=C[3]-C[7];i[8]=C[12]+C[8];i[9]=C[13]+C[9];i[10]=C[14]+C[10];i[11]=C[15]+C[11];i[12]=C[8]-C[12];
i[13]=C[9]-C[13];i[14]=C[10]-C[14];i[15]=C[11]-C[15];C[0]=i[2]+i[0];C[1]=i[3]+i[1];C[2]=i[0]-i[2];C[3]=i[1]-i[3];
C[4]=i[6]+i[4];C[5]=i[7]+i[5];C[6]=i[4]-i[6];C[7]=i[5]-i[7];C[8]=i[10]+i[8];C[9]=i[11]+i[9];C[10]=i[8]-i[10];
C[11]=i[9]-i[11];C[12]=i[14]+i[12];C[13]=i[15]+i[13];C[14]=i[12]-i[14];C[15]=i[13]-i[15];i[0]=C[1]+C[0];
i[1]=C[0]-C[1];i[2]=C[3]+C[2];i[3]=C[2]-C[3];i[4]=C[5]+C[4];i[5]=C[4]-C[5];i[6]=C[7]+C[6];i[7]=C[6]-C[7];
i[8]=C[9]+C[8];i[9]=C[8]-C[9];i[10]=C[11]+C[10];i[11]=C[10]-C[11];i[12]=C[13]+C[12];i[13]=C[12]-C[13];
i[14]=C[15]+C[14];i[15]=C[14]-C[15]};I.T5.ahG=function(){var i="",k7=64,C="v",m="t",e="a",z=5,Y,L,l;
for(Y=k7>>1;Y>0;Y>>=1,z--){for(L=0;L<k7;L++){l=(L>>z&1)!=0;if(l){i+=m+"["+L+"] = "+C+"["+(-Y+L)+"] - "+C+"["+L+"];  "}else{i+=m+"["+L+"] = "+C+"["+(Y+L)+"] + "+C+"["+L+"];  "}}e=C;
C=m;m=e;i+="\n"}console.log(i)};I.T5.af9=function(k7,i,C){var m=i,e=C,z=m,L=0,Y,x,S;while(k7>>L!=2)L++;
var l=L;for(Y=k7>>1;Y>0;Y>>=1,L--){for(x=0;x<k7;x++){S=(x>>L&1)!=0;if(S)e[x]=m[-Y+x]-m[x];else e[x]=m[Y+x]+m[x]}z=m;
m=e;e=z}if((l&1)==1)for(Y=0;Y<k7;Y++)C[Y]=m[Y]};I.WB={};I.WB.Vd=function(i,C,m,e,z,L,l,x,S){var k=Date.now(),f=new Uint32Array(i.buffer),X=new Uint32Array(C.buffer),o=l/m,A=x/e,P=1/o,F=1/A,n=new Float64Array(2),R=3,Q=1/R,s=1/(R*R),j=0,_=0,B=m,N=e;
if(z){j=z.x;_=z.y;B=z.m;N=z.J}for(var a=0;a<N;a++)for(var O=0;O<B;O++){var H=j+O,q=_+a,Y=q*m+H,h=Y<<1,D=Y<<2;
I.WB.aE1(L,l,x,(H+.5)*o,(q+.5)*A,n);var T=n[0]*P,p=n[1]*F;if(T==0&&p==0)X[Y]=f[Y];else{I.D.J6(H+T+.5,q+p+.5,f,m,e,X,Y,S)}}};
I.WB.aE1=function(i,C,m,e,z,L){e-=.499999;z-=.499999;var l=~~e,x=~~z,S=e-l,k=z-x,f=(1-k)*(1-S),X=(1-k)*S,o=k*(1-S),A=k*S,P=l<C-1?l+1:l,F=x<m-1?x+1:x,n=x*C+l<<1,R=x*C+P<<1,Q=F*C+l<<1,s=F*C+P<<1;
L[0]=f*i[n]+X*i[R]+o*i[Q]+A*i[s];L[1]=f*i[n+1]+X*i[R+1]+o*i[Q+1]+A*i[s+1]};I.WB.amE=function(i,C,m,e,z){var L=1/i,l=[-1,1,-i,i],x=e.length;
for(var S=0;S<x;S++){var Y=e[S],k=Y<<1,f=S<<1,X=~~(Y*L),o=Y-i*X,A=m[k],P=m[k+1],F=0,n=0;if(o!=0&&o!=i-1){var R=Y-1<<1,Q=Y+1<<1,s=m[R],j=m[Q],_=m[R+1],B=m[Q+1],N=A-(s+j)*.5,a=P-(_+B)*.5;
F-=N*z;n-=a*z}if(X!=0&&X!=C-1){var R=Y-i<<1,Q=Y+i<<1,s=m[R],j=m[Q],_=m[R+1],B=m[Q+1],N=A-(s+j)*.5,a=P-(_+B)*.5;
F-=N*z;n-=a*z}m[k]=A+F;m[k+1]=P+n}};I.WB.aoo=function(i,C){var m=i+","+C;if(I.WB.aze==m)return I.WB.a6P;
var e=I.WB.a6P=[];I.WB.aze=m;for(var Y=0;Y<=1e3;Y++){var z=Y*.001,L=Math.sqrt(z),l=Math.exp(-4*L),x=.96*(1-L*L),S=C*((1-i)*l+i*x);
e[Y]=S}return e};I.WB.aze="";I.WB.a6P=[];I.WB.a0O=function(i,C,m,e,z,L,l,x,S,k,f,X,o){var A=Math.max(0,Math.floor(z-l-1)),P=Math.min(C,Math.ceil(z+l+1)),F=Math.max(0,Math.floor(L-l-1)),n=Math.min(m,Math.ceil(L+l+1)),R=2*C,Q=l*l,s=1/l,j=0;
if(o&&(e==3||e==6))S=-S;var _=I.WB.aoo(x,S);for(var B=F;B<n;B++)for(var N=A;N<P;N++){var Y=B*C+N,a=Y<<1,O=(z-N)*s,H=(L-B)*s,q=O*O+H*H;
if(q<1){X[j]=Y;var h=_[~~(q*1e3)];if(e==1){i[a]=i[a]*(1-h*.05);i[a+1]=i[a+1]*(1-h*.05)}else{var D=0,T=0,b,g,u,t;
if(e==0){D=k*h;T=f*h}else if(e==2){}else if(e==3){D=h*H;T=-h*O}else if(e==4){D=h*O;T=h*H}else if(e==5){D=-h*O;
T=-h*H}else if(e==6){D=f*h;T=-k*h}var p=i[a],y=i[a+1];if(N==0||N!=C-1&&D<0){b=1+i[a+2]-p;u=i[a+3]-y}else{b=p-i[a-2]+1;
u=y-i[a-1]}if(B==0||B!=m-1&&T<0){g=i[a+R]-p;t=1+i[a+R+1]-y}else{g=p-i[a-R];t=y-i[a-R+1]+1}i[a]=-(b*D+g*T-p);
i[a+1]=-(u*D+t*T-y)}j++}}};I.WB.aD0=function(i){var C=i[0],m=i[0],e=i[1],z=i[1];for(var Y=0;Y<i.length;
Y+=2){var L=i[Y],l=i[Y+1];if(L<C)C=L;else if(L>m)m=L;if(l<e)e=l;else if(l>z)z=l}return[C,e,m,z]};I.ahj=function(i,C,m,e,z){function L(r,dS,w,di){return Math.sqrt((r-w)*(r-w)+(dS-di)*(dS-di))}function l(r,dS){return r>=0&&r<C&&dS>=0&&dS<m}function x(r){if(r<0)return 0;
if(r>=C)return C-1;return r}function S(r){if(r<0)return 0;if(r>=m)return m-1;return r}function k(Y,r){var dS=r[3]*(1/255),w=e[Y]+r[0]*dS;
if(w>255)w=255;e[Y]=w;w=e[Y+1]+r[1]*dS;if(w>255)w=255;e[Y+1]=w;w=e[Y+2]+r[2]*dS;if(w>255)w=255;e[Y+2]=w}function f(r,dS,w){if(!V(r,dS))return;
if(w[3]<0)w[3]=0;k((dS*C+r)*4,w)}function X(r){var dS=r.slice(0,3);dS[3]=0;return dS}var o=C/800;function A(r){return Math.round(r*o)}function P(){for(var Y=0;
Y<=300;Y++){E[Y]=F(Y)}}function F(m){var r=.8,dS=.2,w=r*dS,di=m/60%2-1,eM=w*(1-di*di),j5=dS-w,ds;if(m<60){ds=[w+j5,eM,0]}else if(m<120){ds=[eM,w,0]}else if(m<180){ds=[0,w,eM]}else if(m<240){ds=[0,eM,w]}else if(m<300){ds=[eM,0,w]}else{ds=[w,0,eM]}return[(ds[0]+j5)*255,(ds[1]+j5)*255,(ds[2]+j5)*255]}function n(m){return E[~~m]}function R(r){return 1-Q(r)}function Q(r){return r-~~r}function s(r,dS,w,di){u(r,dS,w,0,dS+1,1,di)}function j(r,dS,w,di,eM,j5){u(r,dS,w,0,di,1,eM,j5)}function _(r){for(var Y=0;
Y<e.length;Y+=4){k(Y,r)}}function B(r,dS,w,di,eM,j5,ds,ba){N(r,dS,w,di,eM,1,j5,ds,ba)}function N(r,dS,w,di,eM,j5,ds,ba,gH){if(j5==null)j5=.5;
if(ds==null)ds=0;if(ba==null)ba=0;if(gH==null)gH=!1;var ir=r.x,iP=r.y,iy=w.slice(0),iG=~~(w[3]*G);di=di*G;
if(!gH){dS=t(dS);eM=t(eM);ds=t(ds);ba=t(ba)}var eg=x(ir-dS),du=x(ir+dS);for(var gh=eg;gh<=du;gh++){var ga=gh-ir,d5=Math.floor(Math.sqrt(dS*dS-ga*ga)),fu=S(iP-d5),ay=S(iP);
for(var c7=fu;c7<=ay;c7++){var eE=L(gh,c7,ir,iP);if(eE>dS||eE<=dS-eM)break;var jn=(eE-dS+eM)/eM;iy[3]=iG-di*(j5==1?jn:Math.pow(jn,j5));
k((c7*C+gh)*4,iy)}fu=S(iP+d5);for(var c7=fu;c7>ay;c7--){var eE=L(gh,c7,ir,iP);if(eE>dS||eE<=dS-eM)break;
var jn=(eE-dS+eM)/eM;iy[3]=iG-di*(j5==1?jn:Math.pow(jn,j5));k((c7*C+gh)*4,iy)}}if(ds>0){u(r,dS+ds,iy,iy[3],ds,1,0,0,!0)}if(ba>0){u(r,dS-eM,c(w),-w[3],ba,1,0,0,!0)}}function a(r,dS,w,di,eM,j5){u(r,dS,w,w[3],dS+1,1,di,eM,j5)}function O(r,dS,w,di,eM){if(eM==null)eM=!1;
var j5=r.x,ds=r.y;di*=G;if(!eM){dS=t(dS);w=t(w)}var ba=x(j5-dS),gH=x(j5+dS);for(var ir=ba;ir<gH;ir++){var iP=ir-j5,iy=~~Math.sqrt(dS*dS-iP*iP),iG=S(ds-iy),eg=S(ds);
for(var du=iG;du<=eg;du++){var gh=L(ir,du,j5,ds);if(gh>dS||gh<=dS-w)break;var ga=(dS-gh)/w,d5=n(300*ga);
d5[3]=di;k((du*C+ir)*4,d5)}iG=S(ds+iy);for(var du=iG;du>eg;du--){var gh=L(ir,du,j5,ds);if(gh>dS||gh<=dS-w)break;
var ga=(dS-gh)/w,d5=n(300*ga);d5[3]=di;k((du*C+ir)*4,d5)}}}function H(Z,r){var dS=Z.oc,w=Z.V$,di=r.slice(0),eM=r[3]*G,j5=Math.abs(w.y-dS.y)>Math.abs(w.x-dS.x);
if(j5){var ds=dS.x;dS.x=dS.y;dS.y=ds;ds=w.x;w.x=w.y;w.y=ds}if(dS.x>w.x){var ds=dS;dS=w;w=ds}var ba=w.x-dS.x,gH=w.y-dS.y,ir=ba==0?1:gH/ba,iP=Math.round(dS.x),iy=dS.y+ir*(iP-dS.x),iG=R(dS.x+.5),eg=iP,du=~~iy;
if(j5){di[3]=eM*R(iy)*iG;f(du,eg,di);di[3]=eM*Q(iy)*iG;f(du+1,eg,di)}else{di[3]=eM*R(iy)*iG;f(eg,du,di);
di[3]=eM*Q(iy)*iG;f(eg,du+1,di)}var gh=iy-ir;iP=Math.round(w.x);iy=w.y+ir*(iP-w.x);iG=Q(w.x+.5);var ga=iP,d5=~~iy;
if(j5){di[3]=eM*R(iy)*iG;f(d5,ga,di);di[3]=eM*Q(iy)*iG;f(d5+1,ga,di)}else{di[3]=eM*R(iy)*iG;f(ga,d5,di);
di[3]=eM*Q(iy)*iG;f(ga,d5+1,di)}if(j5){for(var fu=eg+1;fu<=ga-1;fu++){di[3]=eM*R(gh);f(~~gh,fu,di);di[3]=eM*Q(gh);
f(~~gh+1,fu,di);gh+=ir}}else{for(var fu=eg+1;fu<=ga-1;fu++){di[3]=eM*R(gh);f(fu,~~gh,di);di[3]=eM*Q(gh);
f(fu,~~gh+1,di);gh+=ir}}}function q(r,dS,w,di){for(var Y=0;Y<4;Y++){var eM=r.IK(dS+1.3*Y,w);H(eM,di,1)}}function b5(r,dS){this.x=Math.round(r);
this.y=Math.round(dS)}var h=Math.PI/180;b5.prototype.IK=function(r,dS){r=r*h;var w=this.x+dS*Math.cos(r),di=this.y+dS*Math.sin(r);
return new D(this.x,this.y,w,di)};b5.prototype.acm=function(r,dS){r=r*h;var w=this.gA+dS*Math.cos(r),di=this.cL+dS*Math.sin(r);
return new b5(w,di)};function D(r,dS,w,di){this.oc=new b5(r,dS);this.V$=new b5(w,di)}D.prototype.pv=function(r){var dS=r*this.oc.x+(1-r)*this.V$.x,w=r*this.oc.y+(1-r)*this.V$.y;
return new b5(dS,w)};var T=B,p=a,y=s,b=j,g=O,u=N,t=A,V=l,c=X,E=[];P();for(var Y=0;Y<i.length;Y++){e[Y]=i[Y]}var Z=new D(C*z[2],m*z[3],C/2,m/2),G=z[1],J=[];
J[0]=function K(){var r=[80,40,15,60],w=0,di=0;y(Z.pv(1.4),260,r,10);y(Z.pv(1),100,[240,50,50,30],30);
p(Z.pv(1),60,[255,40,0,40]);var dS=[255,255,255,255];u(Z.pv(1),70,dS,dS[3],58,.5);y(Z.pv(1),12,dS);dS[3]=40;
T(Z.pv(1),150,dS,dS[3],150);for(var Y=0;Y<40;Y++){w+=Math.random()*25;di=Math.random()*t(300)+t(100);
var eM=Z.pv(1).IK(w,di);H(Z.pv(1).IK(w,di),[110,110,110,30])}p(Z.pv(1),130,[255,255,255,8]);var j5=[170,30,23,70];
b(Z.pv(1),70,j5,1,3,3);var ds=[60,60,130,40];y(Z.pv(.47),44,ds,5);y(Z.pv(.43),22,ds,3);ds[3]=16;y(Z.pv(.53),15,ds,2);
var ba=[138,94,42,100];y(Z.pv(.2),16,ba,2);var gH=[130,255,170,180];p(Z.pv(0),4,gH);p(Z.pv(-.25),5,gH);
ba=[150,90,0,50];T(Z.pv(-.45),55,c(ba),-ba[3],40,2);y(Z.pv(-.42),35,ba,2);y(Z.pv(-.5),15,ba,2);g(Z.pv(-1.28),145,11,70);
var ir=n(0);ir[3]=50;T(Z.pv(-1.28),149,ir,ir[3],4);ir=n(300);ir[3]=50;T(Z.pv(-1.28),155-1,c(ir),-ir[3],3);
var iP=[130,130,10,50];b(Z.pv(-1),73,iP,3,2);var iy=[40,130,70,40];T(Z.pv(-1),70,c(iy),-iy[3],35);iy=[40,170,60,50];
y(Z.pv(-.7),25,iy,4);var iy=[70,110,50,60];T(Z.pv(1.3),30,c(iy),-iy[3],11,3);ds=[0,50,210,80];p(Z.pv(-.72),20,ds)};
J[1]=function M(){p(Z.pv(1),150,[240,70,70,60]);y(Z.pv(1),100,[200,60,60,40],30);var r=[255,255,255,255],dS=0,w=0;
u(Z.pv(1),75,r,r[3],63);y(Z.pv(1),12,r);p(Z.pv(1),270,[200,200,200,20],10);for(var Y=0;Y<10;Y++){dS+=10+Math.random()*40;
w=Math.random()*t(250)+t(80);var di=Z.pv(1).IK(dS,w);H(di,[110,110,110,35])}dS=5;w=100;for(var Y=0;Y<12;
Y++){dS+=30;q(Z.pv(1),dS,w,[90,90,90,40])}var eM=[150,40,23,100];b(Z.pv(1),70,eM,1,3,3);var j5=[30,100,60,40];
p(Z.pv(-.9),180,[255,255,255,20]);y(Z.pv(-.9),140,j5,15);var ds=[170,80,25,15];b(Z.pv(-.9),120,ds,1,4,4);
var ba=[110,240,190,200];p(Z.pv(-.6),3,ba);ba[3]=100;p(Z.pv(-.6),7,ba);var gH=[230,120,40,85];p(Z.pv(-.73),9,gH);
var ir=[60,60,190,50];y(Z.pv(.3),28,ir,6);ir[3]=25;y(Z.pv(.34),20,ir,3)};J[2]=function U(){var r=[255,255,255,255],w=0,di=0;
y(Z.pv(1),13,r);u(Z.pv(1),150,r,r[3],137);var dS=[120,80,35,20];y(Z.pv(1.4),260,dS,10);for(var Y=0;Y<40;
Y++){w+=5+Math.random()*30;di=Math.random()*t(300);H(Z.pv(1).IK(w,di),[110,110,110,20])}var eM=[10,30,255,30];
y(Z.pv(1),70,eM,50);var j5=[15,90,170,15];y(Z.pv(1.5),60,j5);var ds=[220,220,20,50];y(Z.pv(-1.15),8,ds,2);
var r=[255,255,255,40];p(Z.pv(-1.18),6,r);p(Z.pv(-1.18),4,r);ds=[110,110,10,8];T(Z.pv(-1.2),32,c(ds),-ds[3],20,3);
var ba=[5,0,16,255];for(var Y=0;Y<4;Y++){y(Z.pv(-1.36),10,ba,3)}var gH=[90,200,150,20],ir=gH.slice(0);
ir[3]*=2;y(Z.pv(-1.32),7,ir,3);y(Z.pv(-1.36),7,ir,3);y(Z.pv(-1.4),7,ir,3);var r=[230,230,230,100];p(Z.pv(-1.36),2,r);
r[3]=3;y(Z.pv(-.55),10,r);ds=[120,100,10,18];y(Z.pv(-.55),160,ds,8);y(Z.pv(-.55),80,ds,4);gH[3]=3;ir[3]=6;
T(Z.pv(-.49),13,c(ir),-ir[3],13,2);T(Z.pv(-.55),13,c(ir),-ir[3],13,2);gH[3]=20;y(Z.pv(.15),25,gH,3);
ds[3]=100;p(Z.pv(-.52),3,ds);ds=[200,200,50,40];y(Z.pv(.27),1,ds,4);var iP=[150,40,23,30];T(Z.pv(1),80,c(iP),-iP[3],2,1)};
return J[z[0]]()};I.OT={};I.OT.S4=function(i){var C=i.length,k7=i[0].length,m=new Array(k7);for(var Y=0;
Y<k7;Y++)m[Y]=new Array(C);for(var Y=0;Y<k7;Y++)for(var e=0;e<C;e++)m[Y][e]=i[e][Y];return m};I.OT._3=function(i,C){var m=i.length,k7=i[0].length,e=new Array(m);
for(var Y=0;Y<m;Y++)e[Y]=new Array(k7);for(var Y=0;Y<m;Y++)for(var z=0;z<k7;z++)e[Y][z]=i[Y][z]-C[Y][z];
return e};I.OT.add=function(i,C){var m=i.length,k7=i[0].length,e=new Array(m);for(var Y=0;Y<m;Y++)e[Y]=new Array(k7);
for(var Y=0;Y<m;Y++)for(var z=0;z<k7;z++)e[Y][z]=i[Y][z]+C[Y][z];return e};I.OT.multiply=function(i,C){var m=i.length,e=i[0].length,k7=C[0].length;
if(e!=C.length)throw"e";var z=new Array(m);for(var Y=0;Y<m;Y++)z[Y]=new Array(k7);if((e&1)!=0)for(var Y=0;
Y<m;Y++){var L=i[Y],l=z[Y];for(var x=0;x<k7;x++){var S=0;for(var k=0;k<e;k++)S+=L[k]*C[k][x];l[x]=S}}else for(var Y=0;
Y<m;Y++){var L=i[Y],l=z[Y];for(var x=0;x<k7;x++){var S=0;for(var k=0;k<e;k+=2)S+=L[k]*C[k][x]+L[k+1]*C[k+1][x];
l[x]=S}}return z};I.OT.oN=function(i,C){var m=i.length,k7=i[0].length,e=new Array(m);for(var Y=0;Y<m;
Y++){var z=0;for(var L=0;L<k7;L++)z+=i[Y][L]*C[L];e[Y]=z}return e};I.OT.Qd=function(i,C){var m=[];for(var Y=0;
Y<i;Y++){m.push([]);for(var e=0;e<C;e++)m[Y].push(0)}return m};I.OT.afK=function(i){for(var Y=0;Y<i.length;
Y++)console.log(JSON.stringify(i[Y]))};I.OT.avi=function(i){var C=[];for(var Y=0;Y<i.length;Y++)C.push(i[Y].join(","));
return"["+C.join(";")+"]"};I.OT.x3=function(i,C){var m=i.length;for(var e=0;e<m;e++){var z=0,L=Number.NEGATIVE_INFINITY;
for(var Y=e;Y<m;Y++)if(Math.abs(i[Y][e])>L){z=Y;L=Math.abs(i[Y][e])}I.OT.a54(i,e,z);for(var Y=e+1;Y<m;
Y++){if(i[e][e]==0)return 1;var l=i[Y][e]/i[e][e];for(var x=e;x<m+1;x++)i[Y][x]-=i[e][x]*l}}for(var Y=m-1;
Y>=0;Y--){if(i[Y][Y]==0)return 1;var S=i[Y][m]/i[Y][Y];C[Y]=S;for(var x=Y-1;x>=0;x--){i[x][m]-=i[x][Y]*S;
i[x][Y]=0}}return 0};I.OT.a54=function(i,C,m){var e=i[C];i[C]=i[m];i[m]=e};I.OT.aAw=function(i){var C=i.length,m=I.OT.Qd(C,C);
for(var Y=0;Y<C;Y++)m[Y][Y]=i[Y];return m};I.OT.adH=function(i){var C=i.length,m=i[0].length,e=new Array(C);
for(var Y=0;Y<C;Y++){e[Y]=0;for(var z=0;z<m;z++)e[Y]+=i[Y][z];e[Y]/=m}return e};I.OT.uI=function(i){var C=0;
for(var Y=0;Y<i.length;Y++)C+=i[Y]*i[Y];return Math.sqrt(C)};I.X$={};I.X$.yb=function(i){var C=~~(i+.5);
return C<0?0:C>255?255:C};I.X$.transform=function(i,C,m){var e=I.X$.yb,z=i.Z.length;for(var Y=0;Y<z;
Y++){var L=i.Z[Y],l=i.r[Y],x=i.e[Y];C.Z[Y]=e(m[0]*L+m[1]*l+m[2]*x+m[3]*255);C.r[Y]=e(m[4]*L+m[5]*l+m[6]*x+m[7]*255);
C.e[Y]=e(m[8]*L+m[9]*l+m[10]*x+m[11]*255)}};I.X$.aCC=function(i,C,m){var e=I.X$.yb,z=i.length;for(var Y=0;
Y<z;Y+=4){var L=i[Y],l=i[Y+1],x=i[Y+2];C[Y]=e(m[0]*L+m[1]*l+m[2]*x+m[3]*255);C[Y+1]=e(m[4]*L+m[5]*l+m[6]*x+m[7]*255);
C[Y+2]=e(m[8]*L+m[9]*l+m[10]*x+m[11]*255)}};I.X$.ai4=function(i){var C=i[0]+i[1]+i[2],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(C==1){var e=i.indexOf(1);m[e]=m[e+4]=m[e+8]=1}else{m[0]=i[0];m[5]=i[1];m[10]=i[2]}return m};I.X$.C7=function(i,C,m){return[1,0,0,i,0,1,0,C,0,0,1,m,0,0,0,1]};
I.X$.Kc=function(i,C,m){return[i,0,0,0,0,C,0,0,0,0,m,0,0,0,0,1]};I.X$.ayT=function(i){return[i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]]};
I.X$.MX=function(i){return[i[0],i[1],i[2],0,i[3],i[4],i[5],0,i[6],i[7],i[8],0,0,0,0,1]};I.X$.eq=function(i,C){return[i[0]*C[0]+i[1]*C[1]+i[2]*C[2]+i[3]*C[3],i[4]*C[0]+i[5]*C[1]+i[6]*C[2]+i[7]*C[3],i[8]*C[0]+i[9]*C[1]+i[10]*C[2]+i[11]*C[3],i[12]*C[0]+i[13]*C[1]+i[14]*C[2]+i[15]*C[3]]};
I.X$.S4=function(i){var C=[];C[0]=i[0];C[1]=i[4];C[2]=i[8];C[3]=i[12];C[4]=i[1];C[5]=i[5];C[6]=i[9];
C[7]=i[13];C[8]=i[2];C[9]=i[6];C[10]=i[10];C[11]=i[14];C[12]=i[3];C[13]=i[7];C[14]=i[11];C[15]=i[15];
return C};I.X$.add=function(i,C){var m=i.slice(0);for(var Y=0;Y<16;Y++)m[Y]+=C[Y];return m};I.X$.multiply=function(i,C){var m=[];
m[0]=i[0]*C[0]+i[1]*C[4]+i[2]*C[8]+i[3]*C[12];m[1]=i[0]*C[1]+i[1]*C[5]+i[2]*C[9]+i[3]*C[13];m[2]=i[0]*C[2]+i[1]*C[6]+i[2]*C[10]+i[3]*C[14];
m[3]=i[0]*C[3]+i[1]*C[7]+i[2]*C[11]+i[3]*C[15];m[4]=i[4]*C[0]+i[5]*C[4]+i[6]*C[8]+i[7]*C[12];m[5]=i[4]*C[1]+i[5]*C[5]+i[6]*C[9]+i[7]*C[13];
m[6]=i[4]*C[2]+i[5]*C[6]+i[6]*C[10]+i[7]*C[14];m[7]=i[4]*C[3]+i[5]*C[7]+i[6]*C[11]+i[7]*C[15];m[8]=i[8]*C[0]+i[9]*C[4]+i[10]*C[8]+i[11]*C[12];
m[9]=i[8]*C[1]+i[9]*C[5]+i[10]*C[9]+i[11]*C[13];m[10]=i[8]*C[2]+i[9]*C[6]+i[10]*C[10]+i[11]*C[14];m[11]=i[8]*C[3]+i[9]*C[7]+i[10]*C[11]+i[11]*C[15];
m[12]=i[12]*C[0]+i[13]*C[4]+i[14]*C[8]+i[15]*C[12];m[13]=i[12]*C[1]+i[13]*C[5]+i[14]*C[9]+i[15]*C[13];
m[14]=i[12]*C[2]+i[13]*C[6]+i[14]*C[10]+i[15]*C[14];m[15]=i[12]*C[3]+i[13]*C[7]+i[14]*C[11]+i[15]*C[15];
return m};I.X$.Fb=function(i){var C=[];C[0]=i[5]*i[10]*i[15]-i[5]*i[14]*i[11]-i[6]*i[9]*i[15]+i[6]*i[13]*i[11]+i[7]*i[9]*i[14]-i[7]*i[13]*i[10];
C[1]=-i[1]*i[10]*i[15]+i[1]*i[14]*i[11]+i[2]*i[9]*i[15]-i[2]*i[13]*i[11]-i[3]*i[9]*i[14]+i[3]*i[13]*i[10];
C[2]=i[1]*i[6]*i[15]-i[1]*i[14]*i[7]-i[2]*i[5]*i[15]+i[2]*i[13]*i[7]+i[3]*i[5]*i[14]-i[3]*i[13]*i[6];
C[3]=-i[1]*i[6]*i[11]+i[1]*i[10]*i[7]+i[2]*i[5]*i[11]-i[2]*i[9]*i[7]-i[3]*i[5]*i[10]+i[3]*i[9]*i[6];
C[4]=-i[4]*i[10]*i[15]+i[4]*i[14]*i[11]+i[6]*i[8]*i[15]-i[6]*i[12]*i[11]-i[7]*i[8]*i[14]+i[7]*i[12]*i[10];
C[5]=i[0]*i[10]*i[15]-i[0]*i[14]*i[11]-i[2]*i[8]*i[15]+i[2]*i[12]*i[11]+i[3]*i[8]*i[14]-i[3]*i[12]*i[10];
C[6]=-i[0]*i[6]*i[15]+i[0]*i[14]*i[7]+i[2]*i[4]*i[15]-i[2]*i[12]*i[7]-i[3]*i[4]*i[14]+i[3]*i[12]*i[6];
C[7]=i[0]*i[6]*i[11]-i[0]*i[10]*i[7]-i[2]*i[4]*i[11]+i[2]*i[8]*i[7]+i[3]*i[4]*i[10]-i[3]*i[8]*i[6];C[8]=i[4]*i[9]*i[15]-i[4]*i[13]*i[11]-i[5]*i[8]*i[15]+i[5]*i[12]*i[11]+i[7]*i[8]*i[13]-i[7]*i[12]*i[9];
C[9]=-i[0]*i[9]*i[15]+i[0]*i[13]*i[11]+i[1]*i[8]*i[15]-i[1]*i[12]*i[11]-i[3]*i[8]*i[13]+i[3]*i[12]*i[9];
C[10]=i[0]*i[5]*i[15]-i[0]*i[13]*i[7]-i[1]*i[4]*i[15]+i[1]*i[12]*i[7]+i[3]*i[4]*i[13]-i[3]*i[12]*i[5];
C[11]=-i[0]*i[5]*i[11]+i[0]*i[9]*i[7]+i[1]*i[4]*i[11]-i[1]*i[8]*i[7]-i[3]*i[4]*i[9]+i[3]*i[8]*i[5];C[12]=-i[4]*i[9]*i[14]+i[4]*i[13]*i[10]+i[5]*i[8]*i[14]-i[5]*i[12]*i[10]-i[6]*i[8]*i[13]+i[6]*i[12]*i[9];
C[13]=i[0]*i[9]*i[14]-i[0]*i[13]*i[10]-i[1]*i[8]*i[14]+i[1]*i[12]*i[10]+i[2]*i[8]*i[13]-i[2]*i[12]*i[9];
C[14]=-i[0]*i[5]*i[14]+i[0]*i[13]*i[6]+i[1]*i[4]*i[14]-i[1]*i[12]*i[6]-i[2]*i[4]*i[13]+i[2]*i[12]*i[5];
C[15]=i[0]*i[5]*i[10]-i[0]*i[9]*i[6]-i[1]*i[4]*i[10]+i[1]*i[8]*i[6]+i[2]*i[4]*i[9]-i[2]*i[8]*i[5];var m=i[0]*C[0]+i[1]*C[4]+i[2]*C[8]+i[3]*C[12];
for(var Y=0;Y<16;Y++)C[Y]/=m;return C};I.X$.aA1=function(i){var C=[],m=i[5]*i[10]*i[15]-i[5]*i[14]*i[11]-i[6]*i[9]*i[15]+i[6]*i[13]*i[11]+i[7]*i[9]*i[14]-i[7]*i[13]*i[10],e=-i[4]*i[10]*i[15]+i[4]*i[14]*i[11]+i[6]*i[8]*i[15]-i[6]*i[12]*i[11]-i[7]*i[8]*i[14]+i[7]*i[12]*i[10],z=i[4]*i[9]*i[15]-i[4]*i[13]*i[11]-i[5]*i[8]*i[15]+i[5]*i[12]*i[11]+i[7]*i[8]*i[13]-i[7]*i[12]*i[9],L=-i[4]*i[9]*i[14]+i[4]*i[13]*i[10]+i[5]*i[8]*i[14]-i[5]*i[12]*i[10]-i[6]*i[8]*i[13]+i[6]*i[12]*i[9];
return i[0]*m+i[1]*e+i[2]*z+i[3]*L};I.X$.N8=function(i,C,m,e){var z=Math.sin(e),L=Math.cos(e),l=1/Math.sqrt(i*i+C*C+m*m);
i*=l;C*=l;m*=l;return I.X$.MX([i*i*(1-L)+L,i*C*(1-L)-m*z,i*m*(1-L)+C*z,i*C*(1-L)+m*z,C*C*(1-L)+L,C*m*(1-L)-i*z,i*m*(1-L)-C*z,C*m*(1-L)+i*z,m*m*(1-L)+L])};
I.X$.tC=I.X$.MX([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
I.X$.ati=I.X$.MX([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
I.X$.aqT=I.X$.Fb(I.X$.tC);I.eE={};I.eE.ae=new Uint32Array(1);I.eE.ax2=function(i,C,m,e,z,L){var l=new Uint32Array(i),x=0,S=I.eE.ae;
if(S.length<C*4)I.eE.ae=S=new Uint32Array(C*4);var k=new Float64Array(S.buffer);for(var Y=0;Y<C;Y+=2){var f=z[Y],X=z[Y+1],o=L[Y],A=L[Y+1];
S[x]=X;k[x+2>>1]=o;S[x+1]=l[f];l[f]=x+1;x+=4;S[x]=f;k[x+2>>1]=A;S[x+1]=l[X];l[X]=x+1;x+=4}return{aa:S,avV:k,acK:l}};
I.eE.x3=function(i,C,m,e,z,L,l){var x=1,S=I.eE.ax2(i,C,m,e,z,L),k=S.aa,f=S.avV,X=S.acK,o=new Uint32Array(i),A=new I.eE.dw(i),F=1,j=0;
A.push(m);A.push(e);var P=new I.eE.dw(i),n=new Uint8Array(i),R=new Uint32Array(i);n[m]=1;n[e]=2;var Q=new Uint32Array(i),s=new Uint32Array(i);
s[m]=s[e]=0;Q[m]=Q[e]=1;while(!0){var _=-1,h=0,y=1e30;while(!A.Lw()&&_==-1){var B=A.top(),N=n[B],a=X[B]-1;
while(a!=-1){var O=k[a],H=n[O],q=a^N-1<<2;if(f[q+2>>1]!=0){if(H==0){I.eE.A$(B,a,O,n,R,s,Q);A.push(O)}else if(H==N&&Q[O]<=Q[B]&&s[O]>s[B])I.eE.A$(B,a,O,n,R,s,Q);
else if(H!=N){_=q}}a=k[a+1]-1}if(_!=-1)break;A.pop()}if(_==-1){break}F++;var D=_;while(D!=-1){o[h]=D;
h++;D=R[k[D^4]]-1}var T=h>>1;for(var Y=0;Y<T;Y++){var p=o[Y];o[Y]=o[h-Y-1];o[h-Y-1]=p}D=R[k[_]]-1;while(D!=-1){o[h]=D^4;
h++;D=R[k[D^4]]-1}for(var Y=0;Y<h;Y++)y=Math.min(y,f[o[Y]+2>>1]);j+=y;if(j>=l)return{FJ:null,MJ:j};for(var Y=0;
Y<h;Y++){var b=o[Y],g=b^4,B=k[g],O=k[b];f[b+2>>1]-=y;f[g+2>>1]+=y;if(f[b+2>>1]==0&&n[B]==n[O]){if(n[B]==1){R[O]=0;
P.push(O)}if(n[B]==2){R[B]=0;P.push(B)}}}while(!P.Lw()){var B=P.pop(),N=n[B],a=X[B]-1,u=N==1?4:0,t=0,V=0,c=1e9;
while(a!=-1){var O=k[a],E=a^4,q=a^u;if(n[O]==N&&f[q+2>>1]>0&&I.eE.a42(O,m,e,R,k,F,Q,s)+1<c){t=O;V=E;
c=s[O]+1}a=k[a+1]-1}if(V!=0){I.eE.A$(t,V,B,n,R,s,Q);continue}a=X[B]-1;while(a!=-1){var O=k[a],q=a^u;
if(n[O]==N){if(f[q+2>>1]>0){A.push(O)}if(R[O]==a+1){R[O]=0;P.push(O)}}a=k[a+1]-1}n[B]=0;A.remove(B)}}var Z=[];
for(var Y=0;Y<C;Y+=2){var B=z[Y],O=z[Y+1];if(n[B]==1&&n[O]!=1){Z.push(Y>>1)}if(n[O]==1&&n[B]!=1){Z.push(C+Y>>1)}}return{FJ:Z,MJ:j}};
I.eE.A$=function(i,C,m,e,z,L,l){e[m]=e[i];z[m]=C+1;L[m]=L[i]+1;l[m]=l[i]};I.eE.a42=function(i,C,m,e,z,L,l,x){var S=i,k=e[i]-1,f=0;
while(k!=-1&&l[i]!=L){i=z[k^4];k=e[i]-1;f++}if(k==-1&&i!=C&&i!=m)return 1e9;var X=x[i]+f;f=0;k=e[S]-1;
while(S!=i){x[S]=X-f;f++;l[S]=L;S=z[k^4];k=e[S]-1}return X};I.eE.asb=function(i,C,m,e,z,L){var l=I.eE.ax2(i,C,m,e,z,L),x=l.aa,S=l.avV,k=l.acK,f=0,X=0,o=new Uint32Array(i*2),A=new I.eE.a4d(i),P=0;
while(!0){A.reset();A.push(m);for(var Y=0;Y<i;Y++)o[Y<<1]=0;while(!A.Lw()){var F=A.pop(),n=k[F]-1;while(n!=-1){P=x[n];
if(o[P<<1]==0&&S[n+2>>1]>0&&P!=m){o[P<<1]=F+1;o[(P<<1)+1]=n;A.push(P)}n=x[n+1]-1}if(o[e<<1]!=0){break}}if(o[e<<1]==0){break}var R=1e30;
P=e;while(!0){var Q=o[P<<1]-1;if(Q==-1)break;var s=o[(P<<1)+1];R=Math.min(R,S[s+2>>1]);P=Q}P=e;while(!0){var Q=o[P<<1]-1;
if(Q==-1)break;var s=o[(P<<1)+1],j=s^4;S[s+2>>1]-=R;S[j+2>>1]+=R;P=Q}f+=R}var _=[];for(var Y=0;Y<C;Y+=2){var Q=z[Y],P=z[Y+1];
if((o[Q<<1]!=0||Q==m)&&o[P<<1]==0&&P!=m){_.push(Y>>1)}if((o[P<<1]!=0||P==m)&&o[Q<<1]==0&&Q!=m){_.push(C+Y>>1)}}return{FJ:_,MJ:f}};
I.eE.a4d=function(i){i|=i>>1;i|=i>>2;i|=i>>4;i|=i>>8;i|=i>>16;this.Y8=new Uint32Array(i+1);this.cK=i;
this.Vj=0;this.rG=0};I.eE.a4d.prototype={push:function(i){var C=this.rG;this.Y8[C]=i;this.rG=C+1&this.cK},pop:function(){var i=this.Vj,C=this.Y8[i];
this.Vj=i+1&this.cK;return C},Lw:function(){return this.Vj==this.rG},reset:function(){this.Vj=0;this.rG=0}};
I.eE.dw=function(i){i|=i>>1;i|=i>>2;i|=i>>4;i|=i>>8;i|=i>>16;this.Y8=new Uint32Array(i+1);this.iB=new Uint32Array(i+1);
this.cK=i;this.Vj=0;this.rG=0};I.eE.dw.prototype={top:function(){return this.Y8[this.Vj]},aBC:function(){return this.Y8[this.rG]},push:function(i){if(this.iB[i]!=0)return;
this.iB[i]=this.rG+1;var C=this.rG;this.Y8[C]=i;this.rG=C+1&this.cK},pop:function(){var i=this.Vj,C=this.Y8[i];
this.iB[C]=0;this.Vj=i+1&this.cK;return C},Lw:function(){return this.Vj==this.rG},remove:function(i){var C=this.iB[i]-1;
if(C==-1)return;this.iB[i]=0;if(C==this.Vj){this.pop();return}var m=this.pop();this.Y8[C]=m;this.iB[m]=C+1},dA:function(Y){return Y+this.cK+1&this.cK}};
I.eE.ac7=function(i,C,m){var e=I.eE.sL(i,C,m);if(C<e-1)I.eE.ac7(i,C,e-1);if(e<m)I.eE.ac7(i,e,m)};I.eE.sL=function(i,C,m){var e=i[C+m>>>1];
while(C<=m){while(i[C]<e)C++;while(i[m]>e)m--;if(C<=m){I.eE.sN(i,C,m);C++;m--}}return C};I.eE.sN=function(i,C,m){var e=i[C];
i[C]=i[m];i[m]=e};I.Hn=function(){var i,C;function m(l,x,k7){var S=k7-1,k=x+k7;i[k7-2]=l[k-2];C[0]=l[k-1];
var f=Math.max;for(var Y=1;Y<S;Y++){i[k7-2-Y]=f(i[k7-1-Y],l[k-2-Y]);C[Y]=f(C[Y-1],l[k-1+Y])}for(var Y=0;
Y<S;Y++)l[x+Y]=f(i[Y],C[Y])}function e(l,x,k7){var S=k7-1,k=Math.ceil(x/S)*S;for(var f=0;f<k;f+=S)m(l,f,k7)}function z(l,x,S,k,k7,f){x.set(l);
if(k7==1)return;i=I.R(k7-1);C=I.R(k7-1);var X=k7>>>1,o=I.R(Math.ceil(Math.max(S,k)/(k7-1))*(k7-1)+(k7-2)),A=new Uint8Array(o.buffer,0,S);
if(!f)I.Fb(x);for(var P=0;P<k;P++){o.fill(0);o.set(new Uint8Array(x.buffer,P*S,S),X);e(o,S,k7);x.set(A,P*S)}for(var F=0;
F<S;F++){o.fill(0);for(var P=0;P<k;P++)o[P+X]=x[P*S+F];e(o,k,k7);for(var P=0;P<k;P++)x[P*S+F]=o[P]}if(!f)I.Fb(x)}function L(l,x,S,k,k7,f){var X=I.R(S*k);
for(var o=0;o<4;o++){I.Ud(l,X,o);if(o==3)I.Fb(X);z(X,X,S,k,k7,f);if(o==3)I.Fb(X);I.uC(X,x,o)}}return{LR:z,aw2:L}}();
I.ta={};I.ta.adY=function(i){for(var Y=0;Y<i.length;Y++)I.ta.mR(i,Y)};I.ta.mR=function(i,Y){i[Y].v.keyShapeInvalidated={t:"bool",v:!0}};
I.ta.ajy=function(i){for(var Y=0;Y<i.length;Y++)i[Y].v.keyOriginIndex.v=Y};I.ta.T9=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
I.ta.b_=function(i){i=i.v;var C={Rctn:2,Ln:4,Elps:5},m=C[i.classID],e=i.topLeft?I.ta.a8x(i):null,z=null,L=0,l=[!1,!1,0,0,0];
if(m==4){var x=i.Strt.v,S=i.End.v;z=[x.Hrzn.v.val,x.Vrtc.v.val,S.Hrzn.v.val,S.Vrtc.v.val];L=i.Wdth.v.val;
for(var Y=0;Y<2;Y++){var k=i[Y==0?"StrA":"EndA"];if(k==null)continue;k=k.v;l[Y]=k.On.v;l[2]=k.Wdth.v;
l[3]=k.Lngt.v;l[4]=k.Cncv.v.val}}if(m==null)return null;return I.ta.K0(m,m==4?null:I.ta.Yt(i),e,z,L,l)};
I.ta.lh=function(i,C,m,e,z,L,l){var x={classID:i,unitValueQuadVersion:{t:"long",v:1}};if(C)I.ta.ex(x,["Left","Top","Rght","Btom"],C);
if(m)I.ta.ex(x,["topLeft","topRight","bottomRight","bottomLeft"],m);if(i=="Ln"){x.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e[1]}}}},x.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e[3]}}}},x.Wdth={t:"UntF",v:{type:"#Pxl",val:z}};
for(var Y=0;Y<2;Y++){var S=Y==0?"StrA":"EndA";x[S]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:l[Y]},Wdth:{t:"doub",v:l[2]},Lngt:{t:"doub",v:l[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:l[4]}}}}}}if(L)x.Nm={t:"TEXT",v:L};
return{t:"Objc",v:x}};I.ta.acQ=function(i,C){var m=I.ta._v(i),e=i[2]-i[0],z=i[3]-i[1],L=Math.sqrt(e*e+z*z),l=[0,0,L,0,L,C,0,C],x=new hN;
x.rotate(-m);x.translate(i[0],i[1]);I.C.i(l,x,l);return l};I.ta.K0=function(i,C,m,e,z,L){var l=I.ta.T9(),x=l.v,S;
delete x.keyShapeInvalidated;x.keyOriginType={t:"long",v:i};x.keyOriginResolution={t:"doub",v:75};if(i==4){x.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:e[0]},Vrtc:{t:"doub",v:e[1]}}};
x.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:e[2]},Vrtc:{t:"doub",v:e[3]}}};S=I.ta.acQ(e,z);
var k=I.C.OO(S);C=[k.x,k.y,k.x+k.m,k.y+k.J];x.keyOriginLineWeight={t:"doub",v:z};if(L)I.ta.adi(x,L)}else S=[C[0],C[1],C[2],C[1],C[2],C[3],C[0],C[3]];
x.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};I.ta.M7(x,"keyOriginBoxCorners",S);var f={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
x.keyOriginShapeBBox={t:"Objc",v:f};I.ta.anI(x,C);if(m!=null){var X={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
x.keyOriginRRectRadii={t:"Objc",v:X};I.ta.r0(x,m)}return l};I.ta.i=function(i,C,m,e){var z=I.D.aD$(C),L=I.D.adZ(C),l=I.D.YD(C),x=l.W*l.o6-l.e*l.xF;
for(var Y=0;Y<i.length;Y++){var S=i[Y].v;if(!I.ta.GL(S))continue;if(m.length!=0&&m.indexOf(Y)==-1)continue;
var k=S.keyOriginType.v,f=C;if(x<0&&k==2){var X=I.ta.vg(S),o=0;o=X[0];X[0]=X[1];X[1]=o;o=X[2];X[2]=X[3];
X[3]=o;I.ta.r0(S,X);var A=I.ta.q$(S,"keyOriginBoxCorners"),P=I.C.OO(A),F=P.x+P.m/2,n=new hN;n.translate(-F,0);
n.scale(-1,1);n.translate(F,0);f=I.D.oW(f,I.D.fL(n))}var R=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var Q=0;Q<R.length;Q++){var A=I.ta.q$(S,R[Q]);if(A==null)continue;I.D.i(f,A);I.ta.M7(S,R[Q],A);var P=I.C.OO(A);
I.ta.anI(S,[P.x,P.y,P.x+P.m,P.y+P.J]);var s=new hN;s.rotate(-I.ta._v(A));var j={classID:"Trnf"};S.Trnf={t:"Objc",v:j};
var _="xx xy yx yy tx ty".split(" "),B=[s.W,s.e,s.xF,s.o6,s.W_,s.Rj];for(var N=0;N<6;N++)j[_[N]]={t:"doub",v:B[N]}}if(k==2&&e){var X=I.ta.vg(S);
for(var Q=0;Q<4;Q++)X[Q]=Math.round(X[Q]*C[0]);I.ta.r0(S,X)}var A=I.ta.q$(S,"keyOriginBoxCorners"),a=A[2]-A[0],O=A[3]-A[1],H=Math.sqrt(a*a+O*O);
a/=H;O/=H;var q=A[6]-A[0],h=A[7]-A[1],D=Math.sqrt(q*q+h*h);q/=D;h/=D;if(k==4){S.keyOriginLineWeight.v=D;
var T=I.ta.i9(S);I.D.i(C,T);I.ta.a7Z(S,T)}var p=a*q+O*h;if(Math.abs(p)>.001){I.ta.mR(i,Y)}}};I.ta.GL=function(i){var C=i.keyShapeInvalidated,m=i.keyOriginType;
return(C==null||!C.v)&&m!=null&&m.v!=9};I.ta.apX=function(i){var C=i.keyOriginType.v,m=I.ta.eb(i),e=m[0],z=m[1],L=m[2],l=m[3],x=new hN,S=i.keyOriginPolyCornerRadius,A;
S=S?S.v:0;var k=I.ta.q$(i,C==7||C==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),f=I.ta.ak9(k),X=f[2],o=f[3];
e=-X/2;L=X/2;z=-o/2;l=o/2;x.rotate(-I.ta._v(k));x.W_=f[0];x.Rj=f[1];if(C==1||C==2){var P=C==1?0:I.ta.vg(i);
A=I.o.vC.Rect(e,z,L-e,l-z,P)}else if(C==4){var F=I.ta.i9(i),n=I.ta.aAG(i);x=new hN;if(n==null)A=I.o.vC.$P(F[0],F[1],F[2],F[3],i.keyOriginLineWeight.v);
else A=I.o.vC.B7(F[0],F[1],F[2],F[3],i.keyOriginLineWeight.v,n)}else if(C==5){A=I.o.vC.Xl(e,z,L-e,l-z)}else if(C==7||C==8){var R=C==7?3:i.keyOriginPolySides.v;
A=I.o.vC.Rp(0,0,100,Math.PI/R-Math.PI/2,R,S,L,l)}I.o.Pa(A,x);return A};I.ta.D_=function(i,C){var m=C.$;
for(var Y=0;Y<i.length;Y++){var e=i[Y].v;if(!I.ta.GL(e))continue;var z=I.ta.apX(e),L=I.o.IY(m,Y),l=I.o.uv(m,Y);
z[2].ay=m[L].ay;var x=m;m=m.slice(0,L);for(var S=2;S<z.length;S++)m.push(z[S]);for(var S=L+l;S<x.length;
S++)m.push(x[S])}C.$=m;C.kL=!0};I.ta.v6=function(i){var C=1e9,m=-C,e=1e9,z=-e,L=[],l=i.bM(),x=l[0],S=l[1];
for(var k=0;k<S.length;k++){var f=x[S[k]],X=f.add.vogk;if(X==null)continue;var o=f.add.vmsk.g;for(var A=0;
A<X.length;A++){var P=X[A].v,R=0;if(!I.ta.GL(P))continue;if(S.length==1&&o.length!=0&&o.indexOf(A)==-1)continue;
var F=P.keyOriginType.v;if(F==9)continue;var n=I.ta.eb(P);C=Math.min(C,n[0]);e=Math.min(e,n[1]);m=Math.max(m,n[2]);
z=Math.max(z,n[3]);var Q=I.ta.q$(P,"keyOriginBoxCorners");if(Q){var s=I.ta.ak9(Q),j=s[2],_=s[3];n[2]=n[0]+j;
n[3]=n[1]+_;R=I.ta._v(Q)}var B=[F,n,R];L.push(B);var N=P.keyOriginPolyCornerRadius;if(F==2)B.push(I.ta.vg(P));
if(F==7||F==8)B.push(N?N.v:0);if(F==8)B.push(P.keyOriginPolySides.v)}}return L.length==1?L[0]:[0,C<m?[C,e,m,z]:null,0]};
I.ta._v=function(i){var C=i[2]-i[0],m=i[3]-i[1];return-Math.atan2(-m,C)};I.ta.asE=function(i){var C=I.ta.eb(i);
return I.ta._v(C)};I.ta.aCo=function(i,C,m){var e=I.ta.v6(i),z=-1;for(var Y=0;Y<C.length;Y++)if(JSON.stringify(C[Y])!=JSON.stringify(e[Y]))z=Y;
if(z==1||z==2){}var L=i.bM(),l=L[0],x=L[1];for(var S=0;S<x.length;S++){var k=l[x[S]],f=k.add.vogk;if(f==null)continue;
var X=k.add.vmsk.g;for(var o=0;o<f.length;o++){var A=f[o].v;if(!I.ta.GL(A))continue;if(x.length==1&&X.length!=0&&X.indexOf(o)==-1)continue;
var P=A.keyOriginType.v;if(z==1||z==2){I.ta.i(f,I.ta.asR(z,A,e,C),X,!1);break}if(z==3)if(P==2)I.ta.r0(A,C[3]);
else A.keyOriginPolyCornerRadius={t:"doub",v:C[3]};if(z==4)A.keyOriginPolySides.v=C[4];if(m)I.ta.mR(f,o)}}};
I.ta.asR=function(i,C,m,e){var z=e[1],L=m[1],l=(z[2]-z[0])/(L[2]-L[0]),x=(z[3]-z[1])/(L[3]-L[1]),S=new hN;
if(i==1){if(Math.max(Math.abs(l-1),Math.abs(x-1))>1e-8){var k=z[0],f=z[1];if(e[0]!=0){var X=I.ta.q$(C,"keyOriginBoxCorners");
k=X[0];f=X[1]}S.translate(-k,-f);S.rotate(e[2]);S.scale(l,x);S.rotate(-e[2]);S.translate(k,f)}else{S.translate(-L[0],-L[1]);
S.translate(z[0],z[1])}}else{if(e[0]!=0)z=I.ta.eb(C);var k=(z[0]+z[2])/2,f=(z[1]+z[3])/2;S.translate(-k,-f);
if(m[0]!=0)S.rotate(m[2]);S.rotate(-e[2]);S.translate(k,f)}return I.D.fL(S)};I.ta.ak9=function(i){var C=i[0],m=i[1],e=i[2],z=i[3],L=i[4],l=i[5],x=i[6],S=i[7],k=e-C,f=z-m,X=Math.sqrt(k*k+f*f),k=L-e,f=l-z,o=Math.sqrt(k*k+f*f);
return[(C+L)/2,(m+l)/2,X,o]};I.ta.q$=function(i,C){var m=i[C];if(m==null)return null;var e=[];m=m.v;
for(var z=0;z<4;z++){var L=m["rectangleCorner"+["A","B","C","D"][z]].v;e.push(L.Hrzn.v,L.Vrtc.v)}return e};
I.ta.M7=function(i,C,m){var e=i[C];if(e==null)return null;e=e.v;for(var z=0;z<4;z++){var L="rectangleCorner"+["A","B","C","D"][z];
e[L]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:m[2*z]},Vrtc:{t:"doub",v:m[2*z+1]}}}}};I.ta.eb=function(i){return I.ta.Yt(i.keyOriginShapeBBox.v)};
I.ta.Yt=function(i){var C=i.classID,m=i.Left.v,e=i.Rght.v,z=i.Top.v,L=i.Btom.v;if(m.val!=null){m=m.val;
e=e.val;z=z.val;L=L.val}return[m,z,e,L]};I.ta.anI=function(i,C){I.ta.ex(i.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],C)};
I.ta.vg=function(i){var C=i.keyOriginRRectRadii;if(C==null)return[0,0,0,0];return I.ta.a8x(C.v)};I.ta.a8x=function(i){var C=[],m=["topLeft","topRight","bottomRight","bottomLeft"];
for(var e=0;e<4;e++)C.push(i[m[e]].v.val);return C};I.ta.r0=function(i,C){I.ta.ex(i.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],C)};
I.ta.ex=function(i,C,m){var e=i.classID;if(e=="unitRect"||e=="radii"||e=="Rctn"){for(var Y=0;Y<4;Y++)if(m[Y]!=null)i[C[Y]]={t:"UntF",v:{type:"#Pxl",val:m[Y]}}}else{for(var Y=0;
Y<4;Y++)if(m[Y]!=null)i[C[Y]]={t:"doub",v:m[Y]}}};I.ta.i9=function(i){var C=i.keyOriginLineStart.v,m=i.keyOriginLineEnd.v;
return[C.Hrzn.v,C.Vrtc.v,m.Hrzn.v,m.Vrtc.v]};I.ta.a7Z=function(i,C){var m=i.keyOriginLineStart.v,e=i.keyOriginLineEnd.v;
m.Hrzn.v=C[0];m.Vrtc.v=C[1];e.Hrzn.v=C[2];e.Vrtc.v=C[3]};I.ta.aAG=function(i){var C=[],m=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var Y=0;Y<5;Y++){var e=i["keyOriginLineArr"+m[Y]];if(e==null)return null;C[Y]=e.v}return C};I.ta.adi=function(i,C){i.keyOriginLineArrowSt={t:"bool",v:C[0]};
i.keyOriginLineArrowEnd={t:"bool",v:C[1]};i.keyOriginLineArrWdth={t:"doub",v:C[2]};i.keyOriginLineArrLngth={t:"doub",v:C[3]};
i.keyOriginLineArrConc={t:"long",v:C[4]}};I.ta.alC=function(i){function C(B,N){return Math.abs(B-N)<.5}function m(B,N){return C(B.x,N.x)&&C(B.y,N.y)}function L(B,N,a,O,H,q,h){for(var Y=0;
Y<h;Y++){var D=B[N+(a+Y)%h],T=O[H+(q+Y)%h];if(!(m(D.L,T.L)&&m(D.My,T.My)&&m(D.sP,T.sP)))return!1}return!0}var l=[];
for(var x=0;x<i.length;x++){var S=i[x],f=null;if(S.type!=0&&S.type!=3||S.ay==-1)continue;var k=x;if(S.length==4||S.length==8){var X=I.o.a0X(i.slice(0,2).concat(i.slice(k,k+S.length+1)));
k=2;if(S.length==4){var o=I.o.DN(X,k+1,4),A=o.x,P=o.y,F=A+o.m,n=P+o.J;if(o.P()>4){if(I.o.bd(X.slice(k-2,k+5)))f=I.ta.K0(2,[A,P,F,n],[0,0,0,0]);
else{var R=-1;for(var Y=0;Y<4;Y++)if(C(X[k+1+Y].L.y,n))R=Y;if(R!=-1){var Q=I.o.vC.Xl(A,P,F-A,n-P),s=L(X,k+1,R,Q,3,0,4);
if(s)f=I.ta.K0(5,[A,P,F,n])}}}}if(S.length==8){var o=I.o.DN(X,k+1,8),A=o.x,P=o.y,F=A+o.m,n=P+o.J;if(o.P()>4){var R=-1;
for(var Y=0;Y<8;Y++)if(C(X[k+1+(Y+1&7)].L.y,P)&&C(X[k+1+(Y+2&7)].L.y,P))R=Y;if(R!=-1){var j=Math.abs(X[k+1+R].L.y-P),_=[j,j,j,j];
if(j>.5){var Q=I.o.vC.Rect(A,P,F-A,n-P,_),s=L(X,k+1,R,Q,3,0,8);if(s)f=I.ta.K0(2,[A,P,F,n],_)}}}}}l.push(f?f:I.ta.T9())}return l};
I.C={};I.C.clone=function(i){return{G:i.G.slice(0),j:i.j.slice(0)}};I.C.ajM=function(i){if(i.length<6)return!0;
var C=i.length-4;for(var Y=0;Y<C;Y+=2)if(!I.C.g_(i[Y],i[Y+1],i[Y+2],i[Y+3],i[Y+4],i[Y+5]))return!1;if(!I.C.g_(i[C],i[C+1],i[C+2],i[C+3],i[0],i[1]))return!1;
if(!I.C.g_(i[C+2],i[C+3],i[0],i[1],i[2],i[3]))return!1;return!0};I.C.g_=function(i,C,m,e,z,L){return(C-e)*(z-m)+(m-i)*(L-e)>=0};
I.C.So=function(i){var C={},m=null,e=0,z={M:2,L:2,Q:4,C:6},L="",l="";for(var Y=0;Y<i.G.length;Y++){var x=i.G[Y];
if(x[0]=="#")L=x;else if(x[0]=="X")L="";else if(x[0]=="O"&&x[1]=="-")l=x;else if(x=="OX")l="";else{var S=L+l;
m=C[S];if(m==null)m=C[S]={j:[],G:[]};m.G.push(x);var k=z[x];if(k==null)k=0;for(var f=0;f<k;f++)m.j.push(i.j[e+f]);
e+=k}}return C};I.C.ap5=function(i,C,m){var e=i[C]-i[m-2],z=i[C+1]-i[m-1];return e*e+z*z<1e-4};I.C.aZ=function(i,C,m){i=I.C.Bq(i);
var e=i.j,z=i.G,L=0,l="",x=0,S=0,L=0,X=null;for(var Y=0;Y<z.length;Y++){var k=z[Y];if(k=="M"){x=e[L];
S=e[L+1];L+=2;l=k}if(k=="C"){if(l=="Z"){z.splice(Y,0,"M");e.splice(L,0,x,S);Y--;continue}L+=6;l=k}if(k=="Z"){l=k}}var f=[];
L=0;for(var Y=0;Y<z.length;Y++){var k=z[Y];if(k=="M"){X={SR:L,aE:0,Ux:!1};f.push(X);L+=2}if(k=="C"){X.aE++;
L+=6}if(k=="Z"&&X!=null){X.Ux=!0}}var o=[];for(var Y=0;Y<f.length;Y++)if(f[Y].aE!=0)o.push(f[Y]);f=o;
for(var Y=0;Y<f.length;Y++){var A=f[Y],P=A.SR,F=P+2+A.aE*6,R=0;A.zO=I.C.OO(e,P,F);var n=I.C.ap5(e,P,F);
for(var Q=0;Q<A.aE;Q++){var s=P+Q*6,j=s+6;R+=(e[j]-e[s])*(e[j+1]+e[s+1])}if(A.aE==2){var _=function(M,U,r){var dS=1-r;
return dS*dS*dS*M[U]+3*dS*dS*r*M[U+2]+3*dS*r*r*M[U+4]+r*r*r*M[U+6]},B=e[P],N=e[P+1],a=e[P+6],O=e[P+7],H=e[P+6],q=e[P+7],h=_(e,P,.5),D=_(e,P+1,.5),T=_(e,P+6,.5),p=_(e,P+7,.5);
R=(h-B)*(D-N)+(a-h)*(O-D)+(T-a)*(p-O)+(H-T)*(q-p)}if(!n)R+=(e[P]-e[F-2])*(e[P+1]+e[F-1]);A.oE=R<=0}for(var Y=0;
Y<f.length-1;Y++)for(var s=Y+1;s<f.length;s++){var y=f[Y],b=f[s];if(b.zO.Y4(y.zO)){f[Y]=b;f[s]=y}}var g=f.length==0?!0:f[0].oE,u=[{type:6},{type:8,all:0}];
for(var Y=0;Y<f.length;Y++){var A=f[Y],P=A.SR,F=P+2+A.aE*6,n=I.C.ap5(e,P,F);if(A.aE==1)n=!1;var t=A.Ux||n?0:3,V=A.oE==g&&!C?1:0;
if(!C&&Y!=0){if(f[Y-1].zO.Y4(A.zO)&&f[Y-1].oE!=A.oE)V=0;for(var s=0;s<f.length;s++)if(s!=Y&&f[s].zO.Y4(A.zO))V=0}u.push({type:t,length:A.aE+(n?0:1),ay:m?1:V,pj:2});
for(var s=0;s<A.aE;s++){var L=P+s*6,c=new b5(e[L],e[L+1]),E=new b5(e[L+2],e[L+3]),Z;if(s==0){if(n){Z=new b5(e[F-4],e[F-3]);
if(b5.qM(Z,c)<1e-5)Z=c.clone()}else Z=c.clone()}else Z=new b5(e[L-2],e[L-1]);u.push({type:t+2,My:Z,L:c,sP:E})}if(!n){var G=new b5(e[F-2],e[F-1]);
u.push({type:t+2,My:new b5(e[F-4],e[F-3]),L:G,sP:G.clone()})}}for(var s=0;s<u.length;s++){var J=u[s];
if(J.type>5||J.type==0||J.type==3)continue;var K=J.My.LJ(J.L)||J.sP.LJ(J.sP);if(!K){var y=J.My.x*(J.L.y-J.sP.y)+J.L.x*(J.sP.y-J.My.y)+J.sP.x*(J.My.y-J.L.y);
if(Math.abs(y)<1e-6)K=!0}if(K)J.type--}return u};I.C.iJ=function(i,C){var m=I.o.vS(i),e=[];for(var Y=2;
Y<i.length;Y++){var z=i[Y].ay;if(z!=null){if(z==2||z==0||z==3||z==-1)e.push(z)}}var L=e.length!=0;if((L||C)&&i.length<2e3&&1<m&&m<200)i=I.o.JB(i);
var l=I.C.BN(i);return{wV:l,Ts:L?1:0}};I.C.BN=function(){function i(e,z,L,l){if(l!=2&&e.sP.LJ(e.L)&&z.My.LJ(z.L)){L.j.push(z.L.x,z.L.y);
L.G.push("L")}else{var x=e.L,S=e.sP,k=z.My,f=z.L,X=3/2*S.x-1/2*x.x,o=3/2*S.y-1/2*x.y,A=3/2*k.x-1/2*f.x,P=3/2*k.y-1/2*f.y,F=A-X,n=P-o;
if(l==0&&F*F+n*n<.001){L.j.push((X+A)*.5,(o+P)*.5,f.x,f.y);L.G.push("Q")}else{L.j.push(S.x,S.y,k.x,k.y,f.x,f.y);
L.G.push("C")}}}function C(e,z,Y,L,l,x){var S=z[Y];e.j.push(S.L.x,S.L.y);e.G.push("M");for(var k=Y;k<Y+L-1;
k++)i(z[k],z[k+1],e,x);if(!l)i(z[k],z[Y],e,x)}function m(e,z){if(z==null)z=0;var L={j:[],G:[]};for(var Y=0;
Y<e.length;Y++){if(e[Y].type>5)continue;var l=e[Y].length;if(l==0)continue;if(Y==e.length-1)break;var x=e[Y].type==3;
C(L,e,Y+1,l,x,z);if(!x)L.G.push("Z");Y+=l}return L}return m}();I.C.aiJ=function(i){var C=i.j,m=[],e,z=0;
for(var Y=0;Y<i.G.length;Y++){var L=i.G[Y];if(L=="C"){e.push(C[z++],C[z++],C[z++],C[z++],C[z++],C[z++])}else if(L=="Z"){}else{e=[];
if(L!="M"){e.push(L);Y++}e.push(C[z++],C[z++]);m.push(e)}}return m};I.C.Iq=function(i,C,m,e){if(e==null)e=1e9;
var z=1e9,L=0;for(var Y=0;Y<i.length;Y+=2){var l=C-i[Y],x=m-i[Y+1],S=l*l+x*x;if(S<z){z=S;L=Y>>>1}}return z<e*e?L:-1};
I.C.U9=function(i,C,m,e){for(var Y=0;Y<i.length;Y+=2){var z=i[Y],L=i[Y+1],l=C[Y],x=C[Y+1];m[Y]=z+(l-z)*e;
m[Y+1]=L+(x-L)*e}};I.C.i=function(i,C,m){for(var Y=0;Y<i.length;Y+=2){var e=i[Y],z=i[Y+1];m[Y]=e*C.W+z*C.xF+C.W_;
m[Y+1]=e*C.e+z*C.o6+C.Rj}};I.C.OO=function(i,C,m){if(C==null)C=0;if(m==null)m=i.length;var e=99999999999,z=-e,L=99999999999,l=-L;
for(var Y=C;Y<m;Y+=2){var x=i[Y],S=i[Y+1];e=Math.min(e,x);L=Math.min(L,S);z=Math.max(z,x);l=Math.max(l,S)}return new j2(e,L,z-e,l-L)};
I.C.aom=function(i,C){var m=Math.max(C.x,Math.min(C.x+C.m,i.x)),e=Math.max(C.y,Math.min(C.y+C.J,i.y)),z=i.x-m,L=i.y-e;
return Math.sqrt(z*z+L*L)};I.C.Ub=function(i,C){var m=Math.floor,e=Math.ceil;if(C){m=Math.ceil;e=Math.floor}var z=m(i.x),L=e(i.x+i.m),l=m(i.y),x=e(i.y+i.J);
return new j2(z,l,L-z,x-l)};I.C.Ve=function(i,C){return I.C.Ub(I.C.OO(i),C)};I.C.Ym=function(i,C){var m=i.x,e=i.y,z=i.x+i.m,L=i.y+i.J,l=[m,e,z,e,z,L,m,L];
if(C){var x=C.clone();x.Fb();I.C.i(l,x,l)}return{G:["M","L","L","L","Z"],j:l}};I.C.concat=function(i,C,m){if(m==null)m=new hN;
for(var Y=0;Y<C.j.length;Y+=2){var e=C.j[Y],z=C.j[Y+1];i.j.push(e*m.W+z*m.xF+m.W_);i.j.push(e*m.e+z*m.o6+m.Rj)}for(var Y=0;
Y<C.G.length;Y++)i.G.push(C.G[Y])};I.C.app=function(i,C,m,e,z){function L(o,A,P){return new b5(o.x*(1-P)+A.x*P,o.y*(1-P)+A.y*P)}var l=L(i,C,z),x=L(m,e,z),S=L(C,m,z),k=L(l,S,z),f=L(S,x,z),X=L(k,f,z);
return[l,k,X,f,x]};I.C.Bq=function(i){var C=i.j,m=[],e=[],z=0,L=0,l=0,x=0,S=0,k=0,f=0,X=0,o=0,A=0,P=0;
for(var Y=0;Y<i.G.length;Y++){var F=i.G[Y];if(F=="M"){L=C[z];l=C[z+1];z+=2;e.push(F);m.push(L,l);A=L;
P=l}else if(F=="C"){x=C[z];S=C[z+1];k=C[z+2];f=C[z+3];X=C[z+4];o=C[z+5];z+=6;e.push(F);m.push(x,S,k,f,X,o);
L=X;l=o}else if(F=="Q"){x=C[z];S=C[z+1];k=C[z+2];f=C[z+3];z+=4;var n=x-L,R=S-l,Q=k-x,s=f-S;e.push("C");
m.push(L+2/3*n,l+2/3*R,x+1/3*Q,S+1/3*s,k,f);L=k;l=f}else if(F=="L"){x=C[z];S=C[z+1];z+=2;if(x!=L||S!=l){e.push("C");
m.push(L,l,x,S,x,S);L=x;l=S}}else{if(F=="Z"){L=A;l=P}e.push(F)}}return{G:e,j:m}};I.C.a0l=function(i){var C=i.j,m=[],e=[],z=0;
for(var Y=0;Y<i.G.length;Y++){var L=i.G[Y];if(L=="Q"){var l=C[z-2],x=C[z-1],S=C[z],k=C[z+1],f=C[z+2],X=C[z+3];
z+=4;var o=S-l,A=k-x,P=f-S,F=X-k;e.push("C");m.push(l+2/3*o,x+2/3*A,S+1/3*P,k+1/3*F,f,X)}else{var n=0;
if(L=="M"||L=="L")n=2;else if(L=="C")n=6;for(var R=0;R<n;R++)m.push(C[z+R]);z+=n;e.push(L)}}return{G:e,j:m}};
I.C.Q0=function(i,C){var m=i.j,e=[],z=[],L=0,l=0,x=0,S=0,k=0,f=0,X=0,o=0,A=0;for(var Y=0;Y<i.G.length;
Y++){var P=i.G[Y];if(P=="M"){l=m[L];x=m[L+1];L+=2;z.push(P);e.push(l,x)}else if(P=="C"){S=m[L];k=m[L+1];
f=m[L+2];X=m[L+3];o=m[L+4];A=m[L+5];L+=6;I.C.UC(l,x,S,k,f,X,o,A,C,z,e,0);l=o;x=A}else z.push(P)}return{G:z,j:e}};
I.C.UC=function(i,C,m,e,z,L,l,x,S,k,f,X){var o=Math.sqrt((l-i)*(l-i)+(x-C)*(x-C)),A=Math.sqrt((l-z)*(l-z)+(x-L)*(x-L))+Math.sqrt((z-m)*(z-m)+(L-e)*(L-e))+Math.sqrt((m-i)*(m-i)+(e-C)*(e-C)),P=(o+A)/2;
if(P<=S){k.push("C");f.push(m,e,z,L,l,x)}else{var F=0,n=0,R=0,Q=0,s=0,j=0,_=0,B=0,N=0,a=0,O=0,H=0,q=0;
n=(i+m)/2;R=(C+e)/2;Q=(m+z)/2;s=(e+L)/2;j=(z+l)/2;_=(L+x)/2;B=(n+Q)/2;N=(R+s)/2;a=(Q+j)/2;O=(s+_)/2;
H=(B+a)/2;q=(N+O)/2;I.C.UC(i,C,n,R,B,N,H,q,S,k,f,X+1);I.C.UC(H,q,a,O,j,_,l,x,S,k,f,X+1)}};I.C.auv=function(i,C,m,e,z){var L=Date.now(),l=I.C.aoZ(i,C,m);
if(z){console.log("trace polygons",Date.now()-L);L=Date.now()}var x=[];for(var Y=0;Y<l.length;Y++){var S=l[Y],k=S[0],f=["M"],X=i[k[1]*C+k[0]];
if(k.length>8)k=I.C.au8(k,e,S[1]);if(k.length<=4)continue;for(var o=2;o<k.length;o+=2)f.push("L");f.push("Z");
x.push({path:{j:k,G:f},color:X,parent:-1,zO:I.C.OO(k)})}if(z){console.log("simplify polygons",Date.now()-L);
L=Date.now()}for(var Y=1;Y<x.length;Y++){var A=x[Y],P=A.path.j,F=P[0],n=P[1],R=P[2],Q=P[3],s=R-F,j=Q-n,_=F+.5*s-.001*j,B=n+.5*j+.001*s;
for(var o=Y-1;o>=0;o--){var N=x[o];if(!N.zO.Y4(A.zO))continue;if(!gu.dD(N.path.j,_,B))continue;A.parent=o;
break}}if(z){console.log("checking parents",Date.now()-L);L=Date.now()}return x};I.C.aoZ=function(i,C,m){var e=C*m,z=new Uint16Array(C*m),l=0;
for(var Y=0;Y<e;Y++)z[Y]=i[Y];var L=new Uint8Array(C*m);L[1*C+1]=L[(m-1)*C+1]=L[1*C+C-1]=L[(m-1)*C+C-1]=1;
for(var x=1;x<m;x++)for(var S=1;S<C;S++){var Y=x*C+S,k=z[Y-C-1],f=z[Y-C],X=z[Y-1],o=z[Y],A=k==o&&f==X&&k!=f,P=0;
if(o<X){l=o;o=X;X=l}if(X<f){l=X;X=f;f=l}if(f<k){l=f;f=k;k=l}if(o<X){l=o;o=X;X=l}if(X<f){l=X;X=f;f=l}if(o<X){l=o;
o=X;X=l}if(k!=f)P++;if(f!=X)P++;if(X!=o)P++;if(o!=k)P++;if(P>=3||A)L[Y]=1}var F=[];for(var x=1;x<m;x++)for(var S=1;
S<C;S++){var Y=x*C+S;if(z[Y]!=z[Y-1]){var n=I.C.a0C(z,C,m,S,x),R=[];for(var Q=0;Q<n.length;Q+=2)if(L[n[Q+1]*C+n[Q]]==1)R.push(Q>>>1);
F.push([n,R]);I.C.eU(z,C,m,S,x)}}return F};I.C.eU=function(i,C,m,e,z){var L=[z*C+e],l=i[z*C+e];i[z*C+e]=65535;
while(L.length!=0){var Y=L.pop();i[Y]=0;if(i[Y+C]==l){L.push(Y+C);i[Y+C]=65535}if(i[Y-C]==l){L.push(Y-C);
i[Y-C]=65535}if(i[Y-1]==l){L.push(Y-1);i[Y-1]=65535}if(i[Y+1]==l){L.push(Y+1);i[Y+1]=65535}}};I.C.a0C=function(i,C,m,e,z){var L=[0,-1,1,0,0,1,-1,0],f=1;
function l(o,A,f){var Y=k*C+S,P=0;if(f==0)P=Y-C;else if(f==1)P=Y;else if(f==2)P=Y-1;else if(f==3)P=Y-C-1;
return i[P]}var x=[],S=e,k=z,X=l(S,k,f);do{x.push(S,k);S+=L[f*2];k+=L[f*2+1];if(l(S,k,f)!=X)f=f+1&3;
else if(l(S,k,f+3&3)!=X)f=f;else if(l(S,k,f+2&3)!=X)f=f+3&3}while(S!=e||k!=z);return x};I.C.au8=function(i,C,m){var e=i.length-2;
if(m&&m.length!=0){var z=m[0]*2,L=m[m.length-1]*2,l=z==0?e:z-2,x=i.slice(L);for(var Y=0;Y<z;Y++)x.push(i[Y]);
if(z==L)x.push(.9*i[z]+.1*i[l],.9*i[z+1]+.1*i[l+1]);else x.push(i[z],i[z+1]);x=I.C.ya(x,C);x.pop();x.pop();
for(var Y=0;Y<m.length-1;Y++){var S=i.slice(m[Y]*2,m[Y+1]*2+2);S=I.C.ya(S,C);for(var k=0;k<S.length-2;
k++)x.push(S[k])}return x}var f=i.slice(0);f.push(.9*i[0]+.1*i[e],.9*i[1]+.1*i[e+1]);f=I.C.ya(f,C);f.pop();
f.pop();return f};I.C.ya=function(i,C){var m=i.length-2,e=i[0],z=i[1],L=i[m],l=i[m+1],x=L-e,S=l-z,k=1/Math.sqrt(x*x+S*S),f=L*z-l*e,X=-1,o=-1,A=0;
for(var Y=2;Y<m;Y+=2){var P=i[Y],F=i[Y+1],n=F*F*1e6+P*P,R=Math.abs(S*P-x*F+f)*k;if(R>o||R==o&&n>A){o=R;
X=Y;A=n}}if(o<C)return[e,z,L,l];var Q=I.C.ya(i.slice(0,X+2),C),s=I.C.ya(i.slice(X),C);for(var Y=2;Y<s.length;
Y++)Q.push(s[Y]);return Q};I.C.a7q=function(){var i=function(e,z,L,l,x,S){return(z-l)*(x-L)+(L-e)*(S-l)>=0},C=function(e,z,L,l,x,S,k,f){var X=k-L,o=f-l,A=x-L,P=S-l,F=e-L,n=z-l,R=X*X+o*o,Q=X*A+o*P,s=X*F+o*n,j=A*A+P*P,_=A*F+P*n,B=1/(R*j-Q*Q),N=(j*s-Q*_)*B,a=(R*_-Q*s)*B;
return N>=0&&a>=0&&N+a<1},m=function(e){var k7=e.length>>>1,Y=0;if(k7<3)return[];var z=[],L=[];for(var Y=0;
Y<k7;Y++)L.push(Y);var l=k7;while(l>3){var x=L[(Y+0)%l],S=L[(Y+1)%l],k=L[(Y+2)%l],f=e[2*x],X=e[2*x+1],o=e[2*S],A=e[2*S+1],P=e[2*k],F=e[2*k+1],n=!1;
if(i(f,X,o,A,P,F)){n=!0;for(var R=0;R<l;R++){var Q=L[R];if(Q==x||Q==S||Q==k)continue;if(C(e[2*Q],e[2*Q+1],f,X,o,A,P,F)){n=!1;
break}}}if(n){z.push(x,S,k);L.splice((Y+1)%l,1);l--;Y=0}else if(Y++>3*l)break}z.push(L[0],L[1],L[2]);
return z};return m}();I.C.art=function(i,C){var m={},e={G:[],j:[]};for(var Y=0;Y<C.length;Y+=3){var z=C[Y]*2,L=C[Y+1]*2,l=C[Y+2]*2;
I.C.By(i,z,L,e,m);I.C.By(i,z,l,e,m);I.C.By(i,L,l,e,m)}return e};I.C.By=function(i,C,m,e,z){if(C>m){var L=m;
m=C;C=L}if(z[C+","+m])return;z[C+","+m]=!0;e.G.push("M","L");e.j.push(i[C],i[C+1],i[m],i[m+1])};I.C.ao2=function(i,C){var m=[],e=i.length;
for(var Y=0;Y<e;Y+=2){var z=i[Y],L=i[Y+1],l=i[(Y+2)%e],x=i[(Y+3)%e];if(x<L){var S=L;L=x;x=S}if(L<C&&C<x){var k=(C-L)/(x-L);
m.push(z+k*(l-z))}}m.sort(function(f,X){return f-X});return m};I.C.aaz=function(i,C,m,e,z,L,l){var x=i-m,S=C-e,k=z-m,f=L-e,X=1/Math.sqrt(x*x+S*S),o=1/Math.sqrt(k*k+f*f),A=x*X,P=S*X,F=k*o,n=f*o,R=P*l,Q=-A*l,s=-n*l,j=F*l,_=I.C._r(R,Q,A,P,s,j,F,n),B=R+A*_,N=Q+P*_,_=I.C._r(0,0,A,P,B,N,-P,A),a=A*_,O=P*_;
return[Math.sqrt(a*a+O*O),A,P,F,n]};I.C.a4C=function(i,C,m,e,z,L,l){var x=I.C.aaz(i,C,m,e,z,L,l),S=x[0],k=x[1],f=x[2],X=x[3],o=x[4],A=Math.atan2(k*o-f*X,k*X+f*o);
if(A<0){A=A*-1}var P=Math.PI-A,F=4/3*Math.tan(P/4),n=m+S*k,R=e+S*f,Q=m+S*X,s=e+S*o,j=n+F*l*-k,_=R+F*l*-f,B=Q+F*l*-X,N=s+F*l*-o;
return[0,0,n,R,j,_,B,N,Q,s]};I.C._r=function(i,C,m,e,z,L,l,x){var S=l*(C-L)-x*(i-z),k=x*m-l*e;if(k==0)return 0;
return S/k};I.C.YH=function(i,C,m,e,z,L){return i*(e-L)+m*(L-C)+z*(C-e)};I.C.aa3=function(i){function C(T,p,y,b,g,u,t,V,c){var E=I.C._r(T,p,y,b,g,u,t,V);
c.push(T+y*E,p+b*E)}var m=[],e=i.length,z=[];for(var Y=0;Y<e;Y+=2){var L=Y==0?e-2:Y-2,l=Y==e-2?0:Y+2,x=i[Y],S=i[Y+1],k=x-i[L],f=S-i[L+1],X=i[l]-x,o=i[l+1]-S,A=Math.sqrt(k*k+f*f),P=Math.sqrt(X*X+o*o);
z.push(P);var F=A/(A+P),n=x-k*.5,R=S-f*.5,Q=x+X*.5,s=S+o*.5,j=(i[l]+i[L])*.5,_=(i[l+1]+i[L+1])*.5,B=n+F*(Q-n),N=R+F*(s-R),a=x-B,O=S-N,H=(X*-k+o*-f)/(A*P),q=(F-.5)*7,h=1+q*F,D=1-q*(1-F);
m.push(n+a*h,R+O*h,Q+a*D,s+O*D)}return m};I.rT=function(){};I.rT.hV=function(i,C,m,e,z){var L=m.m,l=m.J,x=L*l,S=new Int32Array(x),k7=0;
for(var Y=0;Y<x;Y++)if(C[Y]!=0){S[Y]=k7;k7++}else if(i[(Y<<2)+3]<200){S[Y]=-2}else S[Y]=-1;if(k7==0)return;
var k=new I.yV(k7,k7),f=new Array(3*k7),X=new Array(3*k7);for(var Y=0;Y<X.length;Y++)X[Y]=f[Y]=0;var o=1/255,A=[-L,-1,1,L],P=[],F=[];
for(var n=0;n<l;n++)for(var R=0;R<L;R++){var Q=n*L+R,s=Q<<2,Y=S[Q],j=Y*3,_=0,B=0,N=0;if(Y==-1||Y==-2)continue;
for(var a=0;a<4;a++){if(a==2){B=N;P[N]=0;F[N]=Y;N++}var O=Q+A[a],H=O<<2,q=S[O];if(a==0&&n==0||a==1&&R==0||a==2&&R==L-1||a==3&&n==l-1||q==-2)continue;
_++;if(q==-1){f[j+0]+=i[H+0];f[j+1]+=i[H+1];f[j+2]+=i[H+2]}else{P[N]=-1;F[N]=q;N++;if(C[Q]==C[O]){f[j+0]+=i[s+0]-i[H+0];
f[j+1]+=i[s+1]-i[H+1];f[j+2]+=i[s+2]-i[H+2]}}}P[B]=_;k.zb(P,F,N)}for(var Y=0;Y<x;Y++)if(S[Y]!=-1){var h=Y<<2,D=S[Y],T=D*3;
X[T]=i[h+0];X[T+1]=i[h+1];X[T+2]=i[h+2]}var p=Date.now();k.a5o(X,f,e,z);console.log(Date.now()-p);for(var Y=0;
Y<x;Y++){var D=S[Y],y=D*3,h=Y<<2;if(D==-1||i[h+3]!=255)continue;i[h+0]=~~(.5+Math.max(0,Math.min(255,X[y+0])));
i[h+1]=~~(.5+Math.max(0,Math.min(255,X[y+1])));i[h+2]=~~(.5+Math.max(0,Math.min(255,X[y+2])))}};I.rect={};
I.rect.abn=function(i,C){var m=[i],e=[];for(var Y=0;Y<C.length;Y++){var z=C[Y],L=!1;for(var l=Y+1;l<C.length;
l++){var x=C[l];if(x[0]<=z[0]&&x[1]<=z[1]&&z[2]<=x[2]&&z[3]<=x[3]){L=!0;break}}if(!L)e.push(z)}C=e;for(var Y=0;
Y<C.length;Y++){var z=C[Y];for(var l=0;l<m.length;l++){var x=m[l],S=Math.max(z[0],x[0]),k=Math.min(z[2],x[2]),f=Math.max(z[1],x[1]),X=Math.min(z[3],x[3]);
if(S<k&&f<X){var o=[];if(x[1]<z[1]){var A=x.slice(0);A[3]=z[1];o.push(A)}if(x[0]<z[0]){var P=x.slice(0);
P[1]=f;P[2]=z[0];o.push(P)}if(z[2]<x[2]){var F=x.slice(0);F[1]=f;F[0]=z[2];o.push(F)}if(z[3]<x[3]){var n=[S,X,k,x[3]];
o.push(n)}if(o.length!=0){m[l]=o[0];for(var R=1;R<o.length;R++)m.push(o[R])}}}m.push(z);m=I.rect.a9G(m)}m.sort(function(z,x){return z[1]!=x[1]?z[1]-x[1]:z[0]-x[0]});
for(var Y=1;Y<m.length;Y++){var z=m[Y-1],x=m[Y];if(z[0]==x[0]&&z[1]==x[1]&&z[2]==x[2]&&z[3]==x[3]){m.splice(z[4]==null?Y-1:Y,1);
Y--}}return m};I.rect.a9G=function(i){i=i.slice(0);for(var Y=0;Y<i.length;Y++){var C=i[Y],m=null;if(C[4]!=null)continue;
for(var e=0;e<i.length;e++){var z=i[e];if(Y==e||z[4]!=null)continue;var L=C[0]==z[0],l=C[1]==z[1],x=C[2]==z[2],S=C[3]==z[3];
if(l&&S&&(C[2]==z[0]||C[0]==z[2])){m=[Math.min(C[0],z[0]),C[1],Math.max(C[2],z[2]),C[3]]}if(L&&x&&(C[3]==z[1]||C[1]==z[3])){m=[C[0],Math.min(C[1],z[1]),C[2],Math.max(C[3],z[3])]}if(m){i[Y]=m;
i.splice(e,1);break}}if(m){Y--}}return i};I.rect.Xd=function(i){var C=new j2;for(var Y=0;Y<i.length;
Y++)C=C.Z0(i[Y]);return C};I.rect.aig=function(i,C){var m=I.rect.Xd,e=new UnionFind(i.length),B=1e3,N=1e3;
for(var Y=0;Y<i.length;Y++)for(var z=Y+1;z<i.length;z++){if(!C)continue;var L=i[Y],l=i[z],X=1e9,o=1e9;
if(L.EI(l)){e.link(Y,z);continue}var x=L.x+L.m,S=L.y+L.J,k=l.x+l.m,f=l.y+l.J;if((x<l.x||k<L.x)&&(S<l.y||f<L.y))continue;
if(!(S<l.y||f<L.y))X=Math.min(Math.abs(x-l.x),Math.abs(L.x-k));if(!(x<l.x||k<L.x))o=Math.min(Math.abs(S-l.y),Math.abs(L.y-f));
var A=Math.min(X,o),P=Math.min(L.m,L.J,l.m,l.J);if(A<.3*P)e.link(Y,z)}var F=[],n={};for(var Y=0;Y<i.length;
Y++){var R=e.find(Y),Q=i[Y];if(n[R]==null){n[R]=F.length;F.push([])}F[n[R]].push(Q)}var s=[],j=[];for(var Y=0;
Y<F.length;Y++){s.push(m(F[Y]));var _=m(F[Y]);_.dA=Y;j.push(_)}j.sort(function(b,g){return Math.max(g.J,g.m)-Math.max(b.J,b.m)});
var a=new NETXUS.RectanglePacker(B,N);while(!0){var O=!1;a.reset(B,N);for(var Y=0;Y<j.length;Y++){var H=a.findCoords(j[Y].m,j[Y].J);
if(H){j[Y].x=H.x;j[Y].y=H.y}else{B=Math.floor(B*1.1);N=Math.floor(N*1.1);O=!0;break}}if(O)continue;break}for(var Y=0;
Y<F.length;Y++){var q=j[Y],h=q.dA,D=s[h],T=F[h],p=q.x-D.x,y=q.y-D.y;for(var z=0;z<T.length;z++)T[z].offset(p,y)}};
I.up=function(){};I.up._C=Math.floor(16*window.devicePixelRatio);I.up.o_={};I.up.tw=0;I.up._Y=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
I.up.ach=["px","in","cm","mm","%"];I.up.QH=function(i,C,m,e){var z=[1,C,C/2.54,C/25.4,m/100][e];return i*z};
I.up.a2A=function(i,C,m,e){var z=[1,C,C/2.54,C/25.4,m/100][e];return i/z};I.up.Rd=function(i,C,m,e,z){var L=m.Cv.d5,l=[1,C,C/2.54,C/25.4,e/100][L],x=[2,3,2,1,2][L];
i=i/l;var S=Math.round(i),k=L==0&&Math.abs(i-S)<1e-6?S+"":i.toFixed(x);if(z)k+=" "+I.up.ach[L];return k};
I.up.atv=function(i,C,m,e){var z=m.Cv.d5,L=[1,C,C/2.54,C/25.4,e/100][z];i=parseFloat(i)*L;return i};
I.up.auc=function(i,C){var m=i+","+C;if(I.up.o_.clr==m)return;var e=Math.round(I.up._C*.5);I.up.tw=e;
var z=I.BF(e,e);z.save();z.font=e*1.5+"px monospace";var L="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var Y=0;
Y<L.length;Y++){z.fillStyle="#"+I.dP(C);z.fillRect(0,0,e,e);z.fillStyle="#"+I.dP(i);z.fillText(L[Y],0,e);
I.up.o_[L[Y]]=new Uint8Array(z.getImageData(0,0,e,e).data.buffer)}I.up.o_.clr=m;z.restore()};I.up.a5y=function(i,C,m){var e=0,z=0,L=4*I.up._C;
for(var Y=9;Y>=0;Y--){var l=Math.pow(10,Y);if(5*l*i<=L){e=5*l;z=10;break}if(2*l*i<=L){e=2*l;z=4;break}if(1*l*i<=L){e=1*l;
z=10;break}}if(e==0){e=1;z=10}var x=Math.ceil(e*i),S=I.R(x*I.up._C*4);I.eS(S,4278190080|m);for(var Y=0;
Y<I.up._C;Y++)I.up.iz(S,4*Y*x,C);for(var Y=0;Y<x;Y++)I.up.iz(S,4*((I.up._C-1)*x+Y),C);if(e==2)z=2;if(e==5)z=5;
if(e>1||e==1&&x>20)for(var Y=1;Y<z;Y++)I.up.aA7(S,Y*(x/z),x,(Y&1)==1?.8:.7,C);return{FY:S,step:e}};I.up.aA7=function(i,C,m,e,z){var C=Math.round(C);
for(var L=Math.round(I.up._C*e);L<I.up._C-1;L++)I.up.iz(i,4*(L*m+C),z)};I.up.iz=function(i,C,m){i[C+0]=m>>16&255;
i[C+1]=m>>8&255;i[C+2]=m&255};I.up.am2=function(i,C,m,e,z,L,l){var x=i.eo.m,S=i.eo.J,k=I.up._C,f=C&255,X=C>>8&255,o=C>>16&255;
C=Math.round(f*.6)<<16|Math.round(X*.6)<<8|Math.round(o*.6);I.up.auc(Math.round(f*.8)<<16|Math.round(X*.8)<<8|Math.round(o*.8),m);
var A=i.U,P=i.F,F=i.RQ;for(var n=0;n<2;n++){var R=n==0?L:l;i.U=R[0];i.F=R[1];i.RQ=0;var Q=this.a5y(i.U,C,m),s=i.yy(0,0),j=i.yy(x,S),_=Math.floor(s.x/Q.step)*Q.step,B=Math.ceil(j.x/Q.step)*Q.step,N=Math.floor(s.y/Q.step)*Q.step,a=Math.ceil(j.y/Q.step)*Q.step,O=i.ip(_,N),H=i.ip(B,N),q=Q.step*i.U,h=Math.ceil(q);
if(n==1){var D=Q.FY;Q.FY=I.R(D.length*4);I.D.S4(D,Q.FY,h,k)}var T=n==0?i.qL.data:i.R8.data,p=new j2(0,0,[x,k][n],[k,S][n]),y=new j2(0,0,[h,k][n],[k,h][n]),b=new j2([0,Math.round(k*.2)][n],[Math.round(k*.08),0][n],I.up.tw,I.up.tw),g=(n==0?B-_:a-N)/Q.step;
for(var Y=0;Y<g;Y++){if(n==0)y.x=Math.round(O.x+Y*q);else y.y=Math.round(O.y+Y*q);I.fF(Q.FY,y,T,p,y);
var u=(n==0?_+Y*Q.step:Math.abs(N+Y*Q.step)).toString(10);for(var t=0;t<u.length;t++){if(n==0)b.x=y.x+3+t*Math.round(I.up.tw*.8);
else b.y=y.y+3+t*Math.round(I.up.tw*1.15);var V=I.up.o_[u[t]];I.fF(V,b,T,p,b)}}}i.U=A;i.F=P;i.RQ=F;var c=Math.floor(k*.6),E=new Uint32Array(i.qL.data.buffer),Z=new Uint32Array(i.R8.data.buffer),G=f<128?4278190080:4294967295;
if(0<e&&e<x)for(var Y=0;Y<c;Y++)E[Y*x+e]=G;if(0<z&&z<S)for(var Y=0;Y<c;Y++)Z[z*k+Y]=G};I.scale={};I.scale.B2=document.createElement("canvas");
I.scale.Hs=I.scale.B2.getContext("2d");I.scale._2=function(i,C,m){var e=I.scale.B2,z=I.scale.Hs;e.width=C;
e.height=m;var L=new ImageData(new Uint8ClampedArray(i.buffer),C,m);z.putImageData(L,0,0);return z.createPattern(z.canvas,"repeat")};
I.scale.an6=function(i,C,m,e,z,L,l,x,S){var k=I.scale.amA(i,m,e,z,L,l,x,S);if(C)C.set(k);return new Uint8Array(k.buffer)};
I.scale.amA=function(i,C,m,e,z,L,l,x){var S=I.BF(C,m);S.save();S.rect(0,0,C,m);S.translate(L,l);S.scale(e,z);
if(x!=null)S.rotate(-x);S.fillStyle=i;S.fill();S.restore();return new Uint8Array(S.getImageData(0,0,C,m).data.buffer)};
I.scale.i=function(i,C,m,e,z){var L=m.e==0&&m.xF==0,l=z.m,x=z.J,S=I.C.Ym(C,m).j,k=I.C.Ve(S,L).G_(z),f=k.x,X=k.y,o=f+k.m,A=X+k.J,P=~~C.x,F=~~C.y,n=~~C.m,R=~~C.J;
if(L)for(var Q=X;Q<A;Q++){var s=m.o6*(Q+.5)+m.Rj-F,j=~~s*n;for(var _=f;_<o;_++){var B=m.W*(_+.5)+m.W_-P;
e[Q*l+_]=i[j+~~B]}}else for(var Q=X;Q<A;Q++)for(var _=f;_<o;_++){var N=_+.5,a=Q+.5,B=m.W*N+m.xF*a+m.W_-P,s=m.e*N+m.o6*a+m.Rj-F;
if(0<=B&&0<=s&&B<n&&s<R)e[Q*l+_]=i[~~s*n+~~B]}};I.scale.anR=function(i,C,m,e,z,L){var l=new Uint32Array(i.buffer),x=new Uint32Array(e.buffer),S=z.m,k=z.J,f=I.C.Ym(C,m).j,X=L?z:I.C.Ve(f).G_(z),o=X.x,A=X.y,P=o+X.m,F=A+X.J,n=~~C.x,R=~~C.y,Q=~~C.m,s=~~C.J;
for(var j=A;j<F;j++)for(var _=o;_<P;_++){var B=_+.5,N=j+.5,a=m.W*B+m.xF*N+m.W_-n,O=m.e*B+m.o6*N+m.Rj-R;
if(L){a=((Q<<10)+a)%Q;O=((s<<10)+O)%s}if(0<=a&&0<=O&&a<Q&&O<s)x[j*S+_]=l[~~O*Q+~~a]}};I.scale.GV=function(i,C,m,e,z,L,l){if(l<1)I.scale.axk(i,C,m,e,z,L,Math.round(1/l));
else I.scale.ak2(i,C,m,e,z,L,l)};I.scale.LO=function(i,C,m,e,z,L,l,x){if(x)x=x.G_(new j2(0,0,C,m));i=new Uint32Array(i.buffer);
e=new Uint32Array(e.buffer);if(l<1)I.scale.au9(i,C,m,e,z,L,Math.round(1/l),x);else I.scale.a2T(i,C,m,e,z,L,l)};
I.scale.ak2=function(i,C,m,e,z,L,l){for(var x=0;x<m;x++)for(var S=0;S<C;S++){var k=i[x*C+S],f=Math.min(l,z-S*l),X=Math.min(l,L-x*l);
for(var Y=0;Y<X;Y++)for(var o=0;o<f;o++)e[(l*x+Y)*z+l*S+o]=k}};I.scale.axk=function(i,C,m,e,z,L,l){for(var x=0;
x<L;x++)for(var S=0;S<z;S++){var k=0,f=Math.min(l,C-S*l),X=Math.min(l,m-x*l);for(var Y=0;Y<X;Y++)for(var o=0;
o<f;o++)k+=i[(l*x+Y)*C+(l*S+o)];e[x*z+S]=Math.round(k/(f*X))}};I.scale.a2T=function(i,C,m,e,z,L,l){for(var x=0;
x<m;x++)for(var S=0;S<C;S++){var k=i[x*C+S],f=Math.min(l,z-S*l),X=Math.min(l,L-x*l);for(var Y=0;Y<X;
Y++)for(var o=0;o<f;o++)e[(l*x+Y)*z+l*S+o]=k}};I.scale.aux=function(i,C,m){return(i>>>m&255)+(C>>>m&255)>>>1};
I.scale.Lg=function(i,C){var m=I.scale.aux;return m(i,C,24)<<24|m(i,C,16)<<16|m(i,C,8)<<8|m(i,C,0)};
I.scale.a88=function(i,C,m,e,z,L){var l=new Uint32Array(i.buffer),x=new Uint32Array(e.buffer);for(var S=0;
S<m;S++){for(var k=0;k<C;k++){var f=S*C+k,X=l[f],o=X,A=X,P=X;if(k<C-1)o=I.scale.Lg(X,l[f+1]);if(S<m-1)A=I.scale.Lg(X,l[f+C]);
if(k<C-1&&S<m-1)P=I.scale.Lg(X,l[f+C+1]);var F=(S*z+k)*2;x[F]=X;x[F+1]=o;x[F+z]=A;x[F+z+1]=P}}if((z&1)==1)for(var S=0;
S<L;S++)x[S*z+z-1]=x[S*z+z-2];var n=z*(L-1);if((L&1)==1)for(var k=0;k<z;k++)x[n+k]=x[n-z+k]};I.scale.au9=function(i,C,m,e,z,L,l,x){var S=0,k=z,f=0,X=L;
if(x){S=Math.floor(x.x/l);k=Math.ceil((x.x+x.m)/l);f=Math.floor(x.y/l);X=Math.ceil((x.y+x.J)/l)}for(var o=f;
o<X;o++)for(var A=S;A<k;A++){var P=0,F=0,n=0,R=0,Q=Math.min(l,C-A*l),s=Math.min(l,m-o*l);for(var Y=0;
Y<s;Y++)for(var j=0;j<Q;j++){var _=i[(l*o+Y)*C+l*A+j],B=_>>>24;P+=B;F+=B*(_>>>16&255);n+=B*(_>>>8&255);
R+=B*(_&255)}if(P!=0){var N=1/P;e[o*z+A]=P/(Q*s)<<24|F*N<<16|n*N<<8|R*N}else e[o*z+A]=0}};I.u=function(){function i(x,S,Y){return(128&x[Y-S-1]&x[Y-S]&x[Y-2]&x[Y-1]&x[Y+1]&x[Y+S-1]&x[Y+S])==0}function C(x,S,Y){return(128&x[Y-S-S]&x[Y-S+1]&x[Y+2]&x[Y+S+1]&x[Y+S+S])==0}function m(x,S,Y){return(x[Y-S]&x[Y-1]&x[Y+1]&x[Y+S]&128)==0}function e(x,Y){return(x[Y]&128)!=0}function z(x,S,k,f){var Y=0,X=k.m,o=k.J;
if(f)for(var A=0;A<o;A++)for(var P=0;P<X;P++){if(e(x,Y)&&(P<2||A<2||P>X-3||A>o-3||((x[Y-1]&128)==0||S[Y-1]!=0)&&i(x,X,Y)||C(x,X,Y)))S[Y]=255;
Y++}else for(var A=0;A<o;A++)for(var P=0;P<X;P++){if(e(x,Y)&&(P==0||A==0||P==X-1||A==o-1||m(x,X,Y)))S[Y]=255;
Y++}}function L(x,S,k,f,X){var o=k.m,A=k.J,P=new Uint8Array(S.buffer),F=new Uint32Array(S.buffer);if(X)for(var n=2;
n<A-2;n++)for(var R=2;R<o-2;R++){var Y=n*o+R;if(e(x,Y)&&(((x[Y-1]&128)==0||F[Y-1]!=0)&&i(x,o,Y)||C(x,o,Y)))F[Y]=f[(R+n&4)>>>2]}else for(var n=1;
n<A-1;n++)for(var R=1;R<o-1;R++){var Y=n*o+R;if(e(x,Y)&&m(x,o,Y)){F[Y]=f[(R+n&4)>>>2]}}}function l(x,S,k,f,X){var o=k.m,A=k.J,P=new Uint8Array(S.buffer),F=new Uint32Array(S.buffer),Y=0;
if(f==1)for(var n=0;n<A;n++)for(var R=0;R<o;R++,Y++){var Q=x[Y];F[Y]=255-Q>>>1<<24|255}else for(var n=0;
n<A;n++)for(var R=0;R<o;R++,Y++){var Q=x[Y];F[Y]=255<<24|(Q<<16|Q<<8|Q)}}return{awI:z,aAA:L,avj:l}}();
I.CX={};I.CX.pG=function(i,C,m){var e,z;if(m==0){e=i.rect.clone();z=I.CX.ayZ}if(m==1){e=i.rect.Z0(C.rect);
z=I.CX.Z0}if(m==2){e=C.rect.clone();z=I.CX.a2K}if(m==3){e=i.rect.G_(C.rect);z=I.CX.G_}if(m==4){e=i.rect.Z0(C.rect);
z=I.CX.a4U}if(e.bs())return null;var L=I.R(e.P());I.Vo(C.channel,C.rect,L,e);var l=I.R(e.P());I.Vo(i.channel,i.rect,l,e);
z(l,L,L);var x=I.yP(L,e);if(x.bs())return null;if(!x.LJ(e)){var S=I.R(x.P());I.Vo(L,e,S,x);L=S;e=x}return{channel:L,rect:e}};
I.CX.ayZ=function(i,C,m){for(var Y=0;Y<i.length;Y++)m[Y]=i[Y]};I.CX.Z0=function(i,C,m){for(var Y=0;Y<i.length;
Y++)m[Y]=Math.min(i[Y]+C[Y],255)};I.CX.a2K=function(i,C,m){for(var Y=0;Y<i.length;Y++)m[Y]=Math.max(C[Y]-i[Y],0)};
I.CX.G_=function(i,C,m){var e=1/255;for(var Y=0;Y<i.length;Y++)m[Y]=i[Y]*C[Y]*e};I.CX.a4U=function(i,C,m){var e=1/255;
for(var Y=0;Y<i.length;Y++)m[Y]=Math.min(i[Y]+C[Y],255)-i[Y]*C[Y]*e};I.yV=function(i,C){this.B=[];this.ml=[0];
this.Uu=[];this.ey=[];this.C8=[0];this.U6=[];this.gy=[];this.rows=i;this.cols=C};I.yV.prototype.clone=function(){var i=this,C=i.rows,m=i.cols,e=new I.yV(C,m);
e.B=i.B.slice(0);e.ml=i.ml.slice(0);e.Uu=i.Uu.slice(0);e.ey=i.ey.slice(0);e.C8=i.C8.slice(0);e.U6=i.U6.slice(0);
e.gy=i.gy.slice(0);return e};I.yV.prototype.zb=function(i,C,m){var e=this.ml.length-1;for(var Y=0;Y<m;
Y++){var z=i[Y],L=C[Y];this.B.push(z);this.Uu.push(L);if(L==e){this.gy.push(z==0?0:1/z)}else{this.ey.push(z);
this.U6.push(L)}}this.ml.push(this.B.length);this.C8.push(this.ey.length)};I.yV.prototype.oN=function(i,C){var m=this,e=m.rows,z=m.B,L=m.Uu;
if(C==null)C=new Array(e);for(var Y=0;Y<e;Y++){var l=m.ml[Y],x=m.ml[Y+1],S=0;while((x-l&3)!=0){S+=z[l]*i[L[l]];
l++}for(var k=l;k<x;k+=4)S+=z[k]*i[L[k]]+z[k+1]*i[L[k+1]]+z[k+2]*i[L[k+2]]+z[k+3]*i[L[k+3]];C[Y]=S}return C};
I.yV.prototype.multiply=function(i){return this.d1(i.S4())};I.yV.prototype.d1=function(i){var C=this,m=C.rows,e=C.cols,z=i.rows,L=new I.yV(m,z),l=C.Uu,x=i.Uu;
for(var Y=0;Y<m;Y++){var S=[],k=[],f=C.ml[Y],X=C.ml[Y+1];for(var o=0;o<z;o++){var A=i.ml[o],P=i.ml[o+1],F=0,n=f,R=A;
while(n<X&&R<P){var Q=Math.max(l[n],x[R]);while(n<X&&l[n]<Q)n++;while(R<P&&x[R]<Q)R++;if(n<X&&R<P&&l[n]==x[R])F+=C.B[n++]*i.B[R++]}if(F!=0){S.push(F);
k.push(o)}}L.zb(S,k,S.length)}return L};I.yV.prototype.S4=function(){var i=this.rows,C=this.cols,m=[];
for(var Y=0;Y<C;Y++)m.push([[],[]]);var e=this.B,z=this.ml,L=this.Uu;for(var Y=0;Y<i;Y++){var l=z[Y],x=z[Y+1];
for(var S=l;S<x;S++){var k=m[L[S]];k[0].push(e[S]);k[1].push(Y)}}var f=new I.yV(C,i);for(var Y=0;Y<C;
Y++)f.zb(m[Y][0],m[Y][1],m[Y][1].length);return f};I.yV.prototype.R5=function(){var i=this.rows,C=this.cols,m=new Array(i),e=this.B,z=this.ml,L=this.Uu;
for(var Y=0;Y<i;Y++){var l=m[Y]=new Array(C);for(var x=0;x<C;x++)l[x]=0;var S=z[Y],k=z[Y+1];for(var f=S;
f<k;f++)l[L[f]]=e[f]}return m};I.yV.prototype.Mi=function(i,C,m,e,z){function L(N,C,a,O){var H=N.length;
for(var Y=0;Y<H;Y++)O[Y]=N[Y]-C[Y]*a}function l(N,C,a,O){var H=N.length,q=0;while((H-q&3)!=0){O[q]=N[q]+C[q]*a;
q++}for(var Y=q;Y<H;Y+=4){O[Y]=N[Y]+C[Y]*a;O[Y+1]=N[Y+1]+C[Y+1]*a;O[Y+2]=N[Y+2]+C[Y+2]*a;O[Y+3]=N[Y+3]+C[Y+3]*a}}function x(N,C,a){var O=N.length;
for(var Y=0;Y<O;Y++)a[Y]=N[Y]*C[Y]}function S(N,C){var a=N.length,O=0,H=0;while((a-O&3)!=0){H+=N[O]*C[O];
O++}for(var Y=O;Y<a;Y+=4)H+=N[Y]*C[Y]+N[Y+1]*C[Y+1]+N[Y+2]*C[Y+2]+N[Y+3]*C[Y+3];return H}var k=e!=null?2:1,f=Date.now(),X=0,o=this,A=i.slice(0),P=i.slice(0);
o.oN(i,P);L(C,P,1,A);var F=this.gy;if(k==0){F=A.slice(0);F.fill(1)}var n=A.slice(0);x(F,A,n);var R=n.slice(0),Q=S(A,n);
while(!0){o.oN(R,P);var s=Q/S(R,P);l(i,R,s,i);L(A,P,s,A);if((X&7)==0&&Math.sqrt(S(A,A))<m)break;if(k<=1)x(F,A,n);
else{var j=A.slice(0);e.aqr(j,A);z.aqU(n,j)}var _=S(A,n),B=_/Q;l(n,R,B,R);Q=_;X++}};I.yV.prototype.aat=function(i,C,m,e){var z=Date.now(),L=1.96,x=0;
if(m==null)m=5e-6;if(e==null)e=1e9;var l=1-L,k7=this.rows,S=this.ey,k=this.C8,f=this.U6,X=this.gy;while(!0){var o=0;
for(var Y=0;Y<k7;Y++){var A=C[Y],P=k[Y],F=k[Y+1];if(F-P==4)A-=S[P]*i[f[P]]+S[P+1]*i[f[P+1]]+S[P+2]*i[f[P+2]]+S[P+3]*i[f[P+3]];
else for(var n=P;n<F;n++)A-=S[n]*i[f[n]];var R=i[Y]*l+X[Y]*A*L,Q=R-i[Y];o+=Q*Q;i[Y]=R}if(o/k7<m||Date.now()>z+e)break}};
I.yV.prototype.a5o=function(i,C,m,e){var z=Date.now(),L=1.96,x=0;if(m==null)m=5e-5;if(e==null)e=1e9;
var l=1-L,k7=this.rows,S=this.ey,k=this.C8,f=this.U6,X=this.gy;while(!0){var o=0;for(var Y=0;Y<k7;Y++){var A=Y*3,P=C[A],F=C[A+1],n=C[A+2],R=k[Y],Q=k[Y+1];
for(var s=R;s<Q;s++){var j=S[s],_=f[s]*3;P-=j*i[_+0];F-=j*i[_+1];n-=j*i[_+2]}var B=X[Y]*L,N=i[A+0]*l+P*B,a=i[A+1]*l+F*B,O=i[A+2]*l+n*B,H=N-i[A+0],q=a-i[A+1],h=O-i[A+2];
o+=.4*H*H+.5*q*q+.1*h*h;i[A+0]=N;i[A+1]=a;i[A+2]=O}if(o/k7<m||Date.now()>z+e)break}};I.$l={};I.$l.$z=function(i,C,m){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:i},Vrtc:{t:"doub",v:C},Cnty:{t:"bool",v:m}}}};
I.$l.i=function(i,C){for(var Y=0;Y<i.length;Y++){var m=i[Y].v,e=C.M$(new b5(m.Hrzn.v,m.Vrtc.v));m.Hrzn.v=Math.round(e.x);
m.Vrtc.v=Math.round(e.y)}};I.$l.a7m=function(i,C,m){var k7=i.length-1,e=I.OT.Qd(k7+1,k7+2);for(var Y=1;
Y<k7;Y++){e[Y][Y-1]=1/(i[Y]-i[Y-1]);e[Y][Y]=2*(1/(i[Y]-i[Y-1])+1/(i[Y+1]-i[Y]));e[Y][Y+1]=1/(i[Y+1]-i[Y]);
e[Y][k7+1]=3*((C[Y]-C[Y-1])/((i[Y]-i[Y-1])*(i[Y]-i[Y-1]))+(C[Y+1]-C[Y])/((i[Y+1]-i[Y])*(i[Y+1]-i[Y])))}e[0][0]=2/(i[1]-i[0]);
e[0][1]=1/(i[1]-i[0]);e[0][k7+1]=3*(C[1]-C[0])/((i[1]-i[0])*(i[1]-i[0]));e[k7][k7-1]=1/(i[k7]-i[k7-1]);
e[k7][k7]=2/(i[k7]-i[k7-1]);e[k7][k7+1]=3*(C[k7]-C[k7-1])/((i[k7]-i[k7-1])*(i[k7]-i[k7-1]));I.OT.x3(e,m)};
I.$l.aE4=function(i,C,m,e){if(i<=C[0])return m[0];if(i>=C[C.length-1])return m[C.length-1];var Y=1;while(C[Y]<i)Y++;
var z=C[Y],L=C[Y-1],l=m[Y],x=m[Y-1],S=(i-L)/(z-L),k=e[Y-1]*(z-L)-(l-x),f=-e[Y]*(z-L)+(l-x),X=(1-S)*x+S*l+S*(1-S)*(k*(1-S)+f*S);
return X};I.$l.aBJ=function(i,C,m,e){var z={Ss:[i[0]],R0:[C[0]],l1:[]};e[0]=z;for(var Y=1;Y<i.length-1;
Y++){z.Ss.push(i[Y]);z.R0.push(C[Y]);if(m[Y]==!1){I.$l.a7m(z.Ss,z.R0,z.l1);z={Ss:[i[Y]],R0:[C[Y]],l1:[]}}e[Y]=z}z.Ss.push(i[Y]);
z.R0.push(C[Y]);I.$l.a7m(z.Ss,z.R0,z.l1);e[Y]=z};I.$l.ab$=function(i,C,m,e){if(i<=C[0])return m[0];if(i>=C[C.length-1])return m[C.length-1];
var Y=1;while(C[Y]<i)Y++;var z=e[Y-1];return I.$l.aE4(i,z.Ss,z.R0,z.l1)};I.$l.adO=function(i){var C={Ss:[],R0:[],$F:[]};
for(var Y=0;Y<i.length;Y++){C.Ss[Y]=i[Y].v.Hrzn.v;C.R0[Y]=i[Y].v.Vrtc.v;C.$F[Y]=i[Y].v.Cnty?i[Y].v.Cnty.v:!0}return C};
I.$l.SV=function(i,k7,C){var m=0,e=255;if(C){m=-1e9;e=1e9}var z=I.$l.adO(i),L=[];I.$l.aBJ(z.Ss,z.R0,z.$F,L);
var l=[];for(var Y=0;Y<k7;Y++)l[Y]=1/255*Math.max(m,Math.min(e,I.$l.ab$(Y*(255/(k7-1)),z.Ss,z.R0,L)));
return l};I.$l.arh=function(i,k7,C){var m=Math.round(i.length/20),e=k7-i.length,z=C?(i[m]-i[0])/m:0,L=C?i[0]-e*z:i[i.length-1],l=[];
for(var Y=0;Y<e;Y++)l.push(L+Y*z);return C?l.concat(i):i.concat(l)};I.$l.K7=function(i,k7,C){var m=I.$l.adO(i),e=[];
I.$l.aBJ(m.Ss,m.R0,m.$F,e);var z=new Uint8Array(k7),L=k7/256;for(var Y=0;Y<k7;Y++)z[Y]=Math.max(0,Math.min(k7-1,I.$l.ab$(Y*L,m.Ss,m.R0,e)));
if(C){z[0]=0;if(z[1]>100)z[1]=.4*z[1];if(z[2]>150)z[1]=.7*z[2]}return z};I.$l.ab0=function(i,C){var m=new Uint8Array(i.length);
for(var Y=0;Y<i.length;Y++)m[Y]=C[i[Y]];return m};I.$l.lU=function(i,C,m){var e=document.createElement("canvas");
e.width=C;e.height=m;var z=e.getContext("2d"),L=I.$l.K7(i,256);z.scale(C/255,m/255);z.fillStyle="#fff";
z.fillRect(0,0,255,255);z.fillStyle="#333";z.beginPath();z.moveTo(0,255);for(var Y=0;Y<L.length;Y++)z.lineTo(Y,255-L[Y]);
z.lineTo(255,255);z.closePath();z.fill();return e.toDataURL()};I.style={};I.style.stroke=function(i,C,m,e){var z=m.m,L=m.J,l=I.style.bt(i,z,L);
I.style.Ni(C,m,l,m,e)};I.style.Ni=function(i,C,m,e,z){var L=C.G_(e),l=L.m,x=L.J;z+=.5;var S=L.x-C.x,k=L.y-C.y,f=C.m,X=L.x-e.x,o=L.y-e.y,A=e.m;
for(var P=0;P<x;P++){var F=(P+o)*A+X,n=(P+k)*f+S;for(var R=0;R<l;R++){var Q=Math.max(0,Math.min(1,z-m[F+R]));
i[n+R]=Math.round(Q*255)}}};I.style.aro=function(i,C,m,e){for(var z=0;z<m;z++)for(var L=0;L<C;L++){var l=z*C+L,x=0,S=0,k=i[l];
if(L==0||z==0){x=i[l+1]-k;S=i[l+C]-k}else if(L==m-1||z==C-1){x=k-i[l-1];S=k-i[l-C]}else{x=i[l+1]-i[l-1];
S=i[l+C]-i[l-C]}if(x!=0||S!=0){var f=1/Math.sqrt(x*x+S*S);x*=f;S*=f}e[l+l]=x;e[l+l+1]=S}};I.style.bt=function(i,C,m){var e=C*m,z=new ArrayBuffer((e+C*4)*4),L=new Float32Array(z,0,e),l=new Uint16Array(z,0,e<<1),x=new Int32Array(z,e*4,C),S=new Int32Array(z,(e+C)*4,C),k=new Int32Array(z,(e+C*2)*4,C),f=new Int32Array(z,(e+C*3)*4,C),X=1/255;
for(let Y=0;Y<C;++Y){let o=-m-C,A=0,P=Y,F=0;for(;F<m;++F,P+=C){if(i[P]>128)o=F,A=i[P];l[P<<1]=F-o;l[(P<<1)+1]=A}o=l[P+=P-C-C],A=l[P+1];
for(;F>1;--F){if(l[P-=C+C]>o)l[P]=++o,l[P+1]=A;else o=l[P],A=l[P+1]}}for(let n=0;n<e;n+=C){var R=n+C,Q=l[n<<1]*l[n<<1],s=0;
let j=x[0]=n,_=S[0]=n,B=Q,N=B;for(let P=n+1;P<R;++P){var a=l[P<<1]*l[P<<1];while(s&&N>(_-P)*(_-P)+a){_=S[--s],j=x[s],B=l[j<<1]*l[j<<1],N=(_-j)*(_-j)+B}if(s||N<=(_-P)*(_-P)+a){var O=P-j,H=n+Math.floor((O*(P+j-n-n)+a-B)/(O<<1))+1;
if(H<R){_=S[++s]=H,j=x[s]=P,B=a,N=(_-j)*(_-j)+B}}else _=n,j=x[0]=P,B=a,N=(_-j)*(_-j)+B}for(let Y=0;Y<s;
++Y){var q=x[Y]<<1;k[Y]=l[q]*l[q];f[Y]=l[q+1]}let h=.5-l[(x[s]<<1)+1]*X;for(let P=R-1;P>=n;--P){L[P]=Math.max(0,Math.sqrt((P-j)*(P-j)+B)+h);
if(s&&P==_){_=S[--s],j=x[s],B=k[s],h=.5-f[s]*X}}}return L};I.style.agQ=function(i,C,m){var e=new Float64Array(C*m),z=0,L=C*m;
for(var Y=0;Y<L;Y++)z|=i[Y];if(z==0){e.fill(1e9);return}var l=I.style.Zn(i,C,m);for(var x=0;x<m;x++)for(var S=0;
S<C;S++){var Y=x*C+S,k=l[Y*2],f=l[Y*2+1];if(k==0&&f==0){e[Y]=0;continue}var X=Math.sqrt(k*k+f*f),o=i[(x+f)*C+S+k]*(1/255);
e[Y]=X+.5-o}return e};I.style.aCn=function(i,C,m){return(.5-m)*i};I.style.Zn=function(i,C,m,e){var z=new Int16Array(C*m*2);
I.style.a4D(i,z,C,m,128);return z};I.style.a4D=function(i,C,m,e,z){var L=new Int32Array(m*e);I.style.abJ(i,L,m,e,z);
I.style.aqC(L,C,m,e)};I.style.abJ=function(i,C,m,e,z){var L=new Int32Array(e);for(var l=0;l<m;l++){var x=m+e;
for(var S=e-1;S>=0;S--){if(i[S*m+l]>z)x=0;else x++;L[S]=x}x=m+e;for(var S=0;S<e;S++){if(i[S*m+l]>z)x=0;
else x++;C[S*m+l]=x<L[S]?-x:L[S]}}};I.style.aqC=function(i,C,m,e){var z=(m+e)*(m+e),L=new Float64Array(m),l=new Uint16Array(m);
for(var x=0;x<e;x++){var S=x*m,k=0;l[0]=0;L[0]=-z;L[1]=+z;for(var f=1;f<m;f++){var X=i[f+S]*i[f+S]+f*f,o=(X-(i[l[k]+S]*i[l[k]+S]+l[k]*l[k]))/(2*f-2*l[k]);
while(o<=L[k]){k--;o=(X-(i[l[k]+S]*i[l[k]+S]+l[k]*l[k]))/(2*f-2*l[k])}k++;l[k]=f;L[k]=o;L[k+1]=z}k=0;
for(var f=0;f<m;f++){while(L[k+1]<f)k++;var A=l[k]-f,P=i[l[k]+S],Y=x*m+f<<1;C[Y]=A;C[Y+1]=P}}};I.style.QJ=function(i,C,m){if(m)for(var Y=0;
Y<i.length;Y++){var e=i[Y];if(e>0)i[Y]=Math.max(0,Math.min(255,e+C*2*(I.style.jX(Y)-128)))}else for(var Y=0;
Y<i.length;Y++){var e=i[Y];if(e>0)i[Y]=Math.max(0,Math.min(255,e+Math.min(e*3,C*2*(I.style.jX(Y)-128))))}};
I.style.jX=function(i){i=i^61^i>>16;i=i+(i<<3);i=i^i>>4;i=i*668265261;i=i^i>>15;return i&255};I.Ch={};
I.Ch.Ai=function(i,C,m){var e=i.canvas;if(e.width!=C||e.height!=m){e.width=C;e.height=m}};I.Ch.vM=function(i,C,m,e,z,L){I.Ch.Ai(i,C,m);
if(L==null)L=!1;var l=z.channel,x=z.rect,S=!z.isEnabled;if(C*m==0)return;var k=i.createImageData(C,m),f=k.data,X=1/C,o=1/m;
for(var Y=0;Y<m;Y++)for(var A=0;A<C;A++){var P=Y*C+A,F=P*4,n=Math.round(e.x+A*X*e.m),R=Math.round(e.y+Y*o*e.J),Q=0;
if(n<x.x||n>=x.x+x.m||R<x.y||R>=x.y+x.J)Q=z.color;else Q=l[(R-x.y)*x.m+(n-x.x)];Q=255*(255-z.du)+Q*z.du>>>8;
if(L)Q=170+Math.round(.4*(Q-170));f[F]=Q;f[F+1]=Q;f[F+2]=Q;f[F+3]=255}i.putImageData(k,0,0);if(S)I.Ch.a4R(i,C,m)};
I.Ch.a0J=[];I.Ch.aby=function(i,C,m,e){var z,L,l;z=Math.ceil(Math.max(C,m)*.35);L=C-z;l=m-z;var x=I.Ch.a0J[z];
if(x==null){var S=I.BF(z,z);S.fillStyle="#eeeeee";S.fillRect(0,0,z,z);var k=Math.round(z*.27),f=S.lineWidth=Math.max(1,Math.round(z*.12)),X=f/2;
S.strokeRect(1+X,1+X,z-f-2,z-f-2);S.strokeRect(k+X,k+X,z-k-k-f,z-k-k-f);x=I.Ch.a0J[z]=S.getImageData(0,0,z,z)}i.putImageData(x,L,l)};
I.Ch.a6a=[];I.Ch.a1d=function(i,C,m){var e,z,L;e=Math.ceil(Math.max(C,m)*.35);z=C-e;L=m-e;var l=I.Ch.a6a[e];
if(l==null){var x=I.BF(e,e);x.fillStyle="#eeeeee";x.fillRect(0,0,e,e);x.lineWidth=1;x.strokeRect(2.5,2.5,e-5,e-5);
var S=x.createImageData(3,3);I.eS(S.data,4278190080);S.data[4*4]=S.data[4*4+1]=S.data[4*4+2]=238;x.putImageData(S,1,1);
x.putImageData(S,e-4,1);x.putImageData(S,1,e-4);x.putImageData(S,e-4,e-4);l=I.Ch.a6a[e]=x.getImageData(0,0,e,e)}i.putImageData(l,z,L)};
I.Ch.a8q=function(i,C,m,e,z){I.Ch.Ai(i,C,m);var L=C/e.m;if(C*m==0)return;i.fillStyle="#999999";i.setTransform(1,0,0,1,0,0);
i.clearRect(0,0,C,m);var l=I.Ch.ok;if(l==null)l=I.Ch.ok=jt.lc.TQ(!0,!0);l.strokeStyleLineWidth.v.val=1/L;
i.fillStyle="#ffffff";i.scale(L,L);I.o.PK(z.$,i,0,0);I.o.PK(z.$,i,0,0,l)};I.Ch.a8y=null;I.Ch.Tg=function(i,C,m,e,z,L,l,x,S){I.Ch.Ai(i,C,m);
if(C*m==0)return;var k=Math.max(C,m),f=I.Ch.a8y;if(f==null||f.width<k||f.height<k){I.Ch.a8y=f=i.createImageData(k,k)}k=f.width;
var X=f.data,o=e.m/C,A=e.J/m,P=L.x,F=L.x+L.m,n=L.y,R=L.y+L.J;for(var Y=0;Y<m;Y++)for(var Q=0;Q<C;Q++){var s=Y*k+Q,j=s*4,_=~~(e.x+Q*o),B=~~(e.y+Y*A),N=I.ams(Y,Q,2);
if(_<P||_>=F||B<n||B>=R||S){X[j]=N;X[j+1]=N;X[j+2]=N;X[j+3]=255}else{var a=(B-L.y)*L.m+(_-L.x)<<2,O=z[a+3]*(1/255);
X[j]=z[a+0]*O+N*(1-O);X[j+1]=z[a+1]*O+N*(1-O);X[j+2]=z[a+2]*O+N*(1-O);X[j+3]=255}}if(x!=null)for(var Y=0;
Y<X.length;Y+=4)X[Y]=X[Y+1]=X[Y+2]=X[Y+x];i.putImageData(f,0,0);if(l)I.Ch.a4R(i,C,m)};I.Ch.amv=function(i,C,m,e){I.Ch.Ai(i,C,m);
i.fillStyle=I.Ch.oq(e.Clr.v);i.fillRect(0,0,C,m);I.Ch.da(i,C,m)};I.Ch.ao8=null;I.Ch.ak7=function(i,C,m,e){I.Ch.Ai(i,C,m);
var z=i.canvas.width,L=i.canvas.height,l=I.Ch.ao8;if(l==null||l.width!=z||l.height!=L){i.fillStyle="#ffffff";
i.fillRect(0,0,C,m);i.fillStyle="#000000";i.font=""+m*.7+"px serif";i.fillText("T",(C-m*.43)/2,m*.75);
i.fillText("T",(C-m*.43)/2,m*.75);I.Ch.ao8=i.getImageData(0,0,z,L)}else i.putImageData(l,0,0)};I.Ch.adg=function(i,C,m){I.Ch.Ai(i,C,m);
i.clearRect(0,0,C,m);i.font=m*.7+"px serif";i.fillText(":(",(C-m*.43)/2,m*.7)};I.Ch.ahV=function(i,C,m,e){I.Ch.Ai(i,C,m);
var z=fp.get(e),L=i.canvas.width,l=I.Ch.aA8[L+z];if(l==null){var x=PIMG["adj/"+z],S=i$.oR(x),k=UPNG.decode(S.buffer),f=new Uint8Array(UPNG.toRGBA8(k)[0]),X=new j2(0,0,160,160),o=0,A=L-o*2,P=$.V.eX([f,X],new hN(A/160,0,0,A/160,0,0)),F=new j2(0,0,L,L),n=I.R(F.P()*4);
I.l.Qv("norm",P.buffer,P.rect,n,F,P.rect,1);l=I.Ch.aA8[L+z]=new ImageData(new Uint8ClampedArray(n.buffer),L,L)}i.putImageData(l,0,0)};
I.Ch.aA8={};I.Ch.abQ=function(i,C,m,e){I.Ch.Ai(i,C,m);var z=i.canvas.width,L=i.canvas.height,l=i.getImageData(0,0,z,L);
I.I.oV(e.Grad.v,new Uint8Array(l.data.buffer),new j2(0,0,z,L),[1/z,0,0,1/L],z/2,L/2,!1,0,16711680,65280);
i.putImageData(l,0,0);I.Ch.da(i,C,m)};I.Ch.apr=function(i,C,m,e,z){I.Ch.Ai(i,C,m);var L=i,l=k4.LZ(e.Ptrn.v,z.add.Patt);
if(l==null)return;var x=l.GK[1];I.Ch.Tg(i,C,m,x,l.GK[0],x,!1);I.Ch.da(L,C,m)};I.Ch.a4R=function(i,C,m){i.strokeStyle="#bb0000";
i.lineWidth=3;i.beginPath();i.moveTo(C*.15,m*.15);i.lineTo(C*.85,m*.85);i.moveTo(C*.85,m*.15);i.lineTo(C*.15,m*.85);
i.closePath();i.stroke()};I.Ch.da=function(i,C,m){i.fillStyle="#eeeeee";i.fillRect(0,m*.75,C,m*.25);
i.beginPath();i.moveTo(0,m*.75);i.lineTo(C,m*.75);i.moveTo(C*.1,m*.875);i.lineTo(C*.9,m*.875);i.moveTo(C*.65,m*.825);
i.lineTo(C*.65,m*.95);i.closePath();i.stroke()};I.Ch.oq=function(i){var C=I.I.oq(i),m=Math.round(C.Z)<<16|Math.round(C.r)<<8|Math.round(C.e);
return"#"+I.dP(m)};I.o={};I.o._I=function(i,C,m){var e=[],z=-1;for(var Y=0;Y<i.length;Y++){var L=i[Y];
if((L.type==0||L.type==3)&&L.ay!=-1)z++;if(L.type>5||L.type==0||L.type==3)continue;if(C!=null&&C.indexOf(z)==-1)continue;
if(m!=null&&m.indexOf(Y)==-1)continue;e.push(L.My.x);e.push(L.My.y);e.push(L.L.x);e.push(L.L.y);e.push(L.sP.x);
e.push(L.sP.y)}return e};I.o.c8=function(i,C,m,e){var z=0,L=-1;for(var Y=0;Y<C.length;Y++){var l=C[Y];
if((l.type==0||l.type==3)&&l.ay!=-1)L++;if(l.type>5||l.type==0||l.type==3)continue;if(m!=null&&m.indexOf(L)==-1)continue;
if(e!=null&&e.indexOf(Y)==-1)continue;l.My.zy(i[z],i[z+1]);l.L.zy(i[z+2],i[z+3]);l.sP.zy(i[z+4],i[z+5]);
z+=6}};I.o.Pa=function(i,C,m,e){var z=I.o._I(i,m,e);I.C.i(z,C,z);I.o.c8(z,i,m,e)};I.o.aj$=function(i,C,m,e){var z=I.o._I(i,m,e);
I.D.i(C,z);I.o.c8(z,i,m,e)};I.o.a1K=function(i,C,m,e){if(e==null){var z=I.o.a06(i,40,m);for(var Y=0;
Y<z.length;Y++)i[Y]=z[Y]}var L=I.o._I(i,m,e);I.bZ.i(C,L,I.C.OO(L));I.o.c8(L,i,m,e)};I.o.a06=function(i,C,m){var e=[],z=-1;
for(var Y=0;Y<i.length;Y++){var L=i[Y],l=L.length;if(L.type>5){e.push(JSON.parse(JSON.stringify(L)));
continue}L=JSON.parse(JSON.stringify(L));e.push(L);if(L.ay!=-1)z++;if(m&&m.indexOf(z)==-1){e=e.concat(i.slice(Y+1,Y+1+l))}else{var x=I.o.a0T(i,Y+1,l);
x=I.C.Q0(x,C);var S=I.o.ajq(x);L.length=S.length;for(var k=0;k<S.length;k++)e.push(S[k])}Y+=l}return e};
I.o.a0T=function(i,C,m){var e={G:["M"],j:[]},z=i[C],L=i[C+m-1];e.j.push(z.L.x,z.L.y);for(var Y=1;Y<m;
Y++){var l=i[C+Y-1],x=i[C+Y];e.G.push("C");e.j.push(l.sP.x,l.sP.y,x.My.x,x.My.y,x.L.x,x.L.y)}e.G.push("C");
e.j.push(L.sP.x,L.sP.y,z.My.x,z.My.y,z.L.x,z.L.y);return e};I.o.ajq=function(i){var C=[],m=i.G,e=i.j,z=0,k7=e.length;
C.push({type:2,My:new b5(e[k7-4],e[k7-3]),L:new b5(e[0],e[1]),sP:new b5(e[2],e[3])});for(var Y=0;Y<m.length-2;
Y++){var L=Y*6+4;C.push({type:2,My:new b5(e[L],e[L+1]),L:new b5(e[L+2],e[L+3]),sP:new b5(e[L+4],e[L+5])})}return C};
I.o.azz=function(i){for(var Y=0;Y<i.length;Y++){if(i[Y].type>5)continue;var C=i[Y].length;if(!(C==4||C==6||C==8)){Y+=C;
continue}for(var m=0;m<C;m++){var e=i[Y+1+m],z=i[Y+1+(m+1)%C],L=Math.min(e.L.x,z.L.x),l=Math.min(e.L.y,z.L.y),x=0,S=0;
if(e.L.x<z.L.x){x=e.L.y-l;S=x-(z.L.x-L)}else{x=z.L.y-l;S=x-(e.L.x-L)}if(Math.abs(S)<.2*x)return x}}return-1};
I.o.RP=function(i,C,m){function e(o,A){var P=Math.min(o.x,A.x),F=Math.min(o.y,A.y),n=Math.max(o.x+o.m,A.x+A.m),R=Math.max(o.y+o.J,A.y+A.J);
return new j2(P,F,n-P,R-F)}var z=null,L=-1,l=!I.o.wZ(i);for(var Y=0;Y<i.length;Y++){var x=i[Y];if(x.type>5)continue;
if((x.type==0||x.type==3)&&x.ay!=-1)L++;if(C!=null&&C.indexOf(L)==-1)continue;if(Y==i.length-1)break;
var S=x.type==3,k=x.length,f=x.ay,X=I.o.DN(i,Y+1,k,S);if(z==null)z=X;else if(m)z=e(z,X);else if(l){if(C!=null||f==0||f==-1||f==2)z=e(z,X);
else if(f==1)z=z;else if(f==3){z=X;l=!1}}else{if(C!=null||f==0||f==-1||f==1)z=e(z,X);else if(f==2)z=z;
else if(f==3)z=z.G_(X)}Y+=k}if(z==null||z.m<0||z.J<0)z=new j2(0,0,0,0);return z};I.o.a4F=new Float64Array(4);
I.o.DN=function(i,Y,C,m){var e=I.o.a4F;e[0]=1e30;e[1]=1e30;e[2]=-1e30;e[3]=-1e30;var z=i[Y+C-1];if(!m)I.o.amJ(z.L.x,z.L.y,z.sP.x,z.sP.y,i[Y].My.x,i[Y].My.y,i[Y].L.x,i[Y].L.y,e);
for(var L=Y;L<Y+C-1;L++){var l=i[L],x=i[L+1];I.o.amJ(l.L.x,l.L.y,l.sP.x,l.sP.y,x.My.x,x.My.y,x.L.x,x.L.y,e)}return new j2(e[0],e[1],e[2]-e[0],e[3]-e[1])};
I.o.amJ=function(i,C,m,e,z,L,l,x,S){if(i==m&&C==e&&z==l&&L==x){S[0]=Math.min(S[0],Math.min(i,l));S[1]=Math.min(S[1],Math.min(C,x));
S[2]=Math.max(S[2],Math.max(i,l));S[3]=Math.max(S[3],Math.max(C,x));return}var k=i,f=C,X=i,o=C,A=40,P=1/(A-1);
for(var F=0;F<A;F++){var n=F*P,R=1-n,Q=R*R*R,s=3*R*R*n,j=3*R*n*n,_=n*n*n,B=Q*i+s*m+j*z+_*l,N=Q*C+s*e+j*L+_*x;
if(B<k)k=B;else if(B>X)X=B;if(N<f)f=N;else if(N>o)o=N}if(k<S[0])S[0]=k;if(f<S[1])S[1]=f;if(X>S[2])S[2]=X;
if(o>S[3])S[3]=o};I.o.aum=function(i,C){var m=i.length-3,e=C%m,z=Math.floor(e);if(C<0||z>=m)return null;
var L=i[3+z],l=i[3+(z+1)%m],x=L.L,S=L.sP,k=l.My,f=l.L,X=e-z,o=1-X,A=o*o*o*x.x+3*o*o*X*S.x+3*o*X*X*k.x+X*X*X*f.x,P=o*o*o*x.y+3*o*o*X*S.y+3*o*X*X*k.y+X*X*X*f.y;
return new b5(A,P)};I.o.iM=function(i,C){var m=I.C.iJ(i),e=m.wV;m.wV=Typr.U.pathToSVG({crds:e.j,cmds:e.G},C==null?2:C);
return m};I.o.JB=function(i){I.o.dl();var C,m=I.o.PL(i),e=[];for(var Y=0;Y<m.length;Y++){var z=m[Y][0],L=m[Y][1];
if(Math.abs(z.area)<1e-5)e.push(z);else if(C==null)C=z;else{if(!z.closed)z.closed=!0;C=C[L](z);C.remove()}}if(C==null)C=new paper.CompoundPath(e);
else{if(C.segments)C=new paper.CompoundPath(C);for(var Y=0;Y<e.length;Y++){C.addChild(e[Y])}}var l=i.slice(0,2);
l=l.concat(I.o.Yw(C));I.o.VT(m);I.o.VT([[C]]);if(l[2])l[2].ay=1;for(var Y=3;Y<l.length;Y++)if(l[Y].ay!=null)l[Y].ay=-1;
return l};I.o.dl=function(){if(I.o.agB==null){var i=document.createElement("canvas");paper.setup(i);
I.o.agB=!0}};I.o.a38=function(i,C){I.o.dl();var m=[],e=I.o.PL(i),z=new paper.Path.Rectangle(new paper.Rectangle(C.x,C.y,C.m,C.J));
z.remove();z.fillColor=new paper.Color(1,0,0);for(var Y=0;Y<e.length;Y++){if(z.intersects(e[Y][0])||z.contains(e[Y][0].children[0].segments[0].point))m.push(Y)}I.o.VT(e);
return m};I.o.Gl=function(i,C,m,e){I.o.dl();var z=m?{curves:!0,tolerance:e}:null,L=new paper.Point(C.x,C.y),l=I.o.PL(i);
I.o.VT(l);for(var Y=l.length-1;Y>=0;Y--){var x=l[Y][0],S=x.hitTest(L,z);if(S!=null)return{h6:Y,Ln:m?S.location.index:null,If:m?S.location.time:0}}return{h6:-1}};
I.o.bY=function(i,C,m,e){var z=[[],[],[]];for(var Y=0;Y<i.length;Y++){var L=i[Y];if(L.type>5||L.type==0||L.type==3)continue;
var l=C.Xp(L.L),x=C.Xp(L.My),S=C.Xp(L.sP);if(m&&m.indexOf(Y)==-1){if(e){if(m.indexOf(Y-1)==-1)x=!1;if(m.indexOf(Y+1)==-1)S=!1}else x=S=!1}if(l)z[0].push(Y);
if(x)z[1].push(Y);if(S)z[2].push(Y)}z[3]=z[0].length+z[1].length+z[2].length;return z};I.o.a7Q=function(i,C,m){var e=i[C];
for(var z=C+1;z<m;z++)i[z-1]=i[z];i[m-1]=e};I.o.aq2=function(i,C,m,e){var Y,z,L,l=0;i=i.slice(0);C.sort(function(P,F){return P-F});
L=-1;for(Y=2;Y<i.length;){var x=i[Y],S=x.length;if(x.ay!=-1)L++;var k=l;while(k<C.length&&C[k]<Y+1+S)k++;
if(l!=k){var f=C.slice(l,k);l=k;for(z=0;z<S;z++)if(f.indexOf(Y+1+z)!=-1)i[Y+1+z]=null;if(x.type==0){var X=f[0]-(Y+1);
while(X!=0){I.o.a7Q(i,Y+1,Y+1+S);X--}}var o=x;o.length=0;z=0;while(z<S&&i[Y+1+z]==null)z++;while(z<S){var A=i[Y+1+z];
if(A!=null)o.length++;else if(z<S+1&&i[Y+1+z+1]&&e){o=i[Y+1+z]={type:0,ay:-1,length:0,X0:0,QG:0,pj:1}}z++}if(e)for(z=-1;
z<S;z++)if(i[Y+1+z]&&i[Y+1+z].type<3)i[Y+1+z].type+=3;I.ta.mR(m,L)}Y+=1+S}for(Y=0;Y<i.length;Y++)if(i[Y]==null){i.splice(Y,1);
Y--}L=0;for(Y=2;Y<i.length;Y++){var x=i[Y];if(x.length==0){if(i[Y+1]&&i[Y+1].ay==-1)i[Y+1].ay=x.ay;else if(x.ay!=-1)m.splice(L,1);
i.splice(Y,1);Y--}else if(x.length!=null&&x.ay!=-1)L++}return i};I.o.auN=function(i,C){var m=i.slice(0,2),e=-1;
for(var Y=2;Y<i.length;Y++){if((i[Y].type==0||i[Y].type==3)&&i[Y].ay!=-1)e++;if(C.indexOf(e)==-1)m.push(i[Y])}return m};
I.o.a1j=function(i,C){var m=i.slice(0,2),e=-1;for(var Y=2;Y<i.length;Y++){if((i[Y].type==0||i[Y].type==3)&&i[Y].ay!=-1)e++;
if(C.indexOf(e)!=-1)m.push(i[Y])}return m};I.o.aDl=function(i){var C=0;for(var Y=0;Y<i.length;Y++)if(i[Y].type==0||i[Y].type==3)C=Y;
return i[C]};I.o.vS=function(i){var C=-1;for(var Y=0;Y<i.length;Y++)if((i[Y].type==0||i[Y].type==3)&&i[Y].ay!=-1)C++;
return C+1};I.o.IY=function(i,C,m){var e=-1;for(var Y=0;Y<i.length;Y++)if((i[Y].type==0||i[Y].type==3)&&(m||i[Y].ay!=-1)){e++;
if(e==C)return Y}return-1};I.o.Tb=function(i,C,m){var e=-1;for(var Y=0;Y<i.length;Y++)if((i[Y].type==0||i[Y].type==3)&&(m||i[Y].ay!=-1)){if(Y>=C)return e;
e++}return e};I.o.uv=function(i,C){var m=-1,e=0;for(var Y=0;Y<i.length;Y++){if((i[Y].type==0||i[Y].type==3)&&i[Y].ay!=-1)m++;
if(m==C)e++}return e};I.o.a8i=function(i){var C=180;for(var Y=0;Y<i.length;Y++){if(i[Y].type!=0&&i[Y].type!=3)continue;
var m=i[Y].length;if(m<3)continue;for(var e=0;e<m;e++){var z=i[Y+1+(e-1+m)%m],L=i[Y+1+e],l=i[Y+1+(e+1)%m],x=L.L,S=L.My.LJ(x)?z.sP:L.My,k=L.sP.LJ(x)?l.My:L.sP;
if(x.LJ(S)||x.LJ(k))continue;var f=S.x-x.x,X=S.y-x.y,o=k.x-x.x,A=k.y-x.y,S=Math.atan2(S.y-x.y,S.x-x.x)*180/Math.PI,k=Math.atan2(k.y-x.y,k.x-x.x)*180/Math.PI,P=Math.abs(k-S)%360,F=P>180?360-P:P;
if(F<C)C=F}}return C*Math.PI/180};I.o.Yw=function(i){var C=i.segments?[i]:i.children,m=[];for(var Y=0;
Y<C.length;Y++){var e=C[Y],z=e.segments,L=e.closed?0:3,l=m.length,x=null;if(z.length<=1)continue;m.push({type:L,length:z.length,ay:0,pj:2});
for(var S=0;S<z.length;S++){var k=z[S],f=new b5(k.handleIn.x,k.handleIn.y),X=new b5(k.handleOut.x,k.handleOut.y),o=new b5(k.point.x,k.point.y),A={type:L+1,My:o.add(f),L:o,sP:o.add(X)};
if(x==null)x=A;m.push(A);if(S+1==z.length&&b5.qM(x.L,A.L)<1e-5){m.pop();m[l].length--;x.My=A.My;if(L==3)for(var P=l;
P<m.length;P++)m[P].type-=3}}}return m};I.o.PL=function(i){I.o.dl();var C=[],m,e=new paper.Color(1,0,0);
function z(A,x){A.remove();A.closed=!x;A.fillRule="evenodd"}for(var Y=0;Y<i.length;Y++){if(i[Y].type>5)continue;
var L=i[Y].length,l;if(Y==i.length-1)break;var x=i[Y].type==3;if(Y==2){if(!I.o.Q_(i))l="subtract";else l="unite"}else{if(i[Y].ay==0)l="exclude";
if(i[Y].ay==1)l="unite";if(i[Y].ay==2)l="subtract";if(i[Y].ay==3)l="intersect"}if(i[Y].ay!=-1){m=new paper.CompoundPath;
C.push([m,l]);m.fillRule="evenodd";m.fillColor=e}var S=[];for(var k=0;k<L;k++){var f=i[Y+1+k],X=f.My._3(f.L),o=f.sP._3(f.L);
S.push([[f.L.x,f.L.y],[X.x,X.y],[o.x,o.y]])}var A=new paper.Path(S);z(A,x);m.addChild(A);Y+=L}return C};
I.o.VT=function(i){for(var Y=0;Y<i.length;Y++)i[Y][0].remove()};I.o.Rv=function(i){for(var Y=0;Y<i.length;
Y++){var C=i[Y];if(C.L==null)continue;if(!C.L.LJ(C.My)||!C.L.LJ(C.sP))return!1}return!0};I.o.aa6=function(i){if(i.length<=5)return 0;
var C=0,m=i.length-3-1;for(var Y=0;Y<m;Y++){var e=i[3+Y],z=i[3+Y+1];if(e.type==0||z.type==0)return 0;
C+=(z.L.x-e.L.x)*(e.L.y+z.L.y)}C+=(i[3].L.x-i[3+m].L.x)*(i[3+m].L.y+i[3+1].L.y);return-C*.5};I.o.wZ=function(i){var C=i[2],m=!1;
if(i.length==2)m=i[1].all==0;else if(i[1].all==1){if(C.ay==1||C.ay==3)m=!0;else m=!1}else{if(C.ay==1||C.ay==3||C.ay==0)m=!0;
else m=!1}return m};I.o.Q_=function(i){var C=I.o.wZ(i);for(var Y=3;Y<i.length;Y++)if(i[Y].ay==3)C=!0;
return C};I.o.aaY=0;I.o.ap_=0;I.o.aqy=0;I.o.aa8=function(i,C,m,e){if(m.bs())return;var z=m.P(),R=16384;
I.o.aaY+=z;if(z>I.o.ap_){I.o.ap_=z}var L=m.m,l=m.J;if(e==null&&I.o.Rv(i)&&i[2]&&i[2].ay!=2){var x=!0;
for(var Y=2;Y<i.length;)if(i[Y].length==2)Y+=3;else{x=!1;break}if(x){return}if(I.o.bd(i)){C.fill(255);
var S=I.o.RP(i);if(S.P()!=z){var k=1-(S.x-m.x),f=1-(S.y-m.y),X=1-(m.x+m.m-(S.x+S.m)),o=1-(m.y+m.J-(S.y+S.J)),A=~~(k*255),P=~~(X*255),F=~~(f*255),n=~~(o*255);
C.fill(F,0,L);C[0]=~~(k*f*255);C[L-1]=~~(X*f*255);for(var Y=L;Y<z;Y+=L){C[Y]=A;C[Y+L-1]=P}C.fill(n,(l-1)*L,l*L);
C[z-L]=~~(k*o*255);C[z-1]=~~(X*o*255)}return}}var Q=Math.ceil(L/R),s=Math.ceil(l/R),j=Math.ceil(L/Q),_=Math.ceil(l/s),B=Date.now();
for(var N=0;N<s;N++)for(var a=0;a<Q;a++){var O=a*j,H=N*_,q=j,h=_,D=I.BF(q,h);if(!I.o.wZ(i))D.fillRect(0,0,q,h);
I.o.PK(i,D,-m.x-O,-m.y-H,e);var T=new Uint8Array(D.getImageData(0,0,q,h).data.buffer);if(q==L&&h==l)I.Ud(T,C,3);
else I.Kf(T,new j2(O,H,q,h),C,new j2(0,0,L,l))}};I.o.a8r=function(i){var C=!1,m=!1,e=0,z=!1;for(var Y=0;
Y<i.length;Y++){var L=i[Y].ay;if(L!=null){e++;if(L==-1)C=!0;if(L==1||L==2||L==3)m=!0;if(i[Y].type==0)z=!0}}if(!C&&e<20&&z&&m)i=I.o.JB(i);
return i};I.o.PK=function(i,C,m,e,z,L){if(z!=null){i=I.o.a8r(i)}for(var Y=0;Y<i.length;Y++){if(i[Y].type>5)continue;
var l=i[Y].length;if(l==0)continue;if(Y==i.length-1)break;var x=i[Y].type==3,S=i[Y].ay;if(S!=-1&&z==null){var k=["xor","source-over","destination-out","source-in"][S];
C.globalCompositeOperation=k}if(i[Y].ay!=-1){C.beginPath();if(z)I.o.yD(jt.lc.tB(z,null,1),C)}I.o.anr(C,i,Y+1,l,m,e,x);
if(x){}else C.closePath();if(i[Y+1+l]==null||i[Y+1+l].ay!=-1){if(z){if(L)C.clip();C.stroke()}else C.fill(S==-1?"nonzero":"evenodd")}Y+=l}C.globalCompositeOperation="source-over";
C.setLineDash([])};I.o.yD=function(i,C){var m=i.lwidth;C.setLineDash(i.dash);C.lineCap=["butt","round","square"][i.lcap];
C.lineJoin=["miter","round","bevel"][i.ljoin];C.lineWidth=i.sal==1?m:m*2;C.miterLimit=i.mlimit};I.o.anr=function(i,C,Y,m,e,z,L){var l=C[Y],x=null;
i.moveTo(l.L.x+e,l.L.y+z);for(var S=Y;S<Y+m-1;S++){l=C[S];x=C[S+1];i.bezierCurveTo(l.sP.x+e,l.sP.y+z,x.My.x+e,x.My.y+z,x.L.x+e,x.L.y+z)}if(!L){l=C[S];
x=C[Y];i.bezierCurveTo(l.sP.x+e,l.sP.y+z,x.My.x+e,x.My.y+z,x.L.x+e,x.L.y+z)}};I.o.a9x=function(i,C){var m=[],e=C?4:1;
for(var Y=0;Y<i.length;Y+=2){var z=new b5(i[Y],i[Y+1]);m.push({type:e,My:z.clone(),L:z.clone(),sP:z.clone()})}return m};
I.o.a7A=function(i,C,m){var e=(1-(m!=null?m:25)*.01)*10;if(e>0){for(var Y=0;Y<C.length;Y++){var z=C[Y],L=I.o.IY(i,z),l=I.o.uv(i,z),x=i.slice(L,L+l);
I.o.dl();var S=new paper.Path;S.remove();S.closed=!0;for(var k=1;k<x.length;k++)S.add(new paper.Point(x[k].L.x,x[k].L.y));
var f=S.simplify(e);if(f)i.splice(L,l,...I.o.Yw(S))}}return i};I.o.qq=function(i,C,m){var e=I.C.OO(i),z=Math.sqrt(Math.sqrt(e.P()))*.2,L=.2;
i=i.slice(0);var l=i.length,x=C?0:2;for(var S=0;S<5;S++)for(var Y=x;Y<i.length-x;Y+=2){var k=(Y-2+l)%l,f=(Y+2)%l,X=i[Y],o=i[Y+1],A=(i[k]+i[f])*.5,P=(i[k+1]+i[f+1])*.5;
i[Y]=X+(A-X)*L;i[Y+1]=o+(P-o)*L}if(m)return I.o.vC.Cf(i,null,!C);I.o.dl();var F=new paper.Path;F.remove();
F.closed=C;for(var Y=0;Y<i.length;Y+=2)F.add(new paper.Point(i[Y],i[Y+1]));F.simplify(z);var n=[{type:6},{type:8,all:0}];
n=n.concat(I.o.Yw(F));return n};I.o.Qo=function(i,C,m){var e=i[C].length,z=i[C].type,L=0,l=i.slice(C+1,C+1+e);
for(var Y=0;Y<e;Y++){var x=m[(Y-1+e)%e],S=m[(Y+1+e)%e],k=m[Y];if(k!=0){var f=l[(Y-1+e)%e].L,X=l[(Y+0+e)%e].L,o=l[(Y+1+e)%e].L,A=b5.qM(X,f),P=b5.qM(X,o),F=I.C.aaz(f.x,f.y,X.x,X.y,o.x,o.y,k)[0],n=Math.min(F,x==0?A:A/2,S==0?P:P/2);
k*=n/F;var R=I.C.a4C(f.x,f.y,X.x,X.y,o.x,o.y,k),Q={type:z+1,My:new b5(R[2],R[3]),L:new b5(R[2],R[3]),sP:new b5(R[4],R[5])},s={type:z+1,My:new b5(R[6],R[7]),L:new b5(R[8],R[9]),sP:new b5(R[8],R[9])};
i.splice(C+L+1,1,Q,s);L++;i[C].length++}L++}};I.o.Rv=function(i){for(var Y=0;Y<i.length;Y++){var C=i[Y],m=C.type;
if(m==1||m==2||m==4||m==5)if(!C.L.LJ(C.My)||!C.L.LJ(C.sP))return!1}return!0};I.o.bd=function(i){if(i.length!=7||i[2].length!=4||!I.o.Rv(i))return!1;
for(var Y=0;Y<4;Y++){var C=!0;for(var m=0;m<4;m++){var e=i[3+(Y+m&3)],z=i[3+(Y+m+1&3)];if(e.L.x!=z.L.x&&e.L.y!=z.L.y)C=!1}if(C)return!0}return!1};
I.o.awU=function(i){if(i.length<6)return 0;var C=i.length-2,m=0;for(var Y=0;Y<C;Y+=2)m+=(i[Y+2]-i[Y])*(i[Y+1]+i[Y+3]);
m+=(i[0]-i[C])*(i[C+1]+i[1]);return-m*.5};I.o.a0X=function(i){i=cc.hF.ug(i);var C=I.o.vS(i);for(var m=0;
m<C;m++){var e=I.o.IY(i,m)+1,z=i[e-1].length,L=[];for(var Y=0;Y<z;Y++){var l=i[e+Y].L;L.push(l.x,l.y)}var x=I.o.awU(L);
if(x<0)I.o.ab6(i,e-1)}return i};I.o.ab6=function(i,C){var m=C+1,e=i[C].length,z=[];for(var Y=0;Y<e;Y++){var L=i[m+Y],l=L.My;
L.My=L.sP;L.sP=l;z.push(L)}for(var Y=0;Y<e;Y++)i[m+Y]=z[e-1-Y]};I.o.vC={};I.o.vC.Cf=function(i,C,m){var e=[{type:6},{type:8,all:0}],z=null;
e.push({type:m?3:0,ay:1,length:0,X0:0,QG:0,pj:1});if(C==0||C==null)z=null;else if(C instanceof Array)z=C;
else{z=[];for(var Y=0;Y<i.length;Y+=2)z.push(C)}e=e.concat(I.o.a9x(i,m));e[2].length=e.length-3;if(z)I.o.Qo(e,2,z);
return e};I.o.vC.aab=function(i,C,m,e,z){var L=[],l=[],x=.553,S=1,k=-1;L.push({type:1,My:new b5(0,x),L:new b5(0,0),sP:new b5(0,-x)});
z+=2;for(var Y=0;Y<z;Y++){var f={type:1};if(Y==0){f.L=new b5(1,-1);f.My=new b5(1-x,-1);f.sP=new b5(1+x,-1)}else{var X=-(Y+2)*Math.PI/2,o=1+((Y&1)==1?Y-1:Y),A=Math.sin(X),P=Math.cos(X);
S+=o*(A-P);k+=o*(P+A);f.L=new b5(S,k);f.My=new b5(S+o*P*x,k-o*A*x);if((Y&1)==1)o+=2;f.sP=new b5(S-o*P*x,k+o*A*x)}var F={type:1,My:new b5(-f.sP.x,-f.sP.y),L:new b5(-f.L.x,-f.L.y),sP:new b5(-f.My.x,-f.My.y)};
L.push(f);if(Y<z-2)l.push(F)}l.reverse();L=L.concat(l);var n=[{type:6},{type:8,all:0}];n.push({type:0,ay:1,length:L.length,X0:0,QG:0,pj:1});
n=n.concat(L);var R=new hN(m/z,0,0,m/z,0,0);R.rotate(e);R.translate(i,C);I.o.Pa(n,R);return n};I.o.vC.Rect=function(i,C,m,e,z){var L=[i,C,i+m,C,i+m,C+e,i,C+e];
return I.o.vC.Cf(L,z)};I.o.vC.Rp=function(i,C,m,e,z,L,l,x){var S=[],k=2*Math.PI/z;for(var Y=0;Y<z;Y++)S.push(Math.cos(Y*k-e),Math.sin(Y*k-e));
if(l!=null){var f=I.C.OO(S),X=f.m,o=f.J,A=l/(X/2),P=x/(o/2);for(var Y=0;Y<S.length;Y+=2){S[Y]=(S[Y]-(f.x+X/2))*A;
S[Y+1]=(S[Y+1]-(f.y+o/2))*P}m=1}var F=new hN(m,0,0,m,0,0);F.translate(i,C);I.C.i(S,F,S);return I.o.vC.Cf(S,L)};
I.o.vC.a8K=function(i,C,m,e,z,L,l){var x=[],S=Math.PI/z;for(var Y=0;Y<z*2;Y++){var k=(Y&1)==0?1:l;x.push(k*Math.cos(Y*S),k*Math.sin(Y*S))}var f=new hN(m,0,0,m,0,0);
f.rotate(e);f.translate(i,C);I.C.i(x,f,x);return I.o.vC.Cf(x,L)};I.o.vC.$P=function(i,C,m,e,z){return I.o.vC.mj(0,i,C,m,e,z)};
I.o.vC.a4t=function(i,C,m,e,z,L){return I.o.vC.mj(1,i,C,m,e,z,L)};I.o.vC.B7=function(i,C,m,e,z,L){return I.o.vC.mj(2,i,C,m,e,z,L)};
I.o.vC.mj=function(i,C,m,e,z,L,l){var x=Math.sqrt((e-C)*(e-C)+(z-m)*(z-m)),S;L/=2;if(i==0)S=[-L,0,L,0,L,x,-L,x];
if(i==1){var k=L*2*l*1.3/1.5,f=L*l;S=[-L,0,L,0,L,x-k,f,x-k,0,x,-f,x-k,-L,x-k]}if(i==2){var k=l[3],f=l[2]/2,X=k*(2/3)*l[4]/100,o=k-X,A=k;
S=[];if(l[0])S.push(-L,o,-f,A,0,0,f,A,L,o);else S.push(-L,0,L,0);if(l[1])S.push(L,x-o,f,x-A,0,x,-f,x-A,-L,x-o);
else S.push(L,x,-L,x)}var P=new hN(1,0,0,1,0,0);P.rotate(Math.atan2(-z+m,e-C)+Math.PI/2);P.translate(C,m);
I.C.i(S,P,S);return I.o.vC.Cf(S,0)};I.o.vC.Xl=function(i,C,m,e){var z=[{type:6},{type:8,all:0}],X=.553;
z.push({type:0,ay:1,length:4,X0:0,QG:0,pj:1});var L=i,l=C,x=i+m,S=C+e,i=(L+x)/2,C=(l+S)/2,k=(L-x)/2,f=(l-S)/2;
z.push({type:1,My:new b5(i-X*k,C-f),L:new b5(i,C-f),sP:new b5(i+X*k,C-f)});z.push({type:1,My:new b5(i+k,C-X*f),L:new b5(i+k,C),sP:new b5(i+k,C+X*f)});
z.push({type:1,My:new b5(i+X*k,C+f),L:new b5(i,C+f),sP:new b5(i-X*k,C+f)});z.push({type:1,My:new b5(i-k,C+X*f),L:new b5(i-k,C),sP:new b5(i-k,C-X*f)});
return z};I.o.vC.akT=function(i,C,m,e,z){var L=[{type:6},{type:8,all:0}];L.push({type:3,ay:1,length:5,X0:0,QG:0,pj:1});
var l=(z-e)/4;for(var Y=0;Y<5;Y++){var x=Y*l,S=Math.cos(x),k=Math.sin(x),f=.553*(l/(Math.PI/2)),X=k*f,o=-S*f,A=new b5(S,k);
L.push({type:4,My:Y==0?A.clone():new b5(S+X,k+o),L:A,sP:Y==4?A.clone():new b5(S-X,k-o)})}var P=new hN;
P.rotate(-e);P.scale(m,m);P.translate(i,C);I.o.Pa(L,P);return L};I.lu={};I.lu.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
I.lu.atJ={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
I.lu.gL=function(i){var C=i.warpStyle.v.warpStyle;if(C=="warpNone")return!0;else if(C=="warpCylinder")return!1;
else if(C=="warpCustom"){var m=!1,e=I.lu.agx(i);for(var Y=0;Y<4;Y++)for(var z=0;z<4;z++){var L=e[Y*2]-e[(z*4+Y)*2],l=e[Y*4*2+1]-e[(Y*4+z)*2+1];
if(L*L>1||l*l>1)m=!0}return!m}else return i.warpValue.v==0&&i.warpPerspective.v==0&&i.warpPerspectiveOther.v==0};
I.lu.as$=function(i){var C=JSON.parse(JSON.stringify(i));C.v.classID="quiltWarp";C.v.deformNumRows={t:"long",v:4};
C.v.deformNumCols={t:"long",v:4};if(C.v.customEnvelopeWarp)I.lu.a9C(C.v,[[0,1],[0,1]]);return C};I.lu.af4=function(i){var C;
if(I.lu.I0(i.v)==16)C=JSON.parse(JSON.stringify(i));else C={t:"Objc",v:I.lu.R(I.lu.S8(i.v))};C.v.classID="warp";
delete C.v.deformNumRows;delete C.v.deformNumCols;var m=C.v.customEnvelopeWarp;if(m){delete m.v.quiltSliceX;
delete m.v.quiltSliceY}return C};I.lu.I0=function(i){return i.deformNumRows.v*i.deformNumCols.v};I.lu.R=function(i){var C={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(i){C.classID="quiltWarp";C.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:i.y}},Left:{t:"UntF",v:{type:"#Pxl",val:i.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:i.y+i.J}},Rght:{t:"UntF",v:{type:"#Pxl",val:i.x+i.m}}}};
C.uOrder={t:"long",v:4};C.vOrder={t:"long",v:4};C.deformNumRows={t:"long",v:4};C.deformNumCols={t:"long",v:4}}return C};
I.lu.ag6=function(i,C,m){for(var Y=0;Y<i.length;Y+=2){var e=i[Y],z=i[Y+1],L=(1-C)/2,l=1-L,x=L+e*(l-L);
z=.5+(z-.5)*x*2;var S=(1-m)/2,k=1-S,f=S+z*(k-S);e=.5+(e-.5)*f*2;i[Y]=e;i[Y+1]=z}};I.lu.wl=function(i,C){return{id:i,type:"UnFl",uID:"#Pxl",arr:C}};
I.lu.a9C=function(i,C){var m=I.lu.S8(i);function e(L,l){L=L.slice(0);var x=L.length,Y;for(Y=0;Y<x;Y++)L[Y]*=l;
L[0]-=.6;L[x-1]+=.6;return L}var z=i.customEnvelopeWarp.v;z.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[I.lu.wl("quiltSliceX",e(C[0],m.m))]}};
z.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[I.lu.wl("quiltSliceY",e(C[1],m.J))]}}};I.lu.a0d=function(i){var C=I.lu.S8(i);
function m(l,x){l=l.slice(0);var L=l.length,Y,S=1e9,k=-S;for(Y=0;Y<L;Y++){if(l[Y]<S)S=l[Y];if(l[Y]>k)k=l[Y]}for(Y=0;
Y<L;Y++)l[Y]=(l[Y]-S)/(k-S);l[0]=0;l[L-1]=1;return l}var e=i.customEnvelopeWarp.v,z=[],L=["X","Y"];for(var Y=0;
Y<2;Y++)z.push(m(e["quiltSlice"+(Y==0?"X":"Y")].v.arr[0].arr.slice(0),Y==0?C.m:C.J));return z};I.lu.at3=function(i,C){var m=[],e=[];
for(var Y=0;Y<C.length;Y+=2){m.push(C[Y]);e.push(C[Y+1])}i.customEnvelopeWarp.v.meshPoints.v.arr=[I.lu.wl("Hrzn",m),I.lu.wl("Vrtc",e)]};
I.lu.agx=function(i){var C=[],m=i.customEnvelopeWarp.v.meshPoints.v.arr,e=m[0].arr,z=m[1].arr;for(var Y=0;
Y<e.length;Y++)C.push(e[Y],z[Y]);return C};I.lu.i3=function(i,C){var m,e=i.warpStyle.v.warpStyle;if(e=="warpCustom")m=[i.deformNumCols.v,i.deformNumRows.v,I.lu.a0d(i),I.lu.agx(i)];
else{if(C==null)C=I.lu.S8(i);if(C.bs())C.m=C.J=1;if(e=="warpCylinder"){var z=$.V.dR(i.warpValues);m=I.lu.lu(e,z)}else{var L="warpPerspective";
m=I.lu.lu(e,i.warpValue.v/100,i.warpRotate.v.Ornt=="Hrzn",i[L].v/100,i[L+"Other"].v/100,C.m/C.J)}I.lu.atg(m[3],C)}return m};
I.lu.atg=function(i,C){for(var Y=0;Y<i.length;Y+=2){i[Y]=C.x+i[Y]*C.m;i[Y+1]=C.y+i[Y+1]*C.J}};I.lu.aau=function(i){var C=Math.sin(i*Math.PI/2),m=Math.pow(i,1/3.5),e=(1-i)*C+i*m;
e=Math.pow(e,1.045);var z=.1725+.0573*e,L=1-(.96*C+.04*m);L=Math.pow(L,1.27);var l=1/129+(.167684-1/129)*L;
return[z,l]};I.lu.XL=function(i,C){i.warpStyle.v.warpStyle="warpCustom";i.deformNumCols.v=C[0];i.deformNumRows.v=C[1];
var m="customEnvelopeWarp";if(i[m]==null)i[m]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
I.lu.a9C(i,C[2]);I.lu.at3(i,C[3])};I.lu.S8=function(i){var C=i.bounds.v,m=C.Left.v.val,e=C.Rght.v.val,z=C.Top.v.val,L=C.Btom.v.val;
if(m==null){m=C.Left.v,e=C.Rght.v;z=C.Top.v,L=C.Btom.v}return new j2(m,z,e-m,L-z)};I.lu.lu=function(i,C,m,e,z,L){if(i=="warpCylinder"){var l=C,x=l[0],S=l[1],k=l[2],f=l[3],X=l[4],o=l[5],A=l[6],P=[];
for(var F=0;F<4;F++)for(var n=0;n<13;n++)P.push(n/12,F/3);var R=k-x,Q=S-f,s=X*.5*(R/Q),j=o*.5*(R/Q),_=I.lu.aau(A),B=[0,0,0,0,0,_[0],.5],N=[0,0,0,0,s*.42,s,s],a=[0,0,0,0,j*.42,j,j];
for(var F=0;F<4;F++)for(var n=0;n<7;n++){var Y=F*13+n;P[Y*2]=B[n];var O=N[n],H=1+a[n],q=F/3;P[Y*2+1]=O*(1-q)+H*q}for(var F=0;
F<4;F++)for(var n=0;n<6;n++){var Y=F*13+n,h=F*13+12-n;P[h*2]=1-P[Y*2];P[h*2+1]=P[Y*2+1]}var q=_[1];return[13,4,[[0,q,.5,1-q,1],[0,1]],P]}var D=I.bZ.R(0,0,1,1);
if(i!="warpNone"){if(!m)L=1/L;I.lu.a7L(D,i,C,e,z,L);var T=D.slice(0);if(!m)for(var F=0;F<4;F++)for(var n=0;
n<4;n++){D[(F*4+n)*2]=T[(n*4+F)*2+1];D[(F*4+n)*2+1]=T[(n*4+F)*2]}if(C==0)I.lu.ag6(D,e,z);else{var p=new hN;
p.translate(-.5,-.5);I.C.i(D,p,D);I.lu.afr(D,z,e);p.Fb();I.C.i(D,p,D)}}return[4,4,[[0,1],[0,1]],D]};
I.lu.a7L=function(i,C,m,e,z,L){var l=new j2(0,0,L,1);for(var Y=0;Y<i.length;Y+=2)i[Y]*=L;for(var Y=0;
Y<4;Y++){for(var x=0;x<4;x++){var S=2*(4*Y+x),k=i[S]-l.x,f=i[S+1]-l.y,X=k,o=f;if(m!=0){var A=l.m/2,P=l.J/2;
X-=A;o-=P;var F=X,n=X,R=-P,Q=P,s=Math.abs(m),j=Math.tan((1-s)*Math.PI/2),_=Math.sqrt(j*j+1),B=Math.atan2(1,j),N=X/A*B,a=A*_,O=A*_+l.J,H=Math.cos(B),q=Math.sin(B),h=I.lu.a0m(H,q),D=I.lu.asD(H,q),T=-j*A+h*a;
if(C=="warpArc"){F=Math.sin(N)*O;R=j*A-Math.cos(B)*O+P;n=Math.sin(N)*a;Q=j*A-Math.cos(B)*a+P;if(x==1||x==2){F=x==1?-D*O:D*O;
n=x==1?-D*a:D*a;R=j*A+P-h*O;Q=j*A+P-h*a}if(m<0){var p=F;F=n;n=p;p=R;R=-Q;Q=-p}}if(C=="warpArcLower"){if(x==1||x==2){n=x==1?-D*a:D*a;
Q=m<0?P-T:P+T}}if(C=="warpArcUpper"||C=="warpArch"||C=="warpBulge"){if(x==1||x==2){F=x==1?-D*a:D*a;R=m<0?-P+T:-P-T}if(C=="warpArch"){n=F;
Q=R+2*P}if(C=="warpBulge"){n=F;Q=-R}}if(C=="warpFish"||C=="warpFlag"||C=="warpWave"){var y=x;if(C=="warpFlag")y=3-x;
if(y==1){R-=m*4*P;Q+=m*4*P}if(y==2){R+=m*4*P;Q-=m*4*P}if(C=="warpFlag"||C=="warpWave")R=Q-2*P}if(C=="warpRise"){if(x<2)R=-P+m*P*4;
Q=R+2*P}var b=(o+P)/l.J;X=F+b*(n-F);o=R+b*(Q-R);if(C=="warpWave"){if(Y==0)o=-P;if(Y==3)o=P;if(Y==1||Y==2)o=2*P*(Y/3-.5)*(1/3)+o*(2/3)}if(C=="warpFisheye"){if((Y==1||Y==2)&&(x==1||x==2)){X=X+4*X*m;
o=o+4*o*m}}if(C=="warpInflate"){var g=2/3;if((Y==1||Y==2)&&(x==1||x==2)){X=X+.5*X*m;o=o+.5*o*m}else if(Y==1||Y==2)X=X+g*X*m;
else if(x==1||x==2)o=o+g*o*m}if(C=="warpSqueeze"){var g=2/3;if((Y==1||Y==2)&&(x==1||x==2)){if(m>0)X=X-g*X*m;
else o=o+g*o*m}else if(Y==1||Y==2)X=X-g*X*m;else if(x==1||x==2)o=o+g*o*m}if(C=="warpTwist"){if((Y==1||Y==2)&&(x==1||x==2)){var u=m*Math.PI/2,_=1+Math.abs(m)*2,t=X*Math.cos(u)-o*Math.sin(u),V=X*Math.sin(u)+o*Math.cos(u);
X=t*_;o=V*_}}if(C=="warpShellLower"||C=="warpShellUpper"){if(C=="warpShellUpper"){Y=3-Y;o=-o}if(Y>2||Y==2&&(x==0||x==3)){if(m>0){var c=a+Y/3*2*P;
X=Math.sin(N)*c;o=-j*A-P+Math.cos(N)*c;if(x==1||x==2){X=x==1?-D*c:D*c;o=-j*A-P+h*c}}else{if((x==1||x==2)&&Y==3){X=x==1?-D*a:D*a;
o=j*A-h*a+P}else if(Y==2){o=P-P*(2/3)*Math.cos(N);X=X+P*(2/3)*Math.sin(N)}}}if(C=="warpShellUpper"){Y=3-Y;
o=-o}}X+=A;o+=P}k=X,f=o;i[S]=k+l.x;i[S+1]=f+l.y}}for(var Y=0;Y<i.length;Y+=2)i[Y]/=L};I.lu.afr=function(i,C,m){var e=[];
for(var z=0;z<4;z++)e.push(1-m+z/3*2*m);var L=[];for(var z=0;z<4;z++)L.push(1-C+z/3*2*C);var l=[0,0,0,0],x=[0,0,0,0];
for(var Y=0;Y<4;Y++)for(var z=0;z<4;z++){var S=2*(4*Y+z),k=i[S],f=i[S+1];l[z]+=k/4;x[z]+=f/4}for(var Y=0;
Y<4;Y++)for(var z=0;z<4;z++){var X=e[z],S=2*(4*Y+z),k=i[S],f=i[S+1],o=l[z],A=x[z];i[S]=o+X*(k-o);i[S+1]=A+X*(f-A)}var P=i.slice(0);
for(var Y=0;Y<4;Y++)for(var z=1;z<3;z++){var S=2*(4*Y+z),k=i[S],f=i[S+1],F=S+(z==1?-2:2),n=i[F],R=i[F+1];
i[S]=k-n;i[S+1]=f-R}var Q=i[0],s=i[1],j=i[8],_=i[9],B=i[16],N=i[17],a=i[24],O=i[25],H=i[6],q=i[7],h=i[14],D=i[15],T=i[22],p=i[23],y=i[30],b=i[31],g=H-Q,u=q-s,t=h-j,V=D-_,c=T-B,E=p-N,Z=y-a,G=b-O;
for(var Y=0;Y<4;Y++){var J=2*Y*4,K=0,M=0,U=Y==1?.33:.66,r=1-U;if(Y==0){K=g;M=u}if(Y==1){K=r*g+U*-Z;M=r*u+U*-G}if(Y==2){K=r*g+U*-Z;
M=r*u+U*-G}if(Y==3){K=-Z;M=-G}i[J]=i[J]+K/2;i[J+1]=i[J+1]+M/2;i[J+6]=i[J+6]-K/2;i[J+7]=i[J+7]-M/2}for(var Y=0;
Y<4;Y++)for(var z=1;z<3;z++){var S=2*(4*Y+z),k=i[S],f=i[S+1],F=S+(z==1?-2:2),n=i[F],R=i[F+1],X=2*Y/3;
i[S]=n+X*k;i[S+1]=R+X*f}for(var Y=1;Y<3;Y++)for(var z=1;z<3;z++){var S=2*(4*Y+z),k=i[S],f=i[S+1],dS=Y==1?-8:-16,w=Y==1?16:8,di=i[S+dS],eM=i[S+dS+1],j5=i[S+w],ds=i[S+w+1],X=Y/3;
k=(1-X)*di+X*j5;f=(1-X)*eM+X*ds;i[S]=k;i[S+1]=f}I.C.U9(P,i,i,C)};I.lu.a0m=function(i,C){return(4-i)*(1/3)};
I.lu.asD=function(i,C){return(1-i)*(3-i)/(3*C)};I.Vu={};I.Vu.auj=function(i,C,m,e,z,L,l,x,S,k){for(var f=0;
f<x;f++)for(var X=0;X<l;X++){var o=3*(f*l+X),A=f+L,P=X+z,F=i[A*C+P];e[o]=F;e[o+1]=F;e[o+2]=F}};I.Vu.GV=function(i,C,m,e,z,L,l,x,S,k){var f=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],X=1/S,o=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],A=new Uint32Array(6);
for(var P=0;P<x;P++){for(var F=0;F<l;F++){var n=3*(P*l+F),R=P+L,Q=F+z;A[0]=0;A[1]=0;A[2]=0;A[3]=0;A[4]=0;
A[5]=0;for(var Y=0;Y<16;Y+=2){var s=Q+o[Y],j=R+o[Y+1],_=s-S*~~(s*X),B=j-S*~~(j*X),N=k[B*S+_];A[N]+=i[j*C+s];
A[N+3]++}var s=Q,j=R,_=s-S*~~(s*X),B=j-S*~~(j*X),N=k[B*S+_];A[N]=i[R*C+Q];A[N+3]=1;e[n]=A[0]*f[A[3]];
e[n+1]=A[1]*f[A[4]];e[n+2]=A[2]*f[A[5]]}}};I.Vu.asV=function(i,C,m){for(var Y=0;Y<m;Y+=2)i[C+Y]=i[C+Y+1];
C=C+m;for(var Y=0;Y<m;Y+=2)i[C+Y+1]=i[C+Y]};I.Vu.awO=function(i,C,m,e){for(var Y=0;Y<e;Y+=2){var z=C+Y*m;
i[z]=i[z+m];i[z+m+1]=i[z+1]}};I.Vu.a6r=function(i,C,m,e,z,L){var l=e[z],x=e[z+1],S=e[L],k=e[L+1],f=x+S>>>1;
i[C]=i[C+3]=i[m]=i[m+3]=l;i[C+1]=f;i[C+4]=x;i[m+1]=S;i[m+4]=f;i[C+2]=i[C+5]=i[m+2]=i[m+5]=k};I.Vu.aAC=function(i,C,m,e,z,L){var l=L*3;
for(var Y=0;Y<L;Y+=2){var x=C+Y,S=z+Y*3;I.Vu.a6r(e,S,S+l,i,x,x+m)}};I.Vu.aDo=function(i,C,m,e,z,L,l){var x=L*3;
for(var Y=0;Y<l;Y+=2){var S=C+Y*m,k=z+Y*L*3;I.Vu.a6r(e,k,k+x,i,S,S+m)}};I.Vu.azT=function(i,Y,C){var m=i[Y-C-C],e=i[Y-C],z=i[Y-2],L=i[Y-1],l=i[Y],x=i[Y+1],S=i[Y+2],k=i[Y+C],f=i[Y+C+C],X=Math.abs(e-k),o=Math.abs(L-x),A=Math.abs(l-m)*2+X,P=Math.abs(l-S)*2+o,F=Math.abs(l-z)*2+o,n=Math.abs(l-f)*2+X,R=Math.min(A,Math.min(P,Math.min(F,n)));
if(R==A)return e*3+k+l-m>>2;if(R==P)return x*3+L+l-S>>2;if(R==F)return L*3+x+l-z>>2;return k*3+e+l-f>>2};
I.Vu.lj=function(i,C,m,e,z){if(i<C&&C<m||i>C&&C>m)return~~(.5+e+(z-e)*(C-i)/(m-i));else return(e+z>>1)+(C+C-i-m>>2)};
I.Vu.aur=function(i,C,Y,m){var e=C[Y-m-1],z=C[Y-m+1],L=C[Y],l=C[Y+m-1],x=C[Y+m+1],S=i[Y-m-1],k=i[Y-m+1],f=i[Y],X=i[Y+m-1],o=i[Y+m+1],A=Math.abs(k-X)+Math.abs(i[Y-m-m+2]-f)+Math.abs(f-i[Y+m+m-2])+Math.abs(z-L)+Math.abs(L-l),P=Math.abs(S-o)+Math.abs(i[Y-m-m-2]-f)+Math.abs(f-i[Y+m+m+2])+Math.abs(e-L)+Math.abs(L-x);
if(A<P)return I.Vu.lj(z,L,l,k,X);else return I.Vu.lj(e,L,x,S,o)};I.Vu.DS=function(i,C,m,e,z,L){i[C+0]=m[z];
i[C+1]=e[z];i[C+2]=I.Vu.aur(m,e,z,L)};I.Vu.Q$=function(i,C,m,e,z,L){var l=e[z];i[C+0]=I.Vu.lj(e[z-1],l,e[z+1],m[z-1],m[z+1]);
i[C+1]=l;i[C+2]=I.Vu.lj(e[z-L],l,e[z+L],m[z-L],m[z+L])};I.Vu.F_=function(i,C,m,e,z,L){var l=e[z];i[C+0]=I.Vu.lj(e[z-L],l,e[z+L],m[z-L],m[z+L]);
i[C+1]=l;i[C+2]=I.Vu.lj(e[z-1],l,e[z+1],m[z-1],m[z+1])};I.Vu.dI=function(i,C,m,e,z,L){i[C+0]=I.Vu.aur(m,e,z,L);
i[C+1]=e[z];i[C+2]=m[z]};I.Vu.axd=function(i,C,m,e,z,L,l,x,S){var k=Date.now(),f=2,X=C-2,o=2;if((z&1)==1){f++;
X--}var A=m-2;if((L&1)==1){o++;A--}if(S==1||S==3){f++;X--}var P=i.slice(0);I.Vu.asV(P,0,C);I.Vu.awO(P,0,C,m);
I.Vu.awO(P,C-2,C,m);I.Vu.asV(P,(m-2)*C,C);for(var F=o;F<A;F+=2)for(var n=f;n<X;n+=2){var Y=F*C+n,R=I.Vu.azT(P,Y,C),Q=I.Vu.azT(P,Y+C+1,C);
P[Y]=Math.max(0,R);P[Y+C+1]=Math.max(0,Q)}var s=l,j=x;if(L+x==m){j-=2;I.Vu.aAC(i,(m-2)*C+z,C,e,(x-2)*l*3,l)}if(z+l==C){s-=2;
I.Vu.aDo(i,L*C+z+l-2,C,e,(l-2)*3,l,x)}if(S==0)for(var F=0;F<j;F+=2)for(var n=0;n<s;n+=2){var _=(F+L)*C+n+z,B=(F*l+n)*3;
I.Vu.DS(e,B,i,P,_,C);I.Vu.Q$(e,B+3,i,P,_+1,C);_+=C;B+=3*l;I.Vu.F_(e,B,i,P,_,C);I.Vu.dI(e,B+3,i,P,_+1,C)}else if(S==1)for(var F=0;
F<j;F+=2)for(var n=0;n<s;n+=2){var _=(F+L)*C+n+z,B=(F*l+n)*3;I.Vu.Q$(e,B,i,P,_,C);I.Vu.DS(e,B+3,i,P,_+1,C);
_+=C;B+=3*l;I.Vu.dI(e,B,i,P,_,C);I.Vu.F_(e,B+3,i,P,_+1,C)}else if(S==2)for(var F=0;F<j;F+=2)for(var n=0;
n<s;n+=2){var _=(F+L)*C+n+z,B=(F*l+n)*3;I.Vu.dI(e,B,i,P,_,C);I.Vu.F_(e,B+3,i,P,_+1,C);_+=C;B+=3*l;I.Vu.Q$(e,B,i,P,_,C);
I.Vu.DS(e,B+3,i,P,_+1,C)}else if(S==3)for(var F=0;F<j;F+=2)for(var n=0;n<s;n+=2){var _=(F+L)*C+n+z,B=(F*l+n)*3;
I.Vu.F_(e,B,i,P,_,C);I.Vu.dI(e,B+3,i,P,_+1,C);_+=C;B+=3*l;I.Vu.DS(e,B,i,P,_,C);I.Vu.Q$(e,B+3,i,P,_+1,C)}};
I.raw={};I.raw.adV=function(i){var C=Date.now(),m=i.width,e=i.height,z=0,L=0,l=m,x=e;if(i.t50829){var S=i.t50829;
z=S[1];L=S[0];l=S[3];x=S[2]}if(i.t50720&&i.t50720[0]*1.2>m){if(i.t50719){var k=i.t50719;z+=k[0]>>1<<1;
L+=k[1]>>1<<1}if(i.t50720){var f=i.t50720;l=z+f[0];x=L+f[1]}}var X=l-z,o=x-L,A=I.raw.arG(i),P=i.t33422,F=i.t33421;
if(F){var f=F[0],n=P.slice(0);for(var R=0;R<f;R++)for(var Q=0;Q<f;Q++){var s=(Q+(z&1))%f,j=(R+(L&1))%f;
n[R*f+Q]=P[j*f+s]}P=n}if(i.t277[0]==1&&P)I.raw.ad7(A,m,e,i,P);I.raw.O0(2,i,A,m,e);var _=new Float32Array(X*o*3);
if(i.t277[0]==1){if(F==null){I.Vu.auj(A,m,e,_,z,L,X,o)}else if(F.length!=2||F[0]!=2||F[1]!=2){console.log("Unknown CFA pattern size",F);
I.Vu.GV(A,m,e,_,z,L,X,o,F[0],P)}else{var B=i.t33422.join(","),N=0;if(B=="0,1,1,2")N=0;else if(B=="1,0,2,1")N=1;
else if(B=="2,1,1,0")N=2;else if(B=="1,2,0,1")N=3;else throw"Unknown CFA pattern "+B;if((X&1)!=0||(o&1)!=0)throw"e";
I.Vu.axd(A,m,e,_,z,L,X,o,N)}}else{for(var R=0;R<o;R++)for(var Q=0;Q<X;Q++){var a=((R+L)*m+Q+z)*3,O=(R*X+Q)*3;
_[O+0]=A[a+0];_[O+1]=A[a+1];_[O+2]=A[a+2]}}var H=_,q=_.length,h=I.raw.A3(i),D=1/h;for(var Y=0;Y<q;Y+=3){_[Y]=H[Y]*D;
_[Y+1]=H[Y+1]*D;_[Y+2]=H[Y+2]*D}I.raw.O0(3,i,_,X,o);var T=i.B1,p=X,y=o;if(T==1||T==9){}else{var b=I.raw.aCl(T,X,o),O=0;
p=b[0];y=b[1];var g=_.slice(0);for(var R=0;R<y;R++)for(var Q=0;Q<p;Q++){var u=b[2]*Q+b[3]*R+b[4],t=b[5]*Q+b[6]*R+b[7],a=(t*X+u)*3;
_[O]=g[a];_[O+1]=g[a+1];_[O+2]=g[a+2];O+=3}}return{S2:_,w5:p,SG:y}};I.raw.aCl=function(i,C,m){var e=C,z=m;
if(!1){}else if(i==2)return[C,m,-1,0,C-1,0,1,0];else if(i==3)return[C,m,-1,0,C-1,0,-1,m-1];else if(i==4)return[C,m,1,0,0,0,-1,m-1];
else if(i==5)return[m,C,0,1,0,1,0,0];else if(i==6)return[m,C,0,1,0,-1,0,m-1];else if(i==7)return[m,C,0,-1,C-1,-1,0,m-1];
else if(i==8)return[m,C,0,-1,C-1,1,0,0];else throw"unknown orientation "+i};I.raw.ad7=function(i,C,m,e,z){var L=Date.now(),D=0,y=0;
if(I.raw.A3(e)>4e4){for(var Y=0;Y<i.length;Y++)i[Y]>>=1;var l=["t50714","t50715","t50712","t50717"];
for(var Y=0;Y<l.length;Y++){var x=e[l[Y]];if(x)for(var S=0;S<x.length;S++)x[S]>>>=1}console.log("remapping to lower bit depth")}var k=~~Math.sqrt(z.length),f=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],X=[];
for(var o=0;o<k;o++)for(var A=0;A<k;A++){var Y=o*k+A,P=z[Y],F=4,n=4,R=8,Q=0,s=0;for(var S=0;S<18;S+=2){var j=(k+A+f[S])%k,_=(k+o+f[S+1])%k,B=z[_*k+j];
if(B==P){}else if(F==4){F=B;Q=S}else if(n==4&&B!=F){n=B;s=S;break}}if(n<F){var N=n;n=F;F=N;N=s;s=Q;Q=N}if(F<P){var N=F;
F=P;P=N;N=Q;Q=R;R=N}if(n<F){var N=n;n=F;F=N;N=s;s=Q;Q=N}X[Y*3]=f[R+1]*C+f[R];X[Y*3+1]=f[Q+1]*C+f[Q];
X[Y*3+2]=f[s+1]*C+f[s]}var a=~~(.996*I.raw.A3(e)),O=~~(.992*I.raw.A3(e)),H=e.t50728;if(H==null||H[0]==0)H=[1,1,1];
var q=[],h=[0,0,0];for(var o=1;o<m-1;o++)for(var A=1;A<C-1;A++){var Y=o*C+A,T=o%k*k+A%k,P=i[Y+X[T*3+0]],F=i[Y+X[T*3+1]],n=i[Y+X[T*3+2]],p=Math.max(P,F,n);
if(p>a)q.push(Y);else if(p>O){h[0]+=P;h[1]+=F;h[2]+=n;D++}}if(q.length==0)return;if(D/(C*m)<1e-5){console.log("not enough semi-saturated pixels",D);
h=H}if(h[1]<h[y])y=1;if(h[2]<h[y])y=2;var b=[h[0]/h[y],h[1]/h[y],h[2]/h[y]],g=i.slice(0);for(var u=0;
u<q.length;u++){var Y=q[u],o=~~(Y/C),A=Y-o*C,T=o%k*k+A%k,t=Math.min(65535,~~(i[Y+X[T*3+y]]*b[z[T]]));
if(t>g[Y])g[Y]=t}i.set(g)};I.raw.XZ=function(i,C,m,e){var z=Math.round(i.length/3),L=h6.kQ(e[0],e[1]),l=I.raw.aa$(m,L),x=I.X$.multiply(I.X$.tC,l),S=Math.pow(2,m.t50730?m.t50730[0]:0);
x=I.X$.multiply(x,I.X$.Kc(S,S,S));var k=I.raw.XZ.aAN;if(k==null){k=I.raw.XZ.aAN=new Float64Array(8e3);
for(var Y=0;Y<8e3;Y++)k[Y]=I.ie(Y*(1/1e3))}for(var Y=0;Y<z;Y++){var f=Y<<2,X=f-Y,o=i[X],A=i[X+1],P=i[X+2],F=x[0]*o+x[1]*A+x[2]*P,n=x[4]*o+x[5]*A+x[6]*P,R=x[8]*o+x[9]*A+x[10]*P;
if(F<0)F=0;if(n<0)n=0;if(R<0)R=0;C[X]=k[~~(F*1e3)];C[X+1]=k[~~(n*1e3)];C[X+2]=k[~~(R*1e3)]}};I.raw.arG=function(i){var C=i.width,m=i.height,e=C*m*i.t277,z=new Uint16Array(e),L=null,l=0;
I.raw.auG(i,z);I.raw.O0(1,i,z,C,m);if(i.t50712){L=i.t50712;l=L.length-1;if(L[l]>65535)throw"too big values"}var x=I.raw.awY(i),S=I.raw.a86(i);
if(L==null)for(var Y=0;Y<e;Y++)z[Y]=Math.max(0,z[Y]-x);else for(var Y=0;Y<e;Y++){var k=z[Y];if(k>l)k=l;
k=L[k];z[Y]=Math.max(0,k-x)}return z};I.raw.awY=function(i){var C=i.t50714,m=C?C[0]:0,e=i.t50715,z=i.t50716;
if(e)m+=e[0][0]/e[0][1];if(z)m+=z[0][0]/z[0][1];return Math.round(m)};I.raw.a86=function(i){var C=null,m=0;
if(i.t50712){C=i.t50712;m=C.length-1}var e=i.t50717?i.t50717[0]:(1<<i.t258[0])-1;if(C)e=Math.min(e,C[m]);
return e};I.raw.A3=function(i){var C=I.raw.awY(i),m=I.raw.a86(i);return m-C};I.raw.auG=function(i,C){var m=C.length,e=i.data,z=i.t258[0];
if(z!=16&&z!=14&&z!=12&&z!=10&&z!=8)throw"Unsupported Bits Per Sample:"+z;z=Math.round(e.length*8/m);
if(z==16&&i.isLE){I.EP(e,C);return}for(var Y=0;Y<m;Y+=2){var L=0,l=0,x=0;if(z==16){L=Y<<1;l=e[L]<<8|e[L+1];
x=e[L+2]<<8|e[L+3]}else if(z==14){var S=Y*14,k=S>>>3,f=e[k]<<24|e[k+1]<<16|e[k+2]<<8|e[k+3];if((S&7)==0){l=f>>>18;
x=f>>>4&16383}else{l=f>>>14&16383;x=f&16383}}else if(z==12){L=Y+(Y>>>1);l=e[L]<<4|e[L+1]>>4;x=(e[L+1]&15)<<8|e[L+2]}else if(z==10){var S=Y*10,k=S>>>3;
if((S&7)==0){l=(e[k]<<2|e[k+1]>>6)&1023;x=(e[k+1]<<4|e[k+2]>>4)&1023}else{l=(e[k]<<6|e[k+1]>>2)&1023;
x=(e[k+1]<<8|e[k+2]>>0)&1023}}else if(z==8){L=Y;l=e[L];x=e[L+1]}C[Y]=l;C[Y+1]=x}};I.raw.ajw=function(i,C,m,e,z,L,l){var x=i-.499999,S=C-.499999,k=~~x,f=~~S,X=x-k,o=S-f,A=(1-o)*(1-X),P=(1-o)*X,F=o*(1-X),n=o*X,R=(f*e+k)*3,Q=((f+1)*e+k)*3,s=A*m[R]+P*m[R+3]+F*m[Q]+n*m[Q+3],j=A*m[R+1]+P*m[R+4]+F*m[Q+1]+n*m[Q+4],_=A*m[R+2]+P*m[R+5]+F*m[Q+2]+n*m[Q+5];
L[l]=s;L[l+1]=j;L[l+2]=_};I.raw.O0=function(i,C,m,e,z){var L=C["t"+[51008,51009,51022][i-1]],f=0;if(L==null)return;
var l=e*z,x=W.Q,S=W.Me,k=new Uint8Array(L),jy=W.Q(k,f);f+=4;for(var X=0;X<jy;X++){var o=x(k,f);f+=4;
var A=x(k,f);f+=4;var P=x(k,f);f+=4;var F=x(k,f);f+=4;if(!1){}else if(o==1&&i==3){var n=f,R=x(k,n);n+=4;
var Q=S(k,n);n+=8;var s=S(k,n);n+=8;var j=S(k,n);n+=8;var _=S(k,n);n+=8;var B=S(k,n);n+=8;var N=S(k,n);
n+=8;n+=(R-1)*8*6;var a=S(k,n);n+=8;var O=S(k,n);n+=8;var H=a*e,q=O*z,h=Math.max(H,e-H),D=Math.max(q,z-q),T=Math.sqrt(h*h+D*D),p=1/T,y=m.slice(0);
for(var b=0;b<z;b++)for(var g=0;g<e;g++){var u=(g+.5-H)*p,t=(b+.5-q)*p,V=u*u+t*t,c=Q+s*V+j*(V*V)+_*(V*V)*V,E=B*(2*u*t)+N*(V+2*u*u),Z=N*(2*u*t)+B*(V+2*t*t),G=Math.min(H+T*(c*u+E),e-1),J=Math.min(q+T*(c*t+Z),z-1),K=(b*e+g)*3;
I.raw.ajw(G,J,y,e,z,m,K)}}else if(o==3&&i==3){var n=f,M=S(k,n);n+=8;var U=S(k,n);n+=8;var r=S(k,n);n+=8;
var dS=S(k,n);n+=8;var w=S(k,n);n+=8;var a=S(k,n);n+=8;var O=S(k,n);n+=8;var H=a*e,q=O*z,h=Math.max(H,e-H),D=Math.max(q,z-q),T=Math.sqrt(h*h+D*D),p=1/T;
for(var b=0;b<z;b++)for(var g=0;g<e;g++){var u=(g+.5-H)*p,t=(b+.5-q)*p,V=u*u+t*t,di=1+(M+(U+(r+(dS+w*V)*V)*V)*V)*V,K=(b*e+g)*3;
m[K]=di*m[K];m[K+1]=di*m[K+1];m[K+2]=di*m[K+2]}}else if(o==4&&i==1){var n=f,eM=x(k,n);n+=4;var j5=x(k,n);
n+=4;for(var Y=0;Y<l;Y++)if(m[Y]==eM)m[Y]=m[Y-2]+m[Y+2]>>1}else if(o==5&&i==1){var n=f,ds=x(k,n);n+=4;
var ba=x(k,n);n+=4;var gH=x(k,n);n+=4;for(var Y=0;Y<ba;Y++){var ir=x(k,n);n+=4;var iP=x(k,n);n+=4;var Y=ir*e+iP;
m[Y]=m[Y-2]+m[Y+2]>>1}}else if(o==7&&i==1){var n=f,iy=W.hc(k,n);n+=16;var iG=x(k,n);n+=4;var eg=x(k,n);
n+=4;var du=x(k,n),gh=x(k,n+4);n+=8;var ga=x(k,n);n+=4;var d5=new Uint16Array(ga);for(var Y=0;Y<ga;Y++)d5[Y]=W.vV(k,n+2*Y);
var fu=iy.m,ay=iy.J;for(var b=0;b<ay;b+=du)for(var g=0;g<fu;g+=gh){var Y=(iy.y+b)*e+(iy.x+g);m[Y]=d5[m[Y]]}}else if(o==8&&i==2){var n=f,iy=W.hc(k,n);
n+=16;var iG=x(k,n);n+=4;var eg=x(k,n);n+=4;var du=x(k,n),gh=x(k,n+4);n+=8;var c7=x(k,n);n+=4;var eE=[];
for(var Y=0;Y<=c7;Y++)eE[Y]=W.Me(k,n+Y*8);var jn=iy.x,dI=iy.x+iy.m,dQ=iy.y,jo=iy.y+iy.J,hT=C.t50717[0],ea=1/hT;
for(var b9=0;b9<eg;b9++)for(var b=dQ;b<jo;b+=du){var K=3*b*e+iG+b9;for(var g=jn;g<dI;g+=gh){var Y=K+3*g,bI=m[Y]*ea,ii=eE[c7];
for(var d_=c7;d_>0;d_--)ii=ii*bI+eE[d_-1];m[Y]=Math.max(0,Math.min(65535,~~(ii*hT)))}}}else if(o==9&&i==2){var n=f,iy=W.hc(k,n),g$=!0;
n+=16;var iG=x(k,n);n+=4;var eg=x(k,n);n+=4;var du=x(k,n),gh=x(k,n+4);n+=8;var c4=x(k,n),kG=x(k,n+4);
n+=8;var fC=S(k,n),bO=S(k,n+8);n+=16;var id=S(k,n),a5=S(k,n+8);n+=16;var eU=x(k,n);n+=4;if(eU!=1)throw"more than one map plane";
var af=c4*kG,a7=new Float32Array(af);for(var d_=0;d_<af;d_++)a7[d_]=W.dU(k,n+d_*4);for(var d_=0;d_<af;
d_++)if(a7[d_]!=1)g$=!1;if(!g$){var fu=iy.m,ay=iy.J,cg=.9999*(kG-1)/fu,cC=.9999*(c4-1)/ay;for(var b=0;
b<ay;b+=du)for(var g=0;g<fu;g+=gh){var Y=(iy.y+b)*e+(iy.x+g),kF=g*cg,am=b*cC,cJ=Math.floor(kF),fX=Math.floor(am),hP=kF-cJ,kx=am-fX,K=fX*kG+cJ,f2=a7[K]*(1-hP)+a7[K+1]*hP,gt=a7[K+kG]*(1-hP)+a7[K+1+kG]*hP,iD=f2*(1-kx)+gt*kx;
m[Y]=Math.max(0,Math.min(65535,~~(m[Y]*iD+.5)))}}}else console.log("Unknown opcode "+o+" in OpcodeList"+i+". Length: "+F);
f+=F}};I.raw.aa$=function(i,C){var m=h6.rI(C),e=I.raw.aCK(i,C),z=I.X$.Fb(e),L=h6.aty(m,h6.rI(h6.aeh)),l=I.X$.multiply(L,z);
return l};I.raw.aDQ=function(i){var C=i.t50728,z=1;if(C==null||C[0]==0)C=[1,1,1];var m=C.slice(0);m.push(0);
var e={x:.34567,y:.3585};do{var L=I.X$.Fb(I.raw.aCK(i,e)),l=I.X$.eq(L,m),x=h6.al6(l);z=Math.abs(e.x-x.x)+Math.abs(e.y-x.y);
e=x}while(z>1e-7);return e};I.raw.aCK=function(i,C){var m=h6.acz(C),e=I.raw.a6c,z=i.t50778?i.t50778[0]:0,L=i.t50779?i.t50779[0]:0,l=i.t50723,x=i.t50724;
if(l&&l.length==3)l=null;if(x&&x.length==3)x=null;var S=e(i.t50721,i.t50722,z,L,m.kX),k=e(l,x,z,L,m.kX);
S=S||[1,0,0,0,1,0,0,0,1];k=k||[1,0,0,0,1,0,0,0,1];var f=i.t50727?[i.t50727[0],0,0,0,i.t50727[1],0,0,0,i.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return I.X$.multiply(I.X$.MX(f),I.X$.multiply(I.X$.MX(k),I.X$.MX(S)))};I.raw.a6c=function(i,C,m,e,z){if(!i&&!C){return null}else if(i&&!C){return i}else if(z<m){return i}else if(z>e){return C}else{var L=(1/z-1/e)/(1/m-1/e),l=1-L,x=[];
for(var Y=0;Y<9;Y++)x[Y]=i[Y]*L+C[Y]*l;return x}};var h6={};h6.aeh={x:.34567,y:.3585};h6.acO=[{Z:0,J1:.18006,qg:.26352,me:-.24341},{Z:10,J1:.18066,qg:.26589,me:-.25479},{Z:20,J1:.18133,qg:.26846,me:-.26876},{Z:30,J1:.18208,qg:.27119,me:-.28539},{Z:40,J1:.18293,qg:.27407,me:-.3047},{Z:50,J1:.18388,qg:.27709,me:-.32675},{Z:60,J1:.18494,qg:.28021,me:-.35156},{Z:70,J1:.18611,qg:.28342,me:-.37915},{Z:80,J1:.1874,qg:.28668,me:-.40955},{Z:90,J1:.1888,qg:.28997,me:-.44278},{Z:100,J1:.19032,qg:.29326,me:-.47888},{Z:125,J1:.19462,qg:.30141,me:-.58204},{Z:150,J1:.19962,qg:.30921,me:-.70471},{Z:175,J1:.20525,qg:.31647,me:-.84901},{Z:200,J1:.21142,qg:.32312,me:-1.0182},{Z:225,J1:.21807,qg:.32909,me:-1.2168},{Z:250,J1:.22511,qg:.33439,me:-1.4512},{Z:275,J1:.23247,qg:.33904,me:-1.7298},{Z:300,J1:.2401,qg:.34308,me:-2.0637},{Z:325,J1:.24792,qg:.34655,me:-2.4681},{Z:350,J1:.25591,qg:.34951,me:-2.9641},{Z:375,J1:.264,qg:.352,me:-3.5814},{Z:400,J1:.27218,qg:.35407,me:-4.3633},{Z:425,J1:.28039,qg:.35577,me:-5.3762},{Z:450,J1:.28863,qg:.35714,me:-6.7262},{Z:475,J1:.29685,qg:.35823,me:-8.5955},{Z:500,J1:.30505,qg:.35907,me:-11.324},{Z:525,J1:.3132,qg:.35968,me:-15.628},{Z:550,J1:.32129,qg:.36011,me:-23.325},{Z:575,J1:.32931,qg:.36038,me:-40.77},{Z:600,J1:.33724,qg:.36051,me:-116.45}];
h6.acz=function(i){var C=h6.acO,m=2*i.x/(1.5-i.x+6*i.y),e=3*i.y/(1.5-i.x+6*i.y),z=0,L=0,l=0;for(;l<31;
l++){z=e-C[l].qg-C[l].me*(m-C[l].J1);if(l>0&&z<0){break}L=z}while(l>=C.length)l--;z/=Math.sqrt(1+C[l].me*C[l].me);
L/=Math.sqrt(1+C[l-1].me*C[l-1].me);var x=L/(L-z),S=1e6/((C[l].Z-C[l-1].Z)*x+C[l-1].Z),k=m-((C[l].J1-C[l-1].J1)*x+C[l-1].J1),f=e-((C[l].qg-C[l-1].qg)*x+C[l-1].qg),X=Math.sqrt(1+C[l].me*C[l].me),o=1/X,A=C[l].me/X,P=Math.sqrt(1+C[l-1].me*C[l-1].me),F=1/P,n=C[l-1].me/P,R=(o-F)*x+F,Q=(A-n)*x+n,s=Math.sqrt(R*R+Q*Q);
R/=s;Q/=s;var j=(k*R+f*Q)*-3e3;return{kX:S,qC:j}};h6.kQ=function(i,C){var m=h6.acO,e=1e6/i,z=1;for(;
z<31;z++){if(e<m[z].Z){break}}var L=(m[z].Z-e)/(m[z].Z-m[z-1].Z),l=(m[z-1].J1-m[z].J1)*L+m[z].J1,x=(m[z-1].qg-m[z].qg)*L+m[z].qg,S=Math.sqrt(1+m[z].me*m[z].me),k=1/S,f=m[z].me/S,X=Math.sqrt(1+m[z-1].me*m[z-1].me),o=1/X,A=m[z-1].me/X,P=(o-k)*L+k,F=(A-f)*L+f,n=Math.sqrt(P*P+F*F);
P/=n;F/=n;l+=P*C/-3e3;x+=F*C/-3e3;return{x:1.5*l/(l-4*x+2),y:x/(l-4*x+2)}};h6.al6=function(i){var C=i[0]+i[1]+i[2];
return{x:i[0]/C,y:i[1]/C}};h6.rI=function(i){return{x:i.x/i.y,y:1,jF:(1-i.x-i.y)/i.y}};h6.aty=function(i,C){var m=I.X$.MX([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),e=[i.x,i.y,i.jF,0],z=[C.x,C.y,C.jF,0];
e=I.X$.eq(m,e);z=I.X$.eq(m,z);var L=z[0]/e[0],l=z[1]/e[1],x=z[2]/e[2],S=I.X$.MX([L,0,0,0,l,0,0,0,x]),k=I.X$.Fb(m);
return I.X$.multiply(I.X$.multiply(k,S),m)};I.raw.uI={};I.raw.oP=function(i){i*=8;var C=[8,10,12,14,16];
for(var m in CAMS){var e=CAMS[m];if(e.length==4)continue;var z=e[4],L=e[5];for(var Y=0;Y<C.length;Y++)if(z*L*C[Y]==i)return[m,C[Y]]}var l=[[4e3,3e3]];
for(var Y=0;Y<l.length;Y++){var e=l[Y],z=e[0],L=e[1];for(var Y=0;Y<C.length;Y++)if(z*L*C[Y]==i)return[e,C[Y]]}return null};
I.raw.acE=function(i){var i=new Uint8Array(i);for(var Y=0;Y<i.length;Y+=2){var C=i[Y];i[Y]=i[Y+1];i[Y+1]=C}var m=I.raw.oP(i.length),e=CAMS[m[0]];
if(e==null)e=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,m[0][0],m[0][1]];var z=e[4],L=e[5],l=Math.max(e[2],116),x={data:i,B1:1,width:z,height:L,t256:[z],t257:[L],t258:[m[1]],t277:[1],t33421:[2,2],t33422:I.raw.Cx[e[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[e[3]],t50721:e[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Y=0;Y<9;Y++)x.t50721[Y]/=1e4;return x};I.raw.a1f=function(i){if(i==null||i.length==0||typeof i[0]=="number")return i;
var C=[];for(var Y=0;Y<i.length;Y++)C[Y]=i[Y][1]==0?0:i[Y][0]/i[Y][1];return C};I.raw.Cx=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
I.raw.normalize=function(i,C){if(i.t50706!=null||i.t271[0].startsWith("Hasselblad")){var m=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Y=0;Y<m.length;Y++)if(i["t"+m[Y]]!=null)i["t"+m[Y]]=I.raw.a1f(i["t"+m[Y]]);if(i.t271&&i.t271[0].startsWith("Hasselblad")){i.t50706=[1,2,0,0];
i.t33422=I.raw.Cx[1];i.t50723=[1,0,0,0,1,0,0,0,1];i.t50778=[17];if(!i.isLE)for(var Y=0;Y<i.data.length;
Y+=2){var e=i.data[Y];i.data[Y]=i.data[Y+1];i.data[Y+1]=e}}if(i.t272&&i.t272[0]=="HERO10 Black"){i.t50728=[.469725,1,.739884];
if(!i.t305[0].startsWith("Adobe")){var z=new Uint16Array(i.data.buffer);for(var Y=0;Y<z.length;Y++)z[Y]>>>=2}}return}var L=i.t258[0],l=i.exifIFD,C=new Uint8Array(C);
i.t50706=[1,2,0,0];var x=i.t271[0].trim(),S=i.t272[0].trim();if(i.t50708==null)i.t50708=[x+" "+S];var k=(x+":"+S).toLowerCase(),f=CAMS[k];
if(f==null){alert("Unknown camera:"+k);if(k.startsWith("canon"))f=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(f!=null){var X=f[2];
i.t50714=[X,X,X,X];if(i.t272=="Canon EOS REBEL T3")f[3]=13584;i.t50717=[f[3]];i.t50721=f[0].slice(0);
for(var Y=0;Y<9;Y++)i.t50721[Y]=i.t50721[Y]*(1/1e4)}i.t50723=[1,0,0,0,1,0,0,0,1];if(i.t50728==null)i.t50728=[.35,1,.6];
i.t50778=[17];if(x.startsWith("OLYMPUS")||x.startsWith("OM Digital Solutions")){i.t33422=[2,1,1,0];var o=l.t41730,n;
if(o)i.t33422=[o[4],o[5],o[6],o[7]];var A=i.t50341;if(A==null)A=l.t36864;var P=I.raw.a5U(A.buffer,i);
i.data=new Uint8Array(P.buffer);if((i.height&1)==1)i.t50829=[0,0,i.height-1,i.width];var F=l.makerNote,R=F.t8256;
if(R)n=R.t256;else n=F.t12288.t256;i.t50728=[256/n[0],1,256/n[1]]}else if(i.t271[0].startsWith("SONY")){var Q=UTIF["_bin"+(i.isLE?"LE":"BE")],s=i.t28688,H;
if(JSON.stringify(s)!="[8000,10400,12900,14100]")console.log(s);if(s){var j=[0,0,0,0,0,4095],_=new Uint16Array(16385);
for(var Y=0;Y<4;Y++){var B=s[Y]>>>2;j[Y+1]=B;if(B>4095)throw"e"}for(var Y=0;Y<16385;Y++)_[Y]=Y;for(var Y=0;
Y<5;Y++)for(var N=j[Y]+1;N<=j[Y+1];N++)_[N]=_[N-1]+(1<<Y);var a=C.length*8<i.width*i.height*L;if(a)i.t50712=_}else console.log("no curve");
var O=i.dngPrvt;if(O){var q=O.t29184[0],h=O.t29185[0],D=(i.isLE?W.nO:W.Q)(O.t29217,0),T=new Uint32Array(C.slice(q,q+(h&4294967292)).buffer),p=new Uint32Array(h>>>2);
I.raw.avN(T,p,h>>>2,D);var y=new Uint8Array(q+h);y.set(new Uint8Array(p.buffer),q);var b=[];UTIF._readIFD(Q,y,q,b,0,!1);
var g=b.pop(),u=g.t29458;i.t50728=[u[1]/u[0],1,u[1]/u[3]];i.t50730=[.5];var t=g.t29891;i.t50829=[t[1],t[0],t[3],t[2]]}else if(l.makerNote&&l.makerNote.t8208){var H=l.makerNote,V=H.t8208,c=V.length,E=0,Z=new Uint8Array(256);
for(var Y=249;Y<256;Y++)Z[Y]=Y;for(var Y=0;Y<249;Y++)Z[Y*Y*Y%249]=Y;for(var Y=0;Y<c;Y++)V[Y]=Z[V[Y]];
if(c==6604)E=612;else throw"e";var u=[];for(var Y=0;Y<3;Y++)u.push(W.lY(V,E+Y*2));console.log(u);i.t50728=[u[1]/u[0],1,u[1]/u[2]]}else console.log("no white balance");
if(i.width*i.height*1.5==i.t279[0]){X=X>>>2;i.t50714=[X,X,X,X];i.t50717=[f[3]>>>2]}}else if(i.t271[0].startsWith("Canon")){var C=i.data,G=C.slice(0),J=i.t50752,K=[],U=0;
if(J==null||J[0]==0&&J[1]==0)K.push(i.width);else{for(var Y=0;Y<J[0];Y++)K.push(J[1]);K.push(J[2])}var M=i.width*2,r=i.t50885&&i.t50885[0]==4;
if(!r)for(var dS=0;dS<K.length;dS++){var w=K[dS],di=2*U,eM=2*w;for(var j5=0;j5<i.height;j5+=2){var ds=j5*M+di,ba=i.height*di+j5*eM;
for(var Y=0;Y<eM;Y++){C[ds+Y]=G[ba+Y];C[ds+Y+M]=G[ba+Y+eM]}}U+=w}else{var gH=new Uint16Array(G.buffer),ir=new Uint16Array(C.buffer);
function iP(iG,eg){ir[eg*3+0]=gH[iG*3+0];ir[eg*3+1]=gH[iG*3+1];ir[eg*3+2]=gH[iG*3+2]}var iy=(J[0]*J[1]+J[2])/i.width;
for(var dS=0;dS<K.length;dS++){var w=Math.round(K[dS]/iy);for(var j5=0;j5<i.height;j5++){var iG=i.height*U+(iy==3?(j5>>>3)*8+[0,4,1,5,2,6,3,7][j5&7]:j5)*w,eg=j5*i.width+U;
for(var du=0;du<w;du++)iP(iG+du,eg+du)}U+=w}var gh=new Uint16Array(C.buffer),ga=new Uint16Array(1),d5=new Int16Array(ga.buffer);
for(var Y=0;Y<gh.length;Y+=3){var fu=gh[Y],ay=gh[Y+1],c7=gh[Y+2];ga[0]=ay<<2;ay=d5[0]>>2;ga[0]=c7<<2;
c7=d5[0]>>2;gh[Y+0]=Math.max(0,c7+fu);gh[Y+1]=Math.max(0,(fu<<12)-ay*778-(c7<<11)>>12);gh[Y+2]=Math.max(0,ay+fu)}}var H=l.makerNote,iG=H.t224;
if(iG){var q=i.t50719=[iG[5],iG[6]],eE=i.t50720=[iG[7]+1-iG[5],iG[8]+1-iG[6]],jn=H.t154;if(jn){q[0]+=jn[3];
q[1]+=jn[4];eE[0]=jn[1];eE[1]=jn[2]}}if(H.t16385){var dI=H.t16385,dQ=dI.length,jo=0;console.log(dI);
if(dI instanceof Array)dI=new Uint16Array(dI);if(dQ==582)jo=1;else if(dQ==653)jo=2;else if(dQ==796)jo=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(dQ)!=-1)jo=4;else if([1816,1820,1824,5120].indexOf(dQ)!=-1){jo=5;
dI=new Int16Array(dI.slice(0).buffer)}else if(dQ==1273||dQ==1275)jo=6;else if([1312,1313,1316,1506].indexOf(dQ)!=-1)jo=7;
else if([1560,1592,1353,1602].indexOf(dQ)!=-1)jo=8;else if(dQ==3656)jo=9;else if(dQ==3778||dQ==3973)jo=10;
else throw"e"+dQ;var hT=dI[0],ea=[null,[25,166],[34,286],[63,196],[63],[71,hT==-4?333:hT==16||hT==17||hT==18||hT==19?329:264],[63,251],[63,hT==10?504:728],[63,326],[85,343],[105,363]],E=ea[jo][0],b9=ea[jo][1];
if(jo==4){if(dI[0]==2)b9=231;else if(dI[0]==3)b9=231;else if(dI[0]==4)b9=231;else if(dI[0]==5)b9=231;
else if(dI[0]==6)b9=231;else if(dI[0]==7)b9=231;else if(dI[0]==9)b9=231;else throw"e"}i.t50728=[dI[E+1]/dI[E],1,dI[E+1]/dI[E+3]];
var X=b9==null?1024:dI[b9];if(jo!=4)i.t50714=[X,X,X,X]}else{i.t50728=[.4,1,.6]}if(r){i.t277=[3];i.t50728=[1,1,1];
i.t50714=[0,0,0,0]}}else if(i.t271[0].startsWith("NIKON")){var H=l.makerNote,bI=i.isLE?W.lY:W.x1,bO=0,id=0,g$,hP=0;
if(H.t61){var ii=H.t61,d_=[];for(var Y=0;Y<4;Y++)d_[Y]=ii[Y]/Math.pow(2,14-L);i.t50714=d_}if(H.t3585){var c4=H.t3585,Y=0,q=22;
while(q<c4.length&&Y!=-4){var kG=W.nO(c4,q);q+=4;q+=14;Y=W.nO(c4,q)-4;q+=4;if(kG==1990472198){if(c4[q]!=0)throw"Flip"}if(kG==1990472199){var fC=W.lY(c4,q);
if(fC==0)i.B1=1;else if(fC==270)i.B1=8;else throw"e "+fC}q+=Y}}if(H.t183){var a5=H.t183,eE=[];for(var Y=0;
Y<6;Y++)eE.push(bI(a5,16+Y*2));bO=eE[0];id=eE[1]}if(H.t3614){var eU=H.t3614;bO=W.nO(eU,8);id=W.nO(eU,12)}if(bO!=0&&Math.max(bO,id)<Math.max(i.width,i.height)){if(bO<id){var e=bO;
bO=id;id=e}var du=i.width-bO>>>1,j5=i.height-id>>>1;i.t50829=[j5,du,j5+id,du+bO]}else i.t50829=[8,8,i.height-8,i.width-56];
var af=H.t69;if(af){var a7=af[1];if((a7&1)==1)a7++;i.t50829=[a7,af[0],a7+af[3],af[0]+af[2]]}if(H.t12){var cg=I.raw.a1f(H.t12);
g$=[1/cg[0],1,1/cg[1]]}else if(H.t151){var cC=I.raw.aBa(H,151),kF=cC[0],jU=cC[1],am=cC[2];if(kF=="0100"&&jU>=80)throw"e";
else if(kF=="0102"){var cJ=[];for(var Y=0;Y<4;Y++)cJ.push(bI(am,6+Y*2));g$=[cJ[1]/cJ[0],1,cJ[1]/cJ[3]]}else if(kF=="0103"&&jU>=26){var cJ=[];
for(var Y=0;Y<4;Y++)cJ.push(bI(am,16+Y*2));g$=[cJ[1]/cJ[0],1,cJ[3]/cJ[2]]}else if(kF=="0204"&&jU>=564||kF=="0205"&&jU>=284){var q=kF=="0204"?6:14,cJ=[];
for(var Y=0;Y<4;Y++)cJ.push(bI(am,q+Y*2));g$=[cJ[1]/cJ[0],1,cJ[1]/cJ[3]]}else throw"e"}else console.log("no white balance info");
if(S=="NIKON D1")g$=[1,1,1];if(g$)i.t50728=g$;var fX=H.t150?H.t150:H.t140;if(fX){var kx=fX[hP++],f2=fX[hP++],eb;
if(kx==73||f2==88)hP+=2110;hP+=8;var gt=1<<L&32767,iD=bI(fX,hP);hP+=2;var _=[];if(iD>1)eb=Math.floor(gt/(iD-1));
if(kx==68&&f2==32&&eb>0){for(Y=0;Y<iD;Y++){_[Y*eb]=bI(fX,hP);hP+=2}for(Y=0;Y<gt;Y++)_[Y]=Math.floor((_[Y-Y%eb]*(eb-Y%eb)+_[Y-Y%eb+eb]*(Y%eb))/eb)}else if(kx!=70&&iD<=16385){gt=iD;
for(var Y=0;Y<iD;Y++)_[Y]=bI(fX,hP+2*Y);hP+=2*iD}var S=i.t272[0];if(_.length!=0)i.t50712=new Uint16Array(_);
if(i.t258[0]==14&&i.t50717&&i.t50717[0]<1e4){console.log("fixing white");i.t50717[0]*=4}}}else if(x.startsWith("FujiFilm")){}else if(x.startsWith("Panasonic")){if(i.t277==null)i.t277=[1]}else alert("Unknown camera "+x)};
I.raw.avN=function(i,C,m,e){if(0==m)return;var z=new Uint32Array(128),L=new Uint8Array(z.buffer),l=127,x=0,S=0;
for(var l=0;l<4;l++)z[l]=e=(e*15625>>>0)*3125+1>>>0;z[3]=z[3]<<1|(z[0]^z[2])>>>31;for(var l=4;l<127;
l++)z[l]=(z[l-4]^z[l-2])<<1|(z[l-3]^z[l-1])>>>31;for(var l=0;l<127;l++)z[l]=W.Q(L,l*4);for(;m>0;m--){z[l&127]=z[l+1&127]^z[l+1+64&127];
var k=z[l&127],f=i[x];f^=k;C[S]=f;x++;S++;l++}};I.raw.afk=function(i,C){var m=W.Sq(C,0,4),e=I.raw.aj1;
for(var Y=0;Y<e.length;Y++)if(e[Y][0]==i&&m.startsWith(e[Y][1])&&(e[Y][2]==0||e[Y][2]==C.length))return e[Y];
throw"e"};I.raw.aDL=function(i){if(i.t29==null)return[];var C=I.raw.aoc,m=I.raw.abf,e=i.t29[0],z=0,l=0;
for(var Y=0;Y<e.length;Y++){var L=e.charCodeAt(Y);z=z*10+(48<=L&&L<=57?L-48:L%10)}var jU=i.t167[0];for(var Y=0;
Y<4;Y++)l^=jU>>>(Y<<3)&255;var x=C[z&255],S=m[l&255];return[x,S,96]};I.raw.aBa=function(i,C){var m=i["t"+C],jU=m.length,e=I.raw.afk(C,m),z=W.Sq(m,0,4),L,l=e[4];
if(l==null)L=m.slice(4);else{L=new Uint8Array(jU-l);var x=I.raw.aDL(i),S=x[0],k=x[1],f=x[2];for(var Y=0;
Y<L.length;Y++){k=k+S*f++&255;L[Y]=m[l++]^k}}return[z,jU,L]};I.raw.a5U=function(i,C){var m=C.t271[0],e=C.t272[0],z=C.t256[0],L=C.t257[0],l=C.t258[0],x=C.t273[0],S=x,k=new Uint8Array(i),f,X=z-4,o=L,A=k.length-x,n=0,R=0;
function P(){var B=new Uint16Array(4096),k7=0;B[k7]=3084;for(var Y=12;Y--;)for(var N=0;N<2048>>Y;N++)B[++k7]=Y+1<<8|Y;
return B}function F(){return k[S++]}function Q(B,N){var a;if(B>25)return 0;if(B==0||R<0)return 0;if(B<0){n=0;
R=0;return 0}while(R<B){a=F();if(a==null)break;n=(n<<8)+(255&a);R+=8}a=R==0?0:n<<32-R>>>32-B;if(N){R-=N[a]>>8;
a=255&N[a]}else R-=B;return a}function s(){var B=P();S+=7;Q(-1);for(var N=0;N<o;N++){var a=[new Int32Array(3),new Int32Array(3)];
for(var O=0;O<z;O++){var H=a[O&1],Y=2*(H[2]<3),q;for(q=2+Y;(65535&H[0])>>q+Y;q++);var h=Q(3),D=h&3;h=h<<29>>31;
var T=Q(12,B);if(T==12)T=Q(16-q)>>>1;var p=Q(q);H[0]=T<<q|p;var y=(H[0]^h)+H[1];H[1]=y*3+H[1]>>5;H[2]=H[0]>16?0:H[2]+1;
if(O>=X)continue;var b=f[N*z+O-2],k7=f[(N-2)*z+O],g=f[(N-2)*z+O-2];f[N*z+O]=(N<2&&O<2?0:N<2?b:O<2?k7:b<g&&g<k7||k7<g&&g<b?Math.abs(b-g)>32||Math.abs(k7-g)>32?b+k7-g:b+k7>>1:Math.abs(b-g)>Math.abs(k7-g)?b:k7)+(y<<2|D)}}}function j(){var B=z*l/8,N=L+1>>1,O=0,H=0;
B+=B&6>>7;var a=B*8-z*l;for(var q=0;q<L;q++){var h=q%N*2+~~(q/N);if(h==1){O=0;S=x-(-N*B&-2048)}for(var D=0;
D<z;D++){for(O-=l;O<0;O+=8){H<<=8;for(var Y=0;Y<8;Y+=8)H|=F()<<Y}var T=H<<64-l-O>>>64-l;f[h*z+D]=T}O-=a}}function _(){var B=!m.startsWith("OLYMPUS")||!m.startsWith("OM Digi")||!m.toLowerCase().startsWith("clauss")&&!e.toLowerCase().startsWith("pix 5oo");
return B&&A<z*L}if(_()){f=new Uint16Array(X*o);s()}else{f=new Uint16Array(z*L);j()}return f};I.raw.aj1=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
I.raw.aoc=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
I.raw.abf=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
I.ga={};I.ga.ga=function(i,C,m,e,z){if(e==null)e=3;if(z==null)z=!0;var L=i.m,l=i.J,x=1/L,S=L*l,k=Date.now(),f=!1,X=I.ga.aAX(m,L,l,255,128),o=I.ga.aAX(m,L,l,0,128),U=0;
if(f)console.log("extract contours",Date.now()-k);k=Date.now();var A=function(c4,kG){var fC=c4<<2,bO=kG<<2;
return C[fC]+C[fC+1]+C[fC+2]-(C[bO]+C[bO+1]+C[bO+2])};X.sort(A);o.sort(A);var P=I.R(S),F=I.R(S),n=[],R=new Uint32Array(L*l);
R.fill(4294967295);for(var Y=0;Y<S;Y++)if(m[Y]==0)F[Y]=255;else if(m[Y]==255)P[Y]=255;else{R[Y]=n.length;
n.push(Y)}var Q=X.length,s=o.length,j=n.length;function _(c4,kG,fC,bO){var id=c4.length,a5=new Array(id*2);
for(var Y=0;Y<id;Y++){var b=c4[Y],g=~~(b*bO),u=b-g*fC,ea=b<<2;a5[Y*2]=u<<16|g;a5[Y*2+1]=kG[ea]<<16|kG[ea+1]<<8|kG[ea+2]}return a5}var B=_(X,C,L,x),N=_(o,C,L,x),a=_(n,C,L,x);
if(f)console.log("Itemize",Date.now()-k,"Unknown:",j,Q,s);k=Date.now();var O=I.style.Zn(P,L,l,!0),H=I.style.Zn(F,L,l,!0),q=new Array(j),h=new Array(j),D=new Array(j),T=new Array(j),p=new Array(j);
if(f)console.log("Dist transform",Date.now()-k);k=Date.now();var y=I.ga.MJ;for(var Y=0;Y<j;Y++){var b=n[Y],g=~~(b*x),u=b-g*L,t=O[b<<1],V=O[(b<<1)+1],c=Math.sqrt(t*t+V*V),E=H[b<<1],Z=H[(b<<1)+1],G=Math.sqrt(E*E+Z*Z);
q[Y]=1/c;h[Y]=1/G;var J=Math.floor(I.l.jX(b*17)*Q),K=Math.floor(I.l.jX(b*19)*s);D[Y]=J;T[Y]=K;p[Y]=y(a[Y*2],a[Y*2+1],B[J*2],B[J*2+1],N[K*2],N[K*2+1],q[Y],h[Y],1e9)}var M=[-L-1,-L,-L+1,-1,1,L-1,L,L+1];
while(Math.floor(Math.max(Q,s)*Math.pow(.5,U))>1)U++;for(var r=0;r<e;r++){var dS=0;for(var Y=0;Y<j;Y++){var b=n[Y],g=~~(b*x),u=b-g*L,w=q[Y],di=h[Y],eM=a[Y*2],j5=a[Y*2+1],ds=p[Y],J=D[Y],K=T[Y],iG=1;
if(g!=0&&u!=0&&u!=L-1&&g!=l-1)for(var ba=0;ba<8;ba++){var gH=R[b+M[ba]];if(gH==4294967295)continue;var ir=D[gH],iP=T[gH];
if(ir==J&&iP==K)continue;var iy=y(eM,j5,B[ir*2],B[ir*2+1],N[iP*2],N[iP*2+1],w,di,ds);if(iy<ds){ds=iy;
J=ir;K=iP}}for(var eg=0;eg<U;eg++){var gh=~~(Q*iG),ga=~~(s*iG);iG*=.5;var d5=I.l.jX(b+r*17+eg*31),fu=I.l.jX(b+r*29+eg*63),ay=Math.max(0,J-gh),c7=Math.min(J+gh,Q-1),eE=Math.max(0,K-ga),jn=Math.min(K+ga,s-1),ir=ay+~~(d5*(c7-ay)),iP=eE+~~(fu*(jn-eE)),iy=y(eM,j5,B[ir*2],B[ir*2+1],N[iP*2],N[iP*2+1],w,di,ds);
if(iy<ds){ds=iy;J=ir;K=iP}}p[Y]=ds;D[Y]=J;T[Y]=K;dS+=ds}}if(f)console.log(dS);if(f)console.log("iterations",Date.now()-k);
k=Date.now();var dI=m.slice(0);for(var Y=0;Y<j;Y++){var dQ=I.ga.alpha(a[Y*2+1],B[D[Y]*2+1],N[T[Y]*2+1]);
dI[n[Y]]=~~(.5+255*dQ)}dI=I.Kr.a3W(dI,C,new j2(0,0,L,l),16,.01*.01);if(f)console.log("guided filter",Date.now()-k);
k=Date.now();if(z)for(var Y=0;Y<S;Y++)if(m[Y]==255||m[Y]==0)dI[Y]=m[Y];var jo=C.slice(0);for(var Y=0;
Y<j;Y++){var hT=n[Y],J=X[D[Y]],ds=p[Y],ea=hT<<2,b9=dI[hT],d_=(b9>=250?hT:J)<<2;jo[ea]=C[d_];jo[ea+1]=C[d_+1];
jo[ea+2]=C[d_+2]}I.uC(dI,jo,3);if(f)console.log(Date.now()-k);k=Date.now();return jo};I.ga.MJ=function(i,C,m,e,z,L,l,x,S){var k=i>>>16,f=i&65535,X=k-(m>>>16),o=f-(m&65535),A=k-(z>>>16),P=f-(z&65535),F=Math.sqrt(X*X+o*o)*l,n=Math.sqrt(A*A+P*P)*x;
if(F+n>=S)return 1e9;var R=I.ga.a4e(C,e,L);return R+F+n};I.ga.a4e=function(i,C,m){var e=i>>>16,z=i>>>8&255,L=i&255,l=C>>>16,x=C>>>8&255,S=C&255,k=m>>>16,f=m>>>8&255,X=m&255,o=I.ga.alpha(i,C,m),A=e-(o*l+(1-o)*k),P=z-(o*x+(1-o)*f),F=L-(o*S+(1-o)*X);
return Math.sqrt(A*A+P*P+F*F)};I.ga.alpha=function(i,C,m){var e=i>>>16,z=i>>>8&255,L=i&255,l=C>>>16,x=C>>>8&255,S=C&255,k=m>>>16,f=m>>>8&255,X=m&255,o=l-k,A=x-f,P=S-X,F=e-k,n=z-f,R=L-X,Q=o*o+A*A+P*P,s=Q==0?.5:(F*o+n*A+R*P)/Q;
return Math.max(0,Math.min(1,s))};I.ga.a5t=function(i){};I.ga.aAX=function(i,C,m,e,z){var L=[],l=C-1,x=m-1;
for(var S=1;S<x;S++)for(var k=1;k<l;k++){var Y=S*C+k;if(i[Y]==e&&(i[Y-C-1]==z||i[Y-C]==z||i[Y-C+1]==z||(i[Y-1]==z||i[Y+1]==z)||(i[Y+C-1]==z||i[Y+C]==z||i[Y+C+1]==z)))L.push(Y)}return L};
I.Kr={};I.Kr.aiS=function(i,C,m,e,z){var L=m.m,l=m.J,x=L*l,S=I.Kr.atC,k=I.R(x*4),f;I.eS(k,4294967295);
var X=m,o=i,A=C,P=e;I.uC(i,k,0);f=I.r_(k,m);f=I.r_(f.S2,f.rect);X=f.rect;P=e>>>2;console.log(X,P);o=I.R(X.P());
I.Ud(f.S2,o,0);I.uC(C,k,0);f=I.r_(k,m);f=I.r_(f.S2,f.rect);A=I.R(X.P());I.Ud(f.S2,A,0);var F=I.Kr.a5h(o,A,X,P,z),n=F[0],R=F[1],Q=new j2(0,0,X.m*2,X.J*2);
n=S(n,X,Q,!0);n=S(n,Q,m,!0);R=S(R,X,Q,!0);R=S(R,Q,m,!0);var s=I.R(x);for(var Y=0;Y<x;Y++)s[Y]=Math.max(0,Math.min(255,Math.floor(.5+(n[Y]*C[Y]+255*R[Y]))));
return s};I.Kr.Zo=function(i,C,m,e){C.set(i);I.Zo.au$(C,m,e)};I.Kr.atC=function(i,C,m,e){var z=m.m,L=m.J,l=C.m,x=C.J,S=I.Kr.J6,k=new Float32Array(z*L);
for(var f=0;f<x;f++){var X=(f+f)*z;for(var o=0;o<l;o++){if(!0||o==0||f==0||o==l-1||f==x-1)k[X]=k[X+1]=k[X+z]=k[X+z+1]=i[f*l+o];
else{k[X]=S(o+.25,f+.25,i,l,x);k[X+1]=S(o+.75,f+.25,i,l,x);k[X+z]=S(o+.25,f+.75,i,l,x);k[X+z+1]=S(o+.75,f+.75,i,l,x)}X+=2}}return k};
I.Kr.J6=function(i,C,m,e,z){i-=.499999;C-=.499999;var L=Math.floor(i),l=Math.floor(C),x=l*e+L,S=i-L,k=C-l,f=(1-k)*(1-S),X=(1-k)*S,o=k*(1-S),A=k*S;
if(m[x]==null||m[x+e+1]==null){console.log(i,C,e,z);throw"e"}return f*m[x+0]+X*m[x+1]+o*m[x+e+0]+A*m[x+e+1]};
I.Kr.a5h=function(i,C,m,e,z){var L=m.m,l=m.J,x=L*l,S=I.Kr.a9m,k=I.Kr.R,f=I.Kr.Zo,X=I.Kr.y8,C=S(C,x),i=S(i,x),o=k(x);
f(C,o,m,e);var A=k(x);f(i,A,m,e);var P=k(x);X(C,C,P);f(P,P,m,e);var F=k(x);X(C,i,F);f(F,F,m,e);var n=k(x),R=k(x);
for(var Y=0;Y<x;Y++){var Q=o[Y],s=A[Y],j=P[Y]-Q*Q,_=F[Y]-Q*s,B=_/(j+z),N=s-B*Q;n[Y]=B;R[Y]=N}var a=k(x);
f(n,a,m,e);var O=k(x);f(R,O,m,e);return[a,O]};I.Kr.a3W=function(i,C,m,e,z){var L=m.m,l=m.J,x=L*l,S=I.Kr.atC,k=Date.now(),f=!1,X=m,o=i,A=C,P=e;
X=new j2(0,0,L>>>2,l>>>2);P=e>>>2;o=I.Kr.aCi(i,L,l);A=I.Kr.axw(C,L,l);if(f)console.log(Date.now()-k);
k=Date.now();var F=I.Kr.agi(o,A,X,P,z),n=F[0],R=F[1],Q=F[2],s=F[3];if(f)console.log(Date.now()-k);k=Date.now();
var j=I.R(x);for(var _=0;_<l;_++)for(var B=0;B<L;B++){var Y=_*L+B,N=(_>>>2)*(L>>>2)+(B>>>2),a=Y<<2,O=n[N]*C[a]+R[N]*C[a+1]+Q[N]*C[a+2]+s[N]*255;
j[Y]=Math.max(0,Math.min(255,~~(.5+O)))}if(f)console.log(Date.now()-k);k=Date.now();return j};I.Kr.aCi=function(i,C,m){var e=C>>>2,z=m>>>2,L=I.R(e*z);
for(var l=0;l<z;l++)for(var x=0;x<e;x++)L[l*e+x]=i[l*C+x<<2];return L};I.Kr.axw=function(i,C,m){var e=C>>>2,z=m>>>2,L=I.R(e*z*4);
for(var l=0;l<z;l++)for(var x=0;x<e;x++){var S=l*e+x<<2,k=l*C+x<<4;L[S]=i[k];L[S+1]=i[k+1];L[S+2]=i[k+2];
L[S+3]=i[k+3]}return L};I.Kr.agi=function(i,C,m,e,z){var L=m.m,l=m.J,x=L*l,S=I.Kr.a9m,k=I.Kr.R,f=I.Kr.Zo,X=I.Kr.y8,i=S(i,x),o=new I.RV(L*l);
I.M8(C,o);var C=[S(o.Z,x),S(o.r,x),S(o.e,x)],A=I.Kr.a4k(i,C,m,e,z),P=k(x);f(i,P,m,e);var F=k(x);X(C[0],i,F);
f(F,F,m,e);var n=k(x);X(C[1],i,n);f(n,n,m,e);var R=k(x);X(C[2],i,R);f(R,R,m,e);var Q=k(x),s=k(x),j=k(x),_=k(x);
for(var Y=0;Y<x;Y++){var B=P[Y],N=A.bJ[Y],a=A.WJ[Y],O=A.$V[Y],H=F[Y]-N*B,q=n[Y]-a*B,h=R[Y]-O*B;Q[Y]=A.ani[Y]*H+A.gS[Y]*q+A.pu[Y]*h;
s[Y]=A.gS[Y]*H+A.ao1[Y]*q+A.fh[Y]*h;j[Y]=A.pu[Y]*H+A.fh[Y]*q+A.a7W[Y]*h;_[Y]=B-Q[Y]*N-s[Y]*a-j[Y]*O}f(Q,Q,m,e);
f(s,s,m,e);f(j,j,m,e);f(_,_,m,e);return[Q,s,j,_]};I.Kr.a4k=function(i,C,m,e,z){var L=m.m,l=m.J,x=L*l,S=I.Kr.R,k=I.Kr.Zo,f=I.Kr.y8,X={};
X.bJ=S(x);k(C[0],X.bJ,m,e);X.WJ=S(x);k(C[1],X.WJ,m,e);X.$V=S(x);k(C[2],X.$V,m,e);var o=S(x);f(C[0],C[0],o);
k(o,o,m,e);var A=S(x);f(C[0],C[1],A);k(A,A,m,e);var P=S(x);f(C[0],C[2],P);k(P,P,m,e);var F=S(x);f(C[1],C[1],F);
k(F,F,m,e);var n=S(x);f(C[1],C[2],n);k(n,n,m,e);var R=S(x);f(C[2],C[2],R);k(R,R,m,e);X.ani=o;X.gS=A;
X.pu=P;X.ao1=F;X.fh=n;X.a7W=R;for(var Y=0;Y<x;Y++){var Q=X.bJ[Y],s=X.WJ[Y],j=X.$V[Y],_=o[Y]-Q*Q+z,B=A[Y]-Q*s,N=P[Y]-Q*j,a=F[Y]-s*s+z,O=n[Y]-s*j,H=R[Y]-j*j+z,q=a*H-O*O,h=O*N-B*H,D=B*O-a*N,T=_*H-N*N,p=N*B-_*O,y=_*a-B*B,b=q*_+h*B+D*N,g=1/b;
X.ani[Y]=q*g;X.gS[Y]=h*g;X.pu[Y]=D*g;X.ao1[Y]=T*g;X.fh[Y]=p*g;X.a7W[Y]=y*g}return X};I.Kr.R=function(i){return new Float32Array(i)};
I.Kr.a9m=function(i,C){var m=new Float32Array(C);for(var Y=0;Y<C;Y++)m[Y]=i[Y]*(1/255);return m};I.Kr.y8=function(i,C,m){for(var Y=0;
Y<i.length;Y++)m[Y]=i[Y]*C[Y]};I.fs={};I.fs.u2=function(i,C,m,e){var z=i[C]-m[e],L=i[C+1]-m[e+1],l=i[C+2]-m[e+2];
return Math.sqrt(z*z+L*L+l*l)*(1/441.7)};I.fs.getSelection=function(i,C,m){var e=C*m,z=I.R(e),L=!1,l=Math.round(m*.7),x=1,S=new Uint32Array(12),k=I.R(12);
for(var f=0;f<l;f++)for(var X=0;X<C;X++){if(X<x||f<x||X>C-x-1||f>m-x-1){var Y=f*C+X,o=Y<<2,A=0;if(f<x)A=4;
else if(X>C-x-1)A=8;S[A]+=i[o];S[A+1]+=i[o+1];S[A+2]+=i[o+2];S[A+3]++;z[Y]=255}}for(var Y=0;Y<12;Y+=4)for(var P=0;
P<3;P++)k[Y+P]=S[Y+P]/S[Y+3];var F=new Float32Array(e);for(var Y=0;Y<e;Y++){var o=Y*4,n=I.fs.u2(i,o,k,0),R=I.fs.u2(i,o,k,4),Q=I.fs.u2(i,o,k,8),s=Math.max(n,Math.max(R,Q));
F[Y]=n+R+Q-s}I.fs.j2(F);var j=Date.now(),_=new Float32Array(e),B=[],N=I.R(e);for(var Y=0;Y<3;Y++){I.Ud(i,N,Y);
var a=new Uint16Array(e);B.push(a);I.fs.a3z(N,z,C,m,a)}if(L)console.log("MBD",Date.now()-j);j=Date.now();
for(var Y=0;Y<e;Y++)_[Y]=B[0][Y]+B[1][Y]+B[2][Y];I.fs.j2(_);for(var Y=0;Y<e;Y++)_[Y]+=.4*F[Y];var O=C>>>1,l=m>>>1,H=1/Math.sqrt(O*O+l*l);
for(var f=0;f<m;f++)for(var X=0;X<C;X++){var q=X-O,h=f-l,D=1-Math.sqrt(q*q+h*h)*H;_[f*C+X]*=D}if(L)console.log("Centeredness",Date.now()-j);
j=Date.now();for(var Y=0;Y<e;Y++)z[Y]=_[Y]*255;var T=Math.round(C/120),p=Math.round(T*.8);if(L)console.log(T,p);
I.Hn.LR(z,z,C,m,T+T+1,!1);if(L)console.log("erosion",Date.now()-j);j=Date.now();for(var Y=0;Y<e;Y++)_[Y]=z[Y];
I.fs.j2(_);var y=I.R(256);for(var Y=0;Y<256;Y++)y[Y]=256/(1+Math.exp(-20*(Y/255-.5)));for(var Y=0;Y<e;
Y++){var b=~~(_[Y]*255+.5);z[Y]=y[b]}if(L)console.log("Simoid",Date.now()-j);j=Date.now();return z};
I.fs.j2=function(i){var C=i.length,m=0;for(var Y=0;Y<C;Y++)m=Math.max(m,i[Y]);var e=1/m;for(var Y=0;
Y<C;Y++)i[Y]=i[Y]*e};I.fs.a3z=function(i,C,m,e,z){var L=m*e,l=i.slice(0),x=i.slice(0);for(var Y=0;Y<L;
Y++)z[Y]=C[Y]==255?0:65535;I.fs.ajt(i,x,l,z,m,e);I.fs.aee(i,x,l,z,m,e);I.fs.ajt(i,x,l,z,m,e);I.fs.aee(i,x,l,z,m,e);
return z};I.fs.ajt=function(i,C,m,e,z,L){for(var l=1;l<z;l++)I.fs.NJ(l,-1,i,C,m,e);for(var x=1;x<L;x++){I.fs.NJ(x*z,-z,i,C,m,e);
for(var l=1;l<z;l++){var Y=x*z+l;I.fs.NJ(Y,-1,i,C,m,e);I.fs.NJ(Y,-z,i,C,m,e)}}};I.fs.aee=function(i,C,m,e,z,L){for(var l=z-2;
l>=0;l--)I.fs.NJ(z*L-z+l,1,i,C,m,e);for(var x=L-2;x>=0;x--){I.fs.NJ(x*z+z-1,z,i,C,m,e);for(var l=z-2;
l>=0;l--){var Y=x*z+l;I.fs.NJ(Y,1,i,C,m,e);I.fs.NJ(Y,z,i,C,m,e)}}};I.fs.NJ=function(Y,i,C,m,e,z){var L=Y+i,l=C[Y],x=m[L],S=e[L];
if(x<l)x=l;else if(l<S)S=l;var k=x-S;if(z[L]!=65535&&k<z[Y]){z[Y]=k;m[Y]=x;e[Y]=S}};I.Ul={};I.Ul.filter=function(i,C,m,e){var z=C.m,L=C.J,l=z*L,x=e[0],S=e[1],k=e[2],f=e[3],X=e[4],o=e[5],A=e[6],P=Date.now(),F=new Float32Array(z*L*4);
I.Ul.awP(i,z,L,F);var n=Math.ceil(x*Math.sqrt(-2*Math.log(.1))),R=new ArrayBuffer(l*4),Q=new Float32Array(R),s=new Float32Array(l),j=new Float32Array(l);
for(var Y=0;Y<l;Y++){var _=Y*4;Q[Y]=F[_];s[Y]=F[_+1];j[Y]=F[_+2]}I.Zo.Kh(Q,C,n*1/2.4,2);I.Zo.Kh(s,C,n*1/2.4,2);
I.Zo.Kh(j,C,n*1/2.4,2);for(var Y=0;Y<l;Y++){var _=Y*4;F[_]=Q[Y];F[_+1]=s[Y];F[_+2]=j[Y]}var B=new Uint8Array(R);
for(var Y=0;Y<l;Y++){var _=Y*4,N=Y*4,Q=F[_],s=F[_+1],j=F[_+2],a=Math.sqrt((Q-j)*(Q-j)+4*s*s),O=(Q+j+a)*.5,H=(Q+j-a)*.5,q=H-j,h=s,D=q*q+h*h;
if(D!=0){var T=Math.sqrt(D),p=1/T;q*=p;h*=p}B[N]=128+127*q;B[N+1]=128+127*h}var y=1.3*S+2,b=f*(2/10),g=i.slice();
if(cY.fp){var u=new Float32Array([1/z,1/L]),t=cY.H4(0,z,L);t.set(g);var V=cY.H4(1,z,L);V.set(B);cY.OK(t,C);
if(X){t.uK(C);cY.filter.PU({type:cY.filter.awQ,DF:u,as0:1/k,aAE:b},t.MF)}t.uK(C);cY.filter.PU({type:cY.filter.VG,c9:V.zo,DF:u,avL:y,arm:2},t.MF);
if(X){t.uK(C);cY.filter.PU({type:cY.filter.ae1,DF:u,abt:new Float32Array(A),awA:o},t.MF)}t.get(m)}else{if(X)I.Ul.QJ(1/k,b,g,z,L);
I.Ul.VG(g,m,B,z,L,y);if(X)I.Ul.aBd(z,L,m,A,o)}var c=l*4;for(var Y=3;Y<c;Y+=4)m[Y]=i[Y]};I.Ul.VG=function(i,C,m,e,z,L){var l=Math.ceil(2*L),x=-1/(2*L*L),S=[],k=1;
for(var Y=0;Y<l+20;Y++)S[Y]=Math.exp(Y*Y*x);var f=[0,0,0,0];for(var X=0;X<z;X++){for(var o=0;o<e;o++){var A=X*e+o,P=A*4,F=1,n=i[P],R=i[P+1],Q=i[P+2],s=i[P+3],j=(m[P]-128)*(1/127),_=(m[P+1]-128)*(1/127),B=j,N=_,a=o==0?.51:.49,O=X==0?.51:.49;
for(var Y=0;Y<2;Y++){var H=o+a,q=X+O,h=0;while(h<l){if(H<.5||e-.5<H||q<.5||z-.5<q)break;var D=~~H,T=~~q,p=T*e+D,y=p*4,b=(m[y]-128)*(1/127),g=(m[y+1]-128)*(1/127);
if(b*B+g*N<0){b=-b;g=-g}B=b;N=g;H+=k*b;q+=k*g;if(H<.5||e-.5<H||q<.5||z-.5<q)break;var u=~~H,t=~~q,V=t*e+u<<2;
h+=k;var c=S[~~h];I.D.ahk(H,q,i,e,z,f);n+=f[0]*c;R+=f[1]*c;Q+=f[2]*c;s+=f[3]*c;F+=c}B=-j;N=-_}var E=1/F;
C[P]=~~(.5+n*E);C[P+1]=~~(.5+R*E);C[P+2]=~~(.5+Q*E);C[P+3]=~~(.5+s*E)}}};I.Ul.aBd=function(i,C,m,e,z){for(var L=0;
L<C;L++)for(var l=0;l<i;l++){var x=L*i+l<<2,S=1+I.Ul.ao3(l,L,m,i,C,e)*z;m[x]=Math.max(0,Math.min(255,m[x]*S));
m[x+1]=Math.max(0,Math.min(255,m[x+1]*S));m[x+2]=Math.max(0,Math.min(255,m[x+2]*S))}};I.Ul.ao3=function(i,C,m,e,z,L){var l=m[(C*e+Math.max(0,i-1))*4+3],x=m[(C*e+Math.min(e-1,i+1))*4+3],S=m[(Math.max(0,C-1)*e+i)*4+3],k=m[(Math.min(z-1,C+1)*e+i)*4+3],f=.7,X=(x-l)*(1/255),o=.7,A=(k-S)*(1/255),P=-X*o,F=-f*A,n=f*o,R=Math.sqrt(P*P+F*F+n*n),Q=1/R,s=P*Q,j=F*Q,_=n*Q,B=L[0]*s+L[1]*j+L[2]*_;
return B};I.Ul.QJ=function(i,C,m,e,z){function L(x,k,f){return Math.max(k,Math.min(f,x))}for(var l=0;
l<z;l++)for(var x=0;x<e;x++){var S=I.Ul.a2p(x+.5,l+.5,i,C);m[(l*e+x)*4+3]=Math.max(0,Math.min(255,S*255))}};
I.Ul.a2p=function(i,C,m,e){function z(N,a,O){return(1-O)*N+O*a}var L=(i+613)*m,l=(C+117)*m,x=~~L,S=~~l,k=L-x,f=l-S,X=Math.sin(11),o=Math.cos(x)*X,A=Math.cos(x+1)*X,P=Math.cos(S)*X,F=Math.cos(S+1)*X,k7=I.Ul.hash(o,P),n=I.Ul.hash(A,P),R=I.Ul.hash(o,F),Q=I.Ul.hash(A,F),s=z(k7,n,k),j=z(R,Q,k),_=z(s,j,f);
_=_<.5?0:1;var B=_+e*I.Ul.hash(Math.cos(L)*X,Math.cos(l)*X);return B*(1/3)};I.Ul.hash=function(i,C){var m=Math.sin(i*11.697096+C*73.32456)*12157.47691;
return m-Math.floor(m)};I.Ul.awP=function(i,C,m,e){var z=[-1,0,1,-2,0,2,-1,0,1],L=[-1,-2,-1,0,0,0,1,2,1],l=C-1,x=m-1,S=C*4;
for(var k=1;k<x;k++)for(var f=1;f<l;f++){var Y=k*C+f,X=Y*4,o=I.Ul.X1(i,X,S,z),A=I.Ul.X1(i,X,S,L),P=I.Ul.X1(i,X+1,S,z),F=I.Ul.X1(i,X+1,S,L),n=I.Ul.X1(i,X+2,S,z),R=I.Ul.X1(i,X+2,S,L);
e[X]=o*o+P*P+n*n;e[X+1]=o*A+P*F+n*R;e[X+2]=A*A+F*F+R*R}I.Ul.azl(e,C,m)};I.Ul.X1=function(i,C,m,e){return i[C-m-4]*e[0]+i[C-m]*e[1]+i[C-m+4]*e[2]+i[C-4]*e[3]+i[C]*e[4]+i[C+4]*e[5]+i[C+m-4]*e[6]+i[C+m]*e[7]+i[C+m+4]*e[8]};
I.Ul.azl=function(i,C,m){function e(S,Y,k){var f=Y*4,X=k*4;S[X]=S[f];S[X+1]=S[f+1];S[X+2]=S[f+2]}var z=C-1,L=m-1;
e(i,C+1,0);e(i,2*C-2,C-1);for(var l=1;l<z;l++)e(i,C+l,l);for(var x=1;x<L;x++){e(i,x*C+1,x*C);e(i,x*C+C-2,x*C+C-1)}for(var l=1;
l<z;l++)e(i,(m-2)*C+l,(m-1)*C+l);e(i,(x-2)*C+1,(x-1)*C);e(i,(x-1)*C-2,x*C-1)};I.UJ=function(){function i(k,f,X,o){var A=new Float32Array(k*k),P=k/2;
for(var F=0;F<k;F++)for(var n=0;n<k;n++){var R=n+X-P,Q=F+o-P;A[F*k+n]=Math.max(0,Math.min(1,f+.5-Math.sqrt(R*R+Q*Q)))}return A}var C=[],e=null;
function m(k,f,X,o){var A=Math.floor(f*10),P=C[A],F=k*8,n=F>>>1;if(P==null){P=C[A]=[];var R=new j2(0,0,F,F),Q=k/2/(1+.2*f),s=Math.floor(k*A*.1);
for(var j=0;j<2;j++)for(var _=0;_<2;_++){var B=i(F,Q,.25+_*.5,.25+j*.5),N=0;I.Zo.Kh(B,R,s);while(B[F*n+N]<.005)N++;
if(N!=0)N--;var a=2*(n-N),O=new j2(N,N,a,a),H=new Float32Array(a*a);for(var q=0;q<a;q++)for(var h=0;
h<a;h++)H[q*a+h]=B[(N+q)*F+N+h];P.push([H,O])}}var D=Math.floor(X),T=Math.floor(o),p=X-D,y=o-T,b=p<.5?1:0,g=y<.5?1:0;
P=P[g*2+b];var O=P[1].clone();O.x+=D-n;O.y+=T-n;return[P[0],O]}function z(k,f,X){if(e==null){e=new Uint8Array(4e4);
for(var Y=0;Y<4e4;Y++)e[Y]=Math.min(255,~~(.5+255*I.rt(Y*(1/255))))}var o=k.length;for(var Y=0;Y<o;Y++){var A=k[Y],P=~~(255*A);
f[Y]=e[P]<<24|X}}function L(k,f,X,o,A){var P=f.G_(o),F=Math.max(0,P.x-f.x),n=Math.max(0,P.x-o.x),R=Math.max(0,P.y-f.y),Q=Math.max(0,P.y-o.y),s=P.m,j=P.J;
for(var Y=0;Y<j;Y++){var _=(R+Y)*f.m+F,B=(Q+Y)*o.m+n;for(var N=0;N<s;N++){X[B+N]+=A*k[_+N]}}}var l=-1;
function x(k,f,X,o,A){var P=Math.round(o[1]*f*X*.01),F=o[2],n=o[3],R=o[4],Q=o[5],s=o[6],j=o[7],_=o[8],B=o[9],N=o[10]?o[10]:1,c=!1;
if(F!=l){C=[];l=F}var a=Date.now(),O=new j2(0,0,f,X),H=new S(o[0]);if(A)k.fill(0);var q=new Float32Array(A?k.buffer:f*X);
for(var Y=0;Y<P;Y++){var h=H.get()*f,D=H.get()*X,T=H.get()*n,p=H.get()*F*4,y=(H.get()+s)*Math.PI*2,b=H.get()*F*4,g=(H.get()+2*s)*Math.PI*2;
h+=B*(p*Math.cos(y)+b*Math.cos(g));D+=B*(p*Math.sin(y)+b*Math.sin(g));if(_)D=D+s*X*N;var u=m(F,T,h,D%X),t=R,V=H.get();
if(j)t=.5+.5*R*(.5+.5*Math.sin((2*s+V)*2*Math.PI));L(u[0],u[1],q,O,t)}if(c)console.log(Date.now()-a,"add floats");
a=Date.now();var E=new Uint8Array(q.buffer);z(q,new Uint32Array(E.buffer),Q.e<<16|Q.r<<8|Q.Z);if(c)console.log(Date.now()-a,"toInt");
a=Date.now();if(!A){I.l.Qv("scrn",E,O,k,O,O,1);if(c)console.log(Date.now()-a,"blendOver")}}function S(k){this.ZN=123456789;
this.Zb=987654321;this.X=4294967295;this.aj(k)}S.prototype.aj=function(Y){this.ZN=123456789+Y&this.X;
this.Zb=987654321-Y&this.X};S.prototype.get=function(){this.Zb=36969*(this.Zb&65535)+(this.Zb>>16)&this.X;
this.ZN=18e3*(this.ZN&65535)+(this.ZN>>16)&this.X;var k=(this.Zb<<16)+(this.ZN&65535)>>>0;k/=4294967296;
return k};return{LP:x}}();I.Da={};I.Da.hJ=function(i,C,m,e){var z=i[C*2],L=i[C*2+1],l=i[m*2],x=i[m*2+1],S=i[e*2],k=i[e*2+1];
return z*x+l*k+S*L-S*x-l*L-z*k};I.Da.ayj=function(i,C){var m=[],e=[],z=[],L={};for(var Y=0;Y<C.length;
Y+=3){var l=~~(Y*(1/3)),x=C[Y+0],S=C[Y+1],k=C[Y+2],f=I.Da.hJ(i,x,S,k);if(f>0){var X=S;S=k;k=X}var o=L[k+"-"+S],A=L[S+"-"+x],P=L[x+"-"+k],F=[k,o,l,null],n=[S,A,l,F],R=[x,P,l,n];
F[3]=R;if(o)o[1]=F;if(A)A[1]=n;if(P)P[1]=R;L[k+"-"+x]=R;L[x+"-"+S]=n;L[S+"-"+k]=F;m[x]=n;z[Y]=n;m[S]=F;
z[Y+1]=F;m[k]=R;z[Y+2]=R;e[l]=n}return{Us:m,np:e,kO:z}};I.Da.aA5=function(i){var C=[],m=i.np;for(var Y=0;
Y<m.length;Y++){var e=m[Y];C.push(e[0]);e=e[3];C.push(e[0]);e=e[3];C.push(e[0])}return C};I.Da.aaB=function(i,C,m,e){var z=i[C*2],L=i[C*2+1],l=i[m*2],x=i[m*2+1],S=i[e*2],k=i[e*2+1],f=l-z,X=x-L,o=S-z,A=k-L,P=f*(z+l)+X*(L+x),F=o*(z+S)+A*(L+k),n=2*(f*(k-x)-X*(S-l));
if(Math.abs(n)<1e-5){var R=Math.min(z,l,S),Q=Math.min(L,x,k),s=(Math.max(z,l,S)-R)*.5,j=(Math.max(L,x,k)-Q)*.5;
return[R+s,Q+j,s*s+j*j,1]}var _=(A*P-X*F)/n,B=(f*F-o*P)/n,s=_-z,j=B-L;return[_,B,s*s+j*j,0]};I.Da.agD=function(i,C,m){var e=m[1],z=m[3],L=z[3],l=e[3],x=l[3],S=m[2],k=e[2],f=m[0],X=e[0],o=z[0],A=l[0],P=I.Da.aaB(i,X,A,o),F=i[f*2]-P[0],n=i[f*2+1]-P[1],R=F*F+n*n>P[2]&&P[3]==0&&I.Da.hJ(i,A,f,o)<0&&I.Da.hJ(i,o,X,A)<0;
if(R){m[0]=o;e[0]=A;m[3]=L;L[3]=l;l[3]=m;e[3]=x;x[3]=z;z[3]=e;z[2]=k;l[2]=S;C.np[k]=x;C.np[S]=L;C.Us[X]=l;
C.Us[f]=z}return R};I.Da.ap2=function(i,C,m){var e=i[C*2]-i[m*2],z=i[C*2+1]-i[m*2+1];return Math.sqrt(e*e+z*z)};
I.Da.aDv=function(i,C,m){var e=m[1],z=m[3],L=z[3],l,x,S=m[2],k,f=m[0],X=L[0],o=z[0],A;if(e){l=e[3];x=l[3];
k=e[2];A=l[0]}var P=i.length>>>1;i[2*P]=(i[2*X]+i[2*f])*.5;i[2*P+1]=(i[2*X+1]+i[2*f+1])*.5;if(!0){var F=S,n=m,R=C.np.length,Q=[P,null,F,n],s=[o,Q,R,L];
Q[1]=s;var j=[P,null,R,s];z[3]=Q;L[3]=j;L[2]=R;C.np[F]=z;C.np[R]=j;C.Us[f]=z;C.Us[o]=L;C.kO.push(Q,s,j)}if(e){var _=k,B=e,N=R+1;
j[1]=B,B[1]=j;var a=[P,null,_,B],O=[A,a,N,x];a[1]=O;var H=[P,n,N,O];n[1]=H;l[3]=a;x[3]=H;x[2]=N;C.np[_]=l;
C.np[N]=x;C.Us[X]=l;C.Us[A]=x;C.kO.push(a,O,H)}C.Us[P]=n};I.Da.aeT=function(i,C){var m=0;while(!0){var e=m;
for(var Y=0;Y<C.kO.length;Y++){var z=C.kO[Y];if(z[1]==null)continue;var L=I.Da.agD(i,C,z);if(L){m++;
break}}if(e==m)break}return m!=0};I.Da.a6D=function(i,C,m,e){var z=0;for(var Y=0;Y<e;Y++){var L=null,l=0;
for(var x=0;x<C.kO.length;x++){var S=C.kO[x],k=I.Da.ap2(i,S[0],S[3][3][0])*(S[1]?1:2);if(k>l){L=S;l=k}}if(l>m){I.Da.aDv(i,C,L);
z++}}return z!=0};I.Da.a7N=function(i,C){var m=[],o=0;for(var Y=0;Y<i.length;Y++)m.push(0);for(var Y=0;
Y<C.kO.length;Y++){var e=C.kO[Y],z=e[0],L=e[3][3][0],l=i[z*2],x=i[z*2+1],S=i[L*2],k=i[L*2+1],f=l-S,X=x-k;
m[z*2]+=-f;m[z*2+1]+=-X;m[L*2]+=f;m[L*2+1]+=X}for(var Y=0;Y<i.length;Y+=2){var A=Y>>>1,P=C.Us[A],e=P,F=!0;
do{if(e[1]==null){F=!1;break}e=e[1][3]}while(e!=P);if(F){var n=.02;i[Y]+=n*m[Y];i[Y+1]+=n*m[Y+1];o+=n*(m[Y]*m[Y]+m[Y+1]*m[Y+1])}}return o};
I.Da.aaf=function(i,C,m){var e=I.C.OO(i),z=I.Da.ayj(i,C);I.Da.aeT(i,z);for(var L=0;L<300;L++){var l=!1,x=!1;
l=I.Da.a6D(i,z,m,5);if(l)x=I.Da.aeT(i,z);var S=I.Da.a7N(i,z);if(!l&&!x&&S<1e-4){break}}return I.Da.aA5(z)};
I.r2={};I.r2.aqD=function(i){var C=i.XV,m=i.pa,e=i.sD,z=i.ak,L=i.nW,l=i.Ba,x=i._K,S=I.OT.oN,Q,s,j=0;
function k(k7){var dS=new Array(k7);for(var Y=0;Y<k7;Y++)dS[Y]=0;return dS}var f=m.length>>>1,X=k(C.G8*2),o=k(C.G8),A=k(C.G8),P=Date.now();
for(var Y=0;Y<i.Py.length;Y++){var F=C.aCx+Y,n=C.HG*(l[Y*2]+x[Y*2]),R=C.HG*(l[Y*2+1]+x[Y*2+1]);X[F*2]=n;
X[F*2+1]=R;o[F]=n;A[F]=R}C.a4W.Mi(z,C.a9d.oN(X),.01,Q,s);for(var Y=0;Y<C.ahX.kO.length;Y++){var _=C.ahX.kO[Y],B=_[3][3][0],N=_[0],a=_[3][0],O=_[1]?_[1][3][0]:a;
if(_[1]&&B>N)continue;var H=m[B*2],q=m[B*2+1],h=m[N*2],D=m[N*2+1],T=z[B*2],p=z[B*2+1],y=z[N*2],b=z[N*2+1],g=z[a*2],u=z[a*2+1],t=z[O*2],V=z[O*2+1],c=[T,p,y,b,g,u];
if(_[1])c.push(t,V);var E=S(C.auQ[j],c),Z=E[0],G=E[1],J=1/Math.sqrt(Z*Z+G*G);Z*=J;G*=J;var K=h-H,M=D-q;
o[j]=Z*K+G*M;A[j]=-G*K+Z*M;j++}var U=new Array(f),r=new Array(f);for(var Y=0;Y<f;Y++){U[Y]=L[Y*2];r[Y]=L[Y*2+1]}C.a3J.Mi(U,C.arJ.oN(o),.5);
C.a3J.Mi(r,C.arJ.oN(A),.5);for(var Y=0;Y<f;Y++){L[Y*2]=U[Y];L[Y*2+1]=r[Y]}};I.r2.ab3=function(i){var C=i.pa,m=i.sD,e=i.Py,z=I.OT.multiply,L=Date.now(),l=I.Da.ayj(C,m),x=C.length>>>1,S=0,P=0,G=1e3;
for(var Y=0;Y<l.kO.length;Y++)S+=l.kO[Y][1]?.5:1;var k=S+e.length,f=[],X=new I.yV(k*2,x*2),o=new I.yV(k,x),A=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],F=[],n=[];
for(var Y=0;Y<l.kO.length;Y++){var R=l.kO[Y],Q=R[3][3][0],s=R[0],j=R[3][0],_=R[1]?R[1][3][0]:j;if(R[1]&&Q>s)continue;
var B=C[Q*2],N=C[Q*2+1],a=C[s*2],O=C[s*2+1],H=C[j*2],q=C[j*2+1],h=C[_*2],D=C[_*2+1],T=[[B,N,1,0],[N,-B,0,1],[a,O,1,0],[O,-a,0,1],[H,q,1,0],[q,-H,0,1]];
if(R[1])T.push([h,D,1,0],[D,-h,0,1]);var p=I.OT.S4(T),y=z(linear.invert(z(p,T)),p);y.pop();y.pop();f.push(y);
var b=a-B,g=O-N,u=A[R[1]?1:0];u=I.OT._3(u,z([[b,g],[g,-b]],y));var t=[Q*2,Q*2+1,s*2,s*2+1,j*2,j*2+1,_*2,_*2+1],V=R[1]?8:6,c=[];
for(var E=0;E<V;E++)c.push([t[E],u[0][E],u[1][E]]);c.sort(function(dS,w){return dS[0]-w[0]});for(var Z=0;
Z<2;Z++){for(var E=0;E<V;E++){F[E]=c[E][0];n[E]=c[E][1+Z]}X.zb(n,F,V)}if(Q<s)o.zb([-1,1],[Q,s],2);else o.zb([1,-1],[s,Q],2);
P++}for(var Y=0;Y<e.length;Y++){var J=e[Y];X.zb([G],[J*2],1);X.zb([G],[J*2+1],1);o.zb([G],[J],1)}var K=X.S4(),M=K.d1(K),U=o.S4(),r=U.d1(U);
return{aCx:S,G8:k,a9d:K,a4W:M,arJ:U,a3J:r,ahX:l,auQ:f,HG:G}};I.r2.arR=function(i,C,m,e,z){var L=new j2(0,0,C,m),l=I.R(L.P());
I.Ud(i,l,3);I.round(l,70);var x=I.yP(l,L),S=[.1,.065,.035][e]*Math.max(x.m,x.J),k=z+1,f=C+k*2,X=m+k*2,o=new j2(-k,-k,f,X),A=I.R(o.P());
I.Vo(l,L,A,o);var P=A.slice(0);for(var F=0;F<z;F++){for(var n=1;n<X-1;n++){for(var R=1;R<f-1;R++){var Y=n*f+R;
P[Y]=A[Y-f]|A[Y-1]|A[Y]|A[Y+1]|A[Y+f]}}var Q=P;P=A;A=Q}var s=gu.if(A,f,X,Math.round(x.P()*5e-4)),j=gu.bM(s),_=new hN(1,0,0,1,-k,-k);
for(var Y=0;Y<j.length;Y++){var B=j[Y];I.C.i(B.path.j,_,B.path.j);B.pa=I.r2.aCT(B.path);B.sD=I.C.a7q(B.pa);
B.sD=I.Da.aaf(B.pa,B.sD,S)}return j};I.r2.aCT=function(i){var C=[],m=i.j,e=i.G.length-1,z=0,L=0;for(var l=0;
l<e;l++){var Y=l*6,x=m[Y+6]-m[Y+0],S=m[Y+7]-m[Y+1],k=Math.ceil(Math.sqrt(x*x+S*S));for(var f=0;f<k;f++){var X=f/k,o=1-X,A=o*o*o*m[Y+0]+3*o*o*X*m[Y+2]+3*o*X*X*m[Y+4]+X*X*X*m[Y+6],P=o*o*o*m[Y+1]+3*o*o*X*m[Y+3]+3*o*X*X*m[Y+5]+X*X*X*m[Y+7];
C.push(A,P);z=A;L=P}}C=I.C.au8(C,1);var F=[],n=C.length;for(var Y=0;Y<n;Y+=2){var P=C.pop(),A=C.pop();
F.push(A,P)}return F};I.r2.a3A=function(i,C,m,e){function z(a,O,H,q,h){var D=h[a*2]-h[O*2],T=h[a*2+1]-h[O*2+1],p=Math.sqrt(D*D+T*T);
if(H[a].indexOf(O)==-1){H[a].push(O);q[a].push(p)}if(H[O].indexOf(a)==-1){H[O].push(a);q[O].push(p)}}var L=i.length>>>1,l=new Array(L);
if(m.length==0){l.fill(0);return l}var x=new Array(L),S=new Array(L);for(var Y=0;Y<L;Y++){x[Y]=[];S[Y]=[]}for(var Y=0;
Y<C.length;Y+=3){z(C[Y],C[Y+1],x,S,i);z(C[Y],C[Y+2],x,S,i);z(C[Y+1],C[Y+2],x,S,i)}var k=new Float64Array(L*2),f=new Uint32Array(L*2);
k.fill(1e9);var X=new Uint8Array(L);for(var o=0;o<m.length;o++){X.fill(0);var A=["---",[0,m[o]]];while(A.length!=1){var P=I.a5E.IH(A),F=P[0],n=P[1];
if(X[n]==1)continue;var R=n<<1;if(F<k[R]){k[R+1]=k[R];f[R+1]=f[R];k[R]=F;f[R]=o}else if(F<k[R+1]){k[R+1]=F;
f[R+1]=o}X[n]=1;var Q=x[n],s=S[n];for(var Y=0;Y<Q.length;Y++){var j=Q[Y];if(X[j]!=1){I.a5E.JN(A,[F+s[Y],j])}}}}for(var Y=0;
Y<L;Y++){var R=Y<<1,_=k[R],B=k[R+1],N=1/(_+B);l[Y]=(1-_*N)*e[f[R]]+(1-B*N)*e[f[R+1]]}return l};I.r2.aBr=function(i){var C={G:[],j:[]},m=[i];
while(m.length!=0){var e=m.pop(),z=e.zO;if(e.a6f instanceof Array||e.ai2 instanceof Array){C.G.push("M","L","L","L","Z");
C.j.push(z[0],z[1],z[2],z[1],z[2],z[3],z[0],z[3])}else m.push(e.a6f,e.ai2)}return C};I.r2.u9=function(i,C,m,e,z,L,l,x,S,k,f){var X=Math.round(k.length/3),o=new Array(X);
for(var Y=0;Y<X;Y++)o[Y]=Y;o.sort(function(P,F){return S[k[P*3]]-S[k[F*3]]});for(var Y=0;Y<X;Y++){var A=o[Y]*3;
I.r2.a6l(k[A]*2,k[A+1]*2,k[A+2]*2,l,x,i,C,m,e,z,L,f)}};I.r2.a6l=function(i,C,m,e,z,L,l,x,S,k,f,X){var o=[i,C,m,1.2,1.2,1.2,0],A=[0,0,0,0],P=z[i],F=z[i+1],n=z[C],R=z[C+1],Q=z[m],s=z[m+1],j=n-P,_=R-F,B=Q-P,N=s-F,a=j*N-B*_+1e-9,O=1/a,H=Math.max(0,Math.min(l-1,e[i])),q=Math.max(0,Math.min(l-1,e[C])),h=Math.max(0,Math.min(l-1,e[m])),D=Math.max(0,Math.min(x-1,e[i+1])),T=Math.max(0,Math.min(x-1,e[C+1])),p=Math.max(0,Math.min(x-1,e[m+1])),y=P<n?P<Q?i:m:n<Q?C:m,b=z[y+1]+.5,g=Math.max(0,Math.floor(Math.min(P,n,Q))),u=Math.min(k,Math.ceil(Math.max(P,n,Q))),t=Math.max(0,Math.floor(Math.min(F,R,s))),V=Math.min(f,Math.ceil(Math.max(F,R,s))),c=1e9;
for(var E=t;E<V;E++){var Z=E>b&&c!=1e9?c:g;c=1e9;for(var G=Z;G<u;G++){var J=G+.5-P,K=E+.5-F,M=(J*N-B*K)*O,U=(j*K-J*_)*O;
if(M>=0&&U>=0&&M+U<=1){if(c==1e9)c=G;var r=1-M-U,dS=H*r+q*M+h*U,w=D*r+T*M+p*U;if(X){var di=Math.floor(.5+w)*l+Math.floor(.5+dS),eM=di<<2,j5=E*k+G<<2;
S[j5]=L[eM];S[j5+1]=L[eM+1];S[j5+2]=L[eM+2];S[j5+3]=L[eM+3]}else{I.D.ahk(dS,w,L,l,x,A);I.r2.aBS(A,S,E*k+G<<2)}}else if(c!=1e9)break}}};
I.r2.aBS=function(i,C,m){if(i[3]>250){C[m]=~~(.5+i[0]);C[m+1]=~~(.5+i[1]);C[m+2]=~~(.5+i[2]);C[m+3]=~~(.5+i[3])}else{var e=C[m],z=C[m+1],L=C[m+2],l=C[m+3],x=1-i[3]*(1/255);
C[m]=~~(.5+i[0]+e*x);C[m+1]=~~(.5+i[1]+z*x);C[m+2]=~~(.5+i[2]+L*x);C[m+3]=~~(.5+i[3]+l*x)}};I.r2.aC0=function(){var i=function(m,e,z,L){var l=L[0],x=L[1],S=L[2],k=m[l+0],f=m[l+1],X=m[x+0],o=m[x+1],A=m[S+0],P=m[S+1],F=X-k,n=o-f,R=A-k,Q=P-f,s=e-k,j=z-f,_=F*Q-R*n,B=1/(_+1e-9),N=(s*Q-R*j)*B,a=(F*j-s*n)*B;
if(N>=0&&a>=0&&N+a<=1){L[3]=1-N-a;L[4]=N;L[5]=a;return 1}return 0},C=function(m,e,z,L){var l=[0,0,0,0,0,0];
for(var Y=0;Y<e.length;Y+=3){l[0]=e[Y]*2;l[1]=e[Y+1]*2;l[2]=e[Y+2]*2;if(i(m,z,L,l)==1)return!0}return!1};
return{apz:i,aDD:C}}();I.sZ={};I.sZ.aoU=function(i,C,m,e){i=i.slice(0);if(e)I.uC(e,i,3);else for(var Y=0;
Y<i.length;Y+=4)i[Y+3]=0;var z=I.R(C*m*4),L=!1;I.D.GV(i,C,m,z,[m,C,0,1,0,1,0,0]);return[I.sZ.tR(i,C,m,L),I.sZ.tR(z,m,C,L)]};
I.sZ.i=function(i,C){var m=!1,e=i[0],z=i[1],L=e[1],l=e[2],x=e[3],S=C.m,k=C.J;if(l==S&&x==k)L=L.slice(0);
else if(x!=k){var f=I.R(l*k*4);I.sZ.UF(z,k,f,m);L=I.R(l*k*4);I.D.GV(f,k,l,L,[l,k,0,1,0,1,0,0]);if(l!=S){e=I.sZ.tR(L,l,k,m);
L=I.R(S*k*4);I.sZ.UF(e,S,L,m)}}else if(l!=S){L=I.R(S*x*4);I.sZ.UF(e,S,L,m)}for(var Y=0;Y<L.length;Y+=4)L[Y+3]=255;
return L};I.sZ.tR=function(i,C,m,e){var z=Date.now(),L=new Uint16Array(C*m),k=1;I.sZ.a2s(i,C,m,L);var l=I.R(C*m);
I.Ud(i,l,3);for(var x=0;x<m;x++)for(var S=0;S<C;S++)L[x*C+S]+=Math.floor((65535-L[x*C+S])*l[x*C+S]*(1/255));
var f=Math.ceil(C/k),X=new Uint32Array(k),o=new Uint32Array(k),f=Math.floor(C/k);for(var A=0;A<k;A++)o[A]=A<k-1?f:C-(k-1)*f;
for(var x=0;x<m;x++){var Y=x*C;for(var A=0;A<k;A++){var f=o[A];for(var S=0;S<f;S++)X[A]+=L[Y+S];Y+=f}}if(e){console.log(Date.now()-z,"cost");
z=Date.now()}var P=new Uint32Array(C),F=new Uint32Array(C),n=new Uint32Array(C*m);for(var S=0;S<C;S++){n[(m-1)*C+S]=L[(m-1)*C+S]}for(var x=m-2;
x>=0;x--){var R=x*C;for(var A=0;A<k;A++){var f=o[A];n[R]=L[R]+Math.min(n[R+C],n[R+C+1]);for(var S=1;
S<f-1;S++){var Y=R+S;n[Y]=L[Y]+Math.min(n[Y+C-1],Math.min(n[Y+C],n[Y+C+1]))}R+=f-1;n[R]=L[R]+Math.min(n[R+C-1],n[R+C]);
R++}}if(e){console.log(Date.now()-z,"Building M");z=Date.now()}function Q(h,D){return h<D?h:D}function s(Y,h){var D=F[Y],T=n[h],p=~~(D*T*1e-4);
return p}var j=new Uint8Array(C*m),_=new Uint32Array(C);for(var Y=0;Y<C;Y++){P[Y]=Y;F[Y]=L[Y]}for(var x=1;
x<m;x++){var B=0,R=x*C;for(var A=0;A<k;A++){var f=o[A],Y=R;_[B]=s(B,Y);var N=_[B]+s(B+1,Y+1),a=s(B,Y+1)+s(B+1,Y);
_[B+1]=Q(N,a);for(var S=2;S<f;S++){var Y=R+S,O=_[B+S-1]+s(B+S-1,Y-1),H=_[B+S-2]+s(B+S-1,Y-2)+s(B+S-2,Y-1);
_[B+S]=Q(O,H)}var S=f-1;while(S>=2){var Y=R+S,O=_[B+S-1]+s(B+S-1,Y-1),H=_[B+S-2]+s(B+S-1,Y-2)+s(B+S-2,Y-1);
if(_[B+S]==O){j[Y-C]=1;S-=1}else{j[Y-C]=0;j[Y-C-1]=2;S-=2}}var Y=R;if(S==0){j[Y-C]=1}else{if(_[B+1]==N){j[Y+1-C]=1;
j[Y-C]=1}else{j[Y+1-C]=0;j[Y-C]=2}}R+=f;B+=f}I.sZ.a4j(x,C,j,L,P,F,!0,z)}if(e){console.log(Date.now()-z,"Matching");
z=Date.now()}var q=L;return[UZIP.adler(i,0,i.length),i,C,m,k,o,X,P,F,j,q]};I.sZ.UF=function(i,C,m,e){var z=i.slice(0),L=z.shift(),l=z.shift(),x=z.shift(),S=z.shift(),k=z.shift(),f=z.shift(),X=z.shift(),o=z.shift(),A=z.shift().slice(0),P=z.shift(),F=z.shift(),n=Date.now(),R=Math.abs(x-C),Q=Math.floor(R/k),s=new Uint32Array(k),_=0,B=1e9,a=0,O=0,H=0;
for(var j=0;j<k;j++)s[j]=j<k-1?Q:R-(k-1)*Q;F.fill(0);for(var N=0;N<x;N++){_=Math.max(_,A[N]);B=Math.min(B,A[N])}for(var j=0;
j<k;j++){var q=f[j],Q=s[j];for(var h=0;h<Q;h++){var D=0,T=1e9;for(var N=0;N<q;N++)if(A[O+N]<T){T=A[O+N];
D=O+N}if(C<x)A[D]=1e9;else A[D]*=1.2;if(H<x/3)a+=T;var p=o[D],y=F[p],b=y<65280?65280:y+1;if(b<65280)throw"e";
for(var g=0;g<S;g++){var Y=g*x+p;F[Y]=b;p+=P[Y]-1}H++}O+=q}if(e){console.log(Date.now()-n,"Removing best seams");
n=Date.now()}function u(Y,V){var c=Y<<2,E=V<<2;m[c]=l[E];m[c+1]=l[E+1];m[c+2]=l[E+2];m[c+3]=l[E+3]}for(var g=0;
g<S;g++){var t=0,Y=g*x;for(var N=0;N<C;N++,t++){if(C<x){while(F[Y+t]==65280)t++;u(g*C+N,g*x+t)}else{u(g*C+N,g*x+t);
while(F[Y+t]>=65280){F[Y+t]--;N++;u(g*C+N,g*x+t)}}}}if(e){console.log(Date.now()-n,"Shifting image pixels");
n=Date.now()}};I.sZ.a4j=function(i,C,m,e,z,L){var l=0,Y=i*C;while(l<C){if(m[Y-C]==1){L[l]=L[l]+e[Y];
l++;Y++}else{var x=z[l];z[l]=z[l+1];z[l+1]=x;var S=L[l];L[l]=L[l+1]+e[Y];L[l+1]=S+e[Y+1];l+=2;Y+=2}}};
I.sZ.a2s=function(i,C,m,e){function z(i,Y,S){var X=Y<<2,o=S<<2,A=i[X]-i[o],P=i[X+1]-i[o+1],F=i[X+2]-i[o+2];
return Math.abs(A)+Math.abs(P)+Math.abs(F)}for(var L=1;L<C;L++){var l=z(i,L,L-1);e[L-1]+=l;e[L]+=l}for(var x=1;
x<m;x++){var S=x*C,l=z(i,S,S-C);e[S]+=l;e[S-C]+=l;for(var L=1;L<C;L++){var Y=x*C+L,k=z(i,Y,Y-1),f=z(i,Y,Y-C);
e[Y-C]+=f;e[Y-1]+=k;e[Y]+=f+k}}for(var x=0;x<m;x++){e[x*C]*=2;e[x*C+C-1]*=2}for(var Y=0;Y<e.length;Y++)if(e[Y]==0)e[Y]=1};
I.WT=function(){function i(){return 1953e6+Math.floor(Math.random()*999999)}function C(T,p){var y=p[0]-T[0],b=p[1]-T[1];
return y*y+b*b}function m(T,p,y,b,g,u,t,V){var c=y-T,E=b-p,Z=I.C._r(T,p,c,E,g,u,t-g,V-u),G=[T+Z*c,p+Z*E],J=Z>0?[[[T,p],G,!1,0,1],[[g,u],G,!1,0,5]]:[[[y,b],G,!1,0,1],[[t,V],G,!1,0,5]];
return J}function e(T,p){var y=m(T[0],T[1],T[2],T[3],T[6],T[7],T[4],T[5]),b=m(T[0],T[1],T[6],T[7],T[2],T[3],T[4],T[5]),g=[y,b],u=[y[0][1],b[0][1]];
for(var Y=0;Y<2;Y++){var t=u[1-Y],V=g[Y];if(C(V[0][0],t)<C(V[1][0],t)){var c=V[0];V[0]=V[1];V[1]=c}}var E=[i(),0,-1,0,[0,0],y[0],y[1],b[0],b[1]],Z=_(E,p),G=Z[1][0];
E[3]=G;E[4]=Z[0][G];E[5][3]=E[6][3]=Z[0].indexOf(E[5][1]);E[7][3]=E[8][3]=Z[0].indexOf(E[7][1]);if((E[6][3]+1)%3!=E[7][3]){var c=E[5];
E[5]=E[7];E[7]=c;var c=E[6];E[6]=E[8];E[8]=c}for(var Y=0;Y<4;Y++)E[5+Y][4]=[1,5,7,3][Y];return E}function z(T){var p=T[5],y=T[8],b=T[6],g=p[0],u=y[0],t=b[0],V=p[1],c=y[1],E=u[0],Z=u[1],G=c[0]-E,J=c[1]-Z,K=I.C._r(E,Z,G,J,t[0],t[1],V[0]-t[0],V[1]-t[1]);
return[g[0],g[1],E,Z,E+K*G,Z+K*J,t[0],t[1]]}function L(T,p){return T[0]==p[0]&&T[1]==p[1]}function l(T){return{1:0,5:1,7:2,3:3}[T]}function x(T,p,y){var b=p[5+l(T)],g=b[1],u=b[0][0]-g[0],t=b[0][1]-g[1],V=Math.sqrt(u*u+t*t);
u/=V;t/=V;for(var c=0;c<y.length;c++){var E=y[c];if(E[0]!=p[1]&&E[1]!=p[0])continue;for(var Y=0;Y<4;
Y++){var Z=E[5+Y],G=Z[0];if(!L(g,Z[1]))continue;var J=G[0]-g[0],K=G[1]-g[1];V=Math.sqrt(J*J+K*K);J/=V;
K/=V;var M=J*u+K*t;if(Math.abs(M-1)<1e-7)return!0}}return!1}function S(T,p){I.D.i(T,p);return p}function k(T,p){var y=[];
for(var b=0;b<T.length;b++){var g=T[b],u=g[1];for(var t=0;t<u.length;t++){if(p&&p[b].indexOf(t)==-1)continue;
var V=u[t],c=[],E=I.D.v6(z(V),new j2(0,0,1,1));for(var Y=1;Y<=7;Y+=2){c[Y]=x(Y,V,u)}if(!c[1]){if(!c[7])y.push([S(E,[0,0]),b,t,0]);
y.push([S(E,[.5,0]),b,t,1])}if(!c[3]){if(!c[1])y.push([S(E,[1,0]),b,t,2]);y.push([S(E,[1,.5]),b,t,3])}if(!c[5]){if(!c[3])y.push([S(E,[1,1]),b,t,4]);
y.push([S(E,[.5,1]),b,t,5])}if(!c[7]){if(!c[5])y.push([S(E,[0,1]),b,t,6]);y.push([S(E,[0,.5]),b,t,7])}}}return y}function f(T){var p=T.length-2,y=0;
for(var Y=0;Y<p;Y+=2)y+=(T[Y+2]-T[Y])*(T[Y+1]+T[Y+3]);y+=(T[0]-T[p])*(T[p+1]+T[1]);return-y*.5}function X(T,p,y,b){}function o(T,Y){var p=T[Y+2&7]-T[Y&7],y=T[Y+3&7]-T[Y+1&7],b=1/Math.sqrt(p*p+y*y);
return[p*b,y*b]}function A(T){var p=T[2];T[2]=T[6];T[6]=p;var p=T[3];T[3]=T[7];T[7]=p}function P(T,p,y,b){if(b==null)b=0;
var g=p[1],u=z(p),K=null,M,w,di,c7,eE,J,jn;if(g==0){if(f(u)<0)A(u);var t=6,V=u[7]+u[1];for(var Y=0;Y<6;
Y+=2){var c=u[Y+1]+u[Y+3];if(c<V){V=c;t=Y}}u=u.slice(t).concat(u.slice(0,t));var E=$.lx.Aw(u,y[0],y[1]),Z=Math.sqrt(C(u,u.slice(2))),G=Math.sqrt(C(u.slice(4),u.slice(6))),J=(Z+G)*.5;
return[u,new j2(0,0,J,J/E)]}for(var Y=0;Y<T.length&&K==null;Y++){M=T[Y][1];for(var U=0;U<M.length&&K==null;
U++)if(M[U][0]==g)K=M[U]}var r=P(T,K,y,b+1),dS=r[0];r=r[1];for(var Y=0;Y<8;Y+=2){var eM=dS[Y&7],j5=dS[Y+1&7],ds=dS[Y+2&7],ba=dS[Y+3&7];
for(var U=0;U<8;U+=2){var gH=u[U],ir=u[U+1],iP=u[U+2&7],iy=u[U+3&7],iG=Math.abs(I.C.YH(eM,j5,ds,ba,gH,ir))+Math.abs(I.C.YH(eM,j5,ds,ba,iP,iy));
if(iG<=30){w=U;di=Y}}}var eg=o(dS,di),du=o(u,w),gh=eg[0]-du[0],ga=eg[1]-du[1],d5=gh*gh+ga*ga;if(d5<.001){A(u);
w={0:6,2:4,4:2,6:0}[w]}while(w!=(di+4&7)){u.unshift(u.pop());w=w+1&7}var E=$.lx.Aw(u,y[0],y[1]),fu=I.D.v6(dS,r);
fu=I.D.Fb(fu);var ay=[u[w],u[w+1],u[w+2&7],u[w+3&7]];I.D.i(fu,ay);var dI=I.C.OO(ay);if(di==0||di==4){J=dI.m;
jn=J/E;c7=dI.x;eE=dI.y+(di==0?-jn:0)}else{jn=dI.J;J=jn*E;eE=dI.y;c7=dI.x+(di==6?-J:0)}return[u,new j2(c7,eE,J,jn)]}function F(T,p){function y(G,J,K,M){var U=S(G,[J,K]);
U.push(M);return U}var b=[];for(var g=0;g<T.length;g++){var u=T[g],t=u[1];for(var V=0;V<t.length;V++){var c=t[V],E=P(T,c,p),Z=E[0],G=I.D.v6(Z,new j2(0,0,1,1));
b.push(y(G,.5,0,1));b.push(y(G,1,.5,3));b.push(y(G,.5,1,5));b.push(y(G,0,.5,7));b.push(y(G,.5,.5,[E?(E[1].m/E[1].J).toFixed(2):""].join(", ")))}}return b}function n(T,p,y,b){var g=[p],u=[p];
while(!0){var t=[];for(var Y=0;Y<T.length;Y++){var V=T[Y],c=!1;for(var E=0;E<g.length;E++){if(V[1]==T[g[E]][0]||V[0]==T[g[E]][1])t.push(Y)}}var Z=g.length;
for(var Y=0;Y<t.length;Y++){var G=t[Y],V=T[G];if(u.indexOf(G)!=-1)continue;u.push(G);var J=P([[10,T]],V,b);
if(J[1].EI(y))g.push(G)}if(Z==g.length)break}return g}function R(T,p,y){var b=y[0],g=y[1],u=p.x-T[0],t=p.y-T[1],V=I.C._r(T[0],T[1],u,t,g[0],g[1],b[0]-g[0],b[1]-g[1]);
return[T[0]+V*u,T[1]+V*t]}function Q(T,p,y){T=JSON.parse(JSON.stringify(T));var b=T[p[1]][1][p[2]],g=p[3]>=8,u=p[3]&7;
if((u&1)==0)return T;var t=l(u);if(u==1||u==7){var V=b[5+t],c=b[5+2-t],E=b[5+(u==1?3:1)],Z=b[5+(u==1?1:3)],G=V[1],J=R(G,y,c);
if(!g&&C(J,c[1])<C(Z[0],c[1]))return T;V[0]=c[0]=J;E[0]=R(G,y,E)}else{var E=b[5+t],G=E[1],V=b[5+(u==3?0:2)],J=R(G,y,V);
if(!g&&C(J,V[1])>C(V[0],V[1]))return T;if(Math.sign(V[1][0]-V[0][0])!=Math.sign(V[1][0]-J[0]))return T;
E[0]=J}return T}function s(T,p,y){var b=p[0]-T[0],g=p[1]-T[1],u=I.C._r(y[0],y[1],-g,b,T[0],T[1],b,g);
return[y[0]-g*u,y[1]+b*u]}function j(T,p,y){var b=y[0],g=y[1],S=s(T,p,y),u=S[0],t=S[1],V=s(T,y,p),c=I.C._r(u,t,b-u,g-t,p[0],p[1],V[0]-p[0],V[1]-p[1]);
return[u+(b-u)*c,t+(g-t)*c]}function _(T,p){var y=T[5][1],b=T[7][1],g=j(y,b,p),u=[y,b,g];u.sort(function(c,E){return c[0]-E[0]});
if(f([u[0][0],u[0][1],u[1][0],u[1][1],u[2][0],u[2][1]])<0){var t=u[1];u[1]=u[2];u[2]=t}var V=[u.indexOf(y),u.indexOf(b),u.indexOf(g)];
return[u,V]}function B(T,p,y){T=JSON.parse(JSON.stringify(T));var b=p[1],g=T[b][1][p[2]],u=p[3];if((u&1)!=1)return T;
var t=_(g,y),V=t[1][2],c=t[0][V],E=JSON.parse(JSON.stringify(g));T[b][1].push(E);E[0]=i();E[1]=g[0];
E[2]=-10+u;E[3]=V;E[4]=c;if(u==1||u==5){E[7][3]=E[8][3]=V;E[7][1]=E[8][1]=c;if(u==5){E[5][0]=E[7][0]=g[6][0];
E[8][0]=z(g).slice(4,6)}}else{E[5][3]=E[6][3]=V;E[5][1]=E[6][1]=c;if(u==3){E[5][0]=E[7][0]=g[8][0];E[6][0]=z(g).slice(4,6)}}return T}function N(T,p,y){T=JSON.parse(JSON.stringify(T));
var b=p[1],g=T[b][1][p[2]],u=g[2]+10,t=u+4&7,V=u==1||u==5,c=g[5+l(V?7:1)][1],E=g[5+l(t)][0],Z=g[5+l(u)][0];
g[2]=(V?90:0)+(C(E,c)<C(Z,c)?180:0);var G=e(z(g),y);for(var Y=5;Y<9;Y++)g[Y]=G[Y];return T}function a(T,p,y){var k7=T.length>>1,b,g=T[2*k7-3]-y,u=T[2*k7-2]-p,t=T[2*k7-1]-y,V=!1,c=0;
for(var Y=0;Y<k7;Y++){b=u;g=t;u=T[2*Y]-p;t=T[2*Y+1]-y;if(g==t)continue;V=t>g}for(var Y=0;Y<k7;Y++){b=u;
g=t;u=T[2*Y]-p;t=T[2*Y+1]-y;if(g<0&&t<0)continue;if(g>0&&t>0)continue;if(b<0&&u<0)continue;if(g==t&&Math.min(b,u)<=0)return!0;
if(g==t)continue;var E=b+(u-b)*-g/(t-g);if(E==0)return!0;if(E>0)c++;if(g==0&&V&&t>g)c--;if(g==0&&!V&&t<g)c--;
V=t>g}return(c&1)==1}function O(T,p,y,b,g){var u=null;for(var t=0;t<T.length;t++){var V=T[t][1];for(var c=0;
c<V.length;c++){var E=z(V[c]);if(a(E,p,y)||g&&g[0]==t&&g[1]==c&&u==null){u=[t,c];if(b){var Z=P(T,V[c],b),G=I.D.v6(Z[0],Z[1]),J=[p,y];
G=I.D.Fb(G);I.D.i(G,J);u.push(J)}}}}return u}function H(T,p){for(var y=0;y<T.length;y++){var b=T[y][1],g=p[y];
if(g.length==0)continue;var u=q(b,g);for(var t=0;t<b.length;t++){if(u.indexOf(b[t][0])!=-1){b.splice(t,1);
t--}}}for(var y=0;y<T.length;y++)if(T[y][1].length==0){T.splice(y,1);y--}return T}function q(T,p){var y=[];
for(var Y=0;Y<10;Y++)for(var b=0;b<T.length;b++){var g=T[b];if(p.indexOf(b)!=-1||y.indexOf(g[1])!=-1)if(y.indexOf(g[0])==-1)y.push(g[0])}return y}function h(T){var p=W.Sq(T,0,T.length),y=p.split("\n").slice(1);
function b(){return parseFloat(y.shift())}function g(){var gH=[b(),b()];u(1);return gH}function u(k7){for(var Y=0;
Y<k7;Y++)y.shift()}var t=[],V=b();for(var c=0;c<V;c++){var E=b(),Z=b(),G=[];t.push([E,G]);for(var J=0;
J<Z;J++){var K=b(),M=b(),U=b(),r=b(),dS=g(),w=[K,M,U,r,dS];G.push(w);for(var Y=0;Y<4;Y++){var di=g(),eM=g(),j5=b()==1,ds=b(),ba=b();
w.push([di,eM,j5,ds,ba])}}}return t}function D(T){function p(Z){y.push(Z[0],Z[1],"")}var y=["tNaF203"];
y.push(T.length);for(var b=0;b<T.length;b++){y.push(T[b][0]);var g=T[b][1];y.push(g.length);for(var u=0;
u<g.length;u++){var t=g[u];y.push(t[0],t[1],t[2],t[3]);p(t[4]);for(var Y=0;Y<4;Y++){var V=t[5+Y];p(V[0]);
p(V[1]);y.push(V[2]?1:0,V[3],V[4])}}}var c=y.join("\n"),E=new Uint8Array(c.length);W.AW(E,0,c);return E}return{uU:h,hz:D,aox:z,a0p:e,yx:k,az9:Q,ff:F,adl:function(T,p){return p&&(p[3]&1)==0&&T[p[1]][1].length==1},Zq:function(T,p){return p&&(p[3]&1)==1},yd:P,a51:B,ae9:N,asQ:H,xl:q,OZ:O,Pj:n}}();
I.awh=function(){var i=0,C=0,e=15,L=256;function m(f,X,o,A,P,F){var n=(P-1)*X,R=F*X;return f[R+A]-f[R+o-1]-f[n+A]+f[n+o-1]}var z=Math.round(e/8),l=[];
function x(f,X){for(var o=0;o<X.length;o++){var A=X[o],P=0,F=0,n=f[A.MC],R=n.Fr,Q=n.HG,s=n.bB;for(var j=-e;
j<=e;j++)for(var _=-e;_<=e;_++){var B=_+A.alQ,N=j+A.atE;if(_*_+j*j>e*e||B<0||N<0||B>=Q||N>=Q)continue;
var a=R[N*Q+B];P+=_*a;F+=j*a}A.wv=Math.atan2(F,P)}}function S(f,X,o,A,P){var F=~~(f+.5),n=~~(X+.5);return m(o,A,F-z,F+z,n-z,n+z)}function k(f,X,o,A,P){i=A;
C=P;if(l.length==0){var F=new I.l.VB(16200817),s=8,j=0;function n(dS){var H=dS[0]-dS[2],q=dS[1]-dS[3];
return H*H+q*q}function R(){var dS=0,w=0;while(dS===0)dS=F.get();while(w===0)w=F.get();return Math.sqrt(-2*Math.log(dS))*Math.cos(2*Math.PI*w)}var Q=R,_=[];
while(j!=L){var B=Math.max(-e,Math.min(e,Q()*s)),N=Math.max(-e,Math.min(e,Q()*s)),a=Math.max(-e,Math.min(e,Q()*s)),O=Math.max(-e,Math.min(e,Q()*s)),H=B-a,q=N-O,h=Math.sqrt(H*H+q*q);
if(h<3||h>12)continue;l.push(B,N,a,O);j++}}var D=20;for(var T=0;T<X.length;T++){var p=X[T],y=f[p.MC],b=y.aS,o=y.Fr,A=y.HG,P=y.bB,g=p.alQ,u=p.atE,t=p.wv,V=Math.cos(t),c=Math.sin(t),E=new Uint8Array(L>>>3);
p.t6=E;for(var Y=0;Y<L;Y++){var Z=Y*4,B=l[Z+0],N=l[Z+1],a=l[Z+2],O=l[Z+3],G=V*B-c*N,J=c*B+V*N,K=V*a-c*O,M=c*a+V*O,U=S(g+G,u+J,b,A,P),r=S(g+K,u+M,b,A,P);
E[Y>>>3]|=(U<r?0:1)<<(Y&7)}}}return{ajc:x,au4:k}}();I.amS=function(){function i(C,m){var e=[[9]],z=Date.now(),L=[];
for(var l=0;l<C.length;l++){var x=C[l],S=x.aS,k=x.HG,f=x.bB,A=9,s=1,p=24;if(S==null)continue;var X=new Float32Array(k*f),o=new Uint8Array(k*f),P=A>>>1,F=P>>>1,n=Math.round(A/3);
if(n!=A/3)throw"e";var R=1/(A*A),Q=1.2*(A/9);for(var j=P+1;j<f-P;j+=s)for(var _=P+1;_<k-P;_+=s){var B=I.Ia(S,k,_-F,_+F,j-P,j+P)-3*I.Ia(S,k,_-F,_+F,j-P+n,j+P-n),N=I.Ia(S,k,_-P,_+P,j-F,j+F)-3*I.Ia(S,k,_-P+n,_+P-n,j-F,j+F),a=_-P+1,O=_+P-1,H=j-P+1,q=j+P-1,h=I.Ia(S,k,a,_-1,H,j-1)+I.Ia(S,k,_+1,O,j+1,q)-I.Ia(S,k,_+1,O,H,j-1)-I.Ia(S,k,a,_-1,j+1,q),D=(N*B-.9*h*(.9*h))*(R*R);
X[j*k+_]=Math.abs(D);o[j*k+_]=D<0?0:1}var T=k*s;for(var j=p;j<f-p;j+=s)for(var _=p;_<k-p;_+=s){var Y=j*k+_,y=X[Y];
if(y<16)continue;if(X[Y-s]>=y||X[Y+s]>=y)continue;if(X[Y-T-s]>=y||X[Y-T]>=y||X[Y-T+s]>=y)continue;if(X[Y+T-s]>=y||X[Y+T]>=y||X[Y+T+s]>=y)continue;
L.push({x:~~(_*x.IQ+.5),y:~~(j*x.IQ+.5),alQ:_,atE:j,MC:l,b:y,aD6:o[Y],ve:Q})}}if(m!=null){L.sort(function(Z,G){return G.b-Z.b});
L=L.slice(0,m)}return L;var b=[];for(var Y=0;Y<L.length;Y++){var g=!0,u=L[Y];for(var t=0;t<L.length;
t++){var V=L[t];if(t!=Y&&V.b>u.b&&(V.MC==u.MC+1||V.MC==u.MC-1)){var c=u.x-V.x,E=u.y-V.y;if(c*c+E*E<5){g=!1;
break}}}if(g)b.push(u)}console.log(L.length,b.length);return b}return{ajO:i}}();I.Qm={};I.Qm.a9B=function(i){var C=i.length,m=I.Qm.acC(i,!1),z=0,L=1;
throw"e";var e=[];for(var Y=0;Y<C;Y++)e[Y]=I.Qm.a09(m[Y]);var l=i[0][1],x=I.Qm.match(m[z],m[L],e[L]);
console.log(x.length);var S=Math.max(Math.min(x.length,40),x.length*.54);S=Math.min(S,200);var k=x.slice(0,S),f=I.iK.ahO(m[z],m[L],k,l.m,l.J),X=I.iK.aeG(f,[0,0,0],1),o=l.m/2,A=l.J/2,P=1/Math.max(o,A);
for(var Y=0;Y<1;Y++){var F=k[Y],n=m[z][F[0]],R=m[L][F[1]],Q=I.iK.ay8(X,P*(n.x-o),P*(n.y-A),P*(R.x-o),P*(R.y-A))}var s=I.iK.asJ(f,l),j=[];
for(var Y=0;Y<2;Y++){var _=s[Y],B=[_[0][0],_[0][1],_[0][2],_[1][0],_[1][1],_[1][2],_[2][0],_[2][1]],N=$.V.NN(i[Y],null,B);
j.push([N.buffer,N.rect])}return[I.Qm.alK(j[0],j[1],m[z],m[L],k,f,s,l)]};I.Qm.FF=function(i,C){var m=i.length,e=!1,z=Date.now(),L=I.Qm.acC(i,!1,1e4);
if(e)console.log("Descriptors ready",Date.now()-z);z=Date.now();for(var Y=0;Y<m;Y++){var l=i[Y][1];for(var x=0;
x<L[Y].length;x++){L[Y][x].x+=l.x;L[Y][x].y+=l.y}}if(e)console.log("shifted",Date.now()-z);z=Date.now();
var S=[];for(var Y=0;Y<m;Y++)S[Y]=I.Qm.a09(L[Y]);if(e)console.log("trees built",Date.now()-z);z=Date.now();
var k=[];for(var Y=0;Y<m-1;Y++)for(var x=Y+1;x<m;x++){var f=I.Qm.match(L[Y],L[x],S[x]);if(e)console.log("Matches found",Y,x,f.length);
f=f.slice(0,f.length>>>1);if(f.length<10)continue;var X=I.Qm.alj(L[Y],L[x],f,2);k.push([Y,x,f,X])}k.sort(function(O,H){return H[2].length-O[2].length});
if(e)console.log("Matches found",Date.now()-z);z=Date.now();var o=[],A=new UnionFind(m);for(var Y=0;
Y<k.length;Y++){var P=k[Y],F=A.find(P[0]),n=A.find(P[1]);if(F!=n){o.push(P);A.link(F,n)}}var R=[];for(var Y=0;
Y<m;Y++)R[Y]=[1,0,0,0,1,0,0,0];var Q=[0],s=new Uint8Array(m);s[Q[0]]=1;while(Q.length!=0){var n=Q.pop(),X=R[n],j=[];
for(var Y=0;Y<o.length;Y++){var P=o[Y],_=P[0],B=P[1];if(_==n&&s[B]==0){R[B]=I.D.oW(X,P[3]);Q.push(B);
s[B]=1}if(B==n&&s[_]==0){R[_]=I.D.oW(X,I.D.Fb(P[3]));Q.push(_);s[_]=1}}}if(C==null){var N=[];for(var Y=0;
Y<m;Y++)N.push([R[Y][2],Y]);N.sort(function(O,H){return O[0]-H[0]});C=N[N.length>>>1][1]}var a=I.D.Fb(R[C]);
for(var Y=0;Y<m;Y++)R[Y]=I.D.oW(R[Y],a);if(e)console.log("Transforms reordered",Date.now()-z);z=Date.now();
return R};I.Qm.acC=function(i,C,m){var e=[],z=!1;for(var Y=0;Y<i.length;Y++){var L=i[Y][0],l=i[Y][1],x=l.m,S=l.J,k=I.R(l.P());
I.Gt(L,k);var f=Date.now(),X=I.Qm.a8A(k,l,!0);if(z)console.log("Pyramid built ---------------",Date.now()-f);
f=Date.now();var o=I.amS.ajO(X,m);if(z)console.log("SURF Generation",Date.now()-f);f=Date.now();if(!C){I.awh.ajc(X,o);
if(z)console.log("ORB Orientations",Date.now()-f);f=Date.now();I.awh.au4(X,o,k,x,S);if(z)console.log("ORB Descriptors",Date.now()-f);
f=Date.now()}e.push(o)}return e};I.Qm.a8A=function(i,C,m){var e=[],z=[i,C];I.od(z);if(m){var L=I.a85(i,C),l=L.rect,x=[L.S2,l];
I.od(x)}for(var Y=0;Y<z.length;Y++){var S=z[2*Y],k=z[2*Y+1],f=k.m,X=k.J,o=Math.min(f,X);if(o<30)break;
if(o<1600)e.push({Fr:S,HG:f,bB:X,IQ:1<<Y,aS:I.tD(S,f,X)});if(!m)continue;var S=x[2*Y],k=x[2*Y+1],f=k.m,X=k.J,o=Math.min(f,X);
if(o<30)break;if(o<1600)e.push({Fr:S,HG:f,bB:X,IQ:(1<<Y)*3/2,aS:I.tD(S,f,X)})}return e};I.Qm.alj=function(i,C,m,e){var z=Date.now(),L,l=0,x=0,S=m.length,k=new Float64Array(2);
for(var f=0;f<3e3;f++){var X=~~(Math.random()*S),o=~~(Math.random()*S),A=~~(Math.random()*S),P=~~(Math.random()*S),T=0,p=0;
if(X==o||X==A||X==P||o==A||o==P||A==P)continue;var F=m[X],n=m[o],R=m[A],Q=m[P],s=i[F[0]],j=C[F[1]],_=i[n[0]],B=C[n[1]],N=i[R[0]],a=C[R[1]],O=i[Q[0]],H=C[Q[1]],q=[s.x,s.y,_.x,_.y,N.x,N.y,O.x,O.y],h=[j.x,j.y,B.x,B.y,a.x,a.y,H.x,H.y],D=I.D.axR(q,h);
if(D[0]==0&&D[1]==0&&D[3]==0&&D[4]==0)continue;var y=S-l+2;for(var Y=0;Y<S&&Y-T<y;Y++){var b=i[m[Y][0]],g=C[m[Y][1]];
I.D.R7(g.x,g.y,D,k);var u=k[0]-b.x,t=k[1]-b.y,V=u*u+t*t;if(V<e){T++;p+=V}}if(T>l||T==l&&p<x){L=D;l=T;
x=p}}return L};var jy=new Uint8Array(256);for(var Y=0;Y<256;Y++){var jU=0,k7=Y;while(k7!=0){k7=k7&k7-1;
jU++}jy[Y]=jU}I.Qm.ah7=function(i,C,m){var e=0,z=i.length;for(var Y=0;Y<z&&e<m;Y++)e+=jy[i[Y]^C[Y]];
return e};I.Qm.a4x=function(i,C,m,top,e){if(e[m]==1)return;var z=I.Qm.ah7(i.t6,C.t6,top[0]);if(z<top[0]){if(z<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=z;top[3]=m}else{top[0]=z;top[1]=m}}e[m]=1};I.Qm.a09=function(i){var C=[],m=[],e=[[],[]],z=4;
for(var Y=0;Y<i.length;Y++)(i[Y].aD6==0?C:m).push(Y);for(var L=0;L<2;L++){var l=new Array(z),x=[],S=L==0?C:m,k=S.length/256,f=[];
for(var X=0;X<32;X++){var o=new Array(256),F=0;for(var A=0;A<256;A++)o[A]=[];for(var A=0;A<S.length;
A++){var P=S[A];o[i[P].t6[X]].push(P)}for(var A=0;A<256;A++)F+=Math.abs(o[A].length-k);f.push([F,X,o])}f.sort(function(n,R){return n[0]-R[0]});
var x=[],l=[];e[L]=[x,l];for(var Y=0;Y<z;Y++){x.push(f[Y][1]);l.push(f[Y][2])}}return e};I.Qm.match=function(i,C,m){var e=[],z=new Uint16Array(C.length);
z.fill(65535);var L=new Uint8Array(C.length),top=new Uint32Array(4),l=[];for(var x=0;x<i.length;x++){var S=i[x],k=S.t6;
top.fill(1e6);L.fill(0);var f=m[S.aD6];for(var X=0;X<f[1].length;X++){var o=f[1][X][k[f[0][X]]];for(var A=0;
A<o.length;A++){var P=o[A];I.Qm.a4x(S,C[P],P,top,L)}}if(top[2]<50&&top[2]<top[0]*.5){var F=z[top[3]];
if(F==65535){z[top[3]]=e.length;e.push([x,top[3],top[2]])}else if(top[2]<e[F][2]){e[F]=[x,top[3],top[2]]}}}e.sort(function(n,R){return n[2]-R[2]});
return e};I.Qm.apC=function(i){var C=new j2;for(var Y=0;Y<i.length;Y++)C=C.Z0(i[Y][1]);var m=I.R(C.P()*4);
for(var Y=0;Y<i.length;Y++)I.l.Qv("norm",i[Y][0],i[Y][1],m,C,C,1);return[m,C]};I.Qm.alK=function(i,C,m,e,z,L,l,x){var S=i[1].clone(),k=S.clone();
S.x=S.y=0;var f=C[1].clone(),X=f.clone();f.x=f.y=0;f.x=S.m;var o=S.Z0(f),A=X.y-k.y,P=I.R(o.P()*4);I.fF(i[0],S,P,o);
I.fF(C[0],new j2(f.x,f.y+A,f.m,f.J),P,o);var F=document.createElement("canvas");F.width=o.m;F.height=o.J;
var n=F.getContext("2d");n.lineWidth=.5;n.putImageData(new ImageData(new Uint8ClampedArray(P.buffer),o.m,o.J),0,0);
if(L){var R=L[0],Q=I.OT.S4(R),s=S.m,j=x.m;for(var Y=0;Y<z.length;Y++){var _=z[Y],i=m[_[0]],C=e[_[1]];
n.strokeStyle="#"+"ff0000";n.beginPath();var B=I.iK.a4n(Q,l[0],C,0,j),N=I.iK.a4n(R,l[1],i,0,j);n.moveTo(-k.x+B[0],-k.y+B[1]);
n.lineTo(-k.x+B[2],-k.y+B[3]);n.moveTo(s-X.x+N[0],-X.y+A+N[1]);n.lineTo(s-X.x+N[2],-X.y+A+N[3]);n.stroke()}}if(z){var a=z.length;
for(var Y=0;Y<a;Y++){var _=z[Y],i=m[_[0]],C=e[_[1]];n.strokeStyle="#"+"ffff00"}}var O=new Uint8Array(n.getImageData(0,0,o.m,o.J).data.buffer);
if(!1){for(var H=0;H<2;H++){var q=H==0?m:e,h=H*S.m;for(var Y=0;Y<q.length;Y++){var D=q[Y],T=~~D.x,p=~~D.y,y=(p*o.m+T+h)*4;
O[y+1]=O[y+2]=D.adx*60;O[y+0]=0;O[y+3]=255}}}return[O,o]};I.stack={};I.stack.stack=function(i,C,m){var e=i.length,z=C.length;
if(e==1){C.set(i[0]);return}if(m=="avrg"||m=="stdv"||m=="summ"||m=="vari"){var L=1/e;for(var Y=0;Y<z;
Y++){var l=0;for(var x=0;x<e;x++)l+=i[x][Y];var S=~~(l*L+.5);if(m=="avrg"||(Y&3)==3)C[Y]=S;else if(m=="summ")C[Y]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);
else{var k=0;for(var x=0;x<e;x++){var f=i[x][Y]-S;k+=f*f}var X=Math.sqrt(k*L)*(1/255);if(m=="stdv")C[Y]=255*Math.pow(X,1/2.4);
else C[Y]=255*Math.pow(X*X,1/2.4)}}}else if(m=="maxx"){for(var Y=0;Y<z;Y++){var o=0;for(var x=0;x<e;
x++)o=Math.max(o,i[x][Y]);C[Y]=o}}else if(m=="minn"){for(var Y=0;Y<z;Y++){var o=255;for(var x=0;x<e;
x++)o=Math.min(o,i[x][Y]);C[Y]=o}}else if(m=="medn"||m=="rang"){var A=function(R,Q){return R-Q},P=new Array(e),F=0,n=0;
if((e&1)==0){n=e>>>1;F=n-1}else{F=n=e>>>1}for(var Y=0;Y<z;Y++){for(var x=0;x<e;x++)P[x]=i[x][Y];P.sort(A);
if(m=="medn")C[Y]=P[F]+P[n]>>>1;else C[Y]=(Y&3)==3?P[e-1]:P[e-1]-P[0]}}else console.log(m)};I.kg={};
I.kg.afB=function(i,C,m,e){var z=Date.now(),L=new Uint32Array(C*m),l=new Uint8Array(C*m);while(!0){l.fill(0);
L.fill(0);var x=[],S=0;for(var k=0;k<m;k++){for(var f=0;f<C;f++){var Y=k*C+f;if(l[Y]==0){var X=x.length,o=I.kg.eU(i,C,m,f,k,l,L,X);
x.push([X,f,k,o[0],o[1],i[Y]]);if(o[0]<e)S++}}}if(S==0)break;var A=x.length,P=new UnionFind(A),F=[];
for(var Y=0;Y<A;Y++)F.push([]);for(var Y=0;Y<A;Y++){var o=x[Y],n=o[4],R=0,Q=0;if(o[3]>=e)continue;var X=o[0];
for(var s=0;s<n.length;s+=2){var j=L[n[s+1]*C+n[s]],_=x[j];if(_[3]>Q){Q=_[3];R=j}}if(P.find(X)!=P.find(R)){P.link(X,R);
F[X].push(R);F[R].push(X)}}var B=new Uint32Array(A);B.fill(4294967295);var N=new Uint32Array(A);for(var Y=0;
Y<A;Y++){if(B[Y]!=4294967295||F[Y].length==0)continue;var a=[Y],O=[Y],H=Y,q=x[Y][3];while(O.length!=0){var h=O.pop(),D=F[h];
for(var s=0;s<D.length;s++){var T=D[s];if(a.indexOf(T)==-1){a.push(T);O.push(T);var p=x[T];if(p[3]>q){q=p[3];
H=T}}}}for(var s=0;s<a.length;s++){B[a[s]]=H;var y=x[H];N[a[s]]=i[y[2]*C+y[1]]}}for(var k=0;k<m;k++)for(var f=0;
f<C;f++){var Y=k*C+f,b=B[L[Y]];if(b!=4294967295)i[Y]=N[b]}}};I.kg.eU=function(i,C,m,e,z,L,l,x){var S=[e,z],k=i[z*C+e],f=0,X=[];
L[z*C+e]=1;while(S.length!=0){var o=S.pop(),A=S.pop(),Y=o*C+A;l[Y]=x;f++;if(o!=m-1)if(i[Y+C]==k){if(L[Y+C]==0){S.push(A,o+1);
L[Y+C]=1}}else X.push(A,o+1);if(o!=0)if(i[Y-C]==k){if(L[Y-C]==0){S.push(A,o-1);L[Y-C]=1}}else X.push(A,o-1);
if(A!=C-1)if(i[Y+1]==k){if(L[Y+1]==0){S.push(A+1,o);L[Y+1]=1}}else X.push(A+1,o);if(A!=0)if(i[Y-1]==k){if(L[Y-1]==0){S.push(A-1,o);
L[Y-1]=1}}else X.push(A-1,o)}return[f,X]};I.kg.aaO=function(i,C,m,e,z){var L=I.kg.akB(i.buffer,C,m).ri,l=Date.now(),x=[];
for(var Y=0;Y<L.length;Y++){var S=L[Y],k=1;for(var f=0;f<k;f++)x.push(S.xF)}var X=new Uint32Array(x),o=UPNG.quantize.getKDtree(new Uint8Array(X.buffer),e),A=[C,1,-C,-1,C+1,-C+1,-C-1,C-1,C+C,2,-C-C,-2,C+C-1,C+C+1,C+2,-C+2,-C-C+1,-C-C-1,-C-2,C-2,C+C+2,-C-C+2-C-C-2,C+C-2],P=new Uint8Array(C*m),F=i;
for(var n=0;n<m;n++)for(var R=0;R<C;R++){var Y=n*C+R<<2,Q=F[Y]*(1/255),s=F[Y+1]*(1/255),j=F[Y+2]*(1/255),_=F[Y+3]*(1/255),B=I.kg.I4(o,Q,s,j,_,z);
if(B==null){var N=[],a=0;while(a<20){var O=n*C+R+A[a]<<2,H=F[O]*(1/255),q=F[O+1]*(1/255),h=F[O+2]*(1/255),D=F[O+3]*(1/255),T=I.kg.I4(o,H,q,h,D,.005);
if(T!=null){if(N.indexOf(T)==-1){N.push(T);T.Kz=1}else T.Kz++}a++}N.sort(function(_,j){return j.Kz-_.Kz});
while(N.length!=0&&N[N.length-1].Kz<3)N.pop();if(N.length==0)B=I.kg.I4(o,Q,s,j,_,100);else if(N.length==1)B=N[0];
else if(N.length==2){var p=N[0],y=N[1],b=p.est.q,g=y.est.q,u=g[0]-b[0],t=g[1]-b[1],V=g[2]-b[2],c=g[3]-b[3],E=Q-b[0],Z=s-b[1],G=j-b[2],J=_-b[3],K=u*u+t*t+V*V+c*c,M=E*E+Z*Z+G*G+J*J,U=(E*u+Z*t+G*V+J*c)/K,r=M-U*U*K;
if(r<.5)B=U<.5?p:y;else{B=I.kg.I4(o,Q,s,j,_,100)}}else{var p=N[0],y=N[1],dS=N[2],b=p.est.q,g=y.est.q,w=dS.est.q,di=b[0]-w[0],eM=b[1]-w[1],j5=b[2]-w[2],ds=b[3]-w[3],ba=g[0]-w[0],gH=g[1]-w[1],ir=g[2]-w[2],iP=g[3]-w[3],iy=w[0]-Q,iG=w[1]-s,eg=w[2]-j,du=w[3]-_,gh=di*di+eM*eM+j5*j5+ds*ds,ga=di*ba+eM*gH+j5*ir+ds*iP,d5=iy*di+iG*eM+eg*j5+du*ds,fu=di*ba+eM*gH+j5*ir+ds*iP,ay=ba*ba+gH*gH+ir*ir+iP*iP,c7=iy*ba+iG*gH+eg*ir+du*iP,eE=1/(ga*fu-gh*ay),U=(ay*d5-c7*ga)*eE,jn=(c7*gh-d5*fu)*eE,dI=1-U-jn,dQ=Math.max(U,jn,dI);
if(dQ==U)B=p;else if(dQ==jn)B=y;else B=dS}}P[Y>>2]=B.ind}return{sD:P,ri:o[1]}};I.kg.akB=function(i,C,m){var e=[],z={},L=C-1,l=m-1,x=0,S=new Uint32Array(i),k=[-C-1,-C,-C+1,-1,1,C-1,C,C+1,C+C,2,-C-C,-2,C+C-1,C+C+1,C+2,-C+2,-C-C+1,-C-C-1,-C-2,C-2,C+C+2,-C-C+2-C-C-2,C+C-2];
for(var f=1;f<l;f++)for(var X=1;X<L;X++){var o=f*C+X,A=S[o],P=!0;for(var Y=0;Y<8;Y++)P=P&&S[o+k[Y]]==A;
if(P){x++;var F=z[A];if(F==null){z[A]=e.length;e.push({xF:A,Rf:1})}else e[F].Rf++}}return{ri:e,aCM:x}};
I.kg.I4=function(i,C,m,e,z,L){var l=UPNG.quantize.getNearest(i[0],C,m,e,z);return I.kg.aq5(l,C,m,e,z)<L?l:null};
I.kg.aq5=function(i,C,m,e,z){var L=i.est.q,l=C-L[0],x=m-L[1],S=e-L[2],k=z-L[3];return l*l+x*x+S*S+k*k};
(function(){I.kg.qq=function(x,S,k,f,X){var o=x.WP,A=S*k,P=x.Np,F=x.sD,n=e(f,F,o,A),R=new UnionFind(o),N=0;
for(var Q=1;Q<k;Q++)for(var s=1;s<S;s++){var Y=Q*S+s,j=F[Y],_=0;if((_=F[Y-1])!=j&&n[_]==n[j]&&i(P,0,j*6,_*6)<X)R.link(j,_);
if((_=F[Y-S])!=j&&n[_]==n[j]&&i(P,0,j*6,_*6)<X)R.link(j,_)}var B=new Uint16Array(o);B.fill(65535);var a=new Uint16Array(o);
for(var Y=0;Y<o;Y++){var O=R.find(Y);if(B[O]==65535)B[O]=N++;a[Y]=B[O]}var H=new Uint16Array(A);for(var Y=0;
Y<A;Y++)H[Y]=a[F[Y]];return{sD:H,WP:N}};I.kg.cz=function(x,S,k){var f=I.R(S),X=x.length;for(var Y=0;
Y<X;Y++){var o=k[Y];if(o==0||o==255){var A=x[Y],P=2-(o>>>7),F=f[A]=f[A]|P;if(F==3)return A}}return-1};
function i(x,S,k,f){var X=1/x[k+5],o=1/x[f+5],A=x[k]*X-x[f]*o,P=x[k+1]*X-x[f+1]*o,F=x[k+2]*X-x[f+2]*o,n=x[k+3]*X-x[f+3]*o,R=x[k+4]*X-x[f+4]*o,Q=Math.sqrt(A*A+P*P+F*F),s=Math.sqrt(n*n+R*R);
return~~(Q+S*s+.5)}function C(x,S){var Y=0,k=x.length;while(Y!=k&&x[Y]!=S)Y+=2;return Y==k?-1:Y}function m(x,Y){if(Y==x.length-2){x.pop();
x.pop()}else{x[Y+1]=x.pop();x[Y]=x.pop()}}I.kg.azF=function(x,S,k,f,X){var o=new Uint32Array(X*4400),A=[];
for(var Y=0;Y<X;Y++)A.push([]);for(var P=0;P<k;P++)for(var F=0;F<S;F++){var Y=P*S+F,n=Y<<2,R=f[Y],Q=0,s=x[n]>>>4,j=x[n+1]>>>4,_=x[n+2]>>>4;
o[R*4400+(s<<8|j<<4|_)]++;o[R*4400+4096]++;o[R*4400+4100+(s<<4|j)]++;o[R*4400+4360+s]++;if(F!=0&&(Q=f[Y-1])!=R&&C(A[R],Q)==-1){A[R].push(Q,0);
A[Q].push(R,0)}if(P!=0&&(Q=f[Y-S])!=R&&C(A[R],Q)==-1){A[R].push(Q,0);A[Q].push(R,0)}}for(var Y=0;Y<X;
Y++){var _=A[Y];for(var B=0;B<_.length;B+=2)_[B+1]=l(o,Y,_[B])}return[o,A]};function e(x,S,k,f){var X=I.R(k);
for(var Y=0;Y<f;Y++){var o=x[Y];if(o==0||o==255)X[S[Y]]=2-(o>>>7)}return X}I.kg.a3D=function(x,S,k,f,X,o,A){var P=S*k,F=A[0],n=A[1],R=new UnionFind(f),Q=e(X,x,f,P),s=-1,j=!0,_=0;
for(var Y=0;Y<f;Y++)if(Q[Y]==1){if(s==-1)s=Y;else R.link(Y,s)}if(s==-1){for(var Y=0;Y<P;Y++)o[Y]=X[Y]==255?255:0;
return}while(j){while(j){j=!1;for(var Y=0;Y<f;Y++){if(Q[Y]==0){var B=z(n[Y]);if(Q[B]==1){Q[Y]=Q[B];j=!0;
R.link(Y,B)}}}}j=!0;_=0;while(j){j=!1;for(var Y=0;Y<f;Y++){if(Q[Y]==0){var B=z(n[Y]);if(Q[B]==0){var N=Y*4400,a=B*4400;
for(var O=0;O<4400;O+=2){F[N+O]+=F[a+O];F[N+O+1]+=F[a+O+1]}L(n,F,Y,B);_++;Q[B]=3;j=!0;R.link(Y,B)}}}}j=_!=0}var H=R.find(s);
for(var Y=0;Y<f;Y++)Q[Y]=R.find(Y)==H?255:0;for(var Y=0;Y<P;Y++){o[Y]=Q[x[Y]]}for(var Y=0;Y<P;Y++){var B=X[Y];
if(B==0||B==255)o[Y]=B}};function z(x){var S=0,k=0,f=x.length;for(var X=0;X<f;X+=2){var o=x[X+1];if(o>k){k=o;
S=X}}return x[S]}function L(x,S,k,f){var X=x[k],o=x[f];m(X,C(X,f));m(o,C(o,k));for(var Y=0;Y<o.length;
Y+=2){var A=o[Y],P=x[A];m(P,C(P,f));if(C(P,k)==-1){P.push(k,0);X.push(A,0)}}for(var Y=0;Y<X.length;Y+=2){var A=X[Y],P=x[A],F=l(S,k,A);
X[Y+1]=F;P[C(P,k)+1]=F}}function l(x,S,k){var f=0,X=4096,o=S*4400,A=k*4400;for(var P=0;P<16;P++){if(x[o+4360+P]==0||x[A+4360+P]==0)continue;
for(var F=0;F<16;F++){var n=P<<4|F;if(x[o+4100+n]==0||x[A+4100+n]==0)continue;var R=o+(n<<4),Q=A+(n<<4);
for(var Y=0;Y<16;Y++)f+=Math.sqrt(x[R+Y]*x[Q+Y])}}var s=f/Math.sqrt(x[o+X]*x[A+X]);return~~(999.99999*s)}}());
I.kg.kG=function(){var i,C,m,l=0,x=0;function e(A,P,F){var n=[],R=F,Q=F,s=F>>>2;for(var j=0;j<P;j++)for(var _=0;
_<A;_++){var B=~~((_+.5)*R),N=~~((j+.5)*Q),a=1e9,O=Math.max(0,B-s),H=Math.min(C,B+s+1),q=Math.max(0,N-s),h=Math.min(m,N+s+1);
for(var D=q;D<h;D++)for(var T=O;T<H;T++){var p=z(T,D);if(p<a){B=T;N=D;a=p}}n.push(B,N)}return n}function z(A,P){var F=(P*C+A)*4,n=C*4,R=L(F-4,F)+L(F,F+4),Q=L(F-n,F)+L(F,F+n);
return R+Q}function L(A,P){var F=i[A]-i[P],n=i[A+1]-i[P+1],R=i[A+2]-i[P+2];return F*F+n*n+R*R}function S(A,P,F,n){x++;
if(n<l)l=n;A[n].push(P,F)}function k(A){x--;while(A[l].length==0)l++}function f(A,P,F,n,R){var Q=(F*C+P)*4,s=n[R+5],j=1/s,_=i[Q]*s-n[R],B=i[Q+1]*s-n[R+1],N=i[Q+2]*s-n[R+2],a=P*s-n[R+3],O=F*s-n[R+4],H=Math.sqrt(_*_+B*B+N*N),q=Math.sqrt(a*a+O*O);
return~~((H+A*q)*j+.5)}function X(A,P,F,n,R){i=A;C=P;m=F;l=0;x=0;var Q=C*m,s=Math.round(Math.min(C,m)/(n?n:30));
if(s==0)s=1;var j=(R?R:30)/s,_=Math.floor(C/s),B=Math.floor(m/s),N=new Uint16Array(Q);for(var Y=0;Y<Q;
Y++)N[Y]=65535;var a=e(_,B,s),O=a.length>>>1;if(O>65535)throw O;var H=new Uint32Array(O*6),q=[];for(var Y=0;
Y<1e3+m;Y++)q.push([]);var h=1e3*700/(C*m),D=Math.floor(B*h);D=Math.min(B,Math.max(4,D));D=B;var H=new Uint32Array(O*6);
for(var T=0;T<B;T+=D){var p=Math.min(T+D,B);for(var y=T;y<p;y++)for(var b=0;b<_;b++){var Y=y*_+b;S(q,a[Y*2+1]<<16|a[Y*2],Y,0)}var g=Math.min(m,p*s);
if(T+D>=B)g=m;o(H,q,N,j,g)}i=null;return{sD:N,WP:O,Np:H,a5l:j}}function o(A,P,F,n,R){while(x!=0){k(P);
var Q=P[l].pop(),s=P[l].pop(),j=s>>>16,_=s&65535,Y=j*C+_;if(F[Y]==null)throw"e";if(F[Y]==65535){var B=Q*6,N=Y<<2;
F[Y]=Q;A[B]+=i[N];A[B+1]+=i[N+1];A[B+2]+=i[N+2];A[B+3]+=_;A[B+4]+=j;A[B+5]++;if(j!=R-1&&F[Y+C]==65535)S(P,j+1<<16|_,Q,f(n,_,j+1,A,B));
if(j!=0&&F[Y-C]==65535)S(P,j-1<<16|_,Q,f(n,_,j-1,A,B));if(_!=0&&F[Y-1]==65535)S(P,j<<16|_-1,Q,f(n,_-1,j,A,B));
if(_!=C-1&&F[Y+1]==65535)S(P,j<<16|_+1,Q,f(n,_+1,j,A,B))}}}X.Q0=function(A,P,F,n,R,Q){i=A;C=P;m=F;var s=n.WP=n.WP+1,j=n.sD,_=n.Np,B=n.Np=new Uint32Array(s*6);
B.set(_,0);var N=j[R[1]*C+R[0]];for(var Y=0;Y<j.length;Y++)if(j[Y]==N)j[Y]=65535;for(var Y=0;Y<6;Y++)B[N*6+Y]=0;
var a=[];for(var Y=0;Y<1e3+m;Y++)a.push([]);for(var Y=0;Y<R.length;Y+=2)S(a,R[Y+1]<<16|R[Y],N,0);for(var Y=0;
Y<Q.length;Y+=2)S(a,Q[Y+1]<<16|Q[Y],s-1,0);o(B,a,j,n.a5l,m);i=null};return X}();I.afZ={};I.afZ.aeb=function(){var i=11,C=7,m=i>>>1,k7=C>>>1,e=2,z=2e3/e,L=[],x=null,S="";
function l(f,X,o){var A=(f[X+0]-f[o+0])*(1/255),P=(f[X+1]-f[o+1])*(1/255),F=(f[X+2]-f[o+2])*(1/255),n=(f[X+3]-f[o+3])*(1/255),R=A*A*.125+P*P*.25+F*F*.5+n*n;
return L[~~(R*z)]}function k(f,X,o,A,P,F){var n=Date.now(),R=I.R(X*o);I.Gt(f,R);var Q=UZIP.adler(R,0,X*o);
if(Q!=S){var s=I.tD(R,X,o);x=I.R(X*o*4);S=Q;var j=[1,1/9,1/25,1/49,1/81];for(var _=0;_<o;_++)for(var B=0;
B<X;B++)for(var Y=0;Y<4;Y++){var N=Math.max(1,B-Y),a=Math.min(X-1,B+Y),O=Math.max(1,_-Y),H=Math.min(o-1,_+Y),q=I.Ia(s,X,N,a,O,H);
if(isNaN(q))throw B+","+_+","+Y+","+q;x[(_*X+B)*4+Y]=q*j[Y]}}if(cY.fp){var h=cY.H4(0,X,o);h.set(f);var D=cY.H4(1,X,o);
D.set(x);var T=cY.H4(2,X,o);cY.OK(T);cY.filter.PU({type:cY.filter.aBZ,DF:new Float32Array([1/X,1/o]),aDW:D.zo,aAP:P,aB_:F},h.zo);
T.get(A)}else{for(var Y=0;Y<2e3;Y++)L[Y]=Math.exp(-(Y/2e3)*e*(100+(1-P)*(1-P)*1e4));var p=k7+2;for(var _=p;
_<o-p;_++)for(var B=p;B<X-p;B++){var y=0,b=0,g=0,u=0;for(var t=0;t<i;t++)for(var V=0;V<i;V++){var c=B+V-m,E=_+t-m;
if(c==B&&E==_||c<p||E<p||c>=X-p||E>=o-p)continue;var Z=l(x,(_*X+B)*4,(E*X+c)*4),G=E*X+c<<2;y+=Z*f[G+0];
b+=Z*f[G+1];g+=Z*f[G+2];u+=Z}if(u==0){continue}var J=1/u,K=(_*X+B)*4;A[K+0]=~~((1-F)*J*y+F*A[K+0]);A[K+1]=~~((1-F)*J*b+F*A[K+1]);
A[K+2]=~~((1-F)*J*g+F*A[K+2])}}}return k}();I.aqF=function(){var i=6,C=i>>>1,m=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],e=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function z(F,n){var R=!1,Q=F.length,s=n[0],N=5,O=0,H=0;for(var Y=1;Y<Q;Y++)s=s.Z0(n[Y]);if((s.m&1)!=0)s.m++;
if((s.J&1)!=0)s.J++;var j=s.m,_=s.J,B=Math.max(j,_);while(B>>>N>8&&N<10)N++;var a=1<<N;if(j%a!=0)O=a-j%a;
if(_%a!=0)H=a-_%a;s.sW(O>>>1,H>>>1);j=s.m;_=s.J;if(j%a!=0||_%a!=0)throw"e";var q=Date.now(),h=[],D=I.R(s.P()),T=[],p=j*_,y=new Float32Array(j*_*2);
for(var Y=0;Y<Q;Y++){var b=n[Y],g=I.R(b.P());I.Gt(F[Y],g);D.fill(0);I.Vo(g,b,D,s);h.push(D.slice(0));
var u=b.x-s.x,t=b.y-s.y,V=u+b.m-2,c=t+b.J;for(var E=0;E<b.J;E++){var Z=(E+t)*j;for(var G=0;G<u;G++)D[Z+G]=D[Z+u];
for(var G=V;G<j;G++)D[Z+G]=D[Z+V-1]}for(var G=0;G<j;G++){for(var E=0;E<t;E++)D[E*j+G]=D[t*j+G];for(var E=c;
E<_;E++)D[E*j+G]=D[(c-1)*j+G]}var J=new Float32Array(j*_*2);T.push(J);for(var K=0;K<p;K++)J[K*2]=D[K]*(1/255);
S(J,y,j,_,N);L(J,j,_,N)}if(R)console.log("to gray, decompose",Date.now()-q);q=Date.now();var M=I.R(j*_);
for(var E=0;E<_;E++)for(var G=0;G<j;G++){var U=0,r=0,dS=E*j+G<<1;for(var Y=0;Y<Q;Y++){var w=T[Y],di=w[dS],eM=w[dS+1],j5=di*di+eM*eM;
if(j5>r){r=j5;U=Y}}M[dS>>>1]=U}if(R)console.log("max abs value",Date.now()-q);q=Date.now();l(M,j,_,N);
x(M,j,_);if(R)console.log("denoise",Date.now()-q);q=Date.now();var ds=y.slice(0);for(var E=0;E<_;E++)for(var G=0;
G<j;G++){var Y=E*j+G,dS=Y<<1,ba=T[M[Y]];ds[dS]=ba[dS];ds[dS+1]=ba[dS+1]}k(ds,y,j,_,N);if(R)console.log("compose",Date.now()-q);
q=Date.now();for(var K=0;K<p;K++){var j5=ds[K*2]*255,U=0,r=1e9;for(var Y=0;Y<Q;Y++){var gH=Math.abs(h[Y][K]-j5);
if(gH<r){r=gH;U=Y}h[Y][K]=0}h[U][K]=255}if(R)console.log("toRGB",Date.now()-q);q=Date.now();return[h,s]}function L(F,n,R,Q){var s=n>>>Q,j=R>>>Q,_=1e-4;
for(var B=0;B<R;B++)for(var N=0;N<n;N++){if(N<s&&B<j)continue;var a=(B*n+N)*2,O=F[a],H=F[a+1],q=O*O+H*H;
if(q<_)O=H=0;else{var h=(q-_)/q;O*=h;H*=h}F[a]=O;F[a+1]=H}}function l(F,n,R,Q){for(var s=0;s<Q;s++){var j=n>>>s,_=R>>>s,B=j>>>1,N=_>>>1;
for(var a=0;a<N;a++)for(var O=0;O<B;O++){var H=a*n+B+O,q=(a+N)*n+B+O,h=(a+N)*n+O,D=F[H],T=F[q],p=F[h];
if(D==T==p){}else if(D==T)F[h]=D;else if(T==p)F[H]=T;else if(D==p)F[q]=D}}}function x(F,n,R){for(var Q=1;
Q<R-1;Q++)for(var s=1;s<n-1;s++){var Y=Q*n+s,j=F[Y-n],_=F[Y-1],B=F[Y],N=F[Y+1],a=F[Y+n],O=j==_&&j==N||j==N&&N==a||N==a&&_==a||j==_&&a==_;
if(O)F[Y]=j==_?j:_==N?_:j;else if(B>j&&B>_&&B>N&&B>a)F[Y]=j+_+N+a>>>2;else if(B<j&&B<_&&B<N&&B<a)F[Y]=j+_+N+a>>>2}}function S(F,n,R,Q,s){for(var Y=0;
Y<s;Y++){var j=R>>>Y,_=Q>>>Y;f(F,n,R,Q,j,_)}}function k(F,n,R,Q,s){for(var Y=s-1;Y>=0;Y--){var j=R>>Y,_=Q>>Y;
X(F,n,R,Q,j,_)}}function f(F,n,R,Q,s,j){A(F,n,R,Q,s,j,!0);A(n,F,R,Q,s,j,!1)}function X(F,n,R,Q,s,j){P(F,n,R,Q,s,j,!0);
P(n,F,R,Q,s,j,!1)}function o(F,n,R,Q,s,j){var _=R*Q+n<<1;F[_]=s;F[_+1]=j}function A(F,n,R,Q,s,j,_){var jU=_?s:j,B=_?j:s,N=B>>>1;
for(var a=0;a<jU;a++){for(var O=0;O<B;O+=2){var H=0,q=0,h=0,D=0,T=O>>>1;for(var p=0;p<6;p++){var y=O+p-3;
if(y<0)y=B+y;if(y>=B)y=y-B;var b=(_?y*R+a:a*R+y)<<1,g=F[b],u=F[b+1],t=m[p],V=e[p];H+=g*t[0]-u*t[1];q+=u*t[0]+g*t[1];
h+=g*V[0]-u*V[1];D+=u*V[0]+g*V[1]}if(_){o(n,a,T,R,H,q);o(n,a,T+N,R,h,D)}else{o(n,T,a,R,H,q);o(n,T+N,a,R,h,D)}}}}function P(F,n,R,Q,s,j,_){var jU=_?s:j,B=_?j:s,N=B>>>1,a,O,H,q;
for(var h=0;h<jU;h++){for(var D=0;D<B;D++){var T=0,p=0;for(var y=D+3&1;y<6;y+=2){var b=D-y+3>>1;if(b<0)b=N+b;
if(b>=N)b=b-N;if(_){a=h;O=b;H=h;q=b+N}else{O=h;a=b;q=h;H=b+N}var g=O*R+a<<1,u=q*R+H<<1,t=F[g],V=F[g+1],c=F[u],E=F[u+1],Z=m[y],G=e[y];
T+=t*Z[0]+c*G[0];T+=V*Z[1]+E*G[1];p+=V*Z[0]+E*G[0];p-=t*Z[1]+c*G[1]}if(_)o(n,h,D,R,T,p);else o(n,D,h,R,T,p)}}}return{LR:z}}();
I.aD7=function(){var i=Math.floor(12e3/8),C=UPNG.quantize.findNearest,m,e,z,L;function l(o,A,P,F){var n=[o,new j2(0,0,A,P)],Q;
I.aq(n);var R=Date.now(),s=A+P>>>1;for(var Y=s<1e3?2:4;Y>=0;Y-=2){var j=n[Y+1],e=j.m,z=j.J;if(Q==null){Q=new Uint8Array(e*z);
C(n[Y],Q,F)}x(n[Y],e,z,F,Q);if(Y!=0){var _=n[Y-1],B=_.m,N=_.J,a=new Uint8Array(B*N);for(var O=0;O<N;
O++)for(var H=0;H<B;H++)a[O*B+H]=Q[(O>>>1)*e+(H>>>1)];Q=a}}return Q}function x(o,A,P,F,n){m=o;e=A;z=P;
L=F;var R=L.length>>>2,Q=[-1,-e,1,e],s=[-1,-e,-e+1,2,e+1,e],j=[-1,-e,1,e+1,e+e,e-1],_=8,B=e+z>>>1,N=1e9;
while(B>512){_>>=1;B>>=1}_=Math.max(1,Math.min(4,_));for(var a=0;a<_;a++){var O=0;for(var H=0;H<z;H++)for(var q=0;
q<e;q++){if(f(n,q,H)<2)continue;var h=H*e+q,D=n[h],T=1e9,p=0,y=q==0||H==0||q>e-3||H>z-3;if(y){T=1e9;
for(var Y=0;Y<R;Y++){n[h]=Y;var b=X(n,q,H,2);if(b<T){T=b;p=Y}}n[h]=p;if(p==D&&q+1<e&&n[h+1]==D){T=1e9;
for(var Y=0;Y<R;Y++){n[h]=n[h+1]=Y;var b=X(n,q,H,2)+X(n,q+1,H,2);if(b<T){T=b;p=Y}}n[h]=n[h+1]=p}if(p==D&&H+1<z&&n[h+e]==D){T=1e9;
for(var Y=0;Y<R;Y++){n[h]=n[h+e]=Y;var b=X(n,q,H,2)+X(n,q,H+1,2);if(b<T){T=b;p=Y}}n[h]=n[h+e]=p}}else{T=1e9;
p=-1;for(var Y=0;Y<4;Y++){var g=n[h+Q[Y]];if(g==p)continue;n[h]=g;var b=X(n,q,H,2);if(b<T){T=b;p=g}}n[h]=p;
if(p==D&&q+1<e&&n[h+1]==D){T=1e9;p=-1;for(var Y=0;Y<6;Y++){var g=n[h+s[Y]];if(g==p)continue;n[h]=n[h+1]=g;
var b=X(n,q,H,2)+X(n,q+1,H,2);if(b<T){T=b;p=g}}n[h]=n[h+1]=p}if(p==D&&H+1<z&&n[h+e]==D){T=1e9;p=-1;for(var Y=0;
Y<6;Y++){var g=n[h+j[Y]];if(g==p)continue;n[h]=n[h+e]=g;var b=X(n,q,H,2)+X(n,q,H+1,2);if(b<T){T=b;p=g}}n[h]=n[h+e]=p}}O+=T}}}function S(o){var A=0;
for(var P=0;P<z;P++)for(var F=0;F<e;F++)A+=X(o,F,P,1);return A/(e*z)}function k(o,A,P){var Y=P*e+A,F=Y*4,n=o[Y]*4,R=m[F]-L[n],Q=m[F+1]-L[n+1],s=m[F+2]-L[n+2],j=m[F+3]-L[n+3];
return R*R+Q*Q+s*s+j*j}function f(o,A,P){if(A<0||A>=e||P<0||P>=z)throw"e";var Y=P*e+A,F=o[Y],n=0;if(P>0&&F!=o[Y-e])n+=2;
if(A>0&&F!=o[Y-1])n+=2;if(A<e-1&&F!=o[Y+1])n+=2;if(P<z-1&&F!=o[Y+e])n+=2;if(P>0&&A>0&&F!=o[Y-e-1])n++;
if(P<z-1&&A>0&&F!=o[Y+e-1])n++;if(P>0&&A<e-1&&F!=o[Y-e+1])n++;if(P<z-1&&A<e-1&&F!=o[Y+e+1])n++;return n}function X(o,A,P,F){return k(o,A,P)+f(o,A,P)*F*i}return l}();
var gu=function(){function i(){this.P=0;this.aE=0;this.LG={};this.AS=[];this.ED=1e5;this.wW=1e5;this.SA=-1;
this.DQ=-1;this.color=0}function C(k7){this.Qi=k7;this.L0=new Array(k7);this.xF=new Array(k7*6);this.amF=0;
this.wa=new Array(k7*2);this.alpha=new Array(k7);this.ho=new Array(k7);this.gd=new Array(k7)}function m(z,L,l,x){function S(n,R,z,L){return z[L*R+n]}function k(Y){var N=z.length;
while(Y<N&&z[Y]==0)Y++;return Y<N?Y:-1}function f(n,R,N){for(var Y=2;Y<5;Y++){var a=0;for(var O=-Y+1;
O<=Y-1;O++){a+=S(n+O,R+Y-1,z,L)==N?1:-1;a+=S(n+Y-1,R+O-1,z,L)==N?1:-1;a+=S(n+O-1,R-Y,z,L)==N?1:-1;a+=S(n-Y,R+O,z,L)==N?1:-1}if(a>0)return 1;
else if(a<0)return 0}return 0}function X(N,P){var F=new i,n=N,R=P,a=0,O=1,H;F.color=z[P*L+N];F.sign=S(N,P,z,L)==F.color?"+":"-";
while(1){F.AS.push(n,R);if(n>F.SA)F.SA=n;if(n<F.ED)F.ED=n;if(R>F.DQ)F.DQ=R;if(R<F.wW)F.wW=R;F.aE++;n+=a;
R+=O;F.P-=n*O;if(n==N&&R==P)break;var q=S(n+(a+O-1>>1),R+(O-a-1>>1),z,L)==F.color,h=S(n+(a-O-1>>1),R+(O+a-1>>1),z,L)==F.color;
if(h&&!q){if(x.sy=="right"||x.sy=="black"&&F.sign=="+"||x.sy=="white"&&F.sign=="-"||x.sy=="majority"&&f(n,R,F.color)||x.sy=="minority"&&!f(n,R,F.color)){H=a;
a=-O;O=H}else{H=a;a=O;O=-H}}else if(h){H=a;a=-O;O=H}else if(!q){H=a;a=O;O=-H}}return F}var o=0,A=[];
while(!0){var o=k(o);if(o==-1)break;var P=Math.floor(o/L),F=X(o-P*L,P);for(var Y=0;Y<F.AS.length-2;Y+=2){var n=F.AS[Y],R=F.AS[Y+1],Q=R*L+n;
if(n==F.AS[Y+2]&&R+1==F.AS[Y+3]&&z[Q]!=0)gu.fill(Q,z,L,0)}if(F.P>x.azD)A.push(F)}for(var Y=0;Y<A.length;
Y++)A[Y].parent=-1;var s=Date.now();for(var Y=1;Y<A.length;Y++){var j=A[Y];for(var _=Y-1;_>=0;_--){var B=A[_];
if(j.ED<B.ED||j.SA>B.SA||j.wW<B.wW||j.DQ>B.DQ)continue;if(!gu.dD(B.AS,j.AS[0]+.5,j.AS[1]+.5))continue;
j.parent=_;break}}return A}function e(z,L){function l(a,O,H,q,h){this.x=a;this.y=O;this.LA=H;this.fB=q;
this.La=h}function x(a,k7){return(k7+a)%k7}function S(a,O,H,q){return a*q-H*O}function k(a,O,H,q){return a*H+O*q}function f(a,O,H){if(a<=H)return a<=O&&O<H;
else return a<=O||O<H}function X(a,O,H){var q=0;q+=O*a[0]*O;q+=O*a[1]*H;q+=O*a[2];q+=H*a[3]*O;q+=H*a[4]*H;
q+=H*a[5];q+=a[6]*O;q+=a[7]*H;q+=a[8];return q}function o(a,O,H){return O+a*(H-O)}function A(a,O,H,q){var h=Math.sign(H-a),D=-Math.sign(q-O);
return h*(H-a)-D*(q-O)}function P(a,O){return Math.sqrt(a*a+O*O)}function F(a,O,H,q,h){var D=1-a;return D*D*D*O+3*(D*D*a)*H+3*(a*a*D)*q+a*a*a*h}function n(a,O,H,q,h,D,T,p){var y=S(a,O,T,p),b=S(H,q,T,p),g=S(h,D,T,p),u=y-2*b+g,t=-2*y+2*b,V=y,c=t*t-4*u*V;
if(u==0||c<0)return-1;var E=Math.sqrt(c),Z=(-t+E)/(2*u),G=(-t-E)/(2*u);if(Z>=0&&Z<=1)return Z;else if(G>=0&&G<=1)return G;
else return-1}function R(N){var Y,a,O;N.c1=N.AS[0];N.a39=N.AS[1];N.q0=[];var H=N.q0;H.push(new l(0,0,0,0,0));
for(Y=0;Y<N.aE;Y++){a=N.AS[Y<<1]-N.c1;O=N.AS[(Y<<1)+1]-N.a39;H.push(new l(H[Y].x+a,H[Y].y+O,H[Y].LA+a*O,H[Y].fB+a*a,H[Y].La+O*O))}}function Q(N){var k7=N.aE,a=N.AS,O,H=new Array(k7),q=new Array(k7),h=new Array(4),D,T,p,y,b,g,u,t,V,c,E,Y,Z,G,J,K,M,U,r=0;
N.qA=new Array(k7);for(Y=k7-1;Y>=0;Y--){if(a[Y<<1]!=a[r<<1]&&a[(Y<<1)+1]!=a[(r<<1)+1])r=Y+1;q[Y]=r}for(Y=k7-1;
Y>=0;Y--){var dS=x(Y+1,k7)<<1;h[0]=h[1]=h[2]=h[3]=0;O=(3+3*(a[dS]-a[Y<<1])+(a[dS+1]-a[(Y<<1)+1]))/2;
h[O]++;D=0;T=0;p=0;y=0;r=q[Y];G=Y;while(1){E=0;O=(3+3*Math.sign(a[r*2]-a[G*2])+Math.sign(a[r*2+1]-a[G*2+1]))/2;
h[O]++;if(h[0]&&h[1]&&h[2]&&h[3]){H[Y]=G;E=1;break}V=a[r*2]-a[Y*2];c=a[r*2+1]-a[Y*2+1];if(S(D,T,V,c)<0||S(p,y,V,c)>0){break}if(Math.abs(V)<=1&&Math.abs(c)<=1){}else{b=V+(c>=0&&(c>0||V<0)?1:-1);
g=c+(V<=0&&(V<0||c<0)?1:-1);if(S(D,T,b,g)>=0){D=b;T=g}b=V+(c<=0&&(c<0||V<0)?1:-1);g=c+(V>=0&&(V>0||c<0)?1:-1);
if(S(p,y,b,g)<=0){p=b;y=g}}G=r;r=q[G];if(!f(r,Y,G)){break}}if(E==0){u=Math.sign(a[r*2]-a[G*2]);t=Math.sign(a[r*2+1]-a[G*2+1]);
V=a[G*2]-a[Y*2];c=a[G*2+1]-a[Y*2+1];J=S(D,T,V,c);K=S(D,T,u,t);M=S(p,y,V,c);U=S(p,y,u,t);Z=1e7;if(K<0){Z=Math.floor(J/-K)}if(U>0){Z=Math.min(Z,Math.floor(-M/U))}H[Y]=x(G+Z,k7)}}Z=H[k7-1];
N.qA[k7-1]=Z;for(Y=k7-2;Y>=0;Y--){if(f(Y+1,H[Y],Z)){Z=H[Y]}N.qA[Y]=Z}for(Y=k7-1;f(x(Y+1,k7),Z,N.qA[Y]);
Y--){N.qA[Y]=Z}}function s(N){function a(N,Y,O){var k7=N.aE,V=N.AS,c=N.q0,E,Z,G,J,K,q,M,U,t,r,dS,w,di,eM,j5=0;
if(O>=k7){O-=k7;j5=1}if(j5==0){E=c[O+1].x-c[Y].x;Z=c[O+1].y-c[Y].y;J=c[O+1].fB-c[Y].fB;G=c[O+1].LA-c[Y].LA;
K=c[O+1].La-c[Y].La;q=O+1-Y}else{E=c[O+1].x-c[Y].x+c[k7].x;Z=c[O+1].y-c[Y].y+c[k7].y;J=c[O+1].fB-c[Y].fB+c[k7].fB;
G=c[O+1].LA-c[Y].LA+c[k7].LA;K=c[O+1].La-c[Y].La+c[k7].La;q=O+1-Y+k7}dS=(V[Y<<1]+V[O<<1])/2-V[0];w=(V[(Y<<1)+1]+V[(O<<1)+1])/2-V[1];
eM=V[O<<1]-V[Y<<1];di=-(V[(O<<1)+1]-V[(Y<<1)+1]);M=(J-2*E*dS)/q+dS*dS;U=(G-E*w-Z*dS)/q+dS*w;t=(K-2*Z*w)/q+w*w;
r=di*di*M+2*di*eM*U+eM*eM*t;return Math.sqrt(r)}var Y,O,H,q,k7=N.aE,h=new Array(k7+1),D=new Array(k7+1),T=new Array(k7),p=new Array(k7+1),y=new Array(k7+1),b=new Array(k7+1),g,u,t;
for(Y=0;Y<k7;Y++){t=x(N.qA[x(Y-1,k7)]-1,k7);if(t==Y){t=x(Y+1,k7)}if(t<Y){T[Y]=k7}else{T[Y]=t}}O=1;for(Y=0;
Y<k7;Y++){while(O<=T[Y]){p[O]=Y;O++}}Y=0;for(O=0;Y<k7;O++){y[O]=Y;Y=T[Y]}y[O]=k7;H=O;Y=k7;for(O=H;O>0;
O--){b[O]=Y;Y=p[Y]}b[0]=0;h[0]=0;for(O=1;O<=H;O++){for(Y=b[O];Y<=y[O];Y++){u=-1;for(q=y[O-1];q>=p[Y];
q--){g=a(N,q,Y)+h[q];if(u<0||g<u){D[Y]=q;u=g}}h[Y]=u}}N.aCG=H;N.aes=new Array(H);for(Y=k7,O=H-1;Y>0;
O--){Y=D[Y];N.aes[O]=Y}}function j(N){function a(N,Y,g,T,p,ds){var k7=N.aE,ba=N.q0,gH=0,t;while(g>=k7){g-=k7;
gH+=1}while(Y>=k7){Y-=k7;gH-=1}while(g<0){g+=k7;gH-=1}while(Y<0){Y+=k7;gH+=1}var ir=ba[g+1].x-ba[Y].x+gH*ba[k7].x,iP=ba[g+1].y-ba[Y].y+gH*ba[k7].y,iy=ba[g+1].fB-ba[Y].fB+gH*ba[k7].fB,iG=ba[g+1].LA-ba[Y].LA+gH*ba[k7].LA,eg=ba[g+1].La-ba[Y].La+gH*ba[k7].La,u=g+1-Y+gH*k7;
T[ds]=ir/u;T[ds+1]=iP/u;var du=(iy-ir*ir/u)/u,gh=(iG-ir*iP/u)/u,ga=(eg-iP*iP/u)/u,d5=(du+ga+Math.sqrt((du-ga)*(du-ga)+4*gh*gh))/2;
du-=d5;ga-=d5;if(Math.abs(du)>=Math.abs(ga)){t=Math.sqrt(du*du+gh*gh);if(t!=0){p[ds]=-gh/t;p[ds+1]=du/t}}else{t=Math.sqrt(ga*ga+gh*gh);
if(t!=0){p[ds]=-ga/t;p[ds+1]=gh/t}}if(t==0){p[ds]=p[ds+1]=0}}var O=N.aCG,H=N.aes,k7=N.aE,q=N.AS,h=N.c1,D=N.a39,T=new Array(O*2),p=new Array(O*2),y=new Array(O),b=new Array(3),Y,g,u,t,Z,G,J,K,M,U,r;
N.LG=new C(O);for(Y=0;Y<O;Y++){g=H[x(Y+1,O)];g=x(g-H[Y],k7)+H[Y];T[Y<<1]=0;T[(Y<<1)+1]=0;p[Y<<1]=0;p[(Y<<1)+1]=0;
a(N,H[Y],g,T,p,Y<<1)}for(Y=0;Y<O;Y++){y[Y]=[0,0,0,0,0,0,0,0,0];var V=p[Y<<1]*p[Y<<1]+p[(Y<<1)+1]*p[(Y<<1)+1],c=1/V;
if(V!=0){b[0]=p[(Y<<1)+1];b[1]=-p[Y<<1];b[2]=-b[1]*T[(Y<<1)+1]-b[0]*T[Y<<1];for(t=0;t<3;t++){y[Y][t*3+0]=b[t]*b[0]*c;
y[Y][t*3+1]=b[t]*b[1]*c;y[Y][t*3+2]=b[t]*b[2]*c}}}var E=[0,0,0,0,0,0,0,0,0];for(Y=0;Y<O;Y++){E[0]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=0;
var dS=q[H[Y]<<1]-h,w=q[(H[Y]<<1)+1]-D,di=0,eM=0;g=x(Y-1,O);for(t=0;t<9;t+=3){E[t+0]=y[g][t+0]+y[Y][t+0];
E[t+1]=y[g][t+1]+y[Y][t+1];E[t+2]=y[g][t+2]+y[Y][t+2]}while(1){var j5=E[0]*E[4]-E[1]*E[3];if(j5!=0){di=(-E[2]*E[4]+E[5]*E[0])/j5;
eM=(E[2]*E[3]-E[5]*E[0])/j5;break}if(E[0]>E[4]){b[0]=-E[1];b[1]=E[0]}else if(E[4]){b[0]=-E[4];b[1]=E[3]}else{b[0]=1;
b[1]=0}var V=b[0]*b[0]+b[1]*b[1],c=1/V;b[2]=-b[1]*w-b[0]*dS;for(t=0;t<3;t++){E[t*3+0]+=b[t]*b[0]*c;E[t*3+1]+=b[t]*b[1]*c;
E[t*3+2]+=b[t]*b[2]*c}}Z=Math.abs(di-dS);G=Math.abs(eM-w);if(Z<=.5&&G<=.5){N.LG.wa[Y<<1]=di+h;N.LG.wa[(Y<<1)+1]=eM+D;
continue}J=X(E,dS,w);M=dS;U=w;if(E[0]!=0){for(r=0;r<2;r++){eM=w-.5+r;di=-(E[1]*eM+E[2])/E[0];Z=Math.abs(di-dS);
K=X(E,di,eM);if(Z<=.5&&K<J){J=K;M=di;U=eM}}}if(E[4]!=0){for(r=0;r<2;r++){di=dS-.5+r;eM=-(E[3]*di+E[5])/E[4];
G=Math.abs(eM-w);K=X(E,di,eM);if(G<=.5&&K<J){J=K;M=di;U=eM}}}for(t=0;t<2;t++){for(u=0;u<2;u++){di=dS-.5+t;
eM=w-.5+u;K=X(E,di,eM);if(K<J){J=K;M=di;U=eM}}}N.LG.wa[Y<<1]=M+h;N.LG.wa[(Y<<1)+1]=U+D}}function _(N){var a=N.LG.Qi,O=N.LG,Y,H,q,h,D,T,p,y,b;
for(Y=0;Y<a;Y++){H=x(Y+1,a);q=x(Y+2,a);var g=O.wa[Y<<1],u=O.wa[(Y<<1)+1],t=O.wa[q<<1],V=O.wa[(q<<1)+1],c=O.wa[H<<1],E=O.wa[(H<<1)+1],Z=o(.5,t,c),G=o(.5,V,E);
D=A(g,u,t,V);if(D!=0){h=S(c-g,E-u,t-g,V-u)/D;h=Math.abs(h);T=h>1?1-1/h:0;T=T*(1/.75)}else{T=4/3}O.ho[H]=T;
var J=3*H<<1;if(T>=L.akm){O.L0[H]=0;O.xF[J+0]=O.xF[J+1]=0;O.xF[J+2]=c;O.xF[J+3]=E;O.xF[J+4]=Z;O.xF[J+5]=G}else{if(T<.55){T=.55}else if(T>1){T=1}var K=.5+.5*T;
O.L0[H]=1;O.xF[J]=o(K,g,c);O.xF[J+1]=o(K,u,E);O.xF[J+2]=o(K,t,c);O.xF[J+3]=o(K,V,E);O.xF[J+4]=Z;O.xF[J+5]=G}O.alpha[H]=T;
O.gd[H]=.5}O.anM=1}function B(N){function a(){this.e_=0;this.lH=0;this.XK=0;this.EM=0;this.ys=0;this.me=0;
this.ve=0;this.alpha=0}function O(N,Y,g,ay,c7,M,U){var q=N.LG.Qi,eE=N.LG.xF,jn=N.LG.wa;if(Y==g)return 1;
var dI=Y,c=x(Y+1,q),dQ=x(dI+1,q),iG=jn[Y<<1],eg=jn[(Y<<1)+1],jo=jn[c<<1],hT=jn[(c<<1)+1],ea=M[dQ];if(ea==0)return 1;
var b9=P(iG-jo,eg-hT);for(dI=dQ;dI!=g;dI=dQ){var dQ=x(dI+1,q),bI=x(dI+2,q),ii=jn[dQ<<1],d_=jn[(dQ<<1)+1],c4=jn[bI<<1],kG=jn[(bI<<1)+1];
if(M[dQ]!=ea)return 1;if(Math.sign(S(jo-iG,hT-eg,c4-ii,kG-d_))!=ea)return 1;if(k(jo-iG,hT-eg,c4-ii,kG-d_)<b9*P(ii-c4,d_-kG)*-.999847695156)return 1}var fC=x(Y,q)*3+2<<1,bO=x(Y+1,q)<<1,id=x(g,q)<<1,a5=x(g,q)*3+2<<1,ds=eE[fC],ba=eE[fC+1],eU=jn[bO],af=jn[bO+1],a7=jn[id],g$=jn[id+1],cg=eE[a5],cC=eE[a5+1],r=jn[0],dS=jn[1];
fC=g*3+2<<1;var kF=eE[fC],am=eE[fC+1],E=U[g]-U[Y];E-=S(kF-r,am-dS,kF-r,am-dS)/2;if(Y>=g){E+=U[q]}var cJ=eU-ds,fX=af-ba,hP=a7-ds,kx=g$-ba,f2=cg-ds,gt=cC-ba,iD=S(cJ,fX,hP,kx),eb=S(cJ,fX,f2,gt),dA=S(hP,kx,f2,gt),e9=iD+dA-eb;
if(eb==iD)return 1;var K=dA/(dA-e9),J=eb/(eb-iD),eI=eb*K/2;if(eI==0)return 1;var d9=E/eI,Z=2-Math.sqrt(4-d9/.3);
ay.lH=o(K*Z,ds,eU);ay.XK=o(K*Z,ba,af);ay.EM=o(J*Z,cg,a7);ay.ys=o(J*Z,cC,g$);ay.alpha=Z;ay.me=K;ay.ve=J;
eU=ay.lH;af=ay.XK;a7=ay.EM;g$=ay.ys;ay.e_=0;for(dI=x(Y+1,q);dI!=g;dI=dQ){dQ=x(dI+1,q);var f9=jn[dI<<1],e4=jn[(dI<<1)+1],ii=jn[dQ<<1],d_=jn[(dQ<<1)+1];
K=n(eU-ds,af-ba,a7-eU,g$-af,cg-a7,cC-g$,ii-f9,d_-e4);if(K<-.5)return 1;var cj=F(K,ds,eU,a7,cg),i4=F(K,ba,af,g$,cC),b9=P(ii-f9,d_-e4);
if(b9==0)return 1;var d6=S(ii-f9,d_-e4,cj-f9,i4-e4)/b9;if(Math.abs(d6)>c7)return 1;if(k(ii-f9,d_-e4,cj-f9,i4-e4)<0||k(f9-ii,e4-d_,cj-ii,i4-d_)<0){return 1}ay.e_+=d6*d6}for(dI=Y;
dI!=g;dI=dQ){dQ=x(dI+1,q);var fC=dI*3+2<<1,bO=dQ*3+2<<1,ko=eE[fC],cM=eE[fC+1],g2=eE[bO],iW=eE[bO+1];
K=n(eU-ds,af-ba,a7-eU,g$-af,cg-a7,cC-g$,g2-ko,iW-cM);if(K<-.5)return 1;var cj=F(K,ds,eU,a7,cg),i4=F(K,ba,af,g$,cC),b9=P(g2-ko,iW-cM);
if(b9==0)return 1;var d6=S(g2-ko,iW-cM,cj-ko,i4-cM)/b9,bl=S(g2-ko,iW-cM,jn[dQ<<1]-ko,jn[(dQ<<1)+1]-cM)/b9;
bl*=.75*N.LG.alpha[dQ];if(bl<0){d6=-d6;bl=-bl}if(d6<bl-c7)return 1;if(d6<bl){ay.e_+=(d6-bl)*(d6-bl)}}return 0}var H=N.LG,q=H.Qi,h=H.wa,D=new Array(q+1),T=new Array(q+1),p=new Array(q+1),y=new Array(q+1),b,Y,g,u,t=new a,V,c,E,Z,G,J,K,M=new Array(q),U=new Array(q+1);
for(Y=0;Y<q;Y++){if(H.L0[Y]=="CURVE"){var r=h[x(Y-1,q)<<1],dS=h[(x(Y-1,q)<<1)+1],w=h[Y<<1],di=h[(Y<<1)+1],eM=h[x(Y+1,q)<<1],j5=h[(x(Y+1,q)<<1)+1];
M[Y]=Math.sign(S(w-r,di-dS,eM-w,j5-di))}else{M[Y]=0}}E=0;U[0]=0;var ds=H.wa[0],ba=H.wa[1];for(Y=0;Y<q;
Y++){c=x(Y+1,q);if(H.L0[c]=="CURVE"){Z=H.alpha[c];var gH=Y*3+2<<1,ir=c*3+2<<1,iP=H.xF[gH],iy=H.xF[gH+1],iG=h[c<<1],eg=h[(c<<1)+1],du=H.xF[ir],gh=H.xF[ir+1];
E+=.3*Z*(4-Z)*S(iG-iP,eg-iy,du-iP,gh-iy)/2;E+=S(iP-ds,iy-ba,du-ds,gh-ba)/2}U[Y+1]=E}D[0]=-1;T[0]=0;p[0]=0;
for(g=1;g<=q;g++){D[g]=g-1;T[g]=T[g-1];p[g]=p[g-1]+1;for(Y=g-2;Y>=0;Y--){u=O(N,Y,x(g,q),t,L.aCb,M,U);
if(u){break}if(p[g]>p[Y]+1||p[g]==p[Y]+1&&T[g]>T[Y]+t.e_){D[g]=Y;T[g]=T[Y]+t.e_;p[g]=p[Y]+1;y[g]=t;t=new a}}}b=p[q];
G=new C(b);J=new Array(b);K=new Array(b);g=q;for(Y=b-1;Y>=0;Y--){var ga=x(g,q),d5=Y*3+0<<1,fu=ga*3+0<<1;
if(D[g]==g-1){G.L0[Y]=H.L0[ga];G.xF[d5]=H.xF[fu];G.xF[d5+1]=H.xF[fu+1];G.xF[d5+2]=H.xF[fu+2];G.xF[d5+3]=H.xF[fu+3];
G.xF[d5+4]=H.xF[fu+4];G.xF[d5+5]=H.xF[fu+5];G.wa[Y<<1]=H.wa[ga<<1];G.wa[(Y<<1)+1]=H.wa[(ga<<1)+1];G.alpha[Y]=H.alpha[ga];
G.ho[Y]=H.ho[ga];G.gd[Y]=H.gd[ga];J[Y]=K[Y]=1}else{G.L0[Y]="CURVE";G.xF[d5]=y[g].lH;G.xF[d5+1]=y[g].XK;
G.xF[d5+2]=y[g].EM;G.xF[d5+3]=y[g].ys;G.xF[d5+4]=H.xF[fu+4];G.xF[d5+5]=H.xF[fu+5];G.wa[Y<<1]=o(y[g].ve,H.xF[fu+4],h[ga<<1]);
G.wa[(Y<<1)+1]=o(y[g].ve,H.xF[fu+5],h[(ga<<1)+1]);G.alpha[Y]=y[g].alpha;G.ho[Y]=y[g].alpha;J[Y]=y[g].ve;
K[Y]=y[g].me}g=D[g]}for(Y=0;Y<b;Y++){c=x(Y+1,b);G.gd[Y]=J[Y]/(J[Y]+K[c])}G.anM=1;N.LG=G}for(var Y=0;
Y<z.length;Y++){var N=z[Y];R(N);Q(N);s(N);j(N);_(N);if(L.avH)B(N)}}return{abz:m,ajV:e}}();gu.if=function(i,C,m,e){var z={sy:"minority",azD:e,avH:!0,akm:1,aCb:.2},L=gu.abz(i,C,m,z);
gu.ajV(L,z);return L};gu.bM=function(i){var C=[];for(var Y=0;Y<i.length;Y++){var m=i[Y],e=m.LG,z=["M"],L=[e.xF[(e.Qi-1)*6+4],e.xF[(e.Qi-1)*6+5]];
for(var l=0;l<e.Qi;l++){var x=l*6;if(e.L0[l]==1){z.push("C");for(var S=0;S<6;S++)L.push(e.xF[x+S])}else if(e.L0[l]==0){z.push("L");
for(var S=2;S<4;S++)L.push(e.xF[x+S])}}z.push("Z");C.push({parent:m.parent,color:m.color,path:{j:L,G:z}})}return C};
gu.dD=function(i,C,m){var k7=i.length>>1,e,z=i[2*k7-3]-m,L=i[2*k7-2]-C,l=i[2*k7-1]-m,x=l>z,S=0;for(var Y=0;
Y<k7;Y++){e=L;z=l;L=i[2*Y]-C;l=i[2*Y+1]-m;if(z==l)continue;x=l>z}for(var Y=0;Y<k7;Y++){e=L;z=l;L=i[2*Y]-C;
l=i[2*Y+1]-m;if(z<0&&l<0)continue;if(z>0&&l>0)continue;if(e<0&&L<0)continue;if(z==l&&Math.min(e,L)<=0)return!0;
if(z==l)continue;var k=e+(L-e)*-z/(l-z);if(k==0)return!0;if(k>0)S++;if(z==0&&x&&l>z)S--;if(z==0&&!x&&l<z)S--;
x=l>z}return(S&1)==1};gu.fill=function(i,C,m,e){var z=C[i],L=[i],l=0;while(l<L.length){var x=L[l];l++;
C[x]=e;if(C[x-m]==z){L.push(x-m);C[x-m]=254}if(C[x-1]==z){L.push(x-1);C[x-1]=254}if(C[x+1]==z){L.push(x+1);
C[x+1]=254}if(C[x+m]==z){L.push(x+m);C[x+m]=254}}};var a2=function(){function i(x){return Math.max(0,Math.min(1,x))}function C(x,S){var k=S<0?-S:S;
if(x>1)x=.99;x=x*.99;var f=Math.pow(k/5,.16),o=Math.pow(2,k<1?k:1+(k-1)*.8);if(S<0)o=1/o;x=f*(1-Math.pow(1-x,o))+(1-f)*x;
return x}function m(x,S){var k=S/100;x=x*.99;x=k*(.5-.5*Math.cos(x*Math.PI))+(1-k)*x;return x}var e=I.X$.N8(1,1,1,-.3),z=I.X$.Fb(e);
function L(x,S,k,f,X,o,A){var P=x[k],F=x[k+1],n=x[k+2],R=I.X$.eq(e,[P,F,n,1]);P=R[0];F=R[1];n=R[2];P=C(P,f);
F=C(F,f);n=C(n,f);var R=I.X$.eq(z,[P,F,n,1]);P=R[0];F=R[1];n=R[2];P=i(P);F=i(F);n=i(n);P=m(P,X);F=m(F,X);
n=m(n,X);var Q=fM.ava(P,F,n,o);P=Q[0];F=Q[1];n=Q[2];P=i(P);F=i(F);n=i(n);if(A){var s=new Uint8Array(4);
s[0]=~~(.5+P*255);s[1]=~~(.5+F*255);s[2]=~~(.5+n*255);fp.ny(A,s,s,new j2(0,0,1,1));P=s[0]/255;F=s[1]/255;
n=s[2]/255}S[k]=P;S[k+1]=F;S[k+2]=n}function l(x,S,k,f,X,o){var A=X.Temp?X.Temp.v:0,P=X.Tint?X.Tint.v:0,F=X.Ex12?X.Ex12.v:0,n=X.Cr12?X.Cr12.v:0,R=X.Vibr?X.Vibr.v:0,Q=X.Strt?X.Strt.v:0,s=fM.v6(A,P),j=null;
F+=s.aq7;if(R!=0||Q!=0)j=fp.QV("vibA",{Strt:X.Strt,vibrance:X.Vibr});var _=Date.now();if(o){var B=Math.pow(2,F),N=x.length;
F=0;var a=new Float32Array(4e3);for(var Y=0;Y<4e3;Y++){var O=Y*(1/1e3);O=I.rt(O);O*=B;O=I.ie(O);O=i(O);
a[Y]=O}for(var Y=0;Y<N;Y+=3){f[Y]=a[~~(x[Y]*1e3)];f[Y+1]=a[~~(x[Y+1]*1e3)];f[Y+2]=a[~~(x[Y+2]*1e3)]}console.log(Date.now()-_,"Exposure normalizing");
_=Date.now()}else f.set(x);if(F!=0||n!=0||A!=0||P!=0||j){var H=17,q=1/(H-1),h=H*H*H,D=new Array(h*3);
for(var T=0;T<H;T++)for(var p=0;p<H;p++)for(var y=0;y<H;y++){var Y=T*H*H+p*H+y,b=Y*3;D[b]=T*q;D[b+1]=p*q;
D[b+2]=y*q}for(var Y=0;Y<h;Y++)L(D,D,Y*3,F,n,s,j);console.log(Date.now()-_,"making LUT");_=Date.now();
ICC.U.applyLUTFloat(D,H,f,f);console.log(Date.now()-_,"applying LUT");_=Date.now()}}return l}();function bN(){}bN.uU=function(i,C){var m=new Uint8Array(i),e=0,z=C.split("/").pop().split(".")[0];
function L(n){for(var Y=0;Y<n.length;Y++)n[Y].v.Nm.v=z+"/"+n[Y].v.Nm.v.split("/").pop()}var l={fT:[],bh:[],list:[]},x=W.vV(m,e);
e+=2;if(x<=2){l=bN.azZ(m);L(l.list);return l}var S=W.vV(m,e);e+=2;var k=W.Sq(m,e,8);e+=8;var f=W.Q(m,e);
e+=4;if(f>0)l.fT=bN.aa5(m,e,f,S,x);e+=f;var X=W.Sq(m,e,8);e+=8;var o=W.Q(m,e);e+=4;if(o>0)l.bh=cv.DV(m,e,o);
e+=o;var A=W.Sq(m,e,8);e+=8;var P=W.Q(m,e);e+=4;if(P>0){var F={};hM.Ky(m,F,e+4);l.list=F.Brsh.v}e+=P;
var n=l.list;for(var Y=0;Y<n.length;Y++){iH.uI.check(n[Y].v)}L(n);return l};bN._n=function(i,C){i.v.Nm.v=C};
bN.azZ=function(i){var C={fT:[],bh:[],list:[]},m=0,e=W.vV(i,m);m+=2;var z=W.vV(i,m);m+=2;for(var Y=0;
Y<z;Y++){var L=W.vV(i,m);m+=2;var l=W.Q(i,m);m+=4;var x=m;if(L==2){var S={};C.fT.push(S);var k=W.Q(i,x);
x+=4;var f=W.vV(i,x);x+=2;if(e==2){var X=W.r8(i,x);x+=4+X.length*2+2}S.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";
x++;x+=8;S.TD=W.hc(i,x);x+=16;var o=W.vV(i,x);x+=2;var A=i[x];x++;var P=ej.Ao(!1,o,i,S.TD.m,S.TD.J,x,A);
bN.als(S,P);var F=iH.UD(S.id),n=F.Brsh.v;n.Dmtr.v.val=S.TD.m;n.Spcn.v.val=f;C.list.push({t:"Objc",v:F})}m+=l}return C};
bN.Em=function(i){var C=new ac,m=0,e=0;W.g7(C,m,6);m+=2;W.g7(C,m,2);m+=2;var z={},L=[],l={},x=[];for(var Y=0;
Y<i.list.length;Y++){var S=i.list[Y].v,k=S.Brsh.v;if(k.classID=="sampledBrush")z[k.sampledData.v]=!0;
if(S.Txtr)l[S.Txtr.v.Idnt.v]=!0}for(var Y=0;Y<i.fT.length;Y++)if(z[i.fT[Y].id])L.push(i.fT[Y]);for(var Y=0;
Y<i.bh.length;Y++)if(z[i.bh[Y].id])x.push(i.bh[Y]);W.HC(C,m,"8BIMsamp");m+=8;m+=4;e=m;m=bN.a0P(C,m,L);
W.RG(C,e-4,m-e);W.HC(C,m,"8BIMpatt");m+=8;m+=4;e=m;m=cv.Mr(C,m,x);W.RG(C,e-4,m-e);var f=JSON.parse(JSON.stringify(i.list));
for(var Y=0;Y<f.length;Y++)f[Y].v.Nm.v=f[Y].v.Nm.v.split("/").pop();var X={classID:"null",Brsh:{t:"VlLs",v:f}};
W.HC(C,m,"8BIMdesc");m+=8;m+=4;e=m;W.RG(C,m,16);m+=4;m+=hM.mt(C,X,m);W.RG(C,e-4,m-e);return C.data.slice(0,m).buffer};
bN.aa5=function(i,C,m,e,z){var L=W.Q,l=W.hc,x=C+m,S=[];while(C<x){var k={};S.push(k);var f=L(i,C);C+=4;
var X=C,o=W.d4(i,C);C+=o.length;k.id=o.qm;if(e==1){C+=9;k.TD=l(i,C);C+=16}else{C+=7;var A=L(i,C);C+=4;
k.TD=l(i,C);C+=16;var P=L(i,C);C+=4;C+=P*4;var F=L(i,C);C+=4;var n=L(i,C);C+=4;var R=l(i,C);C+=16}var Q=W.vV(i,C);
C+=2;var s=i[C];C+=1;var j=ej.Ao(!1,Q,i,k.TD.m,k.TD.J,C,s);bN.als(k,j);if(f%4!=0)f+=4-f%4;C=X+f}return S};
bN.als=function(i,C){var m=i.TD.clone();m.x=m.y=0;i.GK=[C,m]};bN.a0P=function(i,C,m){var e=W.RG,z=W.WZ;
for(var Y=0;Y<m.length;Y++){var L=m[Y],l=C+4,S=56,f=1;C+=4;W.fj(i,C,L.id);C+=L.id.length+2;i.uG(C,1);
i.data[C]=1;C+=3;e(i,C,3);C+=4;var x=C;C+=4;z(i,C,L.TD);C+=16;e(i,C,S);C+=4;C+=S*4;e(i,C-4,1);var k=C;
C+=4;e(i,C,8);C+=4;z(i,C,L.TD);C+=16;W.g7(i,C,8);C+=2;i.uG(C,1);i.data[C]=f;C++;var X=L.GK[0];i.uG(C,L.TD.P()*2);
C=ej.dk(!1,X,i.data,L.TD.m,L.TD.J,C,f);i.uG(C,8);C+=8;var o=C-l;e(i,l-4,o);e(i,x,o-49);e(i,k,o-305);
if(o%4!=0)C+=4-o%4}return C};function aA(){}aA.uU=function(i,C){var m=new Uint8Array(i),e=[],z=0,L=W.vV(m,z);
z+=2;if(L!=4){throw"Unknown version of curves: "+L}var l=W.vV(m,z);z+=2;for(var Y=0;Y<l;Y++){var x=aA.ane(m,z);
z+=2+2*x.length;e.push(x)}if(z!=m.length){var S=W.Sq(m,z,4);z+=4;var k=W.vV(m,z);z+=2;var f=W.vV(m,z);
z+=2;if(f!=0)throw"extra curves for channels"}var X=aA.asW(e,0);X.presetKind={t:"long",v:3};X.presetFileName={t:"TEXT",v:C.split("/").pop().split(".")[0]};
return[X]};aA.rf=function(i,C,m){var e=C,z=[],L=i[C];C+=3;var l=W.Q(i,C);C+=4;for(var Y=0;Y<4;Y++){var x=l>>>Y&1;
if(x){if(L==0){var S=aA.ane(i,C);C+=2+2*S.length}else{var S=aA.acu(i,C);C+=256}z.push(S)}else z.push(L==0?[0,0,255,255]:aA.a1V())}var k=aA.asW(z,L);
return k};aA.asW=function(i,C){var m=ft.TQ("curv");for(var Y=0;Y<4;Y++){if(C==0){var e=i[Y],z=[];for(var L=0;
L<e.length;L+=2)z.push(I.$l.$z(e[L],e[L+1],!0));aA.gH(m,Y,z)}else aA.gH(m,Y,i[Y])}return m};aA.HR=function(i,C,m){var e=[];
for(var Y=0;Y<4;Y++){var z=aA.t1(m,Y);if(z.length==256)e.push(z);else{var L=[];for(var l=0;l<z.length;
l++)L.push(z[l].v.Hrzn.v,z[l].v.Vrtc.v);e.push(L)}}var x=C,S=e[0].length==256?1:0;i.uG(C,3);i.data[C]=S;
i.data[C+1]=0;i.data[C+2]=1;C+=3;W.RG(i,C,15);C+=4;for(var Y=0;Y<4;Y++){var k=e[Y];if(S==0){aA.ajG(i,C,k);
C+=2+2*k.length}else{aA.amH(i,C,k);C+=256}}return C-x};aA.a1V=function(){var i=[];for(var Y=0;Y<256;
Y++)i.push(Y);return i};aA.gH=function(i,C,m){var e=ao.HH("CrvA",C);if(m.length<256)e.Crv={t:"VlLs",v:m};
else{e.Mpng={t:"VlLs",v:[]};for(var Y=0;Y<256;Y++)e.Mpng.v[Y]={t:"long",v:m[Y]}}e={t:"Objc",v:e};var z=i.Adjs.v,L=ao.Bk(z,C);
if(L==-1)z.push(e);else z[L]=e};aA.t1=function(i,C){var m=i.Adjs.v,e=ao.Bk(m,C);if(e==-1){if(m.length==0||m[0].v.Crv)return[I.$l.$z(0,0,!0),I.$l.$z(255,255,!0)];
if(m[0].v.autoMachineLearning||m[0].v.AuCo)return[I.$l.$z(0,0,!0),I.$l.$z(128,160,!0),I.$l.$z(255,255,!0)];
var z=[];for(var Y=0;Y<256;Y++)z.push(Y);return z}var L=m[e].v;if(L.Crv)return L.Crv.v;if(L.Mpng){var z=[];
for(var Y=0;Y<256;Y++)z.push(L.Mpng.v[Y].v);return z}return[I.$l.$z(0,0,!0),I.$l.$z(255,255,!0)]};aA.ane=function(i,C){var m=[],e=W.vV(i,C);
C+=2;for(var z=0;z<e;z++){var L=W.vV(i,C);C+=2;var l=W.vV(i,C);C+=2;m.push(l,L)}return m};aA.ajG=function(i,C,m){var e=m.length/2;
W.g7(i,C,e);C+=2;for(var z=0;z<e;z++){W.g7(i,C,m[z*2+1]);C+=2;W.g7(i,C,m[z*2+0]);C+=2}};aA.acu=function(i,C){var m=[];
for(var Y=0;Y<256;Y++)m.push(i[C+Y]);return m};aA.amH=function(i,C,m){i.uG(C,256);for(var Y=0;Y<256;
Y++)i.data[C+Y]=m[Y]};function jK(){}jK.rf=function(i,C,m){var e={},z=W.vV(i,C);C+=2;e.U4=i[C]==1;C++;
C++;e.OW=[W.x1(i,C),W.x1(i,C+2),W.x1(i,C+4)];C+=6;e.DH=[W.x1(i,C),W.x1(i,C+2),W.x1(i,C+4)];C+=6;e.Qx=[];
for(var Y=0;Y<6;Y++){var L={};L.kl=[W.x1(i,C),W.x1(i,C+2),W.x1(i,C+4),W.x1(i,C+6)];C+=8;L.Ih=[W.x1(i,C),W.x1(i,C+2),W.x1(i,C+4)];
C+=6;e.Qx.push(L)}var l=ft.TQ("hue2"),x=e;if(l.Clrz==null)l.Clrz={t:"bool",v:!1};l.Clrz.v=x.U4;for(var Y=0;
Y<7;Y++){var S=Y==0?x.U4?x.OW:x.DH:x.Qx[Y-1];jK.gH(l,Y,S)}return l};jK.aDO=function(i){return{classID:"Hst2",H:{t:"long",v:i[0]},Strt:{t:"long",v:i[1]},Lght:{t:"long",v:i[2]}}};
jK.Bk=function(i,C){for(var Y=0;Y<i.length;Y++){var m=i[Y].v.LclR;if(C==0&&m==null||m!=null&&m.v==C)return Y}return-1};
jK.gH=function(i,C,m){var e=C==0?m:m.Ih,z=jK.aDO(e);if(C!=0){var L=m.kl;z.LclR={t:"long",v:C},z.BgnR={t:"long",v:L[0]};
z.BgnS={t:"long",v:L[1]};z.EndS={t:"long",v:L[2]};z.EndR={t:"long",v:L[3]}}z={t:"Objc",v:z};var l=i.Adjs.v,x=jK.Bk(l,C);
if(x==-1)l.push(z);else l[x]=z};jK.t1=function(i,C){var m=i.Adjs.v,e=jK.Bk(m,C);if(e==-1){if(C==0)return[0,0,0];
else return[{kl:[315,345,15,45],Ih:[0,0,0]},{kl:[15,45,75,105],Ih:[0,0,0]},{kl:[75,105,135,165],Ih:[0,0,0]},{kl:[135,165,195,225],Ih:[0,0,0]},{kl:[195,225,255,285],Ih:[0,0,0]},{kl:[255,285,315,345],Ih:[0,0,0]}][C-1]}var z=m[e].v,L=[z.H.v,z.Strt.v,z.Lght.v];
if(C==0)return L;return{Ih:L,kl:[z.BgnR.v,z.BgnS.v,z.EndS.v,z.EndR.v]}};jK.HR=function(i,C,m){var e={U4:m.Clrz?m.Clrz.v:!1,Qx:[]};
e.OW=e.DH=jK.t1(m,0);for(var Y=1;Y<7;Y++)e.Qx.push(jK.t1(m,Y));var z=2+2+12+6*14,L=i.data;i.uG(C,z);
W.$g(L,C,2);C+=2;L[C]=e.U4?1:0;C++;C++;W.qe(L,C+0,e.OW[0]);W.qe(L,C+2,e.OW[1]);W.qe(L,C+4,e.OW[2]);C+=6;
W.qe(L,C+0,e.DH[0]);W.qe(L,C+2,e.DH[1]);W.qe(L,C+4,e.DH[2]);C+=6;for(var Y=0;Y<6;Y++){var l=e.Qx[Y].kl,x=e.Qx[Y].Ih;
W.qe(L,C+0,l[0]);W.qe(L,C+2,l[1]);W.qe(L,C+4,l[2]);W.qe(L,C+6,l[3]);C+=8;W.qe(L,C+0,x[0]);W.qe(L,C+2,x[1]);
W.qe(L,C+4,x[2]);C+=6}return z};function ao(){}ao.uU=function(i){var C=new Uint8Array(i),m=2,e=[];for(var Y=0;
Y<29;Y++){var z=[];e.push(z);for(var L=0;L<5;L++)z.push(W.vV(C,m+Y*10+L*2))}m+=29*10;if(m<C.length){var l=W.Sq(C,m,4);
m+=4;var x=W.vV(C,m);m+=2;var S=W.vV(C,m);m+=2;var k=S-29;for(var Y=0;Y<k;Y++){var z=[];e.push(z);for(var L=0;
L<5;L++)z.push(W.vV(C,m+Y*10+L*2))}}var f=ft.TQ("levl");for(var Y=0;Y<4;Y++)ao.gH(f,Y,e[Y]);return f};
ao.HH=function(i,Y){var C=["Cmps","Rd","Grn","Bl"],m={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:C[Y]}}]};
return{classID:i,Chnl:m}};ao.Bk=function(i,C){var m={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Y=0;Y<i.length;
Y++){var e=i[Y].v,z=m[e.Chnl.v[0].v.enum];if(z==C)return Y}return-1};ao.gH=function(i,C,m){var e=ao.HH("LvlA",C);
e.Inpt={t:"VlLs",v:[{t:"long",v:m[0]},{t:"long",v:m[1]}]};e.Otpt={t:"VlLs",v:[{t:"long",v:m[2]},{t:"long",v:m[3]}]};
e.Gmm={t:"doub",v:m[4]/100};e={t:"Objc",v:e};var z=i.Adjs.v,L=ao.Bk(z,C);if(L==-1)z.push(e);else z[L]=e};
ao.t1=function(i,C){var m=[0,255,0,255,100],e=i.Adjs.v,z=ao.Bk(e,C);if(z==-1)return m;var L=e[z].v;if(L.Inpt){m[0]=L.Inpt.v[0].v;
m[1]=L.Inpt.v[1].v}if(L.Otpt){m[2]=L.Otpt.v[0].v;m[3]=L.Otpt.v[1].v}if(L.Gmm){m[4]=Math.round(L.Gmm.v*100)}return m};
ao.Em=function(i,C){var m=[],e=0;for(var Y=0;Y<4;Y++)m.push(ao.t1(C,Y));while(m.length<29)m.push([0,255,0,255,100]);
i.uG(0,2+10*29);W.$g(i.data,e,2);e+=2;for(var Y=0;Y<29;Y++){var z=m[Y];for(var L=0;L<5;L++)W.$g(i.data,e+Y*10+L*2,z[L])}e+=29*10;
if(m.length==29)return e;i.uG(e,8+10*(m.length-29));W.AW(i.data,e,"Lvls");e+=4;W.$g(i.data,e,3);e+=2;
W.$g(i.data,e,m.length);e+=2;var l=m.length-29;for(var Y=0;Y<l;Y++){var z=m[29+Y];for(var L=0;L<5;L++)W.$g(i.data,e+Y*10+L*2,z[L])}e+=10*l;
return e};function fT(){}fT.uU=function(i,C){var m=new Uint8Array(i),e=2,z=C.split("/").pop().split(".")[0],L={qo:[],te:[]},l=W.Sq(m,e,4);
e+=4;var x=W.vV(m,e);e+=2;var S=W.Q(m,e);e+=4;L.qo=cv.DV(m,e,S);e+=S;var k=W.Q(m,e);e+=4;for(var Y=0;
Y<k;Y++){var f=W.Q(m,e);e+=4;var X=e,o={hg:{},b2:{}};L.te.push(o);e+=4;e+=hM.Ky(m,o.hg,e);o.hg.Nm.v=z+"/"+o.hg.Nm.v.split("=").pop();
e+=4;e+=hM.Ky(m,o.b2,e);e=X+f;var A=o.b2.blendOptions,P=o.b2.Lefx;if(A&&Object.keys(A.v).length>1){}if(P){if(P.v.masterFXSwitch==null)P.v.masterFXSwitch={t:"bool",v:!0};
cX.Oi(P.v)}}return L};fT._n=function(i,C){i.hg.Nm.v=C};fT.Em=function(i){var C=new ac,m=0;W.g7(C,m,2);
m+=2;W.HC(C,m,"8BSL");m+=4;W.g7(C,m,3);m+=2;var e=m;m+=4;m=cv.Mr(C,m,i.qo);W.RG(C,e,m-e-4);var z=i.te.length;
W.RG(C,m,z);m+=4;for(var Y=0;Y<z;Y++){m+=4;var L=m,l=i.te[Y];W.RG(C,m,16);m+=4;var x=l.hg.Nm.v;l.hg.Nm.v=l.hg.Nm.v.split("/").pop();
m+=hM.mt(C,l.hg,m);l.hg.Nm.v=x;var S=l.b2.Lefx;if(S){l.b2.Lefx=JSON.parse(JSON.stringify(S));cX.Zm(l.b2.Lefx.v)}W.RG(C,m,16);
m+=4;m+=hM.mt(C,l.b2,m);if(S)l.b2.Lefx=S;W.RG(C,L-4,m-L)}return C.data.slice(0,m).buffer};function jm(){}jm.rf=function(i,C,m){var e=W.vV(i,C);
C+=2;var z={};z.U0=W.vV(i,C)==1;C+=2;z.LK=[];for(var Y=0;Y<10;Y++){var L=[];z.LK.push(L);for(var l=0;
l<4;l++)L.push(W.x1(i,C+l*2));C+=8}var x=ft.TQ("selc");x.Mthd.v.CrcM=z.U0?"Absl":"Rltv";for(var Y=1;
Y<10;Y++)jm.gH(x,Y-1,z.LK[Y]);return x};jm.b1="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
jm.HH=function(i,Y){var C=["Cmps","Rd","Grn","Bl"],m={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:C[Y]}}]};
return{classID:i,Chnl:m}};jm.Bk=function(i,C){var m=jm.b1;for(var Y=0;Y<i.length;Y++){var e=i[Y].v,z=m.indexOf(e.Clrs.v.Clrs);
if(z==C)return Y}return-1};jm.gH=function(i,C,m){var e=["Cyn","Mgnt","Ylw","Blck"],z={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:jm.b1[C]}}};
for(var L=0;L<4;L++)z[e[L]]={t:"UntF",v:{type:"#Prc",val:m[L]}};z={t:"Objc",v:z};var l=i.ClrC.v,x=jm.Bk(l,C);
if(x==-1)l.push(z);else l[x]=z};jm.t1=function(i,C){var m=[0,0,0,0],e=i.ClrC.v,z=jm.Bk(e,C);if(z==-1)return m;
var L=["Cyn","Mgnt","Ylw","Blck"];for(var Y=0;Y<4;Y++)if(e[z].v[L[Y]])m[Y]=e[z].v[L[Y]].v.val;return m};
jm.HR=function(i,C,m){var e={U0:m.Mthd.v.CrcM=="Absl",LK:[[0,0,0,0]]};for(var Y=0;Y<9;Y++)e.LK.push(jm.t1(m,Y));
i.uG(C,84);W.$g(i.data,C,1);C+=2;W.$g(i.data,C,e.U0?1:0);C+=2;for(var Y=0;Y<10;Y++){var z=e.LK[Y];for(var L=0;
L<4;L++)W.qe(i.data,C+L*2,z[L]);C+=8}return 84};function cV(){}cV.TQ=function(){return{zO:new j2(0,0,50,50),hg:"",ud:"play",$:I.o.vC.Cf([.1,.1,.9,.5,.1,.9],0)}};
cV.uU=function(i,C){i=new Uint8Array(i);var m=0,e=[],z=C.split("/").pop().split(".")[0],L=Date.now(),l=W.Sq(i,0,4);
m+=4;var x=W.Q(i,m);m+=4;var S=W.Q(i,m);m+=4;for(var Y=0;Y<S;Y++){var k=W.r8(i,m);m+=k.length*2+4+2;
if((k.length&1)==0)m+=2;m=cV.a6M(i,m,k,e);e[Y].ud=z+"/"+e[Y].ud}return e};cV.a6M=function(i,C,m,e){var z=W.Q(i,C);
C+=4;var L=W.Q(i,C);C+=4;var l=C,x=W.d4(i,l).qm;l+=x.length+1;var S=W.hc(i,l);l+=16;var k=cV.Qc(i,l,L-(l-C)),f=I.o._I(k),X=I.C.OO(f),o=1/X.m,A=1/X.J;
I.o.Pa(k,new hN(o,0,0,A,-X.x*o,-X.y*A));e.push({ud:m,hg:x,$:k,zO:S});C+=L;return C};cV._n=function(i,C){i.ud=C};
cV.Em=function(i){var C=new ac,m=0;W.HC(C,m,"cush");m+=4;W.RG(C,m,2);m+=4;W.RG(C,m,i.length);m+=4;for(var Y=0;
Y<i.length;Y++){var e=i[Y],z=e.ud.split("/").pop()+"\0";W.O6(C,m,z);m+=4+z.length*2;if((z.length&1)==1)m+=2;
W.RG(C,m,1);m+=4;m+=4;var L=m;W.fj(C,m,e.hg);m+=e.hg.length+1;W.WZ(C,m,e.zO);m+=16;C.uG(m,e.$.length*26);
cV.sg(C.data,m,e.$,1,1);m+=e.$.length*26;var l=m-L;if((l&3)!=0)l+=4-(l&3);W.RG(C,L-4,l);m=L+l}return C.data.slice(0,m).buffer};
cV.acn=function(i){var C=[];for(var Y=0;Y<i.length;Y++){var m=i[Y],e=m.type,z={type:e};C.push(z);if(e==6){}else if(e==8)z.all=m.all;
else if(e==0||e==3){z.length=m.length;z.frule=m.ay;z.third=m.pj;z.prmA=m.X0;z.prmB=m.QG}else{z.c=[m.My.x,m.My.y,m.L.x,m.L.y,m.sP.x,m.sP.y]}}return C};
cV.axe=function(i){var C=[];for(var Y=0;Y<i.length;Y++){var m=i[Y],e=m.type,z={type:e};C.push(z);if(e==6){}else if(e==8)z.all=m.all;
else if(e==0||e==3){z.length=m.length;z.ay=m.frule;z.pj=m.third;z.X0=m.prmA;z.QG=m.prmB}else{var L=m.c;
z.My=new b5(L[0],L[1]);z.L=new b5(L[2],L[3]);z.sP=new b5(L[4],L[5])}}return C};cV.Qc=function(i,C,m,e,z){if(e==null)e=1;
if(z==null)z=1;function L(F,n,R){var Q=W.afg(F,n)*R,s=Math.round(Q);return Math.abs(Q-s)<1e-6?s:Q}var l=W.x1,x=[],S=Math.floor(m/26);
for(var Y=0;Y<S;Y++){var k=C+Y*26,f={},X=0;x.push(f);f.type=l(i,k);k+=2;if(f.type==6){X=24}if(f.type==8){f.all=l(i,k);
k+=2;X=22}if(f.type==0||f.type==3){f.length=l(i,k);k+=2;f.ay=l(i,k);k+=2;f.pj=l(i,k);k+=2;f.X0=W.Q(i,k);
k+=4;f.QG=W.Q(i,k);k+=4;X=10}if(f.type==1||f.type==2||f.type==4||f.type==5){var o,A;A=L(i,k,z);k+=4;
o=L(i,k,e);k+=4;f.My=new b5(o,A);A=L(i,k,z);k+=4;o=L(i,k,e);k+=4;f.L=new b5(o,A);A=L(i,k,z);k+=4;o=L(i,k,e);
k+=4;f.sP=new b5(o,A);X=0}for(var P=0;P<X;P++)if(i[k+P]!=0){console.log("Unexpected non-zero byte!",f,P,i[k+P])}}return x};
cV.sg=function(i,C,m,e,z){var L=W.qe,l=W.aku,x=m.length;for(var Y=0;Y<x;Y++){var S=C+Y*26,k=m[Y];L(i,S,k.type);
S+=2;if(k.type==6){}if(k.type==8)L(i,S,k.all);if(k.type==0||k.type==3){L(i,S,k.length);S+=2;L(i,S,k.ay);
S+=2;L(i,S,k.pj);S+=2}if(k.type==1||k.type==2||k.type==4||k.type==5){l(i,S,k.My.y/z);S+=4;l(i,S,k.My.x/e);
S+=4;l(i,S,k.L.y/z);S+=4;l(i,S,k.L.x/e);S+=4;l(i,S,k.sP.y/z);S+=4;l(i,S,k.sP.x/e);S+=4}}};function j1(){}j1.uU=function(i){var C=new Uint8Array(i),m=[],e=0;
if(W.Sq(C,0,4)=="ASEF")m=j1.ajT(C);else{e=j1.a7B(C,e,m);if(e+3<C.length){m=[];e=j1.a7B(C,e,m)}}return m};
j1.ajT=function(i){var C=[],m=8,e=W.Q(i,m),z,L=null,l,x,S,k;m+=4;for(var f=0;f<e;f++){var X=W.vV(i,m);
m+=2;var o=W.Q(i,m);m+=4;var A=m+o;if(X==49153||X==1){var P=W.vV(i,m);m+=2;var F=W.Yh(i,m,P-1);m+=P*2;
if(X==1)z=F;else L=F}if(X==1){var n=W.Sq(i,m,4);m+=4;l=W.dU(i,m);m+=4;x=W.dU(i,m);m+=4;S=W.dU(i,m);m+=4;
if(n=="RGB "){}else if(n=="CMYK"){k=W.dU(i,m);m+=4;var R=UDOC.C.cmykToRgb([l,x,S,k]);l=R[0];x=R[1];S=R[2]}else alert("Unknown color space: "+n);
C.push({Z:l*255,r:x*255,e:S*255,iQ:(L?L+" : ":"")+z})}m=A}return C};j1.a7B=function(i,C,m){var e=W.vV,z=W.x1,L=e(i,C);
C+=2;var l=e(i,C);C+=2;for(var Y=0;Y<l;Y++){var x=j1.L4(i,C);C+=10;if(L==2){x.iQ=W.r8(i,C);C+=4+x.iQ.length*2+2}m.push(x)}return C};
j1.L4=function(i,C){var m=W.vV,e=W.x1,z=m(i,C),A=null;C+=2;var L=m(i,C);C+=2;var l=m(i,C);C+=2;var x=m(i,C);
C+=2;var S=m(i,C);C+=2;var k=1/65535,f=255/65535,X=100/65535,o=255/1e4;if(z==0)A={Z:L*f,r:l*f,e:x*f};
else if(z==1){A=I.Aj(L*k,l*k,x*k);A.Z*=255;A.r*=255;A.e*=255}else if(z==2)A=I.I.oq({classID:"CMYC",Cyn:{t:"doub",v:100-L*X},Mgnt:{t:"doub",v:100-l*X},Ylw:{t:"doub",v:100-x*X},Blck:{t:"doub",v:100-S*X}});
else if(z==7){var P=I.xQ(L/100,e(i,C-6)/100,e(i,C-4)/100);A=P}else if(z==8){A={Z:255-L*o,r:255-l*o,e:255-x*o}}else if(z==18){var F=255*L/16384;
A={Z:F,r:F,e:F}}else{throw z}return A};j1.Em=function(i){var C=new ac,m=0,e=W.g7;e(C,m,2);m+=2;e(C,m,i.length);
m+=2;for(var Y=0;Y<i.length;Y++){var z=i[Y];C.uG(m,10);j1.IT(C.data,m,z);m+=10;var L=(z.iQ?z.iQ:"")+"\0";
W.O6(C,m,L);m+=4+L.length*2}return C.data.slice(0,m).buffer};j1._n=function(i,C){i.iQ=C};j1.IT=function(i,C,m){var e=65535/255,z=W.$g;
z(i,C,0);z(i,C+2,Math.round(m.Z*e));z(i,C+4,Math.round(m.r*e));z(i,C+6,Math.round(m.e*e));z(i,C+8,0)};
function jX(){}jX.uU=function(i){var C=new Uint8Array(i),m=4,e={};e.jj=W.r8(C,m);m+=4+e.jj.length*2+2;
e.exp=C[m++]==1;e.eo=[];var z=W.Q(C,m);m+=4;for(var Y=0;Y<z;Y++){var L={};e.eo.push(L);L.h6=W.vV(C,m);
m+=2;L.shift=C[m++]==1;L.asZ=C[m++]==1;L.color=W.vV(C,m);m+=2;L.jj=W.r8(C,m);m+=4+L.jj.length*2+2;L.exp=C[m++]==1;
L.eo=[];var l=W.Q(C,m);m+=4;for(var x=0;x<l;x++){var S={};L.eo.push(S);S.exp=C[m++]==1;S.w=C[m++]==1;
S.aip=C[m++]==1;S.acy=C[m++];var k=W.Sq(C,m,4);m+=4;if(k=="TEXT"){S.o0=jX.a27(C,m);m+=4+S.o0.length}else if(k=="long"){S.o0=W.Sq(C,m,4);
m+=4}else throw"e";S.U$=jX.a27(C,m);m+=4+S.U$.length;var f=W.xz(C,m);m+=4;if(f==-1){S.t6={};var X=hM.Ky(C,S.t6,m);
m+=X}}}console.log(e);var o=new Uint8Array(jX.Em(e));for(var Y=0;Y<o.length;Y++)if(o[Y]!=C[Y]&&W.Sq(C,Y+1,4)!="None"){console.log(C.length,o.length);
var A=4*(Y>>>2)-16;console.log(W.Lt(C,A,64));console.log(W.Lt(o,A,64));console.log(C.slice(A,A+64));
console.log(o.slice(A,A+64));throw"i"}return[e]};jX.a27=function(i,C){var m=W.Q(i,C);return W.Sq(i,C+4,m)};
jX.atk=function(i,C,m){W.RG(i,C,m.length);W.HC(i,C+4,m)};jX.Em=function(i){var C=new ac,m=0;W.RG(C,m,16);
m+=4;W.O6(C,m,i.jj+"\0");m+=4+i.jj.length*2+2;C.uG(m,1);C.data[m++]=i.exp?1:0;var e=i.eo.length;W.RG(C,m,e);
m+=4;for(var Y=0;Y<e;Y++){var z=i.eo[Y];W.g7(C,m,z.h6);m+=2;C.uG(m,2);C.data[m++]=z.shift?1:0;C.data[m++]=z.asZ?1:0;
W.g7(C,m,z.color);m+=2;W.O6(C,m,z.jj+"\0");m+=4+z.jj.length*2+2;C.uG(m,1);C.data[m++]=z.exp?1:0;var L=z.eo.length;
W.RG(C,m,L);m+=4;for(var l=0;l<L;l++){var x=z.eo[l];C.uG(m,4);C.data[m++]=x.exp?1:0;C.data[m++]=x.w?1:0;
C.data[m++]=x.aip?1:0;C.data[m++]=x.acy;var S="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(x.o0)!=-1;
W.HC(C,m,S?"long":"TEXT");m+=4;if(!S){jX.atk(C,m,x.o0);m+=4+x.o0.length}else{W.HC(C,m,x.o0);m+=4}jX.atk(C,m,x.U$);
m+=4+x.U$.length;W.Qr(C,m,x.t6?-1:0);m+=4;if(x.t6){var k=hM.mt(C,x.t6,m);m+=k}}}return C.data.slice(0,m).buffer};
function ef(){}ef.uU=function(i){var C=new Uint8Array(i),m=0,e=W.Q(C,m),S;m+=4;var z=W.Sq(C,m,8);m+=8;
var L=W.nO(C,m);m+=4;var l=W.nO(C,m);m+=4;var x=W.nO(C,m);m+=4;console.log(L,l,x);if(e==2){S=new Float32Array(i,32,i.byteLength-32>>>2)}else if(e==3||e==4){S=new Float32Array(l*x*2);
var k=0,f=0,X=!0;m=e==3?32:16+8+40;while(m<C.length){var o=W.nO(C,m);m+=4;if(X)f+=o;else{for(var Y=0;
Y<o;Y++){S[k+f+Y<<1]=W.Bp(C,m);S[(k+f+Y<<1)+1]=W.Bp(C,m+4);m+=8}f+=o}X=!X;if(o!=0&&f==l){k+=l;f=0;X=!0;
if(k==l*x)break}}}else throw"unknown Mesh version: "+e;return{HG:l,bB:x,map:S}};ef.hz=function(i){var C=i.HG,m=i.bB,e=i.map,z=new Uint8Array(32+m*C*8+m*8),L=0,l=0;
W.CA(z,L,3);L+=4;W.AW(z,L,"yfqLhseM");L+=8;W.Bz(z,L,2);L+=4;W.Bz(z,L,C);L+=4;W.Bz(z,L,m);L+=4;W.Bz(z,L,0);
L+=4;W.Bz(z,L,1);L+=4;for(var x=0;x<m;x++){W.Bz(z,L,0);L+=4;W.Bz(z,L,C);L+=4;for(var S=0;S<C;S++){W.zF(z,L,e[l]);
W.zF(z,L+4,e[l+1]);l+=2;L+=8}}return z.buffer};function bp(){}bp.uU=function(i){var C=new Uint8Array(i),m=0,e=W.Sq(C,m,4);
m+=4;var z=W.vV(C,m);m+=2;var L=W.Q(C,m);m+=4;var l=[];for(var Y=0;Y<L;Y++){var x=W.Q(C,m);m+=4;var S={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
l.push(S);var k=W.r8(C,m);S.Nm.v=k;m+=4+k.length*2+2;var f=W.vV(C,m);m+=2;var X=W.vV(C,m);m+=2;for(var o=0;
o<X;o++){var A=I.$l.$z(0,0,!0);A.v.Vrtc.v=W.vV(C,m);m+=2;A.v.Hrzn.v=W.vV(C,m);m+=2;S.Crv.v.push(A)}if(x==1){}else if(x==2){for(var o=0;
o<X;o++){S.Crv.v[o].v.Cnty.v=C[m]==1;m+=1}}else throw"error";var P=W.Q(C,m);m+=4;var F=W.Q(C,m);m+=4}return l};
bp._n=function(i,C){i.Nm.v=C};bp.Em=function(i){var C=new ac,m=0;W.HC(C,m,"8BFS");m+=4;W.g7(C,m,1);m+=2;
W.RG(C,m,i.length);m+=4;for(var Y=0;Y<i.length;Y++){W.RG(C,m,2);m+=4;var e=i[Y];W.O6(C,m,e.Nm.v+"\0");
m+=4+e.Nm.v.length*2+2;W.g7(C,m,2);m+=2;var z=e.Crv.v.length;W.g7(C,m,z);m+=2;for(var L=0;L<z;L++){var l=e.Crv.v[L];
W.g7(C,m,l.v.Vrtc.v);m+=2;W.g7(C,m,l.v.Hrzn.v);m+=2}C.uG(m,z);for(var L=0;L<z;L++){C.data[m]=e.Crv.v[L].v.Cnty.v;
m++}W.RG(C,m,0);m+=4;W.RG(C,m,0);m+=4}return C.data.slice(0,m).buffer};function cv(){}cv.uU=function(i,C){var m=new Uint8Array(i),e=4,z=C.split("/").pop().split(".")[0],L=W.vV(m,e);
e+=2;var l=W.Q(m,e);e+=4;var x=[];for(var Y=0;Y<l;Y++){var S={};x.push(S);e=cv.ap6(m,e,S);S.name=z+"/"+S.name.split("=").pop()}return x};
cv._n=function(i,C){i.name=C};cv.Em=function(i){var C=new ac,m=0;W.HC(C,m,"8BPT");m+=4;W.g7(C,m,1);m+=2;
W.RG(C,m,i.length);m+=4;for(var Y=0;Y<i.length;Y++){var e=i[Y],z=e.name;e.name=e.name.split("/").pop();
m=cv.ar5(C,m,e);e.name=z}return C.data.slice(0,m).buffer};cv.DV=function(i,C,m){var e=C+m,z=[];while(C<e){var L={},l=W.Q(i,C);
C+=4;var x=C;C=cv.ap6(i,C,L);if(!L.GK[1].bs())z.push(L);if(l%4!=0)l+=4-l%4;C=x+l}return z};cv.Mr=function(i,C,m){for(var Y=0;
Y<m.length;Y++){var e=m[Y];C+=4;var z=C;C=cv.ar5(i,C,e);var L=C-z;W.RG(i,z-4,L);if(L%4!=0)z+=4-L%4;C=z+L}return C};
cv.ap6=function(i,C,m){var e=W.Q(i,C);C+=4;if(e!=1)alert("Unknown version of pattern");var z=W.Q(i,C);
C+=4;if(z!=1&&z!=2&&z!=3)console.log("Unsupported mode of pattern: "+z);var L=W.vV(i,C);C+=2;var l=W.vV(i,C);
C+=2;var x=new j2(0,0,l,L);m.name=W.r8(i,C);C+=4+2*m.name.length+2;var S=i[C];C++;m.id=W.Sq(i,C,S);C+=m.id.length;
var k=-1;if(z==2){k=C;C+=3*256+4}var f=new I.RV(l*L);C=cv.adK(i,C,f);if(z==2){for(var Y=0;Y<f.Z.length;
Y++){var X=3*f.Z[Y];f.Z[Y]=i[k+X+0];f.r[Y]=i[k+X+1];f.e[Y]=i[k+X+2]}}var o=I.R(x.P()*4);I.bb(f,o);m.GK=[o,x];
return C};cv.ar5=function(i,C,m){var e=m.GK[0],z=m.GK[1];W.RG(i,C,1);C+=4;W.RG(i,C,3);C+=4;W.g7(i,C,z.J);
C+=2;W.g7(i,C,z.m);C+=2;W.O6(i,C,m.name+"\0");C+=4+2*m.name.length+2;W.dd(i,C,m.id.length);C++;W.HC(i,C,m.id);
C+=m.id.length;var L=new I.RV(z.P());I.M8(e,L);C=cv.acT(i,C,L,z);return C};cv.adK=function(i,C,m){var e=C,z={TD:null,O:[],apk:null,Rt:null},L=W.Q(i,C);
C+=4;var l=W.Q(i,C);C+=4;z.TD=W.hc(i,C);C+=16;var x=W.Q(i,C);C+=4;for(var Y=0;Y<x+2;Y++){var S=W.Q(i,C);
C+=4;if(S==0)continue;var k=W.Q(i,C);C+=4;if(k==0)continue;var f=W.Q(i,C);C+=4;var X=W.hc(i,C);C+=16;
var o=W.vV(i,C);C+=2;var A=i[C];C++;var P=ej.Ao(!1,f,i,X.m,X.J,C,A);if(Y<x)z.O.push(P);if(Y==x)z.apk=P;
if(Y==x+1)z.Rt=P;C+=k-23}if(!z.TD.bs()){if(z.O[0])m.Z=z.O[0];if(z.O[1])m.r=z.O[1];else m.r=z.O[0].slice(0);
if(z.O[2])m.e=z.O[2];else m.e=z.O[0].slice(0);if(z.Rt)m.W=z.Rt;else m.W.fill(255)}return C};cv.acT=function(i,C,m,e){var z=C,L={TD:e,O:[m.Z,m.r,m.e],apk:null,Rt:m.W};
W.RG(i,C,3);C+=4;W.RG(i,C,0);C+=4;W.WZ(i,C,e);C+=16;W.RG(i,C,24);C+=4;for(var Y=0;Y<24+2;Y++){var l=C,x=Y<3||Y==25?1:0;
W.RG(i,C,x);C+=4;if(x==0)continue;W.RG(i,C,0);C+=4;W.RG(i,C,8);C+=4;W.WZ(i,C,e);C+=16;W.g7(i,C,8);C+=2;
W.dd(i,C,1,1);C++;var S=Y<3?L.O[Y]:L.Rt;i.uG(C,e.P()+2);C=ej.dk(!1,S,i.data,e.m,e.J,C,1);W.RG(i,l+4,C-l-8)}W.RG(i,z+4,C-z-8);
return C};function iZ(){}iZ.uU=function(i,C){var m=new Uint8Array(i),z=0;if(m[0]==71)return iZ.aoz(m);
var e=C.split("/").pop().split(".")[0],L=W.Sq(m,z,4);z+=4;var l=W.vV(m,z);z+=2;var x=[];if(l<=3){var S=W.vV(m,z);
z+=2;for(var Y=0;Y<S;Y++){var k=m[z++],f=W.Sq(m,z,k);z+=k;var X=iZ.abe(m,z,f),o=X[0];z=X[1];x.push(o)}}else{var X={},A=hM.Ky(m,X,z+4),P=X.GrdL.v;
for(var Y=0;Y<P.length;Y++)x[Y]=P[Y].v.Grad.v}for(var Y=0;Y<x.length;Y++){var F=x[Y].Nm.v.split("/").pop().split("=").pop();
x[Y].Nm.v=e+"/"+F}return x};iZ._n=function(i,C){i.Nm.v=C};iZ.Em=function(i){var C=new ac,m=0;W.HC(C,m,"8BGR");
m+=4;W.g7(C,m,5);m+=2;W.RG(C,m,16);m+=4;var e={classID:"null",GrdL:{t:"VlLs",v:[]}},z=e.GrdL.v;for(var Y=0;
Y<i.length;Y++){var L=JSON.parse(JSON.stringify(i[Y]));L.Nm.v=L.Nm.v.split("/").pop();z[Y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:L}}}}m+=hM.mt(C,e,m);
return C.data.slice(0,m).buffer};iZ.abe=function(i,C,m){var e={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:m},Trns:{t:"VlLs",v:[]}},z=W.vV(i,C);
C+=2;if(z==0)throw"e";for(var Y=0;Y<z;Y++){var L=W.Q(i,C),l=W.Q(i,C+4),x=j1.L4(i,C+8),S={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:x.Z},Grn:{t:"doub",v:x.r},Bl:{t:"doub",v:x.e}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:L},Mdpn:{t:"long",v:l}}};
e.Clrs.v.push(S);C+=20}var k=W.vV(i,C);C+=2;for(var Y=0;Y<k;Y++){var L=W.Q(i,C),l=W.Q(i,C+4),f=W.vV(i,C+8),S={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*f/255)}},Lctn:{t:"long",v:L},Mdpn:{t:"long",v:l}}};
e.Trns.v.push(S);C+=10}var X=W.vV(i,C);C+=2;e.Intr.v=X==2?W.vV(i,C):4096;C+=2;var o=W.vV(i,C);C+=2;return[e,C]};
iZ.a2L=function(i,C,m){var e=m.Clrs.v.length;W.g7(i,C,e);C+=2;for(var Y=0;Y<e;Y++){var z=m.Clrs.v[Y];
W.RG(i,C,z.v.Lctn.v);W.RG(i,C+4,z.v.Mdpn.v);W.g7(i,C+8,0);var L=I.I.$q(I.I.oq(z.v.Clr.v)),l=[L.Rd.v,L.Grn.v,L.Bl.v,0];
for(var x=0;x<4;x++)W.g7(i,C+10+x*2,Math.round(65535*(l[x]/255)));C+=20}var S=m.Trns.v.length;W.g7(i,C,S);
C+=2;for(var Y=0;Y<S;Y++){var z=m.Trns.v[Y];W.RG(i,C,z.v.Lctn.v);W.RG(i,C+4,z.v.Mdpn.v);W.g7(i,C+8,Math.round(255*z.v.Opct.v.val/100));
C+=10}W.g7(i,C,2);C+=2;W.g7(i,C,m.Intr.v);C+=2;W.g7(i,C,32);C+=2;return C};iZ.aoz=function(i){var C=W.U8(i,0,i.length).split("\n"),m=parseFloat(C[2]),e=[],z=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]).Grad.v;
z.Intr.v=0;z.Nm.v=C[1];for(var Y=0;Y<m;Y++){var L=C[3+Y].split(" ").map(parseFloat),l=L[11],x=L[12];
e.push([L[0],L.slice(3,6),L[6]]);if(x!=0){var S=I.wK(L[3],L[4],L[5]),k=I.wK(L[7],L[8],L[9]),f=S.bB,X=k.bB;
if(x==1&&f>X)X++;if(x==2&&f<X)f++;var o=Math.round(Math.abs(X-f)*7);if(o>1)for(var A=0;A<o;A++){var P=1-(A+1)/(o+1),F=1-P,n=I.Aj(P*f+F*X,P*S.ve+F*k.ve,P*S.qg+F*k.qg);
e.push([P*L[0]+F*L[2],[n.Z,n.r,n.e],P*L[6]+F*L[10]])}}e.push([L[2],L.slice(7,10),L[10]])}e.sort(function(R,Q){return R[0]-Q[0]});
I.I.Sc(e,z);return[z]};function gp(){}gp.uU=function(i){var C=new Uint8Array(i),m=[],e=[],z=[],L=[],l=[],x=0,S=W.Sq(C,x,4);
x+=4;var k=W.Q(C,x);x+=4;var f=W.Q(C,x);x+=4;while(x<C.length){var X=W.Sq(C,x,4);x+=4;var o=W.Sq(C,x,4);
x+=4;var A=W.Q(C,x);x+=4;if(o=="tppa"){e=cv.DV(C,x,A);x+=A}else if(o=="tpbd"){z=bN.aa5(C,x,A,1,1);x+=A}else if(o=="tptp"){var P=W.Q(C,x);
x+=4;for(var Y=0;Y<P;Y++){var F=W.r8(C,x);x+=6+F.length*2;x+=4;var n={};x+=hM.Ky(C,n,x);m.push([F,n])}while((x&3)!=0)x++}else if(o=="tpsh"){var R=x,Q=C.slice(x,x+A);
while(x<R+A){var s=W.Q(C,x);x+=4;x=cV.a6M(C,x,"Shape",L)}x=R+A}else if(o=="tpst"){var R=x;x+=4;while(x<R+A){var j=W.Q(C,x);
x+=4;var _=x,B=W.Q(C,x);x+=4;var n={hg:{},b2:{}};l.push(n);x+=4;x+=hM.Ky(C,n.hg,x);x+=4;x+=hM.Ky(C,n.b2,x);
x=_+j;var N=n.b2.Lefx;if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};cX.Oi(N.v)}}x=R+A}else{console.log(C.slice(x-8,x+64));
console.log(W.Sq(C,x-8,64));throw o}}return{fT:z,bh:e,list:m,axJ:L,te:l}};gp._n=function(i,C){i[0]=C};
gp.Em=function(i){var C=new ac,m=0;W.HC(C,m,"8BTP");m+=4;W.RG(C,m,3);m+=4;W.RG(C,m,1);m+=4;var e=[i.bh,i.fT,i.list];
for(var Y=0;Y<3;Y++){if(e[Y].length==0)continue;W.HC(C,m,"8BIM");m+=4;var z=["tppa","tpbd","tptp"][Y];
W.HC(C,m,z);m+=4;var L=m;m+=4;if(z=="tppa"){m=cv.Mr(C,m,i.bh)}else if(z=="tpbd"){m=bN.a0P(C,m,i.fT)}else if(z=="tptp"){W.RG(C,m,i.list.length);
m+=4;for(var l=0;l<i.list.length;l++){var x=i.list[l];W.O6(C,m,x[0]+"\0");m+=6+x[0].length*2;W.RG(C,m,16);
m+=4;m+=hM.mt(C,x[1],m)}}W.RG(C,L,m-L-4);while((m&3)!=0)m++;C.uG(m,0)}return C.data.slice(0,m).buffer};
function gb(){}gb.uU=function(i,C){var m=new Uint8Array(i),e;if(W.Q(m,0)==m.length)e="icc";else if(m[0]=="<".charCodeAt(0))e="look";
else if(W.Fo(m,"LUT_3D_SIZE")!=-1)e="cube";else e="3DL";if(e!="icc"){var z=gb.anX(m,e),L=gb.aei(z[0],z[1]);
m=L}var l=[];for(var Y=0;Y<m.length;Y++)l.push(m[Y]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:C?C:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:l}}]};
gb.Em=function(i){var C=i[0],m=new Uint8Array(C.profile.v);return m.buffer};gb._n=function(i,C){i.Nm.v=C};
gb.aei=function(i,C){var m=new ac,e=128;m.uG(0,128);var z=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var Y=0;Y<z.length;Y++)m.data[Y]=z[Y];var L=["desc","A2B0"],l=L.length,x=128+4+l*12;W.RG(m,e,l);
e+=4;for(var S=0;S<l;S++){var k=L[S];W.HC(m,e,k);e+=4;W.RG(m,e,x);e+=4;var f=x;if(k=="desc"){W.HC(m,f,"mluc");
f+=4;f+=4;W.RG(m,f,1);f+=4;W.RG(m,f,12);f+=4;W.HC(m,f,"enUS");f+=4;var X="ICC by Photopea\0",o=X.length*2+2;
W.RG(m,f,o);f+=4;W.RG(m,f,28);f+=4;m.uG(f,o);for(var Y=0;Y<X.length;Y++)m.data[f+Y*2+1]=X.charCodeAt(Y);
f+=o}if(k=="A2B0"){W.HC(m,f,"mAB ");f+=4;f+=4;m.uG(f,4);m.data[f]=3;m.data[f+1]=3;f+=4;m.uG(f,4*5);f+=4*3;
W.RG(m,f,f+8-x);f+=4;f+=4;m.uG(f,20);m.data[f]=i;m.data[f+1]=i;m.data[f+2]=i;f+=16;m.data[f]=2;f+=4;
var A=i*i*i*3;m.uG(f,A*2);for(var Y=0;Y<A;Y++)W.$g(m.data,f+Y*2,Math.max(0,Math.min(65535,Math.round(C[Y]*65535))));
f+=A*2}var P=f-x;while((P&3)!=0)P++;W.RG(m,e,P);e+=4;x+=P}W.RG(m,0,x);return m.data.slice(0,x)};gb.anX=function(i,C){C="LUTFormat"+C.toUpperCase();
var m=[],e=0,z=W.U8(i,0,i.length),L="";for(var Y=0;Y<i.length&&L=="";Y++){if(i[Y]==10)L="\n";else if(i[Y]==13){L="\r";
if(i[Y+1]==10)L+="\n"}}if(C=="LUTFormatCUBE"){var l=z.split(L);for(var Y=0;Y<l.length;Y++){if(l[Y]==""||l[Y][0]=="#")continue;
var x=l[Y].split(" "),S=x[0];if(S=="LUT_3D_SIZE"){e=parseInt(x[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(S)!=-1)continue;
m.push(parseFloat(x[0]),parseFloat(x[1]),parseFloat(x[2]))}m=gb.aiu(e,m)}else if(C=="LUTFormat3DL"){var l=z.split(L),k=1/4095;
for(var Y=0;Y<l.length;Y++){var f=l[Y];if(f==""||f=="3DMESH"||f.startsWith("Mesh")||f[0]=="#")continue;
var x=f.split(" "),S=x[0];if(e==0){e=x.length;continue}m.push(parseFloat(x[0])*k,parseFloat(x[1])*k,parseFloat(x[2])*k)}}else if(C=="LUTFormatLOOK"){var X=new DOMParser,o=X.parseFromString(z,"text/xml"),A=o.getElementsByTagName("LUT")[0],P=A.children[0].textContent;
e=parseInt(JSON.parse(P));var F=A.children[1].textContent;F=F.replace(/"/g,"").replace(/\s/g,"");var n=3*e*e*e,R=n*4,Q=new Uint8Array(R);for(var Y=0;Y<R;Y++){var s=F.charCodeAt(Y*2),j=F.charCodeAt(Y*2+1),_=s<58?s-48:s-55,B=j<58?j-48:j-55;Q[Y]=(_<<4)+B}for(var Y=0;Y<n;Y++)m.push(W.Bp(Q,Y<<2));m=gb.aiu(e,m)}else throw C;return[e,m]};gb.atD=function(i,C,m){var e=["#Created by www.Photopea.com","TITLE \""+m+"\"","","#LUT size","LUT_3D_SIZE "+C,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],z=6;
for(var Y=0;Y<i.length;Y+=3){e.push(i[Y].toFixed(z)+" "+i[Y+1].toFixed(z)+" "+i[Y+2].toFixed(z))}e.push("");
return W.x5(e.join("\n")).buffer};gb.aiu=function(i,C){var m=[],e=i*i*i;for(var Y=0;Y<e;Y++)m.push(0,0,0);
for(var z=0;z<i;z++)for(var L=0;L<i;L++)for(var l=0;l<i;l++){var Y=3*(l+L*i+z*i*i),x=3*(z+L*i+l*i*i);
m[x]=C[Y];m[x+1]=C[Y+1];m[x+2]=C[Y+2]}return m};function hM(){}hM.Ky=function(i,C,m,e,z){var L=m,l;if(z==null)z=0;
var x=W.Q(i,m);if(x==0){l="";m+=4}else{l=W.r8(i,m);m+=4+2*l.length+2}if(l!="")C.__name=l;C.classID=hM.qs(i,m);
if(e)console.log("\t".repeat(z),"- reading descriptor",C.classID,m);m+=hM.zU(i,m);var S=W.xz(i,m);m+=4;
for(var Y=0;Y<S;Y++){var k=hM.qs(i,m);m+=hM.zU(i,m);var f=hM.aDU(i,m,e,z);C[k]=f;m+=f.size;delete f.size}return m-L};
hM.mt=function(i,C,m,e){var z=m,L=C.__name;if(L==null)L="";L+="\0";W.O6(i,m,L);m+=4+2*L.length;hM.RL(i,m,C.classID);
m+=hM.zU(i.data,m);W.Qr(i,m,Object.keys(C).length-1-(C.__name==null?0:1));m+=4;for(var l in C){if(l=="classID")continue;
if(l=="__name")continue;hM.RL(i,m,l);m+=hM.zU(i.data,m);m+=hM.a3b(i,m,C[l])}return m-z};hM.aDU=function(i,C,m,e){var z=C,L=W.Sq(i,C,4);
C+=4;var l={size:0,t:L,v:null};if(m)console.log("\t".repeat(e),"reading key",L,z);switch(L){case"obj ":case"VlLs":l.v=[];
var x=W.Q(i,C);C+=4;for(var Y=0;Y<x;Y++){var S=hM.aDU(i,C,m,e+1);C+=S.size;delete S.size;l.v.push(S)}break;
case"UntF":l.v={type:W.Sq(i,C,4),val:W.Me(i,C+4)};C+=12;break;case"doub":l.v=W.Me(i,C);C+=8;break;case"bool":l.v=i[C]==1;
C+=1;break;case"long":l.v=W.xz(i,C);C+=4;break;case"comp":l.v=W.xz(i,C+4);C+=8;break;case"Objc":l.v={};
var k=hM.Ky(i,l.v,C,m,e+1);C+=k;break;case"TEXT":var f=W.Q(i,C);if(f==0){l.v="";C+=4}else{l.v=W.r8(i,C);
C+=4+l.v.length*2+2}break;case"enum":var X=hM.qs(i,C);C+=hM.zU(i,C);var o=hM.qs(i,C);C+=hM.zU(i,C);l.v={};
l.v[X]=o;break;case"tdta":var A=W.xz(i,C);C+=4;l.v=[];for(var Y=0;Y<A;Y++)l.v.push(i[C+Y]);C+=A;break;
case"ObAr":var P=W.Q(i,C);C+=4;var F=W.r8(i,C);C+=4+2*F.length+2;if(F!="")throw F;var n=hM.qs(i,C);C+=4+Math.max(4,n.length);
l.v={classID:n,arr:[]};var R=W.Q(i,C);C+=4;for(var Y=0;Y<R;Y++){var n=hM.qs(i,C);C+=4+Math.max(4,n.length);
var X=W.Sq(i,C,4);C+=4;var Q=W.Sq(i,C,4);C+=4;var s={id:n,type:X,uID:Q,arr:[]};l.v.arr.push(s);var j=W.Q(i,C,4);
C+=4;for(var _=0;_<j;_++){var B=W.Me(i,C);C+=8;s.arr.push(B)}}break;case"Pth ":var N=C,A=W.Q(i,C);C+=4;
var a=W.Sq(i,C,4);C+=4;var O=W.nO(i,C);C+=4;var H=W.a3w(i,C);C+=4+H.length*2;l.v={sig:a,pth:H};break;
case"Clss":case"type":case"rele":var H=W.r8(i,C);C+=4+H.length*2+2;var q=hM.qs(i,C);C+=4+Math.max(4,q.length);
l.v={classID:q};if(H!="")l.v.__name=H;if(L=="rele"){l.v.val=W.xz(i,C);C+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var h=hM.WI[L],H=W.r8(i,C);
C+=4+H.length*2+2;if(H.length!=0){console.log(L,H);throw"e"}l.v={};for(var Y=0;Y<h.length;Y++){var q=hM.qs(i,C);
C+=4+Math.max(4,q.length);l.v[h[Y]]=q}if(L=="name"){var H=W.r8(i,C);C+=4+H.length*2+2;l.v.val=H}if(L=="indx"||L=="Idnt"){l.v.val=W.Q(i,C);
C+=4}break;case"alis":var A=W.Q(i,C);C+=4;l.v=W.Sq(i,C,A);C+=A;break;default:{console.log("unknown oskey: "+L+", "+z);
throw"e";return l}}if(m){console.log("\t".repeat(e),l.v);console.log("\t".repeat(e),"======",C)}l.size=C-z;
return l};hM.WI={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
hM.a3b=function(i,C,m){var e=C,z=m.t;m=m.v;W.HC(i,C,z);C+=4;switch(z){case"obj ":case"VlLs":W.Qr(i,C,m.length);
C+=4;for(var L=0;L<m.length;L++){var l=hM.a3b(i,C,m[L]);C+=l}break;case"UntF":W.HC(i,C,m.type);W.EN(i,C+4,m.val);
C+=12;break;case"doub":W.EN(i,C,m);C+=8;break;case"bool":W.dd(i,C,m?1:0,1);C+=1;break;case"long":W.Qr(i,C,m);
C+=4;break;case"comp":W.Qr(i,C+4,m);C+=8;break;case"Objc":var l=hM.mt(i,m,C);C+=l;break;case"TEXT":W.O6(i,C,m+"\0");
C+=4+m.length*2+2;break;case"enum":var x=Object.keys(m)[0],S=m[x];hM.RL(i,C,x);C+=hM.zU(i.data,C);hM.RL(i,C,S);
C+=hM.zU(i.data,C);break;case"tdta":W.RG(i,C,m.length);C+=4;W.I2(i,C,m);C+=m.length;break;case"ObAr":W.RG(i,C,m.arr[0].arr.length);
C+=4;W.O6(i,C,"\0");C+=6;hM.RL(i,C,m.classID);C+=4+Math.max(4,m.classID.length);W.RG(i,C,m.arr.length);
C+=4;for(var Y=0;Y<m.arr.length;Y++){var k=m.arr[Y];hM.RL(i,C,k.id);C+=4+Math.max(4,k.id.length);W.HC(i,C,k.type);
C+=4;W.HC(i,C,k.uID);C+=4;W.RG(i,C,k.arr.length);C+=4;for(var L=0;L<k.arr.length;L++){W.EN(i,C,k.arr[L]);
C+=8}}break;case"Pth ":var f=m.pth.length*2+4+8;W.RG(i,C,f);C+=4;W.HC(i,C,m.sig);C+=4;W.cY(i,C,f);C+=4;
W.a99(i,C,m.pth);C+=m.pth.length*2+4;break;case"Clss":case"type":case"rele":var X=m.__name;if(X==null)X="";
W.O6(i,C,X+"\0");C+=4+X.length*2+2;var o=m.classID;hM.RL(i,C,o);C+=4+Math.max(4,o.length);if(z=="rele"){W.Qr(i,C,m.val);
C+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var A=hM.WI[z];W.RG(i,C,1);C+=6;for(var Y=0;
Y<A.length;Y++){var o=m[A[Y]];hM.RL(i,C,o);C+=4+Math.max(4,o.length)}if(z=="name"){W.O6(i,C,m.val+"\0");
C+=4+m.val.length*2+2}if(z=="indx"||z=="Idnt"){W.RG(i,C,m.val);C+=4}break;case"alis":var f=m.length;
W.RG(i,C,f);C+=4;W.HC(i,C,m);C+=f;break;default:console.log("unknown oskey: "+z);C=e;break}return C-e};
hM.qs=function(i,C){var m=W.xz(i,C);if(m>1e3)throw"e";if(m==0)m=4;return W.Sq(i,C+4,m).trim()};hM.zU=function(i,C){var m=W.xz(i,C);
return m==0?8:4+m};hM.RL=function(i,C,m){var e="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),z=4<m.length||e.indexOf(m)!=-1;
W.Qr(i,C,z?m.length:0);W.HC(i,C+4,m);if(m.length<4&&!z){var L="";for(var Y=m.length;Y<4;Y++)L+=" ";W.HC(i,C+4+m.length,L)}};
hM.a15=function(i){var C={};for(var m in i){if(m=="classID")C[m]=i[m];else if(m=="__name")C[m]=i[m];
else C[m]=hM.acv(i[m])}return C};hM.acv=function(i){if(i.me=="Objc")return hM.a15(i.v);else if(i.me=="VlLs"){var C=[];
for(var Y=0;Y<i.v.length;Y++)C.push(hM.acv(i.v[Y]));return C}else if(i.me=="UntF")return i.v.val;else return i.v};
function cX(){}cX.apy=function(i,C,m,e,z,L){while(C<m){var l=W.Sq(i,C,4);C+=4;if(l!="8BIM"&&l!="8B64"){console.log("layer information signature error! "+l,"PSB = "+z);
alert("Error in PSD file: wrong signature.");return m}var x=W.Sq(i,C,4);C+=4;var S=W.Q(i,C);C+=4;var k=z&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(x)!=-1;
if(k){S=S<<32|W.xz(i,C);C+=4}var f=["lrFX","PlLd"];if(f.indexOf(x)!=-1){if(S%4!=0)S+=4-S%4;C+=S;continue}switch(x){case"iOpa":e[x]=i[C];
break;case"brst":e[x]=[1,1,1];for(var Y=0;Y<S;Y+=4)e[x][W.Q(i,C+Y)]=0;break;case"knko":e[x]=i[C];break;
case"infx":e[x]=i[C];break;case"clbl":e[x]=i[C];break;case"lmgm":e[x]=i[C];break;case"vmgm":e[x]=i[C];
break;case"fcmy":e[x]=i[C];break;case"lyid":e[x]=W.Q(i,C);break;case"lsct":e[x]={type:W.Q(i,C)};if(S>=12)e[x].fn=W.Sq(i,C+8,4);
break;case"lsdk":e.lsct={type:W.Q(i,C)};break;case"lyvr":e[x]=W.Q(i,C);break;case"lnsr":var X={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
e[x]=W.Sq(i,C,4);break;case"lspf":e[x]=W.Q(i,C);break;case"lclr":e[x]=W.vV(i,C);break;case"luni":e[x]=W.vK(i,C);
break;case"fxrp":e[x]=new b5(W.Me(i,C),W.Me(i,C+8));break;case"artb":case"artd":e[x]={};hM.Ky(i,e[x],C+4);
break;case"SoCo":e[x]={};hM.Ky(i,e[x],C+4);break;case"GdFl":e[x]={};hM.Ky(i,e[x],C+4);cX.rg(e[x],x);
break;case"PtFl":e[x]={};hM.Ky(i,e[x],C+4);cX.rg(e[x],x);break;case"CgEd":e[x]={};hM.Ky(i,e[x],C+4);
break;case"brit":var o=e.brit=ft.TQ("brit"),A={};o.Brgh.v=W.x1(i,C);o.Cntr.v=W.x1(i,C+2);o.useLegacy.v=!0;
break;case"levl":var P=i.buffer.slice(C,C+S);e[x]=ao.uU(P);break;case"curv":e[x]=aA.rf(i,C,S);break;
case"expA":var F=W.vV(i,C),n=e[x]=ft.TQ("expA");n.Exps.v=W.dU(i,C+2);n.Ofst.v=W.dU(i,C+6);n.gammaCorrection.v=W.dU(i,C+10);
break;case"vibA":e[x]={};hM.Ky(i,e[x],C+4);break;case"hue2":e[x]=jK.rf(i,C,S);break;case"blnc":var n=e[x]=ft.TQ(x);
n.PrsL.v=i[C+18]==1;var R=["ShdL","MdtL","HghL"];for(var Y=0;Y<3;Y++)for(var Q=0;Q<3;Q++)n[R[Y]].v[Q].v=W.x1(i,C+Y*6+Q*2);
break;case"blwh":var s={};hM.Ky(i,s,C+4);var n=ft.TQ(x),j="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<j.length;Y++){n[j[Y]]=s[j[Y]];delete s[j[Y]]}e[x]=n;break;case"phfl":var n=e[x]=ft.TQ(x),_=n.Clr.v,F=W.vV(i,C);
if(F==3){var B=[W.Q(i,C+2),W.Q(i,C+6),W.Q(i,C+10)],N=32768,a=I.a7f(B[0]/N,B[1]/N,B[2]/N);_.Lmnc.v=a.nJ;
_.A.v=a.W;_.B.v=a.e}if(F==2){var O=W.vV(i,C+2);if(O!=7)throw"e";_.Lmnc.v=W.x1(i,C+4)/100;_.A.v=W.x1(i,C+6)/100;
_.B.v=W.x1(i,C+8)/100}var H=C+2+(F==3?12:10);n.Dnst.v=W.Q(i,H);H+=4;n.PrsL.v=i[H]==1;break;case"mixr":var q={bg:W.vV(i,C+2)==1,b:[]};
for(var Y=0;Y<20;Y++)q.b.push(W.x1(i,C+4+Y*2));e[x]=fp.akr(q);break;case"clrL":case"rplc":e[x]={};hM.Ky(i,e[x],C+6);
break;case"nvrt":e[x]={};break;case"post":e[x]=ft.TQ("post");e[x].Lvls.v=W.vV(i,C);break;case"thrs":e[x]=ft.TQ("thrs");
e[x].Lvl.v=W.vV(i,C);break;case"grdm":var h=C,D=W.vV(i,h);h+=2;var T=i[h]==1,p=i[h+1]==1;h+=2;var y=W.Sq(i,h,4);
if(y=="Perc"||y=="Gcls"||y=="Lnr "||y=="\0\0\x0B\x1D")h+=4;var b=W.vK(i,h);h+=4+b.length*2;var g=iZ.abe(i,h,b),u=g[0];
h=g[1];var t=W.vV(i,h);h+=2;var V=W.Q(i,h);h+=4;var c=W.vV(i,h)==1;h+=2;var E=W.vV(i,h)==1;h+=2;var Z=W.Q(i,h);
h+=4;var G=W.vV(i,h);h+=2;var J=[],K=[];for(var Y=0;Y<4;Y++){J.push({t:"long",v:~~(W.vV(i,h+Y*2)*100/32768)});
K.push({t:"long",v:~~(W.vV(i,h+Y*2+8)*100/32768)})}h+=16;var M=W.vV(i,h);h+=2;if(t==1)u={classID:"Grdn",Nm:{t:"TEXT",v:b},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:c},VctC:{t:"bool",v:E},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:V},Smth:{t:"long",v:Z},Mnm:{t:"VlLs",v:J},Mxm:{t:"VlLs",v:K}};
var U=ft.TQ("grdm");U.Rvrs.v=T;U.Grad.v=u;e[x]=U;break;case"selc":e[x]=jm.rf(i,C,S);break;case"vmsk":case"vsms":var r=e.vmsk=new cc.hF,dS=W.xz(i,C+4),w=(dS>>0&1)==1;
r.hu=(dS>>1&1)==0;r.isEnabled=(dS>>2&1)==0;r.$=cV.Qc(i,C+8,S-8,L.m,L.J);break;case"shmd":e[x]={};var di=W.Q(i,C),H=C+4;
for(var Y=0;Y<di;Y++){var l=W.Sq(i,H,4);H+=4;var eM=W.Sq(i,H,4);H+=4;var j5=i[H];H++;if(Math.max(i[H],i[H+1])!=0)throw"e";
H+=3;var ds=W.Q(i,H);H+=4;if(eM=="cust"||eM=="cmls"||eM=="extn"||eM=="mlst"){var ba=W.Q(i,H);if(ba!=16)H+=4;
if(W.Q(i,H)==16){var s={};hM.Ky(i,s,H+4,!1);e[x][eM]=s;if(eM=="cmls")$.FX.aaG(e[x][eM])}}else{console.log("unknown shmd key: "+eM+", size: "+ds)}H+=ds}break;
case"shpa":var F=W.Q(i,C),gH=W.Q(i,C+4);if(gH!=0)console.log("some patterns present!");break;case"TySh":var ir=e[x]={},F=W.vV(i,C);
ir.i=W.J0(i,C+2);var iP=W.vV(i,C+2+48);ir.m_={};try{var iy=hM.Ky(i,ir.m_,C+56)}catch(a8){e[x]=null;break}var iG=e7.asr();
for(var eg in iG)if(ir.m_[eg]==null)ir.m_[eg]=iG[eg];ir.ZM={};var du=hM.Ky(i,ir.ZM,C+56+iy+6);ir.l$=W.a7v(i,C+56+iy+6+du);
ir.Wg=el.uU(ir.m_.EngineData.v);e7.ais(ir.Wg.EngineDict.StyleRun.RunArray);if(ir.Wg.ResourceDict==null)ir.Wg.ResourceDict=JSON.parse(JSON.stringify(ir.Wg.DocumentResources));
delete ir.m_.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var gh=W.Q(i,C),ga=W.Q(i,C+4);e.lmfx={};
var iy=hM.Ky(i,e.lmfx,C+8);cX.Oi(e.lmfx);break;case"FMsk":e[x]=W.jS(i,C,S);break;case"Txt2":e[x]={};
e[x].raw=W.jS(i,C,S);e[x].sd=jP.uU(e[x].raw);break;case"Patt":e[x]=cv.DV(i,C,S);break;case"SoLd":var d5=W.Sq(i,C,4),fu=W.Q(i,C+4),ay=W.Q(i,C+8),c7=e[x]={},eE=hM.Ky(i,c7,C+12),jn=c7.warp,dI=c7.quiltWarp;
if(dI==null)dI=c7.quiltWarp=I.lu.as$(jn);delete c7.warp;var dQ=dI.v.warpStyle.v.warpStyle,jo=dI.v.warpValues;
if(dQ!="warpCylinder"&&jo){dI.v.warpValue={t:"doub",v:jo.v[0].v};delete dI.v.warpValues}if(c7.nonAffineTransform==null)c7.nonAffineTransform=JSON.parse(JSON.stringify(c7.Trnf));
if(c7.Impr==null)c7.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fu=W.Q(i,C);
e[x]={};var eE=hM.Ky(i,e[x],C+4);break;case"vscg":var eM=W.Sq(i,C,4),fu=W.Q(i,C+4);e[eM]={};var eE=hM.Ky(i,e[eM],C+8);
cX.rg(e[eM],eM);break;case"vogk":var hT=W.Q(i,C),fu=W.Q(i,C+4);e[x]={};var eE=hM.Ky(i,e[x],C+8);e[x]=e[x].keyDescriptorList.v;
for(var Y=0;Y<e[x].length;Y++){var ea=e[x][Y].v;if(!I.ta.GL(ea))continue;if(ea.keyOriginBoxCorners==null){var b9=I.ta.eb(ea);
ea.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var bI=[b9[0],b9[1],b9[2],b9[1],b9[2],b9[3],b9[0],b9[3]];
if(ea.keyOriginType.v==4)bI=I.ta.acQ(I.ta.i9(ea),ea.keyOriginLineWeight.v);I.ta.M7(ea,"keyOriginBoxCorners",bI)}}break;
case"lnk2":case"lnkD__":case"lnk3__":e[x]=[];var h=C;while(h<C+S){var ii=new cc.mO;e[x].push(ii);var d_=W.AR(i,h);
h+=8;var c4=h;ii.type=W.Sq(i,h,4);h+=4;if(ii.type!="liFD"){alert("Unknown Linked Layer type: "+ii.type);
break;throw ii.type}ii.xO=W.Q(i,h);h+=4;var kG=W.d4(i,h);h+=1+kG.qm.length;ii.zx=kG.qm;ii.VO=W.r8(i,h);
h+=4+ii.VO.length*2+2;ii.C9=W.Sq(i,h,4);h+=4;ii.SL=W.Sq(i,h,4);h+=4;var fC=W.AR(i,h);h+=8;ii.open=i[h];
h+=1;if(ii.open!=0){var bO={},iy=hM.Ky(i,bO,h+4);if(iy%4!=0)iy+=4-iy%4;console.log(bO);h+=iy+4}ii.open=0;
ii.raw=W.jS(i,h,fC);h=c4+d_;if(d_%4!=0)h+=4-d_%4}break;case"FEid":var h=C;e[x]=[];var id=h+S,F=W.Q(i,h);
h+=4;while(h<id){h+=4;var d_=W.Q(i,h);h+=4;var g={};e[x].push(g);g.id=W.d4(i,h).qm;h+=g.id.length+1;
var F=W.Q(i,h);h+=4;h+=4;var a5=W.Q(i,h);h+=4;g.rect=W.hc(i,h);h+=16;var eU=W.Q(i,h);h+=4;var af=W.Q(i,h);
h+=4;var a7=new I.RV(0);for(var Y=0;Y<af+2;Y++){var g$=W.Q(i,h);h+=4;if(g$!=0){h+=4;var cg=W.Q(i,h),cC=null;
h+=4;if(Y<3||Y==25)cC=ej.BI(!0,eU,i,g.rect.m,g.rect.J,h,cg);if(Y==0)a7.Z=cC;if(Y==1)a7.r=cC;if(Y==2)a7.e=cC;
if(Y==25)a7.W=cC;h+=cg}}g.buffer=I.R(g.rect.P()*4);I.bb(a7,g.buffer);var kF=i[h];h++;if(kF!=0){g.X=new cc.o7;
g.X.rect=W.hc(i,h);h+=16;h+=4;var am=W.Q(i,h);h+=4;g.X.channel=ej.BI(!0,eU,i,g.X.rect.m,g.X.rect.J,h,am);
g.X.color=255;g.X.gv();h+=am}if(d_%4!=0)h+=4-d_%4}break;case"Lr16":gZ.$H(L,i,C);break;case"Anno":e[x]=[];
var cJ=C,fX=C+4,gH=W.Q(i,fX);fX+=4;for(var Y=0;Y<gH;Y++){var d_=W.Q(i,fX);fX+=4;var hP=W.Sq(i,fX,4);
fX+=4;if(hP!="txtA")throw hP;var kx=i[fX++],f2=i[fX++],gt=W.vV(i,fX);fX+=2;var iD=W.hc(i,fX);fX+=16;
var eb=W.hc(i,fX);fX+=16;var _=j1.L4(i,fX);fX+=10;var dA=W.d4(i,fX);fX+=dA.length;var e9=W.d4(i,fX);
fX+=e9.length;var eI=W.d4(i,fX);fX+=eI.length;var d9=W.Q(i,fX);fX+=4;var f9=W.Sq(i,fX,4);fX+=4;var e4=W.Q(i,fX);
fX+=4;var cj=W.Yh(i,fX+2,e4-2>>1);fX+=e4;e[x].push([iD.x,iD.y,_,dA.qm,cj])}break;default:break}var i4="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(i4.indexOf(x)==-1)if(S%4!=0)console.log("size not multiple of 4!!!",x);if(x!="luni"&&x!="TySh"&&x!="tySh"&&x!="lfx2"&&x!="iOpa")if(S%4!=0)S+=4-S%4;
C+=S}var A=e.CgEd;if(A){var o=e.brit;if(o){o.Brgh.v=A.Brgh?A.Brgh.v:0;o.Cntr.v=A.Cntr?A.Cntr.v:0;o.useLegacy.v=A.useLegacy?A.useLegacy.v:0}delete e.CgEd}var d6=[];
for(var Y=0;Y<d6.length;Y++)delete e[d6[Y]];return C};cX.aC5=function(i,C,m,e,z){if(m.SoLd){var L={};
for(var l in m){if(l=="SoLd")L.PlLd={};L[l]=m[l]}m=L}for(var x in m)if(m[x]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+x+"\" tag was present with a null value.");delete m[x]}for(var x in m){var S=e&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(x)!=-1,f=0;
W.HC(i,C,S?"8B64":"8BIM");C+=4;var k=C;W.HC(i,C,x);C+=4;W.Qr(i,C,0);C+=S?8:4;switch(x){case"iOpa":W.dd(i,C,m[x],1);
f=4;break;case"brst":f=0;for(var Y=0;Y<3;Y++)if(m[x][Y]==0){W.RG(i,C+f,Y);f+=4}break;case"knko":W.dd(i,C,m[x],1);
f=4;break;case"infx":W.dd(i,C,m[x],1);f=4;break;case"clbl":W.dd(i,C,m[x],1);f=4;break;case"lmgm":W.dd(i,C,m[x],1);
f=4;break;case"vmgm":W.dd(i,C,m[x],1);f=4;break;case"fcmy":W.dd(i,C,m[x],1);f=4;break;case"lyid":W.RG(i,C,m[x]);
f=4;break;case"lsct":W.RG(i,C,m[x].type);f=4;if(m[x].fn){W.HC(i,C+4,"8BIM");W.HC(i,C+8,m[x].fn);f=12}break;
case"lyvr":W.RG(i,C,m[x]);f=4;break;case"lnsr":W.HC(i,C,m[x]);f=4;break;case"lspf":W.RG(i,C,m[x]);f=4;
break;case"lclr":W.g7(i,C,m[x]);f=8;break;case"luni":W.O6(i,C,m[x]);f=4+2*m[x].length;break;case"fxrp":W.EN(i,C,m[x].x);
W.EN(i,C+8,m[x].y);f=16;break;case"artb":case"artd":W.RG(i,C,16);f=hM.mt(i,m[x],C+4)+4;break;case"SoCo":W.RG(i,C,16);
f=hM.mt(i,m[x],C+4)+4;break;case"GdFl":W.RG(i,C,16);f=hM.mt(i,m[x],C+4)+4;break;case"PtFl":W.RG(i,C,16);
f=hM.mt(i,m[x],C+4)+4;break;case"CgEd":var X={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},o=X,A=m[x];
o.Brgh.v=A.Brgh.v;o.Cntr.v=A.Cntr.v;o.useLegacy.v=A.useLegacy.v;W.RG(i,C,16);f=hM.mt(i,X,C+4)+4;break;
case"brit":i.uG(C,8);f=8;break;case"levl":var P=new ac;f=ao.Em(P,m[x]);W.I2(i,C,P.data);break;case"curv":f=aA.HR(i,C,m[x]);
break;case"expA":f=14;i.uG(C,14);W.$g(i.data,C,1);W.bT(i.data,C+2,m[x].Exps?m[x].Exps.v:0);W.bT(i.data,C+6,m[x].Ofst?m[x].Ofst.v:0);
W.bT(i.data,C+10,m[x].gammaCorrection?m[x].gammaCorrection.v:1);break;case"vibA":W.RG(i,C,16);f=hM.mt(i,m[x],C+4)+4;
break;case"hue2":f=jK.HR(i,C,m[x]);break;case"blnc":f=19;i.uG(C,f);var F=["ShdL","MdtL","HghL"];for(var Y=0;
Y<3;Y++){var n=m[x][F[Y]].v;for(var R=0;R<3;R++)n.push(W.qe(i.data,C+Y*6+R*2,n[R].v))}i.data[C+18]=m[x].PrsL.v?1:0;
break;case"blwh":var X={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<Q.length;Y++){X[Q[Y]]=m[x][Q[Y]]}W.RG(i,C,16);f=hM.mt(i,X,C+4)+4;break;case"phfl":W.g7(i,C,2);
var s=m[x].Clr.v;W.g7(i,C+2,7);W.g7(i,C+4,Math.round(s.Lmnc.v*100));W.g7(i,C+6,Math.round(s.A.v*100));
W.g7(i,C+8,Math.round(s.B.v*100));W.g7(i,C+10,0);var j=C+2+10;i.uG(j,5);W.CA(i.data,j,m[x].Dnst.v);j+=4;
i.data[j]=m[x].PrsL.v?1:0;j++;f=j-C;break;case"mixr":f=44;i.uG(C,f);var _=fp.kY(m[x]);W.$g(i.data,C,1);
W.$g(i.data,C+2,_.bg?1:0);for(var Y=0;Y<20;Y++)W.qe(i.data,C+4+Y*2,_.b[Y]);break;case"clrL":case"rplc":W.g7(i,C,1);
W.RG(i,C+2,16);f=hM.mt(i,m[x],C+6)+6;break;case"nvrt":f=0;break;case"post":W.g7(i,C,m[x].Lvls.v);f=2;
break;case"thrs":W.g7(i,C,m[x].Lvl.v);f=2;break;case"grdm":var B=m[x].Rvrs?m[x].Rvrs.v:!1,N=!1,a=867527939,O=!1,H=!1,q=2048,h=[0,0,0,0],D=[32768,32768,32768,32768],T=m[x].Grad.v,p,y,b=T.Clrs==null?1:0;
if(b==0){p=T;y=JSON.parse(jt.UL.akw).v}else{p=ft.TQ("grdm").Grad.v;y=T}i.uG(C,4);W.$g(i.data,C,1);i.data[C+2]=B?1:0;
i.data[C+3]=N?1:0;var g=C+4;W.O6(i,g,T.Nm.v);g+=4+T.Nm.v.length*2;g=iZ.a2L(i,g,p);W.g7(i,g,b);g+=2;W.RG(i,g,y.RndS.v);
g+=4;W.g7(i,g,y.ShTr.v?1:0);g+=2;W.g7(i,g,y.VctC.v?1:0);g+=2;W.RG(i,g,y.Smth.v);g+=4;W.g7(i,g,3);g+=2;
for(var Y=0;Y<4;Y++)W.g7(i,g+Y*2,h[Y]);g+=8;for(var Y=0;Y<4;Y++)W.g7(i,g+Y*2,D[Y]);g+=8;g+=2;f=g-C;break;
case"selc":f=jm.HR(i,C,m[x]);break;case"FMsk":W.I2(i,C,m[x]);f=m[x].length;break;case"Txt2":var u=new ac,t=jP.hz(m[x].sd,u),V=I.R(t,!0);
for(var Y=0;Y<t;Y++)V[Y]=u.data[Y];W.I2(i,C,V);f=V.length;break;case"vmsk":var c=m[x],E=0;W.RG(i,C,3);
if(!c.hu)E+=1<<1;if(!c.isEnabled)E+=1<<2;W.RG(i,C+4,E);f=8;var Z=c.$.length;i.uG(C+8,Z*26);cV.sg(i.data,C+8,c.$,z.m,z.J);
f+=Z*26;break;case"shmd":W.RG(i,C,Object.keys(m[x]).length);var j=C+4;for(var G in m[x]){W.HC(i,j,"8BIM");
j+=4;W.HC(i,j,G);j+=4;W.RG(i,j,0);j+=4;W.RG(i,j,0);j+=4;W.RG(i,j,16);j+=4;var J=hM.mt(i,m[x][G],j);if(J%4!=0)J+=4-J%4;
W.RG(i,j-8,J+4);j+=J}f=j-C;break;case"TySh":var j=C;W.Ip(i,j,1);j+=2;var K=m[x],u=new ac;K.Wg.DocumentResources=JSON.parse(JSON.stringify(K.Wg.ResourceDict));
var t=el.hz(K.Wg,u),V=I.R(t,!0);for(var Y=0;Y<t;Y++)V[Y]=u.data[Y];K.m_.EngineData={t:"tdta",v:V};var M=K.Wg.EngineDict.Editor.Text;
K.m_.Txt.v=M.substring(0,M.length-1);W.aaN(i,j,K.i);j+=48;W.Ip(i,j,50);j+=2;W.RG(i,j,16);j+=4;j+=hM.mt(i,K.m_,j);
W.Ip(i,j,1);j+=2;W.RG(i,j,16);j+=4;j+=hM.mt(i,K.ZM,j);W.at1(i,j,K.l$);j+=16;f=j-C;break;case"lmfx":W.RG(i,C,0);
W.RG(i,C+4,16);var X=JSON.parse(JSON.stringify(m[x])),U=!1;cX.Zm(X);for(var Y=0;Y<jt.m8.length;Y++)if(X[jt.m8[Y]]!=null)U=!0;
W.HC(i,k,U?"lmfx":"lfx2");f=hM.mt(i,X,C+8)+8;break;case"Patt":var j=cv.Mr(i,C,m[x]);f=j-C;break;case"PlLd":var r=C;
i.uG(C,60);var n=m.SoLd;W.HC(i,C,"plcL");W.RG(i,C+4,3);var dS=i.data[C+8]=n.Idnt.v.length;W.HC(i,C+9,n.Idnt.v);
var j=C+9+dS,w=[1,1,16,2];for(var Y=0;Y<4;Y++)W.RG(i,j+Y*4,w[Y]);j+=16;w=$.V.dR(n.nonAffineTransform);
for(var Y=0;Y<8;Y++)W.EN(i,j+Y*8,w[Y]);j+=64;W.RG(i,j,0);W.RG(i,j+4,16);var di=I.lu.af4(n.quiltWarp).v;
j+=8+hM.mt(i,di,j+8);f=j-C;break;case"SoLd":var n=m[x],eM=n.quiltWarp;n.warp=I.lu.af4(eM);if(I.lu.I0(eM.v)==16)delete n.quiltWarp;
W.HC(i,C,"soLD");W.RG(i,C+4,4);W.RG(i,C+8,16);f=hM.mt(i,n,C+12)+12;n.quiltWarp=eM;delete n.warp;break;
case"vstk":case"pths":W.RG(i,C,16);f=hM.mt(i,m[x],C+4)+4;break;case"vscg__":W.HC(i,C,m[x].key);W.RG(i,C+4,16);
f=hM.mt(i,m[x].b,C+8)+8;break;case"vogk":W.RG(i,C,1);W.RG(i,C+4,16);I.ta.ajy(m[x]);for(var Y=0;Y<m[x].length;
Y++){var j5=m[x][Y].v.keyOriginResolution;if(j5)j5.v=z.lC}var ds={classID:"null",keyDescriptorList:{t:"VlLs",v:m[x]}};
f=hM.mt(i,ds,C+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var g=C;for(var Y=0;Y<m[x].length;Y++){var ba=m[x][Y],gH=g;
W.NO(i,g,0);g+=8;W.HC(i,g,ba.type);g+=4;W.RG(i,g,ba.xO);g+=4;i.uG(g,1);i.data[g]=ba.zx.length;g++;W.HC(i,g,ba.zx);
g+=ba.zx.length;W.O6(i,g,ba.VO+"\0");g+=4+ba.VO.length*2+2;W.HC(i,g,ba.C9);g+=4;W.HC(i,g,ba.SL);g+=4;
W.NO(i,g,ba.raw.length);g+=8;i.uG(g,1);i.data[g]=ba.open;g++;W.I2(i,g,ba.raw);g+=ba.raw.length;W.RG(i,g,1);
g+=4;g+=11;var ir=g-gH-8;W.NO(i,gH,ir);if(ir%4!=0){i.uG(g,4-ir%4);g+=4-ir%4}}f=g-C;break;case"FEid":var g=C;
W.RG(i,g,3);g+=4;for(var iP=0;iP<m[x].length;iP++){var iy=m[x][iP];g+=4;var iG=g;g+=4;W.fj(i,g,iy.id);
g+=iy.id.length+1;W.RG(i,g,1);g+=4;var eg=I.R(iy.rect.P()),du=iy.rect,gh=I.R(du.P());g+=4;var ga=g;g+=4;
W.WZ(i,g,du);g+=16;W.RG(i,g,8);g+=4;W.RG(i,g,24);g+=4;for(var Y=0;Y<24+2;Y++){var d5=-1;if(Y==0)d5=0;
if(Y==1)d5=1;if(Y==2)d5=2;if(Y==25)d5=3;W.RG(i,g,d5!=-1?1:0);g+=4;if(d5!=-1){I.Ud(iy.buffer,eg,d5);I.Vo(eg,iy.rect,gh,du);
g+=4;var fu=g;g+=4;i.uG(g,du.P()+2);g=ej.BG(!0,gh,i.data,du.m,du.J,g,3);W.RG(i,fu,g-(fu+4))}}W.RG(i,ga,g-(ga+4));
i.uG(g,1);i.data[g]=iy.X?1:0;g++;if(iy.X!=null){var ay=du,c7=I.R(ay.P());c7.fill(iy.X.color);I.Vo(iy.X.channel,iy.X.rect,c7,ay);
W.WZ(i,g,ay);g+=16;g+=4;var eE=g;g+=4;i.uG(g,ay.P()+2);g=ej.BG(!0,c7,i.data,ay.m,ay.J,g,3);W.RG(i,eE,g-(eE+4))}var ir=g-(iG+4);
W.RG(i,iG,ir);if(ir%4!=0)g+=4-ir%4}f=g-C;break;case"Anno":var jn=C,dI=m[x].length;W.g7(i,jn,2);W.g7(i,jn+2,1);
jn+=4;W.RG(i,jn,dI);jn+=4;for(var Y=0;Y<dI;Y++){var dQ=m[x][Y],jo=dQ[0],hT=dQ[1],ea=jn;jn+=4;W.HC(i,jn,"txtA");
jn+=4;i.uG(jn,2);i.data[jn]=1;i.data[jn+1]=28;jn+=2;W.g7(i,jn,1);jn+=2;W.WZ(i,jn,new j2(jo,hT,17,21));
jn+=16;W.WZ(i,jn,new j2(jo+8,hT+10,241,141));jn+=16;i.uG(jn,10);j1.IT(i.data,jn,dQ[2]);jn+=10;jn+=W.fj(i,jn,dQ[3]);
jn+=W.fj(i,jn,"");jn+=W.fj(i,jn,"D:20211012120233+01'00'");var b9=dQ[4].length*2;W.RG(i,jn,12+2+b9);
jn+=4;W.HC(i,jn,"txtC");jn+=4;W.RG(i,jn,2+b9);jn+=4;i.uG(jn,2);i.data[jn]=254;i.data[jn+1]=255;jn+=2;
W.anF(i,jn,dQ[4]);jn+=b9;W.RG(i,ea,jn-ea)}f=jn-C;break;default:console.log("unknown layer tag: "+x+", size: "+f);
C-=12;continue}var bI=["Txt2","artd","extd","pths"];if(bI.indexOf(x)==-1)if(f%4!=0)f+=4-f%4;if(S)W.NO(i,C-8,f);
else W.RG(i,C-4,f);if(x!="luni"&&x!="TySh")if(f%4!=0)f+=4-f%4;C+=f}return C};cX.Oi=function(i){for(var Y=0;
Y<jt.order.length;Y++){var C=jt.order[Y],m=jt.m8[Y];if(i[m]==null)i[m]={t:"VlLs",v:[]};if(i[C]!=null){i[m].v.push(i[C]);
delete i[C]}var e=[];for(var z=0;z<i[m].v.length;z++){var L=i[m].v[z];if(L.v.present==null||L.v.present.v==!0)e.push(L)}i[m].v=e}};
cX.Zm=function(i){for(var Y=0;Y<jt.order.length;Y++){var C=jt.order[Y],m=jt.m8[Y],e=i[m].v.length;if(e==0){delete i[m];
continue}if(e==1){i[C]=i[m].v[0];delete i[m];continue}}};cX.rg=function(i,C){if(C=="GdFl"){if(i.Angl==null)i.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(i.Algn==null)i.Algn={v:!0,t:"bool"};if(i.Scl==null)i.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(i.Ofst==null)i.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(i.Rvrs==null)i.Rvrs={v:!1,t:"bool"};if(i.Dthr==null)i.Dthr={v:!1,t:"bool"}}if(C=="PtFl"){if(i.Algn==null)i.Algn={v:!0,t:"bool"};
if(i.Angl==null)i.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(i.Scl==null)i.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(i.phase==null)i.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};cX.clone=function(i,C){var m={};
if(i=="TySh"){m.i=C.i.clone();m.m_=JSON.parse(JSON.stringify(C.m_));m.ZM=JSON.parse(JSON.stringify(C.ZM));
m.l$=C.l$.clone();m.Wg=JSON.parse(JSON.stringify(C.Wg));if(C.add)m.add={vmsk:C.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(C.add.vogk))};
return m}else if(i=="fxrp")return C.clone();else if(i=="vmsk")return C.clone();else return JSON.parse(JSON.stringify(C))};
function jV(i,C){}jV.uU=function(i,C,m,e){e=jV.agO(i,C,m,e);return e};jV.hz=function(i,C,m,e,z){e=jV.a3a(i,C,m,e,z);
return e};jV.agO=function(i,C,m,e){var z=e;i.rect=W.hc(m,e);e+=16;var L=W.vV(m,e);e+=2;i.xr=[];var l=C.Hy;
for(var Y=0;Y<L;Y++){i.xr[Y]={id:W.x1(m,e),length:(l?W.AR:W.Q)(m,e+2)};e+=l?10:6}var x=W.Sq(m,e,4);e+=4;
if(x!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(x));alert("Error in Photoshop file: wrong signature.");
throw"e"}i.fn=W.Sq(m,e,4);e+=4;i.opacity=m[e];e+=1;i.cy=m[e]==1;e+=1;i.de=m[e];e+=1;if(m[e]!=0)console.log("error in filler!");
e+=1;var S=W.Q(m,e);e+=4;var k=e;e=jV.adF(i,m,e);e=jV.a58(i,m,e);var f=W.d4(m,e);i.name=f.qm;e+=f.length;
if(f.length%4!=0)e+=4-f.length%4;e=cX.apy(m,e,k+S,i.add,l,C);if(i.add.lsct){if(i.add.lsct.fn)i.fn=i.add.lsct.fn;
i.add.lsct=i.add.lsct.type}return e};jV.a3a=function(i,C,m,e,z){var L=e;W.WZ(m,e,i.rect);e+=16;var l=C.add.fcmy==1,x=i.aDk(l);
W.g7(m,e,x.length);e+=2;var S=C.Hy;z.push(e);for(var Y=0;Y<x.length;Y++){W.Ip(m,e,x[Y]);if(S)W.NO(m,e+2,0);
else W.RG(m,e+2,0);e+=S?10:6}W.HC(m,e,"8BIM");e+=4;W.HC(m,e,i.fn);e+=4;W.dd(m,e,i.opacity,1);e+=1;W.dd(m,e,i.cy?1:0,1);
e+=1;W.dd(m,e,i.de,1);e+=1;W.dd(m,e,0,1);e+=1;var k=e;W.RG(m,e,0);e+=4;var f=e;e=jV.alU(i,m,e);e=jV.aAo(i,m,e);
var X=W.fj(m,e,i.name.slice(0,255));e+=X;if(X%4!=0)e+=4-X%4;if(i.add.lsct){i.add.lsct={type:i.add.lsct};
if(i.fn=="pass"){i.add.lsct.fn="pass";i.fn="norm"}}if(i.fn=="pass")i.add.lsct={type:i.add.lsct,fn:"pass"};
if(i.add.brit)i.add.CgEd=i.add.brit;e=cX.aC5(m,e,i.add,S,C);delete i.add.CgEd;if(i.add.lsct){if(i.add.lsct.fn)i.fn=i.add.lsct.fn;
i.add.lsct=i.add.lsct.type}var o=e-f;W.RG(m,k,o);return e};jV.adF=function(i,C,m){var e=W.Q(C,m);m+=4;
if(e==0)return m;var z=m;i.X=new cc.o7;i.X.rect=W.hc(C,m);m+=16;i.X.color=C[m];m+=1;var L=jV.abk(i.X,C,m);
m+=1;if(L){var l=!1,x=255,S=0,k=255,f=0;for(var Y=0;Y<i.xr.length;Y++)if(i.xr[Y].id==-3)l=!0;if(l){i.ow=jV.aCY(C,m);
m+=18}var X=m,o=C[m];m++;if(o>>0&1){x=C[m];m++}if(o>>1&1){S=W.Me(C,m);m+=8}if(o>>2&1){k=C[m];m++}if(o>>3&1){f=W.Me(C,m);
m+=8}if((m-X&1)==1)m++;i.iI=[x,S,k,f]}else{if(e==20)m+=2;else{i.ow=jV.aCY(C,m);m+=18}}return z+e};jV.alU=function(i,C,m){W.RG(C,m,0);
m+=4;if(i.X==null)return m;var e=i.Re(),z=i.add.vmsk,L=m,l=!0;W.RG(C,m,0);W.WZ(C,m,i.X.rect);m+=16;W.dd(C,m,i.X.color);
m+=1;jV.a72(i.X,C,m,l);m+=1;if(l){if(i.ow){jV.af7(C,m,i.ow);m+=18}var x=m;W.dd(C,m,z?15:3);m+=1;W.dd(C,m,e?e.du:255);
m+=1;W.EN(C,m,e?e.JQ:0);m+=8;if(z){W.dd(C,m,z?z.du:255);m+=1;W.EN(C,m,z?z.JQ:0);m+=8}if((m-x&1)==1)m++}W.RG(C,L-4,m-L);
return m};jV.aCY=function(i,C){var m=new cc.o7;jV.abk(m,i,C);C+=1;m.color=i[C];C+=1;m.rect=W.hc(i,C);
C+=16;return m};jV.af7=function(i,C,m){jV.a72(m,i,C,!1);C+=1;W.dd(i,C,m.color);C+=1;W.WZ(i,C,m.rect);
C+=16};jV.abk=function(i,C,m){var e=C[m];i.hu=(e>>0&1)==0;i.isEnabled=(e>>1&1)==0;i.kx=(e>>3&1)==1;return e>>4&1};
jV.a72=function(i,C,m,e){var z=0;if(!i.hu)z+=1<<0;if(!i.isEnabled)z+=1<<1;if(i.kx)z+=1<<3;if(e)z+=1<<4;
W.dd(C,m,z)};jV.a58=function(i,C,m){var e=W.Q(C,m);m+=4;for(var Y=0;Y<e;Y++)i.m3[Y]=C[m+Y];return m+e};
jV.aAo=function(i,C,m){W.RG(C,m,i.m3.length);m+=4;C.uG(m,40);for(var Y=0;Y<40;Y++){C.data[m+Y]=i.m3[Y]}return m+40};
function ej(){}ej.uU=function(i,C,m,e){e=ej.aBb(C,C.Hy,C.G0,C.z0,i,m,e);return e};ej.Em=function(i,C,m,e,z,L,l){e=ej.ar$(i,C,m,e,z,L,l);
return e};ej.aBb=function(i,C,m,e,z,L,l){var x=z.xr,S={},k=l;for(var Y=0;Y<x.length;Y++){var f=x[Y],X=f.id,o=f.length,A;
if(X==-2&&z.X==null)X=-1;if(X==-3)A=z.ow.rect;else if(X==-2)A=z.X.rect;else A=z.rect;var P=ej.BI(C,m,L,A.m,A.J,l,o);
l+=o;if(X==-3)z.ow.channel=P;else if(X==-2)z.X.channel=P;else S["c"+X]=P}var F=new I.RV(0);F.W=null;
if(e==3){F.Z=S.c0;F.r=S.c1;F.e=S.c2;F.W=S["c-1"]}else if(e==1){F.Z=S.c0;F.r=S.c0;F.e=S.c0;F.W=S["c-1"]}else if(e==4){var n=i.Yl.r1039,R=null,Q=S.c0,s=S.c1,j=S.c2,_=S.c3;
if(n){var R=n.apx,B=17;if(R==null){var N=ICC.R(n.buffer);if(N.header.spaceIn=="RGB "){}else R=n.apx=ICC.U.sampleLUT(N,B)}}if(R){var a={Z:Q,r:s,e:j,W:_},O=I.R(Q.length*4);
I.bb(a,O);I.Fb(O);ICC.U.applyLUT4(R,B,O,O);I.M8(O,a)}else{for(var Y=0;Y<Q.length;Y++){var H=1-Q[Y]*(1/255),q=1-s[Y]*(1/255),h=1-j[Y]*(1/255),D=1-_[Y]*(1/255),T=I.gO([H,q,h,D]);
Q[Y]=Math.floor(.5+T[0]*255);s[Y]=Math.floor(.5+T[1]*255);j[Y]=Math.floor(.5+T[2]*255)}}F.Z=Q;F.r=s;
F.e=j;F.W=S["c-1"]}if(F.Z==null)F.Z=I.R(0);if(F.W==null&&F.Z!=null){F.W=F.Z.slice(0);F.W.fill(255)}if(F.r==null)F.r=F.Z.slice(0);
if(F.e==null)F.e=F.Z.slice(0);z.buffer=I.R(Math.max(0,z.rect.P()*4));I.bb(F,z.buffer);return l};ej.ar$=function(i,C,m,e,z,L,l){var x=C.aDk(l),S=C.buffer,k=new I.RV(C.rect.P());
if(l){var f=k.W.slice(0);I.Ud(S,f,3);S=S.slice(0);I.aqL(S);I.M8(S,k);k.apm=k.W;k.W=f}else I.M8(S,k);
for(var Y=0;Y<x.length;Y++){var X=x[Y],o,A;if(X==-3)o=C.ow.rect;else if(X==-2)o=C.X.rect;else o=C.rect;
if(X==-3)A=C.ow.channel;if(X==-2)A=C.X.channel;if(X==-1)A=k.W;if(X==0)A=k.Z;if(X==1)A=k.r;if(X==2)A=k.e;
if(X==3)A=k.apm;m.uG(e,o.P()*3+4);var P=e;e=ej.BG(i,A,m.data,o.m,o.J,e,L[1]?3:1);var F=e-P;if(i)W.aoG(m.data,z+Y*10+2,F);
else W.CA(m.data,z+Y*6+2,F)}return e};ej.BI=function(i,C,m,e,z,L,l){var x=W.vV(m,L);L+=2;return ej.Ao(i,C,m,e,z,L,x,l-2)};
ej.BG=function(i,C,m,e,z,L,l){W.qe(m,L,l);L+=2;L=ej.dk(i,C,m,e,z,L,l);return L};ej.Ao=function(i,C,m,e,z,L,l,x){var S,k=e*z*(C>>>3),f=k&3,o=k+(f==0?0:4-f);
if(x<=0){return I.R(o)}if(l>3){console.log("unknown compression: "+l,e,z,e*z,x);l=0}if(l==0){if(L+o<=m.length)S=m.slice(L,L+o);
else{S=I.R(k);for(var Y=0;Y<k;Y++)S[Y]=m[L+Y]}L+=k}else if(l==1){S=I.R(k);var A=i?4:2,P=ej.aqx(m,S,e,z,L,L+A*z,A);
L+=A*z+P}else if(l==2||l==3){var F=new Uint8Array(m.buffer,L+2,x-6),n=I.R(o);UZIP.inflateRaw(F,n);if(l==3){if(C==8)for(var R=0;
R<z;R++){var Q=R*e+1,s=Q+e-1,j=n[Q-1];for(var _=Q;_<s;_++){j+=n[_];n[_]=j&255}}else for(var R=0;R<z;
R++){var Q=R*e+1,s=Q+e-1,j=n[2*Q-2]<<8|n[2*Q-1];for(var _=Q;_<s;_++){var B=_<<1;j+=n[B]<<8|n[B+1];n[B]=j>>>8;
n[B+1]=j&255}}}if(n.length==o)S=n;else{S=I.R(o);for(var Y=0;Y<n.length;Y++)S[Y]=n[Y]}}if(C==16){var N=I.R(e*z);
for(var Y=0;Y<k;Y+=2)N[Y>>>1]=S[Y];S=N}return S};ej.dk=function(i,C,m,e,z,L,l){var x=e*z;if(l==0)for(var Y=0;
Y<x;Y++)m[L++]=C[Y];else if(l==1){var S=i?4:2,k=ej.afF(C,m,e,z,L,L+S*z,S);L+=S*z+k}else if(l==2||l==3){if(l==3){var f=new Uint8Array(C.length);
for(var X=0;X<z;X++){var o=X*e+1,A=o+e-1,P=C[o-1];f[o-1]=P;for(var F=o;F<A;F++){f[F]=C[F]+(256-P)&255;
P=C[F]}}C=f}m[L]=120;m[L+1]=156;L+=2;var n=pako.deflateRaw(C,{as8:4});W.aet(m,L,n);L+=n.length+4}else console.log("Unknown compression: "+l);
return L};ej.aqx=function(i,C,m,e,z,L,l){if(!(i instanceof Uint8Array)||!(C instanceof Uint8Array))throw"e";
var x=L,S=e|0;if(l==2)for(var Y=0;Y<S;Y++){var k=W.vV(i,z+(Y<<1));ej.qv(i,L,k,C,Y*m,m);L+=k}else for(var Y=0;
Y<S;Y++){var k=W.Q(i,z+(Y<<2));ej.qv(i,L,k,C,Y*m,m);L+=k}return L-x};ej.afF=function(i,C,m,e,z,L,l){var x=L;
if(l==2)for(var Y=0;Y<e;Y++){var S=ej.aCw(i,Y*m,m,C,L);W.$g(C,z+Y*2,S);L+=S}else for(var Y=0;Y<e;Y++){var S=ej.aCw(i,Y*m,m,C,L);
W.CA(C,z+Y*4,S);L+=S}return L-x};ej.aCw=function(i,C,k7,m,e){var z,L,l,x,S,jU,k;x=C+k7;for(l=C,L=e;k7>0;
l=z,k7-=jU){k=k7<128?k7:128;if(l<=x-3&&i[l+1]==i[l+0]&&i[l+2]==i[l+0]){for(z=l+3;z<l+k&&i[z]==i[l+0];
)++z;jU=z-l;m[L++]=1+256-jU;m[L++]=i[l+0]}else{for(z=l;z<l+k;)if(z<=x-3&&i[z+1]==i[z+0]&&i[z+2]==i[z+0])break;
else++z;jU=z-l;m[L++]=jU-1;for(var Y=0;Y<jU;Y++)m[L+Y]=i[l+Y];L+=jU}}return L-e};ej.qv=function(i,C,m,e,z,L){for(var l=0;
l<m;){var k7=i[C++];if(k7>=128){var x=i[C++],S=z+(257-k7);e.fill(x,z,S);z=S;l+=2}else{for(var Y=0;Y<=k7;
Y++)e[z+Y]=i[C+Y];C+=k7+1;z+=k7+1;l+=1+1+k7}}};function gZ(){}gZ.I3=function(i,C,m){return;var e="",z=C;
while(z!=0){var L=z%1e3+"";while(L.length<3)L="0"+L;e=(e==""?L:L+" ")+e;z=Math.floor(z/1e3)}while(e.startsWith("0")&&e!="0")e=e.slice(1);
while(e.length<11)e=" "+e;console.log("===",e,"\t".repeat(i),": "+m)};gZ.anc=function(i){var C={Yl:{}},e=0,z=0,x;
C.Hy=!1;C.G0=8;var m=new Uint8Array(i);z=gZ.ME(C,m,e);e=z;z=gZ.a9l(C,m,e);e=z;var L=W.Q(m,e);e+=4+L;
var l=C.Hy?8:4;if(C.Hy)x=W.AR(m,e);else x=W.Q(m,e);e+=l+x;z=gZ.aBT(C,m,e);return[{Jw:new j2(0,0,C.m,C.J),data:C.buffer.buffer}]};
gZ.uU=function(i,C){C.Hy=!1;C.G0=8;var m=new Uint8Array(i),e=0,z=0,l=0,G,iP=!1,iy=!0,iG=!1,eg=0,i4=0;
z=gZ.ME(C,m,e);gZ.I3(0,z-e,"PSD Header");e=z;z=gZ.a9l(C,m,e);gZ.I3(0,z-e,"Color Mode Data");e=z;z=gZ.a8T(C,m,e);
gZ.I3(0,z-e,"Image Resources");e=z;z=gZ.aba(C,m,e);gZ.I3(0,z-e,"Layer And Mask Info");e=z;z=gZ.aBT(C,m,e);
gZ.I3(0,z-e,"Merged Image");e=z;if(C.M.length==0){var L=C.Sv();L.yY("Background");C.M.push(L);L.buffer=C.buffer.slice(0);
L.rect=new j2(0,0,C.m,C.J)}for(var Y=0;Y<C.M.length;Y++){var z=C.M[Y],x=z.add.lsct;if(x==aU.ds)l++;else if(x==aU.AY||x==aU.Lp)l--}while(l<0){C.M.unshift(C.b$());
l++}if(C.Yl.r1005){C.lC=W.Oq(C.Yl.r1005,0)}if(C.Yl.r1026){var m=C.Yl.r1026;for(var Y=0;Y<m.length;Y+=2){var z=C.M[Y>>>1];
if(z)z.MW=W.vV(m,Y)}}if(C.Yl.r1072){var m=C.Yl.r1072;for(var Y=0;Y<m.length;Y++){var z=C.M[Y];if(z)z.mI=m[Y]==1}}if(C.Yl.r1032){C.Nb=gZ.avQ(C.Yl.r1032,0)}delete C.Yl.r1036;
C.yg(C.Yl.r1039);if(C.Yl.r1050){var S=W.Q,k=C.Yl.r1050,f=W.Q(k,0);if(f==6){var X=4,o=W.hc(k,X);X+=16;
var A=W.vK(k,X);X+=4+A.length*2;var P=S(k,X);X+=4;var F=C.xE;for(var Y=0;Y<P;Y++){var n=$.FD.fR(),Q;
F.push(n);n=n.v;n.sliceID.v=S(k,X);X+=4;n.groupID.v=S(k,X);X+=4;var R=S(k,X);X+=4;if(R==1){Q=S(k,X);
X+=4}var A=W.vK(k,X);X+=4+A.length*2;var s=S(k,X);X+=4;var j=[S(k,X),S(k,X+4),S(k,X+8),S(k,X+12)];X+=16;
$.FD.B5(F,F.length-1,j);var _=n.url.v=W.vK(k,X);X+=4+_.length*2;var B=n.null.v=W.vK(k,X);X+=4+B.length*2;
var N=n.Msge.v=W.vK(k,X);X+=4+N.length*2;var a=n.altTag.v=W.vK(k,X);X+=4+a.length*2;n.cellTextIsHTML.v=k[X]==1;
X++;var O=n.cellText.v=W.vK(k,X);X+=4+O.length*2;var H=S(k,X);X+=4;var q=S(k,X);X+=4;var h=k.slice(X,X+4);
X+=4;if(R!=2)F.pop()}}else if(f==8){var D={};hM.Ky(k,D,8,!1);var k=C.xE=D.slices.v;for(var Y=0;Y<k.length;
Y++){if(k[Y].v.origin.v.ESliceOrigin!="userGenerated"){k.splice(Y,1);Y--}}}}if(C.Yl.r1058){var T=C.Yl.r1058,p=UTIF.decode(T.buffer,{parseMN:!1,debug:!1});
kB.Ti(p[0],C.tr);delete C.Yl.r1058}if(C.Yl.r1060){var y=W.U8(C.Yl.r1060);kB.ht(y,C.tr);delete C.Yl.r1060}if(C.Yl.r1065){var m=C.Yl.r1065;
C.Rk={};hM.Ky(m,C.Rk,4,!1)}if(C.Yl.r1069){var m=C.Yl.r1069,b=[];for(var Y=2;Y<m.length;Y+=4){var Q=W.Q(m,Y);
for(var g=0;g<C.M.length;g++){var z=C.M[g];if(z.add.lyid==Q&&z.add.lsct!=3&&b.indexOf(g)==-1)b.push(g)}}C.g=b}if(C.Yl.r1073){var m=C.Yl.r1073,X=0,u=W.xz(m,X);
X+=4;var t=W.xz(m,X);X+=4;for(var Y=0;Y<t;Y++){C.cU.push({y:u>=2?W.dU(m,X+2):W.Oq(m,X+2),x:u>=2?W.dU(m,X+6):W.Oq(m,X+6)});
X+=14}delete C.Yl.r1073}if(C.Yl.r1025){var V=C.Yl.r1025;delete C.Yl.r1025;var c=cV.Qc(V,0,V.length,C.m,C.J),E=new cc.hF;
E.$=c;C.DI[0]=ei.ew("Working Path",{vmsk:E})}var Z=C.add.pths;delete C.add.pths;var J=C.Yl.r3000;if(J){G={};
hM.Ky(J,G,4,!1);delete C.Yl.r3000}if(Z){var K=Z.pathSymmetrySelectedPath;if(K){var M=Z.pathList.v[K.v].v,U=M.pathUnicodeName.v;
C.a3=U.startsWith("Tile Symmetry")}}for(var r=0;r<=997;r++){var dS="r"+(2e3+r),V=C.Yl[dS];if(V==null)break;
var c=cV.Qc(V,0,V.length,C.m,C.J),U="Path "+r;if(Z){var w=Z.pathList.v[r].v;U=w.pathUnicodeName.v;if(U=="Tile Symmetry 1")continue}var di=G?G.keyRootDescriptorList.v[r].v.keyDescriptorList.v:cc.tO(c),E=new cc.hF;
E.$=c;C.DI.push(ei.ew(U,{vmsk:E,vogk:di}));delete C.Yl[dS]}delete C.Hy;if(C.Yl.r4000){C.WT=I.WT.uU(C.Yl.r4000)}var eM=C.Yl.r7000,j5=C.Yl.r7001;
if(eM){var ds=W.U8(eM);C.ut=gZ.ay0(ds)}if(j5){var ds=W.U8(j5);C.yp=gZ.axX(ds)}delete C.Yl.r7000;delete C.Yl.r7001;
var ba=new j2(0,0,C.m,C.J),gH=C.add.Txt2,ir=gH;if(ir){ir=ir.sd;if(ir._DocumentResources==null)ir=dx.akY(ir)}var du=-1;
for(var Y=0;Y<C.M.length;Y++){var z=C.M[Y],gh=z.add.lsct,ga=z.add.vmsk,d5=z.Re();if(gh==aU.ds){eg++;
z.add.lspf=0}else if(gh==aU.AY||gh==aU.Lp)eg--;if(z.name==""){z.name="Layer "+(Y+1);iG=!0}if(iG&&z.yJ()&&z.fn=="norm")z.fn="pass";
if(z.k_()&&z.x6(C)==null)delete z.add.SoLd;if(z.k_()&&z.x6(C).X){var fu=z.x6(C);fu.X.isEnabled=z.add.SoLd.filterFX.v.filterMaskEnable.v}if(ga&&z.Q9()){var ay=jt.lc.TQ(!0);
if(z.add.vstk==null)z.add.vstk=JSON.parse(JSON.stringify(ay));else{var c7="strokeStyleLineDashSet";if(z.add.vstk[c7]==null)z.add.vstk[c7]=JSON.parse(JSON.stringify(ay[c7]))}z.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
z.add.vstk.strokeStyleResolution.v=C.lC}if(ga&&(z.add.vogk==null||I.o.vS(ga.$)!=z.add.vogk.length))z.tO();
if(!1){var eE=z.add.vogk,jn=!0;for(var dI=0;dI<eE.length;dI++){var dQ=eE[dI].v.keyShapeInvalidated;if(dQ==null||dQ.v==!1)jn=!1}if(jn)z.tO()}if(z.add.SoLd&&z.rect.bs()){console.log("redrawing smart instance");
z.g1(C,null,null,!0)}if(d5==null&&z.X!=null){if(z.X.kx==!1){z.X.kx=!0;z.ow=z.X.clone()}}d5=z.Re();if(z.iI){var ay=z.iI,E=ga;
if(d5){d5.du=ay[0];d5.JQ=ay[1]}if(E){E.du=ay[2];E.JQ=ay[3]}z.iI=null}if(d5!=null&&ga!=null&&(d5.JQ+ga.JQ!=0||d5.du+ga.du!=2*255))z.rH(C);
else if(ga!=null&&!z.Q9())z.rH();else if(d5&&d5.du!=255&&z.Q9())z.rH(C);var jo=z.add.artb;if(jo&&jo.artboardBackgroundType==null)jo.artboardBackgroundType={t:"long",v:1};
if(jo&&eg!=0)delete z.add.artb;var hT=z.add.vstk;if(z.Q9()&&(z.rect.bs()||ga&&ga.JQ!=0||hT&&!hT.fillEnabled.v&&(!hT.strokeEnabled.v||hT.strokeStyleLineWidth.v.val==0)))z.pc(C);
if(z.add.TySh){iP=!0;if(!z.rect.bs())iy=!1}if(z.add.TySh&&ir){du++;var ea=z.add.TySh.Wg,b9=e7.py(ea),bI=ir._DocumentObjects._TextObjects;
if(bI.length<=du){console.log("Txt2 incomplete");continue}var ii=bI[du]._Model,d_=ii._StyleRun?ii._StyleRun._RunArray:[],c4=ea.EngineDict.StyleRun.RunArray;
for(var kG=0;kG<c4.length;kG++){var fC=c4[kG].StyleSheet.StyleSheetData;if(d_[kG]==null)continue;var bO=d_[kG]._RunData._StyleSheet._Features;
if(bO&&bO._BaselineDirection)fC.BaselineDirection=parseInt(bO._BaselineDirection.slice(1));if(bO&&bO._FillBackgroundFlag)fC._FillBackgroundFlag=bO._FillBackgroundFlag;
if(bO&&bO._FillBackgroundColor){var id=bO._FillBackgroundColor,a5=id._Color._Values.slice(0);for(var g=0;
g<4;g++)a5[g]=parseFloat(a5[g].slice(1));fC._FillBackgroundColor={Type:1,Values:a5}}if(bO&&bO._LineWidth)fC._LineWidth=parseFloat(bO._LineWidth.slice(1))}var eU=ea.EngineDict.ParagraphRun.RunArray,af=ii._ParagraphRun._RunArray;
if(af==null)af=[];var a7=Math.min(af.length,eU.length);for(var g=0;g<a7;g++){var g$=eU[g].ParagraphSheet.Properties,cg=ir._DocumentResources._ParagraphSheetSet._Resources,cC=af[g]._RunData._ParagraphSheet;
if(typeof cC=="string")cC=cg[parseInt(cC.slice(1))]._Resource;var kF=cC._Parent==null?cC:cg[parseInt(cC._Parent.slice(1))]._Resource;
cC=cC._Features;kF=kF._Features;var am=cC._ParagraphDirection;if(am==null)am=kF._ParagraphDirection;
if(am)g$._Direction=parseInt(am.slice(1));if(cC._ComposerEngine)g$._ComposerEngine=parseInt(cC._ComposerEngine.slice(1))}if(ii._AlternateGlyphRun){var af=ii._AlternateGlyphRun._RunArray,a7=af.length,cJ=ea.EngineDict.AlternateGlyphRun=e7.af8();
for(var g=0;g<a7;g++){var cC=af[g],fX={},hP=cC._RunData._AlternateGlyphSheet;if(hP)fX.Glyph=parseInt(hP._Glyph.slice(1));
cJ.RunArray.push(fX);cJ.RunLengthArray.push(parseInt(cC._Length.slice(1)))}}var kx=ir._DocumentResources,f2=kx._TextFrameSet._Resources,gt=f2[du]._Resource,iD=gt._Data,eb=new hN(1,0,0,1,0,0);
if(gt._0){var dA=parseFloat(gt._0[0].slice(1)),e9=parseFloat(gt._0[1].slice(1));eb.translate(dA,e9)}if(b9){eb.translate(b9[0],b9[1]);
e7.N2(ea,[0,0,b9[2]-b9[0],b9[3]-b9[1]])}else{if(gt._Bezier&&gt._Bezier._Points){var c=gt._Bezier._Points,dA=parseFloat(c[0].slice(1)),e9=parseFloat(c[1].slice(1));
if(dA!=0||e9!=0){eb.translate(dA,e9)}}}if(gt._Data&&gt._Data._FrameMatrix){var eI=gt._Data._FrameMatrix;
eI=eI.map(function(cM){return parseFloat(cM.slice(1))});eb.concat(new hN(eI[0],eI[1],eI[2],eI[3],eI[4],eI[5]))}eb.concat(z.add.TySh.i);
z.add.TySh.i=eb;var s=iD._Type?parseInt(iD._Type.slice(1)):0;if(s==2||s==1&&iD._PathData&&iD._PathData._Spacing=="i-3")if(gt._Bezier){var d9=function(cM){return parseFloat(cM.slice(1))},c=gt._Bezier._Points.map(d9);
if(b9)I.C.i(c,new hN(1,0,0,1,-b9[0],-b9[1]),c);var f9=iD._PathData?iD._PathData._Reversed:!1,e4=iD._TextOnPathTRange;
if(e4==null)e4=["f-3","f-3"];ea.Curve={Points:c,TextOnPathTRange:e4.map(d9),Reversed:f9==null?!1:f9};
z.add.TySh.add={vmsk:new cc.hF,vogk:null};e7.eZ(z.add.TySh)}if(iD._LineOrientation=="i2")ea._LineOrientation=2}}$.FX.fS(C,!0);
var cj={},d6=[];for(var Y=0;Y<C.M.length;Y++){var ko=C.M[Y].add.lyid;if(ko==null)continue;var i4=Math.max(i4,ko);
if(cj[ko]!=null)d6.push(Y);else cj[ko]=!0}for(var Y=0;Y<d6.length;Y++)C.M[d6[Y]].add.lyid=i4+1+Y};gZ.avQ=function(i,C){C+=12;
var m=W.Q(i,C),e=[];C+=4;m=Math.min(m,Math.floor((i.length-C)/5));for(var Y=0;Y<m;Y++){var z=Math.min(i[C+Y*5+4],1),L=W.xz(i,C+Y*5)/32;
e.push([z,L])}return e};gZ.ay0=function(i){var C=new DOMParser,m=C.parseFromString(i,"text/xml").firstChild.children[0],e=m.getElementsByTagName("variables");
if(e.length==0)return[];e=e[0].children;var z=[],L="varName trait docRef placementMethod align valign clip".split(" ");
for(var l=0;l<e.length;l++){var x=e[l],S={};z.push(S);for(var k=0;k<L.length;k++){var f=L[k],X=x.getAttribute(f);
if(X==null)continue;S[f]=X}}return z};gZ.axX=function(i){var C=new DOMParser,m=C.parseFromString(i,"text/xml").firstChild.children,e=[[]];
if(m==null)return e;for(var Y=0;Y<m.length;Y++){var z=m[Y],L=[];e.push(L);for(var l=0;l<z.children.length;
l++){var x=z.children[l];if(Y==0)e[0].push(x.tagName);L.push(x.textContent)}}return e};gZ.hz=function(i,C,m){$.FX.GM(i);
$.FX.fS(i,!1);i.Hy=m[3]==!0;var e=[],z=[],n=0,Q=1,P=16,ir=0;for(var Y=0;Y<i.M.length;Y++){var L=i.M[Y];
if(L.k_()&&L.x6(i).X){L.add.SoLd.filterFX.v.filterMaskEnable.v=L.x6(i).X.isEnabled}if(L.add.TySh){var l=L.add.TySh.Wg,x=e7.c$(l);
L.add.TySh.m_.TextIndex={t:"long",v:e.length};e.push(l);if(x==2)e7.l7(L.add.TySh)}var S=L.add.vstk;if(S)S.strokeStyleResolution.v=i.lC;
if(L.Q9()||m[2]&&L.add.SoLd){z[Y]=[L.rect,L.buffer];L.rect=new j2;L.buffer=I.R(0);if(L.add.SoLd){var k=L.x6(i);
if(k!=null){z[Y].push(k.buffer);k.buffer=I.R(k.buffer.length)}}}}if(e.length>0){var f=i.add.Txt2?i.add.Txt2.sd:null;
if(i.add.Txt2==null)i.add.Txt2={};i.add.Txt2.sd=dP.aal(e,null,f)}var X=[i.add.lnk2,i.add.FEid,i.add.Patt],o=i.afD(i.M);
i.abI(o);i.Yl.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);W.aA6(i.Yl.r1005,0,i.lC);W.aA6(i.Yl.r1005,8,i.lC);
if(i.cU.length>0){var A=i.cU;i.Yl.r1073=new Uint8Array(8+A.length*14);W.zw(i.Yl.r1073,0,3);W.zw(i.Yl.r1073,4,A.length);
for(var Y=0;Y<A.length;Y++){var P=8+14*Y;W.qe(i.Yl.r1073,P,14);W.bT(i.Yl.r1073,P+2,A[Y].y);W.bT(i.Yl.r1073,P+6,A[Y].x);
W.qe(i.Yl.r1073,P+10,-1);W.qe(i.Yl.r1073,P+12,8)}}if(i.Ex()){i.Yl.r1022=new Uint8Array([0,3+i.T3.length-1,0])}else delete i.Yl.r1022;
var F=new Uint8Array(i.M.length*2),R=new Uint8Array(i.M.length);for(var Y=0;Y<i.M.length;Y++){var L=i.M[Y],s=L.MW,j=L.mI?1:0;
W.$g(F,Y*2,s);R[Y]=j;if(s>n)n=s;if(j==0)Q=0}if(n>0)i.Yl.r1026=F;if(Q<1)i.Yl.r1072=R;var _=i.Nb,B=_.length,N=i.Yl.r1032=I.R(16+5*B,!0);
W.CA(N,0,1);W.CA(N,4,576);W.CA(N,8,576);W.CA(N,12,B);for(var Y=0;Y<B;Y++){W.zw(N,P,Math.round(_[Y][1]*32));
N[P+4]=_[Y][0];P+=5}if(m[4]!=!0){var a=[i.buffer,new j2(0,0,i.m,i.J)],O=0;I.aq(a);while(a[O+1].P()>200*200)O+=2;
var H=i$.AL("jpg"),q=a[O+1],h=new Uint8Array(H.B3([[a[O].buffer]],q.m,q.J)),N=i.Yl.r1036=new Uint8Array(28+h.length);
W.CA(N,0,1);W.CA(N,4,q.m);W.CA(N,8,q.J);W.CA(N,12,q.m*3);W.CA(N,16,q.P()*3);W.CA(N,20,h.length);W.$g(N,24,24);
W.$g(N,26,1);N.set(h,28)}var D=I.Rz(i.buffer);if(i.add.fcmy)D=!1;var T=[];if(D)T.push({name:"Transparency",GN:{Z:255,r:0,e:0},RW:100,rp:1});
T=T.concat(i.T3);delete i.Yl.r1045;delete i.Yl.r1006;delete i.Yl.r1077;var p=new ac;P=0;var y=new Uint8Array(4+T.length*13);
y[3]=1;for(var Y=0;Y<T.length;Y++){var b=T[Y],g=b.name+"\0";W.O6(p,P,g);P+=4+g.length*2;var u=4+Y*13;
j1.IT(y,u,b.GN);y[u+11]=b.RW;y[u+12]=b.rp}if(P!=0)i.Yl.r1045=p.data.slice(0,P);i.Yl.r1077=y;for(var Y=0;
Y<i.xE.length;Y++)i.xE[i.xE.length-Y-1].v.sliceID.v=2+Y*3;var t={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:i.xE}},p=new ac;
W.RG(p,0,8);W.RG(p,4,16);var V=hM.mt(p,t,8);i.Yl.r1050=p.data.slice(0,V+8);var p=new ac;W.RG(p,0,16);
var V=hM.mt(p,i.Rk,4);i.Yl.r1065=p.data.slice(0,V+4);var c=i.g;N=i.Yl.r1069=I.R(2+c.length*4,!0);W.$g(N,0,c.length);
for(var Y=0;Y<c.length;Y++)W.CA(N,2+4*Y,i.M[c[Y]].add.lyid);delete i.Yl.r1058;delete i.Yl.r1060;if(Object.keys(i.tr).length!=0){var E=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
kB.Li(i.tr,E[0],m[0]&&m[1]);i.Yl.r1058=new Uint8Array(UTIF.encode(E));var Z=kB.P_(i.tr);i.Yl.r1060=W.x5(Z)}var G=[],J=[],K=i.DI.slice(0);
if(i.a3){var M=cV.axe([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),U=new cc.hF;
U.$=M;K.push(ei.ew("Tile Symmetry 1",{vmsk:U,vogk:cc.tO(M)}))}for(var Y=0;Y<K.length;Y++){var r=K[Y],M=r.add.vmsk.$;
if(Y==0&&M.length==2)continue;var dS=I.R(M.length*26);cV.sg(dS,0,M,i.m,i.J);var w=Y==0?1025:2e3+Y-1;
i.Yl["r"+w]=dS;if(Y!=0){var di={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:r.name}};if(r.name=="Tile Symmetry 1")di.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
G.push({t:"Objc",v:di});J.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:r.add.vogk}}})}}if(G.length!=0){i.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:G}};
if(i.a3)i.add.pths.pathSymmetrySelectedPath={t:"long",v:G.length-1};J={classID:"null",keyRootDescriptorList:{t:"VlLs",v:J}};
var p=new ac;W.RG(p,0,16);var V=hM.mt(p,J,4);i.Yl.r3000=p.data.slice(0,V+4)}else{delete i.add.pths;delete i.Yl.r3000}if(i.WT&&i.WT.length!=0){i.Yl.r4000=I.WT.hz(i.WT)}if(i.ut.length!=0){var eM="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var Y=0;Y<i.ut.length;Y++){var j5=i.ut[Y],ds=[];for(var w in j5)ds.push(w+"=\""+j5[w]+"\"");eM+="<variable "+ds.join(" ")+">\n</variable>\n"}eM+="</variables>\n</variableSet>\n</variableSets>";
i.Yl.r7000=W.x5(eM)}if(i.yp.length!=0){var eM="<sampleDataSets psdPath=\""+i.name+"\">\n";for(var Y=1;
Y<i.yp.length;Y++){var ba=i.yp[Y];eM+="<sampleDataSet dataSetName=\"Data Set "+Y+"\">\n";for(var gH=0;
gH<ba.length;gH++)eM+="<"+i.yp[0][gH]+">"+ba[gH].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+i.yp[0][gH]+">\n";
eM+="</sampleDataSet>\n"}eM+="</sampleDataSets>";i.Yl.r7001=W.x5(eM)}ir=gZ.axQ(i,C,ir,3+T.length);ir=gZ.aym(i,C,ir);
ir=gZ.aw$(i,C,ir);ir=gZ.as9(i,C,ir,m,D);ir=gZ.a3N(i,C,ir,m[0],D);var iP=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var Y=0;Y<iP.length;Y++)delete i.Yl["r"+iP[Y]];for(var Y=0;Y<i.M.length;Y++){var L=i.M[Y];if(L.Q9()||m[2]&&L.add.SoLd){L.rect=z[Y][0];
L.buffer=z[Y][1];if(z[Y][2]){var k=L.x6(i);z[Y].push(k.buffer);k.buffer=z[Y][2]}}}i.abI(X);$.FX.fS(i,!0);
delete i.Hy;return ir};gZ.ME=function(i,C,m){var e=W.Sq(C,m,4);m+=4;if(e!="8BPS")alert("invalid header signature: "+e);
var z=W.vV(C,m);m+=2;i.Hy=z==2;if(z!=1&&z!=2)alert("invalid version: "+z);m+=6;i.Nu=W.vV(C,m);m+=2;i.J=W.xz(C,m);
m+=4;i.m=W.xz(C,m);m+=4;i.G0=W.vV(C,m);m+=2;i.z0=W.vV(C,m);m+=2;return m};gZ.axQ=function(i,C,m,e){var z=i.add.fcmy==1;
C.uG(0,64);W.AW(C.data,m,"8BPS");m+=4;W.$g(C.data,m,i.Hy?2:1);m+=2;W.CA(C.data,m,0);m+=4;W.$g(C.data,m,0);
m+=2;W.$g(C.data,m,e+(z?1:0));m+=2;W.zw(C.data,m,i.J);m+=4;W.zw(C.data,m,i.m);m+=4;W.$g(C.data,m,8);
m+=2;W.$g(C.data,m,z?4:3);m+=2;return m};gZ.a9l=function(i,C,m){var e=W.xz(C,m);m+=4;if(e!=0)i.GI=C.slice(m,m+e);
m+=e;return m};gZ.aym=function(i,C,m){W.Qr(C,m,0);m+=4;return m};gZ.a8T=function(i,C,m){var e=W.Q(C,m),z=0;
m+=4;var L=[];while(z<e){var l=W.Sq(C,m+z,4);z+=4;var x=W.vV(C,m+z);z+=2;var S=W.d4(C,m+z);z+=S.length;
if(l=="MeSa"&&(x==7e3||x==7001)){}else if(l!="8BIM"){L.push(x);console.log("Unknown Image Resources signature: "+l+", ID: "+x)}var k=W.Q(C,m+z);
z+=4;if(i.Yl["r"+x]!=null)console.log("--- two resources with same ID");i.Yl["r"+x]=W.jS(C,m+z,k);z+=k+(k&1)}for(var Y=0;
Y<L.length;Y++)delete i.Yl["r"+L[Y]];return m+e};gZ.aw$=function(i,C,m){var e=m,l=0;m+=4;var z=[];for(var L in i.Yl){z.push(parseInt(L.slice(1)))}z.sort(function(X,o){return X-o});
for(var Y=0;Y<z.length;Y++){var x=z[Y];W.HC(C,m+l,x==7e3||x==7001?"MeSa":"8BIM");l+=4;W.g7(C,m+l,x);
l+=2;var S=W.fj(C,m+l,"");l+=S;var k=i.Yl["r"+x],f=k.length;W.RG(C,m+l,f);l+=4;W.I2(C,m+l,k);l+=f;if(f%2==1)l++}W.RG(C,e,l);
return m+l};gZ.aba=function(i,C,m){var e=m,z,L,l=i.Hy?8:4;if(i.Hy)z=W.AR(C,m);else z=W.Q(C,m);m+=l;if(z==0)return e+l;
L=gZ.a19(i,C,m);gZ.I3(1,L-m,"Layer Info");m=L;L=gZ.ag$(i,C,m);gZ.I3(1,L-m,"Global Layer Mask Info");
m=L;L=cX.apy(C,m,e+l+z,i.add,i.Hy,i);gZ.I3(1,L-m,"Project Add Info");m=L;return e+l+z};gZ.as9=function(i,C,m,e,z){var L=m;
W.RG(C,m,0);m+=4;if(i.Hy){W.RG(C,m,0);m+=4}m=gZ.alk(i,C,m,e,z);m=gZ.atF(i,C,m);m=cX.aC5(C,m,i.add,i.Hy,i);
if(i.Hy)W.NO(C,L,m-L-8);else W.RG(C,L,m-L-4);return m};gZ.a19=function(i,C,m){var e,z=i.Hy?8:4;if(i.Hy)e=W.AR(C,m);
else e=W.Q(C,m);m+=z;if(e!=0)gZ.$H(i,C,m);return m+e};gZ.$H=function(i,C,m){var e=W.x1(C,m);m+=2;var z=Math.abs(e);
for(var Y=0;Y<z;Y++){var L=new cc;m=jV.uU(L,i,C,m);i.M[Y]=L}var l=new j2(0,0,i.m,i.J);for(var Y=0;Y<z;
Y++){var x=i.M[Y],S=x.Re(),k=ej.uU(x,i,C,m);if(k-m>8)gZ.I3(2,k-m,"Lay: "+x.getName());m=k;gZ.afm(x,l);
if(S)gZ.afm(S,l)}};gZ.afm=function(i,C){};gZ.alk=function(i,C,m,e,z){var L=m,l=i.Hy;m+=l?8:4;m=gZ.anN(i,C,m,e,z);
var x=m-L-(l?8:4);if(x%2!=0)x++;if(l)W.NO(C,L,x);else W.RG(C,L,x);return L+x+(l?8:4)};gZ.anN=function(i,C,m,e,z){var L=i.M.length;
W.Ip(C,m,z?-L:L);m+=2;var l=[];for(var Y=0;Y<L;Y++)m=jV.hz(i.M[Y],i,C,m,l);for(var Y=0;Y<L;Y++)m=ej.Em(i.Hy,i.M[Y],C,m,l[Y],e,i.add.fcmy==1);
return m};gZ.ag$=function(i,C,m){var e=W.Q(C,m);m+=4;m+=e;return m};gZ.atF=function(i,C,m){var e=W.RG(C,m,0);
m+=4;return m};gZ.aBT=function(i,C,m){var e=i.z0,z="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),L=[1,1,1,3,4,1,1,3],l,F;
if(e!=3){if(e==1||e==2||e==4)console.log("Project will be converted from "+z[e]+" to "+z[3]+" mode.");
else{alert("Color mode "+z[e]+" is not supported yet :(")}if(e==4)i.add.fcmy=1}if(i.Yl.r1045){l=[];var x=i.Yl.r1045,S=0;
while(S<x.length){var k=W.r8(x,S);l.push(k);S+=4+2+k.length*2}}var f=L[e]+(l==null||l[0]=="Transparency"?1:0),X=i.m,o=i.J,A=X*o,P=W.vV(C,m);
m+=2;i.buffer=I.R(A*4);I.eS(i.buffer,4278190080);var n=m;for(var R=0;R<i.Nu;R++){if(P==0){F=ej.Ao(i.Hy,i.G0,C,X,o,m,P);
m+=A*(i.G0>>>3)}else if(P==1){F=I.R(A);var Q=i.Hy?4:2;if(R==0)m+=i.Nu*o*Q;m+=ej.aqx(C,F,X,o,n+R*o*Q,m,Q)}else{console.log("unknown compression of image data: ",P);
return}if(R<f){I.uC(F,i.buffer,R);if(i.Nu==1&&R==0){I.uC(F,i.buffer,1);I.uC(F,i.buffer,2)}}else{var s=new cc.o7,j=R-f,_=R-L[i.z0];
s.name=l?l[_]:"Alpha";if(s.name=="Quick Mask"){s.S0=!0;i.Xk.push(j)}s.rect=new j2(0,0,X,o);s.channel=F;
s.color=0;s.gv();i.T3[j]=s;if(i.Yl.r1077){var x=i.Yl.r1077.slice(4+_*13);s.GN=j1.L4(x,0);s.RW=x[11];
s.rp=x[12];if(s.rp==2)s.S0=!0}}}i.Nu=4;if(i.z0==2)for(var Y=0;Y<A;Y++){var B=Y*4,N=i.buffer[B];i.buffer[B]=i.GI[0+N];
i.buffer[B+1]=i.GI[256+N];i.buffer[B+2]=i.GI[512+N]}return m};gZ.a3N=function(i,C,m,e,z){var L=1,l=16,x=i.m,S=i.J,f,X;
W.g7(C,m,L);m+=2;var k=x*S;if(!e){X=new I.RV(x*S);I.M8(i.buffer,X);var o=X.Z,A=X.r,P=X.e,F=X.W;for(var Y=0;
Y<k;Y++){var n=F[Y]*(1/255);o[Y]=~~(o[Y]*n+255*(1-n));A[Y]=~~(A[Y]*n+255*(1-n));P[Y]=~~(P[Y]*n+255*(1-n))}}else f=I.R(k);
var R=[f,f,f];if(!e)R=[X.Z,X.r,X.e];if(i.add.fcmy==1){var Q=f;if(!e){Q=I.R(k);Q.fill(255)}R.push(Q)}if(z)R.push(e?f:X.W);
for(var Y=0;Y<i.T3.length;Y++){R.push(i.T3[Y].Hp(new j2(0,0,i.m,i.J)))}var s=m;for(var j=0;j<R.length;
j++){C.uG(m,x*S+4);f=R[j];if(L==0||L==2||L==3)m=ej.dk(i.Hy,f,C.data,x,S,m,L);else{var _=i.Hy?4:2;if(j==0)m+=R.length*S*_;
var B=m;m+=ej.afF(f,C.data,x,S,s+j*S*_,m,_)}}return m};function el(){}el.uU=function(i){var C={};el.n2(i,C,0,0);
return C};el.hz=function(i,C){var m=0;m=el.lP(i,C,m,0);return m};el.n2=function(i,C,m,e){while(i[m]!="<".charCodeAt(0))m++;
m+=2;while(!0){if(i[m]=="/".charCodeAt(0)){m++;var z=W.indexOf(i," ".charCodeAt(0),m,m+50),L=W.indexOf(i,"\n".charCodeAt(0),m,m+50);
if(L==-1)L=Infinity;if(z==-1)z=Infinity;var l=Math.min(L,z),x=W.Sq(i,m,l-m),S=el.Pi(i,l+1,e+1,x);C[x]=S.b;
m=l+1;m+=S.size}else if(i[m]==">".charCodeAt(0)){m+=2;break}else{var k=i[m];if(k==10||k==9||k==32)m++;
else{console.log("unknown byte: "+k+", char: "+String.fromCharCode(k),m);m++}}}return m};el.lP=function(i,C,m,e){W.HC(C,m,"<<\n");
m+=3;var z=el.aeU;for(var L in i){W.dd(C,m,"\t".charCodeAt(0),e+1);m+=e+1;W.HC(C,m,"/"+L);m+=1+L.length;
if(z(i[L])||i[L]instanceof Array){W.HC(C,m," ");m++}else{W.HC(C,m,"\n");m++;W.dd(C,m,"\t".charCodeAt(0),e+1);
m+=e+1}m=el.d8(i[L],C,m,e+1);W.HC(C,m,"\n");m++}W.dd(C,m,"\t".charCodeAt(0),e);m+=e;W.HC(C,m,">>");m+=2;
return m};el.Pi=function(i,C,m,e){var z=C,L={size:0,b:0};while(!0){while(i[C]==" ".charCodeAt(0)||i[C]=="\t".charCodeAt(0)||i[C]=="\n".charCodeAt(0))C++;
if(i[C]=="<".charCodeAt(0)){L.b={};C=el.n2(i,L.b,C,m+1);break}else if(i[C]=="(".charCodeAt(0)){C+=3;
var l=C;while(!0){if(i[l-1]!="\\".charCodeAt(0)&&i[l]==")".charCodeAt(0)&&(i[l+1]=="\n".charCodeAt(0)||i[l+1]==" ".charCodeAt(0)))break;
else l++}L.b=W.au6(i,C,l);C=l+2;break}else if(i[C]=="[".charCodeAt(0)){C++;L.b=[];while(i[C]==" ".charCodeAt(0)||i[C]=="\t".charCodeAt(0)||i[C]=="\n".charCodeAt(0))C++;
while(i[C]!="]".charCodeAt(0)){var x=el.Pi(i,C,m+1,e);L.b.push(x.b);C+=x.size;while(i[C]==" ".charCodeAt(0)||i[C]=="\t".charCodeAt(0)||i[C]=="\n".charCodeAt(0))C++}C++;
break}else{var S=W.indexOf(i," ".charCodeAt(0),C,C+50),k=W.indexOf(i,"\n".charCodeAt(0),C,C+50);if(k==-1)k=Infinity;
if(S==-1)S=Infinity;var f=W.Sq(i,C,Math.min(S,k)-C).trim(),X=parseFloat(f);if(!isNaN(X)){L.b=parseFloat(f);
C=Math.min(S,k)+1;break}else if(f=="true"||f=="false"){L.b=f=="true";C=Math.min(S,k)+1;break}else if(f=="null"||f=="NaN"||f=="undefined"){L.b=0;
C=Math.min(S,k)+1;break}else{console.log("unknown identifier: "+f);throw"e"}C=Math.min(S,k)+1}}L.size=C-z;
return L};el.d8=function(i,C,m,e){if(i instanceof Array){var z=i.length==0||typeof i[0]=="number";if(z){W.HC(C,m,"[ ");
m+=2;for(var Y=0;Y<i.length;Y++){var L=i[Y]+" ";W.HC(C,m,L);m+=L.length}W.HC(C,m,"]");m+=1}else{W.HC(C,m,"[\n");
m+=2;for(var Y=0;Y<i.length;Y++){W.dd(C,m,"\t".charCodeAt(0),e);m+=e;m=el.d8(i[Y],C,m,e);W.HC(C,m,"\n");
m++}W.dd(C,m,"\t".charCodeAt(0),e);m+=e;W.HC(C,m,"]");m+=1}}else if(i instanceof Object){m=el.lP(i,C,m,e)}else if(typeof i=="string"){W.HC(C,m,"(");
m++;W.dd(C,m,254);m++;W.dd(C,m,255);m++;m=W.akO(C,m,i);W.HC(C,m,")");m+=1}else{var L=i+"";W.HC(C,m,L);
m+=L.length}return m};el.aeU=function(i){var C=typeof i;return C=="string"||C=="number"||C=="boolean"};
function jP(){}jP.uU=function(i){var C={};jP.a12(i,C,0,0);return C};jP.hz=function(i,C){var m=0;W.HC(C,m," ");
m++;m=jP.awy(i,C,m,0);m--;C.uG(m,2);C.data[m]=C.data[m+1]=0;m+=2;return m};jP.n2=function(i,C,m,e){while(i[m]!="<".charCodeAt(0)){m++;
console.log("šipka")}m+=2;m=jP.a12(i,C,m,e);return m};jP.lP=function(i,C,m,e){W.HC(C,m,"<< ");m+=3;m=jP.awy(i,C,m,e);
W.HC(C,m,">>");m+=2;return m};jP.FC=function(i){return i==9||i==10||i==32};jP.a12=function(i,C,m,e){while(!0){while(jP.FC(i[m])||i[m]==0)m++;
if(m>=i.length)break;if(i[m]=="/".charCodeAt(0)){m++;var z=m;while(!jP.FC(i[z]))z++;var L=W.Sq(i,m,z-m);
m=z+1;var l=jP.Pi(i,m,e,L);C["_"+L]=l.b;m+=l.size}else if(i[m]==">".charCodeAt(0)){m+=2;break}else{var x=i[m];
console.log(W.Sq(i,m,m+100));console.log("unknown byte: "+x+", char: "+String.fromCharCode(x)+", offset: "+m);
m++;throw"e";return-1}}return m};jP.awy=function(i,C,m,e){for(var z in i){var L=z.substring(1,z.length);
W.HC(C,m,"/"+L);m+=1+L.length;W.HC(C,m," ");m++;m=jP.d8(i[z],C,m,e+1,L);W.HC(C,m," ");m++}return m};
jP.Pi=function(i,C,m,e){var z=C,L={type:"",size:0,b:0};while(jP.FC(i[C]))C++;if(i[C]=="<".charCodeAt(0)){L.type="Object";
L.b={};C=jP.n2(i,L.b,C,m+1)}else if(i[C]=="(".charCodeAt(0)){L.type="String";C++;if(i[C]==")".charCodeAt(0)){L.b="e";
C++}else if(i[C]==254&&i[C+1]==255){C+=2;var l=C,x=0;while(!0){if(i[l]==")".charCodeAt(0)&&i[l-1]!="\\".charCodeAt(0))break;
else l+=1}L.b="s"+W.au6(i,C,l);C=l+2}else{var l=C;while(i[l]!=")".charCodeAt(0))l++;L.b="s"+W.Sq(i,C,l-C);
C=l+1}}else if(i[C]=="[".charCodeAt(0)){C++;L.b=[];L.type="Array";while(jP.FC(i[C]))C++;while(i[C]!="]".charCodeAt(0)){var S=jP.Pi(i,C,m+1,e);
if(S==-1)return-1;L.b.push(S.b);C+=S.size;delete S.size;while(jP.FC(i[C]))C++}C++}else{var k=C;while(!jP.FC(i[k]))k++;
var f=W.Sq(i,C,k-C),X=parseFloat(f);if(!isNaN(X)&&f.indexOf(".")!=-1){L.type="Float";var o=parseFloat(f);
L.b="f"+o}else if(!isNaN(X)&&f.indexOf(".")==-1){L.type="Integer";L.b="i"+parseInt(f)}else if(f=="true"||f=="false"){L.type="Boolean";
L.b=f=="true"}else if(f.charAt(0)=="/"){L.type="BString";L.b=f}else if(f=="NaN"||f=="undefined"){L.type="Float";
L.b="f0"}else{console.log("unknown value",JSON.stringify(f));throw"e"}C=k+1}L.size=C-z;return L};jP.af$=function(i){if(i==Math.round(i))return i+".0";
var C=i.toFixed(5);while(C.endsWith("0")&&C[C.length-2]!=".")C=C.slice(0,C.length-1);if(0<i&&i<1)C=C.slice(1);
if(-1<i&&i<0)C="-"+C.slice(2);return C};jP.d8=function(i,C,m,e,z){var L=typeof i=="string"?i.charAt(0):"";
if(i instanceof Array){W.HC(C,m,"[ ");m+=2;for(var Y=0;Y<i.length;Y++){m=jP.d8(i[Y],C,m,e,"");W.HC(C,m," ");
m++}W.HC(C,m,"]");m+=1}else if(i instanceof Object){m=jP.lP(i,C,m,e)}else if(L=="e"){W.HC(C,m,"()");
m+=2}else if(L=="s"){W.HC(C,m,"(");m++;if(z=="97"){W.HC(C,m,i.slice(1));m+=i.length-1}else{W.dd(C,m,254);
m++;W.dd(C,m,255);m++;m=W.akO(C,m,i.slice(1))}W.HC(C,m,")");m++}else if(L=="/"){W.HC(C,m,i);m+=i.length}else if(L=="f"){var l=parseFloat(i.substring(1)),x=jP.af$(l);
W.HC(C,m,x);m+=x.length}else if(L=="i"){W.HC(C,m,i.substring(1));m+=i.length-1}else{var x=i+"";W.HC(C,m,x);
m+=x.length}return m};function W(){}W.awV=function(k7){var i="";for(var Y=3;Y>=0;Y--)i+=String.fromCharCode(k7>>Y*8&255);
return i};W.a0B=function(i){var k7=0;for(var Y=i.length-1;Y>=0;Y--)k7|=i.charCodeAt(Y)<<(3-Y)*8;return k7};
W.indexOf=function(i,C,m,e){if(m==null)m=0;if(e==null)e=i.length;e=Math.min(e,i.length);for(var Y=m;
Y<e;Y++)if(i[Y]==C)return Y;return-1};W.Fo=function(i,C,m){if(m==null)m=0;var e=C.length,z=i.length-e;
if(typeof C=="string"){var L=[];for(var Y=0;Y<e;Y++)L.push(C.charCodeAt(Y));C=L}if(C.length>0){var l=C[0];
for(var Y=m;Y<z;Y++)if(i[Y]==l){var x=!0;for(var S=1;S<e;S++)if(C[S]!=i[Y+S]){x=!1;break}if(x)return Y}}return-1};
W.au6=function(i,C,m){var e=[],L="";while(C<m){var z=i[C++];if(z=="\\".charCodeAt(0))e.push(i[C++]);
else e.push(z)}for(var Y=0;Y<e.length;Y+=2)L+=String.fromCharCode(e[Y]<<8|e[Y+1]);return L};W.adC=function(i,C,m){var e=new Uint8Array(2);
for(var Y=0;Y<m.length;Y++){W.$g(e,0,m.charCodeAt(Y));if(e[0]==")".charCodeAt(0)||e[0]=="(".charCodeAt(0)||e[0]=="\\".charCodeAt(0)){i[C]="\\".charCodeAt(0);
C++}i[C]=e[0];C++;if(e[1]==")".charCodeAt(0)||e[1]=="(".charCodeAt(0)||e[1]=="\\".charCodeAt(0)){i[C]="\\".charCodeAt(0);
C++}i[C]=e[1];C++}return C};W.akO=function(i,C,m){i.uG(C,4*m.length);return W.adC(i.data,C,m)};W.gh=function(i,C,m){var e="";
for(var Y=0;Y<m;Y++){var z=i[C++]|i[C++]<<8;e+=String.fromCharCode(z)}return e};W.Yh=function(i,C,m){var e="";
for(var Y=0;Y<m;Y++){var z=i[C++]<<8|i[C++];e+=String.fromCharCode(z)}return e};W.as2=function(i,C,m){for(var Y=0;
Y<m.length;Y++){var e=m.charCodeAt(Y);W.ZO(i,C+2*Y,e)}};W.a2Y=function(i,C,m){for(var Y=0;Y<m.length;
Y++){var e=m.charCodeAt(Y);W.$g(i,C+2*Y,e)}};W.anF=function(i,C,m){i.uG(C,2*m.length);W.a2Y(i.data,C,m)};
W.agA=function(i,Y,C){var m=[],e=0,z=0;C+=Y;while(Y<C){e=i[Y++];if((e&128)==0)z=e;else if((e&224)==192){z=(e&31)<<6;
e=i[Y++];z|=e&63}else if((e&240)==224){z=(e&15)<<12;e=i[Y++];z|=(e&63)<<6;e=i[Y++];z|=e&63}else if((e&248)==240){z=(e&7)<<18;
e=i[Y++];z|=(e&63)<<12;e=i[Y++];z|=(e&63)<<6;e=i[Y++];z|=e&63}else throw"e";m.push(z)}return m};W.aAh=window.TextDecoder?new window.TextDecoder("utf8"):null;
W.U8=function(i,C,m){if(C==null)C=0;if(m==null)m=i.length;if(W.aAh&&C==0&&m==i.length)return W.aAh.decode(i);
var e=W.agA(i,C,m),z=e.length;for(var Y=0;Y<z;Y++)e[Y]=String.fromCharCode(e[Y]);return e.join("")};
W.afT=window.TextEncoder?new window.TextEncoder("utf8"):null;W.x5=function(i){if(W.afT)return W.afT.encode(i);
var C=new Uint8Array(i.length*4),m=W.ab(i,C,0);return C.slice(0,m)};W.ab=function(i,C,m){var e=i.length,Y=0;
for(var z=0;z<e;z++){var L=i.charCodeAt(z);if((L&4294967295-(1<<7)+1)==0){C[m+Y]=L;Y++}else if((L&4294967295-(1<<11)+1)==0){C[m+Y]=192|L>>6;
C[m+Y+1]=128|L>>0&63;Y+=2}else if((L&4294967295-(1<<16)+1)==0){C[m+Y]=224|L>>12;C[m+Y+1]=128|L>>6&63;
C[m+Y+2]=128|L>>0&63;Y+=3}else if((L&4294967295-(1<<21)+1)==0){C[m+Y]=240|L>>18;C[m+Y+1]=128|L>>12&63;
C[m+Y+2]=128|L>>6&63;C[m+Y+3]=128|L>>0&63;Y+=4}else throw"e"}return Y};W.K5=function(i,C){var m=W.Q(i,C),e=W.U8(i,C+4,m-1);
return{ve:e,A5:4+m}};W.a3w=function(i,C){var m=W.nO(i,C),e=W.gh(i,C+4,m);return e};W.vK=function(i,C){var m=W.Q(i,C),e=W.Yh(i,C+4,m);
return e};W.r8=function(i,C){var m=W.Q(i,C),e=W.Yh(i,C+4,m-1);return e};W.asn=function(i,C,m){W.Bz(i,C,m.length);
C+=4;W.as2(i,C,m)};W.a6w=function(i,C,m){W.CA(i,C,m.length);C+=4;W.a2Y(i,C,m)};W.O6=function(i,C,m){i.uG(C,4+2*m.length);
W.a6w(i.data,C,m)};W.a99=function(i,C,m){i.uG(C,4+2*m.length);W.asn(i.data,C,m)};W.Lt=function(i,C,m){var e=[];
for(var Y=0;Y<m;Y++)e.push(String.fromCharCode(i[C+Y]));return e};W.aem=function(i,C,m){var e=!1,z=i.length-m.length;
for(var Y=C;Y<z;Y++){for(var L=0;L<m.length;L++){if(i[Y+L]!=m.charCodeAt(L))break;if(L==m.length-1)return Y}}};
W.Sq=function(i,C,m){var e="";for(var Y=0;Y<m;Y++)e+=String.fromCharCode(i[C+Y]);return e};W.AW=function(i,C,m){for(var Y=0;
Y<m.length;Y++)i[C+Y]=m.charCodeAt(Y)};W.HC=function(i,C,m){i.uG(C,m.length);W.AW(i.data,C,m)};W.aaD=function(i,C,m){var e="";
for(var Y=0;Y<m;Y++){var z=i[C+Y];if(z<10)e+="  ";else if(z<100)e+=" ";e+=z+", "}return e};W.vV=function(i,C){return i[C]<<8|i[C+1]};
W.$g=function(i,C,k7){i[C]=k7>>8&255;i[C+1]=k7&255};W.g7=function(i,C,k7){i.uG(C,4);W.$g(i.data,C,k7)};
W.Oq=function(i,C){var m=W.vV(i,C),e=W.vV(i,C+2);return m+e*(1/65536)};W.aA6=function(i,C,k7){var m=Math.floor(k7),e=Math.floor((k7-m)*65536);
W.$g(i,C,m);W.$g(i,C+2,e)};W.yX=function(i,C){return i[C+1]<<8|i[C]};W.ZO=function(i,C,k7){i[C+1]=k7>>8&255;
i[C]=k7&255};W.c2=function(i,C,k7){i.uG(C,4);W.ZO(i.data,C,k7)};W.x1=function(i,C){W.Xb[0]=i[C+1];W.Xb[1]=i[C];
return W.Xx[0]};W.lY=function(i,C){W.Xb[0]=i[C];W.Xb[1]=i[C+1];return W.Xx[0]};W.qe=W.$g;W.Ip=W.g7;W.xz=function(i,C){W.u6[0]=i[C+3];
W.u6[1]=i[C+2];W.u6[2]=i[C+1];W.u6[3]=i[C];return W.Lk[0]};W.zw=function(i,C,k7){W.Lk[0]=k7;i[C+3]=W.u6[0];
i[C+2]=W.u6[1];i[C+1]=W.u6[2];i[C+0]=W.u6[3]};W.Qr=function(i,C,k7){i.uG(C,4);W.zw(i.data,C,k7)};W.fD=function(i,C,m,e){m[e+0]=i[C+0];
m[e+1]=i[C+1];m[e+2]=i[C+2];m[e+3]=i[C+3]};W.nO=function(i,C){W.fD(i,C,W.u6,0);return W.a1z[0]};W.Bz=function(i,C,k7){W.a1z[0]=k7;
W.fD(W.u6,0,i,C)};W.cY=function(i,C,k7){i.uG(C,4);W.Bz(i.data,C,k7)};W.NC=function(i,C){W.fD(i,C,W.u6,0);
return W.Lk[0]};W.aCq=function(i,C,k7){W.Lk[0]=k7;W.fD(W.u6,0,i,C)};W.a7b=function(i,C,k7){i.uG(C,4);
W.aCq(i.data,C,k7)};W.Q=function(i,C){var m=i[C]*(256*256*256)+(i[C+1]<<16|i[C+2]<<8|i[C+3]);return m};
W.CA=function(i,C,k7){i[C]=k7>>24&255;i[C+1]=k7>>16&255;i[C+2]=k7>>8&255;i[C+3]=k7>>0&255};W.RG=function(i,C,k7){i.uG(C,4);
W.CA(i.data,C,k7)};W.AR=function(i,C){return W.Q(i,C)<<32|W.Q(i,C+4)};W.aoG=function(i,C,k7){W.CA(i,C,k7>>16>>16);
W.CA(i,C+4,k7&4294967295)};W.NO=function(i,C,k7){i.uG(C,8);W.aoG(i.data,C,k7)};W.Me=function(i,C){var m=new Uint8Array(8);
for(var Y=0;Y<8;Y++)m[Y]=i[C+7-Y];var e=new Float64Array(m.buffer);return e[0]};W.uw=function(i,C){var m=new Uint8Array(8);
for(var Y=0;Y<8;Y++)m[Y]=i[C+Y];var e=new Float64Array(m.buffer);return e[0]};W.le=function(i,C,k7){var m=new Float64Array(1);
m[0]=k7;var e=new Uint8Array(m.buffer);for(var Y=0;Y<4;Y++){var z=e[Y];e[Y]=e[7-Y];e[7-Y]=z}for(var Y=0;
Y<8;Y++)i[C+Y]=e[Y]};W.EN=function(i,C,k7){i.uG(C,8);W.le(i.data,C,k7)};W.dU=function(i,C){W.u6[0]=i[C+3];
W.u6[1]=i[C+2];W.u6[2]=i[C+1];W.u6[3]=i[C+0];return W.Dl[0]};W.Bp=function(i,C){W.u6[0]=i[C+0];W.u6[1]=i[C+1];
W.u6[2]=i[C+2];W.u6[3]=i[C+3];return W.Dl[0]};W.bT=function(i,C,k7){W.Dl[0]=k7;i[C+0]=W.u6[3];i[C+1]=W.u6[2];
i[C+2]=W.u6[1];i[C+3]=W.u6[0]};W.ab5=function(i,C,k7){i.uG(C,4);W.bT(i.data,C,k7)};W.zF=function(i,C,k7){W.Dl[0]=k7;
i[C+0]=W.u6[0];i[C+1]=W.u6[1];i[C+2]=W.u6[2];i[C+3]=W.u6[3]};W.aA_=function(i,C,k7){i.uG(C,4);W.zF(i.data,C,k7)};
W.afg=function(i,C){var m=W.xz(i,C),e=m*(1/(1<<24));return e};W.aku=function(i,C,m){var e=Math.floor(m*(1<<24));
W.zw(i,C,e)};W.anV=function(i,C,m){i.uG(C,4);W.aku(i.data,C,m)};W.d4=function(i,C){var m=i[C],e=W.Sq(i,C+1,m);
m+=1-m%2;return{qm:e,length:m+1}};W.acY=function(i,C,m){var e=m.length;i[C]=e;W.AW(i,C+1,m);if(e%2==0){i[C+1+e]=0;
++e}return e+1};W.fj=function(i,C,m){i.uG(C,m.length+2);return W.acY(i.data,C,m)};W.J0=function(i,C){var m=new hN;
m.W=W.Me(i,C+0*8);m.e=W.Me(i,C+1*8);m.xF=W.Me(i,C+2*8);m.o6=W.Me(i,C+3*8);m.W_=W.Me(i,C+4*8);m.Rj=W.Me(i,C+5*8);
return m};W.Xh=function(i,C,m){W.le(i,C+0*8,m.W);W.le(i,C+1*8,m.e);W.le(i,C+2*8,m.xF);W.le(i,C+3*8,m.o6);
W.le(i,C+4*8,m.W_);W.le(i,C+5*8,m.Rj)};W.aaN=function(i,C,m){i.uG(C,48);W.Xh(i.data,C,m)};W.a7v=function(i,C){var m=W.dU(i,C),e=W.dU(i,C+4),z=W.dU(i,C+8),L=W.dU(i,C+12);
return new j2(m,e,z-m,L-e)};W.apP=function(i,C,m){W.bT(i,C,m.x);W.bT(i,C+4,m.y);W.bT(i,C+8,m.x+m.m);
W.bT(i,C+12,m.y+m.J)};W.at1=function(i,C,m){i.uG(C,16);W.apP(i.data,C,m)};W.hc=function(i,C){var m=W.xz(i,C),e=W.xz(i,C+4),z=W.xz(i,C+8),L=W.xz(i,C+12);
return new j2(e,m,L-e,z-m)};W.a2m=function(i,C,m){W.zw(i,C,m.y);W.zw(i,C+4,m.x);W.zw(i,C+8,m.y+m.J);
W.zw(i,C+12,m.x+m.m)};W.WZ=function(i,C,m){i.uG(C,16);W.a2m(i.data,C,m)};W.jS=function(i,C,m){var e=new Uint8Array(m);
for(var Y=0;Y<m;Y++)e[Y]=i[C+Y];return e};W.aet=function(i,C,m){i.set(m,C)};W.I2=function(i,C,m){i.uG(C,m.length);
W.aet(i.data,C,m)};W.aey=function(i,C,m,k7){if(!k7)k7=1;for(var Y=0;Y<k7;Y++)i[C+Y]=m};W.dd=function(i,C,m,k7){if(!k7)k7=1;
i.uG(C,k7);W.aey(i.data,C,m,k7)};W.Xx=new Int16Array(1);W.Xb=new Uint8Array(W.Xx.buffer);W.Lk=new Int32Array(1);
W.a1z=new Uint32Array(W.Lk.buffer);W.u6=new Uint8Array(W.Lk.buffer);W.Dl=new Float32Array(W.Lk.buffer);
function hX(){}hX.uU=function(i,C){var m=new Uint8Array(i),e=0,z=W.Sq(m,e,9),x=4,S=100;e+=9;var L=W.Sq(m,e,4);
e+=4;e++;C.m=W.Q(m,e);e+=4;C.J=W.Q(m,e);e+=4;var l=W.Q(m,e);e+=4;if(l!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(L)==-1){S=W.Q(m,e);e+=4;if(parseInt(L.slice(1))>=7){S=S}else alert("Unknown XCF version: "+L);
x=8}var k={};e=hX.Gj(m,e,k);var f=[];e=hX.i4(m,e,f,x);var X=[];e=hX.i4(m,e,X,x);C.hB=0;for(var Y=0;Y<f.length;
Y++)hX.a67(m,f[Y],C,k,x,S);while(C.hB>0){C.M.push(C.b$());C.hB--}C.M.reverse();delete C.hB;C.buffer=I.R(C.m*C.J*4);
if(C.M.length==0)console.log("No layers!!!");for(var Y=0;Y<X.length;Y++){var o=hX.a0$(m,X[Y],k,x,S);
if(o.IG[c6.abX])C.u={channel:o.Fr,rect:new j2(0,0,C.m,C.J)}}};hX.a67=function(i,C,m,e,z,L){var l=m.Sv(),x=W.Q(i,C),X=0;
C+=4;var S=W.Q(i,C);C+=4;l.rect=new j2(0,0,x,S);var k=W.Q(i,C);C+=4;var f=W.K5(i,C);C+=f.A5;l.yY(f.ve);
var o={};C=hX.Gj(i,C,o);if(o[c6.av3]){var A=o[c6.av3];X=A.length/4-1}if(o[c6.T1]){l.rect.x=W.xz(o[c6.T1],0);
l.rect.y=W.xz(o[c6.T1],4)}if(o[c6.a68]){l.opacity=W.Q(o[c6.a68],0)}if(o[c6.a96]){l.add.lsct=aU.AY;l.de=24}if(o[c6.azY]){var P=W.Q(o[c6.azY],0);
l.fn=c6.a77[P];if(l.yJ()&&l.fn=="norm")l.fn="pass"}if(o[c6.abj]){if(W.Q(o[c6.abj],0)==0)l.de+=2}if(o[c6.azA]){var F=W.Q(o[c6.azA],0);
l.add.lsct=F&1==1?aU.AY:aU.Lp}if(o[c6.qJ]){var n=o[c6.qJ];for(var R in n){var Q=n[R];if(R=="gimp-text-layer"){var s=hX.a4X(Q),j=s.text,_=s.font,B=s.color,N=s["font-size"];
if(j==null&&s.markup){var a=new DOMParser,O=a.parseFromString(s.markup,"image/svg+xml");while(O.firstChild!=null&&O.firstChild.tagName!=null){O=O.firstChild;
var H=O.getAttribute("font"),q=O.getAttribute("foreground"),h=O.getAttribute("size");if(H!=null)_=H;
if(q!=null){q=CSS.L4(q);B=[1,q.Z/255,q.r/255,q.e/255]}if(h!=null){N=""+parseFloat(h)/245}}j=O.textContent}l.add.lnsr="rend";
l.add.TySh=e7._x(0,0);l.add.TySh.l$=new j2(0,0,100,100);l.add.TySh.i=new hN(1,0,0,1,l.rect.x,l.rect.y);
var D=l.add.TySh.Wg;e7.cQ(D,0,j);var T=e7.IF(D,0,0),p=s.justify,y=s["line-spacing"];if(B)T.hU.FillColor={Type:1,Values:[1,parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])]};
if(N){N=Math.round(parseFloat(N));T.hU.FontSize=N;l.add.TySh.i.Rj+=Math.min(17,N*.17)}if(y){y=Math.round(parseFloat(y)+T.hU.FontSize*1.2);
T.hU.Leading=y;T.hU.AutoLeading=!1}if(p)T.t7.Justification=["left","right","center","fill"].indexOf(p);
if(_&&_!="Sans-serif"){var b=_.toLowerCase(),g="bold italic semi extra regular condensed light".split(" "),u=b.length;
for(var Y=0;Y<g.length;Y++){var t=b.indexOf(g[Y]);if(t!=-1&&t<u&&b[t-1]==" ")u=t}if(u!=b.length)_=_.slice(0,u-1).split(" ").join("")+"-"+_.slice(u).split(" ").join("");
e7.Ca(T,_)}e7.Bl(D,0,j.length,T);var V=s["box-width"],c=s["box-height"],E=V?parseFloat(V):l.rect.m,Z=c?parseFloat(c):l.rect.J;
e7.k8(D,1);e7.N2(D,[0,0,Math.ceil(E),Math.ceil(Z)])}else console.log("Unknown property "+R)}}while(m.hB>X){m.M.push(m.b$());
m.hB--}m.hB=X;if(l.add.lsct==aU.AY||l.add.lsct==aU.Lp)m.hB++;var G=z==4?W.Q:W.AR,J=G(i,C);C+=z;var K=G(i,C);
C+=z;if(l.rq()){l.buffer=I.R(l.rect.P()*4);var M=new I.RV(l.rect.P());hX.aop(i,J,M,e,z,L);I.bb(M,l.buffer)}if(K!=0){l.X=new cc.o7;
var U=hX.a0$(i,K,e,z,L);l.X.channel=U.Fr;l.X.rect=l.rect.clone();if(o[c6.a9L])l.X.isEnabled=W.Q(o[c6.a9L],0)==1;
l.X.color=l.X.channel[0];l.X.gv()}if(l.yJ())l.rect=new j2;m.M.push(l)};hX.a4X=function(i){var C="("+W.U8(i,0,i.length-1)+")",m=[],e={};
hX.a7w(C,1,m);hX.a2M(m,e);return e};hX.a2M=function(i,C){for(var Y=0;Y<i.length;Y++){var m=i[Y],e=m[0];
if(m.length==2)C[e]=m[1];else C[e]=m.slice(1)}};hX.a7w=function(i,C,m){while(!0){if(C>=i.length)throw"e";
var e=i.charAt(C);C++;if(e=="("){var z=[];C=hX.a7w(i,C,z);m.push(z)}else if(e==" "||e=="\n"||e=="\r"){}else if(e==")")return C;
else if(e=="\""){var L=C;while(!0){var l=i[C];C++;if(l=="\"")break;if(l=="\\")C++}m.push(JSON.parse(i.slice(L-1,C)))}else{var L=C-1;
while(i[C]!=" "&&i[C]!=")")C++;m.push(i.slice(L,C))}}};hX.a0$=function(i,C,m,e,z){var L=W.Q(i,C);C+=4;
var l=W.Q(i,C);C+=4;var x=W.K5(i,C);C+=x.A5;var S={};C=hX.Gj(i,C,S);var k=new I.RV(L*l),f=e==4?W.Q:W.AR,X=f(i,C);
C+=e;hX.aop(i,X,k,m,e,z);return{Fr:k.Z,IG:S}};hX.aop=function(i,C,m,e,z,L){var l=W.Q(i,C);C+=4;var x=W.Q(i,C);
C+=4;var S=W.Q(i,C);C+=4;var k=z==4?W.Q:W.AR,f=k(i,C);C+=z;hX.az0(i,f,m,e,S,z,L)};hX.az0=function(i,C,m,e,z,L,l){var x=W.Q(i,C),f=0,Y=0;
C+=4;var S=W.Q(i,C);C+=4;var k=new j2(0,0,x,S);if(l==100||l==150)f=1;else if(l==200||l==250)f=2;else if(l==300||l==350)f=4;
else if(l==500||l==550)f=2;else if(l==600||l==650)f=4;else if(l==700||l==750)f=8;else{alert("unsupported bit depth "+l);
throw"e"}var X=z/f,f=Math.round(z/X),o=[];C=hX.i4(i,C,o,L);var A=new I.RV(64*64*f),P=new j2,F=e[c6.ao7][0],n=[A.Z,A.r,A.e,A.W];
if(X==3)A.W.fill(255);var R=Date.now();if(o.length!=0)for(var Q=0;Q<S;Q+=64)for(var s=0;s<x;s+=64){var j=Math.min(x-s,64),_=Math.min(S-Q,64),B=j*_;
P.zy(s,Q,j,_);hX.adw(i,o[Y++],B*f,F,X,n);if(l==100||l==150){}else if(l==250){for(var N=0;N<X;N++){var a=n[N];
for(var O=0;O<B;O++){var H=a[O]<<8|a[B+O];a[O]=Math.min(H>>>8,255)}}}else if(l==600){var q=hX.ab1(),h=new Uint32Array(1),D=new Float32Array(h.buffer);
for(var N=0;N<X;N++){var a=n[N];for(var O=0;O<B;O++){h[0]=a[O]<<24|a[B+O]<<16|a[(B<<1)+O]<<8|a[(B<<1)+B+O]<<0;
var T=D[0];if(T<0)T=0;else if(T>1)T=1;a[O]=q[~~(.5+T*1e3)]}}}else console.log("unknown data format",l);
I.qd(A,P,m,k)}};hX.ab1=function(){var i=hX.a8F;if(i!=null)return i;i=hX.a8F=new Uint8Array(1001);for(var Y=0;
Y<1001;Y++)i[Y]=~~(.49+255*I.ie(Y*.001));return i};hX.adw=function(i,C,m,e,z,L){if(e==1){for(var l=0;
l<z;l++){var x=L[l],S=0;while(S<m){var k7=i[C];C++;if(k7<127){var k=i[C];C++;k7++;for(var Y=0;Y<k7;Y++)x[S+Y]=k}else if(k7==127){var f=i[C];
C++;var X=i[C];C++;var k=i[C];C++;k7=f<<8|X;for(var Y=0;Y<k7;Y++)x[S+Y]=k}else if(k7==128){var f=i[C];
C++;var X=i[C];C++;k7=f<<8|X;for(var Y=0;Y<k7;Y++)x[S+Y]=i[C+Y];C+=k7}else{k7=256-k7;for(var Y=0;Y<k7;
Y++)x[S+Y]=i[C+Y];C+=k7}S+=k7}}}else if(e==2){var o=pako.inflate(i.slice(C)),A=Math.round(o.length/m);
for(var Y=0;Y<m;Y++){var P=Y*A;L[0][Y]=o[P];L[1][Y]=o[P+1];L[2][Y]=o[P+2];L[3][Y]=A==3?255:o[P+3]}}else alert("Unknown compression "+e)};
hX.i4=function(i,C,m,e){var z=e==4?W.Q:W.AR;while(!0){var L=z(i,C);C+=e;if(L==0)break;else m.push(L)}return C};
hX.Gj=function(i,C,m){while(!0){var e=W.Q(i,C);C+=4;var z=W.Q(i,C);C+=4;if(e==c6.aav)break;else if(e==c6.qJ)m[e]=hX.adu(i,C,C+z);
else m[e]=W.jS(i,C,z);C+=z}return C};hX.adu=function(i,C,m){var e={};while(C<m){var z=W.K5(i,C);C+=z.A5;
var L=W.Q(i,C);C+=4;if(L!=1)console.log("unknown flags",L);var l=W.Q(i,C);C+=4;e[z.ve]=W.jS(i,C,l);C+=l}return e};
var c6={aav:0,al3:1,ard:2,ab2:3,abX:4,afn:5,a68:6,azY:7,abj:8,alL:9,aBf:10,a9L:11,aoA:12,aAb:13,aDY:14,T1:15,atS:16,ao7:17,aap:18,afz:19,a5T:20,qJ:21,aDg:22,a7n:23,aCU:24,alr:25,ahJ:26,aoM:27,afU:28,a96:29,av3:30,azA:31,ac5:32,a2d:33,aCm:34,abB:35,acf:36,a1$:37,axc:38,aeF:0,aek:1,a0V:2,abW:3,afX:1,abZ:2,avY:0,aC_:1,atH:1};
c6.a77="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var dV=function(){var i=!1,C,m,R=0,j;function e(){var N=W.Sq(C,m,4);m+=4;return N[3]+N[2]+N[1]+N[0]}function z(){var N=W.Sq(C,m,4);
m+=4;return N}function L(){var N=C[m];m+=1;return N}function l(){var N=W.yX(C,m);m+=2;return N}function x(){var N=W.nO(C,m);
m+=4;return N}function S(){var N=W.NC(C,m);m+=4;return N}function k(){var N=W.nO(C,m);m+=8;return N}function f(){var N=W.Bp(C,m);
m+=4;return N}function X(){var N=W.uw(C,m);m+=8;return N}function o(){var N=W.yX(C,m),a=W.U8(C,m+2,N);
m+=2+N;return a}function A(){var N=W.nO(C,m),a=W.U8(C,m+4,N);m+=4+N;return a}function P(N){m=N;var a=[];
while(m!=0){var O=z();if(O!="#FT4"&&O!="#FT3"&&O!="#FT2")throw O;var H=k(),q=k(),h=k(),D=k(),T=k(),p=x(),y=x(),b=x(),g=l(),u=L(),t={};
a.push(t);for(var Y=0;Y<p;Y++){var V=x(),c=L();if(c!=0&&c!=1&&c!=2)throw c;var E=[];if(c==0||c==1){var Z=k(),G=k(),J=k(),K=x(),M=L(),U=x(),r=O!="#FT4"?0:x(),dS=null;
if(O=="#FAT"||O=="#FT2"){switch(M){case 1:M=1;break;case 2:M=65;break;case 3:M=129;break;case 4:M=193;
break;default:M=0;break}}if(c==0)dS=o();E=[Z,G,J,M,dS]}t["i"+V]=[c,E]}for(var Y=0;Y<g;Y++){var w=l(),di=l(),eM=k(),j5=W.Sq(C,m,w);
m+=w}m=H}a.reverse();for(var ds=1;ds<a.length;ds++){var t=a[ds],ba=a[ds]=JSON.parse(JSON.stringify(a[ds-1]));
for(var gH in t){var ir=t[gH];if(ir[0]==0)ba[gH]=ir;else if(ir[0]==1){ir[1][4]=ba[gH][1][4];ba[gH]=ir}else if(ir[0]==2)delete ba[gH]}}var iP=a.pop(),iy=[];
for(var gH in iP)iy.push(iP[gH][1]);iy.sort(function(iG,eg){return iG[0]-eg[0]});return iy}function F(N,a,O,H){while(m<C.length){var q=L(),p=null;
if(q==0){if(H){var h=L();if(h!=2){var D=e()}if(h==0)m+=4;H=!1;continue}else{break}}var T=e();if(i)console.log("  ".repeat(a),q,q&127,T,N._type);
if(q>127)p=n(q,a,O);else p=Q(q,a,O);if(i)console.log("  ".repeat(a),p);N[T]=p}}function n(N,a,O){var H=[];
N=N&127;if(N==43)m+=4;var q=x();if(N==50){var h=e(),D=l();if(D!=1)throw"e";for(var Y=0;Y<q;Y++){var T={_status:"NotShared",_type:h};
H.push(T);var p=L();if(p!=1)throw p;F(T,a+1,O)}}else if(N==41){if(q>8)throw q;for(var Y=0;Y<q;Y++)H.push((C[m]>>>Y&1)==1);
m++}else for(var Y=0;Y<q;Y++){H.push(Q(N,a,O,Y!=0));if(N==42)N=2}return H}function Q(N,a,O,H){var q=null;
if(N==49){q={};var h=L();if(h!=0){var D=x();if(O==null){q._id=D;q._status=["Shared","Link"][h-1]}if(O&&h==2)q=O[D];
if(h==1){if(O)O[D]=q;var T=L(),p=!1;if(T>1)throw T;q._type=e();if(i)console.log("  ".repeat(a),"new",q._type,T,m);
if(T==0){while(!0){var y=l();if(y!=0&&y!=1&&y!=2&&y!=3&&y!=4)throw y;if(C[m]!=0){p=!0;break}var b=l();
if(b==512)break;var g=e();if(b==256)break}}F(q,a+1,O,p)}}}else if(N==50){q={_status:"NotShared"};if(L()==1){q._type=e();
m+=2;F(q,a+1,O)}}else if(N==1)q={type:"byte",value:L()};else if(N==2)q={type:"uint16",value:l()};else if(N==3)q={type:"uint32",value:x()};
else if(N==4)q={type:"uint64",value:k()};else if(N==7)q={type:"int32",value:S()};else if(N==8)q={type:"int64",value:k()};
else if(N==9)q={type:"float32",value:f()};else if(N==10)q={type:"float64",value:X()};else if(N==21)q={type:"Vec2i",value:[x(),x()]};
else if(N==23)q={type:"Vec4i",value:[x(),x(),x(),x()]};else if(N==33)q={type:"Vec4f",value:[f(),f(),f(),f()]};
else if(N==36)q={type:"Vec2",value:[X(),X()]};else if(N==38)q={type:"Vec4",value:[X(),X(),X(),X()]};
else if(N==40)q={type:"Vec6",value:[X(),X(),X(),X(),X(),X()]};else if(N==41)q={type:"bool",value:L()!=0};
else if(N==42)q={type:"Enum",value:x()};else if(N==43)q={type:"string",value:A()};else if(N==44){if(H!=!0)R=l();
q={type:"curv16",value:[X(),R==12?[L(),L(),L(),L()]:[x(),x()]]}}else if(N==45){var u=x();q={type:"buff",value:C.slice(m,m+u)};
m+=u}else if(N==47){q={type:"uint32",value:x()}}else if(N==48){var t=[],V=l();if(V!=1)throw V;while(!0){if(C[m]==135){var c=n(L(),a+1,O),E=n(L(),a+1,O),Z=n(L(),a+1,O);
t.push([c,E,Z])}else{var G=1;if(C[m]==3){L();G=x()}for(var Y=0;Y<G;Y++){if(L()!=41)throw"e";var D=L();
if(D!=0&&D!=1)throw D;if(L()!=172)throw"e";var J=x(),K=l(),M=[];t.push(M);if(K!=18)throw K;if(J>4e3)throw J;
for(var U=0;U<J;U++)M.push([X(),X(),L(),L()])}}if(C[m]==0){m++;break}}q={type:"curve",value:t}}else if(N==51){q={type:"EmbeddedData"};
q[e()]=A()}else if(N==52)q={type:"uint32",value:x()};else if(N==56)q={type:"Color32",value:[L(),L(),L(),L()]};
else if(N==60)q={type:"ColorGRAY",value:[f(),f()]};else if(N==68)q={type:"ColorRGBA",value:[f(),f(),f(),f()]};
else if(N==72)q={type:"ColorCMYK",value:[f(),f(),f(),f(),f()]};else{throw N}return N==49||N==50||N==51?q:q.value}function s(N){var a=0,O=N.length;
for(var Y=0;Y<O;Y++)N[Y]=a=a+N[Y]&255}function _(N){C=N;m=4;var a=x(),O=z();if(O!="nsrP")throw O;var O=z();
if(O!="#Inf")throw O;var H=k();j=k();var q=k(),h=k(),D=k(),T=x(),p=x(),O=z();if(O!="Prot")throw O;var T=x(),y=P(H),b={},g=Date.now();
for(var u=0;u<y.length;u++){var t=y[u],V=t[3],J=null;m=t[0];var O=z();if(O!="#Fil")throw O;var c=V>>>5&1,E=V&3,Z=V&192;
switch(Z){case 64:Z=1;c=0;break;case 128:Z=2;break;case 192:Z=3;break;default:Z=0;c=0}var G=new Uint8Array(C.buffer,m,t[2]);
if(E==0)J=G;else if(E==1)J=pako.inflate(G);else if(E==2)J=i$.vD.KH(G,t[1]);else throw E;if(c==0){if(Z==1)s(J);
if(Z==2)throw"e"}else if(c==1){if(Z==2)s(J);else throw Z}else throw c;b[t[4]]=J}return b}function B(N){var a=_(new Uint8Array(N));
C=a["doc.dat"];m=16;var O={};F(O,0,[]);return[a,O,j]}return{a8Y:B}}();function fh(){}fh.uU=function(){function i(A,P){var F=Date.now(),n=dV.a8Y(A),R=n[0],Q=n[1],s=n[2],j=Q.DocR,_=j.DfSz,B=j.Chld;
if(B.length!=1)console.log(B);var N=B[0],a=N.SprB;B=N.Chld;P.m=~~a[2];P.J=~~a[3];P.buffer=I.R(P.m*P.J*4);
var O=[0,{}];for(var Y=0;Y<B.length;Y++)z(B[Y],P,R,new hN,O,0);P.Ra(O[0]);console.log(Date.now()-F,"Document created");
F=Date.now()}function C(A){return new hN(A[0],A[3],A[1],A[4],A[2],A[5])}function m(A,P){var F=P.Xfrm;
F=F?C(F):new hN;F.concat(A);return F}function e(A){var P={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[A];
return P?P:"norm"}function z(A,P,F,n,R,Q){var s=A._type,j=A.Chld,_=P.Sv();_.yY(A.Desc==null||A.Desc==""?s=="Grup"?"Folder":"Layer":A.Desc);
_.fJ(A.Visi);_.opacity=Math.round(255*A.Opac);if(A.FOpc!=1)_.add.iOpa=Math.round(255*A.FOpc);var B=A.Blnd;
if(B!=null)_.fn=e(B);var N=m(n,A),a=s=="ShpN"||s=="PCrv";if(j){P.M.push(P.b$());_.add.lsct=aU.AY;_.fn="pass";
_.de=24;if(s=="ShpN"){var O=A.ShpB;_.bQ(new j2(O[0]+N.W_,O[1]+N.Rj,O[2]-O[0],O[3]-O[1]));R[0]++;_.add.artb.Clr={t:"Objc",v:I.I.$q({Z:255,r:255,e:255})}}for(var Y=0;
Y<j.length;Y++)z(j[Y],P,F,N,R,Q+1)}else if(s=="Rstr"||s=="ImgN"||s=="MRst"){var H=A.Bitm,q=H.Bckg,h=Date.now(),D;
if(q==null){D=k(H,F,R[1]);_.rect=D[2].clone();_.buffer=D[1].slice(0);_.rect.x+=N.W_;_.rect.y+=N.Rj}if(q||N.je()!=1){var T,p=0,y=0;
if(q){var b=F[q.Data],g=W.Fo(b,"ataD")+4,u=W.nO(b,g);g+=4;T=b.slice(g,g+u)}else{p=_.rect.x-N.W_;y=_.rect.y-N.Rj;
if(D[3]==null)D[3]=new Uint8Array(i$.AL("PNG").B3([[_.buffer.buffer]],_.rect.m,_.rect.J));T=D[3].slice(0)}var t=P.Mf(T,_.getName(),0,0);
t.de=_.de;t.opacity=_.opacity;_=t;var V=new hN;V.translate(p,y);V.concat(N);var c=_.rect.clone();c.x=c.y=0;
var E=I.C.Ym(c).j;I.C.i(E,V,E);_.add.SoLd.Trnf=$.V.xN(E);_.add.SoLd.nonAffineTransform=$.V.xN(E);_.g1(P,!1)}}else if(s=="TxtA"||s=="TxtF"){_.add.lnsr="rend";
_.add.TySh=e7._x(0,0);_.add.TySh.l$=new j2(0,0,100,100);var Z=A.TxtH.FrmB,G=1,J=1,K=_.add.TySh.i=new hN,w=0;
K.translate(Z[0],Z[1]);K.concat(N);if(s=="TxtF"){var M=Math.atan2(-K.e,K.W);K.rotate(-M);G=K.W;J=K.o6;
K.o6=K.W=1;K.rotate(M)}var U=_.add.TySh.Wg,r=A.StSt,dS=r.Blok;if(dS.length!=1)throw"e";for(var di=0;
di<dS.length;di++){var eM=dS[di],j5=w,ds=0,ba=eM.Glyp.Utf8;if(ba==null)continue;ba=ba.replace(/\u2028/g,"\n");
ba=ba.replace(/\u2029/g,"\n");ba=ba.slice(0,ba.length-1);if(ba=="")continue;_.yY(ba.slice(0,255));e7.cQ(U,w,ba);
w+=ba.length;var gH=eM.GAtt.Runs,ir=eM.PAtt.Runs[0],iP=ir.Item.Ints[0];for(var iy=0;iy<gH.length;iy++){var iG=gH[iy],eg=iG.Indx,du=iG.Item,gh=du.Objs,ga=e7.IF(U,j5,1);
ga.t7.Justification=iP==0?0:iP==1?2:1;e7.Ca(ga,du.DFnt.Post);ga.hU.FontSize=du.Doub[0];for(var Y=0;Y<gh.length;
Y++){var d5=gh[Y];if(d5._type=="FDsc"){var fu=d5.FDeF;if(fu._type=="FilS"){var ay=S(fu.Colr);ga.hU.FillColor={Type:1,Values:[1,ay[0],ay[1],ay[2]]}}}}e7.Bl(U,j5+ds,j5+Math.min(eg,ba.length),ga);
ds=eg}}e7.k8(U,1);e7.N2(U,[0,0,Math.round((Z[2]-Z[0])*G),Math.round((Z[3]-Z[1])*J*1.2)]);P.qK=!0}else if(a){_.de|=16;
var c7=_.add.vstk=jt.lc.TQ(!0),eE=_.add.vmsk=L(A);I.o.Pa(eE.$,N);if(A.BFFl){var jn=A.BFFl[0].FDeF,dI=jn._type;
if(dI=="FilS")_.add.SoCo={classID:"null",Clr:x(jn.Colr)};else if(dI=="FilG"){var dQ=_.add.GdFl=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]);
l(jn,dQ)}else if(dI=="FilN"){_.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}};c7.fillEnabled.v=!1}else console.log(dI)}if(A.LILn){var hT=A.LILn[0].LDeL,ea=hT.Wght;
if(ea!=0){c7.strokeEnabled.v=!0;c7.strokeStyleLineWidth.v.val=ea;var jn=A.LIFl[0].FDeF,dI=jn._type;if(dI=="FilS")c7.strokeStyleContent.v.Clr=x(jn.Colr);
else if(dI=="FilN")c7.strokeEnabled.v=!1}}_.tO();_.rH(P)}else console.log(s);var b9=A.AdCh,bI=[];if(b9)for(var Y=0;
Y<b9.length;Y++){var ii=b9[Y],d_=ii._type;if(d_=="ShpN"||d_=="PCrv"){var eE=_.add.vmsk=L(ii),c4=m(N,ii);
I.o.Pa(eE.$,c4);_.tO();_.rH(P)}else if(ii.AdjP){var kG=ii.AdjP,fC=kG._type,bO={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[fC];
if(bO==null){console.log(kG);continue}var id=ft.eF(bO,{});bI.push(id);var a5=id.v.Fltr.v;if(fC=="LevP"){var eU=ao.t1(a5,0);
eU[0]=kG.OutB*255;eU[1]=kG.OutW*255;ao.gH(a5,0,eU)}else if(fC=="WhBP"){var eU=ao.t1(a5,2);eU[4]=100+kG.WBTi*20;
ao.gH(a5,2,eU);var eU=ao.t1(a5,3);eU[4]=100+kG.WBTi*200;ao.gH(a5,3,eU)}else if(fC=="HSSP"){var eU=jK.t1(a5,0);
eU[0]=Math.round(kG.HueA*256);eU[1]=Math.round(kG.SatA*256);eU[2]=Math.round(kG.LumA*256);jK.gH(a5,0,eU)}else if(fC=="RecP"){a5.Clrz.v=!0;
var eU=jK.t1(a5,0);eU[0]=Math.round(kG.RecH*100);eU[1]=Math.round(kG.RecS*100);eU[2]=Math.round(kG.RecL*100);
jK.gH(a5,0,eU)}else if(fC=="B&CP"){a5.Brgh.v=Math.round(kG.Brig*100);a5.Cntr.v=Math.round(kG.Ctrs*100-100)}else if(fC=="PosP"){a5.Lvls.v=kG.Post}else if(fC=="VibP"){a5.vibrance.v=kG.Vibr-100;
a5.Strt.v=Math.round(kG.Satu*100)}else if(fC=="ExpP"){a5.Exps.v=kG.Expo;a5.gammaCorrection.v=kG.Gamm/2.2}else if(fC=="ThrP"){a5.Lvl.v=Math.round(kG.Thre*255)}else if(fC=="CrvP"){var af=kG.Mast["Cnt "],a7=kG.Mast.Vals,eU=aA.t1(a5,0),g$=eU[0];
for(var cg=0;cg<af;cg++){var cC=eU[cg]=JSON.parse(JSON.stringify(g$));cC.v.Hrzn.v=Math.round(a7[cg]*255);
cC.v.Vrtc.v=Math.round(a7[4+cg]*255)}aA.gH(a5,0,eU)}}else console.log(ii)}if(bI.length!=0&&_.add.SoLd){_.add.SoLd.filterFX=ft.sB();
P.tH({id:_.add.SoLd.placed.v,rect:new j2,buffer:I.R(1),X:new cc.o7});_.add.SoLd.filterFX.v.filterFXList.v=bI;
_.g1(P,!1)}var kF=A.FiEf;if(kF&&kF.length!=0){var am=_.add.lmfx=JSON.parse(jt.default);for(var Y=0;Y<jt.order.length;
Y++)am[jt.m8[Y]]={t:"VlLs",v:[]};for(var cJ=0;cJ<kF.length;cJ++){var fX=kF[cJ],hP=fX._type,kx={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[hP],dQ=kx?JSON.parse(jt.qx[jt.order.indexOf(kx)]):null;
if(hP=="ColO"){dQ.Clr=x(fX.Colr)}else if(hP=="GrdO"){l(fX.GrFl.FDeF,dQ)}else if(hP=="Shad"||hP=="InnS"||hP=="OutG"||hP=="InnG"){dQ.Clr=x(fX.Colr);
dQ.blur.v.val=Math.round(fX.Radi/2.4);if(fX.Offs!=null){dQ.Dstn.v.val=fX.Offs;dQ.lagl.v.val=Math.round(180-fX.Angl*180/Math.PI);
dQ.uglg.v=!1}}else if(hP=="Strk"){dQ.Clr=x(fX.Colr);dQ.Sz.v.val=Math.round(fX.Radi)}else if(hP=="PhgB"||hP=="BevE"){dQ.blur.v.val=Math.round(fX.Radi);
if(hP=="BevE")dQ.bvlS.v.BESl="PlEb"}else if(hP=="Gaus"){if(a&&fX.Enab){_.add.vmsk.JQ=fX.Radi/2.4;_.add.vmsk.kL=!0;
_.tO();_.rH(P)}}if(kx){dQ.enab.v=fX.Enab;if(dQ.Md&&fX.BlnM!=null)dQ.Md.v.BlnM=aw.An(e(fX.BlnM));if(dQ.Opct&&fX.Opac!=null)dQ.Opct.v.val=Math.round(fX.Opac*100);
var f2=jt.m8[jt.order.indexOf(kx)];am[f2].v.unshift({t:"Objc",v:dQ})}}}P.M.push(_)}function L(A){var P=new cc.hF,F=A._type;
if(F=="PCrv"){var n=A.Crvs.Data,R=[],Q=[];for(var Y=0;Y<n.length;Y++){var s=n[Y],j=s.length%3;if(j!=1){s=j==2?s[0][2]!=0?s.slice(0,s.length-1):s.slice(1):s.slice(1,s.length-1)}for(var _=0;
_<s.length;_++){var B=s[_],N=B[2];if(N!=0)R.push(_==0?"M":"C");Q.push(B[0],B[1])}}P.$=I.C.aZ({j:Q,G:R},!0)}else{var a=A.ShpB,O=A.Shpe,H=O._type,q=a[2]-a[0];
if(H=="ShpE"){P.$=I.o.vC.Xl(a[0],a[1],a[2]-a[0],a[3]-a[1])}else if(H=="ShNR"){var h=[0,0,0,0];if(O.CTyp){h=O.ShCR.slice(0);
for(var Y=0;Y<4;Y++)h[Y]*=a[2]-a[0]}P.$=I.o.vC.Rect(a[0],a[1],a[2]-a[0],a[3]-a[1],h)}else if(H=="ShpT"){P.$=I.C.aZ({G:["M","L","L","Z"],j:[a[0],a[3],a[2],a[3],a[0]+q*.5,a[1]]},!0)}else if(H=="ShTz"){P.$=I.C.aZ({G:["M","L","L","L","Z"],j:[a[0]+q*O.PosL,a[1],a[0]+q*O.PosR,a[1],a[2],a[3],a[0],a[3]]},!0)}else{console.log("--",H);
P.$=I.o.vC.Rect(a[0],a[1],a[2]-a[0],a[3]-a[1],[0,0,0,0])}}return P}function l(A,P){var F=A.Grad,n=F.Cols;
P.Type.v.GrdT=A.Type==0?"Lnr":"Rdl";var R=[];for(var Y=0;Y<n.length;Y++){var Q=S(n[Y]);R.push([F.Posn[Y][0],Q])}P.Grad.v.Intr.v=0;
I.I.Sc(R,P.Grad.v);var s=F.Posn,j=new b5(s[0][0],s[0][1]),_=new b5(s[1][0],s[1][1]);if(A.Type==0)j=new b5((j.x+_.x)/2,(j.y+_.y)/2);
I.I.dV(j,_,new j2(0,0,1,1),P)}function x(A){var P=S(A);return{t:"Objc",v:I.I.$q({Z:P[0]*255,r:P[1]*255,e:P[2]*255})}}function S(A){var P=A._col,F=A._type;
if(F=="HSLA"){var n=I.Bc(P[0],P[1],P[2]);return[n.Z,n.r,n.e,P[3]]}else if(F=="RGBA")return P;else if(F=="CMYK")return I.gO(P);
else if(F=="GRAY")return[P[0],P[1],P[2]];else{console.log(P);throw F}}function k(A,P,F){var n=A.Frmt,h="";
if(n!=0&&n!=1&&n!=4&&n!=6)throw n;var R=A.BmpW,Q=A.BmpH,s=n==1?128:256,j=n==4?5:n==0||n==1?4:1,_=Math.ceil(R/s),B=Math.ceil(Q/256),N=new j2(0,0,_,B),a=new j2;
for(var Y=0;Y<j;Y++){var O=new Uint8Array(A["Sta"+(Y+1)]),H=I.yP(O,N);a=a.Z0(H)}var q=[];for(var Y=0;
Y<j;Y++){var O=new Uint8Array(A["Sta"+(Y+1)]),D=I.R(a.P());I.Vo(O,N,D,a);q[Y]=[];for(var T=0;T<D.length;
T++)q[Y][T]=D[T];h+=JSON.stringify(q[Y])+","+JSON.stringify(A["Idx"+(Y+1)])+","}if(F[h]==null){var p=a.m*s,y=a.J*256,b=new Array(j);
for(var Y=0;Y<j;Y++){var O=b[Y]=new Uint8Array(p*y);f(O,A["Idx"+(Y+1)],q[Y],P,p,y,s)}var g=I.R(p*y*4);
if(n==0||n==1)I.bb({Z:b[0],r:b[1],e:b[2],W:b[3]},g);else if(n==4){for(var Y=0;Y<b[0].length;Y++){var u=Y*4,t=b[0][Y]*(1/255),V=b[1][Y]*(1/255),c=b[2][Y]*(1/255),E=b[3][Y]*(1/255),Z=UDOC.C.cmykToRgb([t,V,c,E]);
g[u]=Z[0]*255;g[u+1]=Z[1]*255;g[u+2]=Z[2]*255;g[u+3]=b[4][Y]}}else{g.fill(255);I.uM(b[0],g)}var G=new j2(0,0,p,y),J={buffer:g,rect:G};
I.vA(J);F[h]=[J.rect,J.buffer]}var H=F[h][2]=F[h][0].clone();H.x+=a.x*s;H.y+=a.y*256;return F[h]}function f(A,P,F,n,R,Q,s){var j=0,_=R>>>(s==256?8:7),B=Q>>>8;
for(var N=0;N<B;N++)for(var a=0;a<_;a++){var O=a*s,H=N*256,q=N*_+a,h=H*R+O,D=F[q];if(D<=1)X(A,h,0,R,s,256);
else if(D==2)X(A,h,4294967295,R,s,256);else if(D==4){var T=P[j];j++;var p=n[T.Data.DatI],y=T.Rect;if(y==null)y=[0,0,s,256];
X(A,h,0,R,s,256);o(A,(H+y[1])*R+O+y[0],p,y[1]*s+y[0],R,s,y[2]-y[0],y[3]-y[1])}else console.log(D)}}function X(A,P,F,n,R,Q){var s=P+n*Q;
for(;P<s;P+=n){var j=P+R;for(var _=P;_<j;_++){A[_]=F}}}function o(A,P,F,n,R,Q,s,j){var _=P+R*j,B=n+Q*j;
for(;P<_&&n<B;P+=R,n+=Q){for(var Y=0;Y<s;Y++)A[P+Y]=F[n+Y]}}return i}();function gI(){}gI.uU=function(i,C){var m=gI,e=dp.parse(i),L=0;
if(e.pages.length>1)console.log(e.pages.length,"pages");var z=[],l=new j2;for(var x=0;x<e.pages.length;
x++){var S=e.pages[x],k=S.layers,f=m.OO(k,x),o=!1;if(f.P()>8e3*8e3||f.m>3e4||f.J>3e4){m.aAd(k,!0);var X=m.OO(k,x);
if(X.P()>=f.P())m.aAd(k,!1)}f=m.OO(k,x);for(var A=0;A<k.length;A++){var P=k[A];if(m.L1(P)=="artboard")o=!0}if(!o){console.log("no artboard");
var F={};for(var n in S)F[n]=S[n];F._class="group";S.layers=[F]}z.push(f.clone());if(f.bs())continue;
f.x=0;f.y=L;L+=f.J+200;l=l.Z0(f)}var R={};if(e.foreignSymbols)for(var Y=0;Y<e.foreignSymbols.length;
Y++){var Q=e.foreignSymbols[Y].symbolMaster;R[Q.symbolID]={FW:Q}}m.aiP(e.pages,R,C);for(var s in R){var P=R[s].FW,j=m.atm(P.layers)}var _=gI.BH(l,8192*8192);
C.qK=!0;C.m=Math.round(l.m/_);C.J=Math.round(l.J/_);C.buffer=I.R(C.m*C.J*4);C.Ra(e.pages[0].layers.length);
C.iG={};C.Gr=[];L=0;for(var x=0;x<e.pages.length;x++){var B=e.pages[x],f=z[x],N=new hN(_,0,0,_,f.x,f.y-L);
m.hn(B.layers,C,N,e,R,{},[]);L+=f.J+200}delete C.iG;delete C.Gr;if(_!=1)alert("File scaled down "+_+"x");
C.aDe()};gI.aqW=0;gI.L1=function(i){return i._class?i._class:i.$class};gI.BH=function(i,C){var m=1;while(Math.round(i.m/m)*Math.round(i.J/m)>C||Math.max(Math.round(i.m/m),Math.round(i.J/m))>3e4)m++;
if(m!=1&&!window.confirm("Your image is quite large ("+i.m+" x "+i.J+" px).\n"+"Press OK to scale it down "+m+"x, or Cancel to keep the size."))m=1;
return m};gI.OO=function(i,C){var m=[],e=gI;for(var z=0;z<i.length;z++){var L=i[z],l=e.hc(L.frame);if(C==0||e.L1(L)=="artboard")m.push(l)}return I.rect.Xd(m)};
gI.aAd=function(i,C){var m=[],e=gI;for(var z=0;z<i.length;z++){var L=i[z],l=e.hc(L.frame);l.m+=150;l.J+=150;
m.push(l)}var x=I.rect.Xd(m);I.rect.aig(m,C);var S=I.rect.Xd(m);if(S.P()*1.5<x.P()||x.m>3e4&&S.m<=3e4||x.J>3e4&&S.J<=3e4){alert("Re-arranging artboards");
for(var z=0;z<i.length;z++){var k=m[z],L=i[z],f=L.frame;f.x=k.x;f.y=k.y}}};gI.aiP=function(i,C,m){var e=gI;
for(var z=0;z<i.length;z++){var L=i[z],l=e.L1(L);if(["page","artboard","group"].indexOf(l)!=-1)e.aiP(L.layers,C,m);
else if(l=="symbolMaster")C[L.symbolID]={FW:L}}};gI.atm=function(i){var C=gI;for(var m=0;m<i.length;
m++){var e=i[m],z=C.L1(e),L=null;if(["page","artboard","group"].indexOf(z)!=-1)L=C.atm(e.layers);if(z=="symbolMaster"||z=="symbolInstance")L=e;
if(L!=null)return L}return null};gI.hn=function(i,C,m,e,z,L,l){var x=gI,S=[];for(var k=0;k<i.length;
k++){var f=i[k],X=f.frame?x.hc(f.frame):null,o=f.style,R="",N=null,a=!1;if(o==null){console.log("no styles")}var A=x.atI(f,m),P=x.L1(f),F=P=="shapeGroup"||P=="shapePath"||P=="rectangle"||P=="oval"||P=="triangle"||P=="polygon",n=["page","artboard","group"].indexOf(P)!=-1;
if(P=="shapeGroup"){for(var Y=0;Y<f.layers.length;Y++)if(x.L1(f.layers[Y])=="shapeGroup")n=!0}var Q=f.exportOptions;
if(Q){var s=Q.exportFormats;if(s==null)s=Q.sizes;if(P!="artboard"&&(s&&s.length!=0)){var j=s[0].scale}}var _=C.Sv();
_.fJ(f.isVisible);var B=f.name;if(!(typeof B=="string"))B=P;_.yY(R+B.slice(0,250));if(o!=null)N=x.aeK(e,C,o,X,A,_.getName(),F||P=="artboard"||n);
if(P=="rectangle"&&o&&o.fills&&o.fills[0]){var O=o.fills[0];if(O.fillType==4&&O.patternFillType>1&&O.image!=null)a=!0}if(f.shouldBreakMaskChain){while(S.length!=0)x.azQ(S.pop(),C)}if(n){_.add.lsct=f.layerListExpandedType==2?aU.AY:aU.Lp;
_.fn="pass";_.de=24;_.fJ(f.isVisible);C.M.push(C.b$());if(P=="artboard"){var H=X.clone(),q=A.je();H.x=-Math.floor(A.W_/q);
H.y=-Math.floor(A.Rj/q);H.m=Math.floor(H.m/q);H.J=Math.floor(H.J/q);_.bQ(H);var h=f.backgroundColor,D=h?{Z:255*h.red,r:255*h.green,e:255*h.blue}:{Z:255,r:255,e:255};
_.add.artb.Clr={t:"Objc",v:I.I.$q(D)};_.add.artb.artboardBackgroundType={t:"long",v:4}}x.hn(f.layers,C,A,e,z,L,l)}else if(F&&!a){var T=N!=null&&N.frameFXMulti.v.length==1;
_.add.vmsk=new cc.hF;_.add.vstk=jt.lc.TQ(!0,T);var p=o?o.fills:null,y=o?x.aag(e,p,X,A,_.getName(),C,x.lt(l,f.do_objectID+"_image")):[];
if(y.length==0){if(T)_.add.vstk.fillEnabled.v=!1;else _.add.iOpa=0;_.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}}}else{var b=y[0],g=null,u=null;
if(b.type=="SoFi"){g="SoCo";u=jt.pb}if(b.type=="GrFl"){g="GdFl";u=jt.It}if(b.type=="patternFill"){g="PtFl";
u=jt.dH}if(g!=null){_.add[g]={classID:"null"};for(var Y=0;Y<u.length;Y++){var t=u[Y];_.add[g][t]=b.b.v[t]}var V=b.b.v.Opct.v.val;
if(T&&V==0)_.add.vstk.fillEnabled.v=!1;else _.add.iOpa=Math.round(255*V/100)}}_.de|=16;_.add.vmsk.$=x.Ow(f.layers?f.layers:[f],f.layers?A:m);
var c=o?o.blur:null;if(c&&c.isEnabled&&c.type<=1)_.add.vmsk.JQ=c.radius;if(_.add.vmsk.$.length==2){console.log("shape with no content:",_.getName())}if(T){var E=N.frameFXMulti.v[0].v,Z=_.add.vstk,G=o.borders[0];
N.frameFXMulti.v=[];k4.a2I(E,Z);var J=o.borderOptions,K=o.miterLimit;if(J)jt.lc.write(Z,{lcap:J.lineCapStyle,ljoin:J.lineJoinStyle,dash:J.dashPattern,mlimit:K},1)}_.tO();
_.rH(C)}else if(P=="bitmap"||a){if(!a&&f.image==null)continue;var M=a?o.fills[0]:null,U=a?M.image.bdata:f.image.bdata,r=C.Mf(U,_.getName(),0,0);
r.de=_.de;_=r;var c=o?o.blur:null,dS=o?o.colorControls:null;if(c||dS){_.add.SoLd.filterFX=ft.sB();C.tH({id:_.add.SoLd.placed.v,rect:new j2,buffer:I.R(1),X:new cc.o7});
var p=_.add.SoLd.filterFX.v.filterFXList.v;if(c){var w=ft.eF("GsnB",{});w.v.enab.v=c.isEnabled;w.v.Fltr.v.Rds.v.val=c.radius;
p.push(w)}if(dS){var di=dS.brightness,eM=dS.contrast,j5=dS.hue,ds=dS.saturation;if(j5!=0||ds!=1){var w=ft.eF("hue2",{});
w.v.enab.v=dS.isEnabled;jK.gH(w.v.Fltr.v,0,[Math.round(j5*180/Math.PI),Math.round((ds-1)*100),0]);p.push(w)}if(di!=0||eM!=1){var w=ft.eF("brit",{});
w.v.enab.v=dS.isEnabled;eM=eM-1;if(eM>0)eM/=2;var ba=w.v.Fltr.v;ba.Brgh.v=Math.round(di*255);ba.Cntr.v=Math.round(eM*255);
ba.useLegacy.v=!0;p.push(w)}}}if(a){var gH=M.patternFillType;if(gH==3){var ir=_.rect.m/_.rect.J,iP=X.m/X.J;
if(ir<iP){A.translate(-(X.m*(1-ir/iP))/2,0);A.scale(iP/ir,1)}else{A.translate(0,-(X.J*(1-iP/ir))/2);
A.scale(1,ir/iP)}}}X.x=X.y=0;var iy=I.C.Ym(X).j;A.Fb();I.C.i(iy,A,iy);_.add.SoLd.Trnf=$.V.xN(iy);_.add.SoLd.nonAffineTransform=$.V.xN(iy);
_.g1(C,!1)}else if(P=="text"){if(f.attributedString==null)continue;var iG=A.clone(),eg,du,ay=0;iG.Fb();
iG.W=iG.o6=Math.min(iG.W,iG.o6);_.add.lnsr="rend";_.add.TySh=e7._x(0,0);_.add.TySh.l$=new j2(0,0,X.m,X.J);
_.add.TySh.i=iG;var gh=f.attributedString;if(gh.archivedAttributedString)gh=gh.archivedAttributedString;
var ga=gh.NSString;if(ga==null)ga=gh.string;if(ga==null)ga="";if(ga["NS.string"])ga=ga["NS.string"];
if(L[f.do_objectID]!=null)ga=L[f.do_objectID];var d5=x.lt(l,f.do_objectID+"_stringValue");if(d5)ga=d5.value;
if(gh.attributes!=null){eg=[];du=[];var fu=gh.attributes;for(var Y=0;Y<fu.length;Y++){eg.push(fu[Y].length,Y);
du.push(fu[Y].attributes)}}else if(gh.NSAttributeInfo==null){eg=[ga.length,0];du=[gh.NSAttributes]}else{eg=gh.NSAttributeInfo["NS.data"];
du=gh.NSAttributes;eg=gI.ayV(eg,du)}for(var Y=0;Y<eg.length;Y+=2)ay+=eg[Y];if(ay!=ga.length){while(ay>ga.length){eg[eg.length-2]--;
ay--;if(eg[eg.length-2]==0){eg.pop();eg.pop()}}eg[eg.length-2]+=ga.length-ay}ga=ga.replace(/\u2028/g,"\n");
ga=ga.replace(/\u2029/g,"\n");ga=ga.replace(/\r/g,"\n");var c7=_.add.TySh.Wg;e7.cQ(c7,0,ga);if(ga!=""){var eE=f.textBehaviour,jn=o.textStyle,dQ=jn?jn.verticalAlignment:0,jo=x.anb(c7,eg,du,ga),q=iG.je(),hT=e7.IF(c7,0,1),d_=0;
if(hT.hU.Font){var b9=hT.JR[hT.hU.Font].Name;if(b9=="FontAwesome"||b9=="Ionicons")jo*=.87}var ii=hT.hU.AutoLeading?0:hT.hU.Leading*.6,c4=Math.max(jo,ii)*q,kG=X.m,fC=X.J;
if(eE==0){e7.k8(c7,0);var bO=e7.e4(hT.t7);if(bO==1)d_=kG*q;if(bO==2)d_=kG*q*.5;if(dQ==0)c4*=1;else c4*=.9}else{e7.k8(c7,1);
e7.N2(c7,[0,0,Math.round(kG),Math.round(fC)]);if(eE==2&&dQ==0)c4=c4*.2;else if(eE==2&&dQ==1){c4=q*.5*(fC-hT.hU.FontSize)}else if(eE==1&&dQ==0)c4=c4*.2;
else c4=c4*.35}_.add.TySh.i.translate(d_,c4)}}else if(P=="symbolInstance"||P=="symbolMaster"){var id=f.symbolID;
if(L[f.do_objectID])id=L[f.do_objectID].symbolID;var a5=x.lt(l,f.do_objectID+"_symbolID");if(a5)id=a5.value;
if(id=="")continue;var eU={};for(var t in L)eU[t]=L[t];if(f.overrides)for(var t in f.overrides)eU[t]=f.overrides[t];
var af=l.slice(0);if(f.overrideValues)af=af.concat(f.overrideValues);var a7=z[id];if(a7==null){console.log("Unknown master master",f.symbolID);
continue}var g$=gI.hc(a7.FW.frame),cg=g$.m/X.m,cC=g$.J/X.J,kF=A.clone();kF.scale(cg,cC);_.add.lsct=aU.Lp;
_.fn="pass";_.de=24;_.fJ(f.isVisible);C.M.push(C.b$());var am=a7.FW;if(C.Gr.indexOf(am)==-1){C.Gr.push(am);
x.hn(am.layers,C,kF,e,z,eU,af);C.Gr.pop()}}else if(P=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+P,f);continue}if(o&&o.contextSettings){var cJ=o.contextSettings,fX=cJ.blendMode;
if(fX<x.Tx.length){_.fn=aw.Az[aw.W5.indexOf(x.Tx[fX])];if(n&&_.fn=="norm")_.fn="pass"}_.opacity=Math.round(_.opacity*cJ.opacity)}if(N!=null){_.add.lmfx=N}C.M.push(_);
if(f.hasClippingMask&&i.length>1){S.push(_);C.M.push(C.b$())}}while(S.length!=0)x.azQ(S.pop(),C)};gI.lt=function(i,C){for(var Y=0;
Y<i.length;Y++)if(i[Y].overrideName.startsWith(C))return i[Y]};gI.ayV=function(i,C){var m=0,e=[];while(m+1<i.length){var z=i[m];
m++;if(z>127){z+=128*(i[m]-1);m++;if(i[m-1]>127){z+=128*(i[m]-1);m++}}var L=i[m];m++;e.push(z,L)}return e};
gI.anb=function(i,C,m,e){var z=gI,L=0,f=0,X=0;for(var Y=0;Y<e.length;Y++){var l=e.charCodeAt(Y),x=1473<=l&&l<=1479||1488<=l&&l<=1514||1520<=l&&l<=1524,S=1569<=l&&l<=1594||1600<=l&&l<=1749;
if(x||S)L++}var k=L>e.length/2;for(var Y=0;Y<C.length;Y+=2){var o=C[Y],_=14,B="DejaVuSans";if(o==0)continue;
var A=C[Y+1],P=m[A],F=e7.IF(i,f,f+o-1),n=P.NSColor;if(n==null){var n=P.MSAttributedStringColorDictionaryAttribute;
if(n==null)n=P.MSAttributedStringColorAttribute;if(n==null)n="0 0 0";else n=[n.red,n.green,n.blue].join(" ")}else if(z.L1(n)=="MSArchivedColor")n=n.dr+" "+n.dg+" "+n.db;
else if(n.NSRGB){n=n.NSRGB;n=W.Sq(n,0,n.length-1)}else if(n.NSCMYK){n=n.NSCMYK;n=W.Sq(n,0,n.length-1);
n=n.split(" ").map(parseFloat);var R=1-n[0],Q=1-n[1],s=1-n[2],j=1-n[3];n=R*j+" "+Q*j+" "+s*j}else if(n.NSWhite){n="1 1 1"}n=n.split(" ");
F.hU.FillColor={Type:1,Values:[1,parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])]};var N=P.MSAttributedStringFontAttribute;
if(P.NSFont){_=P.NSFont.NSSize;B=P.NSFont.NSName}else if(N){if(N.attributes){N=N.attributes;_=N.size;
B=N.name}else{var a=N.NSFontDescriptorAttributes;if(a==null)a=N.UIFontDescriptorAttributes;N=a;_=N.NSFontSizeAttribute;
B=N.NSFontNameAttribute}if(B==null)B="DejaVuSans"}var X=Math.max(X,_);F.hU.FontSize=Math.round(_);e7.Ca(F,B);
var O=P.NSKern;if(O==null)O=P.kerning;if(O!=null)F.hU.Tracking=Math.round(1e3*O/_);if(P.NSUnderline!=null)F.hU.Underline=P.NSUnderline>0;
var H=P.NSStrikethrough;if(H==null)H=P.strikethroughStyle;if(H!=null)F.hU.Strikethrough=H>0;if(P.MSAttributedStringTextTransformAttribute==1)F.hU.FontCaps=2;
var q=P.NSParagraphStyle;if(q==null)q=P.paragraphStyle;if(q){var h=q.paragraphSpacing;if(h!=null){F.t7.SpaceAfter=h}var D=q.NSAlignment;
if(D==null)D=q.alignment;if(D!=null){var T=0;if(!1){}else if(D==1)T=1;else if(D==2)T=2;else if(D==4)T=0;
else{T=D;console.log("unknown align",D)}if(k&&T<2)T=1-T;F.t7.Justification=T}var p=q.NSMinLineHeight;
if(p==null)p=q.minimumLineHeight;if(p!=null){F.hU.AutoLeading=!1;F.hU.Leading=p}}F.t7._Direction=k?1:0;
e7.Bl(i,f,f+o,F);f+=o}return X};gI.aeK=function(i,C,m,e,z,L,l){var x=gI,S=JSON.parse(jt.default),k=!1;
for(var Y=0;Y<jt.order.length;Y++)S[jt.m8[Y]]={t:"VlLs",v:[]};var f=m.fills,X=x.aag(i,f,e,z,L,C);for(var o=0;
o<2;o++){var A=m[["shadows","innerShadows"][o]];if(A==null)continue;var P=["DrSh","IrSh"][o],F=jt.m8[jt.order.indexOf(P)];
for(var Y=0;Y<A.length;Y++){var n=A[Y];if(!n.isEnabled)continue;var R=n.contextSettings;if(R&&R.opacity==0||n.color.alpha==0)continue;
var Q=JSON.parse(jt.qx[jt.order.indexOf(P)]);S[F].v.unshift({t:"Objc",v:Q});k=!0;Q.Clr.v=x.L4(n.color);
Q.blur.v.val=Math.round(n.blurRadius/z.je());var s=z.clone();s.W_=s.Rj=0;s.Fb();var j=s.M$(new b5(n.offsetX,n.offsetY)),_=Math.sqrt(j.x*j.x+j.y*j.y);
Q.Dstn.v.val=Math.round(_);Q.lagl.v.val=Math.round(Math.atan2(j.y,-j.x)*(180/Math.PI));if(Q.layerConceals)Q.layerConceals.v=X.length!=0;
x.wx(n,Q)}}var B=m.borders;if(B!=null&&(X.length==0||m.blur==null||!m.blur.isEnabled))for(var Y=0;Y<B.length;
Y++){var N=B[Y];if(!N.isEnabled)continue;var Q=JSON.parse(jt.qx[jt.order.indexOf("FrFX")]),F=jt.m8[jt.order.indexOf("FrFX")];
S[F].v.unshift({t:"Objc",v:Q});k=!0;Q.Clr.v=x.L4(N.color);if(N.fillType!=0&&N.gradient){var a=x._8(N.gradient,e,z,L),O=["Type","Angl","Ofst","Scl"];
for(var Y=0;Y<O.length;Y++)Q[O[Y]]=a[O[Y]];Q.Grad.v=a.Grad.v;Q.PntT.v.FrFl="GrFl"}Q.Sz.v.val=Math.round(N.thickness/z.je());
Q.Styl.v.FStl=["CtrF","InsF","OutF"][N.position];x.wx(N,Q)}for(var Y=l?1:0;Y<X.length;Y++){var H=X[Y],F=jt.m8[jt.order.indexOf(H.type)];
S[F].v.unshift(H.b);k=!0}return k?S:null};gI.aag=function(i,C,m,e,z,L,l){if(C==null)return[];var x=gI,S=[];
for(var Y=0;Y<C.length;Y++)if(C[Y].isEnabled)S.push(C[Y]);C=S;var k=[];for(var Y=0;Y<C.length;Y++){var f=C[Y],X=null,o=null;
if(f.fillType==0){X="SoFi";var A=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);o={t:"Objc",v:A};o.v.Clr.v=x.L4(f.color)}else if(f.fillType==1){X="GrFl";
o={t:"Objc",v:x._8(f.gradient,m,e,z)}}else if(f.fillType==4&&f.image!=null){var P=f.image;if(l)P=l.value;
var F=i$.ra(P.bdata.buffer);if(F=="fpng")F="png";if(F!=null&&F!="pdf"&&F!="eps"){var n,B=0,N=0,a=0;if(L.iG[P.key])n=L.iG[P.key];
else{var R=i$.AL(F).pX(P.bdata)[0],Q=R.Jw.clone();n={};n.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";n.name="someImage";
n.GK=[new Uint8Array(R.data),Q];L.p0(n);L.iG[P.key]=n}var s=n.GK[1],A=JSON.parse(jt.qx[jt.order.indexOf("patternFill")]);
X="patternFill";o={t:"Objc",v:A};var j=f.patternFillType,_=f.patternTileScale;A.Algn.v=!0;A.Ptrn.v.Idnt.v=n.id;
if(j==0){B=_*s.m/Math.min(s.m,s.J);N=-e.W_;a=-e.Rj}else{B=Math.max(m.m/s.m,m.J/s.J);N=-e.W_-(s.m*B-m.m)/2;
a=-e.Rj-(s.J*B-m.J)/2}A.Scl.v.val=100*B*(1/e.je());A.phase.v.Hrzn.v=Math.round(N/e.je());A.phase.v.Vrtc.v=Math.round(a/e.je())}}else if(f.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",f.fillType);
if(X!=null){x.wx(f,o.v);k.push({type:X,b:o})}}return k};gI.ag4=function(i){var C=gI,m=new j2(0,0,1,1);
i=i.slice(0);while(!0){var e=!1;for(var Y=0;Y<i.length-1;Y++){var z=i[Y],L=i[Y+1],l=null,x=z.contextSettings;
if(z.fillType==0&&(x==null||x.opacity==1&&x.blendMode==0)&&z.color.alpha==1){var S="norm",k=1,x=L.contextSettings;
if(x){k=x.opacity;S=aw._A(C.Tx[x.blendMode])}if(L.fillType==0){l=JSON.parse(JSON.stringify(L));C.aws(l.color,z.color,l.color,m,S,k)}if(L.fillType==1){l=JSON.parse(JSON.stringify(L));
var f=l.gradient.stops;for(var X=0;X<f.length;X++)C.aws(f[X].color,z.color,f[X].color,m,S,k)}if(l!=null&&l.contextSettings){var x=l.contextSettings;
x.opacity=1;x.blendMode=0}}if(l!=null){i.splice(Y,0,l);e=!0;break}}if(!e||i.length<2)break}return i};
gI.aws=function(i,C,m,e,z,L){var l=gI,x=I.R(4);l.aos(i,x);var S=I.R(4);l.aos(C,S);I.l.Qv(z,x,e,S,e,e,L);
l.av0(S,m)};gI.aos=function(i,C){C[0]=255*i.red;C[1]=255*i.green;C[2]=255*i.blue;C[3]=255*i.alpha};gI.av0=function(i,C){C.red=i[0]/255;
C.green=i[1]/255;C.blue=i[2]/255;C.alpha=i[3]/255};gI.azQ=function(i,C){i=i.clone();i.de=24;i.yY("Mask by "+i.getName());
C.M.push(i);i.add.lsct=aU.AY;i.add.lyid=C.l5();delete i.add.lmfx;delete i.add.SoCo;delete i.add.GdFl;
delete i.add.PtFl;delete i.add.iOpa;if(i.add.vmsk)i.add.vmsk.kL=!0;i.tO();i.rH(C);if((i.de&16)==16)i.de-=16;
if((i.de&2)==2)i.de-=2;i.fn="pass";i.opacity=255};gI.Tx="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
gI._8=function(i,C,m,e){m=m.clone();m.Fb();m.W_=m.Rj=0;var z=m.je(),o=0,A=0;m.scale(1/z,1/z);var L=gI,l=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),x=l.Grad.v;
x.Intr.v=0;if(i==null)return l;var S=i.gradientType,k=L.KO(i.from),f=L.KO(i.to);k.offset(-.5,-.5);f.offset(-.5,-.5);
k=m.M$(k);f=m.M$(f);var X=Math.atan2(-(f.y-k.y),f.x-k.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][S];l.Scl.v.val=100*b5.qM(k,f);
if(S==0){l.Angl.v.val=180/Math.PI*X;l.Scl.v.val=100*b5.qM(k,f);o=(k.x+f.x)/2;A=(k.y+f.y)/2}if(S==1){l.Scl.v.val=200*b5.qM(k,f);
o=k.x;A=k.y}if(S==2){l.Angl.v.val=180/Math.PI*(X-Math.PI/2)}var P=l.Ofst.v;P.Hrzn.v.val=o*100;P.Vrtc.v.val=A*100;
var F=[];for(var Y=0;Y<i.stops.length;Y++){var n=i.stops[Y],R=n.color;F.push([n.position,R?[R.red,R.green,R.blue]:[0,0,0],R.alpha])}I.I.Sc(F,x);
return l};gI.wx=function(i,C){var m=gI,e=1,z=i.contextSettings;if(z!=null){C.Md.v.BlnM=m.Tx[z.blendMode];
e*=z.opacity}else C.Md.v.BlnM=m.Tx[0];C.enab.v=i.isEnabled;if(C.uglg!=null)C.uglg.v=!1;if(i.color!=null)e*=i.color.alpha;
C.Opct.v.val=Math.round(e*100)};gI.L4=function(i){return I.I.$q(i?{Z:i.red*255,r:i.green*255,e:i.blue*255}:{Z:0,r:0,e:0})};
gI.Ow=function(i,C){var m=gI,e=[{type:6},{type:8,all:0}];for(var z=0;z<i.length;z++){var L=i[z],l=L.booleanOperation,x=0,S=L._class,P=!1;
if(S=="group"||S=="text"||S=="symbolInstance"||S=="slice"){console.log(S+" inside ShapeGroup");continue}if(l==-1)x=0;
else if(l==0)x=1;else if(l==1)x=2;else if(l==2)x=3;else if(l==3)x=0;if(z==0)x=1;var k=gI.hc(L.frame),f=m.atI(L,C),X=L.path?L.path:L,o=[{type:0,length:0,ay:x,pj:2,X0:0,QG:0}],A=X.points;
for(var Y=0;Y<A.length;Y++){var F=A[Y],n=m.KO(F.curveTo),R=m.KO(F.point),Q=m.KO(F.curveFrom);P=P||F.hasCurveFrom&&!Q.LJ(R)||F.hasCurveTo&&!n.LJ(R)}var s=[];
if(!P){var j=[],k7=A.length;if(k7==0)continue;for(var Y=0;Y<k7;Y++){s[Y]=A[Y].cornerRadius;var F=m.KO(A[Y].point);
j.push(F.x,F.y)}f.scale(1/k.m,1/k.J);f.Fb();I.C.i(j,f,j);o=I.o.vC.Cf(j,s).slice(2);o[0].ay=x}else{var _=A.length;
o[0].length=_;for(var Y=0;Y<_;Y++){var F=A[Y],B=F.curveMode,N=m.KO(F.point);o[1+Y]={type:B==2||B==4?1:2,My:F.hasCurveTo?m.KO(F.curveTo):N.clone(),L:N,sP:F.hasCurveFrom?m.KO(F.curveFrom):N.clone()}}f.scale(1/k.m,1/k.J);
f.Fb();I.o.Pa(o,f);var s=[];for(var Y=0;Y<_;Y++){var F=A[Y],B=F.curveMode,a=F.cornerRadius;if(B==1&&a!=0)s.push(a);
else s.push(0)}}if(!X.isClosed)for(var Y=0;Y<o.length;Y++)o[Y].type+=3;e=e.concat(o);var O=m.L1(L);if(f.e==0&&f.xF==0){var H=f.W_,q=f.Rj,h=H+f.W,D=q+f.o6,T=[H,q,h,D]}}return e};
gI.atI=function(i,C){var m=C.clone(),e=i.frame?gI.hc(i.frame):null;if(e)m.translate(-e.x-e.m/2,-e.y-e.J/2);
if(i.isFlippedHorizontal)m.scale(-1,1);if(i.isFlippedVertical)m.scale(1,-1);m.rotate(-i.rotation*(Math.PI/180));
if(e)m.translate(e.m/2,e.J/2);return m};gI.KO=function(i){i=i.slice(1,i.length-1).split(",");return new b5(parseFloat(i[0]),parseFloat(i[1]))};
gI.hc=function(i){return new j2(i.x,i.y,i.width,i.height)};gI.a2m=function(i){return{_class:"rect",constrainProportions:!1,x:i.x,y:i.y,width:i.m,height:i.J}};
function fH(){}fH.uU=function(i,C){var m=Date.now(),e=fH,z=UZIP.parse(i),L=JSON.parse(W.U8(z.manifest)),l=JSON.parse(W.U8(z["resources/graphics/graphicContent.agc"])).resources,x=[],S=[],k=L.children;
for(var Y=0;Y<k.length;Y++){var f=k[Y];if(f.name=="artwork"){var X=f.children;for(var o=0;o<X.length;
o++){var A=X[o],P=JSON.parse(W.U8(z["artwork/"+A.path+"/graphics/graphicContent.agc"])),F=P.children;
if(F.length==0){}else if(F.length==1){if(A["uxdesign#bounds"]){A._node=F[0];x.push(A)}}else{var n=F[0],R=n.transform,Q=n.shape;
if(Q==null)Q={x:0,y:0,width:1e3,height:1e3};if(Q.type=="path"){var s=I.C.Ve(Typr.U.SVGToPath(Q.path).crds);
Q={x:s.x,y:s.y,width:s.m,height:s.J}}Q=JSON.parse(JSON.stringify(Q));if(R){Q.x+=R.tx;Q.y+=R.ty}A["uxdesign#bounds"]=Q;
A._node={type:"artboard",artboard:{children:F}};S.push(A)}}}}if(x.length==0)x=S;var j=[],_=new j2;for(var Y=0;
Y<x.length;Y++){var A=x[Y],B=gI.hc(A["uxdesign#bounds"]);j.push(B);_=_.Z0(B)}var N=gI.BH(_,8192*8192);
C.qK=!0;C.m=Math.round(_.m/N);C.J=Math.round(_.J/N);C.buffer=I.R(C.m*C.J*4);C.Ra(x.length);var a=new hN(N,0,0,N,_.x,_.y);
C.iG={};for(var Y=0;Y<x.length;Y++){var A=x[Y],B=gI.hc(A["uxdesign#bounds"]),O=A._node,H=a.clone(),q=B.clone(),h=H.je();
H.translate(-B.x,-B.y);q.x=-Math.floor(H.W_/h);q.y=-Math.floor(H.Rj/h);q.m=Math.floor(q.m/h);q.J=Math.floor(q.J/h);
H.translate(B.x,B.y);fH.dW(O,C,H,l,z,q);var D=C.M[C.M.length-1];D.yY(A.name);D.bQ(q);if(Y!=x.length-1)D.add.lsct=aU.Lp}delete C.iG};
fH.J0=function(i){if(i==null)return new hN;return new hN(i.a,i.b,i.c,i.d,i.tx,i.ty)};fH.dW=function(i,C,m,e,z,L){var l=fH,x=i.type,S=i[x],k=i.style,f=l.J0(i.transform),P,F="none",n,R="none",Q,s;
f.Fb();var X=m.clone();X.concat(f);var o=C.Sv(),A=i.name;o.yY(A?A.slice(0,250):"Layer");if(i.visible!=null)o.fJ(i.visible);
if(k){P=k.stroke;F=P?P.type:"none";n=k.fill;R=n?n.type:"none";if(n&&Object.keys(n).length==1)R="none";
Q=k.filters;s=k.clipPath;if(s&&e.clipPaths[s.ref])s=e.clipPaths[s.ref].children;else s=null;if(k.opacity!=null)o.opacity=Math.round(255*k.opacity);
if(R=="solid"&&n.color.alpha)o.opacity=Math.round(o.opacity*n.color.alpha);if(Q){o.add.lmfx=l.a03(Q);
for(var Y=0;Y<Q.length;Y++)if(Q[Y].type=="uxdesign#blur"){var j=Q[Y],_=j.params,B=_.brightnessAmount;
if(B==null)B=0;B=Math.abs(B/100);if((j.visible==null||j.visible==!0)&&_.backgroundEffect)o.opacity=Math.round(o.opacity*(B+(1-B)*_.fillOpacity))}}if(R=="pattern"&&n.pattern.meta.ux.uid=="")R="none"}if(s==null&&i.meta&&i.meta.ux&&i.meta.ux.clipPathResources)s=i.meta.ux.clipPathResources.children;
if(x=="artboard"||x=="group"){if(s){var N=s[0],a=N.shape,O=a!=null&&a.type=="rect"&&a.width*a.height>4e6;
if(N.type!="text"&&!O){if(a){var f=l.J0(N.transform);f.Fb();var H=X.clone();H.concat(f);o.add.vmsk=new cc.hF;
o.add.vmsk.$=l.Ow(a);H=H.clone();H.Fb();I.o.Pa(o.add.vmsk.$,H);o.tO();o.rH(C)}}else if(!O)alert("Clipping by text has been ignored")}o.add.lsct=aU.AY;
o.fn="pass";o.de=24;if(i.visible!=null)o.fJ(i.visible);C.M.push(C.b$());var q=S.children,h=n;if(h)h=h.color;
if(h)h=h.value;if(n){if(x=="artboard"&&R=="solid"){o.bQ(new j2(0,0,10,10));o.add.artb.Clr={t:"Objc",v:I.I.$q({Z:h.r,r:h.g,e:h.b})};
o.add.artb.artboardBackgroundType={t:"long",v:4}}else{var D=C.Sv();D.yY("BACKGROUND");D.de|=16;D.add.vstk=jt.lc.TQ();
D.add.vmsk=new cc.hF;D.add.vmsk.$=l.Ow({type:"rect",x:L.x,y:L.y,width:L.m,height:L.J});l.EY(n,R,X,L,L,D,C,e,z);
D.tO();D.rH(C);C.M.push(D)}}for(var Y=0;Y<q.length;Y++){fH.dW(q[Y],C,X,e,z,L)}}else if(x=="shape"&&(S.type=="rect"&&(S.r==null||S.r==0)||S.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(S.path)))&&R=="pattern"&&(Math.abs(S.width/S.height-n.pattern.width/n.pattern.height)<.01||k.fill.pattern.meta.ux.scaleBehavior=="fill")){var T=n.pattern,p=T.meta.ux,y=p.uid,b=z["resources/"+y];
if(b==null){console.log(T);return}var g=C.Mf(b,o.getName(),0,0);g.de=o.de;g.opacity=o.opacity;o=g;var u=I.o.RP(l.Ow(S),null),t=I.C.Ym(new j2(0,0,T.width,T.height)).j,V=new hN;
V.scale(T.width/u.m,T.height/u.J);if(p.offsetX)V.translate(-p.offsetX*T.width,0);if(p.offsetY)V.translate(0,-p.offsetY*T.height);
X.concat(V);X.Fb();I.C.i(t,X,t);o.add.SoLd.Trnf=$.V.xN(t);o.add.SoLd.nonAffineTransform=$.V.xN(t);o.g1(C,!1)}else if(x=="shape"){o.de|=16;
o.add.vstk=jt.lc.TQ();o.add.vmsk=new cc.hF;o.add.vmsk.$=l.Ow(S);var u=I.o.RP(o.add.vmsk.$,null),H=X.clone();
H.Fb();I.o.Pa(o.add.vmsk.$,H);var c=I.o.RP(o.add.vmsk.$,null);if(F=="none"){}else{var E=P.color.value,Z,G;
Z="SoFi";var J=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);G={t:"Objc",v:J};G.v.Clr.v=I.I.$q({Z:E.r,r:E.g,e:E.b});
var K=P.align,M=P.cap;if(K==null)K="center";var U=o.add.vstk;U.strokeEnabled.v=!0;U.strokeStyleLineWidth.v.val=P.width;
if(K)U.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jt.lc.ne[["inside","center","outside"].indexOf(K)];
if(M)U.strokeStyleLineCapType.v.strokeStyleLineCapType=jt.lc.Rg[["butt","round","square"].indexOf(M)];
var r=["SoFi","GrFl","patternFill"].indexOf(Z),dS=[jt.pb,jt.It,jt.dH][r];U.strokeStyleContent.v={classID:jt.lc.nU[0]};
var w=U.strokeStyleContent.v={classID:jt.lc.nU[r]};for(var Y=0;Y<dS.length;Y++)w[dS[Y]]=G.v[dS[Y]]}if(Q)for(var Y=0;
Y<Q.length;Y++)if(Q[Y].type=="uxdesign#blur"&&Q[Y].visible){var di=Q[Y];o.add.vmsk.JQ=di.params.blurAmount}l.EY(n,R,X,u,c,o,C,e,z);
o.tO();o.rH(C)}else if(x=="text"&&i.text){var eM=i.text,j5=eM.frame,ds=k.font,ba=k.textAttributes,f=X.clone(),eg=0;
f.Fb();o.add.lnsr="rend";o.add.TySh=e7._x(0,0);o.add.TySh.l$=new j2(0,0,100,100);o.add.TySh.i=f;var gH=o.add.TySh.Wg,ir=eM.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
e7.cQ(gH,0,ir);if(ir!=""){var iP=e7.IF(gH,0,1),iy=ds.postscriptName;if(iy==null)iy=ds.family;e7.Ca(iP,iy);
iP.hU.FontSize=Math.round(ds.size);if(R=="solid"){var E=n.color.value;iP.hU.FillColor={Type:1,Values:[1,E.r/255,E.g/255,E.b/255]}}if(ba){if(ba.paragraphAlign)iP.t7.Justification=["left","right","center"].indexOf(ba.paragraphAlign);
if(ba.letterSpacing)iP.hU.Tracking=Math.round(ba.letterSpacing);if(ba.lineHeight){iP.hU.AutoLeading=!1;
iP.hU.Leading=Math.round(ba.lineHeight)}}e7.Bl(gH,0,ir.length,iP)}var iG=i.meta.ux.rangedStyles;if(iG)for(var Y=0;
Y<iG.length;Y++){var S=iG[Y],gh=Math.min(S.length,ir.length-eg);if(Y==iG.length-1)gh=ir.length-eg;var iP=e7.IF(gH,eg,eg+gh),iy=S.postscriptName;
if(iy==null)iy=S.family;if(iy!=null)e7.Ca(iP,iy);var ga=S.textScript,fu=S.underline,c7=S.fontSize,j=S.fill,eE=S.textTransform;
if(ga&&ga!="none")iP.hU.FontBaseline=ga=="superscript"?1:2;if(fu!=null)iP.hU.Underline=fu;if(c7!=null)iP.hU.FontSize=Math.round(c7);
if(eE!=null)iP.hU.FontCaps=eE=="uppercase"?2:0;if(eE=="lowercase"){e7.FH(gH,eg,eg+gh);e7.cQ(gH,eg,ir.slice(eg,eg+gh).toLowerCase())}if(j!=null){var jn=j.value;
iP.hU.FillColor={Type:1,Values:[1,(jn>>>16&255)/255,(jn>>>8&255)/255,(jn>>>0&255)/255]}}e7.Bl(gH,eg,eg+gh,iP);
eg+=gh}if(j5.type=="area"||j5.type=="autoHeight"){var jo=j5.width,hT=j5.height;e7.k8(gH,1);e7.N2(gH,[0,0,jo,hT!=null?hT:jo*2])}}else if(x=="syncRef"){var ea=i.syncSourceGuid,b9=e.meta.ux.symbols,bI=l.En(b9,ea);
if(bI){var ii=X.clone();ii.concat(l.J0(bI.transform));fH.dW(bI,C,ii,e,z,L)}return}else console.log(x,i);
C.M.push(o)};fH.En=function(i,C){for(var Y=0;Y<i.length;Y++){var m=i[Y],e=m.group;if(m.id==C)return m;
if(e){var z=fH.En(e.children,C);if(z)return z}}return null};fH.Ow=function(i){var C=i.type,m=[{type:6},{type:8,all:0}];
if(C=="rect"){var e=i.r,z=i.x,L=i.y,l=i.width,x=i.height;m=I.o.vC.Rect(z,L,l,x,e?e:0)}else if(C=="circle"){var e=i.r;
m=I.o.vC.Xl(i.cx-e,i.cy-e,2*e,2*e)}else if(C=="ellipse"){var S=i.rx,k=i.ry;m=I.o.vC.Xl(i.cx-S,i.cy-k,2*S,2*k)}else if(C=="path"||C=="compound"){var f=Typr.U.SVGToPath(i.path);
m=I.C.aZ({G:f.cmds,j:f.crds},!1)}else if(C=="line"){var X=i.x1,o=i.x2,A=i.y1,P=i.y2;m=I.o.vC.Cf([X,A,o,P],0,!0)}else if(C=="polygon"){var F=i.points,n=[];
for(var Y=0;Y<F.length;Y++)n.push(F[Y].x,F[Y].y);m=m.concat(I.o.vC.Cf(n,0,!1).slice(2))}else console.log(C,i);
return m};fH.a03=function(i){var C=JSON.parse(jt.default);for(var Y=0;Y<jt.order.length;Y++)C[jt.m8[Y]]={t:"VlLs",v:[]};
for(var Y=0;Y<i.length;Y++){var m=i[Y],e=m.type,z=m.params,L=m.visible;if(e=="dropShadow"){var l=jt.m8[jt.order.indexOf("DrSh")],x=JSON.parse(jt.qx[jt.order.indexOf("DrSh")]);
C[l].v.unshift({t:"Objc",v:x});var S=z.dropShadows;if(S.length!=1)throw"e";var k=S[0],f=k.color,X=f.value,o=k.dx,A=k.dy;
x.Clr.v=I.I.$q({Z:X.r,r:X.g,e:X.b});x.Opct.v.val=Math.round((f.alpha!=null?f.alpha:1)*100);x.uglg.v=!1;
x.enab.v=L!=null?L:!0;x.lagl.v.val=Math.round(180/Math.PI*Math.atan2(A,-o));x.Dstn.v.val=Math.round(Math.sqrt(o*o+A*A));
x.blur.v.val=Math.round(k.r*2.3)}}return C};fH.EY=function(i,C,m,e,z,L,l,x,S){var k=fH;L.add.vstk.fillEnabled.v=C!="none";
if(C=="none"){L.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}}}else{var f,X,o;if(C=="solid"){var A=i.color.value;
f="SoCo";X=jt.pb;var P=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);o={t:"Objc",v:P};o.v.Clr.v=I.I.$q({Z:A.r,r:A.g,e:A.b})}else if(C=="gradient"){f="GdFl";
X=jt.It;var P=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),F=P.Grad.v,j,_,B;F.Intr.v=0;var n=i[C],R=n.ref?x.gradients[n.ref]:n.meta.ux.gradientResources,Q=["linear","radial","angular"].indexOf(R.type),s=R.stops;
P.Type.v.GrdT=["Lnr","Rdl","Angl"][Q];if(Q==0){var j=new b5(n.x1,n.y1),_=new b5(n.x2,n.y2);j.x=_.x+.5*(j.x-_.x);
j.y=_.y+.5*(j.y-_.y)}else{var j=new b5(n.cx,n.cy),_=new b5(n.cx+n.r,n.cy)}B=z;if(n.units=="objectBoundingBox"){var N=new hN(e.m,0,0,e.J,e.x,e.y);
j=N.M$(j);_=N.M$(_)}var N=k.J0(n.transform);j=N.M$(j);_=N.M$(_);N=m.clone();N.Fb();j=N.M$(j);_=N.M$(_);
I.I.dV(j,_,B,P);var a=[];for(var Y=0;Y<s.length;Y++){var O=s[Y],H=O.color,A=H.value,q=H.alpha;if(q==null)q=1;
a.push([O.offset,[A.r/255,A.g/255,A.b/255],q])}I.I.Sc(a,F);o={t:"Objc",v:P}}else if(C=="pattern"){f="PtFl";
X=jt.dH;var P=JSON.parse(jt.qx[jt.order.indexOf("patternFill")]),t;o={t:"Objc",v:P};var h=i[C],D=h.meta.ux,T=D.uid,p=S["resources/"+T].buffer,y=D.flipX,b=D.flipY,g=T+y+b,u=i$.ra(p);
if(l.iG[g])t=l.iG[g];else{var V=new j2(0,0,h.width,h.height),c;if(V.bs()||u==null){V=new j2(0,0,1,1);
c=new ArrayBuffer(4)}else{var E=i$.AL(u);if(E.yC){var Z=new ei;E.pX(p,Z);c=Z.I6().buffer}else{try{var G=E.pX(p)[0];
c=G.data;V=G.Jw}catch(a8){c=new ArrayBuffer(V.P()*4)}}}t={};t.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";
t.name="someImage";t.GK=[new Uint8Array(c),V];if(y)I.D.ZP(t.GK[0].slice(0),t.GK[0],V.m,V.J);if(b)I.D.ap9(t.GK[0].slice(0),t.GK[0],V.m,V.J);
l.p0(t);l.iG[g]=t}var J=m.clone();J.Fb();J.translate(e.x,e.y);var K=e.m,M=e.J,U=t.GK[1].m,r=t.GK[1].J,dS=Math.max(K/U,M/r);
if(D.scale)dS*=D.scale;var w=new hN;w.translate(-U/2,-r/2);w.scale(1/U,1/r);if(D.offsetX!=null)w.translate(D.offsetX,D.offsetY);
w.scale(U,r);w.scale(dS,dS);w.translate(K/2,M/2);w.concat(J);k4.aiX(t,P,0,0,1e3,w)}else console.log(C);
if(f!=null){L.add[f]={classID:"null"};for(var Y=0;Y<X.length;Y++){var di=X[Y];L.add[f][di]=o.v[di]}}}};
function d2(){}d2.uU=function(i,C,m){if(m&&m[0]==null)m=null;i=new Uint8Array(i);var e,s=1;if(i[0]==255&&i[1]==254)e=W.gh(i,2,(i.length>>>1)-1);
else e=W.U8(i,0,i.length);var z=new DOMParser,L=z.parseFromString(e,"image/svg+xml"),l=L.getElementsByTagName("style")[0];
if(l)l=Typr.U.SVG.cssMap(l.textContent);else l={};var x=L.firstChild;while(x.tagName!="svg")x=x.nextSibling;
var S=new j2(0,0,100,100),k=x.getAttribute("viewBox"),f=x.getAttribute("width"),X=x.getAttribute("height"),o=f!=null?parseFloat(f):parseFloat(X),A=X!=null?parseFloat(X):parseFloat(f);
if(k){var P=d2.a4p(k);S.x=P[0];S.y=P[1];S.m=P[2];S.J=P[3];if(f!=null){var F=P[2]/P[3],n=o/A;if(n>F){var R=P[3]*n-S.m;
S.x-=R/2;S.m+=R}if(n<F){var Q=P[2]/n-S.J;S.y-=Q/2;S.J+=Q}}}else if(f!=null||X!=null){S.m=o;S.J=A}S=I.C.Ub(S);
while(m&&Math.max(S.m*s,S.J*s)<Math.max(m[0],m[1]))s++;while(m==null&&Math.max(S.m,S.J)*s>8192)s*=.5;
C.qK=!0;C.m=~~(S.m*s);C.J=~~(S.J*s);var j=new hN(s,0,0,s,-S.x*s,-S.y*s),_={b2:d2.dO(x),ad9:l,mD:0};d2.$H(L,x.children,C,j,_,new hN,0);
if(C.M.length==0){var B=C.Sv();B.yY("Layer");C.M.push(B)}};d2.a4p=function(i){var C=" ";if(i.indexOf(",")!=-1)C=",";
return i.split(C).map(parseFloat)};d2.$H=function(i,C,m,e,z,L,l,x){var S=d2,k=["display","opacity","fill-opacity","filter","clip-path"],f=0;
for(var X=0;X<C.length;X++){var o=C[X],A=o.tagName,P=o.getAttribute("id"),R=13,B=1,O="clip-path",H=null,u=0;
if(P==null)P=o.getAttribute("data-name");var F=S.dO(o,z.ad9);for(var n in z.b2)if(k.indexOf(n)==-1&&F[n]==null)F[n]=z.b2[n];
if(F["font-size"])R=S.SD(F["font-size"],R);if(o.getAttribute("dx"))e.W_+=S.SD(o.getAttribute("dx"),R);
if(o.getAttribute("dy"))e.Rj+=S.SD(o.getAttribute("dy"),R);var Q=S.Ak(o);Q.concat(e);var s=o.getAttribute("visibility"),j=F.display,_=m.Sv();
if(s=="hidden"||j=="none")_.fJ(!1);_.yY(P!=null?P.split(":::")[0]:"Layer");if(F.opacity)B*=parseFloat(F.opacity);
if(F["fill-opacity"]){var N=parseFloat(F["fill-opacity"]);if(N!=0)B*=N}_.opacity=Math.round(255*B);if(F["mix-blend-mode"]){var a=aw.VJ.indexOf(F["mix-blend-mode"]);
if(a!=-1)_.fn=aw.Az[a]}if(o.getAttribute(O)==null)O="mask";if(o.getAttribute(O)!=null||F["clip-path"]){var q=o.getAttribute(O);
if(q==null)q=F["clip-path"];q=q.slice(4,q.length-1);var h=i.getElementById(q.slice(1));if(h){var D=h.children;
H=m.Sv();H.yY("Clip-Path"+(P?": "+P:""));H.add.lsct=l<2?aU.AY:aU.Lp;H.fn="pass";H.de=24;var T=H.add.vmsk=new cc.hF;
m.M.push(m.b$());var p=[];if(h.getAttribute(O)){var q=h.getAttribute(O);q=q.slice(4,q.length-1);p=i.getElementById(q.slice(1)).children}for(var Y=0;
Y<D.length;Y++){var y=S.Ak(D[Y]);y.concat(Q);var b=S.Ow(m,i,D[Y],!1).slice(2);I.o.Pa(b,y);T.$=T.$.concat(b)}for(var Y=0;
Y<p.length;Y++){var y=S.Ak(D[Y]);y.concat(Q);var b=S.Ow(m,i,p[Y],!1).slice(2);for(var g=0;g<b.length;
g++)if(b[Y].ay!=null)b[Y].ay=3;I.o.Pa(b,y);T.$=T.$.concat(b)}H.tO();H.rH();l++}}if(F.filter&&F.filter!="none"){var t=F.filter,c,E,Z,J=!1,K=!1,M=!1;
t=t.slice(5,t.length-1);var V=i.getElementById(t),G=[0,0,0,.5],U=Q.je();if(V)for(var Y=0;Y<V.children.length;
Y++){var r=V.children[Y];if(r.tagName=="feGaussianBlur"){J=!0;c=parseFloat(r.getAttribute("stdDeviation"))*U}if(r.tagName=="feColorMatrix"){var dS=r.getAttribute("values");
if(dS){dS=dS.split(" ").map(parseFloat);G=[dS[4],dS[9],dS[14],dS[18]]}}if(r.tagName=="feComposite"){M=!0}if(r.tagName=="feOffset"){K=!0;
var w=r.getAttribute("dx"),di=r.getAttribute("dy");E=parseFloat(w?w:0)*U;Z=parseFloat(di?di:0)*U}}if(J&&(M||K)){var eM=M?"IrSh":"DrSh";
if(eM=="IrSh"){_.add.iOpa=0}var j5=JSON.parse(jt.qx[jt.order.indexOf(eM)]);j5.blur.v.val=Math.round(c*2.4);
var ds=Math.sqrt(E*E+Z*Z);j5.uglg.v=!1;j5.Dstn.v.val=Math.round(ds);j5.lagl.v.val=Math.round(Math.atan2(Z,-E)*(180/Math.PI));
j5.Clr.v=I.I.$q({Z:G[0]*255,r:G[1]*255,e:G[2]*255});j5.Opct.v.val=Math.round(G[3]*100);S.aAs(_,jt.m8[jt.order.indexOf(eM)],j5)}else if(J)u=c}if(A=="g"||A=="a"||A=="svg"||A=="switch"||(A=="text"||A=="textPath")&&o.children.length>0||A=="symbol"&&x){if(A=="text")L=S.kp(o,L);
var ba=o.getAttribute("viewBox"),gH=o.getAttribute("width"),ir=o.getAttribute("height");if(ba&&gH&&ir){var iP=d2.a4p(ba),iy=S.kp(o),iG=new hN;
iG.translate(-iP[0],-iP[1]);iG.scale(parseFloat(gH)/iP[2],parseFloat(ir)/iP[3]);iG.translate(iy.W_,iy.Rj);
iG.concat(Q);Q=iG}var eg=o.children.length,du=z.b2;z.b2=F;var gh=z.mD;z.mD=Math.max(z.mD,u);var ga=A!="text"&&A!="textPath"||eg>1;
if(ga){var d5=_.gF();_.add.lsct=l<2&&d5&&(P==null||!P.endsWith(":::"))?aU.AY:aU.Lp;_.fn="pass";_.de=24;
_.fJ(d5);m.M.push(m.b$())}S.$H(i,o.children,m,Q,z,L,l+1);if(ga)m.M.push(_);else{var fu=m.M[m.M.length-1];
fu.opacity=_.opacity;fu.fn=_.fn}z.mD=gh;z.b2=du}else if(A=="use"){var iG=S.kp(o);iG.concat(Q);var ay=S.lR(o),c7=i.getElementById(ay.slice(1));
if(c7){var du=z.b2;z.b2=F;if(F.filter)c7.setAttribute("filter",F.filter);S.$H(i,[c7],m,iG,z,L,l+1,!0);
z.b2=du}}else if(A=="path"||A=="rect"||A=="circle"||A=="ellipse"||A=="polygon"||A=="polyline"||A=="line"){_.de|=16;
var T=_.add.vmsk=new cc.hF,eE=F.fill,jn=eE=="none"||F["fill-opacity"]&&parseFloat(F["fill-opacity"])==0;
T.$=S.Ow(m,i,o,F["fill-rule"]=="evenodd",jn);I.o.Pa(T.$,Q);var dI=I.o.RP(T.$),dQ=F.stroke,jo=F["stroke-width"],hT=F["stroke-dasharray"],ea=F["stroke-linejoin"];
if(ea==null)ea="miter";var b9=F["stroke-linecap"];if(b9==null)b9="butt";var bI=F["paint-order"],ii=!(dQ==null||dQ=="none"||dQ=="null"),d_=_.add.vstk=jt.lc.TQ(null,ii);
if(ii){var c4=S.ayg(i,dQ,Q,dI,m),kG=["SoFi","GrFl","patternFill"].indexOf(c4.type),fC=c4.b.v.Opct.v,a5=1;
if(fC.val!=100){_.opacity=Math.round(_.opacity*fC.val/100);fC.val=100}var bO=[jt.pb,jt.It,jt.dH][kG],id=d_.strokeStyleContent.v={classID:jt.lc.nU[kG]};
for(var Y=0;Y<bO.length;Y++)id[bO[Y]]=c4.b.v[bO[Y]];jo=jo?parseFloat(jo):1;if(bI&&bI.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){a5=2;
jo/=2}var eU={ljoin:["miter","round","bevel"].indexOf(ea),lcap:["butt","round","square"].indexOf(b9),lwidth:jo};
if(hT!=null&&hT!="none")eU.dash=hT.split(",").map(parseFloat);jt.lc.write(d_,eU,Q.je());d_.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jt.lc.ne[a5];
d_.strokeStyleOpacity.v.val=100*(F["stroke-opacity"]?parseFloat(F["stroke-opacity"]):1)}_.add.vstk.fillEnabled.v=!jn;
if(jn){_.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}}}else{var c4=S.ayg(i,eE,Q,dI,m),af=null,a7=null;
if(c4.type=="SoFi"){af="SoCo";a7=jt.pb}if(c4.type=="GrFl"){af="GdFl";a7=jt.It}if(c4.type=="patternFill"){af="PtFl";
a7=jt.dH}if(af!=null){var fC=c4.b.v.Opct.v;if(fC.val!=100){_.opacity=Math.round(_.opacity*fC.val/100);
fC.val=100}_.add[af]={classID:"null"};for(var Y=0;Y<a7.length;Y++){var n=a7[Y];_.add[af][n]=c4.b.v[n]}}}var g$=Math.max(u,z.mD);
if(g$!=0)_.add.vmsk.JQ=g$;_.tO();_.rH(m);m.M.push(_)}else if((A=="text"||A=="tspan")&&o.textContent!=""){L=S.kp(o,L);
var iG=L.clone(),Z=0;iG.concat(Q);iG.translate(f,0);if(o.children.length>0){var cg=S.dO(o.children[0],z.ad9);
for(var n in cg)if(k.indexOf(n)==-1)F[n]=cg[n]}var cC=F["xml:space"],kF=o.textContent;if(cC=="preserve")kF=kF.replace(/\t/g," ").replace(/\n/g," ");
if(P==null)_.yY(kF);_.add.lnsr="rend";_.add.TySh=e7._x(0,0);_.add.TySh.l$=new j2(0,0,100,100);_.add.TySh.i=iG.clone();
var am=_.add.TySh.Wg;e7.cQ(am,0,kF);if(A=="tspan")f+=R*kF.length*.5*iG.je();var eE=F.fill,cJ=F["font-weight"],fX=F["font-family"],hP=F["text-decoration"],dQ=F.stroke,jo=F["stroke-width"],kx=F["dominant-baseline"];
if(kx=="text-before-edge")Z=R;else if(kx=="middle")Z=R/2;else if(kx=="hanging")Z=R;if(Z!=0)_.add.TySh.i.translate(0,Z);
var f2=e7.IF(am,0,1);if(eE&&eE!="none"){var G=CSS.L4(eE);f2.hU.FillColor={Type:1,Values:[1,G.Z/255,G.r/255,G.e/255]}}if(hP=="underline")f2.hU.Underline=!0;
f2.hU.FontSize=Math.round(R);e7.Ca(f2,"LiberationSans");if(cJ=="bold")e7.Ca(f2,"LiberationSans-Bold");
if(fX){fX=fX.split(",")[0].trim();if(fX[0]=="\"")fX=fX.slice(1);if(fX[fX.length-1]=="\"")fX=fX.slice(0,fX.length-1);
var gt=fX+":"+(cJ?cJ:"normal"),iD={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(iD[gt])e7.Ca(f2,iD[gt]);else e7.Ca(f2,fX)}if(F["text-anchor"])f2.t7.Justification=["start","end","middle"].indexOf(F["text-anchor"]);
e7.Bl(am,0,kF.length,f2);if(dQ==null||dQ=="none"){}else{var j5=JSON.parse(jt.qx[jt.order.indexOf("FrFX")]);
j5.Clr.v=I.I.$q(CSS.L4(dQ));j5.Sz.v.val=Math.round(parseFloat(jo)*iG.je());S.aAs(_,"frameFXMulti",j5)}m.M.push(_)}else if(A=="image"){var ay=S.lR(o);
if(ay&&ay.slice(0,4)=="data"){var eb=i$.oR(ay),dA=eb,e9=m.Mf(dA,_.getName(),0,0);e9.de=_.de;_=e9;var eI=_.rect.clone();
eI.x=eI.y=0;var d9=o.getAttribute("width"),f9=o.getAttribute("height");if(d9)eI.m=parseFloat(d9);if(f9)eI.J=parseFloat(f9);
var e4=S.kp(o);e4.concat(Q);var cj=I.C.Ym(eI).j;I.C.i(cj,e4,cj);_.add.SoLd.Trnf=$.V.xN(cj);_.add.SoLd.nonAffineTransform=$.V.xN(cj);
_.g1(m,!1);m.M.push(_)}}else console.log("unknown tag: "+A,o.children.length,o.textContent.length);if(H!=null){m.M.push(H);
l--}}};d2.aAs=function(i,C,m){var e=i.add.lmfx;if(e==null){var e=i.add.lmfx=JSON.parse(jt.default);for(var Y=0;
Y<jt.order.length;Y++)e[jt.m8[Y]]={t:"VlLs",v:[]}}e[C].v.push({t:"Objc",v:m})};d2.Ow=function(i,C,m,e,z){var L=d2,l=[{type:6},{type:8,all:0}],x=m.tagName;
if(x=="use"){var S=L.lR(m),k=C.getElementById(S.slice(1)),f=new hN;if(k.tagName!="rect")f=L.kp(k);f.concat(L.Ak(k));
l=L.Ow(i,C,k,e,z);I.o.Pa(l,f)}else if(x=="path"){var X=m.getAttribute("d");if(X==null)return l;var o=Typr.U.SVGToPath(X);
l=I.C.aZ({j:o.crds,G:o.cmds},e,z)}else if(x=="rect"){var A=m.getAttribute("rx"),P=new b5(0,0);L.M0("x",m,i,P,!0);
L.M0("y",m,i,P,!1);var F=new b5(0,0);L.M0("width",m,i,F,!0);L.M0("height",m,i,F,!1);l=I.o.vC.Rect(P.x,P.y,F.x,F.y,A?parseFloat(A):0)}else if(x=="circle"||x=="ellipse"){var n=[0,0,0,0],R=["cx","cy","rx","ry","r"];
for(var Y=0;Y<5;Y++){var Q=m.getAttribute(R[Y]);if(Q){Q=parseFloat(Q);if(Y<4)n[Y]=Q;else n[2]=n[3]=Q}}l=I.o.vC.Xl(n[0]-n[2],n[1]-n[3],2*n[2],2*n[3])}else if(x=="polygon"||x=="polyline"||x=="line"){var s;
if(x=="line")s=[m.getAttribute("x1"),m.getAttribute("y1"),m.getAttribute("x2"),m.getAttribute("y2")].map(parseFloat);
else s=m.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
l=I.o.vC.Cf(s,0,x!="polygon")}return l};d2.SD=function(i,C){if(i.charAt(i.length-1)=="m")return C*parseFloat(i.slice(0,i.length-2));
else return parseFloat(i)};d2.ayg=function(i,C,m,e,z){var L,l,x=d2,S=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]),k=C!=null?C.indexOf("("):-1;
if(k!=-1){var f=C.indexOf(")"),X=C.slice(0,k).trim(),o=C.slice(k+1,f).trim();if(o.charAt(0)=="'")o=o.slice(1,o.length-1);
if(X=="url"){if(o.charAt(0)=="#"){var A=i.getElementById(o.slice(1));if(A&&A.tagName.toLowerCase().endsWith("gradient")){var P=x._8(i,A,m,e);
L="GrFl";l={t:"Objc",v:P}}else if(A&&A.tagName.toLowerCase()=="pattern"&&A.children[0]&&A.children[0].tagName=="use"){L="SoFi";
l={t:"Objc",v:S};var F=A.children[0],n=x.Ak(F),R=x.lR(F),Q=i.getElementById(R.slice(1)),s=i$.oR(x.lR(Q)).buffer,j=i$.AL(i$.ra(s)),_=j.pX(s)[0],B={};
B.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";B.name="someImage";B.GK=[new Uint8Array(_.data),_.Jw];z.p0(B);
var S=JSON.parse(jt.qx[jt.order.indexOf("patternFill")]);S.Scl.v.val=Math.round(100*e.m*n.W);var N=S.phase.v;
N.Hrzn.v=Math.round(e.x+n.W_*e.m);N.Vrtc.v=Math.round(e.y+n.Rj*e.J);S.Ptrn.v.Idnt.v=B.id;L="patternFill";
l={t:"Objc",v:S}}else{L="SoFi";l={t:"Objc",v:S}}}else console.log("unknown url",o)}else if(X=="rgb"||X=="rgba"){L="SoFi";
l={t:"Objc",v:S};l.v.Clr.v=I.I.$q(CSS.L4(C));if(X=="rgba")l.v.Opct.v.val=Math.round(100*parseFloat(C.split(",").pop()))}else console.log("unknown fill",C)}else{L="SoFi";
l={t:"Objc",v:S};var a=CSS.L4(C);l.v.Clr.v=I.I.$q(a);if(a.W!=null)l.v.Opct.v.val=Math.round(100*a.W/255)}return{type:L,b:l}};
d2.Ak=function(i){var C=new hN,m=i.getAttribute("transform");if(m)C=d2.es(m);var e=i.getAttribute("style");
if(e!=null){var z={};d2.qI(z,e,["transform"]);e=z.transform;if(e)C.concat(d2.es(e))}return C};d2.kp=function(i,C){var m=new hN,e=i.getAttribute("x"),z=i.getAttribute("y");
if(e)m.W_=parseFloat(e);else if(C)m.W_=C.W_;if(z)m.Rj=parseFloat(z);else if(C)m.Rj=C.Rj;return m};d2.es=function(i){var C=Typr.U.SVG.readTrnf(i);
return new hN(C[0],C[1],C[2],C[3],C[4],C[5])};d2.dO=function(i,C){var m={},e="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var Y=0;Y<e.length;Y++){var z=i.getAttribute(e[Y]);if(z!=null&&z!="inherit")m[e[Y]]=z}var L=i.getAttribute("class");
if(C!=null&&L!=null&&C["."+L]!=null)d2.qI(m,C["."+L],e);var l=i.getAttribute("id");if(C!=null&&l!=null&&C["#"+l]!=null)d2.qI(m,C["#"+l],e);
var x=i.getAttribute("style");if(x!=null)d2.qI(m,x,e);return m};d2.qI=function(i,C,m){C=C.trim().split(";");
for(var Y=0;Y<C.length;Y++){var e=C[Y].split(":"),z=e[0]?e[0].trim():"",L=e[1]?e[1].trim():"";for(var l=0;
l<m.length;l++)if(z==m[l]&&L!="inherit")i[m[l]]=L}};d2.lR=function(i){var C=i.getAttribute("xlink:href");
if(C==null)C=i.getAttribute("href");if(C==null)C=i.getAttribute("xl:href");return C};d2.M0=function(i,C,m,e,z){var L=C.getAttribute(i);
if(L==null)return;var l=parseFloat(L);if(L.endsWith("%"))l*=(z?m.m:m.J)/100;if(z)e.x=l;else e.y=l};d2._8=function(i,C,m,e){var z=d2,L=z.M0,l=new hN,x=C.getAttribute("gradientTransform"),P=!1;
if(x)l=z.es(x);l.concat(m);var S=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),k=S.Grad.v;k.Intr.v=0;var f=C.tagName,X=new b5(0,0),o=new b5(e.m,0);
if(f=="linearGradient"){S.Type.v.GrdT="Lnr";var A=new j2(0,0,1,1);L("x1",C,A,X,!0);L("y1",C,A,X,!1);
L("x2",C,A,o,!0);L("y2",C,A,o,!1);X.x=o.x+.5*(X.x-o.x);X.y=o.y+.5*(X.y-o.y)}if(f=="radialGradient"){S.Type.v.GrdT="Rdl";
if(C.getAttribute("cx"))X.x=parseFloat(C.getAttribute("cx"));if(C.getAttribute("cy"))X.y=parseFloat(C.getAttribute("cy"));
o.zy(X.x,X.y);if(C.getAttribute("r"))o.x+=parseFloat(C.getAttribute("r"))}var F=C;while(!0){if(F.getAttribute("gradientUnits")=="userSpaceOnUse")P=!0;
var n=z.lR(F);if(n==null)break;F=i.getElementById(n.slice(1))}if(P){X=l.M$(X);o=l.M$(o)}else{X.x=e.x+X.x*e.m;
X.y=e.y+X.y*e.J;o.x=e.x+o.x*e.m;o.y=e.y+o.y*e.J}I.I.dV(X,o,e,S);var R=C.children;if(R.length==0){var Q=z.lR(C);
if(Q==null)throw"gradient has no stops";var s=i.getElementById(Q.slice(1));if(s==null){console.log(Q.slice(1))}else{var j=z._8(i,s,l,e);
S.Grad=j.Grad}}else{var _=[];for(var Y=0;Y<R.length;Y++){var B=R[Y],N=z.dO(B),a=N["stop-color"],O=N["stop-opacity"],H=B.getAttribute("offset");
if(a==null)a="#000000";O=O==null?1:parseFloat(O);var q=H?parseFloat(H):0;if(H&&H.endsWith("%"))q/=100;
a=CSS.L4(a);if(a.W!=null)O*=a.W/255;_.push([q,[a.Z/255,a.r/255,a.e/255],parseFloat(O)])}I.I.Sc(_,k)}return S};
d2.Em=function(){var i=null,C=null,m="",e="",z;function L(a,O,H,q){var h=[],y=" { ",b=" } ",g=!1;C=O;
e=O.mQ?"":"\t";m=O.mQ?"":" ";var D=O.auA,T=O.ain;z=new j2(0,0,a.m,a.J);if(q!=null){z=a.root.children[q].a.d3();
D=z.m;T=z.J}h.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[z.x,z.y,z.m,z.J].join(" ")+"\" width=\""+D+"\" height=\""+T+"\">");
if(!O.mQ)h.push(l(1)+"<title>"+s(a.name.split(".")[0])+"</title>");var p={TL:[],eo:[],gz:0,bq:0,IZ:0,e8:{},X5:{},rN:0,te:{},asM:{},KS:0,FV:[]};
F(a,p,a.root.children,1,O,H,q);if(p.TL.length!=0){h.push(l(1)+"<defs>");h=h.concat(p.TL);h.push(l(1)+"</defs>")}h.push(l(1)+"<style>");
if(O.mQ){y="{";b="}"}for(var Y=0;Y<a.M.length;Y++)if(a.M[Y].add.TySh)g=!0;if(g&&!O.axg&&!O.akl)h.push(l(2)+"tspan"+y+"white-space:pre"+b);
for(var u in p.te)h.push(l(2)+"."+u+y+p.te[u]+b);h.push(l(1)+"</style>");h=h.concat(p.eo);h.push("</svg>");
h=h.join(O.mQ?"":"\n");return W.x5(h)}function l(k7){var a="";for(var Y=0;Y<k7;Y++)a+=e;return a}function x(k7,a){if(a==null)a=1;
var O=""+parseFloat(k7.toFixed(a));if(O.startsWith("0."))O=O.slice(1);return O}function S(a,O){var H=a.add.lmfx;
if(H)H=H[O].v[0];if(H)H=H.v;if(H&&!H.enab.v)H=null;return H}function k(a,O){var H=S(a,"frameFXMulti");
if(H){var q=H.Sz.v.val;if(H.Styl.v.FStl=="OutF"){O.push("paint-order:stroke fill markers");q*=2}P(O,CSS.pD(H.Clr.v),1);
if(q!=1)O.push("stroke-width: "+q);O.push("stroke-linejoin: round;")}}var f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function X(a){var O=f.length,H="";for(var q=1;q<10;q++){var h=(O-10)*~~Math.pow(O,q-1);if(a<h){for(var Y=0;
Y<q;Y++){var D=Y==q-1?10:0,T=O-D,p=a%T;H=f[p+D]+H;a=Math.floor((a-p)/T)}break}a-=h}return H}function o(a,O,H,q){if(a.length!=0){if(q==null)q="s";
var h=a.join(";"),D=O.asM[h];if(D==null){D=C.mQ?X(O.KS):q+O.KS;O.KS++;O.asM[h]=D;O.te[D]=h}if(H)H.push(D);
return D}}function A(a){if(C.mQ&&a.length==7&&a[0]=="#"){if(a[1]==a[2]&&a[3]==a[4]&&a[5]==a[6])a="#"+a[1]+a[3]+a[5]}return a}function P(a,O,H){O=A(O);
if(O!="#000"||H==1)a.push((H==0?"fill:":"stroke:")+m+O)}function F(a,O,H,q,h,D,T){var p=!1;for(var y=0;
y<H.length;y++){var b=H[y].a,g=b.add.lsct;if(b.add.artb&&T!=null&&y!=T)continue;if(!b.cy&&H[y+1]&&H[y+1].a.cy&&b.Q9()&&b.add.vmsk){var u=[];
_(b,b.add.vmsk,O,u);O.eo.push(l(q)+"<g "+u[0]+">");q++;p=!0}else if(!b.cy&&H[y-1]&&H[y-1].a.cy&&p){q--;
O.eo.push(l(q)+"</g>");p=!1}var t=b.add.vmsk,V=b.add.vogk,c=b.add.vstk,E=b.add.TySh;if(t&&!t.isEnabled)t=c=null;
var Z=[];if(!h.hidden&&!b.gF())continue;var G=b.opacity/255,J=b.add.iOpa?b.add.iOpa/255:1;if(b.yJ()){G*=J;
J=1}if(G!=1)Z.push("opacity:"+m+x(G));if(J!=1)Z.push("fill-opacity:"+m+x(J));if(b.fn!="norm"){var K=aw.VJ[aw.Az.indexOf(b.fn)];
if(K!=null)Z.push("mix-blend-mode:"+m+K)}if(!b.gF())Z.push("display:"+m+"none");var u=[],M=[],U=b.getName(),r=U.indexOf(" .");
if(!h.mQ)u.push("id=\""+s(U)+"\"");var dS=k4.Ir(b.add.lmfx,b.add),w=dS[0],di=dS[1],eM=b.add.SoLd;if(eM&&eM.filterFX){var j5=eM.filterFX.v;
if(j5.enab.v&&j5.filterFXList.v.length!=0)eM=null}if(b.yJ()){var ds=H[y].children;if(!(ds.length==1&&ds[0].a.add.SoLd&&!h.nN)){if(i&&b.getName().split("-").length==3){i.push({T_:b.getName(),aE:0,Gu:[]})}_(b,t,O,u);
if(Z.length!=0)u.push("style=\""+Z.join(";")+"\"");if(w){var ba=CSS.pD(w.Clr.v),gH="f"+O.bq;O.bq++;O.eo.push(l(q)+"<filter id=\""+gH+"\">");
O.eo.push(l(q+1)+"<feFlood flood-color=\""+ba+"\" flood-opacity=\""+x(w.Opct.v.val/100,2)+"\" />");O.eo.push(l(q+1)+"<feBlend mode=\""+aw.VJ[aw.Az.indexOf(aw._A(w.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
O.eo.push(l(q+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");O.eo.push(l(q)+"</filter>");
u.push("filter=\"url(#"+gH+")\"")}var ir=Q(u,M),iP=h.mQ&&ir=="";if(!iP)O.eo.push(l(q)+"<g"+(ir==""?"":" "+ir)+">");
F(a,O,ds,q+1,h,D);if(!iP)O.eo.push(l(q)+"</g>")}}else if(b.Q9()&&t==null){B(a,Z,b.add,O,z,h);if(Z.length!=0)u.push("style=\""+Z.join(";")+"\"");
O.eo.push(l(q)+"<rect width=\""+z.m+"\" height=\""+z.J+"\" "+Q(u,M)+"/>")}else if(t&&eM==null){var iy=I.o.RP(t.$,null,!0),iG,eg=null,du=0,gh;
B(a,Z,b.add,O,iy,h);o(Z,O,M);if(V.length!=0){iG=V[0].v;eg=iG.keyOriginType;if(eg)eg=eg.v;if(eg==2){var ga=I.ta.vg(iG);
du=ga[0];for(var Y=0;Y<3;Y++)if(du!=ga[Y+1])eg=null}}if(V.length==1&&eg==5&&Math.abs(I.ta.asE(iG))<1e-4){var iy=I.ta.eb(iG),fu=(iy[0]+iy[2])/2,ay=(iy[1]+iy[3])/2,c7=fu-iy[0],eE=ay-iy[1],jn=Math.abs(c7-eE)<.01,dI=jn?"r=\""+x(c7)+"\"":"rx=\""+x(c7)+"\" ry=\""+x(eE)+"\"";
gh="<"+(jn?"circle":"ellipse")+" "+Q(u,M)+" cx=\""+x(fu)+"\" cy=\""+x(ay)+"\" "+dI+"/>"}else if(V.length==1&&eg==2&&du!=0&&Math.abs(I.ta.asE(iG))<1e-4){var iy=I.ta.eb(iG),dQ=iy[0],jo=iy[1],hT=iy[2]-iy[0],ea=iy[3]-iy[1],b9="";
if(dQ!=0)b9+=" x=\""+x(dQ)+"\"";if(jo!=0)b9+=" y=\""+x(jo)+"\"";b9+=" width=\""+x(hT)+"\"";b9+=" height=\""+x(ea)+"\"";
b9+=" rx=\""+x(du)+"\"";gh="<rect "+Q(u,M)+b9+"></rect>"}else{var bI=I.o.iM(t.$,1);if(bI.Ts!=0){u.push("fill-rule=\"evenodd\"")}gh="<path "+Q(u,M)+" d=\""+bI.wV+"\"/>"}O.eo.push(l(q)+gh);
if(i&&i[i.length-1]){var ii=I.C.BN(t.$);ii.j=ii.j.map(Math.round);var d_=i[i.length-1];d_.aE+=JSON.stringify(ii).length;
d_.Gu.push([Z[0].split("#").pop(),ii])}}else if(E&&h.axg){m=h.mQ?"":" ";var c4=E.Wg,kG=new bY(c4,D),fC=null;
if(w)fC=CSS.pD(w.Clr.v);if(di){var iy=b.rect.clone();N(di,O,iy,h);fC="url(#g"+O.gz+")"}if(fC)Z.push("fill:"+m+fC);
k(b,Z);var bO=b7.u_(kG,E,!0),id=I.C.So(bO);for(var a5 in id){var eU=Z.slice(0),af=M.slice(0),a7=u.slice(0);
if(fC==null){P(eU,a5.slice(0,7),0);if(a5.length>7){var g$=a5.slice(7).split("-");console.log(g$);P(eU,g$[1],1);
if(g$[2]!="1")eU.push("stroke-width:"+m+g$[2])}}o(eU,O,af);var cg=id[a5],g$=Typr.U.pathToSVG({crds:cg.j,cmds:cg.G},1);
O.eo.push(l(q)+"<path "+Q(a7,af)+(h.mQ?"":" "+R(E))+" d=\""+g$+"\"/>")}}else if(E&&!h.akl){var c4=E.Wg,cC=E.i.clone(),fC=null;
Z.push("transform:"+m+j(cC));var kF=e7.lD(c4),kG=new bY(c4,D);k(b,Z);if(Z.length!=0)u.push("style=\""+Z.join(";")+"\"");
O.eo.push(l(q)+"<text "+Q(u,M)+" >");if(w)fC=CSS.pD(w.Clr.v);if(di){var iy=b.rect.clone();iy.x-=cC.W_;
iy.y-=cC.Rj;N(di,O,iy,h);fC=" url(#g"+O.gz+")"}for(var Y=0;Y<kG.t7.length;Y++){var am=kG.t7[Y];if(am.Qz.length==1&&am.Qz[0].V8)continue;
for(var cJ=0;cJ<am.DC.length;cJ++){var fX=am.DC[cJ],ay=am.xi.y+fX.xi.y,hP=am.Qz[fX.start].start,kx=am.Qz[fX.end-1].end,f2=e7.avZ(c4,hP,kx),gt="";
for(var iD=0;iD<f2.length;iD++){var eb=kG.xc(hP),dA=f2[iD],e9=e7.IF(c4,hP,hP),eI=e9.JR[e9.hU.Font].Name,a5=e7.oq(e9.hU.FillColor),d9=Math.round(e9.hU.FontSize),f9=kF.slice(hP,hP+dA);
if(e9.hU.FontCaps==2)f9=f9.toUpperCase();var e4=new hN;e4.translate(eb.TD.x,-ay);var cj=[];CSS.aCX(cj,e9,null,!0,!0,fC);
var i4=o(cj,O,null,"t");i4=i4?" class=\""+i4+"\"":"";var fu=eb.TD.x,d6=n(e9,f9);gt+="<tspan "+(iD==0?"x=\""+x(eb.TD.x)+"\"":"")+" y=\""+x(ay)+"\""+i4+d6+">"+s(f9)+"</tspan>";
hP+=dA}O.eo.push(l(q+1)+gt)}}O.eo.push(l(q)+"</text>")}else if(eM&&h.nN&&w==null){var gH=eM.Idnt.v,ko=0,cM=eM.Crop?eM.Crop.v:null;
if(O.X5[gH]!=null)ko=O.X5[gH];else{O.rN++;ko=O.rN;O.X5[gH]=O.rN;var g2=a.WY(gH,cM),dW="";if(g2==null)return;
var iW=g2.pC,bl=i$.ra(g2.raw.buffer);if(bl=="pdf"){var j8=new ei("h");i$.AL("PDF").pX(g2.raw.buffer,j8);
j8.JJ();j8.kr();j8.Y();j8.um();if(eM.Crop&&eM.Crop.v==1){$.lx.UH(j8,j8.root.S8(j8,!0))}var dq=i$.AL("SVG").B3(j8,j8.m,j8.J,null,{FV:D});
dW="data:image/svg+xml;base64,"+i$.m7(dq)}else if(bl=="jpg"||bl=="png"||bl=="gif"||bl=="svg"){var hl={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
dW="data:"+hl[bl]+";base64,"+i$.m7(g2.raw.buffer)}else{dW=i$.yt(iW[0].buffer,iW[1].m,iW[1].J)}O.TL.push(l(2)+"<image width=\""+iW[1].m+"\" height=\""+iW[1].J+"\" id=\"img"+ko+"\" href=\""+dW+"\"/>")}var gY=I.D.sb(eM),bE=[];
_(b,t,O,bE);if(bE.length!=0)O.eo.push(l(q)+"<g "+Q(bE,M)+">");if(Z.length!=0)u.push("style=\""+Z.join(";")+"\"");
var dn=Q(u,M);O.eo.push(l(q)+"<use "+dn+" href=\"#img"+ko+"\" transform=\""+j(gY)+"\"/>");if(bE.length!=0)O.eo.push(l(q)+"</g>")}else if(!b.rect.bs()&&(h.nN||E)){if(Z.length!=0)u.push("style=\""+Z.join(";")+"\"");
var dn=Q(u,M),a3=b.buffer;if(w)a3=k4.auK(a3,w,b.rect);var en=b.rect;O.rN++;var dW=i$.yt(a3.buffer,en.m,en.J,"png",null,!0);
O.TL.push(l(2)+"<image "+R(E)+" width=\""+b.rect.m+"\" height=\""+b.rect.J+"\" id=\"img"+O.rN+"\" href=\""+dW+"\"/>");
O.eo.push(l(q)+"<use "+dn+" href=\"#img"+O.rN+"\" x=\""+en.x+"\" y=\""+en.y+"\"/>")}}if(p){q--;O.eo.push(l(q)+"</g>");
p=!1}}function n(a,O){var H=a.hU.Tracking,q="";if(H!=null&&H!=0){H=Math.round(H*a.hU.FontSize/1e3);q=" dx=\"0";
for(var h=1;h<O.length;h++)q+=" "+H;q+="\" "}return q}function R(a){if(a==null)return"";var O=a.Wg,H=e7.lD(O);
H=s(H.slice(0,H.length-1));return"aria-label=\""+H+"\" "}function Q(a,O){if(O.length!=0)a.push("class=\""+O.join(" ")+"\"");
return a.join(" ")}function s(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function j(a){var O=[a.W,a.e,a.xF,a.o6,a.W_,a.Rj];
for(var Y=0;Y<6;Y++)O[Y]=x(O[Y],3);return"matrix("+O.join(",")+")"}function _(a,O,H,q){if(O||a.add.artb){var h;
if(O)h=I.o.iM(O.$).wV;else{var D=a.d3(),T=I.C.Ym(D);h=Typr.U.pathToSVG({crds:T.j,cmds:T.G},1)}H.IZ++;
q.push("clip-path=\"url(#cp"+H.IZ+")\"");H.TL.push(l(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+H.IZ+"\">");
H.TL.push(l(3)+"<path d=\""+h+"\"/>");H.TL.push(l(2)+"</clipPath>")}}function B(a,O,H,q,h,D){var T=H.vstk,p=H.vmsk,y=H.lmfx,b=[];
if(p&&p.JQ!=0){var g=x(p.JQ);if(q.e8[g]==null){q.bq++;q.e8[g]=q.bq;q.TL.push(l(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+q.bq+"\"> <feGaussianBlur stdDeviation=\""+g+"\"/> </filter>")}b.push("url(#f"+q.e8[g]+")")}if(y)for(var Y=0;
Y<jt.order.length;Y++){var u=jt.order[Y],t=jt.m8[Y],V=y[t].v;for(var c=0;c<V.length;c++){var E=V[c].v,Z=E.classID;
if(!E.enab.v)continue;if(Z=="OrGl"||Z=="DrSh"){q.bq++;b.push("url(#f"+q.bq+")");var G=0,J=0,K=E.blur.v.val/2.4,M=E.Opct.v.val/100;
if(Z=="DrSh"){var U=E.uglg&&E.uglg.v?a.Ju():E.lagl.v.val;U=U*(Math.PI/180);var r=E.Dstn.v.val;G=-Math.cos(U)*r;
J=Math.sin(U)*r}if(Z=="OrGl")M/=E.Inpr.v.val/100;var dS="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+q.bq+"\" >";
dS+="<feDropShadow dx=\""+G+"\" dy=\""+J+"\" stdDeviation=\""+K+"\" flood-color=\""+CSS.pD(E.Clr.v)+"\" flood-opacity=\""+x(M)+"\"/>";
dS+="</filter>";q.TL.push(l(2)+dS)}}}if(b.length!=0)O.push("filter:"+m+b.join(" "));var w=k4.Ir(y,H),di=w[0],eM=w[1];
if(T&&!T.fillEnabled.v)O.push("fill:"+m+"none");else if(di){var j5=CSS.pD(di.Clr.v);P(O,j5,0)}else if(eM){N(eM,q,h,D);
P(O,"url(#g"+q.gz+")",0)}if(T==null||!T.strokeEnabled.v)T=k4.OE(y);if(T&&T.strokeEnabled.v){var ds=T.strokeStyleContent.v,ba=ds.classID;
if(ba=="solidColorLayer")P(O,CSS.pD(ds.Clr.v),1);else{N(ds,q,h,D);P(O,"url(#g"+q.gz+")",1)}var gH=T.strokeStyleOpacity.v.val/100,ir=jt.lc.tB(T),iP=ir.lcap,iy=ir.ljoin,iG=ir.lwidth,eg=ir.sal,gh=ir.dash;
if(eg==2){iG*=2;O.push("paint-order:stroke fill markers")}if(iP!=0)O.push("stroke-linecap:"+m+["butt","round","square"][iP]);
if(iy!=0)O.push("stroke-linejoin:"+m+["miter","round","bevel"][iy]);if(gH!=1)O.push("stroke-opacity:"+m+x(gH));
if(iG!=1)O.push("stroke-width:"+m+x(iG));if(gh.length!=0)O.push("stroke-dasharray:"+m+gh.join(","))}}function N(a,O,H,q){O.gz++;
var h=a.Grad.v,D=JSON.parse(JSON.stringify(h.Clrs.v)),T=JSON.parse(JSON.stringify(h.Trns.v)),p=a.Ofst.v,y=a.Type.v.GrdT,b=y=="Rdl"||y=="Dmnd"?1:0,g=(b==1?"radial":"linear")+"Gradient",u=I.I.II(a,H),V="";
if(b==0){u[0].x=u[1].x+2*(u[0].x-u[1].x);u[0].y=u[1].y+2*(u[0].y-u[1].y)}var t=l(2)+"<"+g+" id=\"g"+O.gz+"\"";
if(q.mQ){if(O.gz==1)O.TL.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");V=" href=\"#P\""}else V=" gradientUnits=\"userSpaceOnUse\"";
if(b==0)O.TL.push(t+" x1=\""+x(u[0].x)+"\" y1=\""+x(u[0].y)+"\" x2=\""+x(u[1].x)+"\" y2=\""+x(u[1].y)+"\""+V+">");
if(b==1)O.TL.push(t+" cx=\""+x(u[0].x)+"\" cy=\""+x(u[0].y)+"\" r=\""+x(b5.qM(u[0],u[1]))+"\""+V+">");
var c=a.Rvrs.v,E=I.I.yW(h,c),Z=q.mQ?2:3;for(var Y=0;Y<E.length;Y++){var G=E[Y],J=G[0],K=G[1],M=G[2];
M=M==1?"":" stop-opacity=\""+x(M,Z)+"\"";var U=J==0&&q.mQ?"":" offset=\""+x(J,Z)+"\"",r=CSS.IT({Z:K[0]*255,r:K[1]*255,e:K[2]*255});
r=q.mQ&&r=="#000000"?"":" stop-color=\""+A(r)+"\"";O.TL.push(l(3)+"<stop"+U+r+M+"/>")}O.TL.push(l(2)+"</"+g+">")}d2.Xh=j;
return L}();d2.vC=function(i,C,m,e,z){var L=[],l=d2.vC,x=!1,S={HG:i,bB:C,Wv:[!0,!0,!0],Sn:!1,aj:m,a5V:0};
S._X=Math.round(Math.max(i,C)*(.02+l.b9(S)*.03));S.YW=l.as_(S);S.zk=l.ahK(S.YW,(l.b9(S)<.5?-1:1)*(.2+l.b9(S)*.3));
if(l.b9(S)<.5){var k=S.YW;S.YW=S.zk;S.zk=k}S.at7=l.b9(S)<.4&&l.aBB(S.zk,{Z:1,r:1,e:1})>.3;S.ajo=l.b9(S)<.5?0:1;
L.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+i+" "+C+"\" width=\""+i+"\" height=\""+C+"\">");
S.Db=e[Math.floor(l.v4(S)*e.length)];S.oX=e[Math.floor(l.v4(S)*e.length)];L.push("<style>");L.push("@font-face {  font-family: "+S.Db[2]+";  src: url(rsrc/fonts/"+S.Db[5]+");  }");
L.push("@font-face {  font-family: "+S.oX[2]+";  src: url(rsrc/fonts/"+S.oX[5]+");  }");L.push("</style>");
var f=[0,0,i,C],X=f;if(z==null)L.push("<path style=\"fill: "+l.t9(S.YW)+"\" d=\""+l.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1])+"\" id=\"Background\" />");
else{S.Sn=!0;l.ayd(S,f,L,z)}if(l.b9(S)<.25&&!S.Sn){S.Wv[0]=S.Wv[2]=!1;l.aeS(f,S,L);X=f}else if(l.b9(S)<.25||S.Sn)X=f;
else{var o=.52+l.b9(S)*.2;if(l.b9(S)<.5)o=1-o;var A=f.slice(0),P=f.slice(0);if(l.b9(S)<.5)A[2]=P[0]=Math.round(o*i);
else A[3]=P[1]=Math.round(o*C);if(l.b9(S)<.5){var k=A;A=P;P=k}X=A;l.ar7(S,P,L,z)}l.ayu(S,X,L);L.push("</svg>");
L=L.join("\n");var F=I.R(Math.round(L.length*1.5)),n=W.ab(L,F,0);return[F.buffer.slice(0,n),S.FY]};d2.vC.aeS=function(i,C,m){var e=d2.vC,z=i[2]-i[0],L=i[3]-i[1];
if(e.b9(C)<.5){m.push("<path id=\"Border\" style=\"fill: "+e.t9(C.zk)+"\" d=\""+e.aaZ(i[0],i[1],i[2]-i[0],i[3]-i[1],C._X)+"\" />")}else if(e.b9(C)<-.4){e.a1m(C,i,m)}else{var l=e.b9(C)<.5?0:1,x=(l==0?L:z)/4,S=e.nB(C,l,i,m,x,!0),S=e.nB(C,l+2,i,m,x,!0,S)}};
d2.vC.ayu=function(i,C,m){var e=d2.vC,z="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),L=2*Math.floor(e.b9(i)*z.length/2),l=C[2]-C[0],x=C[3]-C[1],k=0,X=0;
i.LQ=(i.HG+l)*.5*(.04+e.b9(i)*.05);i.LQ=Math.min(i.LQ,x*.4,l*.12);i.LQ=Math.round(i.LQ);var S=Math.min(i.LQ*z[L].length*(.35+.3*e.b9(i)),l*.9),f=(C[1]+C[3])/2,o=I.CP(i.YW)<.85?{Z:1,r:1,e:1}:{Z:.1,r:.1,e:.1};
if(e.b9(i)<.25&&i.Wv[0]){X=0;k=C[0]+i._X}else if(e.b9(i)<.33&&i.Wv[2]){X=2;k=C[2]-i._X}else{X=1;k=(C[0]+C[2])/2}var A=o.Z==1?"0,0,0":"255,255,255",P=i.Sn&&e.b9(i)<1;
if(P){var F=C[0],n=l,R=f-i.LQ*1.1,Q=i.LQ*2.2,s=.7;if(X==1&&e.b9(i)<.5){F=R=.2*Math.min(l,x);n=l-2*R;
Q=x-R-R}else if(e.b9(i)<.7){F=R=0;n=l;Q=x;s=.25}m.push("<path id=\"Strip\" style=\"fill: rgb("+A+"); opacity: "+s+"\" d=\""+e.Rect(F,R,n,Q)+"\" />")}if(e.b9(i)<.4){var j=i.LQ*.07;
j*=1.5+e.b9(i)*1;if(X==-1&&l/x<3&&!P){m.push("<path id=\"Bar-bottom\" style=\"fill: "+e.t9(o)+"\" d=\""+e.Rect(k-S/2,f+i.LQ*1.1-j/2,S,j)+"\" />");
m.push("<path id=\"Bar-top\"    style=\"fill: "+e.t9(o)+"\" d=\""+e.Rect(k-S/2,f-i.LQ*1.1-j/2,S,j)+"\" />")}if(X!=1){m.push("<path id=\"Bar\" style=\"fill: "+e.t9(o)+"\" d=\""+e.Rect(k-j/2,f-i.LQ*.8,j,i.LQ*.8*2)+"\" />");
k+=(X==0?1:-1)*i.LQ/3}}var _=i.LQ*.4;m.push(e.awK(z[L+1],k,f+_*1.6,_,o,X,i.oX));m.push(e.awK(z[L],k,f+i.LQ*.04,i.LQ,o,X,i.Db))};
d2.vC.ar7=function(i,C,m,e){var z=C[2]-C[0],L=C[3]-C[1],l=Math.max(z,L),x=Math.min(z,L),S=d2.vC;if(l/x<5&&!i.Sn&&!1){S.ayd(i,C,m,e)}else if(S.b9(i)<0)m.push("<path style=\"fill: "+S.t9(i.zk)+"\" d=\""+S.Rect(C[0],C[1],z,L)+"\" />");
else{var k=0;if(C[3]!=i.bB)k=0;if(C[2]!=i.HG)k=3;if(C[0]!=0)k=1;if(C[1]!=0)k=2;var f=k+2&3;if(l/x<3){var X=S.a5K(f),o=X[Math.round(S.b9(i)*(X.length-1))],A=o.T_.slice(0,4),P=A.indexOf(1);
o=JSON.parse(JSON.stringify(o));var F=-1;if(A!="0000"){var n=new hN;if(o.T_[5]=="0"){if(P==3&&k==1){F=1;
n.scale(-1,1)}else F=P}else{var R=f;while(R==f)R=Math.floor(S.b9(i)*4)&3;n.rotate((-P+R)*Math.PI/2)}S.i(o,n)}var Q=S.OO(o),s=z-2*i._X,j=L-2*i._X;
if(F!=-1){if((F&1)==0)j-=i._X;else s-=i._X}var _=Math.min(s/Q.m,j/Q.J),B=new hN;B.translate(-Q.x,-Q.y);
B.scale(_,_);var N=(z-Q.m*_)/2,a=(L-Q.J*_)/2;if(F!=-1){if(F==3)N=0;if(F==0)a=0;if(F==1)N=z-Q.m*_;if(F==2)a=L-Q.J*_}B.translate(C[0]+N,C[1]+a);
S.P0(i,o,B,i.zk,m)}else{S.nB(i,k,C,m,1e9)}}};d2.vC.ayd=function(i,C,m,e){var z=C[2]-C[0],L=C[3]-C[1],l=Math.max(z,L),x=Math.min(z,L),S=d2.vC,k=S.v4(i),f,X,o,A=e[0]instanceof ArrayBuffer;
if(A){f="data:image/jpg;base64,"+g_.XN(e[0]);X=e[1];o=e[2]}else{var P=Math.floor(k*e.length),F=e[P];
i.FY=F;f=F.webformatURL;X=F.webformatWidth;o=F.webformatHeight}var n=C[0],R=C[1],Q=z,s=L;if(z/L>X/o){s=Q*o/X;
R=R-(s-L)/2}else{Q=s*X/o;n=n-(Q-z)/2}if(A){m.push("<defs>");m.push("<image width=\""+X+"\" height=\""+o+"\" id=\"Background\" href=\""+f+"\" />");
m.push("</defs>");var j=Q/X;m.push("<use href=\"#Background\" transform=\""+d2.Xh(new hN(j,0,0,j,n,R))+"\" />")}else{var _="cp"+Math.random();
m.push("<clipPath id=\""+_+"\">");m.push("<path style=\"fill: "+S.t9(i.zk)+"\" d=\""+S.Rect(C[0],C[1],z,L)+"\" />");
m.push("</clipPath>");m.push("<image  clip-path=\"url(#"+_+")\" xlink:href=\""+f+"\" x=\""+n+"\" y=\""+R+"\" width=\""+Q+"\" height=\""+s+"\" />")}};
d2.vC.awK=function(i,C,m,e,z,L,l){var x=d2.vC;return"<text x=\""+C+"\" y=\""+m+"\" style=\"fill:"+x.t9(z)+"; font-size:"+e+"px; text-anchor:"+["start","middle","end"][L]+"; font-family:"+l[2]+";\"><tspan>"+i+"</tspan></text>"};
d2.vC.P0=function(i,C,m,e,z){var L=d2.vC,l=[];for(var Y=0;Y<C.Gu.length;Y++){l.push(e);if(i.at7){e=(Y&1)==i.ajo?{Z:1,r:1,e:1}:l[0]}}z.push("<g id=\""+C.T_.split("-")[2]+":::\" style=\"transform: "+d2.Xh(m)+";\" >");
for(var Y=0;Y<C.Gu.length;Y++){var x=C.Gu[Y];e=l.pop();z.push("<path style=\"fill: "+(e?L.t9(e):"#"+x[0])+"\" d=\""+Typr.U.pathToSVG({crds:x[1].j,cmds:x[1].G})+"\" />")}z.push("</g>")};
d2.vC.a1m=function(i,C,m){var e=d2.vC,z=d2.vC.ks,L=[];for(var Y=0;Y<z.length;Y++){var l=z[Y],x=l.T_.slice(0,4);
if(x!="1001")continue;L.push(l)}var l=L[Math.floor(e.b9(i)*L.length)];if(e.b9(i)<.5)e.i(l,new hN(0,1,1,0,0,0));
var S=C[3]-C[1],k=C[2]-C[0],f=e.OO(l),X=.7*Math.min(k,S,.5*Math.max(k,S))/Math.max(f.m,f.J),o=new hN;
o.scale(X,X);if(e.b9(i)<.5){o.scale(1,-1);o.translate(0,S)}e.P0(i,l,o,i.zk,m);o.rotate(Math.PI);o.translate(k,S);
e.P0(i,l,o,i.zk,m)};d2.vC.a5K=function(i){var C=d2.vC.ks,m=[];for(var Y=0;Y<C.length;Y++){var e=C[Y],z=e.T_.slice(0,4);
if(z=="0000"){m.push(e);continue}if(["1000","0100","0010","0001"].indexOf(z)==-1)continue;var L=z.indexOf("1");
if(e.T_[5]=="0"&&i==L&&L!=3)continue;m.push(e)}return m};d2.vC.nB=function(i,C,m,e,z,L,l){var x=d2.vC.ks,S=d2.vC,k=[],Q,s;
for(var Y=0;Y<x.length;Y++){var f=x[Y],X=f.T_.slice(0,4);if(["1110","1101","1011","0111"].indexOf(X)==-1)continue;
var o=X.indexOf("0")+2&3;if(f.T_[5]=="0")if(L==!0||C!=o&&!(C==1&&o==3))continue;k.push(f)}var A=l!=null?l:Math.floor(S.b9(i)*k.length),f=k[A],f=JSON.parse(JSON.stringify(f)),X=f.T_.slice(0,4),o=X.indexOf("0")+2&3;
if(o==3&&C==1)I.i(f,new hN(1,0,0,-1,0,1e3));var P=new hN;P.translate(-500,-500);P.rotate(-o*Math.PI/2);
P.translate(500,500);S.i(f,P);var F=m[3]-m[1],n=m[2]-m[0],R=S.OO(f);if(R.y<0){R.J+=R.y;R.y=0}if(R.y>0){R.J+=R.y;
R.y=0}if((C&1)==0){s=F;Q=n}else{Q=F;s=n}var j=Math.min(Math.min(.5+.5*S.b9(i))*Math.min(n,F),z)/R.J,_=Math.ceil(Q/(1e3*j)),B=new hN,N=new hN;
N.scale(j,j);if(C==0||C==2){N.translate(-(n/2),-(F/2));N.rotate(-C*Math.PI/2);N.translate(n/2+m[0],F/2+m[1])}else{N.rotate(Math.PI/2);
N.scale(1,-1);N.translate(m[0],m[1]);if(C==1){N.scale(-1,1);N.translate(n,0)}}e.push("<g id=\"Border-"+["top","right","bottom","left"][C]+":::\">");
for(var Y=0;Y<_;Y++){var a=B.clone();a.concat(N);S.P0(i,f,a,i.zk,e);B.translate(1e3-2,0)}e.push("</g>");
return A};d2.vC.Rect=function(i,C,m,e){return Typr.U.pathToSVG({crds:[i,C,i+m,C,i+m,C+e,i,C+e],cmds:["M","L","L","L","Z"]})};
d2.vC.aaZ=function(i,C,m,e,z){var L=[i,C,i+m,C,i+m,C+e,i,C+e];i+=z;C+=z;m-=2*z;e-=2*z;L.push(i,C,i,C+e,i+m,C+e,i+m,C);
return Typr.U.pathToSVG({crds:L,cmds:"M L L L Z M L L L Z".split(" ")})};d2.vC.ahK=function(i,C){var m=I.oZ(i.Z,i.r,i.e);
m.A5=Math.max(.1,Math.min(.9,m.A5+C));return I.Bc(m.bB,m.ve,m.A5)};d2.vC.apd=function(i,C){var m=I.oZ(i.Z,i.r,i.e);
m.bB+=C;return I.Bc(m.bB,m.ve,m.A5)};d2.vC.a6k=function(i){var C=I.oZ(i.Z,i.r,i.e);C.A5=1-C.A5;return I.Bc(C.bB,C.ve,C.A5)};
d2.vC.aBB=function(i,C){var m=i.Z-C.Z,e=i.r-C.r,z=i.e-C.e;return Math.sqrt(m*m+e*e+z*z)};d2.vC.as_=function(i){var C=d2.vC;
return{Z:C.b9(i),r:C.b9(i),e:C.b9(i)}};d2.vC.t9=function(i){return CSS.IT({Z:i.Z*255,r:i.r*255,e:i.e*255})};
d2.vC.OO=function(i){var C=i.Gu,m=new j2;for(var Y=0;Y<C.length;Y++)m=m.Z0(I.C.OO(C[Y][1].j));return m};
d2.vC.i=function(i,C){var m=i.Gu;for(var Y=0;Y<m.length;Y++)I.C.i(m[Y][1].j,C,m[Y][1].j)};d2.vC.b9=function(i){i.a5V++;
var C=i.a5V&3;if(C==0)i.aj=d2.vC.tU(i.aj);var m=i.aj>>>8*C&255;return m*(.99999999/255)};d2.vC.v4=function(i){var C=d2.vC.tU(i.aj);
i.aj=d2.vC.tU(C);return C*(1/4294967295)};d2.vC.tU=function(i){i=(i^61^i>>>16)>>>0;i=i+(i<<3)>>>0;i=(i^i>>>4)>>>0;
i=i*668265261>>>0;i=(i^i>>>15)>>>0;return i};d2.vC.ks=[{T_:"0001-0-bird",Gu:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),j:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),j:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),j:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{T_:"0001-0-bird2",Gu:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),j:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),j:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),j:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),j:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),j:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),j:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{T_:"0000-1-flower",Gu:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),j:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{T_:"0000-1-flower",Gu:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),j:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{T_:"0000-1-flower",Gu:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),j:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{T_:"0000-1-flower",Gu:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{T_:"0000-1-flower",Gu:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),j:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),j:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{T_:"0000-0-hearts",Gu:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),j:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),j:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),j:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{T_:"0000-0-anchor",Gu:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),j:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{T_:"0000-1-leaf",Gu:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),j:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{T_:"0000-1-acorn",Gu:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),j:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),j:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{T_:"0000-0-skull",Gu:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),j:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{T_:"0000-0-ghost",Gu:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),j:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),j:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{T_:"1001-1-rose",Gu:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),j:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),j:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{T_:"1001-1-curls",Gu:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{T_:"0111-0-pines",Gu:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),j:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),j:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{T_:"0111-0-flowers",Gu:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),j:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{T_:"1101-1-confetti",Gu:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{T_:"1101-1-branch",Gu:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),j:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{T_:"1101-1-sticks",Gu:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{T_:"1101-1-dots",Gu:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],j:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{T_:"1101-1-strips",Gu:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],j:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{T_:"1101-1-circs",Gu:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),j:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),j:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],j:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{T_:"1101-1-squares",Gu:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),j:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),j:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],j:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{T_:"1101-0-christmas",Gu:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var dp={};dp.parse=function(i){var C=new Uint8Array(i),m=null;if(C[0]==80&&C[1]==75){var e=Date.now(),z=UZIP.parse(C.buffer),m=z["document.json"];
m=JSON.parse(W.U8(m,0,m.length));dp.FI(m,z)}else{var L=cP.parse(i);m=dp.aiA(L[2][0][1])}return m};dp.FI=function(i,C){var m=typeof i;
if(m=="string"||m=="number"||m=="boolean")return i;if(i instanceof Array){for(var Y=0;Y<i.length;Y++)i[Y]=dp.FI(i[Y],C);
return i}var e=i._class;if(e==null)return i;if(e=="MSJSONFileReference"){var z=i._ref;if(!1){}else if(C[z+".json"]!=null){var L=C[z+".json"],l=L.length;
for(var Y=0;Y<l;Y++)if(L[Y]==11||L[Y]==3)L[Y]=32;var x=W.U8(L,0,l);i=JSON.parse(x)}else if(C[z+".png"]!=null)return{key:z.split("/").pop(),bdata:C[z+".png"]};
else if(C[z+".jpg"]!=null)return{key:z.split("/").pop(),bdata:C[z+".jpg"]};else if(C[z+".pdf"]!=null)return{key:z.split("/").pop(),bdata:C[z+".pdf"]};
else if(C[z]!=null)return{key:z.split("/").pop(),bdata:C[z]};else{console.log(i,C);return}}else if(e=="MSAttributedString"){var x=atob(i.archivedAttributedString._archive),S=x.length,k=new Uint8Array(S);
for(var Y=0;Y<S;Y++)k[Y]=x.charCodeAt(Y);i.archivedAttributedString=dp.aiA(k)}for(var f in i)i[f]=dp.FI(i[f],C);
return i};dp.aCr=function(i,C,m,e){if(i instanceof Uint8Array)return null;if(e.indexOf(i)!=-1)return null;
e.push(i);if(i==C)return m;for(var z in i){m.push(z);var L=dp.aCr(i[z],C,m,e);if(L){console.log(i,L);
throw"e"}m.pop()}};dp.aiA=function(i){var C=jG.parse(i,0),m=C.$objects,e=new Uint8Array(m.length),z=dp.zA(m,e,C.$top.root);
for(var Y=0;Y<m.length;Y++)if(e[Y]==0&&Y!=0){console.log(Y,m[Y]);dp.aCr(z,Y,[],[])}for(var Y=0;Y<m.length;
Y++){var L=m[Y];if(L._class&&(L._class=="bitmap"||L._class=="fill"&&L.fillType==4&&(L.image||L.imageSHA))){var l=L.image,x=L.imageSHA,S=null,k=null;
if(l=="$null")l=null;if(x=="$null")x=null;if(l&&l.data){k=l.sha1["NS.bytes"];k=btoa(W.Sq(k,0,k.length));
S=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"]}else if(l==null&&x==null){var f=i$.AL("PNG").B3([[I.R(4).buffer]],1,1);
S=new Uint8Array(f)}else{var X=(z.assets?z.assets.imageCollection:z.images).images;if(x)k=x instanceof Uint8Array?x:x["NS.bytes"];
else k=l.sha1["NS.bytes"];k=btoa(W.Sq(k,0,k.length));var S=X[k].data;if(S["NS.bytes"])S=S["NS.bytes"]}S=new Uint8Array(S.buffer.slice(S.byteOffset,S.byteOffset+S.length));
delete L.imageSHA;L.image={key:k,bdata:S}}}return z};dp.amG=function(i){return i.slice(0,11)=="MSImmutable"?"MS"+i.slice(11):i};
dp.zA=function(i,C,m){var e=i[m];if(C[m]==1){return e}C[m]=1;if(typeof e=="string")return e;if(typeof e=="number")return e;
if(typeof e=="boolean")return e;if(e instanceof Array)return e;if(e instanceof Uint8Array){return e}if(i[e.$class]==null){if(e.$class==null&&e["NS.data"]!=null)return e;
console.log(m,e);throw"e"}var z=i[e.$class],L=dp.amG(z.$classname);C[e.$class]=1;e.$class=L;if(dp.axn[L]){delete e.$class;
e._class=dp.axn[L]}var l=dp.zA;if(L=="NSMutableArray"||L=="NSArray"){var x=[];if(e["NS.objects"]!=null)for(var Y=0;
Y<e["NS.objects"].length;Y++)x.push(l(i,C,e["NS.objects"][Y]));else for(var Y=0;e["NS.object."+Y]!=null;
Y++)x.push(l(i,C,e["NS.object."+Y]));i[m]=x;return x}if(L=="NSDictionary"||L=="NSMutableDictionary"){var S={$class:L};
if(e["NS.keys"]!=null)for(var Y=0;Y<e["NS.keys"].length;Y++){var k=l(i,C,e["NS.keys"][Y]);if(k instanceof Uint8Array)k=btoa(dp.Z2.Sq(k,0,k.length));
else if(typeof k!="string"&&typeof k!="number")k=btoa(dp.Z2.Sq(k["NS.bytes"],0,k["NS.bytes"].length));
S[k]=l(i,C,e["NS.objects"][Y])}else for(var Y=0;e["NS.key."+Y]!=null;Y++){var k=l(i,C,e["NS.key."+Y]);
if(k instanceof Uint8Array)k=btoa(dp.Z2.Sq(k,0,k.length));else if(typeof k!="string"&&typeof k!="number")k=btoa(dp.Z2.Sq(k["NS.bytes"],0,k["NS.bytes"].length));
S[k]=l(i,C,e["NS.object."+Y])}for(var f in e)delete e[f];for(var f in S)e[f]=S[f];return e}if(L=="NSURL")return{$class:L,base:l(i,C,e["NS.base"]),relative:l(i,C,e["NS.relative"])};
if(dp.awa.indexOf(L)!=-1){i[m]=l(i,C,e.array_do);return i[m]}if(e.do_objectID!=null)e.do_objectID=l(i,C,e.do_objectID);
if(dp.afd.indexOf(L)!=-1)return e;var X=dp.agl[L];if(X==null){console.log(i,e);throw"unknown class "+L}for(var Y=0;
Y<X.length;Y++)if(e[X[Y]]!=null)e[X[Y]]=l(i,C,e[X[Y]]);if(L=="MSTextLayer"){var o=e,A,P,F,n;if(o.attributedString)A=o.attributedString.archivedAttributedString;
else A=o.storage;n=A.NSString;if(typeof n!="string")n=W.U8(n["NS.bytes"],0,n["NS.bytes"].length);if(A.NSAttributeInfo)P=A.NSAttributeInfo["NS.bytes"];
else{var R=n.length,Q=[];while(R>0){var s=Math.min(100,R);Q.push(s,0);R-=s}P=new Uint8Array(Q)}F=A.NSAttributes instanceof Array?A.NSAttributes:[A.NSAttributes];
var j={$class:"NSAttributedString",NSString:n,NSAttributes:F};o.attributedString={_class:"MSAttributedString",archivedAttributedString:j};
j.NSAttributeInfo={$class:"NSMutableData","NS.data":P};delete o.storage}return e};dp.Z2={vV:function(i,C){return i[C+1]<<8|i[C]},Q:function(i,C){return i[C+3]<<24|i[C+2]<<16|i[C+1]<<8|i[C]},Sq:function(i,C,m){var e="";
for(var Y=0;Y<m;Y++)e+=String.fromCharCode(i[C+Y]);return e}};dp.axn={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
dp.awa=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
dp.afd="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
dp.agl={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var jG={};jG.parse=function(i,C){var m=W.Sq(i,C,8);C+=8;var e=i.length-32,z=jG.parse.avW(i,e),L=[];if(z.vY==1){var C=e-z.vY*z.aw;
for(var Y=0;Y<z.aw;Y++)L.push(i[C+Y])}else if(z.vY==2){var C=e-z.vY*z.aw;for(var Y=0;Y<z.aw;Y++)L.push(W.vV(i,C+Y*2))}else if(z.vY==4){var C=e-z.vY*z.aw;
for(var Y=0;Y<z.aw;Y++)L.push(W.Q(i,C+Y*4))}else{throw"e"}var l=jG.parse.zA(i,L,z.root,z);return l};
jG.parse.zA=function(i,C,m,e){var z=jG.Z2,L=e.alN,l=L==4?z.Q:L==2?z.vV:z.aA4,x=jG.parse,S=C[m],k=i[S],f=k>>4,X=k&15,A=null;
S+=1;if([4,5,6,10,12,13].indexOf(f)!=-1&&X==15){var o=x.xz(i,S);S+=o.aE;X=o.b}if(!1){}else if(f==0)A=X==8?!1:X==9?!0:null;
else if(f==1)A=x.xz(i,S-1).b;else if(f==2)A=1<<X==4?W.dU(i,S):W.Me(i,S);else if(f==3)A=W.Me(i,S);else if(f==4)A=new Uint8Array(i.buffer,S,X);
else if(f==5)A=W.Sq(i,S,X);else if(f==6)A=W.Yh(i,S,X);else if(f==8){A=0;for(var Y=0;Y<X+1;Y++)A=A<<8|i[S+Y]}else if(f==10){A=[];
for(var Y=0;Y<X;Y++)A.push(x.zA(i,C,l(i,S+L*Y),e))}else if(f==12){A=[];for(var Y=0;Y<X;Y++)A.push(x.zA(i,C,l(i,S+L*Y),e))}else if(f==13){A={};
for(var Y=0;Y<X;Y++){var P=x.zA(i,C,l(i,S+L*Y),e),F=x.zA(i,C,l(i,S+L*(X+Y)),e);A[P]=F}}else throw"unknown mask "+f;
return A};jG.parse.xz=function(i,C){var m=1<<(i[C]&15),e=0;for(var Y=0;Y<m;Y++)e=e<<8|i[C+1+Y];return{b:e,aE:m+1}};
jG.parse.avW=function(i,C){var m={};C+=6;m.vY=i[C];C++;m.alN=i[C];C++;C+=4;m.aw=W.Q(i,C);C+=4;C+=4;m.root=W.Q(i,C);
C+=4;C+=4;m.awL=W.Q(i,C);C+=4;return m};jG.Z2={aA4:function(i,C){return i[C]},vV:function(i,C){return i[C]<<8|i[C+1]},Q:function(i,C){return i[C]<<24|i[C+1]<<16|i[C+2]<<8|i[C+3]},Sq:function(i,C,m){var e="";
for(var Y=0;Y<m;Y++)e+=String.fromCharCode(i[C+Y]);return e}};var cP={parse:function(i){var C=new Uint8Array(i),m=cP.ME(C),e=[],z=new Uint8Array(C.length),L=[];
e.push(L);cP.U2(C,m,1,z,L);for(var Y=0;Y<L.length;Y++){var l=[];e.push(l);cP.U2(C,m,L[Y][3],z,l,Y==11);
L[Y][3]=Y+1}return e},U2:function(i,C,m,e,z,L){m--;var l=m*C.Ug+(m==0?100:0),x=i[l],S=cP.vV(i,l+1),k=cP.vV(i,l+3),f=cP.vV(i,l+5),o=0;
if(f==0)f=65536;var X=i[l+7];l+=8;if(x==2||x==5){o=cP.Q(i,l);l+=4}for(var A=0;A<k;A++){var P=m*C.Ug+cP.vV(i,l+2*A),F=-1,n=0,R=0,Q=0;
if(x==2||x==5){F=cP.Q(i,P);P+=4}if(x==2||x==10||x==13){n=cP.Qk(i,P);P+=n.aE}if(x==5||x==13){R=cP.Qk(i,P);
P+=R.aE}if(x==2||x==5){cP.U2(i,C,F,e,z,L);continue}var s=C.Ug-(m==0?100:0),j=n.qg,_=x==13?s-35:Math.floor((s-12)*64/255)-23,B=Math.floor((s-12)*32/255)-23,N=B+(j-B)%(s-4);
if(j<=_){cP.EP(i,P,e,0,j)}else{var a=N<=_?N:B,O=0;cP.EP(i,P,e,0,a);O+=a;Q=cP.Q(i,P+a);while(Q!=0){var H=(Q-1)*C.Ug;
Q=cP.Q(i,H);var q=Math.min(C.Ug-4,j-O);cP.EP(i,H+4,e,O,q);O+=q}}z.push(cP.aun(e,j))}if(o!=0)cP.U2(i,C,o,e,z,L)},aun:function(i,C){var m=0,e=cP.Qk(i,m);
m+=e.aE;var z=[],L=[];while(m<e.qg){var l=cP.Qk(i,m);m+=l.aE;z.push(l.qg)}if(m!=e.qg)throw"e";for(var Y=0;
Y<z.length;Y++){var l=z[Y];if(!1){}else if(l==0)L.push(null);else if(l==1){L.push(cP.aqe(i,m));m+=1}else if(l==2){L.push(cP.x1(i,m));
m+=2}else if(l==3){L.push(cP.aaF(i,m));m+=3}else if(l==4){L.push(cP.xz(i,m));m+=4}else if(l==5){L.push(cP.Q(i,m+2));
m+=6}else if(l==6){L.push(cP.Q(i,m)+":"+cP.Q(i,m+4));m+=8}else if(l==7){L.push(cP.atZ(i,m));m+=8}else if(l==8)L.push(0);
else if(l==9)L.push(1);else if(l>=12&&(l&1)==0){var x=l-12>>1,S=new Uint8Array(x);cP.EP(i,m,S,0,x);L.push(S);
m+=x}else if(l>=13&&(l&1)==1){var x=l-13>>1;L.push(cP.U8(i,m,x));m+=x}else throw"unknonw type "+l}return L},ME:function(i){if(!(i[18]==1&&i[19]==1&&i[20]==0&&i[21]==64&&i[22]==32&&i[23]==32))throw"unexpected SQL3 header";
var C={FO:cP.Sq(i,0,15),Ug:cP.vV(i,16),a2_:cP.Q(i,24),size:cP.Q(i,28),arV:cP.Q(i,32),a9N:cP.Q(i,36),aDP:cP.Q(i,40),abm:cP.Q(i,44),aDT:cP.Q(i,48),aB0:cP.Q(i,52),aj_:cP.Q(i,56),a6e:cP.Q(i,60),a7M:cP.Q(i,64)!=0,ap1:cP.Q(i,68),afe:cP.Q(i,92),a0t:cP.Q(i,96)};
if(C.Ug==1)C.Ug=65536;if(C.aj_!=1)throw"unsupported text encoding "+C.aj_;return C},anu:function(i,C){return i[C]<<16|i[C+1]<<8|i[C+2]},aaF:function(i,C){var m=cP.anu(i,C),e=m&8388608;
return e?-(16777215-m+1):m},aqe:function(i,C){cP.QX[0]=i[C];return cP.abd[0]},xz:function(i,C){var m=cP.QX;
for(var Y=0;Y<4;Y++)m[Y]=i[C+3-Y];return cP.aw0[0]},x1:function(i,C){var m=cP.QX;m[0]=i[C+1];m[1]=i[C];
return cP.ayI[0]},vV:function(i,C){return i[C]<<8|i[C+1]},Q:function(i,C){var m=cP.QX;for(var Y=0;Y<4;
Y++)m[Y]=i[C+3-Y];return cP.a3B[0]},atZ:function(i,C){var m=cP.QX;for(var Y=0;Y<8;Y++)m[Y]=i[C+7-Y];
return cP.a8z[0]},Qk:function(i,C){var m=C,k7=0;while(!0){var e=i[C];C++;k7=k7*128+(e&127);if(e<128)break}return{qg:k7,aE:C-m}},Sq:function(i,C,m){var e="";
for(var Y=0;Y<m;Y++)e+=String.fromCharCode(i[C+Y]);return e},U8:function(i,C,m){var e="";for(var Y=0;
Y<m;Y++)e+="%"+cP.aad(i[C+Y].toString(16));try{e=decodeURIComponent(e);return e}catch(a8){return e}},EP:function(i,C,m,e,z){if(i[C+z-1]==null||m[e+z-1]==null){console.log(C,e,z);
throw"e"}for(var Y=0;Y<z;Y++)m[e+Y]=i[C+Y]},aad:function(k7){return k7.length<2?"0"+k7:k7}};cP.QX=new Uint8Array(8);
cP.abd=new Int8Array(cP.QX.buffer);cP.ayI=new Int16Array(cP.QX.buffer);cP.aw0=new Int32Array(cP.QX.buffer);
cP.a3B=new Uint32Array(cP.QX.buffer);cP.a8z=new Float64Array(cP.QX.buffer);cP.aw7=function(i,C){var m=i[0],e={};
for(var Y=0;Y<m.length;Y++){var z=m[Y],L=z[1];if(z[0]!="table")continue;var l=z[4];l=l.slice(l.indexOf("(")+1,l.indexOf(")"));
l=l.split(",");for(var x=0;x<l.length;x++){var S=l[x].trim().split(" ")[0];if(C&&S.startsWith(L))S=S.slice(L.length);
l[x]=S}var k=e[L]=[],f=i[z[3]];for(var x=0;x<f.length;x++){var X=f[x],o={};k.push(o);for(var A=0;A<l.length;
A++){if(o[l[A]]!=null)throw"e";o[l[A]]=X[A]}}}return e};function ix(i,C,m){this.xn=i;this._U=C;this.am0=m;
this.SM=new b5(0,0);this.P9=-1;this.gi=0;this.ji=0;this.X7=new j2;this.hG=[];this.pW=null;this.aco=null;
this.sK=null;this.sS=null;this.jV=null;this.a9e=null}ix.prototype.StartPage=function(i,C,m,e,z){var L=this._U,l=L.je(),x=1,S=(m-i)*(e-C);
if(z!=null)S=z;while(S*l*l/(x*x)>2*8192*8192)x++;L.scale(1/x,1/x);this.aco=[i,C,m,e];var x=L.je();i=Math.round(i*x);
C=Math.round(C*x);m=Math.round(m*x);e=Math.round(e*x);var k=this.xn,f=this.sK;if(f==null){L.W_=-i}else{var X=f[2]-f[0]+30,o=Math.round(m-i)+30;
if(this.SM.x+X+o>8192){L.W_=-i;this.SM.x=0;this.SM.y+=this.ji+120;this.ji=0}else{L.W_+=X;this.SM.x+=X}}L.Rj=this.SM.y+(this.am0?e:-C);
this.ji=Math.max(this.ji,Math.round(e-C));this.sK=[i,C,m,e];this.ayc=[];k.M.push(k.b$())};ix.prototype.StartTGroup=function(i){this.ld();
var C=this.xn;C.M.push(C.b$());var m=ix.h1[i.bmode];if(m==null)m="norm";var e=C.Sv();e.yY("<Group>");
e.add.lsct=aU.AY;e.fn=m=="norm"?"pass":m;e.de=24;e.opacity=Math.round(255*i.ca);this.ayc.push(e)};ix.prototype.EndTGroup=function(){this.xn.M.push(this.ayc.pop())};
ix.prototype.ag0=function(){var i=this.xn,C=i.M[i.M.length-1];return C};ix.prototype.avv=function(){var i=this.xn,C=i.Sv();
C.yY("Path "+i.M.length);this.xn.M.push(C);C.de|=16;C.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}};
C.add.vmsk=new cc.hF;C.add.vstk=jt.lc.TQ();return C};ix.prototype.wS=function(i){var C={j:i.crds,G:i.cmds},m=I.C.aZ(C,!1);
I.o.Pa(m,this._U);return m};ix.anE=function(i,C){for(var Y=0;Y<i.length;Y++)if(i[Y].ay!=null)i[Y].ay=C};
ix.QW=function(i){return I.I.$q({Z:i[0]*255,r:i[1]*255,e:i[2]*255})};ix.VW=function(i){return new hN(i[0],i[1],i[2],i[3],i[4],i[5])};
ix.prototype.Stroke=function(i){if(this.P9!=-1&&this.P9!=this.gi)return;if(i.pth.cmds.length<=1)return;
var C=this.wS(i.pth),L=null;if(C.length<=2)return;this.mh(i);ix.anE(C,-1);C[2].ay=1;var m=this.ag0(),e=jt.lc.TQ(null,!0),z=i.ctm;
jt.lc.write(e,i,Math.sqrt(Math.abs(z[0]*z[3]-z[1]*z[2]))*this._U.je());if(!(i.COLR instanceof Array)){L=I.C.OO(i.pth.crds);
var l=I.C.Ym(L);I.C.i(l.j,this._U,l.j);L=I.C.OO(l.j)}var x=ix.Z6(i.COLR,this._U,L),S=["SoFi","GrFl","patternFill"].indexOf(x.type),k=[jt.pb,jt.It,jt.dH][S],f=e.strokeStyleContent.v={classID:jt.lc.nU[S]};
for(var Y=0;Y<k.length;Y++)f[k[Y]]=x.b.v[k[Y]];var X=m!=null&&m.add.vmsk!=null&&!m.yJ(),o=X&&!m.add.vstk.fillEnabled.v&&JSON.stringify(e)==m.add.vsjs;
if(o){var A=m.add.vmsk.$;for(var Y=2;Y<C.length;Y++)A.push(C[Y])}else{var P=X&&!m.add.vstk.strokeEnabled.v&&cc.hF.a2z(m.add.vmsk.$,C,!0);
if(P){m.add.vstk=e;e.fillEnabled.v=!0}else{m=this.avv();m.add.vmsk.$=C;m.add.vstk=e;m.add.vsjs=JSON.stringify(e)}}};
ix.prototype.Fill=function(i,C){if(this.P9!=-1&&this.P9!=this.gi)return;if(i.ca==0)return;var m=i.pth.cmds;
if(m.length==0)return;if(m.length==2&&JSON.stringify(m)=="[\"M\",\"L\"]")return;var e=I.C.OO(i.pth.crds),z=I.C.OO(i.cpth.crds);
if(e.G_(z).bs())return;var L=i.pth,l=UDOC.G.isBox(L,[e.x,e.y,e.x+e.m,e.y+e.J]),x=i.cpth,S=UDOC.G.isBox(x,[z.x,z.y,z.x+z.m,z.y+z.J]);
if(l&&S&&e.P()>z.P()*2){var k=e.G_(z),f=k.x,X=k.y,o=f+k.m,A=X+k.J;L={cmds:["M","L","L","L","Z"],crds:[f,X,o,X,o,A,f,A]};
e=k}else if(this.sS==null&&UDOC.G.isBox(L,[e.x,e.y,e.x+e.m,e.y+e.J])&&e.Y4(z)){L=x;e=z}else this.mh(i);
var P=this.wS(L),F=I.C.Ym(e);I.C.i(F.j,this._U,F.j);e=I.C.OO(F.j);var n=ix.Z6(i.colr,this._U,e),R=this.ag0(),Q=R!=null&&R.opacity==Math.round(255*i.ca)&&R.add.vstk!=null&&!R.add.vstk.strokeEnabled.v&&R.add.SoCo&&n.type=="SoFi"&&JSON.stringify(R.add.SoCo.Clr.v)==JSON.stringify(n.b.v.Clr.v);
if(Q){var s=!1;for(var Y=0;Y<P.length;Y++){if(P[Y].ay==0||P[Y].ay==2)s=!0}if(s){var j=I.C.OO(I.o._I(R.add.vmsk.$)),_=I.C.OO(I.o._I(P));
Q=j.G_(_).bs()}}if(Q){var B=R.add.vmsk.$;for(var Y=2;Y<P.length;Y++)B.push(P[Y])}else{R=this.avv();delete R.add.SoCo;
R.add.vmsk.$=cc.hF.ug(P);ix.EY(i.colr,R,this._U,e);ix.aDb(i,R)}};ix.EY=function(i,C,m,e){var z=ix.Z6(i,m,e),L=null,l=null;
C.add.vstk.fillEnabled.v=!0;if(z.type=="SoFi"){L="SoCo";l=jt.pb}if(z.type=="GrFl"){L="GdFl";l=jt.It}if(z.type=="patternFill"){L="PtFl";
l=jt.dH}if(L!=null){C.add[L]={classID:"null"};for(var Y=0;Y<l.length;Y++){var x=l[Y];C.add[L][x]=z.b.v[x]}}};
ix.prototype.mh=function(i){var C=this.xn,m=i.cpth,e=m.cmds.join(""),z=m.crds,L=e+" "+z.join(","),l=UDOC.G.isBox(m,this.aco);
if(l&&this.sS==null)return;if(L==this.sS)return;this.ld();if(!l){this.sS=L;C.M.push(C.b$());var x=C.Sv();
x.yY("Mask");x.add.lsct=aU.Lp;x.fn="pass";x.de=24;var S=x.add.vmsk=new cc.hF;S.$=this.wS(i.cpth);if(UDOC.G.isBox(m)){this.jV=I.o.RP(S.$);
this.jV.sW(3,3)}else this.jV=null;this.a9e=x}};ix.prototype.ld=function(){var i=this.xn;if(this.sS!=null){var C=i.M.length-1,Y=C,m=!1;
while(Y>=0&&i.M[Y].add.lsct!=aU.ds)Y--;var e=this.jV;if(e){var z=new j2,L=C;while(L>Y){z=i.M[L].Jx(this.xn,!1,!0);
L--}m=e.Y4(z)}if(m){this.hG.splice(Y,1);i.M.splice(Y,1)}else{i.M.push(this.a9e)}this.sS=null}};ix.Z6=function(i,C,m){var e,z;
if(i.length!=null){e="SoFi";var L=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);z={t:"Objc",v:L};z.v.Clr.v=ix.QW(i)}else{var l=ix.adD(i,C,m);
e="GrFl";z={t:"Objc",v:l}}return{type:e,b:z}};ix.adD=function(i,C,m){var e=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),z=e.Grad.v;
z.Intr.v=0;var L=ix.VW(i.mat);L.concat(C);var l=new b5(0,0),x=new b5(m.m,0),S=i.crds;if(i.typ=="rad"){e.Type.v.GrdT="Rdl";
var k=.7;l.x=(1-k)*S[0]+k*S[3];l.y=(1-k)*S[1]+k*S[4];x.x=l.x;x.y=l.y;x.x+=Math.max(S[2],S[5])}else{e.Type.v.GrdT="Lnr";
l.x=S[0];l.y=S[1];x.x=S[2];x.y=S[3];l.x=x.x+.5*(l.x-x.x);l.y=x.y+.5*(l.y-x.y)}l=L.M$(l);x=L.M$(x);I.I.dV(l,x,m,e);
var f=i.grad;I.I.Sc(f,z);return e};ix.prototype.PutText=function(i,C,m,e){var z=C.charCodeAt(0),A=null;
if(this.P9!=-1&&this.P9!=this.gi)return;if(C.length==0||C.length==1&&(z==0||z==8203))return;this.mh(i);
var L=this.xn,l=i.font,x=Math.round(255*i.ca);if(i.font.Tmode==3)x=0;var S=ix.VW(i.ctm);S.concat(this._U);
var k=ix.VW(l.Tm);k.concat(S);var f=k.je(),X=new hN(1/f,0,0,-1/f,0,0);X.concat(k);var o=l.Tfs*f,P=L.M.length-1;
while(P>=0&&L.M[P].add.TySh==null)P--;if(X.e*X.e+X.xF*X.xF<.001&&e==null&&P>=0&&L.M[P].add.TySh&&L.M[P].opacity==x){var F=L.M[P],n=this.hG[P],R=F.add.TySh.i,Q=(X.W_-n.a1U)/o,s=Math.abs(Q),j=R.W==X.W&&R.e==X.e&&R.xF==X.xF&&R.o6==X.o6,_=X.Rj-n.aC,B=j&&Math.abs(_)<1e-5&&s<1;
if(B){A=F;if(Q>.2&&[".",",","?",":","!"].indexOf(C)==-1){C=" "+C;m+=.5}}else if(j&&0<_&&_<o*1.7&&n.azU==o){A=F;
this.ah4(n);n.aC=X.Rj;n.apu=X.W_;C="\n"+C}}if(A==null){P=L.M.length;this.hG[P]={E2:[],jm:0,a1U:X.W_,aC:X.Rj,apu:X.W_,Eo:"",azU:o};
A=L.Sv();L.M.push(A);A.add.lnsr="rend";A.add.TySh=e7._x(0,0);A.add.TySh.i=X}var n=this.hG[P];n.jm+=m*o;
n.Eo+=C;n.a1U=X.W_+m*o;var N=A.add.TySh.Wg,a=e7.lD(N);if(e){e7.k8(N,1);var O=[0,0,Math.ceil(e[0]*f),Math.ceil(e[1]*f)];
e7.N2(N,O)}var H=a.length-1,q=H+C.length;e7.cQ(N,H,C);if(this.pW==null)this.pW=e7.IF(N,H,H);var h=this.pW;
h.hU.FontSize=Math.round(o);h.hU.Tracking=Math.round(l.Tc*100);h.hU.Underline=l.Tun==1;h.hU.FillColor={Type:1,Values:[1,i.colr[0],i.colr[1],i.colr[2]]};
if(l.Tal!=null)h.t7.Justification=l.Tal;if(n.E2.length!=0){h.hU.AutoLeading=!1;h.hU.Leading=n.aC-n.E2[n.E2.length-1].y}var D=l.Tf;
D=D.replace(/#2B/g,"+");D=D.replace(/#2C/g,"-");D=D.split("+").pop();var T={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(T[D])D=T[D];e7.Ca(h,D);e7.Bl(N,H,q-1,h);A.aT();A.opacity=x};ix.prototype.ah4=function(i){i.E2.push({HG:i.jm,me:i.Eo.slice(i.E2.length==0?0:1)+"\n",x:i.apu,y:i.aC,ve:i.azU});
i.jm=0;i.Eo=""};ix.prototype.MQ=function(i,C,m){return new Uint8Array(i$.AL("PNG").B3([[i.buffer,0]],C,m))};
ix.prototype.PutImage=function(i,C,m,e,z,L,l){if(this.P9!=-1&&this.P9!=this.gi)return;var x=this.xn,S=i.font.Tmode;
if(S==7&&x.M[x.M.length-1].add.TySh){return}this.mh(i);var k=ix.VW(i.ctm);k.concat(this._U);var f=new hN(1/m,0,0,-1/e,0,1);
f.concat(k);k=f;C=ix.a1l(C,m,e,L,!1);if(z)z=ix.a1l(z,m,e,l,!0);if(z==null){if(C.length==m*e*4)C=this.MQ(C,m,e)}else{C=this.adj(C,m,e,L,!1);
z=this.adj(z,m,e,l,!0);var X=I.R(m*e);I.Ud(z,X,0);I.uC(X,C,3);C=this.MQ(C,m,e)}var o=x.Mf(C,"Bitmap",0,0),A=o.rect.clone();
A.x=A.y=0;var P=I.C.Ym(A).j;I.C.i(P,k,P);o.add.SoLd.Trnf=$.V.xN(P);o.add.SoLd.nonAffineTransform=$.V.xN(P);
o.g1(x,!1);ix.aDb(i,o);x.M.push(o)};ix.aDb=function(i,C){C.opacity=Math.round(255*i.ca);var m=ix.h1[i.bmode];
if(m==null)console.log("Unknown blend mode",m);else C.fn=m};ix.h1={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ix.a47=function(i){if(i=="pass")i="norm";for(var C in ix.h1)if(ix.h1[C]==i)return C;return"/Normal"};
ix.a1l=function(i,C,m,e,z){var L=i$.ra(i.buffer);if(L=="jpg"){try{i=new Uint8Array(i$.AL("JPG").a6u(i.buffer))}catch(a8){i=new Uint8Array(C*m*4)}}else if(L=="jb2"){i=new Uint8Array(i$.AL("JPG").pX(i.buffer,e,z)[0].data)}else if(i.length!=C*m*4){var l=new Uint8Array(C*m*4),x=Math.ceil(C/8),S=new Uint8Array(m*x);
UTIF.decode._decodeG4(i,0,i.length,S,0,C,1);var k=S[0]==(z?255:0);for(var f=0;f<m;f++){var X=x*f;for(var o=0;
o<C;o++){var Y=f*C+o,A=Y*4,P=(S[X+(o>>3)]>>7-(o&7)&1)*255;if(k)P=255-P;l[A]=P;l[A+1]=P;l[A+2]=P;l[A+3]=255}}i=l}return i};
ix.prototype.adj=function(i,C,m,e,z){if(i.length!=C*m*4){var L=i$.ra(i.buffer);if(L=="jb2")throw"e";
var l=i$.AL(L);if(l==null||L=="tga")l=i$.AL("jpg");i=new Uint8Array(l.pX(i,e,z)[0].data)}return i};ix.prototype.ShowPage=function(){var i=this.xn;
this.gi++;var C=this.sK;this.ld();var m=i.Sv();i.M.push(m);var e=new j2(Math.round(this.SM.x),Math.round(this.SM.y),Math.round(C[2]-C[0]),Math.round(C[3]-C[1]));
if(e.bs())e.m=e.J=2e3;this.X7=this.X7.Z0(e);m.bQ(e);m.add.artb.artboardBackgroundType.v=1;m.yY("Page "+this.gi);
m.add.lsct=aU.Lp;m.fn="pass";m.de=24};ix.prototype.Print=function(i){console.log("Print:",i)};ix.prototype.Done=function(){var i=this.xn;
if(this.gi==1)i.M[i.M.length-1].add.lsct=aU.AY;i.Ra(this.gi);for(var Y=0;Y<i.M.length;Y++){var C=i.M[Y],m=C.add.vmsk,e=C.add.TySh,z=this.hG[Y];
C.tO();delete C.add.vsjs;if(m){var L=!1;for(var l=0;l<m.$.length;l++){var x=m.$[l];if((x.type==0||x.type==3)&&x.length>32767)L=!0}if(L){i.M.splice(Y,1);
Y--;continue}}C.rH(i);if(e&&z&&z.E2.length!=0){this.ah4(z);var S=e.Wg,k=z.E2.length,f=z.E2[0],X=1e9,o=-1e9,B="";
for(var l=0;l<k;l++){var A=z.E2[l];X=Math.min(X,A.x);o=Math.max(o,A.x+A.HG)}var P=[];for(var l=0;l<k;
l++){var A=z.E2[l],F=-1,n=f.ve*.1,R=Math.abs(A.x-X),Q=Math.abs(A.x+A.HG-o),s=Math.abs(R-Q);if(s<n)F=2;
if(Q<n){F=1;if(A.x!=X)if(l!=0&&z.E2[l-1].x==A.x||l!=k-1&&z.E2[l+1].x==A.x)F=-1}if(R<n)F=0;if(A.HG==o-X)F=3;
P.push(F)}var j=[!1,!1,!1];for(var l=0;l<k;l++){var F=P[l];if(F==3)F=l==0?P[l+1]:P[l-1];if(F==3)F=0;
P[l]=F;j[F]=!0}var _=(o-X)*.05;if(j[0]&&!j[1])o+=_;if(!j[0]&&j[1])X-=_;if(!j[0]&&!j[1]){X-=_;o+=2*_}e7.k8(S,1);
e.i.Rj-=f.ve*.7;e.i.W_=Math.round(X);e7.N2(S,[0,0,Math.ceil(o-X),Math.ceil(z.E2[k-1].y-f.y+f.ve*2)]);
for(var l=0;l<k;l++){var A=z.E2[l],F=P[l],N=0;if(F==-1){F=0;N=Math.round(A.x-X)}var a=B.length,O=a+A.me.length;
B+=A.me;var H={JR:[],hU:{},t7:{Justification:F,StartIndent:N}};e7.Bl(e.Wg,a,O-1,H)}}if(e){var S=e.Wg;
e7.ae0(S);var q=e7.lD(S).split("\n");for(var l=0;l<q.length-1;l++){var A=q[l],h=0;for(var D=0;D<A.length;
D++){var T=A.charCodeAt(D);if(1473<=T&&T<=1524)h++}if(h>A.length/2){q[l]=A.split("").reverse().join("");
var p=S.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;p._Direction=1;p.Justification=e7.e4(p)}}e7.aK(S,q.join("\n"))}}i.qK=!0;
i.m=this.X7.m;i.J=this.X7.J;i.buffer=I.R(this.X7.P()*4)};var gm={};gm.uS=null;gm.Em=function(i,C,m,e,z,L){if(z==null)z=i.m;
if(L==null)L=i.J;gm.uS=i;var l=!1,x=[i.root],S=i.root.children;if(i.add.artd){l=!0;for(var Y=0;Y<S.length;
Y++)if(S[Y].a.add.artb==null)l=!1;if(l)x=S}var k=new j2(0,0,i.m,i.J),f=C[0];f=f.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
f=f.split(" ");var X=[];for(var Y=0;Y<f.length;Y++){var o=f[Y];if(o=="-"){var A=X.pop(),P=parseInt(f[Y+1]);
while(A<P){X.push(A);A++}}else X.push(parseInt(o))}f=X;for(var Y=0;Y<f.length;Y++)if(isNaN(f[Y])||f[Y]<1||f[Y]>x.length){f.splice(Y,1);
Y--}var F=z/i.m,n=L/i.J,R=F*72/i.lC,Q=n*72/i.lC,s=C[5];if(s==null)s=0;var j=72*s,_=72*s;for(var B=0;
B<x.length;B++){var Y=B;if(C[2])Y=x.length-1-B;if(f.length!=0&&f.indexOf(Y+1)==-1)continue;var N=x[Y],a=l?N.a.d3():k;
if(!N.a.gF())continue;var O=Math.round(a.m*R+2*j),H=Math.round(a.J*Q+2*_);m.StartPage(0,0,O,H);var q=UDOC.getState(),h=new hN;
h.translate(-a.x,-a.y-a.J);h.scale(R,-Q);h.translate(j,_);if(l){var D=N.a.add.artb,T=D.artboardBackgroundType.v;
if(T!=1&&T!=3){var p=N.a.bA(),y=j*R,b=_*Q,g=y+a.m*R,u=b+a.J*Q;q.colr=[(p>>>0&255)/255,(p>>>8&255)/255,(p>>>16&255)/255];
q.pth={cmds:["M","L","L","L","Z"],crds:[y,b,g,b,g,u,y,u]};m.Fill(q)}}if(C[3]){var t=i.I6();if(!k.LJ(a)){t=I.R(a.P()*4);
I.fF(i.I6(),k,t,a)}var V=i.AA();if(V)ICC.U.applyLUT(V[i.add.fcmy==1?5:3],V[2],t,t);var c=i$.AL("JPG").B3([[t.buffer]],a.m,a.J,[C[1]]);
t=new Uint8Array(c);var E=new hN;E.translate(a.x,a.y);gm.H6(q,m,t,a,E,h)}else{gm.asz(i,N,q,m,h,C,e);
if(j!=0){var y=j,b=_,g=y+a.m,u=b+a.J,Z=g+j,G=u+j;q.ca=1;q.colr=[1,1,1];q.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,G,Z,G,Z,0,y,b,g,b,g,u,y,u]};
m.Fill(q)}}if(C[6]){var J=[[0,0],[1,0],[1,1],[0,1]],K=50,M=5,U=K*.5,r=M*.5;q.colr=[.1,.1,.1];for(var B in J){var dS=J[B],w=[B==0||B==3?-1:1,B==0||B==1?-1:1],di=[j-U+r*w[0]+dS[0]*i.m,_-(w[1]!=1?M:0)+dS[1]*i.J],eM=[j-(w[0]!=1?M:0)+dS[0]*i.m,_-U+r*w[1]+dS[1]*i.J];
q.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[di[0],di[1],di[0]+K,di[1],di[0]+K,di[1]+M,di[0],di[1]+M,eM[0],eM[1],eM[0]+M,eM[1],eM[0]+M,eM[1]+K,eM[0],eM[1]+K]};
m.Fill(q)}}var j5=i.xE;for(var ds=0;ds<j5.length;ds++){var ba=j5[ds].v,a=I.lu.S8(ba),gH=I.C.Ym(a).j;
I.C.i(gH,h,gH);var ir=I.C.OO(gH);if(!new j2(0,0,O,H).Y4(ir))continue;if(m.AddAnnot)m.AddAnnot([ir.x,ir.y,ir.x+ir.m,ir.y+ir.J],ba.url.v)}m.ShowPage()}m.Done();
gm.uS=null};gm.Fw=function(i){i=I.I.oq(i);return[i.Z/255,i.r/255,i.e/255]};gm.asz=function(i,C,m,e,z,L,l){var x=C.a,S=x.add.lsct,k=x.add.lmfx,f=x.add.vmsk,X=x.add.vstk,o=x.add.TySh,R,Q,q;
if(!x.gF())return;var A=x.opacity/255,P=x.add.iOpa!=null?x.add.iOpa/255:1;m.bmode=ix.a47(x.fn);var F=m.ca;
m.ca=m.CA=A*P;var n=k;if(n)n=n.solidFillMulti.v[0];if(n)n=n.v;if(n&&!n.enab.v)n=null;var s=x.rect;if(x.RM()&&(!x.yJ()||x.f3&&x.f3.SJ)){if(x.yJ()){R=x.f3.SJ;
s=x.f3.a8l}else{R=I.R(x.rect.P());I.Ud(x.buffer,R,3)}Q=k4.$v(k,x.add.fxrp,R,s,i,s).type;var j=["DrSh","OrGl"];
if(P!=1||X&&!X.fillEnabled.v){var _=R.slice(0);I.Fb(_);for(var Y=0;Y<j.length;Y++){var B=Q[j[Y]];for(var N=0;
N<B.length;N++){var a=B[N],O=a.gG.clone();O.x+=s.x;O.y+=s.y;I.v0(_,s,a.S2,O)}}}}if(Q)gm.a3S(x,R,s,Q,m,e,z,L,!0);
var H=k4.a3E(x,!1);if(H){e.StartTGroup(m);q=m;m=UDOC.getState()}var h=f&&!x.Q9();if(h){var D=I.C.iJ(f.$,!1),T=D.wV;
I.C.i(T.j,z,T.j);m.cpth={cmds:T.G,crds:T.j}}if(x.yJ()){for(var Y=0;Y<C.children.length;Y++)gm.asz(i,C.children[Y],m,e,z,L,l)}else if(f&&x.Q9()&&x.add.PtFl==null){var p=f.$,y=I.o.RP(p),b=!1;
if(X.fillEnabled.v){var g=k4.Ir(k,x.add),u=g[0],t=g[1];m.colr=gm.apD(u?u:t,z,y);b=!0}var V=k4.OE(k);
if(!X.strokeEnabled.v&&V)X=V;var D=I.C.iJ(p,X.strokeEnabled.v),T=D.wV;I.C.i(T.j,z,T.j);m.pth={cmds:T.G,crds:T.j};
gm.a90(e,m,b,X,z,y,D.Ts!=0)}else if(o&&L[4]){var c=o.Wg,E=new bY(c,l),T=b7.u_(E,o,!0),Z=I.C.So(T),G=k4.OE(k);
for(var J in Z){var K=parseInt(J.slice(1,7),16),M=0;m.colr=n?gm.Fw(n.Clr.v):gm.apT(K);var U=Z[J];I.C.i(U.j,z,U.j);
U=I.C.a0l(U);m.pth={cmds:U.G,crds:U.j};var X=G;if(J.length>7){X=jt.lc.TQ();var r=J.slice(7).split("-"),K=parseInt(r[1].slice(1),16),dS=gm.apT(K);
X.fillEnabled.v=!0;X.strokeEnabled.v=!0;X.strokeStyleLineWidth.v.val=parseFloat(r[2]);X.strokeStyleContent.v.Clr.v=n?n.Clr.v:I.I.$q({Z:dS[0]*255,r:dS[1]*255,e:dS[2]*255});
X.strokeStyleMiterLimit.v=parseFloat(r[2])}gm.a90(e,m,!0,X,z,null,!1)}}else if(o){var c=JSON.parse(JSON.stringify(o.Wg));
e7.ae0(c);var w=o.i.clone(),di=new hN(1,0,0,-1,0,0);di.concat(w);di.concat(z);var eM=e7.lD(c),E=new bY(c,l);
for(var Y=0;Y<E.t7.length;Y++){var j5=E.t7[Y];if(j5.Qz.length==1&&j5.Qz[0].V8)continue;for(var N=0;N<j5.DC.length;
N++){var ds=j5.DC[N],ba=j5.xi.y+ds.xi.y,gH=j5.Qz[ds.start].start,ir=j5.Qz[ds.end-1].end,iP=e7.avZ(c,gH,ir);
for(var iy=0;iy<iP.length;iy++){var iG=E.xc(gH),eg=iP[iy],du=e7.IF(c,gH,gH),gh=du.JR[du.hU.Font].Name;
m.font.Tf=gh;var J=e7.oq(du.hU.FillColor);m.colr=n?gm.Fw(n.Clr.v):[J.Z/255,J.r/255,J.e/255];var ga=m.font.Tfs=Math.round(du.hU.FontSize),fu=eM.slice(gH,gH+eg);
if(du.hU.FontCaps==2)fu=fu.toUpperCase();var c7=new hN;c7.translate(iG.TD.x,-ba);c7.concat(di);m.ctm=[c7.W,c7.e,c7.xF,c7.o6,c7.W_,c7.Rj];
e.PutText(m,fu,0);for(var eE=0;eE<2;eE++){var jn=du.hU[eE==0?"Strikethrough":"Underline"];if(!jn)continue;
var dI=E.xc(gH+eg-1),dQ=eE==0?.27:-.2,jo=ga*dQ,hT=ga*(dQ+.07),M=dI.TD.x+dI.TD.m-iG.TD.x,ea=[0,jo,M,jo,M,hT,0,hT];
I.C.i(ea,c7,ea);m.pth={cmds:["M","L","L","L","Z"],crds:ea};e.Fill(m)}m.ctm=[1,0,0,1,0,0];gH+=eg}}}}else if(!x.rect.bs()){var b9,ii,d_=!1,c4=new hN,kG=x.add.SoLd,fC=!0;
if(kG)fC=I.D.r5(I.D.v6($.V.dR(kG.Trnf)));var bO=i.AA();if(kG&&fC&&bO==null){var id=kG.Idnt.v,a5=i.WY(id,kG.Crop?kG.Crop.v:null),a7="";
if(a5==null)return;var eU=a5.pC,af=i$.ra(a5.raw.buffer);if(L[7].indexOf(af)!=-1){b9=a5.raw;d_=!0}else b9=eU[0];
ii=eU[1];c4=I.D.sb(kG)}else{b9=x.buffer;ii=x.rect;c4.translate(ii.x,ii.y);if(bO){b9=b9.slice(0);ICC.U.applyLUT(bO[i.add.fcmy==1?5:3],bO[2],b9,b9)}if(I.DP(b9,ii.m,ii.J)&&L[7]&&L[7].indexOf("jpg")!=-1){var g$=i$.AL("JPG").B3([[b9.buffer]],ii.m,ii.J,[L[1]]);
b9=new Uint8Array(g$);d_=!0}}if(n&&!d_)b9=k4.auK(b9,n,ii);gm.H6(m,e,b9,ii,c4,z);if(n&&d_){var ea=[0,0,ii.m,0,ii.m,ii.J,0,ii.J];
I.C.i(ea,c4,ea);I.C.i(ea,z,ea);var cg=JSON.parse(JSON.stringify(m));cg.ca=n.Opct.v.val/100;cg.pth={cmds:["M","L","L","L","Z"],crds:ea};
cg.colr=gm.Fw(n.Clr.v);e.Fill(cg)}}if(h)m.cpth=null;if(H){e.EndTGroup();m=q}m.ca=m.CA=F;if(Q)gm.a3S(x,R,s,Q,m,e,z,L,!1)};
gm.a90=function(i,C,m,e,z,L,l){var x=!1,S=0,k=0;if(e&&e.strokeEnabled.v){var f=e.strokeStyleContent.v;
C.COLR=gm.apD(f,z,L);jt.lc.tB(e,C,z.je());S=C.sal;delete C.sal;k=C.lwidth;x=!0}var X=S==2;if(m&&!X)i.Fill(C,l);
if(x){C.lwidth=k*(S==2?2:1);i.Stroke(C)}if(m&&X)i.Fill(C,l)};gm.auw=function(i){var C=gm.uS;if(C==null)return i;
var m=C.AA();if(m&&C.add.fcmy){var e=new Uint8Array(4);e[0]=.5+i[0]*255;e[1]=.5+i[1]*255;e[2]=.5+i[2]*255;
ICC.U.applyLUT(m[C.add.fcmy==1?5:3],m[2],e,e);i=[e[0]/255,e[1]/255,e[2]/255]}return i};gm.Fw=function(i){i=I.I.oq(i);
return gm.auw([i.Z/255,i.r/255,i.e/255])};gm.apT=function(i){return gm.auw([(i>>>16&255)/255,(i>>>8&255)/255,(i&255)/255])};
gm.apD=function(i,C,m){if(i.Clr)return gm.Fw(i.Clr.v);var e=i,z=e.Rvrs?e.Rvrs.v:!1,L=e.Type.v.GrdT,l,x=L=="Rdl"||L=="Dmnd"?"rad":"lin",S=I.I.II(e,m),k=C.M$(S[0]),f=C.M$(S[1]);
if(x=="rad")l=[k.x,k.y,0,k.x,k.y,b5.qM(k,f)];else{k.zy(f.x+(k.x-f.x)*2,f.y+(k.y-f.y)*2);l=[k.x,k.y,f.x,f.y]}var X=I.I.yW(e.Grad.v,z);
return{typ:x,mat:[1,0,0,1,0,0],grad:X,crds:l}};gm.a3S=function(i,C,m,e,z,L,l,x,S){var k=m.clone(),f=C;
if(i.add.TySh&&!x[3]&&!x[4])return;var X=z.ca,o=z.bmode;for(var Y=jt.order.length-1;Y>=0;Y--){var A=jt.order[Y];
if(A=="GrFl"||A=="SoFi")continue;if((i.add.vmsk||i.add.TySh)&&A=="FrFX")continue;var P=e[A],F=Y>7||A=="FrFX";
if(F!=S)continue;for(var n=0;n<P.length;n++){var R=P[n];if(R.gG==null)R=R.ZX?R.ZX:R.Br;if(R==null)continue;
var Q=R.gG.clone();Q.offset(k.x,k.y);if(!F){if(!k.Y4(Q)){var s=k.Z0(Q),j=I.R(s.P());I.Vo(f,k,j,s);f=j;
k=s}I.v0(f,k,R.S2,Q)}if(F&&A=="FrFX"&&R.tN)I.v0(R.tN,Q,R.S2,Q);var _=new hN;_.translate(Q.x,Q.y);z.ca=R.yE;
z.bmode=ix.a47(R.Vq);gm.H6(z,L,R.S2,Q,_,l)}}z.ca=X;z.bmode=o};gm.H6=function(i,C,m,e,z,L){var l=new hN;
l.scale(e.m,-e.J);l.translate(0,e.J);l.concat(z);l.concat(L);i.ctm=[l.W,l.e,l.xF,l.o6,l.W_,l.Rj];C.PutImage(i,m,e.m,e.J);
i.ctm=[1,0,0,1,0,0]};var dg={};dg.uU=function(i){var C=new Uint8Array(i);return dg.jM(C,0)};dg.jM=function(i,C){var m=W.Q,e=W.Sq,z={zx:e(i,C,4),F:C+8,size:m(i,C+4)},L=z.zx=="FORM"||z.zx=="FOR4"||z.zx=="LIST"||z.zx=="CAT ";
if(L)z.nU=e(i,C+8,4);if(z.size<0||z.F+z.size>i.length)throw"e";if(L){z.sub=[];C+=12;var l=z.F+z.size;
while(C<l){var x=dg.jM(i,C);z.sub.push(x);var S=x.size&1,k=x.size&3;if(z.zx=="FOR4")S=k==0?0:4-k;C+=8+x.size+S}}return z};
var bF={};bF.uU=function(i,C){var m=new Uint8Array(i);return bF.jM(m,0,C)};bF.jM=function(i,C,m){var e=W.nO,z=W.Sq,L={zx:z(i,C,4),F:C+8,size:e(i,C+4)};
if(m&&m[L.size]!=null)L.size=m[L.size];if(L.zx=="RIFF"||L.zx=="LIST"){L.nU=z(i,C+8,4)}if(L.size<0||L.F+L.size>i.length)throw"e";
if(L.zx=="RIFF"||L.zx=="LIST"&&(L.nU!="cmpr"&&L.nU!="stlt")){L.sub=[];C+=12;var l=L.F+L.size;while(C<l){var x=bF.jM(i,C,m);
L.sub.push(x);C+=8+x.size+(x.size&1)}}return L};var cD=function(){function i(K,M){var U=null;if(K.sub==null)return U;
for(var Y=0;Y<K.sub.length;Y++){var r=K.sub[Y];if(r.zx==M||r.nU==M)U=r}return U}function C(K){if(K==32)return 300;
else if(K<49)return 0;else if(K<58)return 100*(K-48);else if(K<65)return 0;return 100*(K-55)}var m;function e(K,M){var U=new Uint8Array(K);
M.qK=!0;m={};var r=W.Sq(U,0,2);if(r=="WL"){alert("Unsupported CDR version")}else{var dS,w,di,ds,gh=300,fu=0;
if(r=="PK"){w=UZIP.parse(U);U=w["content/root.dat"];di=W.U8(w["content/dataFileList.dat"]).split("\n")}dS=bF.uU(U.buffer);
console.log(dS);var eM=C(U[11]),j5={data:U,F:0,dn:eM};j5.p_=j5.dn<600?16:32;a(U,j5,di,w,dS.sub,0);var ba=[];
if(w){ds=i(dS,"doc ");z(ds);var gH=dS.sub;for(var Y=0;Y<gH.length;Y++)if(gH[Y].nU=="page")ba.push(gH[Y]);
ba=ba.slice(1)}else if(dS.sub[3].zx=="pack"){alert("We dont support this version of CDR files");return}else if(i(dS,"cmpr")==null){ds=i(dS,"page");
ba.push(ds);if(i(ds,"mcfg")==null){ds=i(dS,"doc ");z(ds);ba=[];var gH=dS.sub;for(var Y=0;Y<gH.length;
Y++)if(gH[Y].nU=="page")ba.push(gH[Y]);ba=ba.slice(1)}}else{var ir=i(dS,"cmpr").sub;ds=ir[0];ba=[ir.slice(1)[1]];
if(i(ds,"filt"))z(ds)}var iP=i(ds,"mcfg").b,iy=iP.awj,iG=iy.x*.1,eg=iy.x*ba.length+iG*(ba.length-1),du=iy.y;
gh/=gI.BH(new j2(0,0,Math.round(eg*gh),Math.round(du*gh)),8192*8192);var ga=Math.round(eg*gh),d5=Math.round(du*gh);
M.m=ga;M.J=d5;M.buffer=I.R(M.m*M.J*4);for(var Y=0;Y<ba.length;Y++){var ay=new hN(gh,0,0,-gh,iy.x*gh/2+fu,iy.y*gh/2);
L(ba[Y],ds,M,ay);var c7=M.M[M.M.length-1];c7.bQ(new j2(Math.round(fu),0,Math.round(iy.x*gh),Math.round(iy.y*gh)));
c7.yY("Page "+(Y+1));fu+=iy.x*gh+iG*gh}M.Ra(ba.length)}}function z(K){var M=i(K,"filt").sub,U=i(K,"otlt").sub,r=i(K,"fntt");
if(r)r=r.sub;K.V4={};for(var Y=0;Y<M.length;Y++)K.V4[M[Y].sub[0].b.id]=M[Y].sub[0].b;K.vp={};for(var Y=0;
Y<U.length;Y++)K.vp[U[Y].b.id]=U[Y].b;if(r){K.fonts={};for(var Y=0;Y<r.length;Y++)K.fonts[r[Y].b.id]=r[Y].b}}function L(K,M,U,r){var dS=K.nU?K.nU:K.zx,w=i(K,"lgob"),di=i(K,"txsm"),eM=null,j5=null;
if(w){eM=i(w,"trfl");j5=i(w,"loda")}else if(i(K,"lobj"))j5=i(K,"lobj");var ds=eM&&eM.sub[0].OT?eM.sub[0].OT.clone():new hN;
ds.concat(r);var ba=U.Sv();if(dS=="page"||dS=="layr"||dS=="grp "){ba.yY((dS=="page"?"Page":"Group")+" "+U.M.length);
ba.add.lsct=aU.AY;ba.fn="pass";ba.de=24;var gH=[];if(dS=="page")gH=i(K,"gobj").sub;if(dS=="layr")gH=K.sub.slice(2);
if(dS=="grp ")gH=K.sub.slice(4);if(gH.length==0)return;U.M.push(U.b$());for(var Y=gH.length-1;Y>=0;Y--)L(gH[Y],M,U,r)}else if(dS=="obj "&&j5.b&&j5.b.path){var ir,iP;
if(M.V4){ir=M.V4[j5.b.akF];iP=M.vp[j5.b.a2l]}if(ir==null)ir=j5.b.a6J;if(iP==null)iP=j5.b.anW;ba=l(U,j5.b.path,r,ds,ir,iP)}else if(dS=="obj "&&di){var iy=j5.b.a4m,iG=j5.b.aoq,gh="";
ba.add.TySh=e7._x(0,0);var eg=ds.je();ba.add.TySh.i.translate(ds.W_,ds.Rj);var du=ba.add.TySh.Wg,ga=di.b.UJ;
if(ga==null)return;for(var Y=0;Y<ga.length;Y++){var d5=ga[Y],fu=gh.length;gh+=d5.text+"\n";e7.cQ(du,fu,d5.text+"\n");
if(d5.text=="")continue;var ay=x(d5.auF,M),c7=ay.aoN,eE=M.fonts[c7.a6p],jn=e7.IF(du,fu,gh.length);if(ay.align==3)jn.t7.Justification=1;
else if(ay.align==2)jn.t7.Justification=2;else jn.t7.Justification=0;var dQ=ay.fill.b;if(dQ==null)dQ=[0,0,0];
if(eE.jy)e7.Ca(jn,eE.jy);jn.hU.FillColor={Type:1,Values:[1,dQ[0],dQ[1],dQ[2]]};jn.hU.FontSize=Math.round(c7.fontSize*r.je());
e7.Bl(du,fu,gh.length-1,jn)}if(iG){e7.k8(du,0)}else{e7.k8(du,1);e7.N2(du,[0,0,Math.round(iy.x*ds.W),Math.round(-iy.y*ds.o6)])}ba.yY(gh.slice(0,10))}else{ba=null}if(ba)U.M.push(ba)}function l(K,M,U,r,dS,w){var di=K.Sv();
di.yY("Object "+K.M.length);di.de|=16;var eM=di.add.vstk=jt.lc.TQ();di.add.vmsk=new cc.hF;di.add.vmsk.$=I.C.aZ(M,!1);
I.o.Pa(di.add.vmsk.$,r);var j5=dS&&dS.type!=0,ds=j5&&dS.b!=null?dS.b:[0,0,0];ix.EY(ds,di,r,I.o.RP(di.add.vmsk.$));
eM.fillEnabled.v=j5;if(w&&w.amP!=1){eM.strokeEnabled.v=!0;eM.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var ba=eM.strokeStyleLineWidth.v.val=w.lineWidth*U.je(),gH=w.color;eM.strokeStyleContent.v.Clr.v=I.I.$q({Z:gH[0]*255,r:gH[1]*255,e:gH[2]*255});
if(w.l4.length!=0)eM.strokeStyleLineDashSet.v=k4.$M(w.l4,4/ba);var ir=w.azV,iP=w.ad1;if(iP!=0){var iy=M.j,Y=iy.length-4,iG=iy[Y],eg=iy[Y+1],du=iy[Y+2],gh=iy[Y+3],ga=new hN;
ga.scale(.15,.15);ga.rotate(-Math.PI/2+Math.atan2(gh-eg,-(du-iG)));ga.translate(du,gh);ga.concat(r);
if(m[iP]){var d5=l(K,m[iP],U,ga,gH,null);K.M.push(d5)}}}di.tO();di.rH(K);return di}function x(K,M){var U=i(M,"stlt").b,r=JSON.parse(JSON.stringify(U.Qb[K]));
if(r.kf!=0){var dS=U.Qb[r.kf];for(var w in dS)if(r[w]==null||r[w]==0)r[w]=dS[w];delete r.kf}r.align=U.aDh[r.a28];
r.fill=M.V4[U.an8[r.ao0]];r.alE=M.vp[U.aAn[r.a6Q]];r.aoN=U.aBI[r.akA];return r}function S(Y){var k7=Y.data[Y.F];
Y.F+=1;return k7}function k(Y){var k7=W.yX(Y.data,Y.F);Y.F+=2;return k7}function f(Y){var k7=W.nO(Y.data,Y.F);
Y.F+=4;return k7}function X(Y){var k7=W.nO(Y.data,Y.F);Y.F+=8;return k7}function o(Y){var k7=W.lY(Y.data,Y.F);
Y.F+=2;return k7}function A(Y){var k7=W.NC(Y.data,Y.F);Y.F+=4;return k7}function P(Y){var k7=W.uw(Y.data,Y.F);
Y.F+=8;return k7}function F(Y){if(Y.F>=Y.data.length)throw"e";var K=0;while(Y.data[Y.F+K]!=0)K++;var M=W.Sq(Y.data,Y.F,K);
Y.F+=K+1;return M}function n(Y){var K="";while(!0){var M=k(Y);if(M==0)break;K+=String.fromCharCode(M)}return K}function R(K){var M=f(K),U=(M&4294901760)>>>16,r=(M&65535)/65535;
return U+r}function Q(K){if(K.dn<600)return Math.PI*o(K)/1800;return Math.PI*A(K)/18e7}function s(K){if(K.dn<1500)return j(K);
else return P(K)/254e3}function j(K){if(K.dn<600)return o(K)/1e3;else return A(K)/254e3}function _(K){if(K.dn<600)return k(K);
else return f(K)}function B(K){if(K.dn<600)return o(K);else return A(K)}function N(K,M,U){var r="";for(var Y=0;
Y<U;Y++){for(var dS=0;dS<M;dS+=4){var k7=W.nO(K.data,K.F+Y*M+dS);r+=(k7<500?k7:k7)+","}r+="\n"}return r}function a(K,M,U,r,dS,w){var di,eM,j5;
for(var ds=0;ds<dS.length;ds++){var ba=M.dn,gH=dS[ds];M.data=K;M.F=gH.F+(gH.zx=="LIST"?4:0);if(r&&gH.sub==null){di=f(M);
eM=f(M);j5=f(M);var ir=k(M);if(ir!=0)throw"e";var iP=k(M);if(iP>32)throw"e";M.F-=16;if(di!=4294967295){M.data=r["content/data/"+U[di]];
M.F=j5}}if(gH.zx=="vrsn"){if(gH.size==16)M.F+=8;var iy=k(M);M.dn=iy;console.log("Version",iy);M.p_=iy<600?16:32}else if(gH.zx=="DISP"){}else if(gH.zx=="pack"){var iG=f(M),eg=W.Sq(M.data,M.F,4),ga=0;
if(eg!="CPng")throw eg;var du=new Uint8Array(M.data.buffer,M.F+8+2,gH.size-10-4),gh=pako.inflateRaw(du);
gH.sub=[];while(ga<gh.length){var d5=bF.jM(gh,ga);ga=d5.F+d5.size;gH.sub.push(d5)}var fu={data:gh,F:0,dn:ba,p_:M.p_};
a(gh,fu,U,r,gH.sub,w+1)}else if(gH.zx=="LIST"&&gH.nU=="cmpr"){var ay=f(M),c7=f(M),eE=f(M),iG=f(M),eg=W.Sq(M.data,M.F,4),ga=0;
if(eg!="CPng")throw eg;var du=new Uint8Array(M.data.buffer,M.F+8+2,ay-6-8),gh=pako.inflateRaw(du);M.F+=ay;
du=new Uint8Array(M.data.buffer,M.F+8+2);var jn=pako.inflateRaw(du),dI=[];for(var dQ=0;dQ<jn.length;
dQ+=4)dI.push(W.nO(jn,dQ));gH.sub=[];while(ga<gh.length){var d5=bF.jM(gh,ga,dI);ga=d5.F+d5.size;gH.sub.push(d5)}var fu={data:gh,F:0,dn:ba,p_:M.p_};
a(gh,fu,U,r,gH.sub,w+1)}else if(gH.zx=="LIST"&&gH.nU=="stlt"||gH.zx=="stlt"){if(di==4294967295)return;
var jo=M.F,c4="",cJ=32;gH.b={};var hT=f(M);if(hT==0)return;gH.b.an8=b(M,ba>=1300);gH.b.aAn=b(M);gH.b.aBI={};
var ea=f(M);for(var Y=0;Y<ea;Y++){var b9=f(M);M.F+=ba<1e3?12:20;var bI=k(M),ii=k(M);M.F+=8;var d_=j(M);
M.F+=ba<1e3?12:20;gH.b.aBI[b9]={a6p:bI,axD:ii,fontSize:d_}}gH.b.aDh=b(M);var kG=f(M);c4+="Intervals\n"+N(M,52,kG)+"\n";
M.F+=52*kG;var fC=f(M);c4+="Set5s\n"+N(M,152,fC)+"\n";M.F+=152*fC;var bO=f(M);c4+="Tabs\n"+N(M,784,bO)+"\n";
M.F+=784*bO;var id=f(M);c4+="Bullets\n";for(var Y=0;Y<id;Y++){var a5=M.F,eU=f(M);M.F+=4*3;if(ba>1300)M.F+=4;
var af=f(M);M.F+=4*5;if(ba>=1300){var a7=f(M);if(a7){if(f(M))M.F+=64;else M.F+=60}else M.F+=12}else{M.F+=20;
if(ba>=1e3)M.F+=8;if(f(M))M.F+=8;M.F+=8}var g$=M.F;M.F=a5;c4+=N(M,g$-a5,1);M.F=g$}c4+="\n";var cg=f(M);
c4+="Indents\n";gH.b.a5B={};for(var Y=0;Y<cg;Y++){var a5=M.F,cC=f(M),kF={};M.F+=12;kF.right=j(M);kF.alR=j(M);
kF.left=j(M);gH.b.a5B[cC]=kF;var g$=M.F;M.F=a5;c4+=N(M,g$-a5,1);M.F=g$}c4+="\n";var am=f(M);if(ba>=1300)cJ+=4;
c4+="Hypens\n"+N(M,cJ,am)+"\n";M.F+=cJ*am;var fX=f(M);c4+="Dropcaps\n"+N(M,28,fX)+"\n";M.F+=28*fX;if(ba>800){var hP=f(M);
c4+="Set11s\n"+N(M,28,hP)+"\n";M.F+=12*hP}gH.b.Qb={};for(var Y=0;Y<hT;Y++){var kx=f(M);if(kx>3)throw kx;
var f2=f(M),gt={};gt.kf=f(M);M.F+=8;var iD=f(M);if(ba>=1200)iD*=2;M.F+=iD;gt.ao0=f(M);gt.a6Q=f(M);if(kx>1){gt.akA=f(M);
gt.a28=f(M);gt.asl=f(M);gt.ajf=f(M);if(ba>800)gt.aqg=f(M)}if(kx>2){gt.a29=f(M);gt.a8Z=f(M);gt.aar=f(M);
gt.apH=f(M);gt.a5r=f(M)}gH.b.Qb[f2]=gt}}else if(gH.zx=="LIST")a(K,M,U,r,gH.sub,w+1);else if(gH.zx=="txsm"){gH.b={};
if(ba<600)throw"e";if(ba<700)throw"e";if(ba>=1600){gH.b=y(M);return}if(ba>=1500)M.F+=37;else M.F+=36;
if(f(M)){if(ba<800)M.F+=32}if(ba<800)M.F+=4;gH.b.aCH=f(M);gH.b.UJ=[];M.F+=48;if(ba>=800){if(f(M)){M.F+=32;
if(ba>=1300)M.F+=8}}if(ba>=1500)M.F+=12;var kx=f(M),eb=1,dA=!1;if(!kx){if(ba>=800)M.F+=4;if(ba>800)M.F+=2;
if(ba>=1400)M.F+=2;M.F+=24;if(ba<800)M.F+=8;eb=f(M)}for(var dQ=0;dQ<eb;dQ++){var e9=f(M),Y=0;if(ba>=1300&&kx)M.F++;
M.F++;var hT=f(M),eI=[];for(Y=0;Y<hT;Y++){var d9=S(M),e4=0;S(M);var f9=S(M);if(ba>=800)e4=S(M);var gt={};
if(f9&1){gt.a6p=k(M);var cj=k(M);if(cj)gt.anf=cj}if(f9&2)M.F+=4;if(f9&4)gt.aCQ=j(M);if(f9&8)M.F+=4;if(f9&16)M.F+=4;
if(f9&32)M.F+=4;if(f9&64){gt.ao0=f(M);if(ba>=1500)M.F+=48}if(f9&128){gt.a6Q=f(M)}if(e4&8){if(ba>=1300){var i4=f(M);
if(M.F+i4*2>=M.data.length){dA=!0;break}M.F+=i4*2}else M.F+=4}if(e4&32){var d6=S(M);if(d6)M.F+=52}if(d9==2)if(ba>=1300)M.F+=48;
eI.push(gt)}if(dA){break}var ko=f(M);if(M.F+ko*4>M.data.length)break;var cM=[];for(Y=0;Y<ko;Y++){var g2=0;
if(ba>=1200)g2=X(M)&4294967295;else g2=f(M);cM[Y]=g2>>16|g2&1}var iW=ko;if(ba>=1200)iW=f(M);var bl=F(M);
gH.b.UJ.push({auF:e9,text:bl,Qb:eI})}}else if(gH.zx=="arrw")gH.b=O(M);else if(gH.zx=="font"){var a5=M.F,dW=k(M),j8=k(M),dq="";
M.F+=14;if(M.dn>=1200)dq=n(M);else dq=F(M);gH.b={id:dW,aax:j8,name:dq};if(r){var hl=a5+eM;while(M.data[M.F]==0)M.F++;
M.F+=2;var gY=n(M);while(M.data[M.F]==0)M.F++;while(M.data[M.F]<=2)M.F+=4;gH.b.jy=n(M)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(gH.zx)!=-1){}else if(gH.zx=="flgs")gH.b=f(M);
else if(gH.zx=="bbox"){var bE=j(M),dn=j(M),a3=j(M),en=j(M);gH.b=new j2(bE,dn,a3-bE,en-dn)}else if(gH.zx=="fild"){var g3=f(M),gJ;
if(ba>=1300)M.F+=8;var h4=k(M);if(h4==0){}else if(h4==1){M.F+=ba>=1300?13:2;gJ=G(M)}else if(h4==2){M.F+=ba>=1300?8:2;
var at=S(M),aZ=0;if(ba>=1300){M.F+=17;aZ=o(M)}else if(ba>=600){M.F+=19;aZ=A(M)}else{M.F+=11;aZ=o(M)}var hH=Q(M),dl=.5+B(M),cm=.5+B(M)-.5;
if(ba>=600)M.F+=2;var gv=_(M)&255,bm=S(M)/100;M.F++;var hk=_(M)&65535;if(ba>=1300)M.F+=3;var h1=[];for(var Y=0;
Y<hk;Y++){var fN=G(M);if(ba>=1400)M.F+=26;else if(ba>=1300)M.F+=5;var dR=(_(M)&65535)/100;if(ba>=1300)M.F+=3;
h1.push([dR,fN])}gJ={typ:at==1?"lin":"rad",crds:[dl-Math.cos(hH)/2,cm-Math.sin(hH)/2,dl,cm],grad:h1,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",h4);
gH.b={id:g3,type:h4,b:gJ}}else if(gH.zx=="outl"){var h0=f(M);if(ba>=1300){var ip=0,gE=0;while(ip!=1){M.F+=gE;
ip=f(M);gE=f(M)}}var dH=k(M),g6=k(M),dC=k(M);if(ba<1300&&ba>=600)M.F+=2;var h2=j(M),e1=k(M)/100;if(ba>=600)M.F+=2;
var jz=Q(M);if(ba>=1300)M.F+=46;else if(ba>=600)M.F+=52;var gJ=G(M);if(ba<600)M.F+=10;else M.F+=16;var bx=k(M),fv=M.F,hE=[];
for(var Y=0;Y<bx;++Y)hE.push(k(M));if(ba<600)M.F=fv+20;else M.F=fv+22;var kc=f(M),dJ=f(M);gH.b={id:h0,amP:dH,aqz:g6,aqf:dC,lineWidth:h2,color:gJ,l4:hE,azV:kc,ad1:dJ}}else if(gH.zx=="mcfg"){if(1300<=ba)M.F+=12;
else if(900<=ba)M.F+=4;else if(600<=ba&&ba<700)M.F+=28;var bS=0,gr=0;if(ba<400){M.F+=2;var bE=j(M),dn=j(M),a3=j(M),en=j(M);
bS=Math.abs(a3-bE);gr=Math.abs(en-dn)}else{bS=j(M);gr=j(M)}gH.b={awj:new b5(bS,gr)}}else if(gH.zx=="loda"||gH.zx=="lobj"){var jo=M.F,jB=_(M),jO=_(M),jM=_(M),bb=_(M),cq=_(M),hJ=[],a$=[],Y=0,cH=null;
M.F=jo+jM;while(Y<jO)hJ[Y++]=_(M);M.F=jo+bb;while(Y>0)a$[--Y]=_(M);gH.b={};for(Y=0;Y<jO;Y++){M.F=jo+hJ[Y];
var k8=a$[Y];if(k8==30){if(ba>=400&&cq==1||ba<400&&cq==0){gH.b.path=T(M)}else if(ba>=400&&cq==2||ba<400&&cq==1){gH.b.path=D(M)}else if(ba>=400&&cq==3||ba<400&&cq==2){gH.b.path=V(M)}else if(cq==37){gH.b.path=t(M)}else if(ba>=400&&cq==4||ba<400&&cq==3){gH.b.aoq=g(M)}else if(ba>=400&&cq==6||ba<400&&cq==5){gH.b.a4m=u(M)}else console.log(cq)}else if(k8==20){if(ba<400)gH.b.a6J=q(M);
else gH.b.akF=f(M)}else if(k8==10){if(ba<400)gH.b.anW=h(M);else gH.b.a2l=f(M)}else if(k8==200)gH.b.afY=_(M);
else if(k8==100){if(ba<400)cH=H(M)}}if(cH&&gH.b.path)I.C.i(gH.b.path.j,cH,gH.b.path.j)}else if(gH.zx=="trfd"){var jo=M.F,jB=_(M),jO=_(M),jM=_(M);
M.F=jo+jM;var hJ=[];for(var Y=0;Y<jO;Y++)hJ[Y]=_(M);for(var Y=0;Y<jO;Y++){M.F=jo+hJ[Y];if(ba>=1300)M.F+=8;
var dM=k(M);if(dM==8){var i0,ct,bE,h7,je,dn;if(ba>=600)M.F+=6;if(ba>=500){i0=P(M);ct=P(M);bE=P(M)/(ba<600?1e3:254e3);
h7=P(M);je=P(M);dn=P(M)/(ba<600?1e3:254e3)}else throw"e";gH.OT=new hN(i0,h7,ct,je,bE,dn)}else console.log(dM)}}else if(!1){console.log(gH);
var kp=Math.min(gH.size,32);console.log(W.Lt(K,gH.F,kp));console.log(W.aaD(K,gH.F,kp))}}}function O(K){var M=f(K);
K.F+=4;var U=k(K);K.F+=4;var r=[];for(var dS=0;dS<U;dS++)r.push(S(K));K.F+=1;var w=[];for(var di=0;di<U;
di++){var eM=[];eM[1]=j(K);eM[0]=j(K);w.push(eM)}var j5=E(w,r);m[M]=j5}function H(K){var M=0,U=0,r=0,dS=0,w=0,di=0;
if(K.dn>=300){var eM=K.F;K.F+=10;var j5=_(K);K.F=eM+j5;M=R(K);U=R(K);r=A(K)/1e3;dS=R(K);w=R(K);di=A(K)/1e3}else{r=j(K);
di=j(K);M=R(K);U=R(K);r+=R(K)/1e3;dS=R(K);w=R(K);di+=R(K)/1e3}return new hN(M,U,dS,w,r,di)}function q(K){var M=S(K);
if(M==0)return null;else if(M==1)return G(K);else console.log(M)}function h(K){var M=S(K);M<<=1;var U=j(K),r=k(K)/100,dS=Q(K),w=G(K);
return{amP:M,lineWidth:U,color:w,l4:[],azV:0,ad1:0}}function D(K){var M=j(K),U=j(K),r=Q(K),dS=Q(K),w=I.C.BN(I.o.vC.Xl(0,0,M,U));
return w}function T(K){var M=K.dn,U=s(K),r=s(K),dS=0,w=0,di=0,eM=0,j5=0,ds=1,ba=1;if(M<1500){eM=s(K);
di=M<900?eM:s(K);w=M<900?eM:s(K);dS=M<900?eM:s(K)}else{var gH=P(K);if(gH!=0)ds=gH;gH=P(K);if(gH!=0)ba=gH;
var ir=S(K);K.F+=7;if(ir==0){eM=P(K);j5=S(K);K.F+=15;di=P(K);K.F+=16;w=P(K);K.F+=16;dS=P(K);var iP=Math.abs(U*ds/2),iy=Math.abs(r*ba/2);
eM*=iP<iy?iP:iy;di*=iP<iy?iP:iy;w*=iP<iy?iP:iy;dS*=iP<iy?iP:iy}else{eM=s(K);j5=S(K);K.F+=15;di=s(K);
K.F+=16;w=s(K);K.F+=16;dS=s(K)}}return I.C.BN(I.o.vC.Rect(0,0,U,r,[dS,w,di,eM]))}function p(K){var M=f(K);
if(K.dn<1700)M*=2;K.F+=M;return""}function y(K){var M=f(K),r=0;K.F+=37;var U=f(K);for(var Y=0;Y<U;Y++){var dS=f(K);
r=dS;K.F+=48;var w=f(K);if(w==1)K.F+=12*4;else K.F+=8;if(!M){K.F+=16;p(K)}}var di={aCH:r,UJ:[]},eM=f(K);
for(var j5=0;j5<eM;j5++){var ds=f(K),d5="";K.F+=1;if(M)K.F+=1;var ba=p(K),gH=f(K);for(var Y=0;Y<gH;Y++){K.F+=2;
var ir=k(K),iP=k(K);if(iP&4){var iy=f(K);iy*=2;K.F+=iy}if(ir||iP&4){var iG=p(K)}}var eg=f(K),du=[];for(var Y=0;
Y<eg;Y++){var gh=X(K)&4294967295;du[Y]=gh>>16|gh&1}var ga=f(K);for(var Y=0;Y<eg;Y++){var fu=du[Y]&7,ay=0;
if(fu==0||fu==2||fu==4||fu==6)ay=K.data[K.F++];else if(fu==1||fu==3)ay=K.data[K.F++]+K.data[K.F++]*256;
else throw fu;d5+=String.fromCharCode(ay)}var c7=d5.split("\r");for(var Y=0;Y<c7.length;Y++)di.UJ.push({text:c7[Y],auF:ds,Qb:[]})}return di}function b(K,M){var U={},r=f(K);
for(var Y=0;Y<r;Y++){var dS=f(K);K.F+=4;var w=f(K);U[dS]=w;if(M)K.F+=48}return U}function g(K){var M=j(K),U=j(K);
return new b5(M,U)}function u(K){K.F+=4;var M=j(K),U=j(K);return new b5(M,U)}function t(K){K.F+=4;var M=k(K)+k(K);
K.F+=16;var U=c(K,M);return U}function V(K){var M=k(K);K.F+=2;return c(K,M)}function c(K,M){var U=[],r=[];
for(var Y=0;Y<M;Y++)U.push([j(K),j(K)]);for(var Y=0;Y<M;Y++)r.push(S(K));return E(U,r)}function E(K,M){var U={j:[],G:[]},r=0,dS=0,w=0;
for(var Y=0;Y<K.length;Y++){var r=K[Y][0],dS=K[Y][1],di=M[Y];if(!(di&64)&&!(di&128)||Y==0){U.j.push(r,dS);
U.G.push("M");w+=2}else if(di&64&&!(di&128)){U.j.push(r,dS);U.G.push("L");w+=2}else if(!(di&64)&&di&128){U.j.push(r,dS);
U.G.push("C");w+=6}else if(di&64&&di&128){U.j.push(r,dS)}}if(w!=U.j.length)throw"e";return U}function Z(K,M){var U=W.nO;
M+=8;var r=U(K,M);M+=4;var dS=U(K,M);M+=4;M+=4*7;var w=M,di=I.R(r*dS*4);M+=1024;for(var eM=0;eM<dS;eM++)for(var j5=0;
j5<r;j5++){var Y=eM*r+j5,ds=(dS-eM-1)*r+j5,ba=K[M+Y]<<2,gH=ds<<2;di[gH+0]=K[w+ba+2];di[gH+1]=K[w+ba+1];
di[gH+2]=K[w+ba+0];di[gH+3]=255}return{S2:di,rect:new j2(0,0,r,dS)}}function G(K){var M=K.dn,U=0,r=0,dS=0;
if(M>=500){U=k(K);if(U==1&&M>=1300)U=25;if(U==30){U=25;r=30}else{r=k(K);K.F+=4}dS=f(K)}else if(M>=400)throw"e";
else{U=S(K);dS=f(K)}return J(U,r,dS)}function J(K,M,U){var r=[0,0,0];if(K==2||K==3||K==9||K==17){var dS=[U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255];
if(K==2)for(var Y=0;Y<4;Y++)dS[Y]=Math.round(255*dS[Y]/100);for(var Y=0;Y<4;Y++)dS[Y]/=255;r=UDOC.C.cmykToRgb(dS)}else if(K==1||K==5){r=[U>>>0&255,U>>>8&255,U>>>16&255];
for(var Y=0;Y<3;Y++)r[Y]=r[Y]/255;if(K==5)r.reverse()}else console.log("Unknown color model "+K,U,U.toString(16));
return r}return{uU:e}}(),hB=function(){var i,C,m=new ArrayBuffer(4),e=new Uint8Array(m),z=new Uint32Array(m),L=new Float32Array(m);
function l(o,A){for(var P=0;P<o.length;P++)if(o[P][0]==A)return o[P]}function x(){var o=0,A=0,P=0;do{P=i[C++];
o|=(P&127)<<A;A+=7}while(P&128&&A<35);return o>>>0}function S(o,A,P,F,n){i=o;C=A;var R=F[0]=="mesg",Q=F[2],s={},j=1,_=R?1e9:Q.length;
while(j<=_){var B=j;if(R){B=x();if(B==0)break}var N=l(Q,B),a=N[2],O=N[1]==1,H=O?x():1,q=new Array(H);
if(a==3){if(!O)throw"e";q=i.slice(C,C+H);C+=H}else for(var Y=0;Y<H;Y++){var h;if((a&1)==1){if(a==1)h=i[C++]==1;
else if(a==3)h=i[C++];else if(a==5){var D=x();h=D&1?~(D>>>1):D>>>1}else if(a==7)h=x();else if(a==9){if(i[C]==0){h=0;
C++}else{e[0]=i[C];e[1]=i[C+1];e[2]=i[C+2];e[3]=i[C+3];var T=z[0];z[0]=T<<23|T>>>9;h=L[0];C+=4}}else if(a==11){var p=k(i,C);
h=p[0];C+=p[1]+1}else throw a}else{var y=P[a>>>1];if(y[0]=="enum"){var b=x();h=y[2][b]}else{var g=S(i,C,P,y,n+1);
h=g[0];C=g[1]}}q[Y]=h}s[N[3]]=O?q:q[0];j++}return[s,C]}function k(o,A){var P=A;while(o[P]!=0)P++;return[W.U8(new Uint8Array(o.buffer,A,P-A)),P-A]}function f(o,A){var P=A;
while(o[P]!=0)P++;for(var Y=A;Y<P;Y++)if(o[Y]>127)throw"e";return W.Sq(o,A,P-A)}function X(o){i=o;C=1;
var A=[];while(C<o.length){var P=C,F=A.length,n=f(o,C);C+=n.length+1;var R=x();if(R>2)throw"e";var Q=x(),s=[];
for(var Y=0;Y<Q;Y++){var j=f(o,C);C+=j.length+1;var _=x(),B=x(),N=x();s.push(R==0?j:[N,B,_,j])}A.push([["enum","strc","mesg"][R],n,s])}return A}return{a3G:X,az_:S}}();
function f$(){}f$.uU=function(i,C){var m=Date.now(),e=new Uint8Array(i),z=8,L,X=0,g=0;if(e[0]==80&&e[1]==75){L=UZIP.parse(i);
e=L["canvas.fig"]}var l=W.nO(e,z);z+=4;var x=[];while(z<e.length){var S=W.nO(e,z);z+=4;var k=e.slice(z,z+S);
if(e[z]==137&&e[z+1]==80){}else k=UZIP.inflateRaw(k);x.push(k);z+=S}var f=hB.a3G(x[0]);for(var Y=0;Y<f.length;
Y++)if(f[Y][1]=="Message")X=Y;var o=hB.az_(x[1],0,f,f[X],0)[0],A={Ln:{},MB:{},agC:{},be:L},P=o.nodeChanges;
for(var F=0;F<P.length;F++){var n=P[F],R=n.guid;A.MB[R.sessionID+","+R.localID]=n}for(var F=0;F<P.length;
F++){var n=P[F],R=n.parentIndex;if(R){var Q=f$.En(A.MB,R.guid);if(Q.children==null)Q.children=[];Q.children.push(n)}}var s=P[0],j=s.children,_=new j2,B=[],N=[];
for(var R=0;R<j.length;R++){var a=j[R],O=a.children;if(a.name=="Internal Only Canvas"||O==null)continue;
var H=new j2;for(var Y=0;Y<O.length;Y++){var q=O[Y],h=q.transform,D=q.size;if(h.m00==1&&h.m10==0&&h.m01==0&&h.m11==1){var T=new j2(h.m02,h.m12,D.x,D.y);
H=H.Z0(T)}}var p=_.J==0?0:_.J+100,y=H.clone();y.x=0;y.y=p;_=_.Z0(y);B[R]=H;N[R]=p}var b=gI.BH(new j2(0,0,_.m,_.J),8192*8192);
C.m=Math.round(_.m/b);C.J=Math.round(_.J/b);C.buffer=I.R(C.m*C.J*4);for(var R=0;R<j.length;R++){var a=j[R],O=a.children;
if(a.name=="Internal Only Canvas"||O==null)continue;O.sort(f$.aly);var u=new hN(1,0,0,1,-B[R].x,N[R]-B[R].y);
u.scale(1/b,1/b);for(var Y=0;Y<O.length;Y++){var q=O[Y];f$.dW(q,[],u,o.blobs,C,0,A);g++}}C.Ra(g);C.qK=!0;
if(b!=1)alert("File scaled down "+b+"x")};f$.dW=function(i,C,m,e,z,L,l){var x=f$,H=!1,q,T=!1,p,y;C=JSON.parse(JSON.stringify(C));
var S=i.overrideKey?i.overrideKey:i.guid;for(var Y=0;Y<C.length;Y++){var k=C[Y],f=k.guidPath.guids;if(x.aB4(f[0],S)){if(f.length==1){var X={};
for(var o in i)X[o]=k[o]!=null?k[o]:i[o];i=X}else k.guidPath.guids=f.slice(1)}}var A=i.type,P=i.children,F=i.size,n=i.effects,R=z.Sv();
R.yY(i.name);R.fJ(i.visible);R.opacity=Math.round(i.opacity*255);var Q=x.J0(i.transform),s=Q.clone();
s.concat(m);if(F==null)F={x:0,y:0};var j=new j2(Math.round(s.W_),Math.round(s.Rj),Math.round(F.x*s.je()),Math.round(F.y*s.je()));
if(j.m==0||isNaN(j.m))j.m=100;if(j.J==0||isNaN(j.J))j.J=100;var _=i.fillPaints,B=i.inheritFillStyleID;
if(B){var X=x.En(l.MB,B);if(X)_=X.fillPaints}if(_==null)_=[];var _=x.ayk(_),N=_[0],a=i.strokePaints,B=i.inheritFillStyleIDForStroke;
if(B){var X=x.En(l.MB,B);if(X)a=X.fillPaints}if(a==null)a=[];var a=x.ayk(a),O="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(A)!=-1;
if(O||A=="FRAME"){q=new cc.hF;x.am_(i,e,q);H=I.o.bd(q.$);I.o.Pa(q.$,s);var h=I.C.Ub(I.o.RP(q.$));if(!h.bs())j=h;
if(l.Ln.Pz&&N){var D=cc.hF.ug(l.Ln.Pz.$);for(var Y=2;Y<D.length;Y++)if(D[Y].ay!=null)D[Y].ay=3;q.$=q.$.concat(D.slice(2))}}if(N&&N.type=="IMAGE"){y=N.imageScaleMode;
T=!0;var b=N.originalImageWidth,g=N.originalImageHeight;if(b*g==0){var u=x.I6(e,f$.hi(N),l);b=u.Jw.m;
g=u.Jw.J}var t=b/g,V=F.x/F.y;p=Math.abs(t-V)}if(A=="FRAME"){}else if(O&&H&&T&&(y=="FIT"||y=="FILL"&&p<=.05||y=="STRETCH"&&p<=.05)){var c=x.I6(e,f$.hi(N),l,!0),E=z.Mf(c,R.getName(),0,0);
E.de=R.de;E.opacity=R.opacity;R=E;var Z=new j2(0,0,F.x,F.y);if(y=="FIT"){var G=N.originalImageWidth,J=N.originalImageHeight,K=Math.min(F.x/G,F.y/J),M=G*K,U=J*K;
Z=new j2(Z.x+(Z.m-M)/2,Z.y+(Z.J-U)/2,M,U)}var r=I.C.Ym(Z).j;I.C.i(r,s,r);R.add.SoLd.Trnf=$.V.xN(r);R.add.SoLd.nonAffineTransform=$.V.xN(r);
var dS=[],n=i.effects,w=N.paintFilter;if(n)for(var Y=0;Y<n.length;Y++)if(n[Y].type=="FOREGROUND_BLUR"){var di=n[Y],eM=ft.eF("GsnB",{});
dS.push(eM);eM.v.enab.v=di.visible;eM.v.Fltr.v.Rds.v.val=di.radius/2.4}if(w&&w.exposure!=0){var eM=ft.eF("brit",{});
dS.push(eM);eM.v.Fltr.v.Brgh.v=Math.round(w.exposure*160);eM.v.Fltr.v.useLegacy.v=!0}if(w&&w.vibrance!=0){var eM=ft.eF("vibA",{});
dS.push(eM);eM.v.Fltr.v.Strt.v=Math.round(Math.round(w.vibrance*100))}if(dS.length!=0){R.add.SoLd.filterFX=ft.sB();
z.tH({id:R.add.SoLd.placed.v,rect:new j2,buffer:I.R(1),X:new cc.o7});R.add.SoLd.filterFX.v.filterFXList.v=dS}R.g1(z,!1);
x.ake(l,R,z)}else if(O){x.aDI(R,q,i,N,a,s,j,e,z,l);if(n)for(var Y=0;Y<n.length;Y++){var di=n[Y];if(di.type!="FOREGROUND_BLUR")continue;
q.JQ=di.radius/2.4}R.tO();R.rH(z)}else if(A=="TEXT"){var j5=i.textData,ds=j5.layoutSize,ba=["LEFT","RIGHT","CENTER"].indexOf(i.textAlignHorizontal);
R.add.lnsr="rend";R.add.TySh=e7._x(0,0);R.add.TySh.l$=new j2(0,0,100,100);var gH=s.clone();R.add.TySh.i=gH;
var ir=R.add.TySh.Wg,iP=j5.characters;if(i.textCase=="TITLE"){for(var Y=0;Y<iP.length;Y++)if(Y==0||iP[Y-1]==" "){var iy=iP.slice(0,Y),iG=iP.slice(Y+1);
iP=iy+iP[Y].toUpperCase()+iG}}iP=iP.replace(/\u2028/g,"\n");iP=iP.replace(/\u2029/g,"\n");iP=iP.replace(/\r\n/g," \n");
e7.cQ(ir,0,iP);var eg=i.textAutoResize,du=j5.baselines;if(eg=="WIDTH_AND_HEIGHT"){var gh=ba==0?0:ba==1?ds.x:ds.x/2,ga=du?du[0].position.y:0;
gH.translate(gh*s.je(),ga*s.je());e7.k8(ir,0)}else if(eg=="HEIGHT"||eg=="NONE"||eg==null){var ga=du?du[0].position.y-i.fontSize*.7:0;
gH.translate(0,ga*s.je());e7.k8(ir,1);e7.N2(ir,[0,0,Math.round(ds.x),Math.round((eg=="NONE"?1.8:1)*ds.y)])}else throw eg;
if(iP!=""){var d5=e7.IF(ir,0,1);x.a4V(i,s,F,d5,R,e,z,l);e7.Bl(ir,0,iP.length,d5);var fu=j5.characterStyleIDs,ay=j5.styleOverrideTable;
if(fu){fu=fu.slice(0);for(var Y=0;Y<fu.length;Y++)if(iP[Y]=="\n")fu[Y]=-Y-1;var c7=[0],eE=0,jn=0;for(var Y=0;
Y<fu.length;Y++){jn++;var dI=fu[Y];if(Y==0||dI==fu[Y-1]){}else{c7.push(jn-1,Y);jn=1}}c7.push(jn);for(var Y=0;
Y<c7.length;Y+=2){var dQ=c7[Y],jo=c7[Y+1];if(iP[dQ]=="\n")continue;var dI=fu[dQ];if(dI!=0){var hT;for(var ea=0;
ea<ay.length;ea++)if(ay[ea].styleID==dI)hT=ay[ea];var d5=e7.IF(ir,dQ,dQ+1);x.a4V(hT,s,F,d5,R,e,z,l);
e7.Bl(ir,dQ,dQ+jo-1,d5)}}}}}else if(A=="SYMBOL"){}else if(A=="INSTANCE"){var b9=i.symbolData,bI=b9.symbolOverrides,X=x.En(l.MB,b9.symbolID);
if(X)P=X.children;else console.log(i.name,"symbol not found",b9.symbolID);C=C.slice(0);for(var Y=0;Y<bI.length;
Y++)C.push(bI[Y])}else console.log(A);if(!1){}else if(P&&!O){z.M.push(z.b$());var ii=!1,d_=L==0&&A!="SYMBOL"&&A!="INSTANCE";
if(d_){if(j.bs())console.log(j);R.bQ(j)}N=_[_.length-1];if(d_&&N&&N.type=="SOLID"){var c4=N.color;R.add.artb.artboardBackgroundType.v=4;
R.add.artb.Clr=x.L4(c4)}else if((N||a[0])&&q){var kG=z.Sv();kG.yY("Background");x.aDI(kG,q,i,N,a,s,j,e,z,l);
kG.tO();kG.rH(z);z.M.push(kG);ii=!0}P.sort(x.aly);var fC=l.Ln;l.Ln={};for(var bO=0;bO<P.length;bO++)x.dW(P[bO],C,s,e,z,L+1,l);
l.Ln=fC;R.add.lsct=!1?aU.AY:aU.Lp;R.fn="pass";var id=R.gF();R.de=24;R.fJ(id);var a5=L!=0&&_.length!=0&&!i.frameMaskDisabled&&i.containerSupportsFillStrokeAndCorners;
if(!ii&&a5&&q){R.add.vmsk=q;R.tO();R.rH(z)}else x.ake(l,R,z);z.M.push(R)}else if(i.mask){if(q){l.Ln.Pz=q}}else{var eU=[],am=1;
if(n)for(var af=0;af<n.length;af++){var di=n[af],a7=di.color,g$=di.type,cg=["DROP_SHADOW","INNER_SHADOW"].indexOf(g$);
if(cg!=-1){var cC=["DrSh","IrSh"][cg],kF=JSON.parse(jt.qx[jt.order.indexOf(cC)]);eU.push([cC,kF]);kF.enab.v=di.visible;
kF.Md.v.BlnM=aw.An(x.ads(di.blendMode));kF.Opct.v.val=Math.round(100*a7.a);kF.blur.v.val=Math.round(di.radius*s.je());
kF.Clr=x.L4(a7);var gh=di.offset.x,ga=di.offset.y;kF.uglg.v=!1;kF.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ga,-gh));
kF.Dstn.v.val=Math.round(Math.sqrt(gh*gh+ga*ga)*s.je())}}if(A=="TEXT"&&_[0]&&_[0].type!="SOLID")am=0;
for(var Y=am;Y<_.length;Y++){var cJ=_[Y],fX=x.Qa(i,cJ,s,j,e,z,l);if(fX[0]=="GdFl")eU.push(["GrFl",fX[1]]);
else if(fX[0]=="SoCo")eU.push(["SoFi",fX[1]]);else if(fX[0]=="PtFl")eU.push(["patternFill",fX[1]]);else if(fX[0]=="None"){}else throw fX}if(!O)for(var Y=0;
Y<a.length;Y++){var cJ=a[Y],fX=x.Qa(i,cJ,s,j,e,z,l);if(fX[0]=="SoCo"){var kF=JSON.parse(jt.qx[jt.order.indexOf("FrFX")]);
eU.push(["FrFX",kF]);kF.enab=fX[1].enab;kF.Opct=fX[1].Opct;kF.Md=fX[1].Md;kF.Clr=fX[1].Clr;kF.Sz.v.val=Math.round(i.strokeWeight);
var hP=i.strokeAlign;if(hP)kF.Styl.v.FStl=jt.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(hP)]}}if(eU.length!=0){var kx=JSON.parse(jt.default);
for(var Y=0;Y<jt.order.length;Y++)kx[jt.m8[Y]]={t:"VlLs",v:[]};for(var Y=0;Y<eU.length;Y++){var f2=eU[Y],cC=jt.m8[jt.order.indexOf(f2[0])];
kx[cC].v.unshift({t:"Objc",v:f2[1]})}if(P==null)R.add.lmfx=kx}z.M.push(R)}};f$.aDI=function(i,C,m,e,z,L,l,x,S,k){var f=f$;
i.de|=16;i.add.vmsk=C;var X=i.add.vstk=jt.lc.TQ(),o=f.Qa(m,e,L,l,x,S,k);X.fillEnabled.v=o[0]!="None";
if(o[0]=="None"){i.add.SoCo=o[1]}else{f.xu(o,i);i.add[o[0]]=o[1]}var o=f.Qa(m,z[0],L,l,x,S,k);if(o[0]!="None"){var X=i.add.vstk;
X.strokeEnabled.v=!0;X.strokeStyleLineWidth.v.val=m.strokeWeight*L.je();X.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jt.lc.ne[["INSIDE","CENTER","OUTSIDE"].indexOf(m.strokeAlign)];
var A={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[o[0]],P=["SoFi","GrFl","patternFill"].indexOf(A),F=[jt.pb,jt.It,jt.dH][P];
X.strokeStyleContent.v={classID:jt.lc.nU[0]};var n=m.dashPattern;if(n)X.strokeStyleLineDashSet.v=k4.$M(n,1/m.strokeWeight);
var R=X.strokeStyleContent.v={classID:jt.lc.nU[P]};for(var Y=0;Y<F.length;Y++)R[F[Y]]=o[1][F[Y]];if(!X.fillEnabled.v)f.xu(o,i)}};
f$.xu=function(i,C){var m=i[1].Opct.v.val;if(m!=100)C.opacity=Math.round(C.opacity/255*(m/100)*255)};
f$.aly=function(i,C){var m=i.parentIndex.position,e=C.parentIndex.position;return m>e?1:-1};f$.ayk=function(i){for(var Y=1;
Y<i.length;Y++){var C=i[Y];if(C.type=="IMAGE"&&C.opacity==1){i=i.slice(Y);break}}for(var Y=0;Y<i.length;
Y++){var C=i[Y],m=C.imageThumbnail;if(C.type=="IMAGE"&&(C.image==null||C.image.dataBlob==null)&&m&&m.dataBlob)C.image=m;
if(!C.visible){i.splice(Y,1);Y--}}return i};f$.ake=function(i,C,m){if(i.Ln.Pz){C.add.vmsk=i.Ln.Pz.clone();
C.tO();C.rH(m)}};f$.a4V=function(i,C,m,e,z,L,l,x){var S=i.fontSize,k=i.lineHeight,f=i.fontName,X=i.textAlignHorizontal,o=i.textTracking,A=i.textCase,P=i.textDecoration;
if(S==null)S=e.hU.FontSize;if(f){var F=f.postscript;if(F==""){var n=f.family,R=f.style;F=n.split(" ").join("")+"-"+R}e7.Ca(e,F)}if(S!=null)e.hU.FontSize=Math.round(S);
if(P=="UNDERLINE")e.hU.Underline=!0;if(o)e.hU.Tracking=Math.round(o*1e3);if(A)e.hU.FontCaps=A=="UPPER"?2:0;
if(k&&(k.units!="PERCENT"||k.value!=100)){if(S==null)S=15;var Q=k.value;if(k.units=="PERCENT")Q=1*S*Q/100;
if(k.units=="RAW")Q=1*S*Q;e.hU.AutoLeading=!1;e.hU.Leading=Math.round(Q)}if(X)e.t7.Justification=["LEFT","RIGHT","CENTER"].indexOf(X);
var s=i.fillPaints,j=i.inheritFillStyleID;if(j){var _=f$.En(x.MB,j);if(_)s=_.fillPaints}if(s&&s[0]){var B=f$.Qa(i,s[0],C,m,L,l,x);
if(B[0]=="SoCo"){var N=I.I.oq(B[1].Clr.v);e.hU.FillColor={Type:1,Values:[1,N.Z/255,N.r/255,N.e/255]};
f$.xu(B,z)}}};f$.Qa=function(i,C,m,e,z,L,l){var x=f$,S,k,f=i.size;if(f==null)f={x:0,y:0};if(C){var X=C.type,o=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(X);
if(X=="SOLID"){S="SoCo";var A=C.color;k=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);k.Clr=x.L4(A)}else if(o!=-1){var P=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),F=P.Grad.v;
F.Intr.v=0;P.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][o];var n=[],R=C.stops;for(var Y=0;Y<R.length;Y++){var Q=R[Y],s=Q.color;
n.push([Q.position,[s.r,s.g,s.b],s.a])}I.I.Sc(n,F);var j=x.J0(C.transform);j.Fb();var _=j.clone();if(f)_.scale(f.x,f.y);
_.concat(m);var B=new b5(0,.5),N=new b5(1,.5);B=_.M$(B);N=_.M$(N);if(!0){B.x=N.x+.5*(B.x-N.x);B.y=N.y+.5*(B.y-N.y)}I.I.dV(B,N,e,P);
if(o==3){if(_.W*_.o6-_.e*_.xF<0)P.Rvrs.v=!P.Rvrs.v}S="GdFl";k=P}else if(X=="IMAGE"){var P=JSON.parse(jt.qx[jt.order.indexOf("patternFill")]),j=x.J0(C.transform);
j.Fb();var a=f$.hi(C),O=l.agC[a];if(O==null){var H=x.I6(z,a,l);O=l.agC[a]={};O.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";
O.GK=[new Uint8Array(H.data),H.Jw];if(j.W<0){var q=O.GK[0].slice(0);I.D.ZP(q,O.GK[0],H.Jw.m,H.Jw.J)}O.name="someImage";
L.p0(O)}if(j.W<0)j.W=-j.W;var h=["FILL","FIT","STRETCH","TILE"].indexOf(C.imageScaleMode),D=h==3?C.scale:1;
k4.aiX(O,P,f.x,f.y,h,m,j,D);S="PtFl";k=P}else if(X=="VIDEO"){S="SoCo";k=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);
k.Clr=x.L4({r:255,g:0,b:255})}else throw X;if(k)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(C.opacity*100)}}}if(S==null||C.opacity<.001){S="None";
k={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:0,r:0,e:0})}}}return[S,k]};f$.hi=function(i){var C=i.image,m=C.dataBlob;
if(m==null){m="";for(var Y=0;Y<20;Y++)m+=C.hash[Y].toString(16).padStart(2,"0")}return m};f$.I6=function(i,C,m,e){if(i[C]){var z=i[C];
if(e)return z.bytes;if(z.rslt)return z.rslt;var L=z.bytes.buffer;z.rslt=f$.a5X(L);return z.rslt}else{if(e)return m.be["images/"+C];
var L=m.be["images/"+C].buffer;if(m.be["images/-"+C])return m.be["images/-"+C];m.be["images/-"+C]=f$.a5X(L);
return m.be["images/-"+C]}};f$.a5X=function(i){var C=i$.ra(i);if(C=="fpng")C="png";var m=i$.AL(C);try{return m.pX(i)[0]}catch(a8){return{data:I.R(4),Jw:new j2(0,0,1,1)}}};
f$.am_=function(i,C,m){var e=i.type,z=i.size,L=i.cornerRadius,k;if(L==null)L=0;var l=z.x,x=z.y,S=[L,L,L,L],f=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var Y=0;Y<4;Y++)if(i[f[Y]]!=null)S[Y]=i[f[Y]];if(e=="RECTANGLE"||e=="ROUNDED_RECTANGLE"||e=="FRAME"){k=I.o.vC.Rect(0,0,l,x,S)}else if(e=="ELLIPSE"){var X=i.arcData,o=X?X.startingAngle:0,A=X?X.endingAngle:2*Math.PI,P=X?X.innerRadius:0;
if(o==0&&A>1.999*Math.PI)k=I.o.vC.Xl(0,0,l,x,0);else k=I.o.vC.akT(l/2,x/2,x/2,o,A);if(P!=0&&P!=1){var F=cc.hF.ug(k).slice(3);
F.reverse();for(var Y=0;Y<F.length;Y++){var n=F[Y],R=n.My;n.My=n.sP;n.sP=R}var Q=new hN;Q.translate(-l/2,-x/2);
Q.scale(P,P);Q.translate(l/2,x/2);I.o.Pa(F,Q);k=k.concat(F);k[2].length*=2}}else if(e=="LINE"){k=I.o.vC.Rect(0,0,l,x,0);
k.pop();k.pop();k[2].length=2}else if(e=="STAR"){k=I.o.vC.a8K(l/2,x/2,l/2,2*Math.PI*(1/4),5,0,i.starInnerScale)}else if(e=="REGULAR_POLYGON"){k=I.o.vC.Rp(.5,.5,.5,Math.PI/2,i.count,0);
var s=new hN;s.scale(l,x);I.o.Pa(k,s)}else if(e=="BOOLEAN_OPERATION"){k=[{type:6},{type:8,all:0}];var j=i.children,_=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(i.booleanOperation);
if(_==-1)throw i;if(j==null)j=[];for(var Y=0;Y<j.length;Y++){var B=j[Y],N=new cc.hF,a=f$.am_(B,C,N);
if(N.$==null)continue;I.o.Pa(N.$,f$.J0(B.transform));k=k.concat(N.$.slice(2))}for(var Y=3;Y<k.length;
Y++)if(k[Y].ay!=null)k[Y].ay=_}else if(e=="VECTOR"){var O,H,V=3;if(!0){var q=i.vectorData;if(q==null)return;
O=q.normalizedSize;H=q.vectorNetworkBlob}var h=C[H].bytes,D=new Uint32Array(h.buffer),T=new Float32Array(h.buffer),p=D[0],y=D[1],b=D[2],g=[],u=[],t=[],c=V+p*3,E=c+y*7;
for(var Y=0;Y<p;Y++){var Z=V+Y*3,G=new b5(T[Z+1],T[Z+2]);g.push(G)}for(var Y=0;Y<y;Y++){var J=c+Y*7;
u.push([D[J+0],D[J+1],T[J+2],T[J+3],D[J+4],T[J+5],T[J+6]])}for(var Y=0;Y<b;Y++){var K=D[E+1],M=t[Y]=[];
E+=2;for(var U=0;U<K;U++){var r=D[E++],dS=M[U]=[];for(var w=0;w<r;w++)dS[w]=D[E+w];E+=r}}if(E!=D.length)throw"e";
if(b==0){var di=-1;for(var Y=0;Y<y;Y++){if(di==-1){}else{var eM=-1;for(var U=Y;U<y;U++)if(u[U][4]==di)eM=U;
for(var U=Y;U<y;U++)if(u[U][1]==di)eM=U;if(eM!=-1){var j5=0,R=u[eM];u[eM]=u[Y];u[Y]=R;if(R[1]!=di){j5=R[1];
R[1]=R[4];R[4]=j5;j5=R[2];R[2]=R[5];R[5]=j5;j5=R[3];R[3]=R[6];R[6]=j5}}}di=u[Y][4]}t.push([[]]);for(var Y=0;
Y<y;Y++)t[0][0].push(Y)}var ba=[],gH=[];for(var ir=0;ir<t.length;ir++){for(var iP=0;iP<t[ir].length;
iP++){var iy=t[ir][iP],iG=0;if(iy.length>1){var eg=u[iy[0]],du=u[iy[1]];iG=eg[4]==du[1]?1:0}for(var Y=0;
Y<iy.length;Y++){var gh=u[iy[Y]],ga=1,d5=4;if(iG==0){ga=4;d5=1}var fu=g[gh[ga]],ay=g[gh[d5]];if(Y==0){gH.push("M");
ba.push(fu.x,fu.y)}gH.push("C");ba.push(fu.x+gh[ga+1],fu.y+gh[ga+2],ay.x+gh[d5+1],ay.y+gh[d5+2],ay.x,ay.y)}}}k=I.C.aZ({j:ba,G:gH},!1);
if(L!=0){var S=[],c7=k[2].length;for(var Y=0;Y<c7;Y++)S.push(L);if(I.o.Rv(k))I.o.Qo(k,2,S)}var eE=new hN;
eE.scale(O.x==0?1:z.x/O.x,O.y==0?1:z.y/O.y);I.o.Pa(k,eE)}m.$=k};f$.En=function(i,C){return i[C.sessionID+","+C.localID]};
f$.aB4=function(i,C){return i.sessionID==C.sessionID&&i.localID==C.localID};f$.ads=function(i){var C={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[i];
if(C==null)throw i;return C};f$.L4=function(i){return{t:"Objc",v:I.I.$q({Z:i.r*255,r:i.g*255,e:i.b*255})}};
f$.J0=function(i){if(i==null)return new hN;var C=[i.m00,i.m10,i.m01,i.m11,i.m02,i.m12];for(var Y=0;Y<6;
Y++)if(Math.abs(C[Y])<1e-20)C[Y]=0;return new hN(C[0],C[1],C[2],C[3],C[4],C[5])};function gk(){}gk.uU=function(){var i=W.Sq;
function C(A,P,F,n){var R=n?[]:{};while(P<A.length-1&&A[P]!=125){var Q=i(A,P,3),s=i(A,P+3,1),j;P+=4;
P++;if(s=="v"){var _=C(A,P,F+1,Q=="ELM"||Q=="TIL");j=_.b;P=_.F}else if(s=="i"||s=="f"){var B=P;while(A[B]!=125)B++;
var N=i(A,P,B-P);j=s=="i"?parseInt(N,16):parseFloat(N);P=B+1}else if(s=="s"){var a=W.vV(A,P),N="";P+=2;
for(var Y=0;Y<a;Y++)N+=String.fromCharCode(A[P+2*Y+1]);j=N;P=P+2*a+1}else if(s=="b"){j=A[P]==49;P=P+2}else throw"e";
if(n)R.push([Q,j]);else if(R[Q]==null)R[Q]=j;else{if(!(R[Q]instanceof Array))R[Q]=[R[Q]];R[Q].push(j)}}P++;
return{b:R,F:P}}function m(A,P){var F=e(A).slice(1),A=P.Clr.v;A.Rd.v=F[0]*255;A.Grn.v=F[1]*255;A.Bl.v=F[2]*255}function e(A){return[(A>>>24&255)/255,(A>>>16&255)/255,(A>>>8&255)/255,(A>>>0&255)/255]}function z(A,P){var F=P&4278190080|(P&255)<<16|(P>>>8&255)<<8|P>>>16&255;
new Uint32Array(A.buffer).fill(F)}function L(A,P){var F=A.TSZ,n=A.WPX,R=A.HPX,Q=A.TIL,s=new j2(0,0,n,R),j=I.R(n*R*4),_=0;
for(var B=0;B<R;B+=F)for(var N=0;N<n;N+=F){var a=new j2(N,B,F,F),O,H=Q[_];if(H[0]=="TMC"){O=I.R(a.P()*4);
z(O,H[1])}else if(H[0]=="TID"){O=P[H[1]]}I.fF(O,a,j,s);_++}return[j,s]}function l(A,P){A=new Uint8Array(A);
var F=8,n,R={},y=0;while(F<A.length){var Q=W.Q(A,F);F+=4;var s=i(A,F,4);F+=4;if(s=="mkTS"){var j=pako.inflate(A.slice(F,F+Q)),_=C(j,0,0);
n=_.b}else if(s=="mkBT"){var B=W.Q(A,F+4),N=W.Q(A,F+8),j=pako.inflate(A.slice(F+76,F+Q));if(N==0)for(var Y=0;
Y<j.length;Y+=4){var a=j[Y],O=j[Y+1],H=j[Y+2],q=j[Y+3];j[Y+3]=a;j[Y+2]=q;j[Y+1]=H;j[Y]=O}else{var h=I.R(j.length*4);
h.fill(255);I.uM(j,h);j=h}R[B]=j}F+=Q+4}var D=n.PDC,T=D?D instanceof Array?D:[D]:[n.MKB],p=new j2;for(var Y=0;
Y<T.length;Y++){var b=T[Y];p=p.Z0(new j2(0,y,b.WID,b.HIT));y+=b.HIT+100}P.m=p.m;P.J=p.J;P.buffer=I.R(p.P()*4);
P.Ra(T.length);y=0;for(var g=0;g<T.length;g++){P.M.push(P.b$());var b=T[g],u=b.WID,t=b.HIT,V=b.BGC,c=(b.LYL?b:n).LYL.LAY,G=3;
for(var Y=0;Y<c.length;Y++)S(c[Y],P,null,R,new hN(1,0,0,1,-b.XLC,-b.YLC+y));var E=P.Sv();P.M.push(E);
var Z=new j2(0,y,u,t);y+=t+100;E.bQ(Z);if(V>>>24!=0){var J=I.I.$q({Z:V>>>16&255,r:V>>>8&255,e:V>>>0&255});
E.add.artb.Clr={t:"Objc",v:J};G=4}E.add.artb.artboardBackgroundType.v=G;E.yY(b.PGN?b.PGN:"Page "+(g+1));
E.add.lsct=aU.Lp;E.fn="pass";E.de=24}}function x(A,P,F){var n=A[P];return n instanceof Array?n[F]:n}function S(A,P,F,n,R){var Q=P.Sv();
if(A.VIS!=null)Q.fJ(A.VIS);if(A.VIF!=null)Q.fJ(A.VIF.VIS);if(A.OPA!=null)Q.opacity=Math.round(255*A.OPA/1e3);
Q.fn=A.CLL||F=="GRP"?"pass":"norm";if(A.BLD!=null){var s=A.BLD,j={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[s+""];
if(j==null)console.log(A.OBN,s);else Q.fn=j;if(s==30)Q.opacity>>>=1}if(A.CLL){Q.yY(A.LNM);P.M.push(P.b$());
var _=A.CLL.CEL;if(_.length==null)_=[_];for(var B=_.length-1;B>=0;B--){var N=_[B].ELM;for(var Y=N.length-1;
Y>=0;Y--)S(N[Y][1],P,N[Y][0],n,R)}Q.add.lsct=A.DIS?aU.AY:aU.Lp;Q.de|=24}else if(F=="GRP"){var a=Q.add.lmfx=f(A.EFL),O;
P.M.push(P.b$());var N=A.ELM;if(A.MNA){O=N[0][1];N=N.slice(1)}Q.yY("Group: "+N.length+" objects");for(var Y=N.length-1;
Y>=0;Y--)S(N[Y][1],P,N[Y][0],n,R);if(O){if(A.MRX){var H=L(O,n),q=Q.X=new cc.o7;q.rect=H[1].clone();q.rect.x=O.XLC;
q.rect.y=O.YLC+R.Rj;q.channel=I.R(q.rect.P());I.Ud(H[0],q.channel,0);I.Fb(q.channel)}else{k(Q,O,R);Q.tO();
Q.rH(P)}}Q.add.lsct=aU.Lp;Q.de|=24}else if(F=="IMG"){Q.yY(A.OBN?A.OBN:"Bitmap");var H=L(A,n);Q.rect=H[1].clone();
Q.rect.x=A.XLC;Q.rect.y=A.YLC+R.Rj;Q.buffer=H[0]}else if(F=="TXT"){var h=A.TFS,D=h.TRN instanceof Array?h.TRN.length:1,b="",g="Arial",u=20,t=0;
Q.add.lnsr="rend";Q.add.TySh=e7._x(0,0);Q.add.TySh.l$=new j2(0,0,100,100);var T=new hN(1,0,0,1,A.LFT,A.TOP);
if(A.MTX){var p=A.MTX,q=new hN(p.M00,p.M01,p.M10,p.M11,p.M20,p.M21);T.concat(q)}T.concat(R);Q.add.TySh.i=T;
var y=Q.add.TySh.Wg;for(var Y=0;Y<D;Y++){var V=x(h,"TRN",Y);if(V==null)continue;V=V.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
V=V.replaceAll("\x03","\n").replaceAll("\r","\n");e7.cQ(y,b.length,V);var c=e7.IF(y,0,1),E=x(h,"FON",Y);
if(E)g=E;e7.Ca(c,g);var Z=x(h,"PTS",Y);if(Z!=null)u=Z;c.hU.FontSize=Math.round(u);var G=x(h,"LED",Y);
if(G!=null){c.hU.Leading=G*u;c.hU.AutoLeading=!1}var J=x(h,"UND",Y);if(J!=null){c.hU.Underline=J}var K=x(h,"ITL",Y);
if(K!=null){c.hU.FauxItalic=K}var M=x(h,"FCL",Y);if(M!=null)t=M;c.hU.FillColor={Type:1,Values:e(t)};
var U=x(h,"JST",Y);if(U!=null)c.t7.Justification=[0,2,1,3,5,4,6,7,8][U];e7.Bl(y,b.length,b.length+V.length,c);
b+=V}Q.yY(b.slice(0,255));var r=A.RIT-A.LFT,dS=A.BOT-A.TOP;if(A.IMG){S(A.IMG,P,"IMG",n,R);var w=P.M.pop();
Q.buffer=w.buffer;Q.rect=w.rect.clone()}e7.k8(y,1);e7.N2(y,[0,0,r,dS])}else if(F=="PTH"){Q.yY(A.OBN?A.OBN:"Path");
Q.de|=16;var di=!1;k(Q,A,R);var eM=Q.add.vmsk,j5=Q.add.vstk,ds=I.o.RP(eM.$),ba=A.PAT,gH=ba.BPL,ir=ba.FPL,iP=ba.TXF;
if(ir&&ir.FEF)eM.JQ+=ir.FEF/2.4;if(gH){var iy=gH.CAT;j5.strokeEnabled.v=!0;j5.strokeStyleLineWidth.v.val=gH.BDI;
j5.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jt.lc.ne[A.BRP];m(ba.BCL,j5.strokeStyleContent.v);
if(iy!="bc_Basic"&&iy!="bc_Pencil")di=!0}j5.fillEnabled.v=ir!=null;if(ir==null){Q.add.SoCo=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);
m(0,Q.add.SoCo)}else if(ir.CAT=="fc_Solid"){Q.add.SoCo=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);m(A.PAT.FCL,Q.add.SoCo)}else if(ir.CAT=="fc_Linear"||ir.CAT=="fc_Circular"||ir.CAT=="fc_Elliptical"){var iG=ir.CAT=="fc_Linear",eg=Q.add.GdFl=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),du=eg.Grad.v,gh=[],ga=ir.FGL,d5,fu=[];
if(ga.FGY){var ay=ga.FGY,d5=ay.FG0.FGI,fu=ay.FG1.FGI}else d5=ga.FGV.FGI;for(var Y=0;Y<d5.length;Y++){var c7=d5[Y],eE=e(c7.FGC),jn=1;
if(fu.length==d5.length)jn=e(fu[Y].FGC)[0];gh.push([c7.FGP,eE.slice(1),jn])}eg.Type.v.GrdT=iG?"Lnr":"Rdl";
I.I.Sc(gh,du);du.Intr.v=0;var dI=A.PRI?A.PRI:A,dQ=new b5(dI.PSX,dI.PSY),jo=new b5(dI.PEX,dI.PEY);if(ir.CAT=="fc_Elliptical"&&dI.PFX!=null){var hT=new b5(dI.PFX,dI.PFY),ea=b5.qM(dQ,jo),b9=b5.qM(dQ,hT);
if(b9<ea){var ii=ea;ea=b9;b9=ii}jo=new b5(dQ.x+(ea+b9)/2,dQ.y);if(ea/b9<.5)di=!0}if(iG){dQ.x=(dQ.x+jo.x)/2;
dQ.y=(dQ.y+jo.y)/2}I.I.dV(dQ,jo,ds,eg)}else console.log(ir.CAT);var a=Q.add.lmfx=f(A.EFL,eM);if(ir&&ir.FTB!=0&&iP){var H=L(iP.MSK,n),d_={};
d_.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";d_.name="someImage";d_.GK=H;P.p0(d_);var c4=H[0];for(var Y=0;
Y<c4.length;Y+=4){c4[Y+3]=255-c4[Y];c4[Y]=c4[Y+1]=c4[Y+2]=255}var eg=JSON.parse(jt.qx[jt.order.indexOf("patternFill")]);
eg.Opct.v.val=Math.round(ir.FTB/10);eg.Algn.v=!0;eg.Ptrn.v.Idnt.v=d_.id;a.patternFillMulti.v.unshift({t:"Objc",v:eg})}if(di&&A.IMG){S(A.IMG,P,"IMG",n,R);
var kG=P.M[P.M.length-1];kG.opacity=Q.opacity;return}Q.tO();Q.rH(P)}else if(F=="URL")return;else{console.log("unknown layer type",F,A);
Q.yY("Layer")}P.M.push(Q)}function k(A,P,F){if(P.PBL==null)return;var n=A.add.vmsk=new cc.hF,R=A.add.vstk=jt.lc.TQ(!0),Q=P.PBL.PBP;
if(!(Q instanceof Array))Q=[Q];for(var s=0;s<Q.length;s++){var j=Q[s].PBT;if(j==null)continue;if(!(j instanceof Array))j=[j];
var _=Q[s].ISC?0:3;n.$.push({type:_,length:j.length,ay:0,pj:2,X0:0,QG:0});for(var Y=0;Y<j.length;Y++){var B=j[Y],N=B.XLC,a=B.YLC,O=[N,a,N,a,N,a],H="XPC YPC XLC YLC XSC YSC".split(" ");
for(var q=0;q<6;q++){var h=H[q],D=B[h];if(D!=null)O[q]=D}n.$.push({type:_+2,L:new b5(N,a),My:new b5(O[0],O[1]),sP:new b5(O[4],O[5])})}}I.o.Pa(n.$,F)}function f(A,P){var F=JSON.parse(jt.default);
for(var Y=0;Y<jt.order.length;Y++)F[jt.m8[Y]]={t:"VlLs",v:[]};if(A==null||A.EPS==null)return F;var n=A.EPS;
if(!(n instanceof Array))n=[n];for(var Y=0;Y<n.length;Y++){var R=n[Y].DCE,Q={};for(var s=0;s<R.length;
s++)Q[R[s].DCK]=R[s].DCV;if(Q.EffectIsVisible=="false")continue;var j=Q.mkbFile_WriteOnly_TemporaryEffectUiName;
if(j=="Gaussian Blur..."&&P){P.JQ+=parseFloat(Q.gaussian_blur_radius);continue}var _=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(j);
if(_==-1){continue}var B=["DrSh","ebbl","IrGl","OrGl"][_],N=jt.m8[jt.order.indexOf(B)],a=JSON.parse(jt.qx[jt.order.indexOf(B)]);
F[N].v.unshift({t:"Objc",v:a});if(B=="DrSh"){a.uglg.v=!1;X(Q,"ShadowDistance",a,"Dstn");X(Q,"ShadowBlur",a,"blur");
X(Q,"ShadowAngle",a,"lagl",180);a.Opct.v.val=100;o(Q,"ShadowColor",a,"Clr")}if(B=="IrGl"){a.Md.v.BlnM="Nrml";
var O=Q.MaskSoftness,H=Q.GlowWidth;if(O&&H){O=parseInt(O);H=parseInt(H);a.blur.v.val=H+O;a.Ckmt.v.val=Math.round(100*H/(H+O))}X(Q,"BevelContrast",a,"Opct");
o(Q,"OuterBevelColor",a,"Clr")}if(B=="OrGl"){a.Md.v.BlnM="Nrml";var O=Q.MaskSoftness,H=Q.GlowWidth;if(O&&H){O=parseInt(O);
H=parseInt(H);a.blur.v.val=H+O}X(Q,"BevelContrast",a,"Opct");o(Q,"OuterBevelColor",a,"Clr")}if(B=="ebbl"){a.uglg.v=!1;
X(Q,"BevelWidth",a,"blur");X(Q,"AngleSoftness",a,"Sftn");X(Q,"BevelContrast",a,"srgR");X(Q,"LightAngle",a,"lagl")}}return F}function X(A,P,F,n,R){var Q=A[P];
if(R==null)R=0;if(Q)F[n].v.val=parseInt(Q)+R}function o(A,P,F,n){var R=A[P];if(R){R=R.slice(1);if(R.length==6)R=R+"ff";
if(R.length!=8)throw"e";var Q=e(parseInt(R,16)),s=F[n].v;s.Rd.v=Q[0]*255;s.Grn.v=Q[1]*255;s.Bl.v=Q[2]*255;
F.Opct.v.val=Math.round(F.Opct.v.val/100*Q[3]*100)}}return l}();var bu=function(){function i(z){var L=new Uint8Array(z.length);
W.AW(L,0,z);return L}function C(z){var L=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",i("")],l=L.length,S=0;
L.push("<< /AIMetaData  "+(l+2)+" 0 R /AIPrivateData1 "+(l+3)+" 0 R  /AIPrivateData2 "+(l+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
L.push(i(""));L.push(i(""));L.push(z);var x=new ac,k=[];function f(P){W.HC(x,S,P);S+=P.length}f("%PDF-1.5\n");
for(var Y=0;Y<L.length;Y++){k.push(S);f(Y+1+" 0 obj\n");var X=L[Y];if(typeof X=="string")f(L[Y]+"\n");
else{var o=pako.axN(X);f("<< /Length "+o.length+" /Filter [ /FlateDecode ] >>\nstream\n");x.uG(S,o.length);
x.data.set(o,S);S+=o.length;f("\nendstream\n")}f("endobj\n")}var A=S;f("xref\n0 "+(k.length+1)+"\n0000000000 65535 f\r\n");
for(var Y=0;Y<k.length;Y++)f((k[Y]+"").padStart(10,"0")+" 00000 n\r\n");f("trailer\n<< /Root 1 0 R /Size "+(k.length+1)+" >>\nstartxref\n"+A+"\n%%EOF\n");
return x.data.slice(0,S)}function m(z,L){var l=Date.now(),x=new Uint8Array(z),S,k=x[2]==68;if(L)console.log(!k?"EPS":"PDF");
if(k){var f=W.Fo(x,"/AIMetaData "),j,_,B;while(x[f]!=60)f--;f--;var X=W.Fo(x,">>",f),o=W.Sq(x,f+2,X-f-2).split("/"),A=[];
for(var Y=0;Y<o.length;Y++){var P=o[Y],F=P.startsWith("AIPrivateData"),n=P.startsWith("AIPDFPrivateData");
if(!F&&!n)continue;var R=P.trim().split(/\s+/),Q=parseInt(R[1]),s=parseInt(R[0].slice(F?13:16));A.push([s,Q])}if(L)console.log("--- map made",Date.now()-l);
l=Date.now();while(!0){var N=FromPDF.indexOfXref(x),a=[],O=FromPDF.readXrefTrail(x,N,a),H={buff:x,off:0},q=!1;
j=new Array(A.length);_=!1;B=!1;for(var Y=0;Y<A.length;Y++){var s=A[Y][0],Q=A[Y][1],p=0;if(a[Q]==null){q=!0;
break}var h=FromPDF.getIndirect(Q,0,H,a),D=h.buff,T=h["/Filter"];if(T!=null&&typeof T=="string")T=[T];
var y=W.Sq(D,p,p+20);if(y=="%AI12_CompressedData"){p+=20;_=!0}else if(y=="%AI24_ZStandard_Data"){p+=20;
B=!0}D=new Uint8Array(D.buffer,D.byteOffset+p,D.length-p);if(T)for(var b=0;b<T.length;b++){var g=T[b];
if(g=="/FlateDecode")D=pako.inflate(D);else if(g=="/ASCIIHexDecode")D=FromPS.F.HexDecode({buff:D,off:0});
else if(g=="/ASCII85Decode")D=FromPS.F.ASCII85Decode({buff:D,off:0});else throw g}j[s-1]=D}if(q){console.log("extra xref after AI");
x=x.slice(0,N);continue}break}if(L)console.log("--- arrays found",Date.now()-l);l=Date.now();var u=W.Sq(j[0],0,13);
if(u=="%%BoundingBox"||u=="%AI7_Thumbnai")j=j.slice(1);if(u=="%AI24_ZStanda"){j[0]=j[0].slice(20);B=!0}if(W.Sq(j[0],0,13)=="%AI12_Compres"){j[0]=j[0].slice(20);
_=!0}S=e(j);if(L)console.log("--- concatenated",Date.now()-l);l=Date.now();if(_)S=UZIP.inflate(S);if(B)S=i$.vD.KH(S);
if(L)console.log("--- inflated",Date.now()-l);l=Date.now()}else{var t=W.U8(x);if(t.indexOf("%AI5_BeginLayer")!=-1){S=x}else{var V=t.split(/[\n\r]+/),c=[],E=!1;
for(var Z=0;Z<V.length;Z++){var G=V[Z].trim();if(G=="%AI9_PrivateDataEnd"){E=!1;break}else if(G=="%AI9_DataStream"||G=="%AI24_DataStream"){E=!0}else if(E)c.push(G.slice(1))}var J=W.x5(c.join("")),K=FromPS.F.ASCII85Decode({buff:J,off:0});
if(K[0]==120&&K[1]==156)S=UZIP.inflate(K);else S=i$.vD.KH(K)}}return S}function e(z){var L=0,x=0;for(var Y=0;
Y<z.length;Y++)L+=z[Y].length;var l=new Uint8Array(L);for(var Y=0;Y<z.length;Y++){var S=z[Y];l.set(S,x);
x+=S.length}return l}return{a4I:m,a2Q:C}}();function dE(){}dE.uU=function(){function i(y,b,g){var u=!1,t=Date.now(),V=bu.a4I(y,u);
if(u)console.log("part found",Date.now()-t);t=Date.now();var c=O(V),E=c.Layer,Z=c.Header;if(u)console.log(c);
var G=c.Setup.TextDocument,J=E[0];J=c.Layer[0];if(u)console.log("document parsed",Date.now()-t);t=Date.now();
c.Setup.Gradient=a(c.Setup.Gradient,V);if(u)console.log("grads loaded",Date.now()-t);t=Date.now();c.Setup.Pattern=B(c.Setup.Pattern,V);
if(u)console.log("patts loaded",Date.now()-t);t=Date.now();c.Setup.Palette=N(c.Setup.Palette,V);if(u)console.log("palet loaded",Date.now()-t);
t=Date.now();var K=j(c.Setup.DocumentData,V),M=_(K);c.Setup.DocumentData=K.pop();if(u)console.log("docdata loaded",Date.now()-t);
t=Date.now();c.Setup.SVGFilter=j(c.Setup.SVGFilter,V);if(u)console.log("svgfilter loaded",Date.now()-t);
t=Date.now();var U=Z.Cropmarks,r=Z.BoundingBox.split(" ").map(parseFloat),dS=Z.ArtSize?Z.ArtSize.split(" ").map(parseFloat):[r[2]-r[0],r[3]-r[1]];
b.m=Math.round(dS[0]);b.J=Math.round(dS[1]);var w=[1,0,0,1,-r[0]+(b.m-(r[2]-r[0]))/2,-r[1]+(b.J-(r[3]-r[1]))/2];
w[3]=-1;w[5]=b.J-w[5];if(U){U=U.split(" ").map(parseFloat);b.m=Math.round(U[2]-U[0]);b.J=Math.round(U[3]-U[1]);
w=[1,0,0,-1,-U[0],b.J+U[1]]}var K=c.Setup.DocumentData,di=[],eM=[];if(K&&K[0]&&K[0].ArtboardArray){var di=K[0].ArtboardArray;
if(di.length!=1)console.log(di.length,"artboards");var j5=new j2;for(var Y=0;Y<di.length;Y++){var ds=di[Y],ba=ds.PositionPoint1,gH=ds.PositionPoint2,ir=ba[0],iP=Math.min(ba[1],gH[1]),iy=gH[0],iG=Math.max(ba[1],gH[1]),eg=new j2(ir,iP,iy-ir,iG-iP);
eM.push(eg);j5=j5.Z0(eg)}b.m=Math.round(j5.m);b.J=Math.round(j5.J);w[4]=-j5.x;w[5]=j5.y+b.J}if(K&&K[0]&&K[0]["#document"]){var du=K[0]["#document"],gh=du["xmlnode-children"][0];
if(gh&&gh["xmlnode-children"])gh=gh["xmlnode-children"][0];if(gh["xmlnode-nodename"]=="variableSets"){var ga=gh["xmlnode-children"][0]["xmlnode-children"],d5=ga[0],fu=ga[1],ay=p(d5);
b.ut=gZ.ay0("<variableSets><variableSet>"+ay+"</variableSet></variableSets>");if(fu){var c7=p(fu),eE=b.yp=gZ.axX(c7);
for(var Y=0;Y<eE.length;Y++)for(var jn=0;jn<eE[Y].length;jn++)eE[Y][jn]=eE[Y][jn].trim()}}}var dI=1/gI.BH(new j2(0,0,b.m,b.J),8192*8192);
while(Math.max(b.m*dI,b.J*dI)<800)dI*=2;while(g&&Math.max(b.m*dI,b.J*dI)<Math.max(g[0],g[1]))dI++;b.m=Math.round(b.m*dI);
b.J=Math.round(b.J*dI);b.lC=Math.round(72*dI);for(var Y=0;Y<6;Y++)w[Y]*=dI;var dQ=[];if(di.length!=[1,0][d4]){var jo=d4==0?b.M:[];
jo.push(b.b$());for(var Y=0;Y<eM.length;Y++){var ds=di[Y],eg=eM[Y],hT=b.Sv();hT.yY(ds.Name);jo.push(hT);
hT.add.SoCo=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);var ea=hT.add.SoCo.Clr.v;X(ea,[1,1,1]);var ir=eg.x,iP=eg.y,iy=ir+eg.m,iG=iP+eg.J,b9=[ir,iP,iy,iP,iy,iG,ir,iG];
I.C.i(b9,A(w),b9);n(hT,{cmds:["M","L","L","L","Z"],crds:b9},b,0);hT.add.vstk=jt.lc.TQ(!0);var g=I.C.OO(b9);
dQ.push({T_:ds.Name,zO:[g.x,g.y,g.x+g.m,g.y+g.J],g:ds.IsArtboardSelected})}var hT=b.Sv();hT.yY("_Artboards_");
hT.add.lsct=aU.Lp;hT.fn="pass";hT.de=24;jo.push(hT)}else dQ=[{T_:"Artboard",zO:new j2(0,0,b.m,b.J)}];
if(d4==1)b.add.arts=dQ;m=[0,0,0];e=[0,0,0];z="SoCo";L="SoCo";for(var bI=0;bI<E.length;bI++){var ii=E[bI];
ii.Raster=C(ii,"Raster");ii.Place=C(ii,"Place");var d_=Q(V,ii);l(b,d_,w,c,ii,V)}if(d4==0)for(var Y=0;
Y<b.M.length;Y++){var hT=b.M[Y];if(hT.kv){b.M.splice(Y,1);var c4=b.M[Y];c4.add.vmsk=hT.add.vmsk;c4.add.vogk=hT.add.vogk;
c4.rH(b)}}else{}if(u)console.log("layers created",Date.now()-t);t=Date.now()}function C(y,b){var g=y.Layer,u=y[b];
if(u==null)u=[];if(g){for(var Y=0;Y<g.length;Y++){var t=g[Y],V=t[b]=C(t,b);u=u.concat(V)}u.sort(function(c,E){return c._begin-E._begin})}return u}var m,e,z,L;
function l(y,b,g,u,t,V){var c=[],E=0,Z="",G=!1,J={},K=UDOC.G,M=UDOC.getState(),U="norm",r=1,dS=0,w=!1,di=0,eM=!1,j5=!0,ds=null,ba=!1,gH=0,ir=null,iP,iy,iG=0,eg=0,du=0,fu=0,ay=!1;
M.ctm=g;var gh=[0,0],ga=[],d5=[];for(var c7=0;c7<b.length;c7++){var eE=b[c7],ea=1e9;if(eE[0]=="%"){if(eE=="%_/ArtDictionary :"&&gH==0)ds=[eE.slice(2)];
else if(ds!=null){if(eE=="%_"&&gH==0){var jn=h(ds)[0],dI=y.M[y.M.length-1],dQ=jn.AI10_ArtUID,jo=jn.BBAccumRotation;
if(dQ&&!dQ.startsWith("XMLID"))dI.yY(T(dQ));if(jo&&dI.add.vmsk)dI.add.vmsk.Z7=parseFloat(jo);ds=null}else{ds.push(eE.slice(ba?1:2));
if(eE=="%_X=")gH++;if(eE=="%_X+")gH--;if(eE=="%_/Binary : /ASCII85Decode ,")ba=!0;if(ba&&eE.endsWith("~>"))ba=!1}}else if(ir){iP+=(iP==""?"":" ")+eE.slice(2);
if(iP.endsWith("X#")){ir.push(iP.slice(0,iP.length-3));iP=""}}continue}else if(eE=="/Mesh X!"){ir=[];
iP="";continue}else if(eE=="/End X!"){k(ir,M,y);ir=null;continue}var hT="Xa XR m l c f U u *U w J j M d".split(" "),b9=-1,bI=eE.indexOf("(")!=-1;
for(var Y=0;Y<hT.length;Y++){var ii=eE.indexOf(" "+hT[Y]+" ");if(ii!=-1&&ii<ea&&!bI){ea=ii;b9=Y}}if(b9!=-1){G=!0;
var d_=ea+1+hT[b9].length;b[c7]=eE.slice(0,d_);var c4=b[c7+1];if(c4==null||c4[0]=="%"||b9>9)b.splice(c7+1,0,eE.slice(d_));
else b[c7+1]=(eE.slice(d_)+" "+c4).replace(/\s\s+/g," ");c7--;continue}eE=eE.trim();var kG=eE.split(" "),fC=kG[kG.length-1],bO=fC.toLowerCase(),id=kG.map(parseFloat);
if(fC=="m")K.moveTo(M,id[0],id[1]);else if(fC=="L"||fC=="l")K.lineTo(M,id[0],id[1]);else if(fC=="V"||fC=="v"){var a5=M.pth.crds,eU=M.cpos[0],af=M.cpos[1];
K.curveTo(M,eU,af,id[0],id[1],id[2],id[3]);var a7=a5.length;a5[a7-6]=eU;a5[a7-5]=af}else if(fC=="Y"||fC=="y")K.curveTo(M,id[0],id[1],id[2],id[3],id[2],id[3]);
else if(fC=="C"||fC=="c")K.curveTo(M,id[0],id[1],id[2],id[3],id[4],id[5]);else if(fC=="H"||fC=="h"){if(fC==bO)K.closePath(M);
if(!w){var g$=y.Sv();y.M.push(g$);g$.yY("<Clipping Path>");g$.kv=!0;g$.add.vstk=jt.lc.TQ();g$.add.SoCo=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);
n(g$,M.pth,y,dS)}else eM=!0}else if(fC=="XR"){dS=id[0]}else if(fC=="Xy"){U=dE.a8e[id[0]];r=id[1];if(U==null){U="norm";
console.log("unknown blend mode",id[0])}}else if(fC=="Xd"){var dI=y.M[y.M.length-1];dI.opacity=Math.round(255*r);
dI.fn=dI.yJ()&&U=="norm"?"pass":U}else if(fC=="AE")iG=id[0];else if(fC=="Ae")eg=id[0];else if(fC=="Xw")du=id[0];
else if(fC=="*"){var cg=M.pth.crds,cC=M.ctm,ii=cg[0]==cg[2]?0:1;y.Nb.push([ii,cg[ii]]);K.newPath(M)}else if(fC=="XN")iy=eE.split(" ")[0];
else if(fC=="XI"){var kF=t.Raster,am,cJ;if(kF==null||kF.length==0){console.log("no Raster");continue}if(eE!="XI"){continue}else{var fX=kF[E++];
if(fX.Data)fX=fX.Data;var hP=fX._begin,kx=fX._end;while(V[hP]!=88)hP++;hP+=3;am=V.slice(hP,kx);cJ=b[c7-2].split(" ").map(parseFloat)}var f2=cJ.slice(8),gt=f2[2],iD=f2[3],eb=gt*iD,dA=I.R(eb*4);
dA.fill(255);var e9=f2[7],eI=f2[8],d9=f2[6],f9=Math.ceil(gt*e9*d9/8);if(e9==1){if(d9==8)for(var Y=0;
Y<eb;Y++)for(var e4=0;e4<3;e4++)dA[4*Y+e4]=am[Y];else if(d9==1)for(var cj=0;cj<iD;cj++)for(var i4=0;
i4<gt;i4++)for(var e4=0;e4<3;e4++)dA[4*(cj*gt+i4)+e4]=255*(am[cj*f9+(i4>>>3)]>>>7-(i4&7)&1);else throw d9}else if(e9==3)for(var Y=0;
Y<eb;Y++)for(var e4=0;e4<3;e4++)dA[4*Y+e4]=am[3*Y+e4];else if(e9==4||e9==5)for(var Y=0;Y<eb;Y++){var d6=P([am[e9*Y+0]/255,am[e9*Y+1]/255,am[e9*Y+2]/255,am[e9*Y+3]/255]);
dA[4*Y+0]=d6[0]*255;dA[4*Y+1]=d6[1]*255;dA[4*Y+2]=d6[2]*255}else if(e9==7)for(var Y=0;Y<eb;Y++){dA[4*Y+0]=am[e9*Y+0];
dA[4*Y+1]=am[e9*Y+1];dA[4*Y+2]=am[e9*Y+2]}else console.log("unknown number of channels",e9);if(eI==1){var ko=iD*f9;
for(var Y=0;Y<eb;Y++)dA[4*Y+3]=am[ko+Y]}var cM=I.DP(dA,gt,iD)?"JPG":"PNG";if(gt*iD<700*700)cM="PNG";
var g2=i$.AL(cM).B3([[dA.buffer]],gt,iD),iW=y.Mf(new Uint8Array(g2),"<Image>",0,0);y.M.push(iW);iW.fn=U;
iW.opacity=Math.round(255*r);iW.fJ(du==0);var bl=new hN;bl.scale(1,-1);bl.concat(A(cJ.slice(1)));bl.concat(A(M.ctm));
var dW=iW.add.SoLd,j8=dW.Sz.v,dq=new j2(0,0,j8.Wdth.v,j8.Hght.v),kG=I.C.Ym(dq).j;I.C.i(kG,bl,kG);iW.add.SoLd.Trnf=$.V.xN(kG);
iW.add.SoLd.nonAffineTransform=$.V.xN(kG);iW.g1(y,!1)}else if(fC=="Ln"){c.push(f(eE))}else if(fC=="u"||fC=="q"||fC=="Lb"){ga.push(eg==1);
d5.push((fC=="Lb"?1-id[0]:du)==0);if(w)continue;y.M.push(y.b$())}else if(fC=="U"||fC=="Q"||fC=="LB"){if(ga.length==0||d5.length==0)throw c7;
var hl=ga.pop(),gY=d5.pop();if(fC=="LB")hl=iG==1;if(w)continue;var iW=y.Sv();iW.yY((fC=="U"?"<Group>":"<Clip Group>")+Z);
if(fC=="LB")iW.yY(c.pop());iW.add.lsct=hl?aU.AY:aU.Lp;iW.fn="pass";iW.de=24;iW.fJ(gY);y.M.push(iW);if(ay){if(y.M[y.M.length-3].getName()=="</Layer group>"){y.M.pop();
y.M.splice(y.M.length-2,1)}ay=!1}}else if(fC=="Bb")j5=id[0]!=1;else if(fC=="BB"){}else if(fC=="Bm"||fC=="Bc"||fC=="Xm"){}else if(fC=="Bh")gh=id.slice(2,4);
else if(fC=="Bg"){var bE=u.Setup.Gradient,dn=bE[f(eE)],kG=eE.slice(eE.indexOf(")")+2).split(" ").map(parseFloat);
if(dn==null){console.log("gradient not found");for(var a3 in bE){dn=bE[a3];break}}var en=kG[10];if(isNaN(en))en=1;
var g3=kG.slice(0,4);g3.push(en,gh[0],gh[1]);var h4=[dn.rp,dn.aw5,g3,kG.slice(4,10)];S(h4,"GdFl",j5)}else if(bO=="p"){var gJ=f(eE);
if(y.iG[gJ]==null){var at=u.Setup.Pattern[gJ],aZ=at.zO,gt=Math.round(aZ[2]-aZ[0]),iD=Math.round(aZ[3]-aZ[1]),jn=new ei;
jn.m=gt;jn.J=iD;jn.buffer=I.R(gt*iD*4);var hH=g[0],bl=new hN(1,0,0,-1,-at.zO[0],iD+at.zO[1]);bl.concat(new hN(hH,0,0,hH,0,0));
l(jn,at.E2,[bl.W,bl.e,bl.xF,bl.o6,bl.W_,bl.Rj],u,t,V);jn.m*=hH;jn.J*=hH;jn.JJ();jn.Y();if(d4==0)jn.um();
window.auq=at.E2;y.iG[gJ]=jn}var dl=eE.slice(eE.indexOf(")")+2),cm=dl.slice(0,dl.indexOf("[")-1).split(" ").map(parseFloat),gv=dl.slice(dl.indexOf("[")+1,dl.indexOf("]")).split(" ").map(parseFloat);
S([gJ,[cm,gv]],"patt",fC=="p")}else if(fC=="J"||fC=="j"||fC=="w"||fC=="M"||fC=="d"){for(var Y=1;Y<kG.length;
Y++){var bm=kG[Y],hk=id[Y-1];if(bm=="w")M.lwidth=hk;if(bm=="j")M.ljoin=hk;if(bm=="J")M.lcap=hk;if(bm=="M")M.mlimit=hk;
if(bm=="d"){var fN=eE.slice(eE.indexOf("[")+1,eE.indexOf("]")).trim();if(fN.length!=0){var dR=fN.split(" ").map(parseFloat);
M.dash=dR}else if(fN=="")M.dash=[]}}}else if(bO=="xa"||bO=="xx"){var h0=F(eE);S(h0,"SoCo",fC=="Xa"||fC=="Xx")}else if(bO=="xk"){h0=F(eE);
S(h0,"SoCo",fC=="Xk")}else if(bO=="k"||bO=="x"){h0=F(eE);S(h0,"SoCo",fC==bO)}else if(bO=="g"){var h0=[id[0],id[0],id[0]];
S(h0,"SoCo",fC==bO)}else if(bO=="n"){if(!w)K.newPath(M)}else if(fC=="*u"){w=!0;di=0;d5.push(du==0)}else if(fC=="*U"||bO=="s"||bO=="f"||bO=="b"){if(fC!="*U"&&w){if(bO=="f"||bO=="b")di|=1;
if(bO=="s"||bO=="b")di|=2;continue}if(fC==bO)K.closePath(M);if(fC=="*U"){w=!1}var iW;{iW=y.Sv();iW.de|=16;
n(iW,M.pth,y,dS);var ip=bO=="f"||bO=="b"||fC=="*U"&&di&1,gE=bO=="s"||bO=="b"||fC=="*U"&&di&2,dH=iW.add.vstk=jt.lc.TQ(ip,gE),g6=jt.$_.TQ();
g6.P$=g6.OR=null;var bl=M.ctm,hH=Math.sqrt(Math.abs(bl[0]*bl[3]-bl[1]*bl[2]));jt.$_.write(g6,M,hH);if(ip)g6.P$=m;
if(gE)g6.OR=e;if(d4==0){jt.lc.write(dH,M,hH);if(z=="SoCo"){iW.add.SoCo=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);
var dC=iW.add.SoCo.Clr.v;X(dC,m)}if(z=="GdFl"){iW.add.GdFl=dE.a2$(m,iW.add.vmsk.$)}if(z=="patt"){iW.add.PtFl=x(m,y)}if(gE){var h2=["SoCo","GdFl","patt"].indexOf(L);
console.log(L,h2);var e1=h2==0?{Clr:{t:"Objc",v:ix.QW(e)}}:h2==1?dE.a2$(e,iW.add.vmsk.$):x(e,y),jz=[jt.pb,jt.It,jt.dH][h2],bx=dH.strokeStyleContent.v={classID:jt.lc.nU[h2]};
for(var Y=0;Y<jz.length;Y++)bx[jz[Y]]=e1[jz[Y]]}}else iW.add.vstl=g6}if(fC=="*U"&&eM){iW.kv=!0;eM=!1}iW.yY("<"+(fC=="*U"?"Compound ":"")+"Path>"+Z);
iW.fn=U;iW.opacity=Math.round(255*r);iW.fJ(fC=="*U"?d5.pop():du==0);iW.rH(y);y.M.push(iW);K.newPath(M)}else if(fC==","&&kG[0]=="/XMLUID"){var dI=y.M[y.M.length-1];
for(var Y=0;Y<y.ut.length;Y++)if("("+y.ut[Y].docRef+")"==kG[2])y.ut[Y].docRef="id('"+dI.add.lyid+"')"}else if(fC==","&&kG[1]=="/FreeUndo"){fu=id[0]}else if(fC==","&&kG[1]=="/StoryIndex"){var fv=u.Setup.TextDocument,bb=null;
if(!(fv instanceof Array))window.ae6=fv=u.Setup.TextDocument=s(fv,V);var hE=fv[0],kc=fv[2];if(hE._DocumentResources)hE=fv[0]=dx.awF(hE);
else dx.akY(hE);var iW=y.Sv();iW.add.lnsr="rend";iW.add.TySh=e7._x(0,0);var dJ=id[0];if(fu==1){for(var Y=1;
Y<60;Y++){var c4=b[c7+Y];if(c4&&c4.endsWith("/StoryIndex ,")){dJ=parseFloat(c4.slice(2,c4.indexOf(" ")));
ay=!0;break}}fu=0}var bS=dP.a1q(hE),gr=iW.add.TySh.Wg=bS[dJ];if(gr==null){console.log("text not found");
ay=!1;continue}iW.yY(e7.lD(gr).slice(0,50));iW.fn=U;iW.opacity=Math.round(255*r);iW.fJ(du==0);var jB=hE._1._1[dJ]._1._0[0]._0;
jB=parseInt(jB.slice(1));var jO=hE._0._8._0,jM=jO[jB]._0;if(jM._0)bb=o(jM._0);else if(jM._1)bb=o(jM._1._0);
else bb=o(jM._2._2).slice(3);if(bb.length!=2){var aZ=I.C.OO(bb);bb=[aZ.x,aZ.y];if(aZ.P()!=0){e7.k8(gr,1);
e7.N2(gr,[0,0,Math.round(aZ.m),Math.round(aZ.J)])}}var cq=new hN,hJ=new hN(1,0,0,1,bb[0],bb[1]),a$=new hN(1,0,0,1,-kc[0],-kc[1]),cH=A(M.ctm),k8=new hN;
if(jM._2&&jM._2._2){var g=o(jM._2._2);k8=new hN(g[0],g[1],g[2],g[3],g[4],g[5])}cq.concat(hJ);cq.concat(k8);
cq.concat(a$);cq.scale(1,-1);cq.concat(cH);iW.add.TySh.i=cq;y.M.push(iW);y.qK=!0}else if(fC=="Tp"){J.OT=A(id)}else if(fC=="Tf"){J.font=kG[0].slice(2)}else if(fC=="Tk"){var iW=y.Sv();
iW.add.lnsr="rend";var dM=iW.add.TySh=e7._x(0,0),gr=dM.Wg,bl=J.OT.clone(),j8=bl.je();bl.concat(A(M.ctm));
var i0=new hN(1/j8,0,0,-1/j8,0,0);i0.concat(bl);dM.i=i0;var ct=f(eE);iW.yY(ct);e7.cQ(gr,0,ct);var h7=e7.IF(gr,0,ct.length);
h7.hU.FontSize=j8;h7.hU.FillColor={Type:1,Values:[1,m[0],m[1],m[2]]};e7.Ca(h7,J.font);e7.Bl(gr,0,ct.length,h7);
y.M.push(iW);y.qK=!0}else if(G&&id.length>3){var je=!1;for(var Y=0;Y<id.length;Y++)if(isNaN(id[Y]))je=!0;
if(!je)b[c7+1]=(eE+" "+b[c7+1]).replace(/\s\s+/g," ")}}}function x(m,y){if(y.cf==null)y.cf={};var b=y.cf[m[0]];
if(b==null){var g=y.iG[m[0]],b=y.cf[m[0]]={};b.id=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";b.name="someImage";
b.GK=[g.I6(),new j2(0,0,g.m,g.J)];y.p0(b)}var u=JSON.parse(jt.qx[jt.order.indexOf("patternFill")]);u.Ptrn.v.Idnt.v=b.id;
var t=A(m[1][1]),V=-Math.atan2(-t.e,t.W);u.Angl.v.val=Math.round(V*180/Math.PI);u.Scl.v.val=Math.round(100*t.je());
return u}dE.a2$=function(y,b){var g=dE.a3x(y,b),u=[0,0,1,0];if(y[0]==0)u[0]=.5;I.C.i(u,g,u);var t=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),V=t.Grad.v;
V.Intr.v=0;t.Type.v.GrdT=["Lnr","Rdl"][y[0]];I.I.Sc(y[1],V);I.I.dV(new b5(u[0],u[1]),new b5(u[2],u[3]),I.o.RP(b),t);
return t};dE.Gm=function(y,b){var g=["Lnr","Rdl"].indexOf(y.Type.v.GrdT),u=I.o.RP(b),t=I.I.II(y,u),V=t[0],c=t[1];
if(g==0){V.x-=c.x-V.x;V.y-=c.y-V.y}var E=c.x-V.x,Z=c.y-V.y,G=Math.sqrt(E*E+Z*Z),J=new hN;J.rotate(Math.atan2(-Z,E));
J.scale(G,G);J.translate(V.x,V.y);var K=dE.aoD(g,J,u),M=y.Grad.v;K[1]=I.I.yW(M,null,null);return K};
dE.aoD=function(y,b,g){b.translate(-g.x,-g.y);var u=g.m,t=g.J,V,c,E=Math.atan2(-b.e,b.W),Z;if(y==0){b.translate(-u/2,-t/2);
var G=dE.acX(u,t,E);b.scale(1/G,1/G);b.rotate(-E);b.scale(1/u,1/t);V=b.W_+.5;c=b.Rj+.5;Z=b.W}else{V=b.W_/u-.5;
c=b.Rj/t-.5;var J=(V-.5)*u/2,K=(c-.5)*t/2;Z=b.je()/Math.sqrt(2*(J*J+K*K))}return[y,null,[V,c,E*180/Math.PI,Z,1,0,0],[1,0,0,1,0,0]]};
dE.a3x=function(y,b){var g=y[0],u=y[2],t=y[3],V=new hN(t[0],t[1],t[2],t[3],t[4],t[5]);V.Fb();var c=cc.hF.ug(b);
I.o.Pa(c,V);var E=I.o.RP(c),Z=E.m,G=E.J,J=u[0],K=u[1],M=u[2]*Math.PI/180,U=u[3],r=new hN;if(g==0){r.scale(U,U);
r.translate(J-.5,K-.5);r.scale(Z,G);r.rotate(M);var dS=dE.acX(Z,G,M);r.scale(dS,dS);r.translate(Z/2,G/2)}else{var w=(J-.5)*Z/2,di=(K-.5)*G/2,dS=U*Math.sqrt(2*(w*w+di*di));
r.scale(dS,dS*u[4]);r.rotate(M);r.translate((J+.5)*Z,(K+.5)*G)}r.translate(E.x,E.y);r.concat(new hN(t[0],t[1],t[2],t[3],t[4],t[5]));
return r};function S(y,b,g){if(g){z=b;m=y}else{L=b;e=y}}function k(y,b,g){var u=UDOC.G,t=[],V=[],c="/DeviceGray",E=1,Z=[],G=1;
for(var J=0;J<y.length;J++){var K=y[J];if(K.endsWith(" /CS")){var M=K.indexOf("/NChannel"),U=K.indexOf("/Process");
if(K.startsWith("/DeviceRGB")){c="/DeviceRGB";E=3}else if(K.startsWith("/DeviceGray")){c="/DeviceGray";
E=1}else if(K.startsWith("/DeviceCMYK")){c="/DeviceCMYK";E=4;Z=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(M!=-1){c="/DeviceCMYK";
E=parseInt(K.slice(M-2,M-1));var r=1;for(var Y=0;Y<E;Y++){r=K.indexOf("[",r);Z[E-1-Y]=K.slice(r+1,r+8).split(" ").map(parseFloat);
r++}}else if(U){c="/DeviceGray";E=1}else throw K}else if(K[0]=="["){var dS=K.indexOf("]"),w=K.slice(1,dS).split(" ").map(parseFloat),di=K.slice(dS+2),eM,j5,ds,ba,gH,ir;
if(di=="/Size"||di=="/P"||di=="/R")continue;if(di=="/S"||di=="/A"){eM=w[0];j5=w[1];ds=w[2];ba=w[3];gH=w[4];
ir=w[5]}else if(di=="/N"){var iP=E+(G==1?0:1),iy;eM=w[iP+0];j5=w[iP+1];ds=w[iP+2];ba=w[iP+3];gH=w[iP+5];
ir=w[iP+6];if(c=="/DeviceRGB")iy=w.slice(0,3);else if(c=="/DeviceGray")iy=[w[0],w[0],w[0]];else if(c=="/DeviceCMYK"){var iG=[0,0,0,0];
for(var Y=0;Y<E;Y++){var eg=w[Y],du=Z[Y];iG[0]+=eg*du[0];iG[1]+=eg*du[1];iG[2]+=eg*du[2];iG[3]+=eg*du[3]}iy=P(iG)}else throw iy;
iy.push(w[E]);V.push([iy,eM,j5])}else throw di;t.push([di,gH,ir,eM,j5,ds,ba])}else if(K=="/E"){var gh=t.slice(0),ga=0;
for(var Y=0;Y<t.length;Y++){var d5=t[Y][0];if(d5=="/N"){ga++;continue}var fu=Y,ay=Y+1;while(t[ay][0]!="/N"&&ay<t.length)ay++;
if(ga==0||ga==3){for(var c7=0;c7<ay-fu;c7++)gh[fu+c7]=t[ay-1-c7]}else for(var c7=fu;c7<ay;c7++){var eE=gh[c7],jn=eE[1];
eE[1]=eE[5];eE[5]=jn;jn=eE[2];eE[2]=eE[6];eE[6]=jn}Y=ay-1}t=[];for(var Y=0;Y<gh.length;Y++){var eE=gh[Y];
t.push(eE[1],eE[2],eE[3],eE[4],eE[5],eE[6])}var dI=t.length;u.moveTo(b,t[2],t[3]);for(var Y=0;Y<dI;Y+=6){var ds=t[(Y+4)%dI],ba=t[(Y+5)%dI],gH=t[(Y+6)%dI],ir=t[(Y+7)%dI],eM=t[(Y+8)%dI],j5=t[(Y+9)%dI];
u.curveTo(b,ds,ba,gH,ir,eM,j5)}u.closePath(b);t=[]}else if(K.endsWith("/Version"))G=parseFloat(K[0])}var dQ=g.Sv();
dQ.de|=16;dQ.yY("<Mesh>");var jo=dQ.add.vstk=jt.lc.TQ(!0);if(V.length>=2){var hT=0,ea=0,b9=0;for(var Y=0;
Y<V.length;Y++)for(var c7=Y+1;c7<V.length;c7++){var bI=V[Y][0],ii=V[c7][0],d_=bI[0]-ii[0],c4=bI[1]-ii[1],kG=bI[2]-ii[2],fC=Math.sqrt(d_*d_+c4*c4+kG*kG);
if(fC>b9){b9=fC;hT=Y;ea=c7}}var bO=V[hT],id=V[ea],a5=dQ.add.GdFl=JSON.parse(jt.qx[jt.order.indexOf("GrFl")]),eU=a5.Grad.v;
eU.Intr.v=0;a5.Type.v.GrdT="Lnr";I.I.Sc([[0,bO[0]],[1,id[0]]],eU);var af=A(b.ctm),a7=af.M$(new b5(bO[1],bO[2])),g$=af.M$(new b5(id[1],id[2])),cg=I.C.OO(b.pth.crds);
a7.x=(a7.x+g$.x)/2;a7.y=(a7.y+g$.y)/2;I.I.dV(a7,g$,cg,a5)}n(dQ,b.pth,g,0);g.M.push(dQ);u.newPath(b)}function f(y){var b=y.indexOf(")");
while(y[b-1]=="\\")b=y.indexOf(")",b+1);return y.slice(y.indexOf("(")+1,b).replaceAll("\\","")}function X(y,m){y.Rd.v=m[0]*255;
y.Grn.v=m[1]*255;y.Bl.v=m[2]*255}function o(y){var b=[];for(var Y=0;Y<y.length;Y++)b[Y]=parseFloat(y[Y].slice(1));
return b}function A(y){return new hN(y[0],y[1],y[2],y[3],y[4],y[5])}function P(y){return I.gO(y.slice(0,4)).slice(0,3)}function F(y){var b=y.split(" "),g=b[b.length-1],u=g.toLowerCase(),t=b.map(parseFloat),V=null;
if(u=="xa"||u=="xx"||u=="xz"){var V=t[4]==null?t.slice(0,3):[t[4],t[5],t[6]];if(u=="xx"&&t[t.length-2]==2)V=P(t)}else if(u=="g")V=P([0,0,0,1-t[0]]);
else if(u=="x"||u=="k"){if(u=="x"){t.pop();var c=1-t.pop();for(var Y=0;Y<4;Y++)t[Y]*=c}V=P(t)}else if(u=="xk"){var E=t[t.length-2],Z=t[t.length-3];
if(E==0)V=P(t);else if(E==1){V=[t[4],t[5],t[6]];for(var Y=0;Y<3;Y++)V[Y]=Z*1+(1-Z)*V[Y]}else throw y}else throw u;
return V}function n(y,b,g,u){y.add.vmsk=new cc.hF;if(b.crds.length!=0)y.add.vmsk.$=R(b);y.add.vmsk.ay=u;
y.tO();y.rH(g)}function R(y){var b={j:y.crds,G:y.cmds},g=I.C.aZ(b,!1);return g}function Q(y,b){var g=[],G=0,U=0;
for(var u=0;u<2;u++){var t=b[["Raster","Place"][u]];if(t){for(var Y=0;Y<t.length;Y++){var V=t[Y][["Data","Document","PlacedObjectPreview"][u]];
if(V==null)continue;var c=V._begin,E=V._end;if(c>E)c=E;g.push([c,E])}}}g.sort(function(dS,w){return dS[0]-w[0]});
var Z=[b._begin];for(var Y=0;Y<g.length;Y++){var J=g[Y],c=J[0]+32;Z.push(c,J[1]);G+=J[1]-c}Z.push(b._end);
var K=b._end-b._begin,M=new Uint8Array(K-G);for(var Y=0;Y<Z.length;Y+=2){var c=Z[Y],r=Z[Y+1]-c;M.set(new Uint8Array(y.buffer,c,r),U);
U+=r}return W.U8(M).split(/\r\n|\r|\n/)}function s(y,b){if(y==null)return[];var g=Q(b,y),u="",t="",V=0,c;
for(var Y=2;Y<g.length;Y++){var E=g[Y];if(E[0]=="%"){if(V==0)u+=E.slice(1);else t+=E.slice(1)}else if(E==";")V++;
else if(E.endsWith("/RulerOrigin ,"))c=E.split(" ").slice(0,2).map(parseFloat)}var Z=[u,t],G=[];for(var Y=0;
Y<2;Y++){var J=Z[Y],K=new Uint8Array(J.length);W.AW(K,0,J);var M=FromPS.F.ASCII85Decode({buff:K,off:0}),U=jP.uU(M);
G.push(U)}G.push(c);return G}function j(y,b){if(y==null)return[];var g=Q(b,y);g=g.slice(1);for(var Y=0;
Y<g.length;Y++){var u=g[Y];if(u[0]=="%")g[Y]=u.slice(u[1]=="_"?2:1)}var t=h(g);return t}function _(y){var b=[];
H(y,b);for(var Y=0;Y<b.length;Y++)b[Y]="%_"+b[Y];return b}function B(y,b){var g={};if(y==null)return g;
for(var Y=0;Y<y.length;Y++){var u=Q(b,y[Y]),t=u[1],V=f(t),c=t.slice(t.lastIndexOf(")")+2).split(" ").map(parseFloat),E=[];
for(var Z=2;Z<u.length;Z++)E.push(u[Z].slice(2));g[V]={zO:c,E2:E}}return g}function N(y,b){var g=[],t,V;
if(y==null)return g;var u=Q(b,y);for(var Y=1;Y<u.length;Y++){var c=u[Y];if(c=="0 0 Pb"||c=="PB"||c==""){}else if(c.endsWith("Xa")||c.endsWith("Xz")||c.endsWith("Xx")||c.endsWith("Xk")||c.endsWith(" k")||c.endsWith(" g")||c.endsWith(" x"))t=[0,F(c)];
else if(c.endsWith("Xs"))t=[0,[0,0,0]];else if(c.endsWith("Bg"))t=[1,f(c)];else if(c.endsWith("Pg"))t=[2,f(c)];
else if(c[0]=="(")V=f(c);else if(c=="Pc")g.push([V,t]);else if(c=="0 BB"||c=="Bb"||c.endsWith("Bh")){}else throw c}return g}function a(y,b){var g={},u,t;
if(y==null)return g;var V=[];for(var Y=0;Y<y.length;Y++){var c=Q(b,y[Y]);for(var E=0;E<c.length;E++){var Z=c[E];
if(Z.endsWith("%_Bs")){var G=Z.slice(0,Z.length-4);if(!G.endsWith(" "))G+=" ";Z=G+"%_BS"}if(Z[0]=="("){u=f(Z);
var J=Z.split(")"),K=J[1].split(" ");t=parseInt(K[1])}else if(Z.endsWith("%_BS")){var J=Z.split(" "),dS,w=1;
J.pop();J=J.map(parseFloat);var M=J.pop(),U=J.pop(),r=J.pop();if(r==0)dS=[J[0],J[0],J[0]];else if(r==2||r==4)dS=[J[4],J[5],J[6]];
else if(r==1||r==3)dS=P(J);else if(r==6){if(J.length==3)dS=[J[0],J[0],J[0]];else if(J.length>=8)dS=J.slice(4,7);
else dS=P(J);w=J.pop()}else{throw r}V.push([M/100,dS,w,U/100])}else if(Z=="BD"){for(var di=0;di<V.length-1;
di++)V[di][3]=V[di+1][3];V.sort(function(eM,j5){return eM[0]-j5[0]});g[u]={rp:t,aw5:V};V=[]}}}return g}function O(y){var b="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),g=Date.now(),u=0,t=[],V={Header:{}},c=[V],E=y.length;
while(u<E){var Z=u;while(Z!=E&&y[Z]!=13&&y[Z]!=10){Z++}if(y[u]==37&&y[u+1]==95&&y[u+2]==37)u+=2;if(y[u]==37&&(y[u+1]==37||y[u+1]==65)){var G=W.Sq(y,u,Z-u);
if(G=="%%EOF")break;if(G=="%%EndComments"||G=="%EndComments"||G=="%AI5_Begin_NonPrinting"||G=="%AI5_End_NonPrinting--"||G.startsWith("%AI17_Begin_Content_if_version_gt")||G=="%AI17_End_Versioned_Content"){}else{var J=G.indexOf("Begin"),K=Math.max(G.indexOf("_End"),G.indexOf("%End"));
if(J!=-1&&G[J-1]!="%"&&G[J-1]!="_")J=-1;if(J!=-1){var M=G.slice(J+5).split(":")[0],U={_begin:u,_end:u},r=c[c.length-1];
if(b.indexOf(M)!=-1){if(r[M]==null)r[M]=[];r[M].push(U)}else{if(r[M]!=null){console.log(c);throw G}r[M]=U}c.push(U);
if(G.startsWith("%%BeginData")){Z=W.Fo(y,"%%EndData",u)}else if(G.slice(0,15)=="%%BeginDocument")Z=W.Fo(y,"%%EndDocument",Z);
else if(G=="%AI9_BeginDocumentData")Z=W.Fo(y,"%AI9_EndDocumentData",Z);else if(G=="%AI11_BeginTextDocument")Z=W.Fo(y,"%AI11_EndTextDocument",Z)}else if(K!=-1){if(c.length>1)c.pop()._end=u}else if(c.length==1&&(G.startsWith("%AI")||G.startsWith("%%")&&G.indexOf(" ")!=-1)){var dS=1;
if(G.startsWith("%AI"))while(G[dS]!="_"&&dS<G.length)dS++;var w=G.indexOf(":");if(w==-1)w=G.indexOf(" ");
var di=G.slice(dS+1,w),eM=G.slice(w+1).trim();V.Header[di]=eM}}}u=Z;if(y[u]==13)u++;if(y[u]==10)u++}return V}function H(y,b){if(y instanceof Array)for(var Y=0;
Y<y.length;Y++)H(y[Y],b);else if(typeof y=="object"){for(var g in y){var u=y[g];if(typeof u=="number")b.push(u+" /Int ("+g+") ,");
else if(typeof u=="string")b.push("("+u+") /String ("+g+") ,");else if(u instanceof Array){b.push("/Array :");
H(u,b);b.push("; ("+g+") ,")}else if(typeof u=="object"){b.push("/Dictionary :");H(u,b);b.push("; ("+g+") ,")}}}}function q(y,b){for(var Y=0;
Y<b.length;Y++)if(y.startsWith(b[Y]))return!0;return!1}function h(y){var b=[],g=[],top=-1,u,t=null,V=null,c=null,E=0;
for(var Z=0;Z<y.length;Z++){var G=y[Z];if(u){G=u+G;u=null}var J="\t".repeat(b.length);if(t!=null){t.push(G);
if(G.endsWith("~>")){var K=W.x5(t.join("")),M=FromPS.F.ASCII85Decode({off:0,buff:K});b.push(M);g.push(!1);
top++;t=null}}else if(c!=null){if(G=="X+"){if(E==1){b.push(c);g.push(!1);top++;c=null}else E--}else if(G=="X=")E++;
else c.push(G)}else if(V!=null){if(G=="/Def ; "){b.push(V);g.push(!1);top++;V=null}else V.push(G)}else if(G=="/Binary : /ASCII85Decode ,"){t=[]}else if(G=="X="){c=[];
E++}else if(G=="/FillStyle : 0 O"){V=["0 O"]}else if(G=="/SVGFilter :"||G=="; /Def ;")continue;else if(G.startsWith("/XMLUIDREF :")){var U=D(G);
b[top][U[4]]=U[2]}else if(G.startsWith("/")&&G[1].toUpperCase()!=G[1].toLowerCase()){if(G.startsWith("/XMLUID")){var U=D(G);
if(g[top])throw"e";b[top][U[4]]=U[2]}if(G.startsWith("/GObjRef")){var U=D(G);if(U.length==7){if(g[top])throw"e";
b[top][U[5]]=U[2]}else{if(!g[top])throw"e";b[top].push(U[2])}}else{var r=G.startsWith("/Array")||G.startsWith("/Document");
b.push(r?[]:{});g.push(r);top++}}else if(G.endsWith(",")){var dS,w,U=D(G);U.pop();if(U[0]==";"||U.length==1||G==" ,"){w=b.pop();
g.pop();top--;dS=g[top]?null:U.pop()}else{dS=g[top]?null:U.pop();var di=U.pop(),eM=U[0];if(di=="/Int")w=parseInt(eM);
else if(di=="/Real")w=parseFloat(eM);else if(di=="/Bool")w=eM=="1";else if(di=="/String"||di=="/UnicodeString")w=U.join("");
else if(di=="/RealMatrix"||di=="/RealPoint"||di=="/RealPointRelToROrigin")w=U.map(parseFloat);else throw di}if(g[top])b[top].push(w);
else b[top][dS]=w}else if(G==";"){}else if(G==""){}else{if(G.indexOf("/RealPoint")!=-1){}else if(G.startsWith("(")&&G.endsWith(")")){}else if(G.endsWith("/RealMatrix")){}else throw G;
u=u?u+G:G}}return b}function D(y){var b=0,g=[];while(b<y.length){var u=y[b],t=u.charCodeAt(0);if(u==" ")b++;
else if(u==","||u==";"||u==":"){g.push(u);b++}else if(u=="("){var V=b+1;while(!(y[V]==")"&&(y[V-1]!="\\"||y[V-2]=="\\")))V++;
var c=y.slice(b+1,V);g.push(c);b=V+1}else if(u=="/"||u=="-"||48<=t&&t<=57){var V=b;while(y[V]!=" ")V++;
g.push(y.slice(b,V));b=V}else throw u}return g}function T(y){var b="";for(var Y=0;Y<y.length;Y++){if(y[Y]=="_"&&y[Y+1]=="x"){var k7=parseInt(y.slice(Y+2,Y+4),16);
b+=String.fromCharCode(k7);Y+=4}else if(y[Y]=="_")b+=" ";else b+=y[Y]}return b}function p(y){var b="xmlnode-nodename",g="xmlnode-nodevalue",u="xmlnode-attributes",t="xmlnode-children",V=y[b].split(":").pop().replace("#",""),c=y[u],E=y[t],Z="<"+V;
for(var G in c)if(G!="xmlns"&&G!="xmlns:v")Z+=" "+G.split(":").pop()+"=\""+c[G][g]+"\"";Z+=">"+(E.length==0?"":"\n");
for(var Y=0;Y<E.length;Y++)Z+=p(E[Y]);if(y[g])Z+=y[g];return Z+"</"+V+">\n"}return i}();dE.acX=function(i,C,m){var e=I.C.Ym(new j2(0,0,i,C)).j,z=new hN;
z.rotate(m);I.C.i(e,z,e);var L=I.C.OO(e);return L.m/i};dE.a8e=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
dE.Em=function(){function i(o){var A=72/o.lC,P=new hN(A,0,0,-A,0,0),F=o.root.children,n=[],R={UN:[],a6R:0},Q=16383,K=0,U=0;
for(var Y=0;Y<F.length;Y++)l(F[Y],o,P,R,n,0);var s=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+Q+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
s.push("%%BeginSetup\r");s=s.concat(R.UN);for(pn in o.iG){var j=o.iG[pn],_=o.lC/72;s.push("%AI3_BeginPattern: ("+pn+")");
s.push("("+pn+") 0 0 "+Math.round(j.m/_)+" "+Math.round(j.J/_));var F=j.root.children,B=[];for(var Y=0;
Y<F.length;Y++)l(F[Y],j,P,R,B,1);B=window.auq;for(var Y=0;Y<B.length;Y++){var N=B[Y];s.push(N.startsWith("%_")?N:"%_"+N)}s.push("E","%AI3_EndPattern");
console.log(A);console.log(j)}s=s.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var a=o.add.arts;for(var Y=0;Y<a.length;Y++){var O=a[Y];console.log(O);var H=O.zO[0]*A,q=-O.zO[1]*A,h=O.zO[2]*A,D=-O.zO[3]*A;
s.push("/Dictionary :","("+O.T_+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",Q/2+" "+Q/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",m(H)+" "+m(q)+" /RealPointRelToROrigin"," (PositionPoint1) ,",m(h)+" "+m(D)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}s=s.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var T=[],p=[];for(var Y=0;Y<o.M.length;Y++){var y=o.M[Y],b=y.add.TySh;if(b){T.push(b.Wg);p.push(b)}}if(T.length!=0){var g=dP.aal(T,null,null);
function u(O){return O.map(function(r){return"f"+r})}for(var t=0;t<T.length;t++){var b=p[t],V=g._1._1[t],c=V._1._0[0]._0;
c=parseInt(c.slice(1));var E=g._0._8._0[c]._0,Z=b.i.clone();Z.concat(P);Z.scale(1,-1);E._2._2=u([Z.W,Z.e,Z.xF,Z.o6,Z.W_,Z.Rj])}var G=C(g),J=C(g);
s.push("%AI11_BeginTextDocument");s.push("/AI11TextDocument : /ASCII85Decode ,");s=s.concat(G);s.push("0.0001 0.0001 /RulerOrigin ,");
s.push(";");s.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");s=s.concat(J);s.push(";");s.push("%AI11_EndTextDocument")}s.push("%%EndSetup\r");
s=s.concat(n);console.log(s.join("\n"));s.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var Y=0;Y<s.length;Y++){var O=s[Y];if(typeof O=="string")O=s[Y]=W.x5(O);K+=O.length+1}var M=new Uint8Array(K);
for(var Y=0;Y<s.length;Y++){var O=s[Y];M.set(O,U);U+=O.length;M[U]=13;U++}return bu.a2Q(M).buffer}function C(o){var A=new ac,P=jP.hz(o,A)-2,F=X(A.data.slice(0,P)),n=[];
for(var R=0;R<F.length;R+=100){if(F.length-R<103){n.push("%"+F.slice(R));break}n.push("%"+F.slice(R,R+100))}return n}function m(k7){return k7.toFixed(3)}function e(o,A){var P=o.getName(),F=null;
A.push("%_/ArtDictionary :");if(o.add.vmsk)F=o.add.vmsk.Z7;if(o.add.SoLd){var n=I.D.sb(o.add.SoLd);F=Math.atan2(-n.e,n.W)}if(o.add.TySh){var n=o.add.TySh.i;
F=Math.atan2(-n.e,n.W)}if(F!=null&&F!=0)A.push("%_("+F+") /String (BBAccumRotation) ,");if(o.add.TySh)A.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!P.startsWith("<")&&!P.endsWith(">")){A.push("%_/XMLUID : "+z(P)+" ; (AI10_ArtUID) ,")}A.push("%_;","%_")}function z(o){var A="";
for(var Y=0;Y<o.length;Y++){var P=o[Y],F=o.charCodeAt(Y);if(P==" ")A+="_";else if(P=="."||P==":"||P=="-"||48<=F&&F<=57||65<=F&&F<=90||97<=F&&F<=122||127<F)A+=P;
else A+="_x"+F.toString(16).toUpperCase()+"_"}return"("+A+")"}function L(o,A,P){P.push(m(o[0])+" "+m(o[1])+" "+m(o[2])+" "+A)}function l(o,A,P,F,n,R){var Q=o.a;
if(R!=0)n.push((Q.gF()?0:1)+" Xw");if(Q.yJ()){var s=!1;for(var Y=0;Y<o.children.length;Y++)if(o.children[Y].a.kv)s=!0;
var j=Q.add.lsct==aU.AY?1:0;if(R==0){n.push("%AI5_BeginLayer");n.push((Q.gF()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
n.push("("+Q.getName()+") Ln");n.push(j+" AE");e(Q,n)}else{n.push(j+" Ae");n.push(s?"q":"u")}for(var Y=0;
Y<o.children.length;Y++)l(o.children[Y],A,P,F,n,R+1);if(R==0)n.push("LB","%AI5_EndLayer--");else{n.push(s?"Q":"U");
e(Q,n);x(Q,n);n.push("0 0 Xd","6 () XW")}}else{x(Q,n);var _=Q.add.TySh,B=Q.add.vmsk;if(_){n.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",F.a6R+" /StoryIndex ,");
if(e7.c$(_.Wg)==1){var N=e7.py(_.Wg),a=I.C.Ym(new j2(N[0],N[1],N[2],N[3])).j;I.C.i(a,_.i,a);I.C.i(a,P,a);
n.push("/Art :","X=","1 Ap",a[0]+" "+a[1]+" m",a[2]+" "+a[3]+" L",a[4]+" "+a[5]+" L",a[6]+" "+a[7]+" L",a[0]+" "+a[1]+" L","n","X+","; /ConfiningPath ,")}n.push("2 /TextAntialiasing ,",";");
F.a6R++}else if(Q.add.SoLd){var O,H,q,h=Q.add.SoLd,D=h.Idnt.v,T=A.WY(D,h.Crop?h.Crop.v:null),p=T.pC,O=p[0],H=p[1];
q=I.D.sb(h);var y=new hN(1,0,0,-1,0,0);y.concat(q);y.concat(P);var b=H.P(),g=H.m,u=H.J,t=I.R(b*4+8);
for(var Y=0;Y<b;Y++){var V=Y*4,c=Y*3;t[c]=O[V];t[c+1]=O[V+1];t[c+2]=O[V+2];t[3*b+Y]=O[V+3]}W.AW(t,b*4,"%EndData");
n.push("%AI5_File:","%AI5_BeginRaster","[ "+[y.W,y.e,y.xF,y.o6,y.W_,y.Rj].map(m).join(" ")+" ] 0 0 "+[g,u,g,u].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(b*4+4),"XI",t,"XH","%AI5_EndRaster","N")}else if(B){var E=Q.add.vstk,Z=Q.add.vstl,G=Z.P$,J=Z.OR,K=I.o.vS(B.$)>1;
if(K)n.push("*u","0 Xw");if(G){if(G.length==3)L(G,"Xa",n);else if(G.length==4){var M=k(G,F);n.push("Bb",M,"2 BB")}else{n.push("("+G[0]+") "+G[1][0].join(" ")+" ["+G[1][1].join(" ")+"] p")}}if(J){var U=jt.$_.tB(Z,U,P.je());
n.push(U.lcap+" J "+U.ljoin+" j "+U.lwidth+" w "+m(U.mlimit)+" M ["+U.dash.join(" ")+"]0 d");if(J.length==3)L(J,"XA",n);
else{var r=E.strokeStyleContent.v,M=k(J,F);n.push("1 Bb",M,"2 BB")}}var dS=I.C.BN(B.$,1);I.C.i(dS.j,P,dS.j);
var w=Q.kv?"h\nW\nn":G&&J?"b":G?"f":"s";S(dS,w,B.ay,n);if(K)n.push("*U")}e(Q,n)}}function x(o,A){var P=dE.a8e.indexOf(o.fn);
if(P==-1)P=0;A.push(P+" "+m(o.opacity/255)+" 0 0 0 Xy")}function S(o,A,P,F){F.push(P+" XR");var n=0;
for(var R=0;R<o.G.length;R++){var Q=o.G[R],s,j=0,_="";if(Q=="M"){j=2;s="m"}if(Q=="L"){j=2;s="l"}if(Q=="C"){j=6;
s="c"}for(var Y=0;Y<j;Y++)_+=m(o.j[n+Y])+" ";n+=j;if(j!=0)F.push(_+s);if(R==o.G.length-1||o.G[R+1]=="M"){F.push(Q=="Z"?A:A.toUpperCase())}}}function k(o,A){var P=f(o,A),F="";
if(o[0]==1)F="0 0 "+o[2].slice(5).map(m).join(" ")+" Bh\n";return F+"1 ("+P+") "+o[2].slice(0,4).map(m).join(" ")+" "+o[3].map(m).join(" ")+" "+m(o[2][4])+" Bg"}function f(o,A){var P=o[0],F=o[1].slice(0),n="grd"+A.UN.length;
A.UN.push("%AI5_BeginGradient: ("+n+")","("+n+") "+P+" "+F.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(P==0)F=F.reverse();for(var Y=0;Y<F.length;Y++){var R=F[Y],Q=I.uy(R[1]),s=Q.concat(R[1]).map(m).join(" ")+" 2 "+m(R[2])+" 6 50 "+m(R[0]*100);
A.UN.push(s+" %_BS");A.UN.push("%_"+s+" Bs")}A.UN.push("BD","%AI5_EndGradient");return n}function X(o){var A=[85*85*85*85,85*85*85,85*85,85,1],P="",F=o.length,n=new Uint8Array(4),R=new Uint32Array(n.buffer);
for(var Y=0;Y<F;Y+=4){var Q=F-Y;n[3]=o[Y];n[2]=Q>1?o[Y+1]:0;n[1]=Q>2?o[Y+2]:0;n[0]=Q>3?o[Y+3]:0;var s=R[0],j=1+Math.min(4,Q);
for(var _=0;_<j;_++){var B=Math.floor(s/A[_]);P+=String.fromCharCode(33+B);s-=B*A[_]}}return P+"~>"}return i}();
function fZ(){}fZ.uU=function(){var i,C,m,e,z,R,Q,s;function L(y){return W.uw(i,y)}function l(y){return W.yX(i,y)}function x(y){return W.nO(i,y)}function S(y){return W.NC(i,y)}function k(y,b){var g=[];
for(var Y=0;Y<b;Y++)g.push(x(y+Y*4));return g}function f(y,b){var g=[];for(var Y=0;Y<b;Y++)g.push(L(y+Y*8));
return g}function X(y){return x((y+1)*4096-12)}function o(y){return x((y+1)*4096-8)}function A(y,C,b,g){if(e[y]==null)e[y]=[];
e[y].push([g,new Uint8Array(i.buffer,C,b)])}function P(y,b,g,u){var t=m[y],C=t*4096;C=C+x(C+4096-24-12-b*4);
var V=l(C),c=i[C+2],E=i[C+3];if(b!=c)throw c;if(E==0)A(u,C+4,g,9);else{var Z=l(C+6),G=x(C+8);A(u,C+12,V-12,9);
P(G,Z,g-(V-12),u)}}function F(){var y=x(352),b=x(y*4096+128),g=x(936);m=[];e={};z={};for(var Y=0;Y<1e9;
Y++){var u=x(g*4096+128+Y*4);if(u==0)break;var t=k(u*4096+128,4096-128-12>>>2);m=m.concat(t)}for(var V=0;
V<m.length;V++){var c=m[V],E=X(c);if(E!=6)continue;var C=c*4096,Z=x(C);C+=4;for(var Y=0;Y<Z;Y++){var G=x(C);
C+=4;var J=x(C);C+=4;var K=x(C);C+=4;var M=x(C);C+=4;if(G==0)z[J]=K;else{var U=K&65535,r=K>>>16;if(r==0)A(J,M*4096,U,8);
else P(M,r,U,J)}}}var R={};for(var dS in e){var w=e[dS],di=w.length;if(di==1)R[dS]=w[0][1];else{var eM=0,C=0;
for(var Y=0;Y<di;Y++)eM+=w[Y][1].length;var j5=R[dS]=new Uint8Array(eM);for(var Y=0;Y<di;Y++){j5.set(w[Y][1],C);
C+=w[Y][1].length}}}return R}function n(C,y){var b=y?x(C):l(C),g="";C+=y?4:2;while(g.length<b){var u=i[C++],t=i[C++],V=0,c="";
u+=(t&15)*256;t=t&240;for(var Y=0;Y<u;Y++){if(t==64)V=i[C++];else if(t==128)V=i[C++]|i[C++]<<8;else throw t;
c+=String.fromCharCode(V)}g+=c}return[g,C]}function j(C,y,b){var g=k(C,y);for(var Y=0;Y<y;Y++){b.push(Y);
if(g[Y]>Q)throw"e";g[Y]=B(g[Y],b);b.pop()}return g}var _={};function B(y,b){if(s.indexOf(y)!=-1)return R[y];
if(y==0)return null;if(R[y]==null)return null;if(!(R[y]instanceof Uint8Array))return R[y];var g=i,C=0;
i=R[y];s.push(y);var u=z[y].toString(16),t=R[y]={_type:p[u]?p[u]+":"+u:"typ-"+u,_eid:y};while(C+8<i.length){var V=x(C);
C+=4;var c=V.toString(16),E=x(C);C+=4;var Z=C+E;if(C+E>i.length){t._bin=i;break}N(c,q,t,C,E,b);C=Z}i=g;
s.pop();return t}function N(y,b,g,C,u,t){var V=b[y+":"+g._type];if(V==null)V=b[y];t.push(V?V[0]==""?y:V[0]:y);
if(V){var c=V[0],E=null,Z=V[1];if(c=="")c=Z+"-"+y;if(D[Z]&&u!=D[Z]){console.log(Z);console.log(y,V);
console.log(i.slice(C,C+u));throw"e"}if(Z=="mat")E=f(C,6);else if(Z=="mmat")E=[B(x(C),t),f(C+6,6)];else if(Z=="rect")E=f(C,4);
else if(Z=="mrct"){E=f(C,4);E.push(l(C+32))}else if(Z=="doub")E=L(C);else if(Z=="pointArr"){var G=l(C);
E=k(C+2,G*2)}else if(Z=="usrt")E=l(C);else if(Z=="uint")E=x(C);else if(Z=="pntr"||Z=="ptr6"){E=B(x(C),t)}else if(Z=="bool2"){if(l(C)!=0&&l(C)!=1)throw l(C);
E=l(C)==1}else if(Z=="bool4"){if(x(C)!=0&&x(C)!=1)throw y+","+x(C);E=x(C)==1}else if(Z=="color"){if(u!=38&&u!=30)throw u;
var J=x(C),K=l(C+4);E=[J];for(var Y=0;Y<K;Y++)E.push(L(C+6+Y*8))}else if(Z=="path"){var M=C+u;E=[];var U=x(C);
C+=4;for(var Y=0;Y<U;Y++){var r=[[]];E.push(r);var dS=x(C);C+=4;for(var w=0;w<dS;w++){var J=x(C);C+=4;
if(J<2){r[0].push([J,L(C),L(C+8),L(C+16),L(C+24),L(C+32),L(C+40)]);C+=48}else if(J==2){r[0].push([J,L(C),L(C+8)]);
C+=16}else throw J}r.push(l(C));C+=2}}else if(Z=="ptrAndList"){var di=x(C),eM=x(C+4);E=j(C+8,eM,t);E.unshift(B(di,t))}else if(Z=="ptrArray"||Z=="ptrArrayX"){var j5=u>>2;
if(Z=="ptrArray"){j5=x(C);C+=4;if(u!=4+j5*4)throw u}E=j(C,j5,t)}else if(Z=="ptrArray2"){var j5=x(C);
C+=4;E=j(C,j5,t);C+=j5*4;j5=x(C);C+=4;E.push(j(C,j5,t))}else if(Z=="cldrn"){var ds=x(C),ba=x(C+4),j5=x(C+8);
E={B:B(ds,t),ns:B(ba,t),Af:j(C+12,j5,t)};if(u!=12+j5*4){console.log(y,sa);throw"e"}if(ds==0)throw ds}else if(Z=="aprnc"){var j5=x(C);
C+=4;E={};for(var Y=0;Y<j5;Y++){var gH=x(C),ir=l(C+4),iP=l(C+6);C+=8;var iy=T[gH.toString(16)];if(iy==null)iy="prm-"+gH.toString(16);
else iy=H(iy);E[iy]=[];for(var w=0;w<iP;w++){var iG=x(C),eg=l(C+4),du=null;C+=6;if(iG==28264)du=L(C);
else if(iG==28263)du=x(C);else if(iG==279||iG==6917)du=B(x(C),t);else if(iG==28261)du=l(C)==1;else if(iG==28265)du=[L(C),L(C+4)];
else if(iG==6914||iG==83231)du=n(C+3)[0];else if(iG==28259||iG==28260||iG==23094||iG==67679){du=i.slice(C,C+eg)}else throw iG.toString(16);
E[iy].push(du);C+=eg}}}else if(Z=="lopts"){E={ay1:l(C+0)==1,show:l(C+2)==1,a60:l(C+4)==1,yr:x(C+10),name:n(C+21)[0]}}else if(Z=="origin"){var M=C+u;
if(i[C++]!=1)throw"e";var G=x(C);C+=4;var gh=W.Sq(i,C,G);C+=G;if(i[C++]!=1)throw"e";var ga=i[C++];if(ga!=1&&ga!=53)throw ga;
var d5=l(C);C+=2;if(d5!=0&&d5!=1)throw d5;var fu=x(C);C+=4;if(fu!=0&&fu!=1)throw fu;var ay=x(C);C+=4;
if(ay!=0&&ay!=2&&ay!=3)throw ay;var c7=x(C);C+=4;var eE=n(C,!0);C=eE[1];eE=eE[0];var jn=x(C),dI=x(C+4);
C+=8;var dQ=x(C);C+=4;if(dQ!=0)throw dQ;var jo=x(C);C+=4;C+=3;var hT=n(C)[0];C+=2+2+hT.length;E={file:gh,id:eE,Kp:hT}}else if(Z=="string")E=n(C+3)[0];
else if(Z=="relEnt"){var ea=l(C);C+=2;E=[];for(var Y=0;Y<ea;Y++)E.push([x(C+Y*8),B(x(C+Y*8+4),t)])}else if(Z=="textData"){var M=C+u,b9=x(C);
C+=4;var gH=x(C);C+=4;var K=l(C);C+=2;var bI=[];for(var Y=0;Y<K;Y++){var ii=x(C);C+=4;if(b9==514)bI.push(n(C,!0)[0]);
else if(b9==515){var d_=x(C),y=x(C+4),c4=a(C+8,t);bI.push([d_,B(y,t),c4])}else if(b9==516){var d_=x(C),y=x(C+4),kG=l(C+8),c4=a(C+8,t);
bI.push([d_,B(y,t),c4])}else bI.push(i.slice(C,C+ii));C+=ii}if(M-C!=12)throw M-C;E=bI}else if(Z=="storyProps"){var fC=x(C);
if(l(C+4)>1)throw"e";var bO=B(x(C+6),t),K=x(C+10),id=B(x(C+14+K*4),t);E={ax_:fC,aCc:bO,Af:j(C+14,K,t),a1p:id,amX:k(C+14+K*4+4,4)}}else if(Z=="styleProps")E=a(C,t);
else if(Z=="bounds"){var a5=C,ea=x(C);C+=4;E=[];for(var Y=0;Y<ea;Y++){var eU=[];E.push(eU);for(var w=0;
w<4;w++)eU.push(L(C+w*8));C+=32;eU.push(i[C]);C++}if(C!=a5+u)throw"e"}else if(Z=="columnPos"){var ea=x(C);
C+=4;E=[f(C,ea),L(C+ea*8)];C+=ea*8+8}else if(Z=="StyleName"){E=[x(C+4)]}else if(Z=="fontName"){var M=C+u;
E=[l(C)];C+=2;for(var Y=0;Y<2;Y++){var gh=n(C+3);C=gh[1];E.push(gh[0])}E.push(x(C));C+=4;var af=l(C);
C+=2;E.push(af);var a7=l(C);C+=2;var g$=[];E.push(g$);for(var cg=0;cg<a7;cg++){var cC=[];g$.push(cC);
var gh=n(C+3);C=gh[1];cC.push(gh[0]);var kF=l(C);C+=2;var gh=W.Sq(i,C,kF);C+=kF;cC.push(gh);for(var Y=0;
Y<3;Y++){var gh=n(C+3);C=gh[1];cC.push(gh[0])}cC.push(x(C));C+=4;var gh=n(C,!0);C=gh[1];cC.push(gh[0])}if(C+4!=M)throw"e";
E.push(x(C))}else throw Z;if(g[c]!=null){console.log(c,g[c],E);console.log(t.slice(0));console.log(eid,y,C,g[c],V,E);
throw"e"}g[c]=E}else{var am=i.slice(C,C+u);g["prop-"+y]=am}t.pop()}function a(C,y){var b=l(C);C+=2;var g={};
for(var Y=0;Y<b;Y++){var u=x(C);C+=4;var t=u.toString(16),V=l(C);C+=2;var c=l(C);C+=2;for(var E=0;E<c;
E++){var Z=x(C);C+=4;var G=l(C);C+=2;N(t,h,g,C,G,y);C+=G}}return g}function O(y){i=new Uint8Array(y);
R=F();var b=R[2147483649];b=W.U8(b,4,b.length-4);delete R[2147483649];Q=0;for(var g in R)Q=Math.max(Q,parseInt(g));
s=[];var u={};for(var g in R)u[g]=R[g];for(var g in R)B(parseInt(g),[]);return R}function H(y){y=y.split(" ").join("");
return y[0].toLowerCase()+y.slice(1)}var q={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},h={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},D={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},T={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},p={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return O}();function jI(){}jI.uU=function(){var i=0;function C(X,o){var A=fZ.uU(X),h=1;i=0;var P=A[1],F=P.spreads,n=[],R=new j2;
for(var Q=0;Q<F.length;Q++){var s=F[Q],j=s.children.Af,_=e(s),B=j[0].children.Af,N=new j2;for(var a=0;
a<B.length;a++){var O=B[a],H=e(O);H.concat(_);var q=m(O);q.offset(H.W_,H.Rj);q=I.C.Ub(q);N=N.Z0(q)}n.push(N);
R=R.Z0(N)}while(Math.sqrt(R.P())*h<1e3)h++;o.m=R.m*h;o.J=R.J*h;o.buffer=new Uint8Array(4*o.m*o.J);o.qK=!0;
o.lC=Math.round(72*h);o.Ra(F.length);for(var Q=0;Q<F.length;Q++){var s=F[Q],j=s.children.Af,D=o.Sv();
D.de=24;D.add.lsct=aU.AY;D.yY("Artboard "+(Q+1));var T=n[Q].clone();T.offset(-R.x,-R.y);T.x*=h;T.y*=h;
T.m*=h;T.J*=h;T=I.C.Ub(T);D.bQ(T);D.fn="pass";o.M.push(o.b$());var _=e(s);_.translate(-R.x,-R.y);_.scale(h,h);
var p={};for(var y=0;y<j.length-1;y++){var b=j[y],g=b.children.Af,u=o.Sv(),t=b.layer.lopts;if(t.name=="Internal_pages_layer_name"||p[t.name])continue;
p[t.name]=!0;u.de=24;u.add.lsct=aU.AY;u.yY(t.name);u.fJ(t.show);if(t.ay1)u.add.lspf=1<<31;u.fn="pass";
o.M.push(o.b$());for(var Y=0;Y<g.length;Y++)S(g[Y],o,_,A);o.M.push(u)}o.M.push(D)}}function m(X){var o=X.rect;
return new j2(o[0],o[1],o[2]-o[0],o[3]-o[1])}function e(X){var o=X.transform;return new hN(o[0],o[1],o[2],o[3],o[4],o[5])}function z(X){var o=X.color,A=X.parentFill,F;
if(o==null&&A)o=A.color;if(o==null){console.log("strange color",X);return[0,0,0]}var P=o[0];if(P==5)F=o.slice(1);
else if(P==6)F=UDOC.C.cmykToRgb(o.slice(1));else if(P==7){var n=I.xQ(o[1],o[2],o[3]);F=[n.Z/255,n.r/255,n.e/255]}else if(P==14){F=o.slice(1);
console.log("unsure about the color")}else{console.log(o);throw P}return F}function L(X){var o=z(X);
return I.I.$q({Z:o[0]*255,r:o[1]*255,e:o[2]*255})}function l(X){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[X]}function x(X,o){var Y=0,A=0;
while(X[Y+1]&&A+X[Y][0]<=o){A+=X[Y][0];Y++}X=X[Y][1].textData;Y=0;while(X[Y+1]&&A+X[Y][0]<=o){A+=X[Y][0];
Y++}return X[Y]}function S(X,o,A,P){var F=X.transform?e(X):new hN;F.concat(A);var n=X.path,R=X.appearance,Q=X.visible,s=X.children?X.children.Af:null,j=o.Sv();
if(Q!=null)j.fJ(Q);var _=s&&s.length==1&&s[0].bitmapFill,B=X["bool2-1623"]&&s&&s.length==1&&s[0].rect&&s[0]._type.startsWith("TextFrame");
if(_){j.yY("bitmap");var N=s[0],a=m(N),O=e(N),T=null;O.concat(F);var H=N.bitmapFill.bitmap;H=P[H]._bin;
if(H.length!=H.buffer.byteLength)H=H.slice(0);if(H[0]==123){console.log("unknown bitmap format");return}var q=o.Mf(H,"img.jpg",0,0);
q.de=j.de;j=q;var h=[0,0,a.m,0,a.m,a.J,0,a.J];I.C.i(h,O,h);j.add.SoLd.Trnf=$.V.xN(h);j.add.SoLd.nonAffineTransform=$.V.xN(h);
j.g1(o,!1);var D=N.path;if(D&&D.length!=0)T=f(D,O,R);else if(n&&n.length!=0)T=f(n,F,R);if(T){var p=I.o.RP(T.$),y=I.C.OO(h);
if(p.P()/y.G_(p).P()>1.1){if(p.contains(y))T=null;var b=X.children;X.children=null;S(X,o,A,P);X.children=b}}if(T)j.add.vmsk=T;
j.tO();j.rH(o)}else if(B){if(R&&R.strokeSwatch){var g=o.Sv();k(g,o,R,n,F);o.M.push(g)}var u=s[0],a=m(u),O=e(u),ds=0;
O.concat(F);var t=u.children.Af[0],V=t.obj228,c=V[0].story[1],E=c.stoProps.aCc.relEnt,Z=c.stoProps.Af[0].relEnt,G=c.stoProps.Af[1]["ptrArrayX-210"][0].textData,J=P[E[0][1].textData[0][1].name[0]],K=J?J.styProps:{};
G=G.join("").replace(/\r/g,"\n");var M=-1;while((M=G.indexOf("\uFFFC"))!=-1){G=G.slice(0,M)+(G[M-1]=="\n"?" ":" ")+G.slice(M+1)}j.yY(G.slice(0,255));
j.add.lnsr="rend";j.add.TySh=e7._x(0,0);j.add.TySh.l$=a;j.add.TySh.i=O;var U=j.add.TySh.Wg;e7.cQ(U,0,G);
var r=e7.IF(U,0,G.length);r.hU.FontSize=10;e7.Bl(U,0,G.length,r);var dS=[];if(G.length!=0){var w=x(E,0),di=x(Z,0),eM=1;
for(var Y=1;Y<G.length;Y++){var n=x(E,Y),j5=x(Z,Y);if(n!=w||j5!=di){dS.push(eM);eM=0}w=n;di=j5;eM++}if(eM!=0)dS.push(eM)}for(var Y=0;
Y<dS.length;Y++){var ba=x(Z,ds),gH=dS[Y],ir=Math.min(ds+gH,G.length-1),iP=ba[2],iy=ba[1].styProps;if(iy==null)iy={};
var iG=x(E,ds),eg=iG[1].styProps,du=iG[2],gh={};for(var ga in K)gh[ga]=K[ga];for(var ga in eg)gh[ga]=eg[ga];
for(var ga in du)gh[ga]=du[ga];for(var ga in iy)gh[ga]=iy[ga];for(var ga in iP)gh[ga]=iP[ga];var r=e7.IF(U,ds,ir),d5=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],fu=d5.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var ay=0;ay<fu.length;ay++){var ga=fu[ay],c7=ay<d5.length?r.hU:r.t7;if(gh[ga]!=null)c7[ga]=gh[ga]}if(gh.fillColor){var eE=z(gh.fillColor);
r.hU.FillColor={Type:1,Values:[1].concat(eE)}}if(gh.font){var jn=gh.font.name[5],dI=gh.fontStyle;if(dI==null)dI="Regular";
for(var jo=0;jo<jn.length;jo++)if(jn[jo][0]==dI)e7.Ca(r,jn[jo][1])}if(gh.leading!=null&&gh.leading>1){r.hU.Leading=gh.leading;
r.hU.AutoLeading=!1}if(gh.align!=null)r.t7.Justification=[0,2,1,6,3,5,4,0,0,0][gh.align];e7.Bl(U,ds,ir,r);
ds+=gH}e7.k8(U,1);e7.N2(U,[0,0,Math.round(a.m),Math.round(a.J)])}else if(X._type.startsWith("Path")&&(s==null||s.length==0)&&n){k(j,o,R,n,F)}else{var hT=X["prop-14526"];
if(s==null&&hT){var ea=P[W.nO(hT,20)];s=[ea]}if(s){if(n&&n.length!=0){j.add.vmsk=f(n,F,R);j.tO();j.rH(o)}j.yY("group");
j.de=24;j.add.lsct=aU.AY;o.M.push(o.b$());for(var Y=0;Y<s.length;Y++)S(s[Y],o,F,P)}}if(R){var b9=R.objectBlendingMode,bI=R.objectOpacity,ii=R.fillTint,c4=!1;
if(b9)j.fn=l(b9[0]);if(bI)j.opacity=Math.round(j.opacity*bI[0]/100);if(!_&&ii)j.opacity=Math.round(j.opacity*ii[0]/100);
var d_=JSON.parse(jt.default);for(var Y=0;Y<jt.order.length;Y++)d_[jt.m8[Y]]={t:"VlLs",v:[]};var kG="dropShadow innerShadow satin bevel iglow oglow".split(" "),fC="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var Y=0;Y<kG.length;Y++){var bO=kG[Y];if(R[bO]&&R[bO][0]){var id=R[bO],eU=135,af=10;c4=!0;var a5=JSON.parse(jt.qx[jt.order.indexOf(fC[Y])]);
d_[jt.m8[jt.order.indexOf(fC[Y])]].v.push({t:"Objc",v:a5});if(R[bO+"Color"])a5.Clr.v=L(R[bO+"Color"][0]);
else if(kG[Y]=="iglow"||kG[Y]=="oglow")a5.Clr.v=I.I.$q({Z:255,r:255,e:255});if(R[bO+"ColorH"])a5.hglC.v=L(R[bO+"ColorH"][0]);
if(R[bO+"ColorS"])a5.sdwC.v=L(R[bO+"ColorS"][0]);if(R[bO+"BMode"])a5.Md.v.BlnM=aw.An(l(R[bO+"BMode"][0]));
if(R[bO+"BModeH"])a5.hglM.v.BlnM=aw.An(l(R[bO+"BModeH"][0]));if(R[bO+"BModeS"])a5.sdwM.v.BlnM=aw.An(l(R[bO+"BModeS"][0]));
if(R[bO+"Opacity"])a5.Opct.v.val=R[bO+"Opacity"][0];if(R[bO+"OpacityH"])a5.hglO.v.val=R[bO+"OpacityH"][0];
if(R[bO+"OpacityS"])a5.sdwO.v.val=R[bO+"OpacityS"][0];if(R[bO+"Size"])a5.blur.v.val=R[bO+"Size"][0];
if(R[bO+"Angle"])eU=R[bO+"Angle"][0];if(R[bO+"Dist"])af=R[bO+"Dist"][0];if(R[bO+"DX"]){var a7=R[bO+"DX"][0],g$=R[bO+"DY"][0];
af=Math.round(Math.sqrt(a7*a7+g$*g$));eU=Math.round(Math.atan2(g$,-a7)*180/Math.PI)}if(a5.lagl)a5.lagl.v.val=eU;
if(a5.Dstn)a5.Dstn.v.val=af;if(a5.uglg)a5.uglg.v=!1;if(R[bO+"Invert"])a5.Invr.v=R[bO+"Invert"][0];else if(kG[Y]=="satin")a5.Invr.v=!1;
if(R[bO+"Alt"])a5.Lald.v.val=R[bO+"Alt"][0];if(R[bO+"Depth"])a5.srgR.v.val=R[bO+"Depth"][0];if(R[bO+"Choke"])a5.Ckmt.v.val=R[bO+"Choke"][0]}}if(c4)j.add.lmfx=d_}if(X.name)j.yY(X.name);
else if(R&&R.name)j.yY(R.name[0]);o.M.push(j)}function k(X,o,A,P,F){X.yY("path");X.de|=16;X.add.vmsk=f(P,F,A);
var n=X.add.vstk=jt.lc.TQ(!0),R=null;if(A){var Q=A.strokeSwatch,s=A.fillSwatch,j=A.basicFeather,_=A.basicFeatherWidth,B=A.strokeWeight;
n.strokeEnabled.v=Q!=null;n.fillEnabled.v=s!=null;if(j)X.add.vmsk.JQ=_?_[0]:9;if(Q){n.strokeStyleLineWidth.v.val=B?B[0]:1;
R=L(Q[0]);n.strokeStyleContent.v.Clr.v=R}if(s){R=L(s[0])}}if(R)X.add.SoCo={classID:"null",Clr:{t:"Objc",v:R}};
X.tO();X.rH(o)}function f(X,o,A){var P=new cc.hF,F=P.$;for(var n=0;n<X.length;n++){var R=X[n],Q=R[0].length,s=R[1]==0,j=s?0:3;
F.push({type:j,length:Q,ay:0,pj:2,X0:0,QG:0});for(var Y=0;Y<Q;Y++){var _=R[0][Y],B=_[0],N=new b5(_[1],_[2]),a=new b5(_[3],_[4]),O=new b5(_[5],_[6]);
if(B==0||B==1)F.push({type:j+2,My:N,L:a,sP:O});else if(B==2)F.push({type:j+2,My:N,L:N,sP:N});else throw B}}I.o.Pa(F,o);
return P}return C}();var cZ=function(i){function C(l,x){var S=[];for(var Y=0;Y<9;Y++){var k=W.Q(l,x+Y*4);
if(Y%3==2)S.push((k>>>30)+(k&1073741823)/1073741823);else S.push((k>>>16)+(k&65535)/65535)}return S}function m(l,x,S,k){var f={},X=W.Q,o=W.vV;
while(x<S){var A=x,P=W.Q(l,x);x+=4;if(P==0){P=W.Q(l,x);x+=4}var F=W.Sq(l,x,4);x+=4;if(P==0)throw"e";
if(P==1){P=W.AR(l,x);x+=8}var n=A+P,R="".padStart(k,"\t"),Q={};if(F=="mvhd"){var s=l[x];if(s!=0)throw"e";
x+=4;Q.arf=X(l,x);x+=4;Q.al_=X(l,x);x+=4;Q.HA=X(l,x);x+=4;Q.duration=X(l,x);x+=4;Q.afP=X(l,x);x+=4;Q.volume=o(l,x);
x+=2;x+=10;Q.a9K=C(l,x);x+=4*9;Q.aAx=[];for(var Y=0;Y<6;Y++)Q.aAx.push(X(l,x+Y*4));x+=4*6;Q.a3c=X(l,x);
x+=4}else if(F=="tkhd"){var s=l[x];if(s!=0)throw"e";x+=4;Q.arf=X(l,x);x+=4;Q.al_=X(l,x);x+=4;Q.ayr=X(l,x);
x+=4;x+=4;Q.duration=X(l,x);x+=4;x+=8;Q.a=o(l,x);x+=2;Q.aw_=o(l,x);x+=2;Q.volume=o(l,x);x+=2;x+=2;Q.a9K=C(l,x);
x+=4*9;Q.HG=X(l,x)>>>16;x+=4;Q.bB=X(l,x)>>>16;x+=4}else if(F=="mdhd"){Q.de=X(l,x);x+=4;Q.arf=X(l,x);
x+=4;Q.al_=X(l,x);x+=4;Q.HA=X(l,x);x+=4;Q.duration=X(l,x);x+=4;Q.lang=o(l,x);x+=2;Q.Vs=o(l,x);x+=2}else if(F=="hdlr"){var j=X(l,x);
x+=4;if(j!=0)throw j;Q.rp=W.Sq(l,x,4);x+=4;Q.axU=W.Sq(l,x,4);x+=4;Q.ae2=X(l,x);x+=4;Q.de=X(l,x);x+=4;
Q.a5L=X(l,x);x+=4;var _=x;while(l[_]!=0)_++;Q.name=W.Sq(l,x,_-x);x+=_-x+1}else if(F=="stsd"){var j=X(l,x);
x+=4;if(j!=0)throw j;var B=X(l,x);x+=4;if(B!=1)throw B;var N=X(l,x);x+=4;Q.lo=W.Sq(l,x,4);x+=4;if(Q.lo=="mett"){Q.atR=W.Sq(l,x,n-x)}else{for(var Y=0;
Y<6;Y++)if(l[x+Y]!=0)throw"e";x+=6;Q.ast=o(l,x);x+=2;Q.a5n=o(l,x);x+=2;Q.alm=o(l,x);x+=2;Q.asN=X(l,x);
x+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ".split(",").indexOf(Q.lo)!=-1){Q.akK=X(l,x);x+=4;
Q.anO=X(l,x);x+=4;Q.a3Q=[o(l,x),o(l,x+2)];x+=4;Q.acU=[X(l,x)/(1<<16),X(l,x+4)/(1<<16)];x+=8;var a=X(l,x);
x+=4;if(a!=0)throw"e";var O=o(l,x);x+=2;if(O!=1)throw"e";var H=l[x];x++;Q.arX=W.Sq(l,x,H);x+=31;Q.asL=o(l,x);
x+=2;var q=o(l,x);x+=2;if(q!=65535)throw"e";if(x!=n)Q.azX=m(l,x,n,k+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(Q.lo)!=-1){Q.T3=o(l,x);
x+=2;Q.a6_=o(l,x);x+=2;var h=o(l,x);x+=2;if(h!=0&&h!=65534)throw h;var D=o(l,x);x+=2;if(D!=0)throw D;
Q.azi=X(l,x)/(1<<16);x+=4}else if(Q.lo=="CTMD"){Q.b=l.slice(x,n)}else if(Q.lo=="tx3g"||Q.lo=="text"||Q.lo=="mebx"){}else if(Q.lo=="tmcd"){}else if(Q.lo=="CRAW"){}else throw Q.lo}}else if(F=="stts"||F=="stsz"||F=="stco"||F=="stsc"||F=="ctts"){var j=X(l,x),T=0,y=0;
x+=4;if(j!=0)throw j;if(F=="stsz"){T=X(l,x);x+=4}var p=X(l,x)*(F=="stsc"?3:F=="stts"||F=="ctts"?2:1);
x+=4;Q=[];for(var Y=0;Y<p;Y++){if(T!=0)Q.push(T);else{Q.push(X(l,x));x+=4}}for(var Y=0;Y<p;Y++)y+=Q[Y]}else if(F=="co64"){var j=X(l,x);
x+=4;if(j!=0)throw j;var p=X(l,x);x+=4;Q=[];for(var Y=0;Y<p;Y++){Q.push(W.AR(l,x));x+=8}}else if(F=="moov"||F=="trak"||F=="mdia"||F=="minf"||F=="dinf"||F=="stbl"||F=="uuid"){if(F=="uuid")x+=16;
Q=m(l,x,n,k+1)}else if(F=="CMT1"||F=="CMT2"||F=="CMT3"||F=="CMT4"){Q=UTIF.decode(l.slice(x,n))}else{Q.F=x;
Q.Z_=P}x=n;if(F=="trak"||F=="free"||F=="uuid"){if(f[F]==null)f[F]=[];f[F].push(Q)}else{if(f[F]!=null)throw F;
f[F]=Q}}return f}function e(l){var x=new Uint8Array(l);return m(x,0,x.length,0)}function z(l,x,S){var k=L(l,x),f=k.mdia.minf.stbl,X=f.stsc,o=0,A=0;
for(var Y=0;Y<X.length;Y+=3){var P=(Y+3<X.length?X[Y+3]:1e4)-X[Y],F=A+P*X[Y+1];if(A<=S&&S<F){while(A+X[Y+1]<=S){o++;
A+=X[Y+1]}break}o+=P;A=F}var n=f.stco;if(n==null)n=f.co64;var R=n[o];while(A<S){R+=f.stsz[A];A++}return[R,f.stsz[S]]}function L(l,x){var S=l.moov.trak;
for(var Y=0;Y<S.length;Y++)if(S[Y].mdia.hdlr.axU==x)return S[Y]}return{uU:e,aeM:z,aCs:L}}(),$={};$.XP=function(i){return window.devicePixelRatio||1};
$.AE=function(i,C){return(C.a4w=="touch"?12:8)*$.XP()/i.q.U};$.KV=function(i,C,m){this.name=i;this.id=C;
this.Oe=null;if(m!=null)this.nX=m};$.KV.prototype.X4=function(i,C,m,e,z){};$.KV.prototype.enable=function(i,C,m,e,z,L){var l=new eX(v.E.H,!0);
l.data={d:v.B.TF,uu:"default"};C.T(l)};$.KV.prototype.disable=function(i,C,m,e,z){};$.KV.prototype.a6U=function(i,C,m,e,z){return!1};
$.KV.prototype.k7=function(i,C,m,e,z){};$.KV.prototype.SB=function(i,C,m,e,z){};$.KV.prototype.ct=function(i,C,m,e,z){};
$.KV.prototype.$d=function(i,C,m,e,z,L){};$.KV.prototype.mq=function(i,C,m,e,z){};$.KV.prototype.xC=function(i,C,m,e){};
$.KV.prototype.Bj=function(i,C,m,e){};$.KV.prototype.gT=function(i,C){};$.KV.prototype.qp=function(i,C){};
$.KV.prototype.Di=function(i){return 0};$.KV.prototype.Mp=function(i,C,m,e,z){};$.KV.prototype.P6=function(i,C){};
$.KV.prototype.Xu=function(i,C){return!1};$.KV.prototype.Ce=function(i,C){return!1};$.KV.prototype._$=function(){return!1};
$.KV.prototype.Xf=function(i,C){return!0};$.KV.prototype.nc=function(){return null};$.KV.prototype.Cd=function(i,C,m){};
$.KV.prototype.axi=function(){return!1};$.KV.prototype.NR=function(i,C,m,e){};$.KV.prototype.track=function(i){var C=new eX(v.E.HW,!0);
C.data=i;i.iO=!0;this.Oe.T(C)};$.KV.Pf=function(i,C,m,e){var z=10*$.XP()*(i.a4w=="touch"?2:1),L=i.x+z,l=i.y-z,x=I.up.Rd(C.m,m.lC,e,m.m,!0),S=I.up.Rd(C.J,m.lC,e,m.J,!0);
while(x.length<S.length)x=" "+x;while(x.length>S.length)S=" "+S;$.KV.lv(L,l,[bC.get([12,41]).charAt(0)+": "+x,bC.get([12,42]).charAt(0)+": "+S],m)};
$.KV.lv=function(i,C,m,e){function z(k,F,n,R,Q,s){k.beginPath();k.moveTo(F,n+s);k.arcTo(F,n+Q,F+s,n+Q,s);
k.arcTo(F+R,n+Q,F+R,n+Q-s,s);k.arcTo(F+R,n,F+R-s,n,s);k.arcTo(F,n,F,n+s,s)}var L=$.XP(),l=Math.round,x=l(11*L),S=$.KV.a6B,f=0;
if(S==null)S=$.KV.a6B=document.createElement("canvas");var k=S.getContext("2d");k.font=x+"px monospace";
for(var Y=0;Y<m.length;Y++)f=Math.max(f,k.measureText(m[Y]).width);var X=l(f+12*L),o=l((m.length*14+5)*L),A=new j2(i,C-o,X,o);
if(S.width!=X||S.height!=o){S.width=X;S.height=o;k.font=x+"px monospace"}k.clearRect(0,0,X,o);k.fillStyle="rgba(0,0,3,0.8)";
z(k,0,0,X,o,l(4*L));k.fill();k.fillStyle="rgba(255,255,255,1)";for(var Y=0;Y<m.length;Y++)k.fillText(m[Y],l(6*L),l((Y+1)*13*L));
var P=[k.getImageData(0,0,X,o).data,A.clone()];if(e)e.N.z9=[P];return P};$.KV.a6B=null;$.z_="0";$.iH="1";
$.amc="2";$.aqG="3";$.eA="5";$.aeN="6";$.aBh="7";$._T="8";$.zP="9";$.b7="10";$.Bo="11";$.$r="12";$.CG="13";
$.HD="14";$.ad$="15";$.kK="16";$.vZ="18";$.YY="19";$.asv="90";$.Cu="20";$.$D="21";$.J$="22";$.go="23";
$.nV="24";$.FE="25";$.Fm="27";$.sc="31";$.Wu="32";$.agg="33";$.t8="34";$.a52="35";$.vU="36";$.QR="37";
$.hE="38";$._u="39";$.Hl="40";$.GP="41";$.wJ="42";$.NB="43";$.aov="44";$.a05="45";$.apc="46";$.asp="72";
$.ck="47";$.IJ="48";$.iF="51";$.tP="52";$.C0="54";$.zQ="55";$.$t="56";$.mV="57";$.Ks="58";$.dq="59";
$.KM="60";$.BM="61";$.h9="70";$.arN="71";$.yn="100";$.Ta="101";$.m6="102";$.mB="103";$.g6="120";$.vR="230";
$.azN="231";$.Z9="232";$.bH="233";$.$Z="234";$.uz="235";$.IA="236";$.Jy={};$.Jy[$.go]="tools/brush";
$.Jy[$.nV]="tools/pencil";$.Jy[$.sc]="tools/eraser";$.zB={PcTl:$.nV,PbTl:$.go,moveTool:$.z_,cloneStampTool:$.Fm,typeCreateOrEditTool:$.ck,artboardTool:$.h9,marqueeRectTool:$.iH,typeVerticalCreateOrEditTool:$.IJ,perspectiveCropTool:$.Bo,marqueeEllipTool:$.amc,eyedropperTool:$.HD,eraserTool:$.sc,pathComponentSelectTool:$.iF,lassoTool:$.eA,backgroundEraserTool:$.Wu,directSelectTool:$.tP,polySelTool:$.aeN,rectangleTool:$.C0,magneticLassoTool:$.aBh,gradientTool:$.t8,quickSelectTool:$._T,bucketTool:$.a52,ellipseTool:$.zQ,magicWandTool:$.zP,blurTool:$.vU,polygonTool:$.$t,cropTool:$.b7,sharpenTool:$.QR,lineTool:$.mV,sliceTool:$.$r,smudgeTool:$.hE,customShapeTool:$.Ks,sliceSelectTool:$.CG,dodgeTool:$._u,spotHealingBrushTool:$.vZ,burnInTool:$.Hl,saturationTool:$.GP,penTool:$.wJ,redEyeTool:$.J$,freeformPenTool:$.NB,rulerTool:$.kK,paintbrushTool:$.go,handTool:$.dq,pencilTool:$.nV,zoomTool:$.BM,objectSelectTool:$.aqG,healingBrushTool:$.YY,patchTool:$.Cu,contentAwareMoveTool:$.$D,colorReplacementBrushTool:$.FE,curvaturePenTool:$.aov,rotareViewTool:$.KM};
$.N9=function(i,C,m){$.KV.call(this,i,C,m);this.DO={brush:i?iH.UD():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.os=null;this.lX=null;this.xH=null;this.IW=null;this.r7=null;this.G7=null;this.vr=null;this.wD=null;
this.zM=null;this.a_=null;this.c_=null;this.IB=null;this.Ii=null;this.gq=1;this.CB=!1;this.lm=null;this.caller=null};
$.N9.prototype=new $.KV;$.N9.prototype.Ce=function(i,C){return i.$G&&C.S(jD.$I)};$.N9.prototype.SB=function(i,C,m,e,z){if(e.S(jD.rb)){this.G7=new b5(z.x,z.y);
var L=this.DO.brush.Brsh.v,l=L.Dmtr.v.val,x=L.Hrdn!=null?L.Hrdn.v.val:-1;this.vr=[l,x,!0,JSON.parse(JSON.stringify(this.DO.brush)),z];
this.W8(m)}};$.N9.prototype.aD=function(i,C,m){var e=this.vr,z=i.q.U,L=m.x-e[4].x,l=m.y-e[4].y,x=e[0],S=e[1],k=Math.abs(L)>Math.abs(l);
if(k&&e[2]){var f=Math.round(2*L/z);x+=f;m.x-=L-.5*f*z}if(!k&&!e[2]&&S!=-1){var f=Math.round(.25*l);
S+=f;m.y-=l-4*f}x=Math.max(1,x);S=e[1]==-1?-1:Math.max(0,Math.min(100,S));var X=e[3];X.Brsh.v.Dmtr.v.val=x;
if(S!=-1)X.Brsh.v.Hrdn.v.val=S;this.vr=[x,S,k,X,m];var o=eY.Nh(X,C.iy.fT,z),A=o[1];A.x=Math.round(this.G7.x-A.m/2);
A.y=Math.round(this.G7.y-A.J/2);i.N.XR=[o];var P=i.q.yy(this.G7.x,this.G7.y);i.N.va={vL:[],gI:[P.x-x/2,P.y,P.x+x/2,P.y]};
if(S!=-1)i.N.va.gI.push(P.x+50/z,P.y-S/2,P.x+50/z,P.y+S/2);i.Qq=!0};$.N9.prototype.mq=function(i,C,m,e,z){if(this.id==$.Cu||this.id==$.$D)return;
if(this.G7){this.G7=null;this.js(JSON.parse(JSON.stringify(this.vr[3])));i.N.XR=[];i.N.va=null;i.Qq=!0;
return}var L=new eX(v.E.H,!0);L.data={d:v.B.Yo,f:this.id,axC:"showBrushOpts",If:new b5(z.Xy+4,z.UE)};
C.T(L)};$.N9.prototype.js=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.Mc,N5:dm.Vy,nE:i};this.caller.T(C)};
$.N9.WA=function(i,C,m,e,z,L){if(i==null)i="FrgC";if(C==null)C="norm";if(m==null)m=1;if(z==null)z=!1;
var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:i}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(m*100)}},PrsT:{t:"bool",v:z},Md:{t:"enum",v:{BlnM:aw.An(C)}}};
if(i=="Clr")l.Clr={t:"Objc",v:e};if(i=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(i=="Ptrn")l.Ptrn={t:"Objc",v:L};return{o0:"fill",t6:l}};$.N9.prototype.X4=function(i,C,m,e,z){this.Oe=C;
var L=m.Xk.length;if(L==0&&!m.KT())return;var l=L!=0?-1-m.Xk[0]:m.g[0],x=m.M[l];if(i.d=="fromAction"){var S=i.bG,k=S.t6;
if(k&&k.null&&k.null.v[0]&&k.null.v[0].v.classID=="Path"){var f=m.bM(),X=f[0],o=f[1],A=X[o.length==0?0:o[0]].add.vmsk;
if(S.o0=="fill"){var P=A.Re(),F=z.Dm,n=this.DO,R=F>>16&255,Q=F>>8&255,s=F>>0&255;this.fH(m,x,P,R,Q,s,Math.round(n.opacity*255),n.bmode,"Fill Path")}else{var j=k&&k.Prs&&k.Prs.v,_=JSON.stringify(this.DO.brush);
if(j)iH.a9t(this.DO.brush,[!1,!0]);for(var B=0;B<1e3;B++){var N=I.o.IY(A.$,B,!0);if(N==-1){this.$d(m,C,z,e,null);
break}var a=A.$[N],O=A.$.slice(N,N+1+a.length),H=I.C.BN(O,2).j,q=H.slice(0,8);for(var h=8;h<H.length;
h+=6)q.push(H[h-2],H[h-1],H[h],H[h+1],H[h+2],H[h+3],H[h+4],H[h+5]);var D={};D.Points=q;D.TextOnPathTRange=A.Gu.slice(0);
var D=bY.HE(D,2,a.type==3),T=D[0],p=m.q.ip(T[0],T[1]);if(j)p.s6=0;if(B==0)this.k7(m,C,z,e,p);else this.lX.moveTo(T[0],T[1]);
var y=T.length,b=a.type==0?y+2:y;for(var Y=2;Y<b;Y+=2){p=m.q.ip(T[Y%y],T[(Y+1)%y]);p.$G=!0;if(j){var g=Y/b;
p.s6=2*Math.min(g,1-g)}this.ct(m,C,z,e,p,this.DO.flow)}this.lX.finish();this.fl(m)}if(j)this.DO.brush=JSON.parse(_)}}else if(S.o0=="fill"){var u=k.PrsT?k.PrsT.v:!1,t=x?x.add.lspf:0;
if(u&&x){x.add.lspf=t==null?1:t|1}var V=(k.Opct?k.Opct.v.val:100)/100,c=k.Md?aw._A(k.Md.v.BlnM):"norm";
V=Math.round(255*V);var E=k.Usng.v.FlCn;if(E=="contentAware"||E=="aiHeal"){if(m.u==null){alert("Select an area to heal first.");
return}if(!m.KT())return;var Z=m.u;if(E=="aiHeal"&&!jJ.hW(m))return;this.hR(m);this.u4(m,0);if(E=="contentAware"){var G=I.R(Z.rect.P()*4);
I.uC(Z.channel,G,3);this.lQ(m,"sheal",G,Z.rect,Z.rect);this.Y(m,Z.rect);this.finish(m,Z.rect)}else{this.uS=m;
console.log(i);jJ.axm(!0,null,k.prmt?k.prmt.v:"empty background",m,this.a7I.bind(this),k.N5);alert("Processing ...",5e3)}}else if(E=="Ptrn"){var J=z.VN,K=m.u?m.u.rect.clone():new j2(0,0,m.m,m.J),M=I.R(K.P()*4);
k4._2(k,M,K,J,new b5(0,0));for(var Y=0;Y<M.length;Y+=4)M[Y+3]=V;this.Hz(m,x,m.u,M,c,[6,48,0,2])}else{var F;
if(E=="FrgC")F=z.Dm;else if(E=="BckC")F=z.yv;else if(E=="Blck")F=0;else if(E=="Wht")F=16777215;else if(E=="Gry")F=8421504;
else if(E=="Clr"){var U=I.I.oq(k.Clr.v);F=U.Z<<16|U.r<<8|U.e}var R=F>>16&255,Q=F>>8&255,s=F>>0&255;this.fH(m,x,m.u,R,Q,s,V,c,[2,3])}if(u&&x){x.add.lspf=t==null?0:t}}else if(S.o0=="delete"){var r=l<0?1:x.ii,Z=m.u,eM;
if(Z==null)return;var dS=l<0?m.T3[-l-1]:r<=0?null:r==1?x.Re():x.x6(m).X,K=r<=0?x.rect:dS.rect,w=r<=0?Z.rect.G_(K):Z.rect.clone();
if(w.bs())return;var di=w.P();if(r<=0){eM=I.R(di*4);I.fF(x.buffer,x.rect,eM,w)}else{eM=I.R(di);dS.extend(w);
I.Vo(dS.channel,dS.rect,eM,w)}if(0<=l&&x.y3(m,Z)){if(r<=0){I.eS(eM,0);I.fF(x.L5.zO,x.L5.dg,eM,w)}else{eM.fill(255);
I.Vo(x.L5.zO,x.L5.dg,eM,w)}}else{if(r<=0){var j5=I.R(eM.length>>2);I.Ud(eM,j5,3);I.l.wk(I.T9(Z.rect.P()),Z.rect,j5,w,Z.channel,w,1);
I.uC(j5,eM,3)}else{var ds=I.R(Z.rect.P()),R=z.yv>>>16&255,Q=z.yv>>8&255,s=z.yv>>0&255;ds.fill(Math.round(I.iw(R,Q,s)));
I.l.wk(ds,Z.rect,eM,w,Z.channel,w,1)}}this.jf(m,!0,[2,2],l,r,w,eM)}}if(i.d=="stroke"){var ba=i.aoE,Z=m.u;
if(Z==null){Z={rect:x.rect.clone(),channel:I.R(x.rect.P())};I.Ud(x.buffer,Z.channel,3)}var gH=k4.d_(ba),ir=$.Z3.anU(Z,Math.ceil(gH[0]),Math.ceil(gH[1])),F=I.I.oq(ba.Clr.v),R=Math.round(F.Z),Q=Math.round(F.r),s=Math.round(F.e);
this.fH(m,x,ir,R,Q,s,Math.round(255*ba.Opct.v.val/100),aw._A(ba.Md.v.BlnM),[14,9])}if(i.d=="fillBMP"){this.Hz(m,x,m.u,i.OV,i.Vq,i.jj)}if(i.d=="draw"){var iP=i.JK,iy=iP.rect;
this.hR(m);var iG=m.M[m.g[0]];if(i.a2r&&iG&&iG.ii<=0&&m.Xk.length==0){iy=$.a5.amd(iP,m);iG.buffer=iP.buffer.slice(0);
iG.rect=iy.clone()}else{var eg=this.DO.bmode,du=this.DO.opacity;this.DO.bmode="norm";this.DO.opacity=1;
this.lQ(m,"draw",iP.buffer,iy,iy.G_(new j2(0,0,m.m,m.J)));this.DO.bmode=eg;this.DO.opacity=du}this.Y(m,iy);
m.gZ=!0;this.finish(m,iy,i.jj,i.a2r)}};$.N9.prototype.a7I=function(i){var C=UPNG.decode(i.target.response),m=new Uint8Array(UPNG.toRGBA8(C)[0]),e=jJ.ku(this.uS),z=this.uS;
this.uS=null;this.lQ(z,"draw",m,e,e);this.Y(z,e);this.finish(z,e);jJ.Sm("remove")};$.N9.prototype.fH=function(i,C,m,e,z,L,l,x,S){var k=m==null?new j2(0,0,i.m,i.J):m.rect,f=l<<24|L<<16|z<<8|e<<0,X=I.R(k.P()*4);
I.eS(X,f);this.Hz(i,C,m,X,x,S)};$.N9.prototype.Hz=function(i,C,m,e,z,L){var l=i.Xk.length!=0?-1-i.Xk[0]:i.g[0],x=l<0?1:C.ii,S=l<0?i.T3[-1-l]:x<=0?null:x==1?C.Re():C.x6(i).X,k=x<=0?C.rect:S.rect,f=m==null?new j2(0,0,i.m,i.J):m.rect,X=m==null?I.R5(i.m*i.J):m.channel;
if(m!=null)I.z8(X,e);var o=f.P(),A=I.R(o*4);if(x<=0)I.fF(C.buffer,C.rect,A,f);else{S.extend(f);A.fill(255);
I.uM(S.Sz(f),A)}if(0<=l&&m&&C.y3(i,m)&&x<=0){var P=C.L5.D8,F=C.L5.D8.slice(0);if(x<=0)I.EP(e,F);else I.EP(fullc,F);
var n=new fw([2,3],this);n.data={d:"drawtemp",a:i.g[0],F$:x,abS:P,aA9:F};i.zN(n);this.gT(n.data,i)}else{if(x<=0){var R;
if(C.aG(0)){R=I.R(f.P());I.Ud(A,R,3)}I.l.Qv(z,e,f,A,f,f,1);if(C.aG(0))I.uC(R,A,3)}else{I.l.Qv(z,e,f,A,f,f,1);
var Q=I.R(o);I.Gt(A,Q);A=Q}this.jf(i,!0,L,l,x,f,A)}};$.N9.prototype.Xu=function(i){if(jD.cq.indexOf(i)!=-1)return!0;
return!1};$.N9.prototype.xC=function(i,C,m,e){var z=this.DO.brush,L=e.S(jD.rb),l=L!=this.CB,x=$.N9.c7(z,e);
if(x!=null)this.js(x);if(!e.S(jD.Uj)&&e.nK()!=-1){var S=jD.NX(Math.round(this.DO.opacity*100),e.nK())/100;
this.mY({opacity:S},C)}if(this.id==$._T&&l&&i!=null){var k=this.DO.qsmode;if(k==2)k=i.u==null?0:1;else k=2;
this.mY({qsmode:k},C)}this.CB=L;if(l){if(i)this.gq=i.q.U;this.W8(m,e)}};$.N9.c7=function(i,C){var m=i.Brsh.v.Dmtr.v.val,e=i.Brsh.v.Hrdn!=null?i.Brsh.v.Hrdn.v.val:-1,z=m,L=e,l=C.S(jD.$I);
if(C.S(jD.Gg)){if(l)e=25*Math.floor((e-1)/25);else{if(m<=10)m--;else if(m<=50)m=5*Math.floor((m-1)/5);
else if(m<=100)m=10*Math.floor((m-1)/10);else if(m<=200)m=25*Math.floor((m-1)/25);else if(m<=400)m=50*Math.floor((m-1)/50);
else m=100*Math.floor((m-1)/100)}}if(C.S(jD.yw)){if(l)e=25*Math.ceil((e+1)/25);else{if(m<10)m++;else if(m<50)m=5*Math.ceil((m+1)/5);
else if(m<100)m=10*Math.ceil((m+1)/10);else if(m<200)m=25*Math.ceil((m+1)/25);else if(m<400)m=50*Math.ceil((m+1)/50);
else m=100*Math.ceil((m+1)/100)}}m=Math.max(1,m);e=Math.max(0,Math.min(100,e));if(L==-1)e=-1;if(m!=z||e!=L){var x=JSON.parse(JSON.stringify(i));
x.Brsh.v.Dmtr.v.val=m;if(L!=-1)x.Brsh.v.Hrdn.v.val=e;return x}return null};$.N9.prototype.W8=function(i,C,m,e){if(i.iy.list.length==0)return;
var z=this.id,L;if((z==$.Fm||z==$.YY||z==$.go||z==$.nV)&&(C!=null&&C.S(jD.rb)||this.DO.alt[0]))L="crosshair";
else{var l=this.gq,x=this.DO.brush;if((z==$.Fm||z==$.YY)&&m&&this.IB&&this.IB.length==this.c_.P()*4){var S=m.q.yy(e.x,e.y),k=this.ag7(S),f=this.IB,X=this.c_,o=new j2(X.x+k.x,X.y+k.y,X.m,X.J),A=eY.Nh(x,i.iy.fT,l),P=A[0],F=A[1],n=Math.ceil(F.m/l),R=new j2(Math.round(S.x-n/2),Math.round(S.y-n/2),n,n),Q=I.R(R.P()*4),s,j;
I.fF(f,o,Q,R);if(l==1){s=Q;j=R}else{var _=new hN(l,0,0,l,0,0),B=$.V.eX([Q,R],_,!0);j=F.clone();j.x=B.rect.x;
j.y=B.rect.y;if(j.LJ(B.rect))s=B.buffer;else{s=I.R(j.P()*4);I.fF(B.buffer,B.rect,s,j)}}var N=this.DO.opacity/255;
for(var Y=0;Y<s.length;Y+=4)s[Y+3]=N*(P[Y+3]*s[Y+3]);eY.amI(new Uint32Array(s.buffer),j,4278190080,4294967295);
L={FY:s,TD:j,YG:new b5(j.m/2,j.J/2)}}else L=eY.Fi(x,i.iy.fT,l,z==$.FE||z==$.Wu)}var a=new eX(v.E.H,!0);
a.data={d:v.B.TF,uu:L};if(this.caller)this.caller.T(a)};$.N9.prototype.enable=function(i,C,m,e){this.os=m;
this.caller=C;this.js(JSON.parse(JSON.stringify(this.DO.brush)));if(i&&i.q.U!=0)this.gq=i.q.U;this.W8(m,e)};
$.N9.prototype.P6=function(i,C){if(C==dm.Vy){this.DO.brush=i.iy.n_;this.W8(i)}};$.N9.prototype.Mp=function(i,C,m,e,z){for(var L in i)this.DO[L]=i[L];
if(this.DO.alt[0])this.W8(z,e,m)};$.N9.prototype.aoK=function(i){var C=i.Xk.length!=0?-1-i.Xk[0]:i.g[0],m=i.M[C],e=C<0?1:m.ii,z=C<0?i.T3[-C-1]:e<=0?null:e==1?m.Re():m.x6(i).X,L=z?z.channel:m.buffer,l=(z?z.rect:m.rect).clone();
return[m,e,z,L,l]};$.N9.prototype.hR=function(i,C){this.Ii=i.u==null?null:{rect:i.u.rect.clone(),channel:i.u.channel.slice(0)};
var m=this.a_,e=this.aoK(i),z=e[0],L=e[1],l=e[2];this.a_=e[3];this.zM=e[4];var x=new j2(0,0,i.m,i.J),S=x.Z0(this.zM);
if((this.Bg()&&L<=0||S.LJ(this.zM))&&C!=!0){if(m&&m.length==this.a_.length){m.set(this.a_);this.a_=m}else this.a_=this.a_.slice(0)}else{if(l)l.extend(S);
else z.extend(S)}};$.N9.prototype.u4=function(i,C){var m=this.aoK(i),e=m[1],z=m[3],L=m[4],l=[z,L],x=C!=null?C:this.DO.sfrom;
if(e<=0&&x!=0){l[1]=new j2(0,0,i.m,i.J);l[0]=i.I6(x==1&&i.g[0]!=i.M.length-1?i.g[0]:null).slice(0)}this.c_=l[1].clone();
this.IB=l[0].slice(0)};$.N9.prototype.Vt=function(i,C,m,e,z,L){if(z.$G&&e.S(jD.rb)&&this.G7==null){if(L)this.t2=m.Dm;
var l=new eX(v.E.v,!0);l.f=$.HD;l.data={d:"pickhere",agI:z};C.T(l);var x=$.U3.a79(i,!1,!0,z,null,m.Dm,this.t2,1),l=new eX(v.E.H,!0);
l.data={d:v.B.TF,uu:x};C.T(l);return!0}return!1};$.N9.prototype._F=function(i,C,m,e,z,L){if(this.id!=$._T&&!i.KT(this.caller)){this.lX=null;
return}if(this.id!=$._T&&this.lX)return;this.hR(i);var l=new j2(0,0,i.m,i.J),x=null;if(L!=null){var S=i.Xk.length!=0?-1-i.Xk[0]:i.g[0],k=i.M[S],f=S<0?i.T3[-S-1]:k.ii<=0?null:k.ii==1?k.Re():k.x6(i).X;
x=I.R(l.P()*4);if(f)$.N9.yl(this.a_,this.zM,f.color,x,l);else I.fF(this.a_,this.zM,x,l)}var X=this.DO;
if(this.lX&&this.id==$._T&&X.qsmode!=0&&i.u!=null){}else{var o=C.Dm,A=C.yv;if(this.lm=="erase"){var P=o;
o=A;A=P}var F=this.id==$._T?this.zM:l;this.lX=new eY(X.brush,C.iy.fT,C.iy.bh,{Hh:z,on:L,a5D:X.smth*50/i.q.U,YR:this.id==$.nV||X.emode==1,a3:i.a3},o,A,F,x)}if(this.id==$._T){this.lX.apt(X.brush,X.qsmode==2?0:16777215)}var n=i.q.yy(e.x,e.y);
if(m.S(jD.$I)&&this.xH){var R=this.xH;this.lX.moveTo(R.x,R.y,e.s6);this.lX.lineTo(.001*R.x+.999*n.x,.001*R.y+.999*n.y,e.s6);
this.lX.lineTo(n.x,n.y,e.s6)}else this.lX.moveTo(n.x,n.y,e.s6);this.xH=n;this.IW=n.clone();this.r7=new fS(n,i.q.RQ)};
$.N9.prototype.Qy=function(i,C,m){if(i&&i.q.U!=0&&i.q.U!=this.gq){this.gq=i.q.U;this.W8(m)}};$.N9.prototype.Dy=function(i,C,m,e){if(this.lX==null)return;
var z=i.M[i.g[0]],L=i.q.yy(e.x,e.y),l=this.r7.BJ(L,m);if(l.LJ(this.xH))return 1;this.lX.lineTo(l.x,l.y,e.s6);
this.xH=l;if(this.id==$.Fm||this.id==$.YY){var x=this.jp(),S=11;x=i.q.ip(L.x-x.x,L.y-x.y);var k=S>>>1,f=new j2(Math.round(x.x)-k,Math.round(x.y)-k,S,S),X=I.R(f.P()*4);
I.eS(16777215);for(var Y=0;Y<S;Y++)X[(Y*S+k)*4+3]=X[(S*k+Y)*4+3]=255;i.N.z9=[[X,f]];i.Qq=!0}};$.N9.prototype.Bj=function(i,C,m,e){if(m.jw!=this.id)return;
if(this.id!=$._T||i==null)return;if(i.u==null||i.g[0]!=this.au1){this.au1=i.g[0];this.mY({qsmode:0},C)}};
$.N9.prototype.Y=function(i,C){if(i.Xk.length!=0){i.Qq=!0;return}var m=i.M[i.g[0]];if(C==null){C=this.lX.q1();
if(this.Bg()&&m.ii<=0)C=C.G_(this.zM)}var e=m.ii;if(e==1||e==3){var z=Math.round((e==1?m.Re():m.x6(i).X).JQ*2.4);
C=C.clone();C.sW(z,z)}if(C.bs())return;if(e<=0){m.Y(C)}if(e==1){m.Re().kL=!0;m.rH(i,C)}if(e==3){m.Y(C)}i.Y(i.root._M(C,i,i.g[0],!0))};
$.N9.prototype.$d=function(i,C,m,e,z){if(this.lX==null)return;this.lX.finish();if(this.id!=$.vZ&&this.id!=$.YY&&this.id!=$._T)this.fl(i);
if(this.id==$.Fm||this.id==$.YY){i.N.z9=[];i.Qq=!0}if(this.id==$._T){var L=i.u;i.u=this.Ii;var l=new eX(v.E.v,!0);
l.data={d:"setsel",jj:this.name,u:L};l.f=$.iH;C.T(l);if(this.DO.qsmode==0)this.mY({qsmode:1},C)}else{this.finish(i,this.lX.HK());
this.lX=null;this.wD=null}this.dir=0};$.N9.prototype.mY=function(i,C){for(var m in i)this.DO[m]=i[m];
var e=new eX(v.E.H,!0);e.data={d:v.B.Yo,f:this.id,bL:i};C.T(e)};$.N9.prototype.Bg=function(){var i=this.id;
return i==$._T||i==$.sc||i==$._u||i==$.Hl||i==$.GP||i==$.J$};$.N9.prototype.finish=function(i,C,m,e,z){var L=i.Xk.length!=0?-1-i.Xk[0]:i.g[0],l=i.M[L],x=L<0?1:l.ii,S=L<0?i.T3[-L-1]:x<=0?null:x==1?l.Re():l.x6(i).X,k=S?S.rect:l.rect,o;
if(this.Bg()||!k.LJ(this.zM)){if(S==null){if(this.Bg())l.gv();else{var f=C.Z0(this.zM),X=I.R(f.P()*4);
I.fF(l.buffer,l.rect,X,f);l.buffer=X;l.rect=f}}else S.gv();this.Y(i,k)}if(x<=0){o=I.R(C.P()*4);I.fF(this.a_,this.zM,o,C)}else{o=I.R(C.P());
o.fill(S.color);I.Vo(this.a_,this.zM,o,C)}this.jf(i,!1,m?m:this.name,L,x,C,o,e,z)};$.N9.prototype.jf=function(i,C,m,e,z,L,l,x,S){var k=l;
if(z>0){k=I.R(L.P()*4);$.N9.yl(l,L,0,k,L)}var f=new fw(m,this);f.data=[{a:e,F$:z,TD:L,Jg:k}];if(x)f.data.U5=[i.u,null];
if(S)f.data.U5=[this.Ii,i.u];i.zN(f);if(C)this.gT(f.data,i);else if(x)i.u=null;$.q7.aib(i,f.data)};$.N9.prototype.qp=function(i,C){this.aBF(i,C,!1)};
$.N9.prototype.gT=function(i,C){this.aBF(i,C,!0)};$.N9.prototype.Di=function(i){return $.q7.Di(i)};$.N9.prototype.aBF=function(i,C,m){if(i.d=="drawtemp"){var e=m?i.aA9:i.abS,z=C.M[i.a];
z.L5.D8=e;z.f_(C,0,0,C.u);z.Y();C.gZ=!0}else{$.q7.E3(C,i);if(i.U5){C.u=i.U5[m?1:0];C.Pm=!0}}C.Y()};$.N9.prototype.fl=function(i){this.lQ(i,this.lm,this.lX.yN(),this.lX.S8(),this.lX.q1());
this.Y(i)};$.N9.prototype.lQ=function(i,C,m,e,z){var L=this.DO,l=i.M[i.g[0]],x=i.Xk.length!=0?i.T3[i.Xk[0]]:l.ii<=0?null:l.ii==1?l.Re():l.x6(i).X,S=I.R(z.P()*4),k,f=l.aG(0);
if(x==null){if(this.id==$.$D&&C=="heal")I.fF(l.buffer,l.rect,S,z);else I.fF(this.a_,this.zM,S,z);if(f){k=I.R(z.P());
I.Ud(S,k,3)}}else{$.N9.yl(this.a_,this.zM,x.color,S,z)}if(i.u&&C!="qselect"){var X=z.G_(i.u.rect),o=I.R(X.P()*4);
if(C=="copy"){var A=I.R(X.P());I.Vo(i.u.channel,i.u.rect,A,X);I.fF(S,z,o,X);I.l.ZC(m,e,o,X,A,X,0,X,1,!1)}else{I.fF(m,e,o,X);
I.v0(i.u.channel,i.u.rect,o,X)}m=o;e=X}function P(R,iy){var eg=Math.max(iy.x,Math.min(iy.x+iy.m-1,R.x)),du=Math.max(iy.y,Math.min(iy.y+iy.J-1,R.y));
return new b5(eg,du)}if(C=="idraw"||C=="ierase"){if(this.wD==null)this.wD=I.R(this.zM.P());var F=this.DO.samp,n=this.os.yv,R=P(this.xH,z),Q=F==0?R:this.IW,s=Q.x,j=Q.y,_=$.Hi.Kl(this.a_,this.zM,[Q,new b5(s-2,j),new b5(s+2,j),new b5(s,j-2),new b5(s,j+2)]);
if(F==2)_=[[n>>>16&255,n>>>8&255,n>>>0&255,255]];var B=$.Hi.vv(S,z,R,_,this.DO.wconf),N=I.R(z.P());I.Vo(this.wD,this.zM,N,z);
I.CX.Z0(B,N,N);I.Vo(N,z,this.wD,this.zM);I.v0(N,z,m,e);C=C.slice(1)}if(C=="erase"&&($.q7.anq(i)!=16777215||x))C="draw";
if(C=="draw")I.l.Qv(L.bmode,m,e,S,z,z,L.opacity);else if(C=="erase"){var a=L.opacity;if(this.id==$.Wu)a=1;
var O=I.R(z.P()*4);I.fF(m,e,O,z);if(x==null){var H=I.R(z.P());I.Ud(O,H,3);I.Eg(H,a);I.Fb(H);I.v0(H,z,S,z)}else{I.eS(O,0,4278190080);
I.l.Qv("norm",O,z,S,z,z,a)}}else if(C=="clone"||C=="heal"){var q=this.jp(),h=this.c_.clone();h.offset(q.x,q.y);
var D=z.clone();D.sW(1,1);var T=I.R(D.P()*4),p=I.R(D.P());I.fF(m,e,T,D);I.Ud(T,p,3);I.eS(T,0);if(x==null){I.fF(this.IB,h,T,D);
var y=I.R(D.P());I.Ud(T,y,3);I.DD(y,p)}else $.N9.yl(this.IB,h,x.color,T,D);if(C=="clone"){I.uC(p,T,3);
I.l.Qv(L.bmode,T,D,S,z,z,L.opacity)}if(C=="heal"){var b=p.slice(0);I.round(b,20);var g=I.R(D.P()*4);
if(x==null)I.fF(this.a_,this.zM,g,D);else $.N9.yl(this.a_,this.zM,x.color,g,D);I.l.ZC(T,D,g,D,b,D,0,D,1,!1);
I.rT.hV(g,b,D);I.l.ZC(g,D,S,z,p,D,0,z,1,!1)}}else if(C=="dodge"||C=="burn"){var T=I.R(z.P()*4),V=1,c=0,E=0,Z=0;
I.fF(m,e,T,z);var u=z.P()*4,t=$.N9.XM;if(this.CB){if(C=="dodge")C="burn";else C="dodge"}var G=L.rng;
if(C=="dodge"){c=[1-V/2,1,1+V][G];E=[1,1/(1+V),1][G];Z=[V/2,0,0][G]}if(C=="burn"){c=[1/(1-V/2),1,1-V/2][G];
E=[1,1+V,1][G];Z=[-(V/2)/(1-V/2),0,0][G]}for(var Y=0;Y<u;Y+=4){var J=T[Y+3];S[Y+0]=t(S[Y+0],c,E,Z,J);
S[Y+1]=t(S[Y+1],c,E,Z,J);S[Y+2]=t(S[Y+2],c,E,Z,J)}}else if(C=="sponge"||C=="redeye"){var T=I.R(z.P()*4),p=I.R(z.P());
I.fF(m,e,T,z);I.Ud(T,p,3);I.EP(S,T);var K=L.smode;if(this.CB)K=1-K;var M=ft.TQ("hue2");if(C=="sponge")jK.gH(M,0,[0,[-50,46][K],[6,5][K]]);
else jK.gH(M,1,{kl:[265,305,25,55],Ih:[0,-90,-70]});var U=fp.QV("hue2",M);fp.ny(U,T,T,z);I.l.ZC(T,z,S,z,p,z,0,z,1,!1)}else if(C=="copy")I.fF(m,e,S,z);
else if(C=="sheal"){var T=I.R(z.P()*4),p=I.R(z.P());I.fF(m,e,T,z);I.Ud(T,p,3);T.fill(0);var r=this.IB,dS=this.c_;
if(x){r=I.R(dS.P()*4);$.N9.yl(this.IB,dS,0,r,dS)}else if(l.Re()&&l.Re().isEnabled){var w=l.Re(),di=I.R(w.rect.P()*4);
I.fF(r,dS,di,w.rect);I.uC(w.channel,di,3);r=di;dS=w.rect}var eM=I.T5.hV(r,dS,p,T,z);if(eM!=0)I.fF(r,dS,T,z);
if(this.DO.sfrom==0)I.fF(T,z,S,z);else{I.fF(this.a_,this.zM,S,z);I.uC(p,T,3);I.l.Qv("norm",T,z,S,z,z,1)}}else if(C=="qselect"){var j5=this.zM,ds=j5.m,ba=j5.J,gH=ds*ba,ir=this.lX.yN(),_=this.a_,iP=$.Z3.Dv,p=iP.L6;
p.fill(128);for(var Y=0;Y<gH;Y++){var iy=ir[Y<<2],iG=ir[(Y<<2)+3];if(iG==255&&(iy==0||iy==255))p[Y]=iy}p[0]=p[ds-1]=0;
p[(ba>>>1)*ds]=p[(ba>>>1)*ds+ds-1]=0;$.Jj.qf(iP,!0,i);i.u={rect:j5,channel:iP.u.slice(0)};i.Pm=!0}if(x==null){if(f)I.uC(k,S,3);
I.fF(S,z,l.buffer,l.rect)}else $.N9.jd(S,z,x)};$.N9.jp=function(){return null};$.N9.XM=function(i,C,m,e,z){var L=i*(1/255),l=e+C*Math.pow(L,m),x=Math.round(l*z+L*(255-z));
return Math.max(0,Math.min(255,x))};$.N9.yl=function(i,C,m,e,z){var L=I.R(z.P());L.fill(m);I.Vo(i,C,L,z);
e.fill(255);I.uM(L,e)};$.N9.jd=function(i,C,m){var e=I.R(C.P());I.Gt(i,e);I.Vo(e,C,m.channel,m.rect)};
$.Z3=function(i,C,m){$.KV.call(this,i,C,m);this.DO={binop:0,feat:0,cstr:{me:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.XQ=new b5(-1,-1);this.Nx=new b5(-1,-1);this.oJ="default";this.Oe=null;this.Xi=!1;this.yQ=new is;
this.uP=!1;this.RD=null;this.IS=null;this.kZ=!1;this.Zf=!1};$.Z3.prototype=new $.KV;$.Z3.prototype.nc=function(){var i=this.DO,C=[i.binop,i.feat],m=i.wconf,e=m.join(",")=="16,true,true";
if(C[0]==0&&C[1]==0&&e)return null;if(!e)C.push(m);return C};$.Z3.prototype.Cd=function(i,C,m){var e=this.DO;
if(i[0])e.binop=i[0];if(i[1])e.feat=i[1];if(i[2])e.wconf=i[2];this.PM(m)};$.Z3.prototype.PM=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.Yo,f:this.id,DO:this.DO};i.T(C)};$.Z3.Dv={key:""};$.Z3.YA=function(i,C,m){var e={o0:i,t6:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(C)e.t6.T=C;if(m!=null)e.t6.AntA={t:"bool",v:m};return e};$.Z3.ZQ=function(i,C,m){return $.Z3.YA("set",{t:"Objc",v:{classID:i,Top:{t:"UntF",v:{type:"#Pxl",val:C.y}},Left:{t:"UntF",v:{type:"#Pxl",val:C.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:C.y+C.J}},Rght:{t:"UntF",v:{type:"#Pxl",val:C.x+C.m}}}},m)};
$.Z3._V=function(i,C,m){var e=[],z=[],l="set";for(var Y=0;Y<i.length;Y+=2){e.push(i[Y]);z.push(i[Y+1])}var L={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:e},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:z}]}}}};
if(C)l=["set","addTo","subtractFrom","interfaceWhite"][C];return $.Z3.YA(l,L,m)};$.Z3.anQ=function(i,C,m){var e={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:i.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:i.y}}}},z=$.Z3.YA("set",e);
z.t6.Tlrn={t:"long",v:C[0]};z.t6.AntA={t:"bool",v:C[1]};z.t6.Cntg={t:"bool",v:C[2]};if(m==!0)z.t6.Mrgd={t:"bool",v:m};
return z};$.Z3.BT=function(i){return $.Z3.YA("set",{t:"enum",v:{Ordn:i?"Al":"None"}})};$.Z3.th=function(i,C,m){var e={classID:"null"};
if(i!="border")e.selectionModifyEffectAtCanvasBounds={t:"bool",v:m};var z={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[i[0]];
e[z]={t:"UntF",v:{type:"#Pxl",val:C}};return{o0:i,t6:e}};$.Z3.vz=function(i,C,m){var e={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:C}}]};
if(m)z.v.push({t:"name",v:{classID:"Lyr",val:m}});var L=[{classID:"null",null:e,T:z},{classID:"null",null:z,T:e},{classID:"null",null:z,From:e},{classID:"null",null:z,With:e}],l=["set","add","subtract","interfaceIconFrameDimmed"];
return{o0:l[i],t6:L[i]}};$.Z3.akQ=function(i,C){var m=new eX(v.E.H,!0);m.data={d:v.B.Mc,N5:dm.e$};if(!C.B4)i.T(m);
m.data={d:v.B.Mc,N5:dm.bu};if(!C.Cv.o4)i.T(m)};$.Z3.prototype.X4=function(i,C,m,e,z){$.Z3.akQ(C,z);this.Oe=C;
var L=i.d,l,x,S=new j2(0,0,m.m,m.J),d_=!1,c4,kG,fC,bO;if(L=="fromAction"){var k=i.bG,f=k.o0,X=k.t6,o=X?X.selectionModifyEffectAtCanvasBounds:null,A=o&&o.v;
if(f=="colorRange"){if(X.Clrs){var P=X.Clrs.v.Clrs,F=0,n=255,R=["Shdw","Mdtn","Hghl"].indexOf(P),_=.4;
if(R==0)n=60;else if(R==1){F=100;n=150}else F=190;var Q=["shadows","midtones","highlights"][R],s=X[Q+"LowerLimit"],j=X[Q+"UpperLimit"];
if(s)F=s.v;if(j)n=j.v;var B=X[Q+"Fuzziness"];if(B)_=B.v/100;l=$.Z3.uW(m,F,n,_,!0)}else{var F=X.Mnm.v,n=X.Mxm.v,_;
F={nJ:F.Lmnc.v,W:F.A.v,e:F.B.v};n={nJ:n.Lmnc.v,W:n.A.v,e:n.B.v};_=X.Fzns.v/200;l=$.Z3.uW(m,F,n,_)}x=[7,8]}else if(f=="inverse"){if(m.u==null){alert("No selection!");
return}l={channel:I.R(S.P()),rect:S};I.Vo(m.u.channel,m.u.rect,l.channel,l.rect);I.Fb(l.channel);x=[7,2]}else if(f=="expand"){var N=X.By.v.val,a=m.u.rect.clone();
a.sW(N,N);var O=I.R(a.P()),H=I.R(a.P());I.Vo(m.u.channel,m.u.rect,H,a);I.style.stroke(H,O,a,N);l={channel:O,rect:a};
x=[7,4]}else if(f=="contract"){var N=X.By.v.val,q=m.u.rect.clone();q.sW(1,1);if(!A)q=q.G_(S);var H=I.R(q.P()),h=I.R(H.length);
I.Vo(m.u.channel,m.u.rect,H,q);I.Fb(H);I.style.stroke(H,h,q,N);I.Fb(h);l={channel:h,rect:q};I.gv(l);
x=[7,5]}else if(f=="border"){var N=X.Wdth.v.val;l=$.Z3.anU(m.u,N/2,N/2);x=[7,9]}else if(f=="feather"||f=="smoothness"){var N=X.Rds.v.val;
l=$.Z3.aob(m.u,N,f=="smoothness",S,A);x=f=="feather"?[7,6]:[19,3,0]}else if(f=="move"){var D=X.T.v,a=m.u.rect.clone();
a.x+=D.Hrzn.v.val;a.y+=D.Vrtc.v.val;l={channel:m.u.channel,rect:a};x=[7,7]}else if(f=="grow"||f=="similar"){var T=this.DO.wconf.slice(0);
if(X.Tlrn)T[0]=X.Tlrn.v;T[2]=f=="grow";var p=m.I6(),y=new j2(0,0,m.m,m.J),b=m.u.rect,g=Math.round(Math.sqrt(b.P())/10),u=I.R(y.P());
I.Vo(m.u.channel,b,u,y);var t=[];for(var V=0;V<b.J;V+=g)for(var c=(b.P()+V)%g;c<b.m;c+=g)if(m.u.channel[V*b.m+c]==255){var E=new b5(b.x+c,b.y+V);
t.push(E);if(T[2])I.CX.Z0($.Hi.vv(p,y,E,null,T),u,u)}if(!T[2])I.CX.Z0($.Hi.vv(p,y,E,$.Hi.Kl(p,y,t),T),u,u);
l={channel:u,rect:y};x=f=="grow"?"Grow Selection":"Similar Selection";console.log(X)}else{var Z=X.null.v,G=X.AntA!=null&&X.AntA.v;
function J(dA){var e9=dA.Top.v.val,eU=dA.Left.v.val;return new j2(eU,e9,dA.Rght.v.val-eU,dA.Btom.v.val-e9)}function K(dA){var e9=dA[0].arr,eI=dA[1].arr,d9={j:[],G:[]};
for(var Y=0;Y<e9.length;Y++){d9.G.push(Y==0?"M":"L");d9.j.push(e9[Y],eI[Y])}d9.G.push("Z");return d9}var M=["set","addTo","subtractFrom","interfaceWhite"].indexOf(f),U=X.T?X.T.v:null;
if(U&&U.classID=="Elps"){l=this.akz($.Tq.azw(J(U)));x=[10,4]}else if(U&&U.classID=="Rctn"){var r=J(U);
l={channel:I.R(r.P()),rect:r.clone()};l.channel.fill(255);x=[10,15]}else if(U&&U.classID=="ObSl"){var r=J(U),dS=$.Z3.Dv,w=dS.rect,di=dS.L6,eM=w.m,j5=w.J,ds=r.x-w.x,ba=ds+r.m-1,gH=Math.max(ds,Math.min(ba,ds+ba>>>1)),ir=r.y-w.y,iP=ir+r.J-1,iy=Math.max(ir,Math.min(iP,ir+iP>>>1)),iG=Math.max(ds,0),eg=Math.min(ba,eM),du=Math.max(ir,0),gh=Math.min(iP,j5);
di.fill(128);if(0<=ir)for(var c=iG;c<eg;c++)di[ir*eM+c]=0;if(iP<j5)for(var c=iG;c<eg;c++)di[iP*eM+c]=0;
if(0<=ds)for(var V=du;V<gh;V++)di[V*eM+ds]=0;if(ba<eM)for(var V=du;V<gh;V++)di[V*eM+ba]=0;var ga=$.B8.a4v,d5=Math.round(r.m*ga),fu=Math.round(r.J*ga);
for(var c=Math.max(0,gH-d5);c<Math.min(eM,gH+d5);c++)di[iy*eM+c]=255;for(var V=Math.max(0,iy-fu);V<Math.min(j5,iy+fu);
V++)di[V*eM+gH]=255;$.Jj.qf(dS,!0);l={channel:dS.u.slice(0),rect:w.clone()};x=[10,44]}else if(U&&U.classID=="Plgn"){l=this.akz(K(U.Pts.v.arr));
x=[10,9]}else if(U&&U.classID=="Pnt"){l=$.Hi.a37(m,new b5(U.Hrzn.v.val,U.Vrtc.v.val),[X.Tlrn.v,G,X.Cntg==null||X.Cntg.v],X.Mrgd?X.Mrgd.v:!1);
x=[10,12]}else if(U&&U.Ordn=="None"){l=null;x=[7,1]}else if(U&&U.Ordn=="Al"){var ay=S;if(m.g.length!=0){var c7=m.root.zD(m.g[0]);
while(c7.parent&&c7.parent.parent)c7=c7.parent;if(c7.a.add.artb)ay=c7.a.d3()}l={channel:I.R(ay.P()),rect:ay};
l.channel.fill(255);x=[7,0]}else if(U&&U[0]&&U[0].v.keyID=="WrPt"){var eE={d:"frompath",BR:[-1,0,0]};
this.X4(eE,C,m,e,z);return}else{var jn=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(f),dQ=f=="set"?U:Z,jo=dQ[0].v.enum,eE;
if(jo=="Trsp"||jo=="Msk"||jo=="vectorMask"||jo=="Trgt"){var hT=m.g[0];if(dQ.length==2)hT=h3.Yk(m,dQ[1]);
var ea=["Trsp","Msk","vectorMask"].indexOf(jo);if(jo=="Trgt"&&m.M[hT].ii==1)ea=1;eE={d:"fromlayer",BR:[hT,ea,jn]}}else{if(dQ[0].t=="name"){var hT=0;
for(var Y=0;Y<m.T3.length;Y++)if(m.T3[Y].name==dQ[0].v.val)hT=Y;eE={d:"fromchannel",BR:[-5-hT,0,jn]}}else{var b9=["RGB","Rd","Grn","Bl"].indexOf(jo);
eE={d:"fromchannel",BR:[-1-b9,0,jn]}}}this.X4(eE,C,m,e,z);return}if(l){if(!G)I.round(l.channel);if(X.Fthr)l=$.Z3.aob(l,X.Fthr.v.val,!1);
if(f!="set"&&m.u!=null)l=I.CX.pG(l,m.u,M)}}if(f=="expand"||f=="contract")if(!A&&!S.contains(l.rect)){var bI=l.rect.G_(S),ii=I.R(bI.P());
I.Vo(l.channel,l.rect,ii,bI);l.channel=ii;l.rect=bI}}if(L=="qmask"){d_=!0;var id=m.Ex(),y=new j2(0,0,m.m,m.J);
if(id){l=id.rect.LJ(y)&&I.Sx(id.channel,255)?null:{rect:id.rect.clone(),channel:id.channel.slice(0)};
c4=id}else{l=null;kG=new cc.o7;kG.color=0;kG.name="Quick Mask";kG.S0=!0;if(m.u){kG.rect=m.u.rect.clone();
kG.channel=m.u.channel.slice(0)}else{kG.rect=y;kG.channel=I.R(kG.rect.P());kG.channel.fill(255)}}x=[6,6,1];
m.gZ=!0}if(L=="setsel"){l=i.u;x=i.jj}if(L=="crange"){var F=i.lB,n=i.rF;l=$.Z3.uW(m,F,n,i.Nv);x=[7,8]}if(L=="fromlayer"||L=="fromchannel"||L=="frompath"){var a5=i.BR[0],ea=i.BR[1],M=i.BR[2];
if(L=="fromlayer"){if(a5==null)a5=m.g[0];var eU=m.M[a5];if(ea==0){var af=eU.rect,a7=eU.buffer;if(af.bs())return;
var g$=I.R(a7.length>>>2);I.Ud(a7,g$,3);l={channel:g$,rect:af.clone()}}else{if(eU.X==null)eU.rH(m);var cg=ea==1?eU.Re():eU.X;
l=$.Z3.acL(cg,S)}this.track($.Z3.vz(M,["Trsp","Msk"][ea],eU.getName()))}else if(L=="frompath"){var cC=m.bM(),kF=cC[1],cC=cC[0],fX=!0;
if(a5==null)if(cC.length==0||kF.length==0)return;var am=cC[kF[0]];if(a5!=null)for(var Y=0;Y<cC.length;
Y++)if(cC[Y].h6==a5)am=cC[Y];var cg=am.add.vmsk.Re(),cJ=cg.S8();if(cJ.P()==0)return;var g$=cg.cD();if(i.BR[3]!=null)fX=i.BR[3];
if(!fX){g$=g$.slice(0);I.round(g$)}fC=[JSON.stringify(m.ft),JSON.stringify(m.Ep)];bO=["[]","[]"];m.ft=[];
m.Ep=[];l={channel:g$,rect:cJ}}else{if(a5==null)a5=$.Z3.ac6(m);l=$.Z3.a8Q(m,a5)}if(M!=0&&m.u)l=I.CX.pG(l,m.u,M);
x=[14,11]}if(L=="bgrm"){var hP=window.locStor.getItem("bgrmt"),kx=60;if(hP==null)hP=0;var f2=$.Z3.aAa.bind([m,C,i]),gt=Math.floor((Date.now()-hP)/1e3);
if(!a8.md()&&gt<kx){var iD="Non-Premium users can use it once in "+kx+" seconds ("+(kx-gt)+" sec remain). Watch a short ad and skip waiting?";
hQ.bI(f2,iD,"rmbg")}else f2();return}if(l!=null&&I.Sx(l.channel,0)){l=null;x=[7,1]}if(l)I.gv(l);var eb=new fw(x,this);
eb.data={d:"changesel",u:l,Ex:d_,aD_:c4,ano:kG,Al:fC,a6F:bO};m.zN(eb);this.gT(eb.data,m)};$.Z3.aAa=function(){var i=this[0],C=this[1],m=this[2],e=i.M[i.g[0]],z=e.rect,L=e.buffer,l=1,X="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)666`+'$T}MSVH?o:ja2.`Z%$PyHt =o<g8bdjbSTL}Jqtk;hj3NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
while(Math.max(z.m,z.J)>4096){var x=I.r_(L,z);z=x.rect;L=x.S2;l*=2}var S=i$.AL("png"),k=i$.AL("jpg"),f=k.B3([[L.buffer]],z.m,z.J);
X=JSON.parse(ch.wq(X));var z=new XMLHttpRequest;z.open("POST",X[0]);z.setRequestHeader(X[1],X[2]);z.setRequestHeader(X[3],X[4]);
var o=new FormData;o.append("image",new Blob([f],{type:"ima"+"ge/j"+"pg"}));z.send(o);alert(bC.get([23,5])+" ...",2800);
z.onload=function(A){var P=JSON.parse(A.target.response),F=P.results[0].entities[0].image,n=i$.yk(F),F=S.pX(n)[0],R=F.Jw,Q=I.R(R.P());
I.Gt(new Uint8Array(F.data),Q);for(var Y=0;Y<Q.length;Y++){if(Q[Y]>250)Q[Y]=255}if(l!=1){var x=$.V.P1([Q,R],new hN(l,0,0,l,0,0));
R=x.rect;Q=x.channel}R.x=e.rect.x;R.y=e.rect.y;var s=new eX(v.E.v,!0);if(m.b==1){s.f=$.bH;s.data={d:cc.XE,TA:X[5],agT:!0};
C.T(s);var j=e.Re();j.color=0;j.rect=R;j.channel=Q;j.gv();e.rH()}else if(m.b==2){s.f=$.iH;s.data={d:"setsel",u:{channel:Q,rect:R},jj:"Select Subject"};
C.T(s)}else throw"e";a8.event("rembg_Rem"+"ove B"+"G:  "+(a8.md()?"Pre"+"mium":"Free"));window.locStor.setItem("bgrmt",Date.now())}};
$.Z3.ac6=function(i){var C=0;if(i.Xk.length!=0)C=-5-i.Xk[0];else if(JSON.stringify(i.q.O)=="[1,1,1]")C=-1;
else C=-2-i.q.O.indexOf(1);return C};$.Z3.a8Q=function(i,C){var m,e=new j2(0,0,i.m,i.J);if(-5<C&C<0){var z=-C-1,L=i.I6(),l=I.R(e.P());
if(z==0)I.Gt(L,l);else I.Ud(L,l,z-1);m={channel:l,rect:e.clone()}}if(C<-4){m=$.Z3.acL(i.T3[-C-5],e)}return m};
$.Z3.acL=function(i,C){var m,e;if(i.oq()==0){e=i.S8().clone();if(e.P()==0)return;m=i.cD()}else{e=C;m=I.R(e.P());
i.Hp(e,m)}return{channel:m,rect:e}};$.Z3.prototype.Ce=function(i){return this.uP||i.$G&&this.id!=$.eA};
$.Z3.prototype.Hq=function(i,C,m){var e=new eX(C,!0);e.data=m;i.T(e)};$.Z3.prototype.asq=function(i,C){var m=new eX(v.E.H,!0);
m.data={d:v.B.TF,uu:C};i.T(m)};$.Z3.prototype.S8=function(i,C,m){C=i.u==null||this.yQ.Dg(1)||this.yQ.Bh(1)?C:null;
var e=this.XQ,z=this.Nx;if(m){e.x=Math.max(0,Math.min(i.m,e.x));e.y=Math.max(0,Math.min(i.J,e.y));z.x=Math.max(0,Math.min(i.m,z.x));
z.y=Math.max(0,Math.min(i.J,z.y))}var L=$.P0.Tk(e,z,C,!0,this.DO.cstr),l=L[0].x,x=L[0].y,S=new j2(l,x,L[1].x-l,L[1].y-x);
if(m){S.x=Math.max(S.x,0);S.y=Math.max(S.y,0)}return S};$.Z3.prototype.k7=function(i,C,m,e,z){this.Zf=!0;
if(this.hx())return;this.Oe=C;this.Xi=!1;this.yQ.k7(e);this.XQ=i.q.yy(z.x,z.y);this.XQ=$.a8.qG(i,this.XQ,m);
if(this.aDa(i,this.XQ,e)){this.uP=!0;this.RD=i.u.rect.clone();return}this.MU(i,m,e,z);i.q.Bt=new j2};
$.Z3.prototype.aDa=function(i,C,m){var e=m.S(jD.$I),z=m.S(jD.rb);if(i.u&&!e&&!z&&this.DO.binop==0)return I.Gl(C,i.u.channel,i.u.rect);
return!1};$.Z3.prototype.ct=function(i,C,m,e,z){this.Oe=C;if(this.kZ)return;var L=i.q.yy(z.x,z.y);if(b5.qM(this.XQ,L)*i.q.U>5){this.Xi=!0;
this.yQ.ct()}if(e.S(jD.uE)){if(this.IS==null)this.IS=new b5(L.x-this.XQ.x,L.y-this.XQ.y);this.XQ.x=L.x-this.IS.x;
this.XQ.y=L.y-this.IS.y}else this.IS=null;this.Nx=L;if(!this.uP&&this.id!=$.eA)this.Nx=$.a8.qG(i,this.Nx,m);
if(this.aDa(i,this.Nx,e))this.asq(C,"move");else this.asq(C,this.oJ);if(this.uP){var l=this.RD.clone();
l.x+=this.Nx.x-this.XQ.x;l.y+=this.Nx.y-this.XQ.y;var x=$.a8.DY(i,l,m);i.u.rect.x=Math.round(this.Nx.x-this.XQ.x+this.RD.x+x[0]);
i.u.rect.y=Math.round(this.Nx.y-this.XQ.y+this.RD.y+x[1]);i.Pm=!0;$.a8.Yr(i,l,x);return}this.bz(i,m,e,z,C);
if(i.q.Bt)i.q.Bt=this.S8(i,e)};$.Z3.prototype.hx=function(){return!1};$.Z3.prototype.$d=function(i,C,m,e,z,L){var l=this.Zf;
this.Zf=!1;if(L||!l)return;i.q.Bt=null;this.Nx=i.q.yy(z.x,z.y);this.Nx=$.a8.qG(i,this.Nx,m);if(this.uP){this.uP=!1;
if(i!=null&&i.N.Bd){i.N.Bd=null;i.Qq=!0}if(this.Nx.LJ(this.XQ)&&this.fI()==0){this.Hq(C,v.E.HW,$.Z3.BT());
return}this.aak(i,this.RD,i.u.rect.clone());return}this.f9(i,m,e,z,C);$.Z3.akQ(C,m);this.yQ.$d();this.or(C)};
$.Z3.prototype.aak=function(i,C,m){var e=i.$K();if(e!=null&&e.f==this&&e.data.d=="movesel"){}else{e=new fw([7,7],this);
e.data={d:"movesel",Rc:C};i.zN(e)}e.data.YC=m;this.gT(e.data,i)};$.Z3.prototype.SB=function(i,C,m,e,z){this.kZ=!0};
$.Z3.prototype.mq=function(i,C,m,e,z){var L=new eX(v.E.H,!0);L.data={d:v.B.Yo,f:this.id,Es:z,xn:i,p7:m};
C.T(L);this.kZ=!1};$.Z3.prototype.xC=function(i,C,m,e){this.yQ.xC(e);if(i!=null&&i.u!=null){var z=e.PD();
if(z.x!=0||z.y!=0){var L=i.u.rect.clone();L.x+=z.x;L.y+=z.y;this.aak(i,i.u.rect.clone(),L)}}this.or(C)};
$.Z3.prototype.or=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.Yo,f:this.id,yE:this.fI()};i.T(C)};
$.Z3.prototype.fI=function(){var i=this.yQ.Dg(0),C=this.yQ.Bh(0);return $.Z3.WQ(this.DO.binop,i,C)};
$.Z3.WQ=function(i,C,m){if(C)i=1;if(m)i=2;if(C&&m)i=3;return i};$.Z3.prototype.finish=function(i,C,m,e){var z=i.u,L=this.getSelection(i,C,m,e);
if(L==null)L=$.Z3.BT();else{var l=this.DO.feat,x=this.fI();if(l!=0)L.t6.Fthr={t:"UntF",v:{type:"#Pxl",val:l}};
if(x!=0&&x!=4)L.o0=["","addTo","subtractFrom","interfaceWhite",""][x]}this.Hq(this.Oe,v.E.HW,L);this.XQ.zy(-1,-1);
this.Nx.zy(-1,-1)};$.Z3.prototype.getSelection=function(i,C,m,e){return null};$.Z3.prototype.MU=function(i,C,m,e){};
$.Z3.prototype.bz=function(i,C,m,e){};$.Z3.prototype.f9=function(i,C,m,e){};$.Z3.prototype.qp=function(i,C){var m=i.d;
if(m=="changesel"){var e=C.u;C.u=i.u;i.u=e}if(m=="movesel")C.u.rect=i.Rc;if(i.Ex){if(i.aD_){C.Xk=[C.T3.length];
C.T3.push(i.aD_)}else{C.T3.pop();C.Xk=[]}}if(i.Al){C.ft=JSON.parse(i.Al[0]);C.Ep=JSON.parse(i.Al[1])}C.Pm=!0};
$.Z3.prototype.gT=function(i,C){var m=i.d;if(m=="changesel"){var e=C.u;C.u=i.u;i.u=e}if(m=="movesel")C.u.rect=i.YC;
if(i.Ex){if(i.ano){C.Xk=[C.T3.length];C.T3.push(i.ano)}else{C.T3.pop();C.Xk=[]}}if(i.Al){C.ft=JSON.parse(i.a6F[0]);
C.Ep=JSON.parse(i.a6F[1])}C.Pm=!0};$.Z3.prototype.Di=function(i){return i.d=="changesel"&&i.u?i.u.channel.length:0};
$.Z3.prototype.Mp=function(i){for(var C in i.DO)this.DO[C]=i.DO[C]};$.Z3.prototype.akz=function(i){var C=I.C.Ve(i.j);
if(C.bs())return null;var m=I.BF(C.m,C.J);m.save();m.beginPath();m.translate(-C.x,-C.y);Typr.U.pathToContext({cmds:i.G,crds:i.j},m);
m.closePath();m.fill();m.restore();var e=I.R(C.P()),z=m.getImageData(0,0,C.m,C.J);I.Ud(z.data,e,3);return{rect:C,channel:e}};
$.Z3.aob=function(i,C,m,e,z){if(m)C=Math.round(C*.7);var L=Math.ceil(2.6*C),l=i.rect.clone();l.sW(L,L);
if(e&&!z)l=l.G_(e);var x=I.R(l.P()),S=I.R(x.length);I.Vo(i.channel,i.rect,S,l);I.Zo.MO(S,x,l,C);if(m){var k=x.length;
for(var Y=0;Y<k;Y++){var f=(x[Y]-128)*C*2.5;x[Y]=Math.max(0,Math.min(255,Math.round(128+f)))}}return{channel:x,rect:l}};
$.Z3.anU=function(i,C,m){var e=Math.max(1,Math.ceil(m)),z=i.rect.clone();z.sW(e,e);var L=z.P(),l={channel:I.R(L),rect:z},x=I.R(L);
I.Vo(i.channel,i.rect,x,l.rect);if(m!=0)I.style.stroke(x,l.channel,l.rect,m);else I.EP(x,l.channel);
var S=I.R(L);I.Fb(x);if(C!=0)I.style.stroke(x,S,l.rect,C);else I.EP(x,S);I.CX.G_(l.channel,S,l.channel);
return l};$.Z3.uW=function(i,C,m,e,z){var L=new j2(0,0,i.m,i.J),l=i.I6();if(i.u){var x=i.u.rect.G_(L),S=I.R(x.P()*4);
I.fF(l,L,S,x);L=x;l=S}var k=L.P(),f=I.R(k),X=1/e;if(z){if(C>=m)C=m-1;var o=C*(1-e),A=C,P=m,F=m+(255-m)*e,n=o==A?0:1/(A-o),R=P==F?0:1/(F-P);
for(var Y=0;Y<k;Y++){var Q=Y<<2,s=I.iw(l[Q],l[Q+1],l[Q+2]),j=0;if(s<o)j=0;else if(s<A)j=(s-o)*n;else if(s<=P)j=1;
else if(s<=F)j=1-(s-P)*R;else j=0;f[Y]=l[Q+3]*j*j}}else for(var Y=0;Y<k;Y++){var Q=Y<<2,_=I.ao(l[Q],l[Q+1],l[Q+2]),j=I.a0h(_,C,m,e,X);
f[Y]=l[Q+3]*j}return{rect:L,channel:f}};$.Uo=function(){$.N9.call(this,[10,18],$.vU,"tools/blur");this.lm="copy"};
$.Uo.prototype=new $.N9;$.Uo.prototype.k7=function(i,C,m,e,z){var L=e.S(jD.rb)?eY.Bx:eY.vU;this._F(i,m,e,z,this.DO.strn,L);
if(this.lX==null)return;this.fl(i)};$.Uo.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.mi=function(){$.N9.call(this,[10,0],$.go,"tools/brush");
this.lm="draw"};$.mi.prototype=new $.N9;$.mi.prototype.k7=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z,!0))return;
this._F(i,m,e,z,this.DO.flow);if(this.lX==null)return;this.fl(i)};$.mi.prototype.ct=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z))return;
this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};
$.j_=function(){$.N9.call(this,[10,42],$.FE,"tools/crepl");this.lm="idraw";this.DO.bmode="hue "};$.j_.prototype=new $.N9;
$.j_.prototype.k7=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z,!0))return;this._F(i,m,e,z,this.DO.flow);
if(this.lX==null)return;this.fl(i)};$.j_.prototype.ct=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z))return;
this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};
$.K2=function(){$.N9.call(this,[10,43],$.J$,"tools/redeye");this.DO.smode=0;this.lm="redeye"};$.K2.prototype=new $.N9;
$.K2.prototype.k7=function(i,C,m,e,z){this._F(i,m,e,z,this.DO.flow);if(this.lX==null)return;this.fl(i)};
$.K2.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);if(this.lX==null)return;
if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.K3=function(){$.N9.call(this,[10,38],$.nV,"tools/pencil");
this.lm="draw"};$.K3.prototype=new $.N9;$.K3.prototype.k7=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z,!0))return;
this._F(i,m,e,z,this.DO.flow);if(this.lX==null)return;this.fl(i)};$.K3.prototype.ct=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z))return;
this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};
$.KR=function(){$.N9.call(this,[10,22],$.Hl,"tools/burn");this.lm="burn"};$.KR.prototype=new $.N9;$.KR.prototype.k7=function(i,C,m,e,z){this._F(i,m,e,z,this.DO.expo/Math.E);
if(this.lX==null)return;this.fl(i)};$.KR.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.ni=function(i,C,m){$.N9.call(this,i==""?null:i?i:[10,1],C?C:$.Fm,m?m:"tools/clone");
this.lm="clone";this.xR=null;this.F=null};$.ni.prototype=new $.N9;$.ni.prototype.k7=function(i,C,m,e,z){var L=this.DO,l=L.alt[0];
if(e.S(jD.rb)||e.S(jD.WP)||l){this.xR=i.q.yy(z.x,z.y);this.F=null;if(l)this.mY({alt:[!1]},C);this.u4(i);
this.W8(m,e,i,z);return}if(this.xR==null){alert(bC.get([15,7,0]));return}this.W8(m,e);this._F(i,m,e,z,this.DO.flow);
if(this.lX==null)return;this.F=this.ag7(i.q.yy(z.x,z.y));this.fl(i)};$.ni.prototype.ag7=function(i){var C=this.F;
if(C==null||!this.DO.algnd)C=new b5(Math.round(i.x-this.xR.x),Math.round(i.y-this.xR.y));return C};$.ni.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);
if(this.G7)this.aD(i,m,z);if(this.lX==null){if(this.xR!=null)this.W8(m,e,i,z);return}if(!z.$G||this.xR==null)return;
this.Dy(i,m,e,z);this.fl(i)};$.ni.prototype.jp=function(){return this.F};$.xy=function(){$.KV.call(this,[10,53],$.ad$,"tools/csamp");
this.$0=-1;this.a7c=null};$.xy.prototype=new $.KV;$.xy.prototype.k7=function(i,C,m,e,z){this.a7c=JSON.stringify(i.cU);
var L=i.q.yy(z.x,z.y),l=i.cU,x=1e9,S=-1;for(var Y=0;Y<l.length;Y++){var k=l[Y],f=L.x-k.x,X=L.y-k.y,o=f*f+X*X;
if(o<x){x=o;S=Y}}var A=15/i.q.U;S=x<A*A?S:-1;if(S==-1){S=l.length;l.push({x:L.x,y:L.y})}else if(e.S(jD.rb)){l.splice(S,1);
S=-1}this.$0=S;i.Qq=!0};$.xy.prototype.ct=function(i,C,m,e,z){var L=this.$0;if(L!=-1){var l=i.q.yy(z.x,z.y);
i.cU[L].x=l.x;i.cU[L].y=l.y;i.Qq=!0}};$.xy.prototype.$d=function(i,C,m,e,z,L){var l=new fw(this.name,this);
l.data={GZ:this.a7c,yu:JSON.stringify(i.cU)};i.zN(l);this.$0=-1};$.xy.prototype.qp=function(i,C){C.cU=JSON.parse(i.GZ)};
$.xy.prototype.gT=function(i,C){C.cU=JSON.parse(i.yu)};$.lx=function(i,C,m){$.KV.call(this,i,C,m);this.rA={Q7:{me:0,x:0,y:0},UH:!1,EA:!1};
this.I9=!1;this.Ci=null;this.cursor=null;this.a40=0;this.cr=null;this.XQ=null;this.V5=null;this.ET=!1};
$.lx.prototype=new $.KV;$.lx.prototype._$=function(){return this.Ci!=null};$.lx.prototype.Ce=function(i){return this.XQ!=null||this.Ci&&this.Ci.ayF()};
$.lx.prototype.k7=function(i,C,m,e,z){this.cr=z;var L=i.q.yy(z.x,z.y),l=this.rA.Q7,x=l.me!=0?l.x/l.y:null,S=this.ET;
this.ET=!1;if(this.Ci){var k=this.Ci.zE(L,i.q.U);if(S&&k==null){this.Ci.clear(i);this.Ci=null}else{this.Ci.k7(i,m,e,L,x,!1,z);
return}}this.XQ=$.a8.qG(i,L,m)};$.lx.prototype.Xr=function(i,C,m){if(m==null)m=[i.x,i.y,i.x+i.m,i.y,i.x+i.m,i.y+i.J,i.x,i.y+i.J];
return new hG(m,!0,!1,this.id==$.Bo,!0,C,this.id==$.Bo?2:0,this.id==$.Bo?4:3)};$.lx.prototype.W8=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.TF,uu:this.cursor};i.T(C)};$.lx.prototype.enable=function(i,C,m,e){this.Oe=C;this.cursor="crosshair";
this.W8(C);if(i!=null&&this.Ci==null){var z=i.u?{jh:"cropby",a75:3}:{jh:"config",rA:this.rA,azo:!0};
this.Mp(z,C,i,e,m);if(i.u==null&&this.rA.Q7.me==0)this.ET=!0}};$.lx.prototype.ct=function(i,C,m,e,z){this.cr=z;
var L=i.q.yy(z.x,z.y);if(!z.$G){var l="crosshair";if(this.Ci){var x=this.Ci.zE(L,i.q.U,null,z);if(x)l=x;
else l="default"}if(l!=this.cursor){this.cursor=l;this.W8(C)}}if(this.Ci)this.Ci.ct(i,m,e,L);else if(this.XQ){if(this.I9){i.N.tp={G:["M","L"],j:[this.XQ.x,this.XQ.y,L.x,L.y]}}else{var S=$.P0.Tk(this.XQ,$.a8.qG(i,L,m),e,!0,this.rA.Q7),k=S[0].x,f=S[0].y,X=this.V5=new j2(k,f,S[1].x-k,S[1].y-f);
i.N.tp=I.C.Ym(X);$.KV.Pf(z,X,i,m)}i.Qq=!0}};$.lx.a7R=function(i,C,m){var e,z,x,S;if(C<=m){e=C;z=m}else{e=m;
z=C}var L=i-Math.floor((i+Math.PI)/(2*Math.PI))*2*Math.PI;L=Math.abs(L);if(L>Math.PI/2)L=Math.PI-L;var l=e/(z*Math.sin(L)+e*Math.cos(L));
if(C<=m){x=e*l;S=z*l}else{x=z*l;S=e*l}return{HG:x,bB:S}};$.lx.prototype.$d=function(i,C,m,e,z){this.cr=z;
var L=i.q.yy(z.x,z.y);if(this.Ci==null){var l=this.V5;if(this.XQ&&(l||this.I9)){if(this.I9){var x=this.XQ,S=L,k=S.x-x.x,f=S.y-x.y;
if(Math.abs(k)<Math.abs(f))S=new b5(x.x-f,x.y+k);if(x.x>S.x){var X=x;x=S;S=X}var x=Math.atan2(-(S.y-x.y),S.x-x.x),o=$.lx.a7R(x,i.m,i.J);
if(this.rA.EA){var A=I.C.Ym(new j2(0,0,i.m,i.J)),P=new hN;P.rotate(x);I.C.i(A.j,P,A.j);o=I.C.Ve(A.j);
o={HG:o.m,bB:o.J}}var F=[0,0,o.HG,0,o.HG,o.bB,0,o.bB],n=new hN;n.translate(-o.HG/2,-o.bB/2);n.rotate(x);
n.translate(i.m/2,i.J/2);I.C.i(F,n,F);this.Ci=this.Xr(l,!1,F);this.I9=!1}else{var R=this.rA.Q7;this.Ci=this.Xr(l,R.me!=0)}this.Ci.mM(i,m);
this.V5=null;this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,LI:!0});this.XQ=null;i.N.z9=[];i.N.tp=null;i.Qq=!0}return}this.Ci.$d(i,m,e,L);
this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,LI:!0});var F=this.Ci.yx();if(Math.abs(F[0]-F[4])<2&&Math.abs(F[1]-F[5])<2){this.IN(i,C,null,e);
return}if(Date.now()-this.a40<200&&this.Ci.Qw(L)){this.On(i,m);this.IN(i,C,m,e);return}this.a40=Date.now()};
$.lx.prototype.xC=function(i,C,m,e){var z=this.Ci;if(z==null||this.cr&&this.cr.$G)return;if(e.S(jD.RX)){this.On(i,m);
this.IN(i,C,m,e)}else if(e.S(jD.pn)){this.IN(i,C,m,e)}else z.xC(i,m,e)};$.lx.agL=function(i,C,m){var e={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:i[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:i[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:i[1]+i[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:i[0]+i[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:C!=null?C:0}},Dlt:{t:"bool",v:m!=null?m:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{o0:"crop",t6:e}};$.lx.Jh=function(i,C){if(C==null)C=[!0,!0,!0,!0];var m={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][i]}}},e=["Top","Left","Btom","Rght"];
for(var Y=0;Y<4;Y++)m[e[Y]]={t:"bool",v:C[Y]};return{o0:"trim",t6:m}};$.lx.anv=function(i,C,m,e){var z={classID:"null"};
if(e!=null){z.Wdth={t:"UntF",v:{type:"#Pxl",val:i}};z.Hght={t:"UntF",v:{type:"#Pxl",val:C}};z.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][e]}}}if(m!=null)z.Rslt={t:"UntF",v:{type:"#Rsl",val:m}};
return{o0:"imageSize",t6:z}};$.lx.aB7=function(i,C,m,e){if(m==null)m=4;if(e==null)e=!1;var z=Math.floor(m/3),L=m%3;
return{o0:"canvasSize",t6:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:i}},Hght:{t:"UntF",v:{type:"#Pxl",val:C}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][L]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][z]}},Rltv:{t:"bool",v:e}}}};
$.lx.prototype.X4=function(i,C,m,e,z){var L=new j2(0,0,m.m,m.J),l=[11,3],x=m.lC,S=m.m/2,k=m.J/2,f=1,Z,G,J;
if(i.d=="fromAction"){var X=i.bG,o=X.o0,A=X.t6,P=m.m/m.J,F=A.Wdth?A.Wdth.v.val:-1,n=A.Hght?A.Hght.v.val:-1,x=A.Rslt?A.Rslt.v.val:null,R=A.Wdth?A.Wdth.v.type:A.Hght?A.Hght.v.type:-1,Q=1,s;
if(R=="#Prc"){if(F!=-1)F=Math.round(m.m*F/100);if(n!=-1)n=Math.round(m.J*n/100)}if(o=="imageSize"){if(A.Intr){if(A.Intr.v.Intp=="Nrst")Q=0;
if(A.Intr.v.Intp=="bicubicSharper")Q=2;if(F==-1&&n==-1){var j=x/m.lC;F=Math.round(m.m*j);n=Math.round(m.J*j)}if(A.CnsP&&A.CnsP.v){if(F==-1)F=Math.round(n*P);
if(n==-1)n=Math.round(F/P)}}else{if(R=="#Prc")x=Math.round(m.lC*(m.m/F));else if(R==-1)x=Math.round(x);
else throw"e";F=m.m;n=m.J}s={d:"imgsize",g4:F,bi:n,bj:x,iv:Q}}else if(o=="canvasSize"){if(F==-1)F=m.m;
if(n==-1)n=m.J;if(A.Rltv&&A.Rltv.v==!0){if(A.Wdth)F+=m.m;if(A.Hght)n+=m.J}var _=A.Vrtc?A.Vrtc.v.VrtL:"Cntr",B=A.Hrzn?A.Hrzn.v.HrzL:"Cntr";
s={d:"canvsize",g4:F,bi:n,h8:3*["Top","Cntr","Btom"].indexOf(_)+["Left","Cntr","Rght"].indexOf(B)}}else if(o=="revealAll"){s={d:"revealAll"}}else if(o=="trim"){var N={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[A.trimBasedOn.v.trimBasedOn];
if(N==null)throw"e";var a=["Top","Left","Btom","Rght"],O=[!0,!0,!0,!0];for(var Y=0;Y<4;Y++)if(A[a[Y]])O[Y]=A[a[Y]].v;
s={d:"trim",aj5:N,Ed:O}}else if(o=="crop"){var H,q,h,D;if(A.T){var T=A.T.v,H=Math.round(T.Left.v.val),q=Math.round(T.Top.v.val),h=Math.round(T.Rght.v.val)-H,D=Math.round(T.Btom.v.val)-q}else{var p=m.u.rect;
H=p.x;q=p.y;h=p.m;D=p.J}s={d:"canvsize",g4:h,bi:D,F:new b5(H,q),arw:A.Dlt!=null&&A.Dlt.v}}else console.log(X);
if(s)this.X4(s,C,m,e,z);return}else if(i.d=="imgsize"){L=new j2(0,0,i.g4,i.bi);if(i.bj)x=i.bj;f=i.iv}else if(i.d=="canvsize"){var y=i.h8!=null?i.h8:0;
L=new j2(0,0,i.g4,i.bi);var b=m.m-i.g4,g=m.J-i.bi,u=Math.round(b/2),t=Math.round(g/2);if(y==1||y==4||y==7)L.x=u;
if(y==2||y==5||y==8)L.x=b;if(y==3||y==4||y==5)L.y=t;if(y==6||y==7||y==8)L.y=g;if(i.F){L.x=i.F.x;L.y=i.F.y}}else if(i.d=="rot"&&(i.b+2*Math.PI)%(Math.PI/2)!=0){var V=I.C.Ym(L).j,c=new hN;
c.translate(-S,-k);c.rotate(i.b);c.translate(S,k);I.C.i(V,c,V);L=I.C.Ve(V)}else if(i.d=="rot"&&i.b!=Math.PI&&i.b!=-Math.PI){L=new j2(S-m.J/2,k-m.m/2,m.J,m.m);
if((m.m+m.J&1)==1){S=Math.floor(S);k=Math.floor(k);L=new j2(S-Math.floor(m.J/2),k-Math.floor(m.m/2),m.J,m.m);
if((m.m&1)==1&&i.b!=-Math.PI/2)L.y--;if((m.J&1)==1&&i.b==-Math.PI/2)L.x--}}else if(i.d=="trim"){l=[11,12,0];
var E=m.I6(),p=new j2(0,0,m.m,m.J);L=I.qX(E,p,i.aj5,i.Ed);if(L.bs())L=p}else if(i.d=="revealAll"){l=[11,12,2];
L=m.root.S8(m,!0)}var K=i.d=="canvsize"&&i.arw;if(i.d=="imgsize"||i.d=="rot"||i.d=="scl"||K){var M=new hN;
if(i.d=="imgsize"){l=[11,10];M.scale(i.g4/m.m,i.bi/m.J);J=m.pR();for(var Y=0;Y<J[0].length;Y++)J[0][Y][1]*=J[0][Y][0]==0?M.W:M.o6}else if(K){}else{M.translate(-S,-k);
if(i.d=="rot")M.rotate(i.b);if(i.d=="scl")M.scale(i.b.x,i.b.y);M.translate(S,k);l=i.jj}G=I.D.fL(M);Z=this.Oo(m,z,!0,G,f,K?L:null)}else if(i.d=="auto-align"){if(m.g.length<2){alert("Select two or more layers.");
return}var U=[];for(var Y=0;Y<m.g.length;Y++){var r=m.M[m.g[Y]];if(!r.rq()&&r.add.SoLd==null){alert("Unsupported layer selected.");
return}if(r.rect.bs()){alert("Empty layer selected.");return}U.push([r.buffer,r.rect])}var dS=I.Qm.FF(U);
if(dS==null){alert("No similarity found.");return}G=dS[1];Z=this.Oo(m,z,!1,dS,f);L=m.root.S8(m,!0);l=[2,10,1]}var w=new j2(0,0,m.m,m.J);
if(!L.bs()&&(!L.LJ(w)||Z!=null)){var di=new fw(l,this);di.data={aBM:m.lC,bj:x,yG:Z,aR:G,jO:$.lx.awk(m,L,w,Z!=null)};
if(J){di.data.aoa=m.pR();di.data.akH=J}$.lx.atf(m,di.data,L);m.zN(di);this.gT(di.data,m)}};$.lx.awk=function(i,C,m,e){if(i.xE.length==0)return null;
var z=JSON.stringify(i.xE),L=JSON.parse(z);$.FD.a7X(L,C,m,e);L=JSON.stringify(L);return[z,L]};$.lx.prototype.Oo=function(i,C,m,e,z,L,l){var x={M:[],VH:null,ul:null};
if(m){for(var Y=0;Y<i.M.length;Y++)x.M.push(Y);for(var Y=0;Y<i.DI.length;Y++)x.M.push(-1-Y);for(var Y=0;
Y<i.T3.length;Y++)x.M.push(-1e3-Y)}else x.M=i.g.slice(0);x.VH=$.V.LN(i,x.M,!0);var S=Math.abs(e[3]*e[1])>1e-9;
$.V.$y(i,C,x.M,x.VH,z,e,null,!0,S?null:L);if(m&&l&&i.KT()){var k=i.M[i.g[0]],f=k.buffer,X=k.rect,o=S?X.clone():L.clone(),A=I.R(o.P()*4),P=I.R(X.P());
I.Ud(f,P,3);var F=I.R(o.P());I.Vo(P,X,F,o);I.round(F,255);I.Fb(F);var n=I.T5.hV(f,X,F,A,o);if(n==0){k.rect=o;
k.buffer=A}}x.ul=$.V.LN(i,x.M,!0);return x};$.lx.prototype.gT=function(i,C){if(i.bj)C.lC=i.bj;if(i.jO)C.xE=JSON.parse(i.jO[1]);
if(i.yG){$.lx.Zy(C,I.D.YD(i.aR));$.V.Gc(C,i.yG.M,i.yG.ul);if(i.akH)C.Kq(i.akH)}$.lx.O$(C,i)};$.lx.prototype.qp=function(i,C){if(i.aBM)C.lC=i.aBM;
if(i.jO)C.xE=JSON.parse(i.jO[0]);$.lx.Na(C,i);if(i.qE)C.q.F.q5(i.qE);C.axT();if(i.yG){var m=I.D.YD(i.aR).clone();
m.Fb();$.lx.Zy(C,m);$.V.Gc(C,i.yG.M,i.yG.VH);if(i.aoa)C.Kq(i.aoa)}};$.lx.Zy=function(i,C){for(var Y=0;
Y<i.M.length;Y++){var m=i.M[Y];if(m.add.artb==null)continue;var e=I.C.Ym(m.d3()).j;I.C.i(e,C,e);var z=I.C.Ve(e);
m.bQ(z)}};$.lx.Ke=function(i){var C=new j2,m=0,e=i.root.children.length;for(var Y=0;Y<e;Y++){var z=i.root.children[Y].a;
if(z.add.artb==null)continue;C=C.Z0(z.d3());m++}var L=new j2(0,0,i.m,i.J);if(!C.bs()&&!L.LJ(C))return C;
return null};$.lx.yo=function(i){var C=$.lx.Ke(i);if(C)$.lx.UH(i,C,!0);return C};$.lx.UH=function(i,C,m){var e=i.m,z=i.J,L=C.m,l=C.J,x=C.x==0&&C.y==0;
if(x&&e==L&&z==l)return;i.m=L;i.J=l;var S=[];for(var Y=0;Y<i.M.length;Y++)S.push(Y);if(!x)$.a8.zu(i,S,null,-C.x,-C.y);
for(var Y=0;Y<i.M.length;Y++){i.M[Y].rH(i)}i.axT();if(m){var k=i.q.F,f=i.q.U;k.x+=Math.round((C.x+(L-e)/2)*f);
k.y+=Math.round((C.y+(l-z)/2)*f)}else i.q.F.zy(0,0);if(i.u)i.u.rect.offset(-C.x,-C.y);var X=i.pR();for(var o=0;
o<X[0].length;o++)if(X[1][o]==-1){var A=i.Nb[o];A[1]-=A[0]==0?C.x:C.y}for(var Y=0;Y<i.T3.length;Y++)i.T3[Y].rect.offset(-C.x,-C.y)};
$.lx.prototype.Mp=function(i,C,m,e,z){if(i.jh=="commit"){this.On(m,z);this.IN(m,C,null,e)}else if(i.jh=="cancel"){this.IN(m,C,null,e)}var L=null,l=new j2(0,0,m.m,m.J),x=this.rA.Q7;
if(i.jh=="config"){this.rA=i.rA;x=this.rA.Q7;if(m==null||!i.azo)return;L=l;if(x.me==1){var S=x.x/x.y;
if(L.m/S<L.J)L.J=Math.round(L.m/S);else L.m=Math.round(L.J*S)}if(x.me==2){L.m=x.x;L.J=x.y}L.x=Math.round((m.m-L.m)/2);
L.y=Math.round((m.J-L.J)/2)}if(i.jh=="straighten"){alert("Draw a line in the image.");this.I9=!0}if(i.jh=="cropby"){if(m==null)return;
var k=i.a75,L;if(k==0)L=m.root.S8(m,!0);if(k==1){if(m.g.length==0)alert("No layer is selected.");else{var f=m.root.zD(m.g[0]);
L=f.S8(m,!0)}}if(k==2){if(m.g.length==0)alert("No layer is selected.");else{L=I.qX(m.I6(),l,0);if(L.bs())L=l.clone()}}if(k==3){if(m.u!=null)L=m.u.rect;
else alert("There is no selection.")}if(k==4){L=new j2(0,0,m.m,m.J)}}if(L&&L.bs())L=null;if(L!=null){this.Ci=this.Xr(L,x.me!=0);
this.Ci.mM(m,z);this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,LI:!0})}};$.lx.prototype.Bj=function(i,C,m,e){this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,wL:[i.m,i.J]})};
$.lx.prototype.On=function(i,C){var m=this.Ci.yx(),e=I.C.Ve(m),z=this.auI(i,m),L=!1,l=this.rA,x=l.Q7,S=l.UH,k=x.x,f=x.y,A;
if(this.id==$.b7&&x.me==2&&z.P()!=k*f){z=new j2(z.x,z.y,k,f);L=!0}var X=I.D.v6(m,z);X=I.D.Fb(X);var o=I.D.r5(X),P=Math.atan2(X[3],X[0]),F=new j2(0,0,i.m,i.J);
if(Math.abs(P)>1e-9||!o||L||S||l.EA)A=this.Oo(i,C,!0,X,1,e,l.EA);else if(z.LJ(F))return;var n=new fw(this.name,this);
n.data={yG:A,aR:X,qE:i.q.F.clone(),jO:$.lx.awk(i,z,F,!1)};$.lx.atf(i,n.data,z);i.zN(n);this.gT(n.data,i);
this.track($.lx.agL([e.x,e.y,e.m,e.J],null,S))};$.lx.atf=function(i,C,m){if(m==null)return;C.Rc=new j2(0,0,i.m,i.J);
C.YC=m};$.lx.O$=function(i,C){if(C.YC==null)return;$.lx.UH(i,C.YC)};$.lx.Na=function(i,C){if(C.YC==null)return;
var m=C.Rc.clone();m.offset(-C.YC.x,-C.YC.y);$.lx.UH(i,m)};$.lx.prototype.auI=function(i,C){var m=I.D.v6(C),e=I.D.r5(m),z=I.D.YD(m),L=z.W_,l=z.Rj,x=Math.atan2(z.e,z.W);
z.rotate(x);var S=new j2(L,l,z.W,z.o6);if(!e){function k(s,Y,j){var _=s[Y]-s[j],B=s[Y+1]-s[j+1];return Math.sqrt(_*_+B*B)}var f=k(C,0,2),X=k(C,4,6),o=Math.max(f,X),A=k(C,2,4),P=k(C,6,0),F=Math.max(A,P),n=$.lx.Aw(C,i.m/2,i.J/2),R,Q;
if(isNaN(n)||n==Infinity||n==-Infinity||Math.min(n,1/n)<.1)n=(f+X)/(A+P);if(o/F>n){R=o*1;Q=R/n}else{Q=F*1;
R=Q*n}S.m=R;S.J=Q}S.x=Math.round(S.x);S.y=Math.round(S.y);S.m=Math.round(S.m);S.J=Math.round(S.J);return S};
$.lx.Aw=function(i,C,m){var e=i[0]-C,z=i[1]-m,L=i[2]-C,l=i[3]-m,x=i[6]-C,S=i[7]-m,k=i[4]-C,f=i[5]-m,X=((z-f)*x-(e-k)*S+e*f-z*k)/((l-f)*x-(L-k)*S+L*f-l*k),o=((z-f)*L-(e-k)*l+e*f-z*k)/((S-f)*L-(x-k)*l+x*f-S*k),A=-((o*S-z)*(X*l-z)+(o*x-e)*(X*L-e))/((o-1)*(X-1));
function P(n){return n*n}var F=Math.sqrt((P(X-1)+P(X*l-z)/A+P(X*L-e)/A)/(P(o-1)+P(o*S-z)/A+P(o*x-e)/A));
if(X==1&&o==1)F=Math.sqrt((P(l-z)+P(L-e))/(P(S-z)+P(x-e)));return F};$.lx.prototype.IN=function(i,C,m,e){if(i==null)return;
if(this.Ci)this.Ci.clear(i);this.Ci=null;this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,LI:!1})};$.lx.prototype.disable=function(i,C,m,e){if(this.Ci)this.On(i,m);
this.IN(i,C,m,e)};$.lx.prototype.Hq=function(i,C,m,e){var z=new eX(C,!0);z.data=m;if(e)z.f=e;i.T(z)};
$.ajg=function(){$.lx.call(this,[10,2],$.b7,"tools/rcrop")};$.ajg.prototype=new $.lx;$.a6Y=function(){$.lx.call(this,[10,39],$.Bo,"tools/pcrop")};
$.a6Y.prototype=new $.lx;$.CE=function(){$.N9.call(this,[10,21],$._u,"tools/dodge");this.lm="dodge"};
$.CE.prototype=new $.N9;$.CE.prototype.k7=function(i,C,m,e,z){this._F(i,m,e,z,this.DO.expo/Math.PI);
if(this.lX==null)return;this.fl(i)};$.CE.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.ti=function(){$.N9.call(this,[10,3],$.sc,"tools/eraser");
this.lm="erase"};$.ti.prototype=new $.N9;$.ti.prototype.k7=function(i,C,m,e,z){this._F(i,m,e,z,this.DO.flow);
if(this.lX==null)return;this.fl(i)};$.ti.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;var L=this.Dy(i,m,e,z);this.fl(i)};$.o1=function(){$.N9.call(this,[10,45],$.Wu,"tools/beraser");
this.lm="ierase"};$.o1.prototype=new $.N9;$.o1.prototype.k7=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z,!0))return;
this._F(i,m,e,z,this.DO.flow);if(this.lX==null)return;this.fl(i)};$.o1.prototype.ct=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z))return;
this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};
$.DU=function(){$.Z3.call(this,[10,15],$.iH,"tools/rselect");this.oJ="crosshair"};$.DU.prototype=new $.Z3;
$.DU.prototype.bz=function(i,C,m,e){if(!e.$G||!this.Xi)return;var z=this.S8(i,m,!0);i.N.tp=I.C.Ym(z);
i.Qq=!0;$.KV.Pf(e,z,i,C)};$.DU.prototype.f9=function(i,C,m,e){i.N.tp=null;i.N.z9=[];i.Qq=!0;this.finish(i,C,m,e)};
$.DU.prototype.getSelection=function(i,C,m,e){if(this.XQ.LJ(this.Nx)||!this.Xi)return null;var z=this.S8(i,m,!0);
if(z.bs())return null;return $.Z3.ZQ("Rctn",z,this.DO.anta)};$.Tq=function(){$.Z3.call(this,[10,4],$.amc,"tools/eselect");
this.oJ="crosshair"};$.Tq.prototype=new $.Z3;$.Tq.prototype.bz=function(i,C,m,e){if(!e.$G||!this.Xi)return;
var z=this.S8(i,m);i.N.tp=$.Tq.azw(z);i.Qq=!0;$.KV.Pf(e,z,i,C)};$.Tq.prototype.f9=function(i,C,m,e){i.N.tp=null;
i.N.z9=[];i.Qq=!0;this.finish(i,C,m,e)};$.Tq.prototype.getSelection=function(i,C,m,e){if(this.XQ.LJ(this.Nx)||!this.Xi)return null;
var z=this.S8(i,m);if(!z.EI(new j2(0,0,i.m,i.J)))return null;return $.Z3.ZQ("Elps",z,this.DO.anta)};
$.Tq.azw=function(i){var C=i.x,m=i.y,e=i.x+i.m,z=i.y+i.J,L=(C+e)/2,l=(m+z)/2,x=(C-e)/2,S=(m-z)/2,k=.5522848,f={j:[L,l-S],G:["M","C","C","C","C"]};
f.j.push(L+k*x,l-S,L+x,l-k*S,L+x,l);f.j.push(L+x,l+k*S,L+k*x,l+S,L,l+S);f.j.push(L-k*x,l+S,L-x,l+k*S,L-x,l);
f.j.push(L-x,l-k*S,L-k*x,l-S,L,l-S);return f};$.U3=function(i){$.KV.call(this,[10,5],i?$.mB:$.HD,"tools/eyedropper");
this.VZ=null;this.arO=!1;this.t2=0;this.kc=null;this.Vb=1;this.gN=2;this.aq9=!0;this.df=!1};$.U3.prototype=new $.KV;
$.U3.prototype.Ce=function(i){return i.$G};$.U3.prototype.enable=function(i,C,m,e,z){$.KV.prototype.enable.call(this,i,C,m,e,z);
this.arO=z};$.U3.prototype.X4=function(i,C,m,e,z){if(i.d=="pickhere")this.nn(m,C,z,null,i.agI);if(i.d=="supertool")this.VZ=i.f};
$.U3.prototype.k7=function(i,C,m,e,z){var L=this.VZ;if(L){L.k7(i,C,m,e,z);return}this.t2=m.Dm;this.kc=z;
var l=this.nn(i,null,m,e,z);this.W8(i,C,l,z)};$.U3.prototype.ct=function(i,C,m,e,z){var L=this.VZ;if(L){L.ct(i,C,m,e,z);
return}var l=this.kc;if(l){var x=z.x-l.x,S=z.y-l.y,k=1,f=new b5(l.x+x*k,l.y+S*k),X=this.nn(i,null,m,e,f);
this.W8(i,C,X,f,new b5(x*(1-k),S*(1-k)))}};$.U3.prototype.W8=function(i,C,m,e,z){var L=this.aq9,l=this.df;
if(i.q.U>4)l=!1;if(!l&&!L)return;var x=$.U3.a79(i,l,L,e,z,m,this.t2,this.Vb),S=new eX(v.E.H,!0);S.data={d:v.B.TF,uu:x};
C.T(S)};$.U3.prototype.$d=function(i,C,m,e,z,L){var l=this.VZ;if(l){l.$d(i,C,m,e,z);return}this.nn(i,C,m,e,z);
if(this.kc){this.kc=null;if(L)this.nn(i,C,m,e,z,this.t2);var x=new eX(v.E.H,!0);x.data={d:v.B.TF,uu:"default"};
C.T(x)}};$.U3.prototype.nn=function(i,C,m,e,z,L){if(L==null)L=$.U3.bl(i,z,this.Vb,this.gN);var l=new eX(v.E.H);
l.data={d:v.B.Mc,N5:dm.li,Tt:!this.arO&&e&&e.S(jD.rb)?1:0,b:L};if(C)C.T(l);return L};$.U3.a79=function(i,C,m,e,z,L,l,x){if(z==null)z=new b5(0,0);
var S=new j2(0,0,i.m,i.J),k=i.I6(),f=12,X=11,o=(f*2+1)*X,A=new b5(o/2,o/2),P=new j2(0,0,o,o),F=I.R(P.P()*4),n=i.q.yy(e.x,e.y),R=Math.floor(n.x),Q=Math.floor(n.y),s=new hN;
s.scale(1/X,1/X);s.translate(R-f,Q-f);if(C)I.scale.anR(k,S,s,F,P);var j=(f-3.4)*X,_=(f-1.7)*X,B=f*X;
for(var N=0;N<o;N++)for(var a=0;a<o;a++){var O=b5.qM(new b5(a,N),A);if(O>j){if(m){var H=Math.max(0,j-O+1),q=(N*o+a)*4,h=F[q+3]<<24|F[q]<<16|F[q+1]<<8|F[q+2],D=255<<24|(N<B+X*.5?L:l);
if(O>_){H=Math.max(0,_-O+1);h=D;D=4286611584}else if(!C){h=D&16777215}F[q+0]=(1-H)*(D>>>16&255)+H*(h>>>16&255);
F[q+1]=(1-H)*(D>>>8&255)+H*(h>>>8&255);F[q+2]=(1-H)*(D>>>0&255)+H*(h>>>0&255);F[q+3]=(1-H)*(D>>>24&255)+H*(h>>>24&255)}if(O>B){F[(N*o+a)*4+3]=Math.max(0,255*(B-O+1))}}}function T(Y){var r=Y<<2;
F[r]=0;F[r+1]=0;F[r+2]=0;F[r+3]=255}function p(Y){var r=Y<<2;F[r]=255;F[r+1]=255;F[r+2]=255;F[r+3]=255}var y=x*X+2,b=o-y>>>1,g=b+y-1;
if(C&&y<o)for(var Y=0;Y<y;Y++){var u=b*o+b+Y,t=g*o+b+Y,V=(b+Y)*o+b,c=(b+Y)*o+g;T(u);T(t);T(V);T(c);if(Y!=0&&Y!=y-1){p(u+o);
p(t-o);p(V+1);p(c-1)}}if(!C)for(var Y=-9;Y<=9;Y++){if(-3<Y&&Y<3)continue;var E=o>>>1,a=E*o+E+Y,N=(E+Y)*o+E;
p(a-o);T(a);p(a+o);p(N-1);T(N);p(N+1)}var Z=L>>>16&255,G=L>>>8&255,J=L>>>0&255,K="RGB "+Z+","+G+","+J,M=I.uy([Z/255,G/255,J/255]);
if(i.add.fcmy)K="CMYK "+M.map(function(r){return Math.round(r*100)}).join(",");var U=$.KV.lv(0,0,["#"+I.dP(L),K]),S=U[1];
S.y=0;S.x=o-S.m>>>1;I.fF(U[0],S,F,P);return{FY:F,TD:P,YG:new b5(A.x+z.x,A.y+z.y)}};$.U3.bl=function(i,C,m,e,z){if(e==null)e=2;
var L=i.q.yy(C.x,C.y),l,x,S=i.g.length==1&&i.M[i.g[0]].ii>0&&z!=!0,k=i.Xk.length!=0,_=0,B=0,N=0;if(S||k){var f;
if(k)f=i.T3[i.Xk[0]];else{var X=i.M[i.g[0]];f=X.ii==1?X.Re():X.adX()}x=f.S8();if(!x.Xp(L))return f.color==0?0:16777215;
l=I.R(x.P()*4);l.fill(255);var o=f.cD();I.uM(o,l)}else if(e==0&&i.g.length!=0){var X=i.M[i.g[0]];l=X.buffer;
x=X.rect}else{l=e==2?i.I6():i.I6(i.g[0]);x=new j2(0,0,i.m,i.J)}var A=Math.floor(L.x)-x.x,P=Math.floor(L.y)-x.y,F=(m-1)/2,n=Math.max(0,A-F),R=Math.max(0,P-F),Q=Math.min(x.m,A+F+1),s=Math.min(x.J,P+F+1),j=(Q-n)*(s-R);
for(var A=n;A<Q;A++)for(var P=R;P<s;P++){var Y=4*(P*x.m+A);_+=l[Y];B+=l[Y+1];N+=l[Y+2]}_=Math.round(_/j);
B=Math.round(B/j);N=Math.round(N/j);return _<<16|B<<8|N};$.U3.prototype.Mp=function(i){var C=i.DO;this.Vb=[1,3,5,11,31][C[0]];
this.gN=C[1];this.aq9=C[2];this.df=C[3]};$.pK=function(){$.KV.call(this,[10,6],$.t8,"tools/gradient");
this.DO={I:JSON.parse(jt.UL.aaV).v,b2:"Lnr",ca:!1,ge:!1,a3k:"norm",Hh:1};this.qR=!1;this.jN=null};$.pK.prototype=new $.KV;
$.pK.prototype.enable=function(i,C,m,e){var z=new eX(v.E.H,!0);z.data={d:v.B.TF,uu:"default"};C.T(z)};
$.pK.prototype.Mp=function(i){this.DO=i.N5};$.pK.prototype.k7=function(i,C,m,e,z){if(!i.KT())return;
this.jN=i.q.yy(z.x,z.y);this.jN=$.a8.qG(i,this.jN,m);this.qR=!0};$.pK.prototype.ct=function(i,C,m,e,z){if(!this.qR)return;
var L=i.q.yy(z.x,z.y);L=$.a8.qG(i,L,m);if(e.S(jD.$I))L=$.pK.OY(this.jN,L);i.N.tp={j:[this.jN.x,this.jN.y,L.x,L.y],G:["M","L"]};
i.N.jr=[this.jN.x,this.jN.y,L.x,L.y];i.Qq=!0};$.pK.prototype.$d=function(i,C,m,e,z){if(!this.qR)return;
var L=i.M[i.g[0]],l=i.q.yy(z.x,z.y);l=$.a8.qG(i,l,m);if(e.S(jD.$I))l=$.pK.OY(this.jN,l);var x=l._3(this.jN),S=b5.U9(this.jN,l,.5),k=Math.atan2(x.y,x.x),f=b5.qM(this.jN,l),X=Math.sin(k),o=Math.cos(k);
if(f>2){var A;if(i.u)A=i.u.rect;else A=new j2(0,0,i.m,i.J);var P=I.R(A.P()*4),F=this.DO,n=F.b2;if(n!="Lnr"){f*=2;
S=this.jN}I.I.oV(F.I,P,A,[o*1/f,X*1/f,-X*1/f,o*1/f],S.x,S.y,F.ca,jt.I.types.indexOf(n),m.Dm,m.yv,null,F.ge);
var R=Math.round(F.Hh*256),Q=P.length;if(R!=256)for(var Y=0;Y<Q;Y+=4)P[Y+3]=P[Y+3]*R>>>8;var s=new eX(v.E.v);
s.f=$.sc;s.data={d:"fillBMP",OV:P,Vq:F.a3k,jj:this.name};C.T(s)}i.N.tp=null;i.N.jr=[];i.Qq=!0;this.qR=!1};
$.pK.prototype.X4=function(i,C,m,e,z){function L(o){o=o.v;var A=o.Hrzn.v.val,P=o.Vrtc.v.val;return m.q.ip(A,P)}if(i.d=="fromAction"){var l=this.DO,x=this.DO={};
for(var S in l)x[S]=l[S];var k=i.bG.t6;if(k.Opct)x.Hh=k.Opct.v.val/100;if(k.Dthr)x.ge=k.Dthr.v;if(k.Grad)x.I=k.Grad.v;
if(k.Type)x.b2=k.Type.v.GrdT;var f=L(k.From),X=L(k.T);this.k7(m,C,z,e,f);this.$d(m,C,z,e,X);this.DO=l}};
$.pK.OY=function(i,C){if(i.LJ(C))return i;var m=C.x-i.x,e=C.y-i.y,z=Math.abs(m),L=Math.abs(e);if(z>L)L=z/2>L?0:z;
if(L>z)z=L/2>z?0:L;z=m>0?z:-z;L=e>0?L:-L;var l=Math.sqrt(m*m+e*e)/Math.sqrt(z*z+L*L);return new b5(i.x+z*l,i.y+L*l)};
$.pK.lU=function(i,C,m,e,z,L,l){var x=new j2(0,0,C,m),S=I.R(C*m*4);I.EC(S,C,m,4);var k=Math.sin(e),f=Math.cos(e),X=I.R(C*m*4);
I.I.oV(i,X,x,[f*1/C,k*1/C,-k*1/m,f*1/m],C/2,m/2,!1,0,z,L);I.l.Qv("norm",X,x,S,x,x,1);if(l)return new ImageData(new Uint8ClampedArray(S.buffer),C,m);
else return i$.yt(S.buffer,C,m,null,null,!0)};$.pK.ayv=function(i,C,m){var e=JSON.parse(JSON.stringify(i));
if(e.Clrs)for(var Y=0;Y<e.Clrs.v.length;Y++){var z=e.Clrs.v[Y].v,L=z.Type.v.Clry;if(L=="UsrS")continue;
var l=L=="FrgC"?C:m;z.Type.v.Clry="UsrS";z.Clr={t:"Objc",v:I.I.$q({Z:l>>16&255,r:l>>8&255,e:l&255})}}return e};
$.gx=function(){$.KV.call(this,[10,7],$.dq,"tools/hand");this.ob=!1;this.kc=new b5(0,0);this.dN=null;
this.d6=0};$.gx.prototype=new $.KV;$.gx.prototype.Mp=function(i,C,m,e){this.ob=i.ob};$.gx.prototype.X4=function(i,C,m,e,z){var L=i.d;
if(L=="setcls"){m.q.O=i.O;m.Qq=!0;m.sa=!0}if(L=="scroll"&&!e.S(jD.rb)){if(e.S(jD.Uj))$.gx.fV(m,m.q.F.x-i.Ml.y,m.q.F.y-i.Ml.x);
else $.gx.fV(m,m.q.F.x-i.Ml.x,m.q.F.y-i.Ml.y)}};$.gx.prototype.enable=function(i,C,m,e){this.dN=null;
var z=new eX(v.E.H,!0);z.data={d:v.B.TF,uu:"grab"};C.T(z);if(i&&Date.now()-this.d6<300){z.type=v.E.v;
z.f=$.BM;z.data={d:"adapt",b:"fitscr"};C.T(z)}this.d6=Date.now()};$.gx.prototype.k7=function(i,C,m,e,z){this.dN=i.q.F.clone();
this.kc.zy(z.x,z.y)};$.gx.prototype.ct=function(i,C,m,e,z){if(!z.$G)return;if(this.dN==null)this.k7(i,C,m,e,z);
var L=this.ob?C.dM:[i];for(var Y=0;Y<L.length;Y++)$.gx.fV(L[Y],this.dN.x+(z.x-this.kc.x),this.dN.y+(z.y-this.kc.y))};
$.gx.prototype.$d=function(i,C,m,e,z){this.dN=null};$.gx.fV=function(i,C,m){var e=i.q.U,z=i.q.eo,L=z.m,l=z.J,x=i.m*e,S=i.J*e,k=x<L&&S<l,f=L/2+x/2-64,X=l/2+S/2-64;
i.q.F.zy(Math.max(-f,Math.min(f,C)),Math.max(-X,Math.min(X,m)));i.sa=!0};$.NM=function(){$.KV.call(this,[10,47],$.KM,"tools/rview");
this.kc=new b5(0,0);this.xH=null;this.LW=null;this.d6=0};$.NM.prototype=new $.KV;$.NM.prototype.enable=function(i,C,m,e){this.dN=null;
var z=new eX(v.E.H,!0);z.data={d:v.B.TF,uu:"grab"};C.T(z);if(i&&Date.now()-this.d6<300&&i.q.RQ!=0){i.q.RQ=0;
i.Qq=!0}this.d6=Date.now();if(i)this.w1(i,C)};$.NM.prototype.disable=function(i,C,m,e,z){if(i)this.w1(i,C)};
$.NM.prototype.NR=function(i,C,m,e){if(i)this.w1(i,C)};$.NM.prototype.k7=function(i,C,m,e,z){this.kc.zy(z.x,z.y);
var L=i.q;this.xH=L.yy(L.eo.m/2,L.eo.J/2);this.LW=L.Vf();var l=L.yy(L.eo.m/2,L.eo.J/2),x=Math.min(L.eo.m,L.eo.J)*.35/L.U,S=x*.2,k=l.x,f=l.y;
i.N.tp={G:"M L L L L L".split(" "),j:[k,f,k,f-x,k+S,f,k,f+x,k-S,f,k,f-x]};i.Qq=!0};$.NM.prototype.a0K=function(i){var C=i.q,m=C.yy(C.eo.m/2,C.eo.J/2);
i.N.tp={G:["M","L"],j:[m.x,m.y,m.x,m.y-200]}};$.NM.prototype.ct=function(i,C,m,e,z){if(!z.$G)return;
var L=i.q,l=this.xH,x=this.kc,S=new b5(L.eo.m/2,L.eo.J/2),k=Math.atan2(z.y-S.y,z.x-S.x),f=Math.atan2(x.y-S.y,x.x-S.x),X=Math.atan2(this.LW.e,this.LW.W),o=k-f,A=Math.PI/4;
if(e.S(jD.$I)){o=X+A*Math.round((o-X)/A)}this.ajL(i,C,this.LW.clone(),l,o)};$.NM.prototype.$d=function(i,C,m,e,z){i.N.tp=null;
i.Qq=!0};$.NM.prototype.Mp=function(i,C,m,e){this.ajL(m,C,null,null,i.wv-m.q.RQ);m.q.RQ=i.wv};$.NM.prototype.ajL=function(i,C,m,e,z){var L=i.q;
if(m==null)m=L.Vf();if(e==null)e=L.yy(L.eo.m/2,L.eo.J/2);m.translate(-e.x,-e.y);m.rotate(z);m.translate(e.x,e.y);
L.aBQ(m);if(i.m*L.U<L.eo.m&&i.J*L.U<L.eo.J)L.F.zy(0,0);i.Qq=!0;this.w1(i,C)};$.NM.prototype.w1=function(i,C){var m=new eX(v.E.H,!0);
m.data={d:v.B.Yo,f:this.id,wv:i.q.RQ};C.T(m)};$.qS=function(){$.ni.call(this,[10,25],$.YY,"tools/hbrush")};
$.qS.prototype=new $.ni("");$.qS.prototype.$d=function(i,C,m,e,z){if(this.lX==null)return;this.lQ(i,"heal",this.lX.yN(),this.lX.S8(),this.lX.HK());
this.Y(i,this.lX.HK());$.N9.prototype.$d.call(this,i,C,m,e,z);if(!this.DO.algnd)this.F=null};$.u8=function(i){$.KV.call(this,i?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],i?$.IJ:$.ck,i?"tools/vtype":"tools/htype");
this.pg=[];this.p7=null;this.caller=null;this.ep=1;this.nv=0;this.jo=null;this.a8u=0;this.GF=0;this.aDt=null;
this.la=null;this.ah=null;this.vk=null;this.fA=null;this.dX=null;this.atn=null;this.Fa=null;this.Ci=null;
this.xJ=null;this.ak4=null;this.Nl=!1;this.eN=!1;this.Wb=!1;this.CL=null;this.Is=null;this.aeA=null;
this.DZ=!1;this.SC=!1;this.SI=-1;this.ka=-1;this.hX=document.createElement("textarea");this.hX.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.hX.addEventListener("input",this.zl.bind(this),!1);this.hX.addEventListener("keydown",this.a4f.bind(this),!1);
this.hX.addEventListener("keyup",this.apb.bind(this),!1)};$.u8.prototype=new $.KV;$.u8.prototype.Ce=function(i){return i.$G};
$.u8.prototype.Bj=function(i,C,m,e){if(this.ah!=null||this.id==$.IJ)return;this.caller=C;var z=this.awR(i);
if(z.length!=0){var L=null,l=[],x=[];for(var Y=0;Y<z.length;Y++){var S=i.M[z[Y]],k=S.add.TySh,f=0,X=e7.lD(k.Wg).length-2,o=e7.IF(k.Wg,f,X);
e7.Mt(o,k.i.je());if(o.hU.Font!=null)o.hU.Font=o.JR[o.hU.Font].Name;L=o.JR;l.push(o.hU);x.push(o.t7)}var o={JR:L,hU:e7.oW(l),t7:e7.oW(x)};
if(o.hU.Font!=null)e7.Ca(o,o.hU.Font);this.ay5(C,o,k)}};$.u8.prototype.awR=function(i){var C=[];for(var Y=0;
Y<i.g.length;Y++)if(i.M[i.g[Y]]&&i.M[i.g[Y]].add.TySh)C.push(i.g[Y]);return C};$.u8.prototype.X4=function(i,C,m,e,z){var L=i.d=="insertGlyph",l=i.d=="copyText",x=i.d=="selectAll";
if((L||l||i.d=="insertText"||x)&&this.ah){var S=L?String.fromCharCode(65533):i.b,k=this.hX,f=k.value,X=k.selectionStart,o=k.selectionEnd;
if(l){g_.VF(new Blob([f.slice(X,o)],{type:"text/plain"}))}else if(x){this.SI=k.selectionStart=0;this.ka=k.selectionEnd=f.length;
this.ol(m);k.focus()}else{k.value=f.slice(0,X)+S+f.slice(o);k.selectionStart=k.selectionEnd=X+S.length;
this.zl(null,L?i.b:null);k.focus()}}if(i.d=="updateStyles"){if(this.ah==null){var A=this.awR(m),P=!1;
if(A.length!=0){this.lb(m,C,z,A);for(var Y=0;Y<A.length;Y++){var F=m.M[A[Y]],n=F.add.TySh;e7.jc(n,this.ep);
n.m_.VAlign.v=this.nv;this.ah=F;var R=e7.lD(n.Wg);this.SI=0;this.ka=R.length-1;e7.Bl(n.Wg,this.SI,this.ka,this.Ht(z,n));
var Q=this.LT(m,z);if(Q==!1)P=!0}if(P){this.DZ=!0;return}this.X2(m,C,!0)}return}this.Uz(z)}if(i.d.startsWith("warp")){var s=this.SC;
if(i.d=="warp"||i.d=="warpCancel"){if(this.ah==null)return;if(i.d=="warp")this.ah.add.TySh.ZM=i.lu;else this.ah.add.TySh.ZM=this.atn;
this.LT(m,z);if(!s)this.ol(m)}if(i.d!="warp")this.hX.focus();if((i.d=="warpConfirm"||i.d=="warpCancel")&&s){this.SC=!1;
if(i.d=="warpConfirm")this.X2(m,C);else this.Vw(m,C)}}if(i.d=="editCurr"){if(z.jw!=$.ck){this.jo=z.jw;
var j=new eX(v.E.H,!0);j.data={d:v.B.n$,f:$.ck};C.T(j)}if(this.ah!=null)this.disable(m,C,z,e);this.p7=z;
this.caller=C;this.lb(m,C,z,[i.e5]);var R=e7.lD(this.ah.add.TySh.Wg);this.SI=0;this.ka=R.length-1;this.ol(m);
this.BL();this.hX.focus()}if(i.d=="switchPntPrgr"){if(this.ah)return;var F=m.M[m.g[0]],n=F.add.TySh,_=n.i.je(),B=F.Jx(),N=JSON.parse(JSON.stringify(n.Wg)),a=e7.c$(N),O=a==1?e7.py(N):[0,0,Math.round(B.m*1.05/_),Math.round(B.J*1.25/_)],H=e7.IF(N,0,0),q=H.JR[H.hU.Font].Name,h=z.FV.he(q),D=[0,O[2],O[2]/2][H.t7.Justification%3],T=(h?bY.su(h):.8)*H.hU.FontSize;
e7.k8(N,1-a);if(a==0){console.log(bY.su(h,q,H.hU));D=-D;T=-T;e7.N2(N,[0,0,O[2],O[3]])}var p=new hN(1,0,0,1,D,T);
p.concat(n.i);this.X4({HV:m.g[0],d:"newED",Ok:N,i:p,a0F:[16,3,a==1?0:1]},C,m,e,z)}if(i.d=="newED"){var F=m.M[i.HV],n=F.add.TySh,y=this.oM(m,[i.HV]);
n.Wg=i.Ok;if(i.i)n.i=i.i;if(b7.wE(n,z.FV,C)){b7.LT(F,z.FV,m);m.Y()}else m.qK=!0;var b=new fw(i.a0F?i.a0F:this.name,this);
b.data={gU:y,MH:this.oM(m,[i.HV])};m.zN(b)}if(i.d=="fromAction"){var g=i.bG.t6.Usng.v,u=g.TxtC.v,t=[];
for(var Y=0;Y<2;Y++){var V=u[Y==0?"Hrzn":"Vrtc"].v,S=V.val;if(V.type=="#Prc")S=(Y==0?m.m:m.J)*(S/100);
t[Y]=S}this.l_(m,C,z,e,m.q.ip(t[0],t[1]),!0);var F=m.M[m.g[0]],n=F.add.TySh,c=n.Wg,f=e7.lD(c);e7.FH(c,0,f.length-1);
e7.cQ(c,0,g.Txt.v.replace(/\r/g,"\n"));f=e7.lD(c);for(var a=0;a<2;a++){var E=g[a==0?"Txtt":"paragraphStyleRange"].v;
for(var Y=0;Y<E.length;Y++){var Z=E[Y].v,X=Z.From.v,o=Math.min(Z.T.v-1,f.length-1);Z=Z[a==0?"TxtS":"paragraphStyle"].v;
var G=e7.IF(c,X,o),J=a==0?G.hU:G.t7;for(var K in Z){var M=Z[K].v;if(K=="Sz")J.FontSize=Math.round(M.val*(M.type=="#Pnt"?m.lC/72:1));
else if(K=="fontPostScriptName")e7.Ca(G,M);else if(K=="Algn")J.Justification={Left:1,Cntr:2}[M.Alg];
else if(K=="leading")J.Leading=Z[K].v.val;else if(K=="baselineShift")J.BaselineShift=Z[K].v.val;else if(K=="autoLeading")J.AutoLeading=Z[K].v;
else if(K=="syntheticBold")J.FauxBold=Z[K].v;else if(K=="syntheticItalic")J.FauxItalic=Z[K].v;else if(K=="Trck")J.Tracking=Z[K].v;
else if(K=="verticalScale")J.VerticalScale=Z[K].v/100;else if(K=="horizontalScale")J.HorizontalScale=Z[K].v/100;
else if(K=="Clr")J.FillColor={Type:1,Values:[1,M.Rd.v/255,M.Grn.v/255,M.Bl.v/255]}}e7.Bl(c,X,o,G)}}if(b7.hM(m,z.FV,C))b7.LT(F,z.FV,m);
else m.qK=!0;m.Y();this.X2(m,C)}};$.u8.prototype.Uz=function(i){var C=Math.min(this.SI,this.ka),m=Math.max(this.SI,this.ka),e=this.ah.add.TySh;
e7.jc(e,this.ep);e.m_.VAlign.v=this.nv;var z=this.Ht(i,e);e7.Bl(e.Wg,C,m-1,z);var L=this.caller.M2(),l=this.LT(L,i);
if(l)this.ol(L);if(document.activeElement.tagName.toLowerCase()!="input")this.hX.focus()};$.u8.prototype.Xu=function(i){return this.pg.indexOf(i)!=-1};
$.u8.prototype.enable=function(i,C,m,e){var z=this.hX;C.n.appendChild(z);this.Fa="default";this.W8(C)};
$.u8.prototype._$=function(){return this.ah!=null};$.u8.ln=function(i,C){var m=new b5(C.x,C.y);for(var Y=i.M.length-1;
Y>=0;Y--){var e=i.M[Y],z=e.add.TySh;if(z&&i.acN(Y)){var L=m,l=e.rect;if(d4==1){var x=z.i.clone();x.Fb();
L=x.M$(m);l=e.f3.sI}if(!l.Xp(L))continue;var S=e.aG(31);return S?-2:Y}}return-1};$.u8.prototype.k7=function(i,C,m,e,z){this.p7=m;
this.caller=C;var L=i.q.yy(z.x,z.y),l=this.ah==null;if(l){var x=$.u8.ln(i,L);if(x==-2){alert(bC.get([6,57,0]));
return}if(x>=0&&!e.S(jD.$I)){if(!b7.wE(i.M[x].add.TySh,m.FV,C)){alert("Fonts not loaded yet");return}this.lb(i,C,m,[x])}else{this.Wb=!0;
this.CL=z;return}}var S=l?-1:e7.c$(this.ah.add.TySh.Wg),k=this.xJ?this.xJ:this.Ci,f=k&&k.k7(i,m,e,L,null,null,z)&&I.lu.gL(this.ah.add.TySh.ZM),X=!l&&I.C.aom(L,this.ah.Jx())>20/i.q.U&&(S==0||S==1);
if(f||X){this.Nl=!0;this.Is=L;this.aeA=this.ah.add.TySh.i.clone();if(this.SI==-1&&this.ka==-1)this.SI=this.ka=this.aP(L)}else{if(this.fA==null){alert("Fonts not loaded yet");
return}this.eN=!0;this.SI=this.ka=this.aP(L);var o=Date.now();if(o-this.a8u>300)this.GF=0;this.GF++;
this.a8u=o;if(this.GF==2)this.a30();if(this.GF==3)this.axO();if(this.GF>1){this.eN=!1}}this.BL();this.ol(i)};
$.u8.prototype.lb=function(i,C,m,e){var z=i.M[e[0]];this.ah=z;this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,jh:"showactive"});
this.vk=e;i.g=e.slice(0);i.j$();i.Yj=!0;this.dX=this.oM(i,e);this.iE(z.add.TySh);this.LT(i,m)};$.u8.prototype.iE=function(i){if(e7.c$(i.Wg)!=1)return;
var C=e7.py(i.Wg);C=new j2(0,0,C[2]-C[0],C[3]-C[1]);var m=[C.x,C.y,C.x+C.m,C.y,C.x+C.m,C.y+C.J,C.x,C.y+C.J];
I.C.i(m,i.i,m);this.Ci=new hG(m,!1,!1,!1,!0);this.Ci.Iw(0)};$.u8.prototype.a30=function(){var i=e7.lD(this.ah.add.TySh.Wg);
this.SI=this.ago(i,this.SI);this.ka=this.azM(i,this.SI)};$.u8.prototype.ago=function(i,C){var m=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",e=[];
for(var Y=0;Y<m.length;Y++)e.push(m.charAt(Y));var z=e.indexOf(i[C])==-1?!0:!1;for(var Y=C-1;Y>=0;Y--)if(e.indexOf(i.charAt(Y))!=-1==z)return Y+1;
return 0};$.u8.prototype.azM=function(i,C){var m=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",e=[];for(var Y=0;
Y<m.length;Y++)e.push(m.charAt(Y));var z=e.indexOf(i[C])==-1?!0:!1;for(var Y=C+1;Y<i.length;Y++)if(e.indexOf(i.charAt(Y))!=-1==z)return Y;
return i.length-1};$.u8.prototype.axO=function(){var i=this.fA.a4l(this.SI);this.SI=i[0];this.ka=i[1]};
$.u8.prototype.W8=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.TF,uu:this.Fa};i.T(C)};$.u8.prototype.ct=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=this.ah;
if(!z.$G){var x="default",S=this.Ci,k=this.xJ?this.xJ:S;if(k&&I.lu.gL(l.add.TySh.ZM)){var f=k.zE(L,i.q.U,null,z);
if(f)x=f;else if(k==S&&S.Qw(L))x="text"}else if(l&&I.C.aom(L,l.Jx())>20/i.q.U)x="move";else if($.u8.ln(i,L)>=0)x="text";
if(x!=this.Fa){this.Fa=x;this.W8(C)}}var X=this.CL;if(this.Wb&&Math.min(z.x-X.x,z.y-X.y)>4/i.q.U){this.Wb=!1;
this.l_(i,C,m,e,z);l=this.ah;this.Nl=!0;this.Ci=new hG(null,!1,!1,!1,!0);this.Ci.Iw(0);var o=i.q.yy(this.CL.x,this.CL.y);
o.x=Math.round(o.x);o.y=Math.round(o.y);this.Ci.k7(i,m,e,o,null,null,z,i.q.RQ)}if(this.Nl){var A=l.add.TySh;
if(this.xJ){this.xJ.ct(i,m,e,L);var P=I.D.YD(I.D.v6(this.xJ.yx(),this.ak4));A.i=P;this.LT(i,m);e7.eZ(A)}else if(this.Ci){this.Ci.ct(i,m,e,L);
var F=A.i.clone(),n=Math.atan2(F.e,F.W);F.rotate(n);var P=I.D.YD(I.D.v6(this.Ci.yx())),R=Math.atan2(P.e,P.W);
P.rotate(R);if(!isNaN(P.W)&&P.W*P.o6-P.e*P.xF!=0){var Q=new j2(0,0,P.W/F.W,P.o6/F.o6),s=Math.round(Q.m),j=Math.round(Q.J),_=A.Wg.Curve;
if(_){var B=e7.py(A.Wg),N=new hN(s/B[2],0,0,j/B[3],0,0);I.C.i(_.Points,N,_.Points);e7.eZ(A)}e7.N2(A.Wg,[0,0,s,j]);
A.i=I.D.YD(I.D.v6(this.Ci.yx(),Q));this.LT(i,m);e7.eZ(A)}}else{var a=L.x-this.Is.x,O=L.y-this.Is.y;A.i=this.aeA.clone();
var H=new b5(A.i.W_+a,A.i.Rj+O);H=$.a8.qG(i,H,m);A.i.W_=H.x;A.i.Rj=H.y;this.LT(i,m)}}if(this.eN)this.ka=this.aP(L);
if(this.Nl||this.eN)this.ol(i)};$.u8.prototype.l_=function(i,C,m,e,z,L){var l=i.bM(),x=l[0],S=l[1],k=i.Sv();
k.add.lnsr="rend";var f=i.M.slice(0);k.yY("Text layer "+f.length);this.ah=k;var X=i.g.length==0?i.M.length-1:i.g[i.g.length-1],o=X+1;
if(f[X].add.lsct==aU.AY)o--;this.dX={K9:f.slice(0),Ii:i.g.slice(0)};f.splice(o,0,k);i.g=[o];this.SI=this.ka=0;
i.Bf(f);this.dX.JF=f.slice(0);this.dX.sU=i.g.slice(0);this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,jh:"showactive"});
var A=i.q.yy(z.x,z.y),P=m.c4;console.log(P);if(this.id==$.IJ){P=JSON.parse(JSON.stringify(P));P.hU.BaselineDirection=1}k.add.TySh=e7._x(A.x,A.y,P,i.q.RQ);
var F=k.add.TySh,n=F.Wg;if(this.id==$.IJ)n._LineOrientation=2;e7.jc(F,this.ep);F.m_.VAlign.v=this.nv;
if(z.$G)e7.k8(n,1);else{e7.k8(n,0);var R=x[S.pop()],Q=R?R.add.vmsk:null;if(L)Q=null;if(Q&&!e.S(jD.$I)){Q=Q.clone();
var s=Q.$,_,B;for(var Y=0;Y<s.length;Y++)if(s[Y].ay!=null)s[Y].ay=0;var j=5/i.q.U;_=I.o.Gl(Q.$,A,!0,j);
if(_.h6==-1)_=I.o.Gl(Q.$,A);if(_.h6!=-1){e7.k8(n,1);var N=I.o.IY(s,_.h6),a=I.o.uv(s,_.h6)-1;s=Q.$=s.slice(0,2).concat(s.slice(N,N+a+1));
Q.g=[];F.add={vmsk:Q,vogk:cc.tO(s)};n.Curve={};e7.l7(F);if(_.Ln!=null){var O=bY.HE(n.Curve);I.C.i(O[0],F.i,O[0]);
var H=I.C.Iq(O[0],A.x,A.y),q=m.c4.t7.Justification;if(q==2||q==5){var h=(O[2][H]+O[3]*.5)%O[3];H=bY.pS(h,O[2])}var D=O[1][H];
D=D%a;Q.Gu=[D,D];e7.l7(F)}else this.iE(F)}}}return k};$.u8.prototype.$d=function(i,C,m,e,z,L){if(L){this.Wb=!1;
return}if(this.ah==null&&!this.Wb)return;var l=i.q.yy(z.x,z.y),x=this.Wb;if(this.Wb){this.Wb=!1;this.l_(i,C,m,e,z);
this.eN=!0}if(this.Nl||this.eN){this.ol(i);this.BL();if(x)this.Uz(m)}if(this.Nl&&this.Ci)this.Ci.$d(i,m,e,l);
this.Nl=this.eN=!1;this.hX.focus()};$.u8.prototype.BL=function(){var i=this.ah.add.TySh,C=Math.min(this.SI,this.ka),m=Math.max(this.SI,this.ka),e,z;
if(C==m){var L=e7.lD(i.Wg);if(C==0||L.charAt(C-1)=="\n")e=z=C;else e=z=C-1}else{e=C;z=m-1}var l=e7.IF(i.Wg,e,z);
e7.Mt(l,i.i.je());this.ay5(this.caller,l,i)};$.u8.prototype.ay5=function(i,C,m){this.Hq(i,v.E.H,{d:v.B.Mc,N5:dm.QI,c4:C});
var e=this.ep=e7.Q5(m),z=this.nv=m.m_.VAlign.v;this.Hq(this.caller,v.E.H,{d:v.B.Yo,f:this.id,jh:"changeOther",Tz:e,L2:z})};
$.u8.prototype.mq=function(i,C,m,e,z){if(i==null)return;var L=i.q.yy(z.x,z.y),l=$.u8.ln(i,L);if(l==-1)return;
var x=new eX(v.E.H,!0);x.data={d:v.B.Yo,f:this.id,jh:"showpan",aw1:this.ah!=null,e5:l,Es:z,xn:i,p7:m};
C.T(x)};$.u8.prototype.a4M=function(){var i=this.ah;if(i&&!this.Nl&&this.xJ!=null){var C=this.caller.M2();
this.xJ.$d(C,this.p7,null,null);this.xJ=null;this.iE(i.add.TySh);this.ol(C)}};$.u8.prototype.disable=function(i,C,m,e){var z=this.ah;
this.X2(i,C)};$.u8.prototype.Mp=function(i,C,m,e,z){if(this.SC)return;if(i.jh=="commit")this.X2(m,C);
if(i.jh=="cancel")this.Vw(m,C);if(i.jh=="changeOther"){this.ep=i.Tz;this.nv=i.L2;if(m!=null)this.X4({d:"updateStyles"},C,m,e,z)}if(i.jh=="showwarp"){if(m==null)return;
if(this.ah==null){var L=m.M[m.g[0]],l=L.add.TySh;if(l==null)return;this.lb(m,C,z,[m.g[0]]);this.hX.focus();
this.SC=!0}this.atn=this.ah.add.TySh.ZM;var x=new eX(v.E.H,!0);x.data={d:v.B.c6,pw:"textwarp"};C.T(x)}};
$.u8.prototype.P6=function(i,C){if(C!=dm.sY)return;if(this.DZ){this.DZ=!1;var m=this.caller.M2(),e=this.vk;
for(var Y=0;Y<e.length;Y++){this.ah=m.M[e[Y]];this.LT(m,i)}this.X2(m,this.caller);return}if(this.ah)this.Uz(i)};
$.u8.prototype.Ht=function(i,C){var m=JSON.parse(JSON.stringify(i.c4));e7.Mt(m,1/C.i.je());return m};
$.u8.prototype.gT=function(i,C){if(i.gU!=null)this.v_(C,i.MH);else this.ao5(C,i.JF,i.sU)};$.u8.prototype.qp=function(i,C){if(i.gU!=null)this.v_(C,i.gU);
else this.ao5(C,i.K9,i.Ii)};$.u8.prototype.v_=function(i,C){for(var Y=0;Y<C.length;Y++){var m=C[Y],e=m.HV,z=i.M[e];
z.buffer=m.Jg;z.rect=m.TD.clone();z.Y();z.f3.GK=null;z.f3.path=null;var L=z.add.TySh;L.ZM=m.lu;L.l$=m.l$.clone();
L.i=m.i.clone();L.Wg=JSON.parse(JSON.stringify(m.Wg));z.aT()}i.Y()};$.u8.prototype.oM=function(i,C){var m=[];
for(var Y=0;Y<C.length;Y++){var e=C[Y],z=i.M[e],L=z.add.TySh;m.push({HV:e,i:L.i.clone(),lu:JSON.parse(JSON.stringify(L.ZM)),l$:L.l$.clone(),Wg:JSON.parse(JSON.stringify(L.Wg)),Jg:z.buffer.slice(0),TD:z.rect.clone()})}return m};
$.u8.prototype.ao5=function(i,C,m){i.g=m;i.Bf(C);i.Y();i.gZ=!0};$.u8.prototype.LT=function(i,C,m){if(m==null)m=!1;
var e=this.ah.add.TySh;if(!b7.wE(e,C.FV,this.caller))return!1;if(!m){var z=e7.lD(e.Wg);this.hX.value=z.slice(0,z.length-1)}var L=this.ah.rect,l=b7.LT(this.ah,C.FV,i);
this.fA=l[1];var x=this.fA.$Y();if(I.lu.gL(e.ZM))e.l$=new j2;else{if(e7.c$(e.Wg)==1){var S=e7.py(e.Wg),k7=x.y;
e.l$=new j2(0,k7,S[2]-S[0],S[3]-S[1]-k7)}else e.l$=x}i.JJ();if(l[2])i.Y(i.root._M(l[2].TD.Z0(L),i,i.M.indexOf(this.ah)));
return!0};$.u8.prototype.zl=function(i,C){if(this.ah==null||this.SC)return;var m=this.hX.selectionStart,e=this.ah.add.TySh,z=e7.lD(e.Wg),L=this.hX.value+"\n",l=Math.min(this.SI,this.ka),x=Math.max(this.SI,this.ka),o=!1;
this.SI=Math.min(m,l);if(L.length-m<z.length-this.ka)this.ka=z.length-L.length+m;if(z!=L){while(this.SI>0&&z.charAt(this.SI-1)!=L.charAt(this.SI-1))this.SI--}var S=z.substring(0,this.SI),k=z.substring(this.ka,z.length),f=L.substring(this.SI,L.length-k.length);
e7.FH(e.Wg,this.SI,this.ka);e7.cQ(e.Wg,this.SI,f);if(C!=null)e7.a8X(e.Wg,this.SI,C);var X=this.Ht(this.p7,e),A=-1,P=Array.from(f);
for(var Y=0;Y<P.length;Y++)A=Math.max(A,P[Y].codePointAt(0));if(A!=-1&&A>128&&A!=65533&&X.hU.Font!=null){var F=X.JR[X.hU.Font].Name,n=this.p7.FV.cv(A,F,X.JR);
if(F!=n){e7.Ca(X,n);o=!0}}if(this.la!=null&&f==this.la){var R=JSON.parse(this.aDt);e7.Mt(R,1/e.i.je());
X.hU=R.hU;X.JR=R.JR;o=!0}e7.Bl(e.Wg,this.SI,this.SI+f.length-1,X);this.SI=this.ka=S.length+f.length;
var Q=this.caller.M2(),s=this.LT(Q,this.p7,!0);if(s)this.ol(Q,!0);if(o)this.BL()};$.u8.prototype.apb=function(i){var C=jD;
if(!i.ctrlKey)this.a4M();i.stopPropagation()};$.u8.prototype.a4f=function(i){i.stopPropagation();var C=i.ctrlKey||i.metaKey,m=jD,S=0,k=0,s=0,T=!1;
if(this.ah==null||this.SC)return;if(this.ah==null)return;if(this.caller.kt.y7())return;var e=this.caller.M2();
if(this.xJ==null&&C){var z=this.ah.add.TySh,L=e7.c$(z.Wg),l;if(L==1){l=e7.py(z.Wg);l=new j2(0,0,l[2]-l[0],l[3]-l[1])}else l=this.fA.$Y();
var x=[l.x,l.y,l.x+l.m,l.y,l.x+l.m,l.y+l.J,l.x,l.y+l.J];I.C.i(x,z.i,x);this.xJ=new hG(x,!0,!0,!1,!1);
this.xJ.Iw(0);this.ak4=l;this.ol(e)}if(m.fG(i.code,m.zq))S=1;if(m.fG(i.code,m.O1))S=-1;if(m.fG(i.code,m.vx))k=-1;
if(m.fG(i.code,m.h$))k=1;var f=m.fG(i.code,jD.IO),X=m.fG(i.code,jD.a3f);if(m.fG(i.code,jD.RX)&&C){this.X2(e,this.caller);
return}if(m.fG(i.code,jD.pn)){this.Vw(e,this.caller);return}if(m.fG(i.code,jD.kR)){i.preventDefault();
var o=this.hX,A=o.value,P=o.selectionStart,F=o.selectionEnd;o.value=A.substring(0,P)+"\t"+A.substring(F);
o.selectionStart=o.selectionEnd=P+1;this.zl(null);return}var n=m.fG(i.code,m.Ek),R=m.fG(i.code,m.Mn);
if(C&&(n||R)){i.preventDefault();var Q=new eX(v.E.v,!0);Q.f=$.BM;Q.data={d:"zoom",u7:n};this.caller.T(Q)}if(m.fG(i.code,m.BU))s=1;
if(m.fG(i.code,m.Ws))s=-1;var j=this.SI==this.ka,_=C&&i.shiftKey&&s!=0&&!j;if(_||i.altKey&&S!=0){var B=JSON.parse(JSON.stringify(this.p7.c4));
if(_){var N=B.hU.FontSize;if(N==null)N=16;B.hU.FontSize=Math.max(1,N+s*(i.altKey?5:1))}else{if(j){B.hU.Kerning+=20*S;
B.hU.AutoKerning=!1}else B.hU.Tracking+=20*S}i.preventDefault();var a=new eX(v.E.H,!0);a.data={d:v.B.Mc,N5:dm.QI,c4:B};
this.caller.T(a);var Q=new eX(v.E.v,!0);Q.f=$.ck;Q.data={d:"updateStyles"};this.caller.T(Q);return}if((m.fG(i.code,m.Cl)||m.fG(i.code,m.gA))&&C){var O=this.SI,H=this.ka;
if(O>H){var q=O;O=H;H=q}var z=this.ah.add.TySh,h=e7.lD(z.Wg);if(O!=H){this.la=h.slice(O,H);this.aDt=JSON.stringify(this.p7.c4)}}var D=e7.lD(this.ah.add.TySh.Wg);
if(S!=0||k!=0||f||X){i.preventDefault();var p=this.SI;if(S!=0){if(C&&S==-1)p=this.ago(D,this.SI-1);else if(C&&S==1)p=this.azM(D,this.SI);
else{var o=this.hX,A=o.value;p=this.SI+S;if(p!=0&&A.codePointAt(p-1)>65535)p+=S}}else if(k!=0){var y=this.fA.xc(this.SI);
if(k==-1&&y.eR==0)p=0;else if(k==1&&y.eR==this.fA.as3()-1)p=99999999999;else p=this.fA.aih(new b5(y.TD.x+y.TD.m/2,0),y.eR+k)}else if(f){var b=this.SI-1;
while(b>0&&D.charCodeAt(b)!=10)b--;p=b==0?0:b+1}else if(X){var b=this.SI;while(b<D.length-1&&D.charCodeAt(b)!=10)b++;
p=b}p=Math.max(0,Math.min(D.length-1,p));if(i.shiftKey)this.SI=p;else this.SI=this.ka=p;T=!0}if(m.fG(i.code,jD.B)&&C){this.SI=0;
this.ka=D.length-1;T=!0}if(T){this.BL();this.ol(e)}};$.u8.ayL=function(i,C){var m=i.length;if(m!=C.length)return!1;
for(var Y=0;Y<m;Y++)if(i[Y].HV!=C[Y].HV)return!1;return!0};$.u8.prototype.X2=function(i,C,m){if(this.ah==null)return;
this.ah.aT();var e=this.dX;if(e instanceof Array){var z=this.oM(i,this.vk),L=i.$K();if(L!=null&&L.f==this&&L.data.gU&&$.u8.ayL(L.data.gU,e)&&m)L.data.MH=z;
else{var l=new fw(this.name,this);l.data={gU:e,MH:z};i.zN(l)}}else{var l=new fw(this.name,this);l.data={K9:e.K9,JF:e.JF,Ii:e.Ii,sU:e.sU};
i.zN(l)}this.escape(i,C)};$.u8.prototype.Vw=function(i,C){if(this.ah==null)return;if(this.dX instanceof Array){this.v_(i,this.dX);
if(this.ah)e7.eZ(this.ah.add.TySh)}else{i.g=this.dX.Ii;i.Bf(this.dX.K9);i.gZ=!0}i.Y();this.escape(i,C)};
$.u8.prototype.escape=function(i,C){this.a4M();this.ah=null;this.vk=null;this.fA=null;this.Ci=null;this.hX.blur();
i.N.tp=null;i.N.RA=null;i.N.jr=[];i.Qq=!0;this.Nl=!1;this.eN=!1;this.SI=this.ka=-1;this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,jh:"hideactive"});
if(this.jo){var m=new eX(v.E.H,!0);m.data={d:v.B.n$,f:this.jo};C.T(m);this.jo=null}};$.u8.prototype.Hq=function(i,C,m,e){var z=new eX(C,!0);
z.data=m;if(e)z.f=e;i.T(z)};$.u8.prototype.aP=function(i){var C=this.ah.add.TySh,m=this.fA,e=C.i.clone();
e.Fb();var z=e.M$(i),L=e7.S8(C,m),l=I.lu.i3(C.ZM,L),x=I.bZ.Oj(l,z);if(x==null)x=new Float64Array(2);
z=new b5(L.x+x[0]*L.m,L.y+x[1]*L.J);if(m.$C){var S=m.$C.clone();S.Fb();z=S.M$(z)}var k=m.aih(z);return k};
$.u8.prototype.ol=function(i,C){if(C==null)C=!1;var m=this.ah.add.TySh,e=e7.c$(m.Wg),z=this.fA,L=z?e7.S8(m,z):null;
i.N.jr=[];i.N.tp=null;i.N.RA=null;var l=this.xJ?this.xJ:this.Ci;if(l){l.mM(i,this.p7,!I.lu.gL(m.ZM));
var x=m.i.clone();x.Fb();if(z&&z.$C&&z.rp==1){var S=z.$C.clone();S.Fb();x.concat(S)}I.C.i(i.N.jr,x,i.N.jr);
I.C.i(i.N.tp.j,x,i.N.tp.j);if(z&&z.$C==null&&z.akI()){var k=L.m-20,f=L.J+8;i.N.tp.j.push(k,f,k+10,f,k+5,f-5,k+5,f+5);
i.N.tp.G.push("M","L","M","L")}}else if(e==0)this.acZ(i,m,z);else i.N.tp={j:[],G:[]};var X=Math.min(this.SI,this.ka),o=Math.max(this.SI,this.ka);
if(!C){this.hX.selectionStart=X;this.hX.selectionEnd=o}if(z!=null){var A=function(l,j){var _=l.x,B=l.y+l.J,N=new hN;
N.translate(-_,-B);N.rotate(-j);N.translate(_,B);l.y+=l.J*.27;var s=I.C.Ym(l);I.C.i(s.j,N,s.j);return s};
if(X==o){X=Math.max(X,0);var P=z.xc(X);if(P){var F=P.TD,n=this.p7.c4.hU.FontSize;if(n!=null&&n!=0){n/=m.i.je();
F.y+=F.J-n;F.J=n}var R=z.a4_(X);if(R!=null&&R.eu==1)F.x+=F.m;var Q=A(F,P.RQ).j;i.N.tp.G.push("M","L");
i.N.tp.j.push(Q[0],Q[1]-1,Q[6],Q[7]-1)}}else{i.N.RA={j:[],G:[]};for(var Y=X;Y<o;Y++){var P=z.xc(Y),s=A(P.TD,P.RQ);
I.C.concat(i.N.RA,s)}}}i.N.tp=b7.Gy(i.N.tp,m,z,!0);i.N.RA=b7.Gy(i.N.RA,m,z,!0);i.N.jr=b7.Gy({j:i.N.jr},m,z,!0).j;
i.Qq=!0};$.u8.prototype.acZ=function(i,C,m){if(m==null)return;i.N.jr.push(0,0);if(i.N.tp==null)i.N.tp={G:[],j:[]};
for(var Y=0;Y<m.t7.length;Y++){var e=m.t7[Y];for(var z=0;z<e.DC.length;z++){var L=e.DC[z],l=e.xi.x+L.xi.x+L.TD.x,x=e.xi.y+L.xi.y+L.TD.y+L.TD.J;
i.N.tp.G.push("M","L");i.N.tp.j.push(l,x,l+L.TD.m,x)}}i.Qq=!0};$.fa=function(){$.u8.call(this,!0)};$.fa.prototype=new $.u8;
$.nG=function(i){$.Z3.call(this,i?"Magic Replace":[10,9],i?$.asv:$.eA,i?"tools/mremove":"tools/lasso");
this.oJ="crosshair";this.kF=null;this.Wm=null;this.Is=null};$.nG.prototype=new $.Z3;$.nG.prototype.MU=function(i,C,m,e){this.kF=this.XQ;
this.Wm={j:[this.kF.x,this.kF.y],G:["M"]}};$.nG.prototype.bz=function(i,C,m,e){this.Is=e;var z=this.Wm;
if(z==null)return;if(!e.$G){if(this.Wm!=null&&this.yQ.Bh(1)&&m.S(jD.rb)){z.j.pop();z.j.pop();z.j.push(this.Nx.x,this.Nx.y);
i.N.tp=z;i.Qq=!0}return}z.G.push("L");z.j.push(this.Nx.x,this.Nx.y);this.kF=this.Nx;if(this.Xi){i.N.tp=z;
i.Qq=!0}};$.nG.prototype._$=function(){return this.Wm!=null};$.nG.prototype.hx=function(){return this.Wm!=null};
$.nG.prototype.xC=function(i,C,m,e){$.Z3.prototype.xC.call(this,i,C,m,e);if(this.Wm&&this.yQ.Bh(1)&&this.Is&&!this.Is.$G&&!e.S(jD.rb))this.a25(i,m,e)};
$.nG.prototype.f9=function(i,C,m,e){this.Is=e;var z=this.Wm;if(z==null)return;if(this.yQ.Bh(1)&&m.S(jD.rb)){z.G.push("L");
z.j.push(this.Nx.x,this.Nx.y);return}this.a25(i,C,m)};$.nG.prototype.a25=function(i,C,m){this.finish(i,C,m,this.Is);
this.Wm=null;i.N.tp=null;i.Qq=!0};$.nG.prototype.getSelection=function(i,C,m,e){if(this.XQ.LJ(this.Nx)||!this.Xi)return null;
return $.Z3._V(this.Wm.j,null,this.DO.anta)};$.a8=function(){$.KV.call(this,[10,11],$.z_,"tools/move");
this.d7=new b5(0,0);this.wu=new b5(0,0);this.fd=null;this.r7=null;this.FG=new b5(0,0);this.M6=null;this.os=null;
this.Oe=null;this.d6=0;this.rs=null;this.wO=[];this.WV=null;this.Nd=null;this.qR=!1;this.d=0;this.Yv=null;
this.rS=null;this.zZ=null;this.rP=!1;this.DO={qP:!0,bx:!1,va:!1,a16:1};this.aD4=!1;this.aCg=!1;this.Ci=null;
this.af=null;this.mx=null;var i=[];for(var Y=0;Y<I.up._Y.length;Y++)i.push({name:I.up._Y[Y],w:function(C,m,e){return{_t:m.Cv.d5==e}}});
this.M9=new gw(i);this.M9.k("select",this.bc,this)};$.a8.prototype=new $.KV;$.KV.prototype.Ce=function(i){return this.qR&&this.d!=2};
$.a8.prototype.axi=function(){return this.qR&&(this.d==0||this.d==1)};$.a8.prototype.NR=function(i,C,m,e){this.Ko(i,-this.FG.x,-this.FG.y);
this.FG.zy(0,0);this.T2(i,null,m);this.gn(i)};$.a8.prototype.nc=function(){var i=this.DO;return[i.qP?1:0,i.bx?1:0,i.va?1:0]};
$.a8.prototype.Cd=function(i,C,m){var e=this.DO;if(i&&i[0]!=null)e.qP=i[0]==1;if(i&&i[1]!=null)e.bx=i[1]==1;
if(i&&i[2]!=null)e.va=i[2]==1;var z=new eX(v.E.H,!0);z.data={d:v.B.Yo,f:this.id,Hw:e,anj:C};m.T(z)};
$.a8.aAk=function(i,C,m,e,z,L,l){if(l==null)l=[!1,!0];var x=i.Bb(null,z,!0),S,k=z==null?i.g[0]:z;if(i.add.artd&&(z!=null||i.g.length==1)&&i.M[k].add.artb){var f=i.M[k].d3();
S=i.sT(x,f,f)[0]}else{var X=new j2(0,0,i.m,i.J),S=i.sT(x,l[0]?X:null,l[1]?null:X)[0];delete S.add.artd;
if(l[1]){var o=I.qX(S.I6(),new j2(0,0,S.m,S.J),2);$.lx.UH(S,o)}}if(m!=1){var A=new j2(0,0,Math.round(S.m*m),Math.round(S.J*m));
$.lx.UH(S,A);var P=[];for(var Y=0;Y<S.M.length;Y++)P.push(Y);var F=$.V.LN(S,P,!0);$.lx.Zy(S,new hN(m,0,0,m,0,0));
$.V.$y(S,e,P,F,1,I.D.fL(new hN(m,0,0,m,0,0)),null,!0);S.um()}var n=[];for(var Y=0;Y<C.length;Y++)if(S.m*S.J!=0)n.push(i$.Nn(S,C[Y].toUpperCase(),null,null,L?L[Y]:null,e));
return n};$.a8.prototype.a1D=function(i,C,m,e,z){if(i==null||i.g.length==0)return;var L=$.a8.aAk(i,[C],m,e,null)[0],l=new eX(v.E.H,!0);
l.data={d:v.B.SQ,data:L,name:i.M[i.g[0]].getName()+(m==1?"":"@"+m+"x")+"."+C};z.T(l)};$.a8.prototype.Mp=function(i,C,m,e,z){if(i.Tt=="getPNG"){this.a1D(m,"png",i.IQ,z,C)}else if(i.Tt=="getSVG"){this.a1D(m,"svg",i.IQ,z,C)}if(i.Tt=="prms"){this.DO=i;
this.gn(m)}};$.a8.avo=function(i){var k7=i.length,m=0;i.sort(function(L,l){return L[0]+L[1]/2-(l[0]+l[1]/2)});
var C=i[k7-1][0]+i[k7-1][1]-i[0][0];for(var Y=0;Y<k7;Y++)m+=i[Y][1];var e=Math.round((C-m)/(k7-1)),z=i[0][0];
for(var Y=0;Y<k7;Y++){i[Y][0]=z;z+=i[Y][1]+e}};$.a8.prototype.X4=function(i,C,m,e,z){var L=i.d;if(L=="trsl"){var l=Math.round(i.a2),x=Math.round(i.NA);
this.FG.zy(l,x);this.O8(m,C,e,z,!1,i.a);this.Ko(m,l,x);this.T2(m,null,z)}else if(L=="fcmy"||L=="fvec"){var S=["RGB","CMYK"][i.b]+" Color";
if(L=="fvec")S=["Raster","Vector"][i.b]+" Mode";var k=new fw(S,this);k.data={d:i.d,GZ:m.add[L]==null?0:m.add[L],yu:i.b};
m.zN(k);this.gT(k.data,m)}else if(L=="pview"){var L=new fw([8,14],this);L.data={d:i.d};m.zN(L);this.gT(L.data,m)}else if(L=="lockguides"){if(m)m.ej=!m.ej}else if(L=="gids"||L=="gidsFromLayer"){var f=i.rS,X,o;
if(f==null)f=m.pR();if(L=="gids"){X=i.Y$;var A=f[0].length,P=X[0].length;o=A==P?[23,2]:A>P?[23,3]:[23,4];
if(P==0)o=[11,15,0]}else if(L=="gidsFromLayer"){var F=[],n=[],R=m.sq();for(var Y=0;Y<m.g.length;Y++){var Q=m.M[m.g[Y]].rect;
if(Q.bs())continue;F.push([0,Q.x],[1,Q.y],[0,Q.x+Q.m],[1,Q.y+Q.J]);n.push(R,R,R,R)}o=[11,15,1];X=m.pR();
$.a8.tf(X,[F,n])}if(JSON.stringify(f)==JSON.stringify(X))return;var L=new fw(o,this);L.data={d:2,rS:f,Y$:X};
m.zN(L);this.gT(L.data,m)}else if(L=="algn"){var s=i.b;if(m==null)return;if(m.g.length<2&&!(m.u!=null&&s!=3&&s!=7)){alert(bC.get([15,7,5]));
return}var j=m.u;m.u=null;var Q=j?j.rect:$.V.S8(m);this.O8(m,C,e,z,!1);if(!this.qR)return;var _=this.rs,B={},N=[],a=[],O=[];
for(var Y=0;Y<_.length;Y++){var H=_[Y];while(m.M[H].getName()=="</Layer group>")H++;var q=m.root.zD(H),h=q;
while(q.parent!=null){q=q.parent;if(_.indexOf(q.index)!=-1)h=q}var D=a.indexOf(h.index);if(D==-1){D=a.length;
a.push(h.index)}N[Y]=D}var T=[],p=[],y=[];for(var Y=0;Y<a.length;Y++){var b=$.V.S8(m,m.Bb(!0,a[Y]));
y.push(b);var g=s==3?[b.y,b.J]:[b.x,b.m];T[Y]=g;p.push(g)}$.a8.avo(p);for(var Y=0;Y<a.length;Y++){var b=y[Y],u=b.x,t=b.y;
if(s==0)u=Q.x;if(s==1)u=Q.x+(Q.m-b.m)/2;if(s==2)u=Q.x+(Q.m-b.m);if(s==3)t=T[Y][0];if(s==4)t=Q.y;if(s==5)t=Q.y+(Q.J-b.J)/2;
if(s==6)t=Q.y+(Q.J-b.J);if(s==7)u=T[Y][0];O.push(Math.round(u-b.x),Math.round(t-b.y))}var V=[];for(var Y=0;
Y<_.length;Y++){var c=N[Y];V[2*Y]=O[2*c];V[2*Y+1]=O[2*c+1]}this.Ko(m,0,0,null,V);var E=s==3||s==7?[20,4,6]:[20,4,s<3?s:s-1];
this.T2(m,null,z,V,E);m.u=j}else if(L=="disabAuto"){this.Cd([!1],null,C)}};$.a8.tf=function(i,C){for(var Y=0;
Y<C[0].length;Y++){var m=C[0][Y],e=C[1][Y],z=!1;for(var L=0;L<i[0].length;L++){var l=i[0][L],x=i[1][L];
if(m[0]==l[0]&&m[1]==l[1]&&e==x)z=!0}if(!z){i[0].push(m.slice(0));i[1].push(e)}}};$.a8.prototype.enable=function(i,C,m,e,z){this.os=m;
this.Oe=C;this.rP=z?!0:!1;this.gn(i);this.W8("default",C);this.xC(i,C,m,e)};$.a8.prototype.disable=function(i,C,m,e){this.avS(i)};
$.a8.prototype.avS=function(i){if(i==null)return;if(this.Ci){this.Ci.clear(i);this.Ci=null}if(i.N.va){i.N.va=null;
i.Qq=!0}if(i.N.Bd){i.N.Bd=null;i.Qq=!0}if(i.N.Zp[this.id]){delete i.N.Zp[this.id];i.Qq=!0}if(i.N.z9.length!=0){i.N.z9=[];
i.Qq=!0}};$.a8.prototype.Bj=function(i,C,m,e){if(m.jw!=this.id)return;this.gn(i)};$.a8.prototype.gn=function(i,C){if(i==null)return;
var m=this.DO;this.avS(i);if(!this.rP){var e;if(m.bx||m.va)e=I.C.Ub($.V.S8(i));if(m.bx&&!e.bs()){var z=i.M[i.g[0]],L=I.C.Ym(e).j;
if(d4==1&&i.g.length==1){if(z.add.vmsk)L=z.add.vmsk.aoS();if(z.add.SoLd)L=$.V.dR(z.add.SoLd.nonAffineTransform);
if(z.add.TySh){L=I.C.Ym(z.f3.sI).j;I.C.i(L,z.add.TySh.i,L)}}this.Ci=new hG(L,!0);this.Ci.mM(i,this.os)}if(m.va){var l=null,o=null,A=!1;
if(i.sq()!=-1)l=i.M[i.sq()].d3();else l=new j2(0,0,i.m,i.J);i.N.va={vL:[e],gI:[]};var x=i.N.va.gI,S=e.x+e.m,k=e.y+e.J,f=e.x+Math.floor(e.m/2),X=e.y+Math.floor(e.J/2);
if(C){var P=i.root.Gl(new b5(Math.floor(C.x),Math.floor(C.y)));if(P){o=I.C.Ub(P.a.Jx(i));if(o.EI(e)){A=(o.Y4(e)||e.Y4(o))&&!e.LJ(o);
if(!A)o=null}}}this.arK(e,x);if(o!=null){i.N.va.vL.push(o);var F=o.x+o.m,n=o.y+o.J,R=o.x+Math.floor(o.m/2),Q=o.y+Math.floor(o.J/2);
if(A){var s=f,j=X;if(e.Y4(o)){s=R;j=Q}x.push(e.x,j,o.x,j);x.push(S,j,F,j);x.push(s,e.y,s,o.y);x.push(s,k,s,n)}else{this.arK(o,x);
var _=k<o.y||n<e.y,B=S<o.x||F<e.x;if(S<o.x)x.push(S,X,o.x,X);if(F<e.x)x.push(F,X,e.x,X);if(k<o.y)x.push(f,k,f,o.y);
if(n<e.y)x.push(f,n,f,e.y);if(_&&!B){if(e.x<o.x)x.push(e.x,Q,o.x,Q);if(o.x<e.x)x.push(o.x,X,e.x,X)}}}else{if(e.y>l.y)x.push(f,l.y,f,e.y);
if(k<l.y+l.J)x.push(f,k,f,l.y+l.J);if(e.x>l.x)x.push(l.x,X,e.x,X);if(S<l.x+l.m)x.push(S,X,l.x+l.m,X)}i.Qq=!0}}if(this.d==2&&this.qR){var N=new j2(0,0,i.m,i.J),a=i.sq();
if(a!=-1){var O=i.pR(),H=O[1][this.rs];if(H==-1)H=a;N=i.M[H].d3()}var q=i.Nb[this.rs],h=q[0],D=(h==0?"X":"Y")+": "+I.up.Rd(q[1]-(h==0?N.x:N.y),i.lC,this.os,h==0?N.m:N.J,!0);
$.KV.lv(Math.round(this.fd.x)+10,Math.round(this.fd.y)-10,[D],i);i.Qq=!0}if(this.d==3&&this.qR){var T=I.C.Ym(this.Yv);
i.N.Zp[this.id]={tp:T};i.Qq=!0}};$.a8.prototype.arK=function(i,C){var m=i.m,e=i.J,z=i.x+Math.floor(m*.2),L=i.y+Math.floor(e*.2);
C.push(z,i.y,z,i.y+e);C.push(i.x,L,i.x+m,L)};$.a8.prototype.W8=function(i,C){var m={d:v.B.TF,uu:i},e=new eX(v.E.H,!0);
e.data=m;C.T(e)};$.a8.prototype.m9=function(i){var C=this.af.kT()[0];if(C==this.mx.length){var m=new eX(v.E.H,!0);
m.data={d:v.B.KU,Kp:"psd"};this.Oe.T(m);return}var e=this.M6,z=this.mx[C];this.aCI(e,z)};$.a8.prototype.bc=function(i){var C=JSON.parse(JSON.stringify(this.os.Cv));
C.d5=this.M9.kT()[0];var m=new eX(v.E.H,!0);m.data={d:v.B.Mc,N5:dm.Yb,yu:C};this.Oe.T(m)};$.a8.prototype.mq=function(i,C,m,e,z){if(this.qR)this.$d(i,C,m,e,z);
this.M6=i;this.os=m;this.Oe=C;var L=i.q.yy(z.x,z.y),l;if($.a8.V1(m,z,i.q)){l=this.M9}else{if(this.af)this.af.removeEventListener("select",this.m9);
var x=[];i.root.Gl(L,x);if(x.length==0)return;var S=[];this.mx=x;for(var Y=0;Y<x.length;Y++)S.push({name:i.M[x[Y]].getName(),mL:Y==x.length-1});
S.push({name:[1,18],HT:!0});l=this.af=new gw(S);l.k("select",this.m9,this)}l.parent=C;l._();l.update(i,m);
var k=new eX(v.E.H,!0);k.data={d:v.B.vs,aA:l,x:z.Xy+2,y:z.UE+1};C.T(k)};$.a8.prototype.a6U=function(i,C,m,e,z){var L=$.a8.ue(i,z);
return L!=-1||$.a8.V1(m,z,i.q)};$.a8.ue=function(i,C){if(i==null||i.add.artd==null)return-1;var m=i.q.yy(C.x,C.y),e=12*$.XP()/i.q.U;
for(var Y=0;Y<i.M.length;Y++){var z=i.M[Y];if(!z.gF()||z.add.artb==null)continue;var L=z.d3(),l=new j2(L.x,L.y-1.7*e,e*z.getName().length*.5,e);
if(l.Xp(m))return Y}return-1};$.a8.prototype.k7=function(i,C,m,e,z){var L=$.a8.ue(i,z),l=$.a8.akR(i,i.q.yy(z.x,z.y));
if(L!=-1){i.g=[L];if(m.jw==$.z_){var x=new eX(v.E.H);x.data={d:v.B.n$,f:$.h9};C.T(x)}return}if(l!=-1){i.q.lz=l;
i.sa=!0;var x=new eX(v.E.H,!0);x.data={d:v.B.CZ,pw:b0.eB.ad3};C.T(x);return}this.fd=z;this.d7.zy(z.x,z.y);
this.wu=i.q.yy(z.x,z.y);this.r7=new fS(this.wu);this.O8(i,C,e,m,!0)};$.a8.V1=function(i,C,m,e){var z=I.up._C,L=m.eo.J;
return i.JC&&(0<C.x&&C.x<z||0<C.y&&C.y<z||e&&0<C.x&&C.x<4*z&&L-z<C.y&&C.y<L)};$.a8.prototype.O8=function(i,C,m,e,z,L){var l,x=this.wu,S=!1;
if(z){var k=e.B4&&e.Cv.Nb;if($.a8.V1(e,this.d7,i.q)){l=i.pR();var f=i.pR(),X=null;if(this.d7.x<I.up._C){X=[0,x.x]}if(this.d7.y<I.up._C){X=[1,x.y]}f[0].push(X);
f[1].push(i.sq(!0));i.Kq(f);if(!k){var o=new eX(v.E.H);if(!e.Cv.Nb){o.data={d:v.B.Mc,N5:dm.Jz};C.T(o)}if(!e.B4){o.data={d:v.B.Mc,N5:dm.e$};
C.T(o)}k=!0}}var A=this.aen(i,x);if(k&&A!=null&&!i.ej){this.d=2;this.rS=l?l:i.pR();this.rs=A;this.qR=!0;
this.Nd=$.V.S8(i);return}if(i.Xk.length!=0){this.d=4;this.Nd=i.T3[i.Xk[0]].rect.clone();this.qR=!0;return}if(this.Ci&&this.Ci.zE(x,i.q.U,!0,this.fd)!=null){var o=new eX(v.E.H);
o.data={d:v.B.n$,f:$.yn,afu:!0};C.T(o);return}if(i.u&&i.u.rect.Xp(x)){var P=Math.round(x.x),F=Math.round(x.y),n=i.u.rect;
S=i.u.channel[(F-n.y)*n.m+P-n.x]>128}if(!S&&(!this.rP&&this.DO.qP||this.rP&&this.DO.qP&&(m.S(jD.$I)||i.g.length<2))){var R=this.a2i(i,x,m);
if(!R){i.g=[];i.Ep=null;i.gZ=i.nb=!0;this.d=3;this.Yv=new j2;this.qR=!0;return}}if(m.S(jD.rb)&&!S){var Q=new eX(v.E.v);
Q.f=$.bH;Q.data={d:cc.Ev,acJ:!0};C.T(Q)}}if(i.Xk.length!=0){this.d=4;this.Nd=i.T3[i.Xk[0]].rect.clone();
this.qR=!0;return}this.rs=i.Bb(L==null,L,null,!0);for(var Y=0;Y<this.rs.length;Y++){var s=this.rs[Y],j=i.M[s];
if(j.aG(2)||j.aG(31)||i.XW(s)){alert(bC.get([6,57,0]));return}}if(i.add.artd&&z){var _=this.rs,B=!1;
for(var Y=0;Y<_.length;Y++)if(i.M[_[Y]].add.artb)B=!0;if(!B){this.WV=[i,i.M.slice(0),i.g.slice(0),-1];
this.rs.sort(function(T,p){return T-p})}}this.wO=$.a8.a9n(i,this.rs);this.d=0;if(i.u&&(!z||S)&&i.g.length==1&&i.KT(!1)){if(!i.a9p()){this.qR=!1;
return}var N=i.M[i.g[0]],a=m.S(jD.rb);this.d=1;var O=i.history[i.f0];if(O.f==this&&O.data.d==1&&O.data.a==i.g[0]&&N.ii==N.L5.ii&&!a){this.zZ=O}else{var H=N.L5,q=!1,h;
if(!N.y3(i,i.u)||a){q=!0;N.kI(i,i.u,a)}if(N.L5.ii<=0){h=I.R(N.L5.D8.length>>2);I.Ud(N.L5.D8,h,3)}else h=i.u.channel.slice(0);
var D={rect:N.L5.Ts.clone(),channel:h};this.zZ=new fw(a?[12,53]:[12,54],this);this.zZ.data={d:1,a:i.g[0],L5:N.L5,wm:H,$T:q,Ii:i.u,sU:D,o6:new b5(0,0)};
i.zN(this.zZ);i.u=D;i.Pm=!0}}this.qR=!0;this.Nd=$.V.S8(i)};$.a8.prototype.a2i=function(i,C,m){var e=i.root.Gl(new b5(Math.floor(C.x),Math.floor(C.y)));
if(e){if(e.a.add.vmsk)i.Qq=!0;var z=i.M.indexOf(e.a);if(this.DO.a16==0){var L=i.root.zD(z);while(L.parent&&L.parent.depth!=0&&L.parent.a.add.artb==null)L=L.parent;
z=L.index}if(m.S(jD.$I)){var l=i.g.indexOf(z);if(l==-1)i.g.push(z);else if(i.g.length>1)i.g.splice(l,1)}else if(i.g.indexOf(z)==-1){this.aCI(i,z)}}return e!=null};
$.a8.prototype.aCI=function(i,C){i.M[C].ii=0;i.g=[C];i.Ep=null;i.j$();i.Yj=!0;i.gZ=!0};$.a8.akR=function(i,C){var m=i.add.Anno;
if(m==null||m.length==0)return-1;var e=30/i.q.U;for(var Y=0;Y<m.length;Y++)if(new j2(m[Y][0],m[Y][1],e,e).Xp(C))return Y;
return-1};$.a8.prototype.ct=function(i,C,m,e,z){this.fd=z;var L=i.q.yy(z.x,z.y),A,P;if(this.r7&&this.d<2)L=this.r7.BJ(L,e);
if(!this.qR){if(m.B4&&m.Cv.Nb&&i&&!i.ej){var l=this.aen(i,L),x="default",S=$.a8.ue(i,z);if(l!=null)x=["col-resize","row-resize"][i.Nb[l][0]];
else if(this.Ci){var k=this.Ci.zE(L,i.q.U,null,z);if(k)x=k}else if(S!=-1||$.a8.akR(i,L)!=-1){x="pointer"}this.W8(x,C)}this.gn(i,L);
return}var f=this.wu,X=Math.round(L.x-f.x)-this.FG.x,o=Math.round(L.y-f.y)-this.FG.y;if(this.Nd){if(this.d==2){var F=[];
if(i.u)F.push(i.u.rect);if(this.Nd)F.push(this.Nd);if(i.q.Bt)F.push(i.q.Bt);L=$.a8.qG(i,L,m,[!1,F,!0,!0])}else{P=this.Nd.clone();
P.offset(this.FG.x+X,this.FG.y+o);A=$.a8.DY(i,P,m);var n=this.r7.aE8(e);if(n==1){A[0]=0;A[2]=1e9}if(n==2){A[1]=0;
A[3]=1e9}X+=Math.round(A[0]);o+=Math.round(A[1])}}this.FG.x+=X;this.FG.y+=o;var R=this.WV;if(R&&i==R[0]){i.Bf(R[1]);
i.g=R[2].slice(0);R[3]=-1}this.Ko(i,X,o,L,null,e.S(jD.$I));if(R&&i==R[0]){var Q=this.Nd.clone();Q.offset(this.FG.x,this.FG.y);
var s=L,S=i.sq(),j=-1;for(var Y=0;Y<i.M.length;Y++){var _=i.M[Y];if(!_.gF()||_.add.artb==null)continue;
var B=_.d3();if(B.Xp(s))j=Y}if(j!=-1&&j!=S){var N=$.a5.zt(i,this.rs,j,!0,null,!1);i.Bf(N[0]);i.g=N[1];
R[3]=j}}this.gn(i,L);if(A)$.a8.Yr(i,P,A)};$.a8.prototype.aen=function(i,C){var m=$.AE(i,this.fd);C=[C.x,C.y];
var e=i.pR(),z=i.sq();for(var Y=0;Y<e[0].length;Y++){var L=e[0][Y],l=e[1][Y];if(l!=-1&&l!=z)continue;
if(Math.abs(L[1]-C[L[0]])<m)return Y}return null};$.a8.prototype.Ko=function(i,C,m,e,z,L){if(this.d==0){if(z)$.a8.B9(i,this.rs,this.wO,z);
else $.a8.zu(i,this.rs,this.wO,C,m)}else if(this.d==1){var l=this.zZ.data;l.o6.offset(C,m);$.a8.iD(i,l.a,C,m)}else if(this.d==2){var x=1e-5;
if(L)x=i.q.U<=1?10:1;var S=x*Math.round(e.x/x),k=x*Math.round(e.y/x),f=[S,k],X=i.Nb[this.rs];X[1]=f[X[0]]}else if(this.d==3){var o=this.wu,A=I.C.Ve([o.x,o.y,e.x,e.y]);
this.Yv=A;var P=[];i.root.awC(A,P);if(JSON.stringify(i.g)!=JSON.stringify(P)){i.g=P;i.gZ=i.nb=!0}}else if(this.d==4){for(var Y=0;
Y<i.Xk.length;Y++)i.T3[i.Xk[Y]].rect.offset(C,m);i.Qq=!0}};$.a8.iD=function(i,C,m,e){var z=i.M[C];i.u.rect.offset(m,e);
z.f_(i,m,e,i.u);i.Pm=!0;i.Y()};$.a8.prototype.$d=function(i,C,m,e,z,L){this.T2(i,z,m);this.gn(i);if(Date.now()-this.d6<300&&!L){var l=$.u8.ln(i,i.q.yy(z.x,z.y));
if($.a8.V1(m,z,i.q,!0)){var x=new eX(v.E.H);if(z.y>i.q.eo.J-20){x.data={d:v.B.c6,pw:"doczoom",GZ:i.q.U*100,Jo:{K:v.E.v,f:$.BM,A:{d:"pzoom"}}}}else{x.data={d:v.B.c6,pw:"preferences"}}C.T(x)}else if(l>=0){var S=new eX(v.E.v,!0);
S.f=$.ck;S.data={d:"editCurr",e5:l};C.T(S)}}this.d6=Date.now();$.lx.yo(i)};$.a8.prototype.T2=function(i,C,m,e,z){if(!this.qR)return;
this.qR=!1;if(this.d==0){if(e){this.aji(i,null,e,z)}else{if(this.FG.x==0&&this.FG.y==0)return;this.aji(i,this.FG.clone())}i.sa=!0}else if(this.d==2){var L=0;
C=[C.x,C.y];var l=this.rs,x=i.Nb[l],jy=this.rS[0].length,S=i.Nb.length;if(m.JC&&C[x[0]]<I.up._C){var k=i.pR();
k[0].splice(l,1);k[1].splice(l,1);i.Kq(k);L=1;if(jy==S-1)return}if(jy<S)L=2;var f=new fw([[23,2],[23,3],[23,4]][L],this);
f.data={d:2,rS:this.rS,Y$:i.pR()};i.zN(f)}else if(this.d==4){var f=new fw([12,54],this);f.data={d:4,g:i.Xk.slice(0),F:this.FG.clone()};
i.zN(f)}this.FG.zy(0,0)};$.a8.prototype.xC=function(i,C,m,e){var z=e.PD(i?i.q.RQ:0);if(i!=null&&(z.x!=0||z.y!=0)){if(e.S(jD.rb)&&i.u==null){var L=new eX(v.E.v);
L.f=$.bH;L.data={d:cc.Ev,acJ:!0};C.T(L)}this.FG.zy(z.x,z.y);this.O8(i,C,e,m,!1);if(!this.qR)return;this.Ko(i,z.x,z.y);
this.T2(i,null,m);this.gn(i)}var l=e.S(jD.Uj);if(!this.rP&&this.aCg!=l){if(l){this.aD4=this.DO.qP;this.DO.qP=!0}else{this.DO.qP=this.aD4}this.aCg=l;
var x=new eX(v.E.H,!0);x.data={d:v.B.Yo,f:this.id,Hw:this.DO};C.T(x)}};$.a8.prototype.qp=function(i,C){if(i.d==0){var m=i.Am;
if(m){C.Bf(m.K9);C.g=m.JE.slice(0);C.Y();C.gZ=!0}$.a8.B9(C,i.g,i.Ut,i.bk,!0);$.lx.yo(C)}else if(i.d=="fcmy"||i.d=="fvec"){if(i.GZ==0)delete C.add[i.d];
else C.add[i.d]=i.GZ;C.Qq=!0}else if(i.d=="pview"){C.a3=!C.a3;C.Y()}else if(i.d==2){C.Kq(i.rS);C.Qq=!0}else if(i.d==4){for(var Y=0;
Y<i.g.length;Y++)C.T3[i.g[Y]].rect.offset(-i.F.x,-i.F.y);C.Qq=!0}else{var e=C.M[i.a];if(i.$T){e.TG(C,i.wm);
C.u=i.Ii;C.Pm=!0;C.Y();e.Y()}else{$.a8.iD(C,i.a,-i.o6.x,-i.o6.y)}}};$.a8.prototype.gT=function(i,C){if(i.d==0){$.a8.B9(C,i.g,i.Ut,i.bk);
var m=i.Am;if(m){C.Bf(m.JF);C.g=m.$c.slice(0);C.Y();C.gZ=!0}$.lx.yo(C)}else if(i.d=="fcmy"||i.d=="fvec"){if(i.yu==0)delete C.add[i.d];
else C.add[i.d]=i.yu;C.Qq=!0}else if(i.d=="pview"){C.a3=!C.a3;C.Y()}else if(i.d==2){C.Kq(i.Y$);C.Qq=!0}else if(i.d==4){for(var Y=0;
Y<i.g.length;Y++)C.T3[i.g[Y]].rect.offset(i.F.x,i.F.y);C.Qq=!0}else{var e=C.M[i.a];if(i.$T){e.L5=i.L5;
C.u=i.sU;$.a8.iD(C,i.a,0,0);e.Y()}else{$.a8.iD(C,i.a,i.o6.x,i.o6.y)}}};$.a8.prototype.aji=function(i,C,m,e){if(m){var z=!0;
for(var Y=0;Y<m.length;Y++)if(m[Y]!=0)z=!1;if(z)return}var L=i.history[i.f0],l=this.WV,x=l!=null&&l[3]!=-1&&l[0]==i;
if(!x&&m==null&&L.data&&L.f==this&&L.data.d==0&&JSON.stringify(L.data.g)==JSON.stringify(this.rs)&&JSON.stringify(L.data.Ut)==JSON.stringify(this.wO)){var S=L.data.bk,k=L.data.a48.t6.T.v;
k.Hrzn.v.val+=C.x;k.Vrtc.v.val+=C.y;for(var Y=0;Y<S.length;Y+=2){S[Y]+=C.x;S[Y+1]+=C.y}}else{if(C==null)C=new b5(m[0],m[1]);
var f={o0:"move",t6:{classID:"null",null:h3.Ei("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:C.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:C.y}}}}}},X=null;
if(x)X={K9:l[1],JE:l[2],JF:i.M.slice(0),$c:i.g.slice(0)};this.WV=null;var o=new fw(e?e:[12,54],this);
if(m)o.data={d:0,g:this.rs,Ut:this.wO,Am:X,bk:m};else o.data={d:0,g:this.rs,Ut:this.wO,Am:X,bk:$.a8.azx(this.rs,C.x,C.y)};
o.data.a48=f;i.zN(o);this.track(f)}};$.a8.azx=function(i,C,m){var e=[];for(var Y=0;Y<i.length;Y++)e.push(C,m);
return e};$.a8.zu=function(i,C,m,e,z){$.a8.B9(i,C,m,$.a8.azx(C,e,z))};$.a8.B9=function(i,C,m,e,z){if(C.length==0)return;
if(m==null){m=[];for(var Y=0;Y<C.length;Y++){m.push(i.M[C[Y]].h3(i,!0))}}var L=new j2,l=new j2(0,0,i.m,i.J);
for(var Y=0;Y<C.length;Y++){var x=e[2*Y],S=e[2*Y+1];if(z){x=-x;S=-S}var k=i.M[C[Y]],f=m[Y];if(k.add.fxrp&&(f.indexOf(0)!=-1||k.Q9()))k.add.fxrp.offset(x,S);
for(var X=0;X<f.length;X++){var o=f[X];if(o==0){k.rect.offset(x,S);if(k.k_()&&k.x6(i))k.x6(i).rect.offset(x,S);
if(k.add.artb){var A=k.d3();A.offset(x,S);k.bQ(A);var P=k.add.artb.guideIndeces;P=P?P.v:[];for(var F=0;
F<P.length;F++){var n=i.Nb[P[F].v];n[1]+=n[0]==0?x:S}}if(k.add.TySh){k.add.TySh.i.translate(x,S);if(k.add.TySh.add){k.add.TySh.add.vmsk.offset(x,S)}}if(k.add.SoLd){var R=new hN(1,0,0,1,x,S),Q=k.add.SoLd,s=$.V.dR(Q.Trnf),j=$.V.dR(Q.nonAffineTransform);
I.C.i(s,R,s);I.C.i(j,R,j);Q.Trnf=$.V.xN(s);Q.nonAffineTransform=$.V.xN(j);$.V.avw(Q,R)}}if(o==1)k.Re().rect.offset(x,S);
if(o==2){k.add.vmsk.offset(x,S);if(k.add.vogk)I.ta.i(k.add.vogk,[1,0,x,0,1,S,0,0],[]);if(k.f3.Wm){var _=k.f3.Wm.wV.j;
I.C.i(_,new hN(1,0,0,1,x,S),_)}}if(o==3){k.x6(i).X.rect.offset(x,S);if(f.length==1)k.Y()}}if(f.length>0){var B=k.add.GdFl;
if(B==null)B=k.add.PtFl;if(k.Q9()&&!k.tk()&&k.add.vmsk!=null&&I.o.Q_(k.add.vmsk.$)&&k.add.vmsk.du==255&&(B==null||B.Algn&&B.Algn.v)){k.rect.offset(x,S)}else k.rH(i);
var N=i.root._M(k.Jx(i),i,C[Y]);if(k.add.artb)N=N.Z0(k.d3());L=L.Z0(N);N.offset(-x,-S);L=L.Z0(N);if(k.RM()&&k.X&&k.X.color==255)L=L.Z0(l);
k.ajx()}}i.Y(I.C.Ub(L))};$.a8.a9n=function(i,C){var m=[];for(var Y=0;Y<C.length;Y++){var e=i.M[C[Y]];
m.push(e.h3(i))}return m};$.a8.Yr=function(i,C,m){var e={j:[],G:[]},z=C.x+m[0],L=C.y+m[1];if(m[2]!=1e9){e.G.push("M","L");
var l=L+C.J;if(m[4])e.j.push(m[2],Math.min(L,l,m[4][1]),m[2],Math.max(L,l,m[4][1]));else e.j.push(m[2],L,m[2],L+C.J)}if(m[3]!=1e9){e.G.push("M","L");
var x=z+C.m;if(m[5])e.j.push(Math.min(z,x,m[5][0]),m[3],Math.max(z,x,m[5][0]),m[3]);else e.j.push(z,m[3],x,m[3])}if(e.j.length!=0){i.N.Bd=e;
i.Qq=!0}};$.a8.qG=function(i,C,m,e){var z=$.a8.aac(i,[[C.x],[C.y]],m,e);return new b5(C.x+z[0],C.y+z[1])};
$.a8.DY=function(i,C,m,e,z){var L=z==!0?1:.5,l=$.a8.aac(i,[[C.x,C.x+Math.round(C.m*L),C.x+C.m],[C.y,C.y+Math.round(C.J*L),C.y+C.J]],m,e);
return l};$.a8.aac=function(i,C,m,e){if(e==null)e=[!0,null,!0];var z=[0,0,1e9,1e9,null,null];if(!m.dZ)return z;
var L=JSON.parse(JSON.stringify(C));for(var l=0;l<2;l++){var x=1e9,S=C[l],k=0,f=null;for(var X=0;X<S.length;
X++){var o=$.a8.a9z(i,S[X],L[1-l][X],l,m,e),A=o[0];if(A!=1e9)L[l][X]=A;if(A!=1e9&&Math.abs(A-S[X])<Math.abs(x)){x=A-S[X];
k=A;f=o[1]}}if(x!=1e9){z[l]=x;z[l+2]=k;z[l+4]=f}}return z};$.a8.a9z=function(i,C,m,e,z,L){var l=1e9,x=null,S=z.Cn,k=z.Cv,f=[i.root];
while(f.length!=0&&S[2]){var X=f.pop(),o=X.a,A=o.rect;if(!o.gF())continue;if(X.children)for(var Y=0;
Y<X.children.length;Y++)f.push(X.children[Y]);if(i.g.indexOf(X.index)!=-1||A.bs())continue;var P=A.m,F=P>>>1,n=A.J,R=n>>>1,Q=l;
if(e==0){if(Math.abs(A.x-C)<Math.abs(l-C))l=A.x;if(Math.abs(A.x+F-C)<Math.abs(l-C))l=A.x+F;if(Math.abs(A.x+P-C)<Math.abs(l-C))l=A.x+P}else{if(Math.abs(A.y-C)<Math.abs(l-C))l=A.y;
if(Math.abs(A.y+R-C)<Math.abs(l-C))l=A.y+R;if(Math.abs(A.y+n-C)<Math.abs(l-C))l=A.y+n}if(Q!=l){x=[A.x+F,A.y+R]}}var s=l;
l=1e9;if(L[0]&&S[0]&&k.Nb&&z.B4){var j=i.pR(),_=j[0],B=j[1],N=i.sq();for(var Y=0;Y<_.length;Y++)if((B[Y]==-1||B[Y]==N)&&_[Y][0]==e&&Math.abs(_[Y][1]-C)<Math.abs(l-C))l=_[Y][1]}if(S[1]&&k.mH&&z.B4){var a=Math.round(I.up.QH(k.I0,i.lC,i.m,k.oB));
if(e==1&&k.i1==1){var O=m*.5*Math.sqrt(4/3),H;a*=Math.sqrt(4/3);H=Math.round((C-O)/a)*a+O;if(Math.abs(H-C)<Math.abs(l-C))l=H;
H=Math.round((C+O)/a)*a-O;if(Math.abs(H-C)<Math.abs(l-C))l=H}else{var H=Math.round(C/a)*a;if(Math.abs(H-C)<Math.abs(l-C))l=H}}var q=i.xE;
if(S[3]&&k.xE&&z.B4&&q.length!=0){for(var Y=0;Y<q.length;Y++){if(!L[2]&&i.s3.indexOf(Y)!=-1)continue;
var h=$.FD.Tw(q,Y);for(var D=0;D<3;D+=2)if(h[D+e]!=C&&Math.abs(h[D+e]-C)<Math.abs(l-C))l=h[D+e]}}if(L[1])for(var T=0;
T<L[1].length;T++){var A=L[1][T],P=A.m,n=A.J,F=P>>>1,R=n>>>1;if(L[3]){F=P/2;R=n/2}var p=[A.x,A.y,A.x+F,A.y+R,A.x+P,A.y+n];
for(var Y=0;Y<6;Y+=2)if(Math.abs(p[Y+e]-C)<Math.abs(l-C))l=p[Y+e]}if(S[4]){var A=new j2(0,0,i.m,i.J),N=i.sq();
if(N!=-1)A=i.M[N].d3();var P=A.m,n=A.J,F=P>>>1,R=n>>>1;if(L[3]){F=P/2;R=n/2}var p=[A.x,A.y,A.x+F,A.y+R,A.x+P,A.y+n];
for(var Y=0;Y<6;Y+=2)if(Math.abs(p[Y+e]-C)<Math.abs(l-C))l=p[Y+e]}if(Math.abs(l-C)<=Math.abs(s-C))x=null;
else l=s;var y=Math.abs(l-C)<=4*$.XP()/i.q.U?l:1e9;return[y,x]};$.Hi=function(){$.Z3.call(this,[10,12],$.zP,"tools/mwand");
this.y_=null};$.Hi.prototype=new $.Z3;$.Hi.prototype.MU=function(i,C,m,e){this.y_=e;this.amk=this.DO.wconf[0];
this.finish(i,C,m,e)};$.Hi.prototype.bz=function(i,C,m,e,z){if(!e.$G)return;var L=new eX(v.E.v);L.f=$.Z9;
L.data={d:"h_stepbck"};z.T(L);var l=e.x-this.y_.x,x=Math.max(0,Math.min(255,Math.round(this.amk+l/4)));
this.DO.wconf[0]=x;this.PM(z);this.finish(i,C,m,this.y_)};$.Hi.prototype.f9=function(i,C,m,e,z){this.DO.wconf[0]=this.amk;
this.PM(z)};$.Hi.prototype.getSelection=function(i,C,m,e){var z=this.Nx;z=i.q.yy(e.x,e.y);var L=$.Z3.anQ(new b5(Math.floor(z.x),Math.floor(z.y)),this.DO.wconf,this.DO.sall);
return L};$.Hi.a37=function(i,C,m,e,z){if(C.x<0||C.x>i.m||C.y<0||C.y>i.J)return null;var L,l=new j2(0,0,i.m,i.J);
if(e)L=i.I6();else{var x=i.g.length,k=null;if(x!=1){alert(x==0?"No layer selected.":"More than one layer selected.");
return null}var S=i.M[i.g[0]],f=S.ii<=0?null:S.ii==1?S.Re():S.x6(i).X;if(z||f&&f.S0)k=f;if(k==null&&S.add.lsct!=null&&S.add.lsct!=aU.A7){alert("No layer selected.");
return null}if(k==null&&l.LJ(S.rect))L=S.buffer;else{L=I.R(l.P()*4);if(k==null)I.fF(S.buffer,S.rect,L,l);
else $.N9.yl(k.channel,k.rect,k.color,L,l)}}var X=$.Hi.vv(L,l,C,null,m),o=I.yP(X,l),A=I.R(o.P());I.Vo(X,l,A,o);
return{rect:o,channel:A}};$.Hi.Kl=function(i,C,m){var e=C.m,z=C.J,l=0,x=0,S=0,k=0;i=new Uint32Array(i.buffer);
var L=[],f=m.length;for(var Y=0;Y<f;Y++){var X=m[Y],o=Math.round(X.x-.5-C.x),A=Math.round(X.y-.5-C.y);
o=Math.max(0,Math.min(e-1,o));A=Math.max(0,Math.min(z-1,A));var P=A*e+o,F=i[P];L.push([F&255,F>>8&255,F>>16&255,F>>>24])}return L};
$.Hi.vv=function(i,C,m,e,z){i=new Uint32Array(i.buffer);var L=C.m,l=C.J,x=L*l;if(e==null)e=$.Hi.Kl(i,C,[m]);
var S=Math.round(m.x-.5-C.x),k=Math.round(m.y-.5-C.y),f=k*L+S,X=Date.now(),o=I.R(L*l),A=z[0],P=1/A,F=z[1]&&A>0?255:0;
if(z[2]){var n=I.R(o.length),R=new Uint32Array(x),Q=1;R[0]=S<<16|k;n[f]=1;while(Q>0){var s=R[Q-1];Q--;
var j=s>>>16,_=s&65535,Y=_*L+j,B=$.Hi.w$(i[Y],e);if(B>A){var N=F*(1-Math.max(0,Math.min(1,(B-A)*P)));
o[Y]=~~N}else{o[Y]=255;if(_!=l-1&&n[Y+L]==0){R[Q++]=j<<16|_+1;n[Y+L]=1}if(_!=0&&n[Y-L]==0){R[Q++]=j<<16|_-1;
n[Y-L]=1}if(j!=L-1&&n[Y+1]==0){R[Q++]=j+1<<16|_;n[Y+1]=1}if(j!=0&&n[Y-1]==0){R[Q++]=j-1<<16|_;n[Y-1]=1}}}}else{for(var Y=0;
Y<x;Y++){var B=$.Hi.w$(i[Y],e);if(B<=A)o[Y]=255}for(var _=0;_<l;_++)for(var j=0;j<L;j++){var Y=_*L+j;
if(o[Y]==0&&(j>0&&(o[Y-1]==255||_>0&&o[Y-L-1]==255||_<l-1&&o[Y+L-1]==255)||j<L-1&&(o[Y+1]==255||_>0&&o[Y-L+1]==255||_<l-1&&o[Y+L+1]==255)||_>0&&o[Y-L]==255||_<l-1&&o[Y+L]==255)){var B=$.Hi.w$(i[Y],e),N=F*(1-Math.max(0,Math.min(1,(B-A)*P)));
o[Y]=~~N}}}return o};$.Hi.w$=function(i,C){var m=C.length,e=$.Hi.a71(i,C[0]),Y=1;while(Y!=m){e=Math.min(e,$.Hi.a71(i,C[Y]));
Y++}return e};$.Hi.a71=function(i,C){var m=i&255,e=i>>>8&255,z=i>>>16&255,L=i>>>24&255;if(C[3]==0)return L<5?0:255;
var l=Math.max(Math.abs(m-C[0]),Math.max(Math.abs(e-C[1]),Math.abs(z-C[2])));return L==0?255:l};$.v8=function(i,C){if(C)$.N9.call(this);
else if(i)$.N9.call(this,[10,49],$.$D,"tools/camove");else $.N9.call(this,[10,26],$.Cu,"tools/patch");
this.kF=null;this.Wm=null;this.F=null;this.xi=null;this.f4=new b5;this.lf=null;this.z1=null};$.v8.prototype=new $.N9;
$.v8.prototype.k7=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y);if(i.u&&I.Gl(L,i.u.channel,i.u.rect)){var l=new j2(0,0,i.m,i.J),x=l.G_(i.u.rect);
if(!i.KT()||x.bs())return;if(!0){var S=I.R(x.P());I.Vo(i.u.channel,i.u.rect,S,x);i.u={channel:S,rect:x}}this.hR(i);
this.u4(i);this.xi=L;this.f4=new b5(L.x-i.u.rect.x,L.y-i.u.rect.y);this.z1=I.R(i.u.rect.P()*4);this.z1.fill(255);
if(this.DO.patch==1){var k=i.M[i.g[0]];k.kI(i,i.u,!0);if(k.L5==null)this.xi=null}this.lf=i.u.rect.clone()}else{this.Wm={j:[L.x,L.y],G:["M"]};
this.kF=L}};$.v8.prototype.ct=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y);if(this.xi){if(this.DO.patch==1){if(i.Xk.length==0){var l=i.M[i.g[0]].L5,x=L.x-this.f4.x,S=L.y-this.f4.y;
$.a8.iD(i,i.g[0],Math.round(x-l.Ts.x),Math.round(S-l.Ts.y))}}else this.acM(i,L,"clone")}if(this.kF){this.Wm.G.push("L");
this.Wm.j.push(L.x,L.y);this.kF=L;i.N.tp=this.Wm;i.Qq=!0}};$.v8.prototype.$d=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y);
if(this.xi){var l=i.u.rect.clone();if(this.id==$.$D){var x=i.M[i.g[0]];x.TG(i,x.L5);i.u.rect=this.lf.clone();
var S=I.R(i.u.rect.P()*4);I.uC(i.u.channel,S,3);this.lQ(i,"sheal",S,i.u.rect,i.u.rect);i.u.rect=l;l=l.Z0(this.lf)}this.acM(i,L,"heal");
this.finish(i,l,null,null,!0);i.Y(l);this.xi=null}if(this.kF){var k=$.Z3.WQ(this.DO.setop,e.S(jD.$I),e.S(jD.rb)),f=new eX(v.E.HW,!0);
if(this.Wm.j.length<=4)f.data=$.Z3.BT();else f.data=$.Z3._V(this.Wm.j,k);C.T(f);this.kF=null;i.N.tp=null;
i.Qq=!0}};$.v8.prototype.jp=function(){return this.F};$.v8.prototype.Mp=function(i,C,m,e,z){$.N9.prototype.Mp.call(this,i,C,m,e,z);
this.W8(z,e)};$.v8.prototype.W8=function(i,C){var m="auto;";if(C!=null&&C.S(jD.$I)&&!C.S(jD.rb)||this.DO.setop=="union")m="copy";
var e=new eX(v.E.H,!0);e.data={d:v.B.TF,uu:m};if(this.caller)this.caller.T(e)};$.v8.prototype.acM=function(i,C,m){var e=new b5(Math.round(this.xi.x-C.x),Math.round(this.xi.y-C.y));
if(this.DO.patch==1)e.zy(-e.x,-e.y);this.F=e;this.lQ(i,m,this.z1,i.u.rect,i.u.rect);this.Y(i,i.u.rect)};
$.avA=function(){$.v8.call(this,!0);this.DO.patch=1};$.avA.prototype=new $.v8(!0,!0);$.fm=function(i){if(i)$.N9.call(this,[10,52],$.agg,"tools/meraser");
else $.N9.call(this,[10,13],$.a52,"tools/pbucket");this.C4=!1;this.ady=i};$.fm.prototype=new $.N9;$.fm.prototype.enable=function(i,C,m,e){var z=new eX(v.E.H,!0);
z.data={d:v.B.TF,uu:"default"};C.T(z)};$.fm.prototype.P6=function(i,C){};$.fm.prototype.k7=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z,!0))return;
this.C4=!0};$.fm.prototype.ct=function(i,C,m,e,z){if(this.Vt(i,C,m,e,z))return};$.fm.prototype.$d=function(i,C,m,e,z,L){this.enable(i,C,m,e);
var l=this.C4;this.C4=!1;if(!l||L)return;if(!i.KT())return;var x=i.q.yy(z.x,z.y),S=$.Hi.a37(i,x,this.DO.wconf,this.DO.sall,!0);
if(S==null)return;var k=I.R(S.rect.P()*4);I.eS(k,(m.Dm&255)<<16|(m.Dm>>8&255)<<8|(m.Dm>>16&255)<<0);
I.uC(S.channel,k,3);this.hR(i);this.lQ(i,this.ady?"erase":"draw",k,S.rect,S.rect);this.Y(i,S.rect);this.finish(i,S.rect)};
$.PN=function(){$.Z3.call(this,[10,14],$.aeN,"tools/plasso");this.oJ="crosshair";this.pg=[];this.At=null;
this.Wm=null;this.a3R=0};$.PN.prototype=new $.Z3;$.PN.prototype.disable=function(i,C,m,e){this.Zi(i)};
$.PN.prototype.MU=function(i,C,m,e){this.pg=[jD.nR,jD.sk]};$.PN.prototype.Xu=function(i){return this.pg.indexOf(i)!=-1};
$.PN.prototype.Ce=function(i){return this.Wm!=null};$.PN.prototype.hx=function(){return this.Wm!=null};
$.PN.prototype._$=function(){return this.Wm!=null};$.PN.prototype.bz=function(i,C,m,e){if(this.Wm==null)return;
var z=this.Wm,L=z.j,l=L.length-2,x=this.Nx;if(this.yQ.Bh(1)&&m.S(jD.rb)&&e.$G){L.push(0,0);z.G.push("L");
l+=2}else if(m.S(jD.$I))x=$.pK.OY(new b5(L[l-2],L[l-1]),x);L[l]=x.x;L[l+1]=x.y;i.N.tp=z;i.Qq=!0};$.PN.prototype.f9=function(i,C,m,e){var z=Date.now();
if(this.Wm==null)this.Wm={j:[this.Nx.x,this.Nx.y,this.Nx.x,this.Nx.y],G:["M","L"]};else{this.bz(i,C,m,e);
if(z-this.a3R<250||b5.qM(this.Nx,new b5(this.Wm.j[0],this.Wm.j[1]))<$.AE(i,e)){this.At=this.Wm;this.finish(i,C,m,e);
this.Zi(i);return}this.Wm.G.push("L");this.Wm.j.push(this.Nx.x,this.Nx.y)}this.a3R=z;i.N.tp=this.Wm};
$.PN.prototype.Zi=function(i){this.Wm=null;this.pg=[];if(i!=null){i.N.tp=null;i.Qq=!0}};$.PN.prototype.xC=function(i,C,m,e){$.Z3.prototype.xC.call(this,i,C,m,e);
if(e.S(jD.pn)&&this.Wm==null&&this.At&&i.u!=null){var z=new eX(v.E.v);z.f=$.Z9;z.data={d:"h_stepbck"};
C.T(z);this.MU(i,m,e,null);this.Wm=this.At;return}if(this.Wm==null)return;if(e.S(jD.nR)||e.S(jD.sk)){this.Wm.j.pop();
this.Wm.j.pop();this.Wm.G.pop();this.bz(i,m,e)}if(e.S(jD.RX)){if(this.Wm.j.length>4){this.At=this.Wm;
this.finish(i,m,e)}this.Wm=null}if(e.S(jD.pn)){this.Wm=null}i.N.tp=this.Wm;i.Qq=!0};$.PN.prototype.getSelection=function(i,C,m,e){return $.Z3._V(this.Wm.j,null,this.DO.anta)};
$.y$=function(){$.Z3.call(this,[10,10],$.aBh,"tools/mlasso");this.oJ="crosshair";this.pg=[];this.$=[];
this.NG=[];this.DC=[];this.t4=null;this.pl=null;this.vW=null;this.d6=0;this.px=0};$.y$.prototype=new $.Z3;
$.y$.prototype.disable=function(i,C,m,e){this.clear(i)};$.y$.prototype.Ce=function(i){return this.$.length!=0};
$.y$.prototype._$=function(){return this.$.length!=0};$.y$.prototype.Xu=function(i){return this.pg.indexOf(i)!=-1};
$.y$.prototype.MU=function(i,C,m,e){this.pg=[jD.nR,jD.sk];var z=this.cT(this.XQ,i);if(this.$.length!=0&&(b5.qM(z,this.$[0])<$.AE(i,e)||Date.now()-this.d6<300)){this.Gz(i,this.$[0]);
this.finish(i,C,m);this.clear(i);return}this.d6=Date.now();if(this.$.length!=0)z=this.et(z,i);else{var L=i.m,l=i.J,x=I.R(L*l),S=i.I6(),k=L*l*4;
for(var Y=0;Y<k;Y+=4)x[Y>>>2]=~~(.5+I.iw(S[Y],S[Y+1],S[Y+2])*(S[Y+3]*(1/255)));this.t4=I.LC.azv(x,L,l);
this.vW=new Uint16Array(x.length)}this.Gz(i,z);this.px=m.S(jD.rb)?1:0;this.ZT(i)};$.y$.prototype.Gz=function(i,C){var m=this.$;
this.NG[m.length]=this.DC.length;if(m.length!=0){I.LC._E(this.pl,C.y*i.m+C.x);var e=this.n3(i,C);e.reverse();
var z=$.y$.afs(i,e);this.DC=this.DC.concat(z)}m.push(C);this.aDw(i)};$.y$.prototype.aDw=function(i){var C=this.$[this.$.length-1],m=C.y*i.m+C.x;
this.pl=I.LC.a2U(this.t4.Rf,this.t4.A5,m);this.vW.fill(0)};$.y$.prototype.cT=function(i,C){return new b5(Math.floor(Math.max(0,Math.min(C.m-1,i.x))),Math.floor(Math.max(0,Math.min(C.J-1,i.y))))};
$.y$.prototype.clear=function(i){this.DC=[];this.$=[];this.NG=[];this.t4=null;this.pl=null;this.vW=null;
if(i!=null){i.N.tp=null;i.N.jr=[];i.Qq=!0}this.pg=[]};$.y$.prototype.bz=function(i,C,m,e){var z=this.$,L=z.length;
if(L==0)return;var l=this.et(this.cT(this.Nx,i),i),x=this.n3(i,l);for(var Y=0;Y<x.length;Y++){var S=x[Y],k=new b5(S%i.m,Math.floor(S/i.m));
if(this.vW[S]>30&&b5.qM(k,z[L-1])>20){this.Gz(i,k);return}this.vW[S]++}if(this.px==1&&e.$G)this.Gz(i,l);
this.ZT(i)};$.y$.prototype.ZT=function(i){var C=this.$;if(C.length!=0){var m=this.et(this.cT(this.Nx,i),i),e=this.n3(i,m);
e.reverse();var z=$.y$.afs(i,e),L=this.DC.concat(z),l=i.N.tp={j:L,G:["M"]};for(var Y=2;Y<L.length;Y+=2)l.G.push("L")}i.N.jr=[];
for(var Y=0;Y<C.length;Y++)i.N.jr.push(C[Y].x+.5,C[Y].y+.5);i.Qq=!0};$.y$.prototype.f9=function(i,C,m,e){};
$.y$.prototype.xC=function(i,C,m,e){if(this.$.length==0)return;if(e.S(jD.nR)||e.S(jD.sk)){this.$.pop();
this.DC=this.DC.slice(0,this.NG[this.$.length]);this.NG.pop();if(this.$.length==0)this.clear(i);else this.aDw(i);
this.ZT(i)}if(e.S(jD.RX)){var z=this.cT(this.Nx,i);this.Gz(i,z);this.finish(i,m,e);this.clear(i)}if(e.S(jD.pn)){this.clear(i)}};
$.y$.prototype.getSelection=function(i,C,m,e){return $.Z3._V(this.DC,null,this.DO.anta)};$.y$.prototype.n3=function(i,C){var m=this.$[this.$.length-1],e=m.y*i.m+m.x,z=C.y*i.m+C.x;
if(this.px==1)return[z,e];var L=[z];while(z!=e){z=this.pl.Gq[z];L.push(z);if(L.length>5e3){console.log(L);
throw"e"}}return L};$.y$.afs=function(i,C){var m=[],e=i.m;for(var Y=0;Y<C.length;Y++){var z=C[Y];m.push(z%e+.5,Math.floor(z/e)+.5)}return m};
$.y$.prototype.et=function(i,C){var m=C.m,e=C.J,z=i.clone(),l=3;I.LC._E(this.pl,i.y*m+i.x);var L=this.pl.MJ[i.y*m+i.x];
for(var x=-l+1;x<l;x++)for(var S=-l+1;S<l;S++){var k=i.x+S,f=i.y+x;if(k<0||k>=m||f<0||f>=e)continue;
I.LC._E(this.pl,f*m+k);if(this.pl.MJ[f*m+k]<L)z.zy(k,f)}return z};$.ix=function(){$.KV.call(this,[10,36],$.kK,"tools/ruler");
this.Gu=null;this.KY=null;this.IR=null;this.X_=null;this.xh=null};$.ix.prototype=new $.KV;$.ix.prototype.Ce=function(i){return i.$G};
$.ix.prototype.enable=function(i,C,m,e){$.KV.prototype.enable.call(this,i,C,e,m);if(i)this.gn(i)};$.ix.prototype.disable=function(i,C,m,e){if(i)this.Zi(i)};
$.ix.prototype.X4=function(i,C,m,e,z){this.Gu=this.IR=null;this.gn(m)};$.ix.prototype.k7=function(i,C,m,e,z){var L=$.AE(i,z),l=i.q.yy(z.x,z.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);var x=this.Gu;this.KY=x?x.slice(0):null;var S=x&&b5.qM(l,x[0])<L,k=x&&b5.qM(l,x[1])<L,f=x&&x[2]&&b5.qM(l,x[2])<L;
if(S||k||f){if(e.S(jD.rb)&&x.length==2){if(k){var X=x[0];x[0]=x[1];x[1]=X}x[2]=x[0].clone();this.IR=[2]}else this.IR=[S?0:k?1:2]}else if(x&&$.ix.a6S(x[0],x[1],l)<L&&Math.min(x[0].x,x[1].x)-5<=l.x&&l.x<=Math.max(x[0].x,x[1].x)+5&&Math.min(x[0].y,x[1].y)-5<=l.y&&l.y<=Math.max(x[0].y,x[1].y)+5){this.IR=[];
this.xh=[];for(var Y=0;Y<x.length;Y++){this.IR.push(Y);this.xh.push(x[Y].clone())}this.X_=l}else{this.Gu=[l.clone(),l.clone()];
this.IR=[1]}};$.ix.prototype.ct=function(i,C,m,e,z){if(this.IR==null)return;var L=this.Gu,l=this.IR,x=i.q.yy(z.x,z.y);
x.x=Math.round(x.x);x.y=Math.round(x.y);if(l.length>1){var S=x.x-this.X_.x,k=x.y-this.X_.y;for(var Y=0;
Y<L.length;Y++){L[Y]=this.xh[Y].clone();L[Y].offset(S,k)}}else{L[l[0]].zy(x.x,x.y);if(e.S(jD.$I)){L[l[0]]=$.pK.OY(L[1-l[0]],L[l[0]])}}this.gn(i);
this.Hq(C,v.E.H,{d:v.B.Yo,f:this.id,ahl:L[0],oc:L[1],V$:L[2],lC:i.lC,ajC:i.m});i.q.Bt=I.C.Ve([L[0].x,L[0].y,L[1].x,L[1].y]);
console.log(i.q.Bt)};$.ix.prototype.$d=function(i,C,m,e,z,L){this.IR=null;if(L){this.Gu=this.KY.slice(0);
this.gn(i)}};$.ix.prototype.Hq=function(i,C,m){var e=new eX(C,!0);e.data=m;i.T(e)};$.ix.prototype.gn=function(i){var C=this.Gu;
if(C==null)this.Zi(i);else{var m=[C[1].x,C[1].y,C[0].x,C[0].y],e=["M","L"];if(C.length>2){m.push(C[2].x,C[2].y);
e.push("L")}i.N.tp={G:e,j:m};i.N.jr=m}i.Qq=!0};$.ix.prototype.Zi=function(i){i.N.tp=null;i.N.jr=[]};
$.ix.a6S=function(i,C,m){var e=C.x-i.x,z=C.y-i.y,L=Math.abs(z*m.x-e*m.y+C.x*i.y-C.y*i.x),l=Math.sqrt(e*e+z*z);
return l==0?0:L/l};$.Sh=function(){$.N9.call(this,[10,19],$.QR,"tools/sharpen");this.lm="copy"};$.Sh.prototype=new $.N9;
$.Sh.prototype.k7=function(i,C,m,e,z){var L=this.DO.pdetail?eY.Bx:eY.QR;if(e.S(jD.rb))L=eY.vU;this._F(i,m,e,z,this.DO.strn,L);
if(this.lX==null)return;this.fl(i)};$.Sh.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.xP=function(){$.N9.call(this,[10,24],$.vZ,"tools/shbrush");
this.lm="draw";this.DO.opacity=.5};$.xP.prototype=new $.N9;$.xP.prototype.k7=function(i,C,m,e,z){this._F(i,m,e,z,1);
if(this.lX==null)return;this.u4(i);this.fl(i)};$.xP.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);
if(this.G7)this.aD(i,m,z);if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.xP.prototype.$d=function(i,C,m,e,z){if(this.lX==null)return;
this.lQ(i,"sheal",this.lX.yN(),this.lX.S8(),this.lX.HK(),null);this.Y(i,this.lX.HK());$.N9.prototype.$d.call(this,i,C,m,e,z)};
$.Jv=function(){$.N9.call(this,[10,20],$.hE,"tools/smudge");this.lm="copy"};$.Jv.prototype=new $.N9;
$.Jv.prototype.k7=function(i,C,m,e,z){var L=this.DO.brush.toolOptions;this._F(i,m,e,z,this.DO.strn,eY.hE);
if(this.lX==null)return;this.fl(i)};$.Jv.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$.NW=function(){$.N9.call(this,[10,23],$.GP,"tools/sponge");
this.lm="sponge"};$.NW.prototype=new $.N9;$.NW.prototype.k7=function(i,C,m,e,z){this._F(i,m,e,z,this.DO.flow);
if(this.lX==null)return;this.fl(i)};$.NW.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);if(this.G7)this.aD(i,m,z);
if(this.lX==null)return;if(!z.$G)return;this.Dy(i,m,e,z);this.fl(i)};$._q=function(){$.KV.call(this,[10,17],$.BM,"tools/zoom");
this.Fb=!1;this.u7=!0;this.ob=!1;this.PJ=0;this.tg=null;this.jN=null;this.ZJ=0;this.qE=null;this.afj=0;
this.M9=new gw([{name:[8,0],Xt:"Ctrl + +"},{name:[8,1],Xt:"Ctrl + -",mL:!0},{name:[20,3],Xt:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Xt:"Ctrl + 1"}],[{K:v.E.v,f:$.BM,A:{d:"zoom",u7:!0}},{K:v.E.v,f:$.BM,A:{d:"zoom",u7:!1}},{K:v.E.v,f:$.BM,A:{d:"adapt",b:"fitscr"}},{K:v.E.v,f:$.BM,A:{d:"adapt",b:"pixel"}}])};
$._q.prototype=new $.KV;$._q.prototype.mq=function(i,C,m,e,z){var L=this.M9;L._();L.parent=C;L.update(i,m);
var l=new eX(v.E.H,!0);l.data={d:v.B.vs,aA:L,x:z.Xy+2,y:z.UE+1};C.T(l)};$._q.prototype.enable=function(i,C,m,e){this.hO(C,e);
if(i&&Date.now()-this.PJ<300)this.X4({d:"adapt",b:"pixel"},C,i,e,m);this.PJ=Date.now()};$._q.prototype.k7=function(i,C,m,e,z){this.jN=new b5(z.x,z.y);
this.ZJ=i.q.U;this.qE=i.q.F.clone()};$._q.prototype.ct=function(i,C,m,e,z){if(this.jN==null)return;var L=Math.exp(Math.log(this.ZJ)+(z.x-this.jN.x)/64);
L=Math.max(.02,Math.min($._q.GJ[0],L));i.q.U=this.ZJ;i.q.F=this.qE.clone();this.X4({d:"zoom",U:L,fd:this.jN,ob:this.ob},C,i,e,m)};
$._q.prototype.$d=function(i,C,m,e,z){if(b5.qM(this.jN,z)<4){var L=this.auU(e);this.X4({d:"zoom",u7:L,fd:z,ob:this.ob},C,i,e,m)}this.jN=null};
$._q.GJ=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
$._q.qj=function(i,C,m,e){var z=1;while(i*z*1/2>m||C*z*1/2>e)z*=1/2;if(i*z*2/3>m||C*z*2/3>e)z*=1/2;else if(i*z>m||C*z>e)z*=2/3;
return z};$._q.aaa=function(i,C){var m=$._q.aiN(i);if(C&&m==0)return i;if(!C&&m==$._q.GJ.length-1)return i;
return $._q.GJ[C?m-1:m+1]};$._q.aiN=function(i){var C=0;while($._q.GJ[C]>i)C++;return C};$._q.Vl=function(i,C,m,e){var z=i.n4;
if(e==0||e==null){e=$._q.aaa(i.U,m);if(e==i.U)return}var L=i.yy(C.x,C.y);L.x=Math.max(0,Math.min(z.m,L.x));
L.y=Math.max(0,Math.min(z.J,L.y));if(!1){}else{var l=i.Vf(),x=i.U/e;l.translate(-L.x,-L.y);l.scale(x,x);
l.translate(L.x,L.y);i.aBQ(l)}};$._q.prototype.X4=function(i,C,m,e,z){if(i.d=="pzoom"){if(typeof i.b=="string")return;
i={d:"zoom",U:i.b/100}}var L=0,l=!1,x=null;if(i.d=="adapt"){var S=0;if(i.b=="pixel")S=1;if(i.b=="fitscr"){var S=0,k=m.q.eo.m,f=m.q.eo.J,X=new j2(0,0,m.m,m.J),o=I.C.Ym(X).j,A=new hN;
A.rotate(m.q.RQ);I.C.i(o,A,o);var P=I.C.OO(o),F=z.JC?I.up._C+4:8;S=Math.min((k-F*2)/P.m,(f-F*2)/P.J);
m.q.F.zy(0,0)}x=new b5(Math.round(m.q.eo.m/2),Math.round(m.q.eo.J/2));L=S;$._q.Vl(m.q,x,l,L);m.sa=!0}if(i.d.startsWith("multi")){function n(D){var g=D[0].x-D[1].x,u=D[0].y-D[1].y;
return Math.sqrt(g*g+u*u)}function R(D){return new b5((D[0].x+D[1].x)/2,(D[0].y+D[1].y)/2)}function Q(D){var g=D[0].x-D[1].x,u=D[0].y-D[1].y;
return Math.atan2(u,g)}var s=i.Mq,j=R(s);if(i.d=="multidown"){this.tg=[s,m.q.U,m.q.yy(j.x,j.y),m.q.RQ]}else{var _=$._q.GJ,H=.15;
L=this.tg[1]*n(s)/n(this.tg[0]);L=Math.max(_[_.length-1],Math.min(_[0],L));if(L!=m.q.U)$._q.Vl(m.q,j,l,L);
var B=this.tg[2],N=m.q.ip(B.x,B.y),a=m.q.F;a.x=Math.round(a.x+j.x-N.x);a.y=Math.round(a.y+j.y-N.y);var O=this.tg[3]+(Q(s)-Q(this.tg[0]));
O=O%(2*Math.PI);while(O<0)O+=2*Math.PI;if(O<H||O>2*Math.PI-H)O=0;m.q.RQ=O;m.sa=!0}}if(i.d=="scroll"){x=i.fd;
var _=$._q.GJ,q=i.Ml.y,h=1+Math.abs(q)*8e-4*(i.aAe?10:1);if(q>0)h=1/h;L=m.q.U*h;$._q.Vl(m.q,x,l,Math.min(_[0],Math.max(_[_.length-1],L)));
m.sa=!0}if(i.d=="zoom"){var D=i.ob?C.dM:[m];for(var Y=0;Y<D.length;Y++){var T=D[Y],p=T.q;x=i.fd?i.fd:new b5(Math.round(p.eo.m/2),Math.round(p.eo.J/2));
if(i.U!=null)L=i.U;else l=i.u7;$._q.Vl(p,x,l,L);T.sa=!0}}if(i.d=="mskView"){var y=m.M[m.g[0]];if(y.ii<=0){y.ii=1;
m.gZ=!0}var b=y.ii==3?y.x6(m).X:y.Re();if(i.b==0){m.q.O=[1,1,1];b.S0=!1}if(i.b==1){m.q.O=[1,1,1];b.S0=!0}if(i.b==2){m.q.O=[0,0,0];
b.S0=!0}for(var Y=0;Y<m.T3.length;Y++)m.T3[Y].S0=!1;m.Xk=[];m.Qq=!0}};$._q.prototype.xC=function(i,C,m,e){if(this.Fb!=e.S(jD.rb)){this.Fb=e.S(jD.rb);
var z={d:v.B.Yo,f:this.id,Fb:this.Fb},L=new eX(v.E.H,!0);L.data=z;C.T(L);this.hO(C,e)}};$._q.prototype.hO=function(i,C){var m=new eX(v.E.H,!0),e=this.auU(C);
m.data={d:v.B.TF,uu:e?"zoom-in":"zoom-out"};i.T(m)};$._q.prototype.Mp=function(i,C,m,e){this.u7=i.u7;
this.ob=i.ob;this.hO(C,e)};$._q.prototype.auU=function(i){var C=this.u7;if(i.S(jD.uE)&&i.S(jD.Uj))C=!0;
if(this.Fb)C=!C;return C};$._q.a76=function(i,C){if(i.S(jD.Ek)||i.S(jD.a1k)){C.f=$.BM;C.data={d:"zoom",u7:!0}}if(i.S(jD.Mn)){C.f=$.BM;
C.data={d:"zoom",u7:!1}}if(i.S(jD.GX)){C.f=$.BM;C.data={d:"adapt",b:"fitscr"}}if(i.S(jD.q_)){C.f=$.BM;
C.data={d:"adapt",b:"pixel"}}};$.SY=function(i,C,m){$.KV.call(this,i,C,m);this.R6=null;this.os=null;
this.Oe=null;this.a6H=0};$.SY.prototype=new $.KV;$.SY.wI=function(i,C){var m={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},e=i==null?{classID:"null",null:m,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:m,Usng:{t:"type",v:{classID:i}},__name:"Stroke"};
if(C)e.Prs={t:"bool",v:!0};return{o0:i==null?"fill":"stroke",t6:e}};$.SY.prototype.enable=function(i,C,m,e,z){this.os=m;
var L=new eX(v.E.H,!0);L.data={d:v.B.TF,uu:"default"};C.T(L)};$.SY.prototype.mq=function(i,C,m,e,z){var L=i.bM(),l=L[0],x=L[1];
if(x.length==0)return;var S=l[x[0]],k=S.add.vmsk,f=i.q.yy(z.x,z.y),X=4*$.XP()/i.q.U,o=new j2(f.x-X,f.y-X,X*2,X*2),A=I.o.bY(k.$,o)[0];
if(A.length!=0){k.Ki=A;i.Qq=!0}var P=I.o.Gl(k.$,f).h6;if(P!=-1){k.g=[P];i.Qq=!0}var F=new eX(v.E.H,!0);
F.data={d:v.B.Yo,f:this.id,Es:z,xn:i,p7:m};C.T(F)};$.SY.prototype.apl=function(i,C){var m=new eX(v.E.H,!0);
m.data={d:v.B.Mc,N5:dm.e$};if(!C.B4)i.T(m);m.data={d:v.B.Mc,N5:dm.ou};if(!C.Cv.DI)i.T(m)};$.SY.prototype.Bj=function(i,C,m,e,z){if(m.jw!=this.id&&z==null)return;
if(i.g.length==0)return;var L=i.M[i.g[0]],l=L.add.vmsk,x=L.add.vstk,S=L.add.vstl;if(d4==0){var k=jt.FU(L.add);
this.R6=i;this.Oe=C;if(L.Q9()&&l!=null&&(JSON.stringify(x)!=JSON.stringify(m.Co)||JSON.stringify(k)!=JSON.stringify(m.ZF))){this.a6H=Date.now();
var f=new eX(v.E.H,!0);f.data={d:v.B.Mc,N5:dm.w4,b:k};C.T(f);f.data={d:v.B.Mc,N5:dm.$w,b:x};C.T(f)}}else if(S){var X=JSON.stringify(S);
if(X!=JSON.stringify(m.$_)){var f=new eX(v.E.H,!0);f.data={d:v.B.Mc,N5:dm.gm,b:JSON.parse(X)};C.T(f)}}};
$.SY.prototype.P6=function(i,C){if(this.R6==null)return;if(C==dm.cX||C==dm.w4||C==dm.$w){if(Date.now()-this.a6H<50)return;
var m=C==dm.w4,e=this.R6,z=m?i.ZF:i.Co,L=[],l=e.g;for(var Y=0;Y<l.length;Y++){var x=l[Y],S=e.M[x];if(!S.Q9()||S.add.vmsk==null)continue;
L.push(x)}var k=new eX(v.E.v,!0);k.f=$.bH;k.data={d:cc.p1,na:L,g2:m,b:z};if(L.length!=0)this.Oe.T(k)}};
$.SY.prototype.a0i=function(i){if(typeof i=="number"){var C=new eX(v.E.HW,!0);C.data=$.P0.WA(0);C.data.t6.Usng.v.Type.v.Clr.v=I.I.$q({Z:i>>>16&255,r:i>>>8&255,e:i>>>0&255});
this.Oe.T(C)}};$.SY.prototype.X4=function(i,C,m,e,z){this.Oe=C;if(i.d=="newfill"){if(i.rp==0){var L=new eX(v.E.H,!0);
L.data={d:v.B.c6,pw:"colorpicker",GN:z.Dm,Fu:this.a0i.bind(this)};C.T(L)}}else if(i.d=="smplp"){if(m==null)return;
var l=m.bM(),x=l[0],S=l[1];if(S.length==0){alert("No paths selected");return}var f=x[S[0]];if(f.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.jD==null){this.jD=f.add.vmsk.clone();this.Md=JSON.stringify(f.add.vogk);this.Wm=f;this.R6=m}var L=new eX(v.E.H,!0);
L.data={d:v.B.c6,pw:"simplifypath",GZ:100,G$:this.az7.bind(this)};C.T(L)}else if(i.d=="pathedit"){var X=i.Tt,o="",A=m.DI.slice(0),P=m.ft.slice(0),F=m.DI.slice(0),n=m.ft.slice(0);
if(X=="rnm"){var R=-1-i.h6,Q=A[R],s=ei.ew(i.name,Q.add);if(R!=0)F[R]=s;else{n=[F.length];F.push(s);F[0]=ei.ew("Work Path")}o="Rename"}else if(X=="new"){var s=ei.ew("Path "+A.length);
if(i.ajr){var l=m.bM(),x=l[0],S=l[1],j=x[S[0]];s.add.vmsk=j.add.vmsk.clone();s.add.vogk=JSON.parse(JSON.stringify(j.add.vogk));
if(j.h6==-1){var _=F[n[0]]=ei.ew("Path "+A.length);_.name=j.name;_.h6=j.h6}}F.push(s);n=[F.length-1];
o="New"}else if(X=="del"){if(n.length==0)return;n.sort(function(T,J){return T-J});if(n[0]==0){F[0]=ei.ew(A[0].name);
n=n.slice(1)}var B=0;while(n.length!=0){F.splice(n[0]-B,1);n=n.slice(1);B++}o="Delete"}else if(X=="fromsel"){var f=F[0]=ei.ew("Work Path");
n=[0];if(m.u==null)return;var N=m.u.channel.slice(0);for(var Y=0;Y<N.length;Y++)N[Y]=N[Y]>128?2:1;var a=m.u.rect.clone();
a.sW(1,1);var O=I.R(a.P());I.Vo(N,m.u.rect,O,a);var H=gu.if(O,a.m,a.J,Math.round(a.P()*5e-4)),x=gu.bM(H),q=new hN(1,0,0,1,-1+m.u.rect.x,-1+m.u.rect.y);
for(var Y=0;Y<x.length;Y++)I.C.i(x[Y].path.j,q,x[Y].path.j);for(var Y=0;Y<x.length;Y++){var h=x[Y];if(h.color==1&&h.parent==-1)continue;
var D=I.C.aZ(x[Y].path,!1);D[2].ay=0;f.add.vmsk.$=f.add.vmsk.$.concat(D.slice(2))}f.add.vogk=cc.tO(f.add.vmsk.$);
o="Selection to"}var T=new fw(o+" Path",this);T.data={KY:A,TJ:P,afV:F,VK:n};if(X=="fromsel"){T.data.Ii=m.u;
T.data.sU=null}m.zN(T);this.gT(T.data,m)}else{var p=i.jj,l=m.bM(i.d=="append"||i.d=="fromAction"),x=l[0],S=l[1],f=x[S[0]],y=f.add.vmsk,b=f.add.vogk,g=y.clone(),u=y.clone(),t=JSON.stringify(b);
if(i.d=="fromAction"){var V=i.bG,c=V.o0,E=V.t6,Z=E.T;if(c=="set"){if(Z){b.push(I.ta.b_(Z));u.$.push({type:0,ay:1,length:0});
I.ta.D_(b,u);p=[12,76,0]}else throw E}else if(c=="draw"){b=[I.ta.b_(E.Shp)];u.$.push({type:0,ay:1,length:0});
I.ta.D_(b,u);$.SY.aCS(u.$,E.AntA.v,z.Dm,C);return}else throw c}else if(i.d=="remove"){if(i.D9&&u.Ki.length!=0){u.$=I.o.aq2(u.$,u.Ki,b,i.afH);
var G=I.o.vS(u.$);for(var Y=0;Y<u.g.length;Y++)if(u.g[Y]>=G){u.g.splice(Y,1);Y--}u.Ki=[];p="Delete Anchors"}else{if(u.g.length==0)return;
var B=0;for(var Y=0;Y<u.g.length;Y++){b.splice(u.g[Y]+B,1);B--}u.$=I.o.auN(u.$,u.g);u.g=[];u.Ki=[];if(p==null)p="Delete Paths"}}if(i.d=="append"){$.SY.M4(i.amT,u,b)}this.W2(m,f.h6,u,b);
this.A8(m,p,f.h6,g,u.clone(),null,t,JSON.stringify(b))}};$.SY.aCS=function(i,C,m,e){var z=new cc.hF;
z.$=z.$.concat(i.slice(2));var L=z.Re();if(!C)I.round(L.channel);var l=I.R(L.rect.P()*4);I.eS(l,(m&255)<<16|(m>>8&255)<<8|(m>>16&255)<<0);
I.uC(L.channel,l,3);var x=new eX(v.E.v,!0);x.f=$.go;x.data={d:"draw",JK:{buffer:l,rect:L.rect.clone()},jj:this.name};
e.T(x)};$.SY.Ik=function(i,C){var m=I.o.a1j(i.$,i.g),e=[];for(var Y=0;Y<i.g.length;Y++)e.push(JSON.parse(JSON.stringify(C[i.g[Y]])));
return[m,e]};$.SY.M4=function(i,C,m){var e=I.o.vS(C.$),z=I.o.vS(i[0]);C.$=C.$.concat(i[0].slice(2));
C.g=[];for(var Y=0;Y<z;Y++)C.g.push(e+Y);for(var Y=0;Y<z;Y++)m.push(JSON.parse(JSON.stringify(i[1][Y])))};
$.SY.prototype.Xu=function(i,C){if(C==null)return!1;var m=C.bM(),e=m[0],z=m[1];if(z.length==0)return!1;
var L=e[z[0]],l=L.add.vmsk;if(l&&l.g.length+l.Ki.length!=0)return[jD.nR,jD.sk].indexOf(i)!=-1};$.SY.prototype.xC=function(i,C,m,e){if(i==null)return;
var z=i.bM(),L=z[0],l=z[1];if(l.length==0)return;var x=L[l[0]],S=x.add.vmsk;if(e.S(jD.pn)||e.S(jD.RX)||this.id==$.wJ&&e.S(jD.Je)&&S.Ki.length==1){S.Ki=[];
i.Qq=!0}if(S.g.length!=0){var k=e.PD(i?i.q.RQ:0);if(k.x!=0||k.y!=0){var f=S.clone(),X=S.clone(),o=new hN(1,0,0,1,k.x,k.y),A=x.add.vogk,P=JSON.stringify(A);
if(e.S(jD.rb)){var F=$.SY.Ik(X,A);$.SY.M4(F,X,A)}I.o.Pa(X.$,o,X.g);I.ta.i(A,I.D.fL(o),X.g);this.W2(i,x.h6,X,A);
this.A8(i,"Move Paths",x.h6,f,X.clone(),!0,P,JSON.stringify(A))}if(e.S(jD.nR)||e.S(jD.sk))this.X4({d:"remove",D9:this.id==$.wJ},C,i,e,m)}};
$.SY.prototype.A8=function(i,C,m,e,z,L,l,x){var S=new fw(C,this);S.data={vX:m,EW:e,zm:z,aE6:L,azK:l,v$:x};
i.zN(S)};$.SY.prototype.gT=function(i,C){if(i.vX!=null)this.W2(C,i.vX,i.zm.clone(),JSON.parse(i.v$));
else{C.DI=i.afV.slice(0);C.ft=i.VK.slice(0);C.Qq=C.gZ=!0}if(i.Ii||i.sU){C.u=i.sU;C.Pm=!0}};$.SY.prototype.qp=function(i,C){if(i.vX!=null)this.W2(C,i.vX,i.EW.clone(),JSON.parse(i.azK));
else{C.DI=i.KY.slice(0);C.ft=i.TJ.slice(0);C.Qq=C.gZ=!0}if(i.Ii||i.sU){C.u=i.Ii;C.Pm=!0}};$.SY.prototype.W2=function(i,C,m,e){var z=C<0?i.DI[-1-C]:C<1e6?i.M[C]:i.M[C-1e6].add.TySh,L=z.add.vmsk;
L.channel=null;L.kL=!0;if(L.ow){L.ow.channel=null;L.ow.kL=!0}z.add.vmsk=m;z.add.vogk=e;if(1e6<=C){e7.l7(z);
var l=i.M[C-1e6],x=z,S=this.os;b7.LT(l,S.FV);i.Y()}else if(0<=C){m.kL=!0;z.rH(i);i.Y()}i.Qq=i.gZ=!0};
$.P0=function(i,C,m,e){$.SY.call(this,i,C,m);this.DO={shape:cV.TQ(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{me:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aE7=e;this.om=null;this.Ui=null;this.oa=null;this.yQ=new is};$.P0.prototype=new $.SY;$.P0.prototype.Ce=function(i){return i.$G&&this.id!=$.NB};
$.P0.prototype.enable=function(i,C,m,e,z){this.os=m;var L=new eX(v.E.H,!0);L.data={d:v.B.TF,uu:"crosshair"};
C.T(L)};$.P0.prototype.xC=function(i,C,m,e){$.SY.prototype.xC.call(this,i,C,m,e);this.yQ.xC(e);this.or(C,m)};
$.P0.prototype.or=function(i,C){var m=new eX(v.E.H,!0);m.data={d:v.B.Yo,f:this.id,yE:this.fI(C)};i.T(m)};
$.P0.prototype.fI=function(i){var C=this.yQ.Dg(0),m=this.yQ.Bh(0),e=$.Z3.WQ(this.DO.binop,C,m);if(i.Wn==1&&e==0)e=1;
return e};$.P0.prototype.K0=function(i,C,m,e){};$.P0.prototype.k7=function(i,C,m,e,z){var L=m.Wn;if(L!=2)this.apl(C,m);
if(L==2&&!i.KT())return;var l=i.q.yy(z.x,z.y);l=$.a8.qG(i,l,m);this.oa=[l.x,l.y];this.om=l;this.Ui=new b5(0,0);
this.yQ.k7(e)};$.P0.prototype.am7=function(i,C,m,e){var z=[this.om.clone(),C.clone()];m=this.yQ.Dg(1)||m.S(jD.$I)||this.yQ.Bh(1)?m:null;
if(this.aE7)z=$.P0.Tk(z[0],z[1],m,!0,this.DO.cstr);if(i)i.q.Bt=new j2(z[0].x,z[0].y,z[1].x-z[0].x,z[1].y-z[0].y);
return this.K0(z[0],z[1],this.yQ.Dg(1)&&m.S(jD.$I),this.oa,i.q,e)};$.P0.prototype.ap$=function(i,C,m){var e=i.q.yy(C.x,C.y);
if(this.id==$.NB)return e;var z=this.DO.cstr;if(z.me==2){var L=new j2(e.x-z.x,e.y-z.y,z.x,z.y),l=$.a8.DY(i,L,m);
e.x+=l[0];e.y+=l[1];$.a8.Yr(i,L,l)}else e=$.a8.qG(i,e,m);return e};$.P0.prototype.ct=function(i,C,m,e,z){if(this.om==null)return;
var L=this.oa,l=L.length,x=z?this.ap$(i,z,m):new b5(L[l-2],L[l-1]);if(e.S(jD.uE))this.om=x._3(this.Ui);
else this.Ui=x._3(this.om);L.push(x.x,x.y);if(this.DO.shape==null)this.DO.shape=m.Qu[0];var S=this.am7(i,x,e,!0)[0],k=I.C.BN(S);
i.N.tp=k;if(this.id!=$.NB&&this.id!=$.$t&&this.id!=$.mV)$.KV.Pf(z,i.q.Bt,i,m);i.Qq=!0;this.yQ.ct()};
$.P0.prototype.a81=function(i,C,m,e){var z=i[4].clone();if(e){z.x-=C/2;z.y-=m/2}if(this.id==$.$t){C/=2;
m/=2;z.x+=C;z.y+=m;m=-m;C=0}var L=this.K0(z,new b5(z.x+C,z.y+m),!1,this.oa);this.aot(i[0],i[1],i[2],L)};
$.P0.prototype.aot=function(i,C,m,e){var z=m.Wn,L=new eX(v.E.HW,!0);if(z==0)L.data=$.P0.aBn(e[1],m);
else if(z==1){var l={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:e[1]};
L.data={o0:"set",t6:l}}else{var l={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:e[1]};L.data={o0:"draw",t6:l}}C.T(L);
if(e[1].v.classID=="customShape"&&e[1].v.Nm.v.startsWith("--")){var x=i.bM(),S=x[0],f=x[1],X=S[f.pop()],o=X.add.vmsk,A=X.add.vogk;
I.ta.adY(A);var P=o.clone();P.$=e[0];this.W2(i,X.h6,P,A)}};$.P0.prototype.$d=function(i,C,m,e,z,L){if(this.om==null)return;
var l=this.ap$(i,z,m),x=this.fI(m),S=m.Wn,k=this.oa,f=k.length;if(this.id==$.NB&&f<=4){}else if(f<=4){l.x=Math.round(l.x);
l.y=Math.round(l.y);var X=new eX(v.E.H);X.data={d:v.B.c6,pw:"createshape",al7:this.a81.bind(this),aC1:this.name,apB:[i,C,m,e,l]};
if(!L)C.T(X)}else if(f!=2){var o=this.am7(i,l,e),A=o[0],P=i.bM(!0),F=P[0],n=P[1],R=n.length-1;if(S==1&&A.length>2||S==0&&x!=0&&R!=-1&&F[n[R]].h6>=0){A[2].ay=[1,2,3,0][x-1];
var Q=F[n.pop()],s=Q.add.vmsk,j=Q.add.vogk,_=s.clone(),B=s.clone(),N=JSON.stringify(j);B.$=B.$.concat(A.slice(2));
B.g=[I.o.vS(B.$)-1];var a=I.ta.b_(o[1]);j.push(a?a:I.ta.T9());this.W2(i,Q.h6,B,j);this.A8(i,this.name,Q.h6,_,B,null,N,JSON.stringify(j))}else if(S==0){this.aot(i,C,m,o)}else if(S==2){$.SY.aCS(A,this.DO.anta,m.Dm,C)}}this.om=null;
i.N.tp=null;i.N.Bd=null;i.N.z9=[];i.q.Bt=null;i.Qq=!0;this.yQ.$d();this.or(C,m)};$.P0.prototype.Mp=function(i,C,m,e,z){for(var m in i)this.DO[m]=i[m]};
$.P0.Tk=function(i,C,m,e,z){var L=i.x,l=i.y,x=C.x,S=C.y;if(z&&z.me==2){if(e){x=Math.round(x);S=Math.round(S)}L=x-z.x;
l=S-z.y}else{var k=0;if(z&&z.me==1)k=z.y/z.x;else if(m&&m.S(jD.$I))k=1;if(k!=0){if(e){if(L<x)L=Math.floor(L);
else L=Math.ceil(L);if(l<S)l=Math.floor(l);else l=Math.ceil(l)}var f=Math.abs(x-L),X=Math.abs(S-l),o=f;
if(X/f<k)o*=X/f/k;x=x>L?L+o:L-o;S=S>l?l+o*k:l-o*k}if(m&&m.S(jD.rb)){L-=x-L;l-=S-l}}var i=new b5(L,l),C=new b5(x,S);
if(e)$.P0.aDK(i,C);return[i,C]};$.P0.aDK=function(i,C){if(i.x>C.x){var m=i.x;i.x=C.x;C.x=m}if(i.y>C.y){var m=i.y;
i.y=C.y;C.y=m}i.x=Math.floor(i.x);i.y=Math.floor(i.y);C.x=Math.ceil(C.x);C.y=Math.ceil(C.y)};$.P0.atb=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
$.P0.WA=function(i,C){var m=$.P0.atb(),e=m.Usng.v.Type;if(C==null){e.v=JSON.parse(JSON.stringify(jt.$i[i]));
e.v.classID=["solidColorLayer","gradientLayer","patternLayer"][i]}else $.a5.IP(C,e.v,i);return{o0:"make",t6:m}};
$.P0.aBn=function(i,C){var m=C.ZF,e=JSON.parse(JSON.stringify(C.Co));e.fillEnabled.v=m.C9!=0;var z=$.P0.WA(Math.max(0,m.C9-1),m.Zc);
z.t6.Usng.v.Shp=i;z.t6.Usng.v.strokeStyle={t:"Objc",v:e};return z};$.cV=function(i){$.SY.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][i],[$.wJ,$.aov,$.a05,$.apc,$.asp][i],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][i]);
this.px=i;this.Oy=null;this.Is=null;this.jD=null;this.Md=null;this.Ho=0;this.PB=null;this.p4=!1;this.WD=!1;
this._h=!1;this.s8=!1;this.E6=!1;this.x8=!1;this.PJ=0};$.cV.prototype=new $.SY;$.cV.prototype.Ce=function(i){return this.jD!=null};
$.cV.prototype.xC=function(i,C,m,e){if(!e.S(jD.rb))this.E6=!1;if(this.px==1&&(e.S(jD.nR)||e.S(jD.sk))&&this.Xu(jD.nR,i)){this.X4({d:"remove",D9:!0},C,i,e,m);
return}if(this.Is)this.W8(i,C,m,e,this.Is);$.SY.prototype.xC.call(this,i,C,m,e)};$.cV.prototype.mo=function(i,C,m,e){var z=i.q.yy(e.x,e.y,!0),L=$.a8.qG(i,z,C),l=this.px,x=C.Wn,S=this.Ho;
if(x==2)x=0;var k=i.bM(x==1),f=k[0],X=k[1],o=f[X.pop()],A=o?o.add.vmsk:null;if(x==0&&S!=0&&o&&o.h6>=0)x=1;
var P=$.AE(i,e);if(l<2&&x==0&&(A==null||A.Ki.length==0&&I.o.Gl(A.$,z,!0,P).h6==-1))return["new",!0];
if(A==null)return[null];var F=A.$,n=I.o.bY(F,new j2(z.x-P,z.y-P,P*2,P*2),A.Ki,!0),R=I.o.Gl(F,z,!0,P);
if(l<3&&R.h6!=-1&&n[0].length==0)return["add"];if((n[3]!=0||R.h6!=-1)&&(m.S(jD.rb)||l==4))return["cnv"];
var Q=n[0].length==1&&F[n[0][0]-1]&&(F[n[0][0]-1].L!=null||F[n[0][0]-1].type==0||F[n[0][0]-1].length==1);
if(Q)return[l==0||l==3?"del":l==2?"mva":"mov"];if(l<2){var s=I.o.IY(F,I.o.Tb(F,A.Ki[0]));if(s!=-1&&b5.qM(z,F[s+1].L)<P)return["fin"];
if(A.Ki.length!=1)return["new"];return["nrm"]}return[null]};$.cV.prototype.k7=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y,!0),l=$.a8.qG(i,L,m),x=this.px,S=m.Wn,k=this.Ho;
if(S==2)S=0;var f=i.bM(S==1),X=f[0],o=f[1],A=X[o.pop()],P=A?A.add.vmsk:null;if(S==0&&k!=0&&A&&A.h6>=0)S=1;
var F=$.AE(i,z),n=this.mo(i,m,e,z);if(n[0]==null)return;if(n[1]){var R=new eX(v.E.HW,!0),Q=I.ta.lh("customShape",[0,0,1,1],null,null,null,"--");
R.data=$.P0.aBn(Q,m);C.T(R);this.x8=!0;f=i.bM(!0);X=f[0];o=f[1];A=X[o.pop()];P=A.add.vmsk;P.$=P.$.slice(0,2)}var s=A.add.vogk,j=P.$;
this.jD=P.clone();this.Md=JSON.stringify(s);this.Oy=z;this.apl(C,m);var _=I.o.bY(j,new j2(L.x-F,L.y-F,F*2,F*2),P.Ki,!0),B=I.o.Gl(j,L,!0,F);
if(n[0]=="add"){var N=I.o.IY(j,B.h6),a=j[N].length;while(a<=B.Ln){B.Ln-=a;N+=a+1}var O={type:4,My:l.clone(),L:l.clone(),sP:l.clone()},H=N+2+B.Ln,q=N+1+(1+B.Ln)%a,h=j[H-1],D=j[q];
if(!h.L.LJ(h.sP)||!D.My.LJ(D.L)){var T=I.C.app(h.L,h.sP,D.My,D.L,B.If);h.sP=T[0];O.My=T[1];O.L=T[2];
O.sP=T[3];D.My=T[4]}this.s8=!0;j.splice(H,0,O);j[N].length++;P.Ki=[H];if(x==1){O.My.x+=2;this.Dq(P)}}else if(n[0]=="cnv"){var p=-1;
if(_[0].length!=0){p=_[0][0];var y=j[p],b=y.type>=3?3:0,g=p==j.length-1;y.type=b+1;if(!(x==4&&e.S(jD.rb))&&!(x==0&&g))y.My=y.L.clone();
y.sP=y.L.clone();this.s8=!0;if(x==0&&!g)this.E6=!0}else if(_[1].length+_[2].length!=0){var p=_[2][0];
if(p==null){p=_[1][0];this.WD=!0}var y=j[p],b=y.type>=3?3:0;y.type=b+2}else p=I.o.IY(j,B.h6)+B.Ln+1;
if(p!=-1)P.Ki=[p]}else if(n[0]=="mva"){this._h=!0;P.Ki=[_[0][0]]}else if(n[0]=="mov"){var p=_[0][0],u=j[p],t=u.L,V=Math.abs(I.C.YH(u.My.x,u.My.y,t.x,t.y,u.sP.x,u.sP.y));
if(V>.01){u.My=t.clone();u.sP=t.clone()}if(Date.now()-this.PJ<300){var c=u.My.LJ(t)&&u.sP.LJ(t);if(c)u.sP.offset(2,2);
else{u.My=t.clone();u.sP=t.clone()}this.PJ=0}else this.PJ=Date.now();P.Ki=[p];this.Dq(P)}else if(n[0]=="del"){var p=_[0][0],N=I.o.IY(j,I.o.Tb(j,p)),Q=j[N],E=N+Q.length;
if(p!=E||Q.type==0){j[N].length--;j.splice(p,1);E--;if(Q.length==0){j.splice(N,1);E=-1}}if(E!=-1)P.Ki=[E];
else P.Ki=[]}else if(n[0]=="fin"){var N=I.o.IY(j,I.o.Tb(j,P.Ki[0]));j[N].type=0;P.Ki=[N+1];this.PB=l;
this.p4=!0;this.s8=!0}else{var Z=0;if(n[0]=="new"){P.g=[I.o.vS(j)];j.push({type:3,length:1,ay:[1,2,3,0][Math.max(0,k-1)],pj:0,X0:0,QG:0});
Z=j.length;s.push(I.ta.T9())}if(n[0]=="nrm"){var N=I.o.IY(j,I.o.Tb(j,P.Ki[0])),u=N+j[N].length;j[N].length++;
Z=u+1;if(u==N+1&&j[N].length!=2)Z=N+1}if(e.S(jD.$I)&&j[Z-1]&&j[Z-1].L)l=$.pK.OY(j[Z-1].L,l);var O={type:4,My:l.clone(),L:l.clone(),sP:l.clone()};
j.splice(Z,0,O);P.Ki=[Z];this.PB=l;if(this.px==1){O.My.x+=2;this.Dq(P)}this.s8=!0;this.PJ=Date.now()}this.W2(i,A.h6,P,s);
i.Qq=!0};$.cV.prototype.Dq=function(i){var C=i.$,m=i.Ki[0],e=I.o.IY(C,I.o.Tb(C,m))+1,z=C[e-1].length;
if(z<3)return;var L=[],l=[];for(var Y=0;Y<5;Y++){var x=e+(m-e-2+Y+5*z)%z;l.push(x);var S=C[x].L;L.push(S.x,S.y)}var k=I.C.aa3(L);
for(var Y=1;Y<4;Y++){var f=Y*4,X=C[l[Y]],S=X.L,o=X.My.LJ(S)&&X.sP.LJ(S);if(!o){X.My.zy(k[f],k[f+1]);
X.sP.zy(k[f+2],k[f+3])}else{X.My=S.clone();X.sP=S.clone()}}};$.cV.prototype.W8=function(i,C,m,e,z){var L=this.mo(i,m,e,z)[0],l=null;
if(L==null)l="default";else l=$.cV.Fi(L);var x=new eX(v.E.H,!0);x.data={d:v.B.TF,uu:l};C.T(x)};$.cV.prototype.ct=function(i,C,m,e,z){this.Is=z;
if(this.jD==null){this.W8(i,C,m,e,z);return}var L=this.Oy;if(L&&b5.qM(L,z)<$.AE({q:{U:1}},z))return;
this.Oy=null;var l=i.q.yy(z.x,z.y),x=$.a8.qG(i,l,m),S=i.bM(m.Wn==1),k=S[0],f=S[1],X=k[f.pop()],o=X.add.vmsk,A=o.$,P=A[o.Ki[0]];
if(this.px==1){var F=P.L.LJ(P.My)&&P.L.LJ(P.sP);P.L=l.clone();P.My=l.clone();P.sP=l.clone();if(!F)P.My.x+=2;
this.Dq(o)}else if(e.S(jD.uE)){if(e.S(jD.$I))x=$.pK.OY(this.PB,x);var n=P.L._3(P.sP),R=P.My._3(P.L);
P.sP=x;P.L=x.add(n);P.My=P.L.add(R)}else if(this._h){var Q=P.My._3(P.L),s=P.sP._3(P.L);P.L=x;P.My=P.L.add(Q);
P.sP=P.L.add(s)}else{if(e.S(jD.$I))x=$.pK.OY(P.L,x);if(this.WD){var j=P.My;P.My=P.sP;P.sP=j}if(this.p4){var _=b5.qM(P.L,x),B=_==0?0:b5.qM(P.L,P.sP)/_;
P.sP.x=P.L.x+B*(x.x-P.L.x);P.sP.y=P.L.y+B*(x.y-P.L.y)}else P.sP=x;var N=P.type>=3?3:0;if(this.s8&&!this.E6)P.type=N+e.S(jD.rb)?2:1;
if(P.type-N==1){P.My=P.L.add(P.L._3(x))}this.PB=x;if(this.WD){var j=P.My;P.My=P.sP;P.sP=j}}this.W2(i,X.h6,o,X.add.vogk);
i.Qq=!0};$.cV.prototype.$d=function(i,C,m,e,z){if(this.jD==null)return;var L=i.bM(m.Wn==1),l=L[0],x=L[1],S=l[x.pop()],k=S.add.vmsk,f=S.add.vogk;
if(this.p4){k.Ki=[];this.W2(i,S.h6,k,S.add.vogk)}var X=this.jD.$.length,o=k.$.length;if(!this.x8)this.A8(i,this.p4?"Close Path":(X==o?"Move":X<o?"Add":"Delete")+" Anchor Point",S.h6,this.jD,k.clone(),null,this.Md,JSON.stringify(f));
this.x8=!1;this.p4=!1;this.WD=!1;this._h=!1;this.s8=!1;this.jD=null};$.cV.prototype.Mp=function(i,C,m,e,z){this.Ho=i.binop};
$.cV.ar8={};$.cV.Fi=function(i){var C=$.cV.ar8[i],m=64,x=2,S=10,k=25,f=5,X=35;if(C)return C;var e=new j2(0,0,m,m),z=-.38,L=I.BF(m,m);
L.clearRect(0,0,m,m);var l=$.XP();L.save();L.lineWidth=x;L.translate(4-x/2,4-x/2);L.rotate(z);if(l<1.5){var o=.66;
S*=o;k*=o;f*=o;X*=o}L.lineJoin="miter";L.beginPath();if(i=="cnv"){L.moveTo(-S,k);L.lineTo(0,0);L.lineTo(S,k);
L.stroke()}else{L.moveTo(0,0);L.lineTo(S,k);L.lineTo(f,X);L.lineTo(-f,X);L.lineTo(-S,k);L.lineTo(0,0);
L.moveTo(0,0);L.lineTo(0,k);L.fillStyle="white";L.fill();L.stroke();L.fillStyle="black";L.fillRect(-f-1,X,2*f+2,6);
L.beginPath();L.arc(0,k-2,2.5,0,2*Math.PI,!1);L.fill();L.rotate(-z);L.translate(24,7);L.beginPath();
if(i=="add"||i=="del"||i=="new"){L.moveTo(-5,0);L.lineTo(5,0);if(i=="add"){L.moveTo(0,-5);L.lineTo(0,5)}if(i=="new"){L.moveTo(-2.5,-4.5);
L.lineTo(2.5,4.5);L.moveTo(2.5,-4.5);L.lineTo(-2.5,4.5)}}else if(i=="fin")L.arc(0,0,5,0,2*Math.PI,!1);
else if(i=="mov"||i=="mva"){for(var Y=0;Y<4;Y++){L.moveTo(0,0);L.lineTo(-7,0);var A=1+x;L.moveTo(-7+A,-A);
L.lineTo(-7,0);L.lineTo(-7+A,A);L.rotate(Math.PI/2)}}L.stroke()}L.restore();var P=new Uint8Array(L.getImageData(0,0,m,m).data.buffer),F=I.R(m*m);
I.Ud(P,F,3);var n=I.R(m*m),R=[3,5,3,4,8,4,3,5,3];R=I.H2.wn(R);I.H2.pN(F,n,m,m,R);for(var Y=0;Y<n.length;
Y++)n[Y]=Math.min(255,n[Y]*2);I.H2.pN(n,F,m,m,R);for(var Y=0;Y<F.length;Y++)F[Y]=Math.min(255,F[Y]*2);
var Q=P.slice(0);P.fill(255);I.uC(F,P,3);I.l.Qv("norm",Q,e,P,e,e,1);$.cV.ar8[i]=C={FY:P,TD:e,YG:new b5(4,4)};
return C};$.Th=function(){$.P0.call(this,[10,30],$.NB,"tools/fpen",!1)};$.Th.prototype=new $.P0;$.Th.prototype.K0=function(i,C,m,e,z,L){var l=e.length-1,x=Math.sqrt((e[l-1]-e[0])*(e[l-1]-e[0])+(e[l]-e[1])*(e[l]-e[1]))<6/z.U;
return[I.o.qq(e,x,L),I.ta.lh("customShape",[0,0,1,1],null,null,null,"--")]};$.RU=function(){$.SY.call(this,[10,27],$.iF,"tools/pselect");
this.z$=null;this.DG=!1;this.Wm=null;this.jD=null;this.qQ=null;this.Md=null;this.n0=null;this.Nd=null;
this.rz=null;this.r7=null};$.RU.prototype=new $.SY;$.RU.prototype.Ce=function(i){return i.$G};$.RU.prototype.k7=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=i.bM(),x=l[0],S=l[1],k,f;
for(var Y=0;Y<S.length;Y++){var X=x[S[Y]],o=X.add.vmsk,A=I.o.Gl(o.$,L).h6;if(A!=-1){this.Wm=k=X;f=A}for(var P=0;
P<o.Gu.length;P++){var F=I.o.aum(o.$,o.Gu[P]);if(F==null)continue;var n=b5.qM(F,L);if(n<4*$.XP()/i.q.U){var R=i.M[X.h6-1e6].add.TySh,Q=R.Wg.Curve,s=R.i,j=Q.Reversed;
Q.Reversed=!1;var Q=bY.HE(R.Wg.Curve);Q.Reversed=j;I.C.i(Q[0],s,Q[0]);this.rz=[Q,P,s.W*s.o6-s.e*s.xF];
this.Wm=k=X;f=0}}if(this.rz)break}if(k!=null){var o=k.add.vmsk;o.Ki=[];var _=o.g.indexOf(f);if(e.S(jD.$I)){if(_==-1){o.g.push(f);
this.DG=!0}else o.g.splice(_,1)}else{if(_==-1)o.g=[f];this.DG=!0}this.Nd=I.o.RP(o.$,o.g)}this.z$=L;this.r7=new fS(L);
i.gZ=!0;i.Qq=!0};$.RU.prototype.ct=function(i,C,m,e,z){if(this.z$==null)return;var L=i.q.yy(z.x,z.y);
if(this.DG){L=this.r7.BJ(L,e);var l=this.Wm;if(this.jD==null){this.jD=this.qQ=l.add.vmsk.clone();this.Md=this.n0=JSON.stringify(l.add.vogk);
if(e.S(jD.rb)){var x=this.jD.clone(),S=JSON.parse(this.Md),k=$.SY.Ik(x,S);$.SY.M4(k,x,S);this.qQ=x;this.n0=JSON.stringify(S)}}var x=this.qQ.clone(),S=JSON.parse(this.n0);
if(this.rz){var f=this.rz,X=f[0][0],o=I.C.Iq(X,L.x,L.y);x.Gu[f[1]]=f[0][1][o];var A=X[o*2],P=X[o*2+1],F=(X[o*2+2]-A)*(L.y-P)-(X[o*2+3]-P)*(L.x-A);
if(f[2]<0)F=-F;x.ca=F>0}else{var n=this.Nd.clone(),R=n.x,Q=n.y;n.offset(L.x-this.z$.x,L.y-this.z$.y);
n.x=Math.round(n.x);n.y=Math.round(n.y);var s=$.a8.DY(i,n,m),j=new hN(1,0,0,1,n.x-R+s[0],n.y-Q+s[1]);
I.o.Pa(x.$,j,x.g);I.ta.i(S,I.D.fL(j),x.g);$.a8.Yr(i,n,s)}this.W2(i,l.h6,x,S)}else{var _=this.z$;i.N.tp=I.C.Ym(new j2(_.x,_.y,L.x-_.x,L.y-_.y));
i.Qq=!0}};$.RU.prototype.$d=function(i,C,m,e,z){if(this.z$==null)return;var L=i.q.yy(z.x,z.y),l=this.Wm,x=l?l.add.vmsk:null;
if(this.DG){var S=JSON.stringify(l.add.vogk);if(!this.z$.LJ(L))this.A8(i,"Move Paths",l.h6,this.jD,x,null,this.Md,S);
if(i!=null&&i.N.Bd){i.N.Bd=null;i.Qq=!0}}else{if(x){var k=this.z$,f=new j2(k.x,k.y,L.x-k.x,L.y-k.y),X=I.o.a38(x.$,f);
if(e.S(jD.$I)){for(var Y=0;Y<X.length;Y++)if(x.g.indexOf(X[Y])==-1)x.g.push(X[Y])}else x.g=X}i.N.tp=null;
i.Qq=!0}this.z$=null;this.jD=null;this.rz=null;this.DG=!1;this.r7=null};$.RU.prototype.az7=function(i){var C=this.Wm,m=this.R6,e=C.add.vmsk,z=C.add.vogk,L=z.length;
if(i=="confirm"){if(e!=this.jD)this.A8(m,[12,94,2],C.h6,this.jD,e,null,this.Md,JSON.stringify(z));this.Zi();
return}if(i=="cancel"){this.W2(this.R6,this.Wm.h6,this.jD.clone(),JSON.parse(this.Md));this.Zi()}else{var e=this.jD.clone(),z=JSON.parse(this.Md);
e.$=I.o.a7A(e.$,e.g,i);this.W2(this.R6,this.Wm.h6,e,z)}};$.RU.prototype.Zi=function(){this.Wm=null;this.jD=null;
this.z$=null;this.vI=this.e2=-1;this.r7=null};$.RU.prototype.Bj=function(i,C,m,e){$.SY.prototype.Bj.call(this,i,C,m,e);
if(m.jw!=this.id)return;if(i.g.length==0)return;var z=i.bM(),L=z[0],l=z[1];if(l.length==0)return;var x=L[l[0]],S=x.add.vmsk,k=x.add.vstk,f=x.add.vogk,X=new eX(v.E.H,!0);
X.data={d:v.B.Yo,f:this.id,jh:"main",Pz:S?S:null,ta:f};C.T(X)};$.RU.prototype.Mp=function(i,C,m,e,z){var L=i.BR;
if(L.Pz){var l=m.bM(),x=l[0],S=l[1];if(S.length==0)return;var k=x[S[0]],f=k.add.vmsk.clone(),X=JSON.stringify(k.add.vogk),o=L.Pz;
this.W2(m,k.h6,o,L.ta);var A=[18,5];if(f.$.length==o.$.length)A=f.g[0]==o.g[0]?"Fill Rule":"Path Order";
this.A8(m,A,k.h6,f,o,null,X,JSON.stringify(L.ta))}};$.Nc=function(){$.SY.call(this,[10,28],$.tP,"tools/dselect");
this.vI=-1;this.e2=-1;this._6=null;this.z$=null;this.Wm=null;this.jD=null;this.Md=null;this.R6=null;
this.d6=0;this.Yz={psnap:!1};this.r7=null};$.Nc.prototype=new $.SY;$.Nc.prototype.Ce=function(i){return i.$G};
$.Nc.prototype.Mp=function(i){this.Yz=i};$.Nc.prototype.X4=function(i,C,m,e,z){if(i.d=="crnr"){if(m==null)return;
var L=m.bM(),l=L[0],x=L[1];if(x.length==0){alert("No paths selected");return}var S=l[x[0]],k=S.add.vmsk;
if(k.Ki.length==0){alert("No corners selected");return}for(var Y=0;Y<k.Ki.length;Y++){var f=k.$[k.Ki[Y]];
if(!f.L.LJ(f.sP)||!f.L.LJ(f.My)){alert("Only sharp corners can be rounded");return}}if(this.jD==null){this.jD=S.add.vmsk.clone();
this.Md=JSON.stringify(S.add.vogk);this.Wm=S;this.R6=m}var X=new eX(v.E.H,!0);X.data={d:v.B.c6,pw:"cornerradius",GZ:5,G$:this.a8O.bind(this)};
C.T(X)}else $.SY.prototype.X4.call(this,i,C,m,e,z)};$.Nc.prototype.a8O=function(i){if(i=="confirm"){var C=this.R6,m=this.Wm,e=m.add.vmsk,z=m.add.vogk;
this.A8(C,[12,94,0],m.h6,this.jD,e,null,this.Md,JSON.stringify(z));this.Zi();return}var e=this.jD.clone(),z=JSON.parse(this.Md),L=e.Ki;
if(i=="cancel"){}else{var l=[];for(var Y=0;Y<L.length;Y++){var x=L[Y],S=I.o.Tb(e.$,x,!0),X=0;if(l.indexOf(S)!=-1)continue;
l.push(S);var k=I.o.IY(e.$,S,!0),f=e.$[k].length,o=[];for(var A=0;A<f;A++){var P=e.Ki.indexOf(k+A+1)==-1?0:i;
o.push(P);if(P!=0)X++}I.o.Qo(e.$,k,o);for(var A=0;A<L.length;A++)if(L[A]>k+f)L[A]+=X}this.Ri(e,z);e.Ki=[]}this.W2(this.R6,this.Wm.h6,e,z);
if(i=="cancel")this.Zi()};$.Nc.prototype.disable=function(i,C,m,e){this.HN(i)};$.Nc.prototype.k7=function(i,C,m,e,z){this.HN(i);
var L=i.q.yy(z.x,z.y),X,o,A;this._6=L.clone();var l=i.bM(),x=l[0],S=l[1];if(S.length==0)return;var k=$.AE(i,z),f=new j2(L.x-k,L.y-k,k*2,k*2);
for(var P=0;P<S.length;P++){X=this.Wm=x[S[P]];o=X.add.vmsk;A=I.o.bY(o.$,f);if(A[0].length+A[1].length+A[2].length!=0)break}var F=[!1,!1,!1];
for(var Y=0;Y<3;Y++){for(var n=0;n<A[Y].length;n++){var R=A[Y][n],Q=o.$[R];if(o.Ki.indexOf(R)!=-1||Y==1&&o.Ki.indexOf(R-1)!=-1&&!Q.L.LJ(Q.My)||Y==2&&o.Ki.indexOf(R+1)!=-1&&!Q.L.LJ(Q.sP)){A[Y]=[R];
F[Y]=!0;break}}}if(A[0].length!=0&&(F[0]||!F[1]&&!F[2])){var s=A[0][0],j=o.Ki.indexOf(s);if(e.S(jD.$I)){if(j==-1)o.Ki.push(s);
else{o.Ki.splice(j,1);i.Qq=!0;return}}else if(j==-1)o.Ki=[s];this.vI=s;this.e2=0}else if(A[1].length!=0&&F[1]){this.vI=A[1][0];
this.e2=1}else if(A[2].length!=0&&F[2]){this.vI=A[2][0];this.e2=2}else{var _=I.o.Gl(o.$,L,!0,k);if(_.h6==-1)this.z$=L;
else{o.g=[_.h6];o.Ki=[]}}if(this.jD==null){this.jD=X.add.vmsk.clone();this.Md=JSON.stringify(X.add.vogk)}this.r7=new fS(L);
i.Qq=!0};$.Nc.prototype.ct=function(i,C,m,e,z){if(i==null)return;var L=i.q.yy(z.x,z.y),l=this.Wm;if(this.vI!=-1){var x=this.jD.clone(),S=l.add.vogk,k=x.$[this.vI];
k=[k.L,k.My,k.sP][this.e2];if(e.S(jD.$I)){if(this.e2==0){L=this.r7.BJ(L,e);L.x+=k.x-this._6.x;L.y+=k.y-this._6.y}else L=$.pK.OY(x.$[this.vI].L,L)}else{if(this.Yz.psnap){L.x=Math.round(L.x);
L.y=Math.round(L.y)}L=$.a8.qG(i,L,m)}if(this.e2==0){var f=new hN(1,0,0,1,L.x-k.x,L.y-k.y);I.o.Pa(x.$,f,null,x.Ki)}else{var X=x.$[this.vI],o=X.My,A=X.sP;
if(this.e2==2){o=X.sP;A=X.My}if(e.S(jD.rb)&&(X.type==1||X.type==4))X.type++;o.zy(L.x,L.y);if(X.type==1||X.type==4){var P=b5.qM(o,X.L),F=b5.qM(A,X.L);
if(F!=0){A.x=X.L.x-(o.x-X.L.x)*(F/P);A.y=X.L.y-(o.y-X.L.y)*(F/P)}}}this.Ri(x,S);this.W2(i,l.h6,x,S)}else if(this.z$!=null){var n=this.z$;
i.N.tp=I.C.Ym(new j2(n.x,n.y,L.x-n.x,L.y-n.y));i.Qq=!0}else{var R=i.bM(),Q=R[0],s=R[1],l,x,B;if(s.length==0)return;
var j=$.AE(i,z),_=new j2(L.x-j,L.y-j,j*2,j*2);for(var N=0;N<s.length;N++){l=Q[s[N]];x=l.add.vmsk;B=I.o.bY(x.$,_);
if(B[0].length+B[1].length+B[2].length!=0)break}this.HN(i);for(var Y=0;Y<3;Y++){for(var a=0;a<B[Y].length;
a++){var O=B[Y][a],H=x.$[O];H=Y==0?H.L:Y==1?H.My:H.sP;i.N.x2.push(H.x,H.y);i.Qq=!0}}}};$.Nc.prototype.HN=function(i){if(i&&i.N.x2.length!=0){i.N.x2=[];
i.Qq=!0}};$.Nc.prototype.$d=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=this.Wm,x=l?l.add.vmsk:null,S=l?l.add.vogk:null;
if(this.vI!=-1){if(Date.now()-this.d6<300){var k=x.$[this.vI],f=this.e2,X=null;if(f==0){var o=k.My.LJ(k.L),A=k.sP.LJ(k.L);
if(!o&&!A){X="Anchor Type";if(k.type==1||k.type==4)k.type++;else{k.type--;k.sP=k.L.add(k.L._3(k.My))}}else{X="Add Handles";
if(o&&A){k.My.x-=30;k.sP.x+=30}else if(o)k.My=k.L.add(k.L._3(k.sP));else if(A)k.sP=k.L.add(k.L._3(k.My))}}else{X="Remove Handle";
if(f==1)k.My.q5(k.L);else k.sP.q5(k.L)}this.Ri(x,S);this.W2(i,l.h6,x,S);this.A8(i,X,l.h6,this.jD,x,null,this.Md,JSON.stringify(S))}else if(!this._6.LJ(L)){this.A8(i,"Drag Anchors",l.h6,this.jD,x,null,this.Md,JSON.stringify(S))}this.d6=Date.now()}else if(this.z$!=null){var P=this.z$,F=new j2(P.x,P.y,L.x-P.x,L.y-P.y);
if(F.m<0)F.x+=F.m;if(F.J<0)F.y+=F.J;F.m=Math.abs(F.m);F.J=Math.abs(F.J);var n=I.o.bY(x.$,F);x.Ki=n[0].concat(e.S(jD.$I)?x.Ki:[]);
i.N.tp=null}this.Zi();i.Qq=!0};$.Nc.prototype.Zi=function(){this.Wm=null;this.jD=null;this.z$=null;this.vI=this.e2=-1;
this.r7=null};$.Nc.prototype.Ri=function(i,C){for(var Y=0;Y<i.Ki.length;Y++){var m=I.o.Tb(i.$,i.Ki[Y]);
I.ta.mR(C,m)}};$.Nc.prototype.xC=function(i,C,m,e){if(i==null)return;var z=i.bM(),L=z[0],l=z[1];if(l.length==0)return;
var x=L[l[0]],S=x.add.vmsk;if(S==null||S.Ki.length==0)return;var k=x.add.vogk,f=JSON.stringify(k),X=e.PD(i?i.q.RQ:0);
if(X.x!=0||X.y!=0){var o=S.clone(),A=S.clone(),P=new hN(1,0,0,1,X.x,X.y);I.o.Pa(A.$,P,null,A.Ki);this.Ri(A,k);
this.W2(i,x.h6,A,k);this.A8(i,"Move Anchors",i.g[0],o,A.clone(),!0,f,JSON.stringify(k))}if(e.S(jD.nR)||e.S(jD.sk))this.X4({d:"remove",D9:!0,afH:!0},C,i,e,m)};
$.Nc.prototype.A8=function(i,C,m,e,z,L,l,x){var S=i.$K();if(L&&S!=null&&S.f==this&&S.data.aE6&&S.data.vX==m&&JSON.stringify(S.data.EW.Ki)==JSON.stringify(e.Ki)){S.data.zm=z;
S.data.v$=x}else{var S=new fw(C,this);S.data={vX:m,EW:e,zm:z,aE6:L,azK:l,v$:x};i.zN(S)}};$.Rect=function(){$.P0.call(this,[10,32],$.C0,"tools/rect",!0)};
$.Rect.prototype=new $.P0;$.Rect.prototype.K0=function(i,C,m){var e=this.DO.crad,z=C.x-i.x,L=C.y-i.y;
return[I.o.vC.Rect(i.x,i.y,z,L,e),I.ta.lh("Rctn",[i.x,i.y,C.x,C.y],[e,e,e,e])]};$.Xl=function(){$.P0.call(this,[10,33],$.zQ,"tools/ellipse",!0)};
$.Xl.prototype=new $.P0;$.Xl.prototype.K0=function(i,C,m){var e=C.x-i.x,z=C.y-i.y;return[I.o.vC.Xl(i.x,i.y,e,z),I.ta.lh("Elps",[i.x,i.y,C.x,C.y])]};
$.BQ=function(){$.P0.call(this,[10,34],$.$t,"tools/pshape",!1);this.DO.aopts=[!1,!0,50,100,0]};$.BQ.prototype=new $.P0;
$.BQ.prototype.K0=function(i,C,m){var e=this.DO.pshape,z=this.DO.crad,L=this.DO.irad/100,l=this.DO.sides,x=this.DO.width,S=this.DO.aopts,k=this.DO.length,n;
C=C.clone();var f=i.x,X=i.y,o=C.x,A=C.y,P=Math.sqrt((o-f)*(o-f)+(A-X)*(A-X)),F=Math.atan2(-A+X,o-f);
if(m)F=Math.round(F*180/Math.PI/15)*15*Math.PI/180;if(e==0)n=I.o.vC.Rp(f,X,P,F,l,z);if(e==1)n=I.o.vC.a8K(f,X,P,F,l,z,L);
if(e==2)n=I.o.vC.B7(i.x,i.y,C.x,C.y,x,S);if(e==3)n=I.o.vC.aab(f,X,P,F,k);return[n,I.ta.lh("customShape",[i.x,i.y,C.x,C.y],null,null,null,"--")]};
$.BQ.prototype.xC=function(i,C,m,e){$.P0.prototype.xC.call(this,i,C,m,e);var z=e.PD(),L=this.DO,l,x;
if(z.y!=0){var S=-z.y,k=L.pshape;if(k<2){l="sides";x=Math.max(3,Math.min(100,L.sides+S))}else if(k==2){l="width";
x=Math.max(1,Math.min(100,L.width+S))}else if(k==3){l="length";x=Math.max(4,Math.min(40,L.length+S))}}if(z.x!=0){l="pshape";
x=Math.max(0,Math.min(3,L.pshape+z.x))}if(l){var f=new eX(v.E.H,!0),X={};X[l]=x;L[l]=x;f.data={d:v.B.Yo,f:this.id,Tt:"vals",aw4:X};
C.T(f);this.ct(i,C,m,e)}};$.$P=function(){$.P0.call(this,[10,35],$.mV,"tools/line",!1)};$.$P.prototype=new $.P0;
$.$P.prototype.K0=function(i,C,m){var e=this.DO.width,z=this.DO.aopts;C=C.clone();if(m){C=$.pK.OY(i,C)}return[I.o.vC.B7(i.x,i.y,C.x,C.y,e,z),I.ta.lh("Ln",null,null,[i.x,i.y,C.x,C.y],e,null,z)]};
$.uj=function(){$.P0.call(this,[10,31],$.Ks,"tools/cshape",!0)};$.uj.prototype=new $.P0;$.uj.prototype.K0=function(i,C,m){var e=this.DO.shape,z=e.zO.m/e.zO.J,L=cc.hF.ug(e.$);
C=C.clone();if(m){C.y=i.y+(C.x-i.x)/z}var l=C.x-i.x,x=C.y-i.y;I.o.Pa(L,new hN(l,0,0,x,i.x,i.y));return[L,I.ta.lh("customShape",[i.x,i.y,C.x,C.y],null,null,null,e.ud)]};
$.V=function(i,C,m){$.KV.call(this,i,C,m);this.PZ=0;this.M=null;this.cS=null;this.p7=null;this.iv=1;
this.Ox=0;this.H9=!0;this.o5=!1;this.cursor=null;this.wm=null;this.Ii=null;this.$T=!1;this.VH=null;this.a8$=0;
this.Zd=null;this.px=0;this.Rc=null;this.Ci=null;this.S6=null;this.Xc=null;this.aBU=null;this.YZ=null};
$.V.prototype=new $.KV;$.V.t$=function(i,C,m){var e={classID:"null",null:h3.Ei(m?"Lyr":"Dcmn",!0)};if(i)e.Angl={t:"UntF",v:{type:"#Ang",val:C}};
else e.Axis={t:"enum",v:{Ornt:C}};return{o0:i?"rotateEventEnum":"flip",t6:e}};$.V.prototype.mq=function(i,C,m,e,z){var L=new eX(v.E.H,!0);
L.data={d:v.B.Yo,f:this.id,Es:z,xn:i,p7:m};C.T(L);this.kZ=!1};$.V.prototype.Ce=function(i){return this.Ci&&this.Ci.ayF()};
$.V.prototype.X4=function(i,C,m,e,z){this.p7=z;if(i.d=="again"&&this.Zd==null)return;if(!this.Xf(m,z))return;
if(this.Ci){this.atB(i,this.Ci.UY(),C,m,e,z);this.UT(m,z,0,!0);this.SO(m);return}this.alq(m,i.a==null,i.a);
this.aub(m);this.atB(i,i.a31,C,m,e,z);this.X2(m,C,i.jj,!1)};$.V.prototype.atB=function(i,C,m,e,z,L){var l=this.Rc;
if(C==null){var x=i.h8!=null?i.h8:4;C=this.Ci.a8J()[x]}var S=C.x,k=C.y;if(i.d=="rot"&&i.b!=Math.PI&&(l.m+l.J&1)==1){S=Math.floor(S);
k=Math.floor(k)}var f=new hN;f.translate(-S,-k);if(i.d=="rot")f.rotate(i.b);if(i.d=="scl")f.scale(i.b.x,i.b.y);
if(i.d=="mat")f.concat(i.b);f.translate(S,k);if(i.d=="again")f=this.Zd;var X=I.D.fL(f);if(i.d=="dtr"){var o=I.D;
X=o.oW(i.b,o.R(-S,-k));X=o.oW(o.R(S,k),X)}var A=this.Ci.yx();I.D.i(X,A);this.Ci.n1(A);if(i.mG){var P=i.mG.v;
this.Mp({jh:"switchWarp"},m,e,z);this.Mp({jh:"wrp",mG:P},m,e,z)}};$.V.prototype._$=function(){return!0};
$.V.prototype.Xf=function(i,C,m){if(i==null)return!1;if(this.id==$.Ta)return i.u!=null;var e=i.Bb(!0,null,null,!0);
if(this.id==$.m6&&i.M[e[0]].rect.bs()){alert("Layer is empty.");return!1}for(var Y=0;Y<e.length;Y++){var z=i.M[e[Y]];
if(z.aG(2)||z.aG(31)){alert(bC.get([6,57,0]));return!1}if(z.add.artb){alert("You can not transform the whole artboard");
return!1}if(z.add.TySh)if(!b7.wE(z.add.TySh,C.FV))return!1;if(z.add.SoLd){if(e.length==1&&(m&&m.VU==-1)&&(z.Re()&&z.Re().hu||z.add.vmsk&&z.add.vmsk.hu)){alert("Unlink masks before transforming Smart Object");
return!1}if(!i.ak3(z.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+i.pE(z.add.SoLd.Idnt.v).VO+")");
return!1}}}if(i.u==null)return!0;if(!i.KT())return!1;return i.a9p()};$.V.prototype.k7=function(i,C,m,e,z){var L=this.Cm(z,i),l=L[0],x=L[1],S=this.px==0?this.Ci:this.S6;
i.q.U*=x;this.o5=S.k7(i,m,e,l,null,null,z);this.SO(i,l);i.q.U/=x;if(this.o5&&S.Qw(l)){if(Date.now()-this.a8$<250)this.X2(i,C,null,!0);
this.a8$=Date.now()}};$.V.prototype.W8=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.TF,uu:this.cursor};
i.T(C)};$.V.prototype.Cm=function(i,C){var m=1;i=C.q.yy(i.x,i.y);if(this.px==1){var e=I.D.v6(this.Ci.yx(),this.Rc);
m=I.D.YD(e).je();var z=I.D.Fb(e);i=I.D.aa1(z,i)}return[i,m]};$.V.prototype.ct=function(i,C,m,e,z){var L=this.Cm(z,i),l=L[0],x=L[1],S=this.px==0?this.Ci:this.S6;
if(!z.$G){var k="default";if(S){var f=S.zE(l,i.q.U*x,null,z);if(f)k=f}if(k!=this.cursor){this.cursor=k;
this.W8(C)}if(this.S6){this.SO(i,l)}}if(!this.o5)return;i.q.U*=x;var X=this.us=S.ct(i,m,e,l,this.H9);
i.q.U/=x;this.UT(i,m,0,!0);this.SO(i,l);this.ZL(C)};$.V.prototype.$d=function(i,C,m,e,z){var L=this.Cm(z,i),l=L[0],x=L[1];
this.Ci.$d(i,m,e,l);if(this.S6){var S=this.S6.$d(i,m,e,l);if(S){this.ZL(C,!0);this.SO(i)}}if(this.us){var k=this.Hx(),f=I.C.Ym(this.Rc).j;
I.D.i(k,f);this.Ci.n1(f);this.us=null}this.o5=!1};$.V.prototype.xC=function(i,C,m,e){if(e.S(jD.RX))this.X2(i,C,null,!0);
else if(e.S(jD.pn))this.Vw(i,C);else{var z=this.Ci.xC(i,m,e);if(z){this.UT(i,m,0,!0);this.ZL(C)}}};$.V.prototype.Mp=function(i,C,m,e){if(i.jh=="commit")this.X2(m,C,null,!0);
else if(i.jh=="cancel")this.Vw(m,C);else if(i.jh=="switchWarp"){this.px=1-this.px;this.aAi();this.SO(m);
this.ZL(C)}else if(i.jh=="wrp"){this.S6.a5e(i.mG);this.SO(m);this.UT(m,this.p7,0,!0)}else if(i.jh=="splt")this.S6.a87(i.b);
else if(i.jh=="ctyp"){this.Ci.arT(i.dr);this.SO(m);this.ZL(C)}else if(i.jh=="cen"){this.Ci.auB(i.YG);
this.SO(m);this.UT(m,this.p7,0,!0)}else if(i.jh=="trn"){var z=I.D.fL(i.Lr),L=this.Rc,l=I.D.v6(this.Ci.yx(),this.Rc);
z[6]=l[6],z[7]=l[7];var x=[L.x,L.y,L.x+L.m,L.y,L.x+L.m,L.y+L.J,L.x,L.y+L.J];I.D.i(z,x);this.iv=i.iv;
if(i.Ox!=this.Ox){this.Ox=i.Ox;this.a2j(m)}this.H9=i.H9;this.Ci.n1(x);this.SO(m);this.UT(m,this.p7,0,!0)}};
$.V.prototype.SO=function(i,C){if(this.px==0)this.Ci.mM(i,this.p7);else{this.S6.mM(i,C);var m=this.Hx();
I.D.i(m,i.N.J5.j);I.D.i(m,i.N.Lq);I.D.i(m,i.N.Ly)}};$.V.prototype.X2=function(i,C,m,e){this.UT(i,this.p7,this.iv);
var z=new fw(m?m:this.name,this),_="";if(this.PZ==0)z.data={type:this.PZ,M:this.M,VH:this.cS,ul:$.V.LN(i,this.M)};
else if(this.PZ==1){var L=i.M[this.M[0]],l;if(L.L5.ii<=0){l=I.R(L.L5.Ts.P());I.Ud(L.L5.D8,l,3)}else l=i.u.channel;
var x={rect:L.L5.Ts.clone(),channel:l};z.data={type:this.PZ,a:this.M[0],Ii:this.Ii,sU:x,wm:this.wm,$T:this.$T,L5:L.L5,VH:this.VH,ul:{TD:L.L5.Ts,Jg:L.L5.D8}}}else if(this.PZ==2){z.data={type:this.PZ,Ii:this.Ii,sU:{rect:i.u.rect.clone(),channel:i.u.channel.slice(0)}}}i.zN(z);
var S=this.Rc,k=I.D.v6(this.Ci.yx(),S),f=this.cS,X=f?f[0]:null;if(f&&f.length==1&&X[4]){var o=$.V.dR(X[4].nonAffineTransform),S=I.C.OO(I.lu.i3(X[4].quiltWarp.v)[3]),A=I.D.v6(o,S);
k=I.D.oW(k,I.D.Fb(A))}var P=I.D.YD(k),F=this.Ci.UY(),n=new hN;n.translate(F.x,F.y);n.concat(P);n.translate(-F.x,-F.y);
P=n.clone();var R=-Math.atan2(-P.e,P.W),Q=new hN;Q.rotate(R);P.concat(Q);function s(H,q){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][q],val:H}}}var j=h3.Ei("Lyr",!0);
if(this.id==$.Ta)j.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var B=$.V.aAU;for(var N in B)if(B[N]==this.Ci.xX)_=N;
if(_==""){_="Qcsi";n.W_=n.Rj=0}var a={classID:"null",null:j,FTcs:{t:"enum",v:{QCSt:_}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:s(n.W_,0),Vrtc:s(n.Rj,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:s(Math.atan(P.xF/P.o6)*180/Math.PI,2),Vrtc:s(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:s(100*0,1),Vrtc:s(100*0,1)}},Wdth:s(P.W*100,1),Hght:s(P.o6*100,1),Angl:s(R*180/Math.PI,2)};
if(_=="Qcsi")a.Pstn={t:"Objc",v:{Hrzn:s(F.x,0),Vrtc:s(F.y,0)}};var O=this.S6?this.S6.NH():null;if(O&&!I.lu.gL(O)){a.quiltWarp={t:"Objc",v:O}}this.Oe=C;
this.track({o0:"transform",t6:a});this.escape(i,C,e)};$.V.aAU={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
$.V.prototype.Vw=function(i,C){if(this.PZ==0)$.V.Gc(i,this.M,this.cS);else if(this.PZ==1){var m=i.M[this.M[0]];
i.u=this.Ii;if(!this.$T){m.L5.Ts=this.VH.TD;m.L5.D8=this.VH.Jg;m.f_(i,0,0,i.u)}else{m.TG(i,this.wm)}i.Y();
i.Pm=!0}else if(this.PZ==2){i.u=this.Ii;i.Pm=!0}this.escape(i,C,!0)};$.V.prototype.escape=function(i,C,m){this.Ci.clear(i);
if(this.S6)this.S6.clear(i);this.Ci=null;this.S6=null;this.YZ=null;this.px=0;if(m)this.Hq(C,v.E.H,{d:v.B.l6})};
$.V.prototype.gT=function(i,C){if(i.type==0)$.V.Gc(C,i.M,i.ul);else{if(i.type==1){var m=C.M[i.a];if(i.$T){m.L5=i.L5}else{m.L5.Ts=i.ul.TD;
m.L5.D8=i.ul.Jg}m.f_(C,0,0,C.u);C.Y()}C.u={rect:i.sU.rect.clone(),channel:i.sU.channel.slice(0)};C.Pm=!0}};
$.V.prototype.qp=function(i,C){if(i.type==0)$.V.Gc(C,i.M,i.VH);else{if(i.type==1){var m=C.M[i.a];if(i.$T){m.TG(C,i.wm)}else{m.L5.Ts=i.VH.TD;
m.L5.D8=i.VH.Jg;m.f_(C,0,0,C.u)}C.Y()}C.u=i.Ii;C.Pm=!0}};$.V.prototype.alq=function(i,C,m){i.bM();var e=[];
if(m==null)for(var Y=0;Y<i.ft.length;Y++)if(i.DI[i.ft[Y]].add.vmsk.$.length>2)e.push(-1-i.ft[Y]);var z=[],L=i.q.O;
if(L[0]+L[1]+L[2]==3)if(m!=null||e.length==0||i.Ep!=null&&i.Ep.length!=0){if(i.g.length==1){var l=i.M[i.g[0]];
if(l.yJ()&&l.Aa)z=[i.g[0]]}if(z.length==0)z=i.Bb(C,m,null,!0)}z=z.concat(e);for(var Y=0;Y<i.Xk.length;
Y++)z.push(-1e3-i.Xk[Y]);this.M=z};$.V.prototype.enable=function(i,C,m,e,z,L){if(this.cursor==null)this.cursor="default";
this.W8(C);if(this.Ci)return;this.p7=m;this.alq(i,!0);this.aub(i,L&&L.VU!=null&&L.VU!=-1?L.VU:null);
this.ZL(C,null,i);this.SO(i);if(L&&L.VU==-1)this.Mp({jh:"switchWarp"},C,i,e)};$.V.prototype.nc=function(){return[this.H9?1:0]};
$.V.prototype.Cd=function(i,C,m){if(i&&i[0]!=null)this.H9=i[0]==1};$.V.prototype.ZL=function(i,C,m){var e={d:v.B.Yo,f:this.id};
if(this.px==0){var z=I.D.v6(this.Ci.yx(),this.Rc),L=I.D.YD(z);e.Lr={OT:L,dr:this.Ci.awr(),YG:this.Ci.UY(),TD:this.Rc.clone(),H9:this.H9}}else{e.axA=C;
e.mG=this.S6.NH()}if(m){e.T3=["---"];for(var Y=0;Y<m.T3.length;Y++)e.T3.push(m.T3[Y].name)}e.a2E=this.S6!=null;
this.Hq(i,v.E.H,e)};$.V.prototype.aub=function(i,C){var m=this.id==$.Ta,e=!0,z=this.M[0],L=i.M[z],x=null,S=null,k=null,o=null;
if(m){this.PZ=2;this.Ii=i.u}else if(i.u&&this.M.length==1&&z>=0&&!L.rect.bs()){this.PZ=1;this.Ii=i.u;
this.wm=L.L5;this.$T=!1;if(!L.y3(i,i.u)){this.$T=!0;L.kI(i,i.u,!1)}this.VH={Jg:L.L5.D8,TD:L.L5.Ts}}else{this.PZ=0;
this.cS=$.V.LN(i,this.M,null);for(var Y=0;Y<this.cS.length;Y++)if(this.cS[Y][3]!=null)e=!1}var l=this.PZ==1;
if(this.cS&&this.cS.length==1){var f=this.cS[0];if(f[2]!=null)S=f[2].Pz;if(f[3]==null)l=!0;if(f[3]!=null)k=f[3];
if(f[4]!=null){x=i.M[this.M[0]].add.SoLd;if(f[1]||f[2])l=!1}}var X=m?i.u.rect.clone():$.V.S8(i,this.M);
this.Rc=X;if(!m&&S&&d4==1){o=S.aoS();this.Xc=I.D.v6(o,this.Rc)}else if(!m&&k&&d4==1){var A=i.M[this.M[0]],k=A.add.TySh;
o=I.C.Ym(A.f3.sI).j;I.C.i(o,k.i,o);this.Xc=I.D.v6(o,this.Rc)}else if(!m&&x){o=$.V.dR(x.nonAffineTransform);
this.Rc=I.C.OO(I.lu.i3(x.quiltWarp.v)[3]);if(l)this.S6=new fQ(x.quiltWarp.v);this.Xc=I.D.v6(o,this.Rc)}else{if(l||m)this.S6=new fQ(I.lu.R(this.Rc));
this.Xc=[1,0,0,0,1,0,0,0];if(this.id==$.m6)C=3;o=[X.x,X.y,X.x+X.m,X.y,X.x+X.m,X.y+X.J,X.x,X.y+X.J]}this.Ci=new hG(o,!0,!0,e,!1,!1,C);
this.aBU=[1,0,0,0,1,0,0,0];this.a2j(i)};$.V.prototype.a2j=function(i){if(this.id==$.m6){var C,m,L=null;
if(this.cS&&i.u==null){var e=this.cS[0][0],z=e.JT;C=z[0];m=z[1]}else if(this.VH){C=this.VH.Jg;m=this.VH.TD}if(this.Ox!=0)L=i.T3[this.Ox-1].Hp(m);
this.YZ=I.sZ.aoU(C,m.m,m.J,L)}};$.V.S8=function(i,C){if(C==null)C=i.Bb(!0,null,null,!0);var m=new j2,e=new j2;
if(i.u&&C.length==1&&C[0]>=0)m=i.u.rect.clone();else for(var Y=0;Y<C.length;Y++){var z=C[Y],L=0<=z?i.M[z]:-1e3<z?i.DI[-1-z]:i.T3[-1e3-z],l=L.add?L.add.vmsk:null,x=0<=z?L.Jx(i,C.length==1,!1,!0):-1e3<z?I.o.RP(l.$,C.length==1&&l.g.length!=0?l.g:null):L.rect.clone();
m=m.Z0(x);if(z>0&&L.add.artb)e=e.Z0(L.d3())}return!e.bs()?e:m};$.V.prototype.Hq=function(i,C,m,e){var z=new eX(C,!0);
z.data=m;if(e)z.f=e;i.T(z)};$.V.LN=function(i,C,m){var e=[];for(var Y=0;Y<C.length;Y++){var z=C[Y],L,l;
if(z>=0){L=i.M[z];l=L.h3(i,m,!0)}else if(z>-1e3){L=i.DI[-1-z];l=[2]}else{e.push([null,null,null,null,null,null,null,i.T3[-1e3-z].clone()]);
continue}var x=[],S=l.indexOf(0)!=-1;if(S){var k={JT:L.add.SoLd?null:[L.buffer.slice(0),L.rect.clone()]};
x.push(k);if(L.k_()){var f=L.x6(i);k.amV=f.buffer.slice(0);k.a1N=f.rect.clone()}}else x.push(null);if(l.indexOf(1)!=-1)x.push(L.Re().clone());
else x.push(null);if(l.indexOf(2)!=-1)x.push({Pz:L.add.vmsk.clone(),lc:L.add.vstk?JSON.parse(JSON.stringify(L.add.vstk)):null,Zc:L.add.vstk?jt.FU(i.M[z].add):null,$_:L.add.vstl?JSON.stringify(L.add.vstl):null,ta:L.add.vogk?JSON.parse(JSON.stringify(L.add.vogk)):null});
else x.push(null);if(L.add.TySh&&S){e7.l7(L.add.TySh);x.push(L.add.TySh.i.clone())}else x.push(null);
if(L.add.SoLd&&S)x.push(JSON.parse(JSON.stringify(L.add.SoLd)));else x.push(null);if(l.indexOf(3)!=-1)x.push(L.x6(i).X.clone());
else x.push(null);if(L.add.lmfx)x.push(JSON.stringify(L.add.lmfx));else x.push(null);e.push(x)}return e};
$.V.Gc=function(i,C,m){for(var Y=0;Y<C.length;Y++){var e=C[Y],z=0<=e?i.M[e]:-1e3<e?i.DI[-1-e]:i.T3[-1e3-e],L=m[Y];
if(L[0]){if(L[0].JT){z.rect=L[0].JT[1].clone();z.buffer=L[0].JT[0].slice(0)}if(z.k_()){var l=z.x6(i);
l.buffer=L[0].amV.slice(0);l.rect=L[0].a1N.clone()}}if(L[1]){z.Re().channel=L[1].channel.slice(0);z.Re().rect=L[1].rect.clone();
z.Re().kL=!0}if(L[2]){z.add.vmsk=L[2].Pz.clone();if(L[2].Zc)jt.Yq(z.add,L[2].Zc);if(L[2].lc)z.add.vstk=JSON.parse(JSON.stringify(L[2].lc));
if(L[2].ta)z.add.vogk=JSON.parse(JSON.stringify(L[2].ta));if(L[2].$_)z.add.vstl=JSON.parse(L[2].$_)}if(L[3]){z.add.TySh.i=L[3].clone();
e7.eZ(z.add.TySh)}if(L[4]){z.add.SoLd=JSON.parse(JSON.stringify(L[4]))}if(L[5]){var x=z.x6(i).X;x.channel=L[5].channel.slice(0);
x.rect=L[5].rect.clone()}if(L[6]){z.add.lmfx=JSON.parse(L[6])}if(L[7]){z.channel=L[7].channel.slice(0);
z.rect=L[7].rect.clone();z.kL=!0}if(0<=e){z.rH(i);z.Y();if(L[4])z.g1(i,!1)}}i.Y()};$.V.$y=function(i,C,m,e,z,L,l,x,S,k){if(typeof L[0]=="number"){var f=[];
for(var Y=0;Y<m.length;Y++)f[Y]=L;L=f}for(var Y=0;Y<m.length;Y++){var X=L[Y],o=I.D.YD(X),A=o.je(),P=m[Y],F=0<=P?i.M[P]:-1e3<P?i.DI[-1-P]:i.T3[-1e3-P],n=e[Y];
if(F.add&&F.add.lmfx&&x)k4._W(F.add.lmfx,A);if(n[0]&&!n[3]&&!n[4]&&!n[5]){var R=n[0].JT;if(S){var Q=S.clone(),s=I.R(Q.P()*4);
I.fF(R[0],R[1],s,Q);R=[s,Q]}var j=$.V.NN(R,z,X,l,z==0?F.buffer.buffer:null,null,null,k);if(j){F.rect=j.rect;
F.buffer=j.buffer}}if(n[1]){var _=F.Re();$.V.pI(i,n[1],_,z,X,l,_.hu&&l&&!I.lu.gL(l)&&n[0]?n[0].JT[1]:null);
if(S){var Q=F.rect.G_(S),B=I.R(Q.P());I.Vo(_.channel,_.rect,B,Q);_.channel=B;_.rect=Q}}if(n[2]){var N=l&&!I.lu.gL(l),a=n[2].Pz.clone(),O=m.length==1&&a.g.length!=0,H=m.length==1&&a.Ki.length>1;
if(H)O=!1;var q=O?a.g:null,h=H?a.Ki:null;if(N){var D=I.lu.i3(l);I.D.i(X,D[3]);I.o.a1K(a.$,D,q,h)}else I.o.aj$(a.$,X,q,h);
if(F.add.vstk&&x){F.add.vstk.strokeStyleLineWidth.v.val=n[2].lc.strokeStyleLineWidth.v.val*A;var T=n[2].Zc;
if(T&&T.C9==3){T=JSON.parse(JSON.stringify(T));var p=T.Zc.phase.v;T.Zc.Scl.v.val=Math.round(T.Zc.Scl.v.val*A);
p.Hrzn.v=Math.round(p.Hrzn.v*A);p.Vrtc.v=Math.round(p.Vrtc.v*A);jt.Yq(F.add,T)}}if(F.add.vogk){F.add.vogk=JSON.parse(JSON.stringify(n[2].ta));
if(N||H)I.ta.adY(F.add.vogk);else I.ta.i(F.add.vogk,X,m.length>1?[]:a.g,x)}if(F.add.vstl){var y=F.add.vstl=JSON.parse(n[2].$_);
for(var b=0;b<2;b++){var g=b==0?y.P$:y.OR;if(g==null||g[3]==null)continue;var u=g[3],t=new hN(u[0],u[1],u[2],u[3],u[4],u[5]);
t.concat(o);g[3]=[t.W,t.e,t.xF,t.o6,t.W_,t.Rj]}}a.JQ*=A;var V=new hN;V.rotate(a.Z7);V.concat(o);a.Z7=Math.atan2(-V.e,V.W);
F.add.vmsk=a;if(F.add.vogk)I.ta.D_(F.add.vogk,F.add.vmsk)}if(n[3]){var t=n[3].clone();t.concat(o);F.add.TySh.i=t;
e7.eZ(F.add.TySh);b7.LT(F,C.FV)}if(n[4]){var c=F.add.SoLd,E=$.V.dR(n[4].nonAffineTransform);I.D.i(X,E);
var Z=I.C.Ve(E);if(hG.e7(E)){if(l){var G=I.C.OO(I.lu.i3(n[4].quiltWarp.v)[3]),B=I.D.v6(E,G),J=I.C.OO(I.lu.i3(l)[3]);
E=[J.x,J.y,J.x+J.m,J.y,J.x+J.m,J.y+J.J,J.x,J.y+J.J];I.D.i(B,E);c.quiltWarp.v=l}var K=I.D.v6(E),M=E;if(!I.D.r5(K)){K[6]=K[7]=0;
M=[0,0,1,0,1,1,0,1];I.D.i(K,M)}c.Trnf=$.V.xN(M);c.nonAffineTransform=$.V.xN(E);if(c.filterFX)c.filterFX=JSON.parse(JSON.stringify(n[4].filterFX));
$.V.avw(c,o);F.g1(i,z==0,C.FV)}}if(n[5])$.V.pI(i,n[5],F.x6(i).X,z,X,l);if(n[7])$.V.pI(i,n[7],F,z,X,l);
if(0<=P){if(!k)F.gv();F.rH(i);F.Y()}}i.Y()};$.V.P1=function(i,C){var m=C.je(),e=0;I.od(i);var z=I.axa(i,C,.3,4);
e=z[0];C=z[1];var L=i[e],l=i[e+1],x=l.m,S=l.J,k=I.C.Ym(l).j;I.C.i(k,C,k);var f=I.C.Ve(k),X=I.R(f.P()),o=f.x,A=f.y,P=f.m,F=f.J,n=C.clone();
n.Fb();var R=n.M$(new b5(0,0)),Q=n.M$(new b5(1,0)),s=Q.x-R.x,j=Q.y-R.y;for(var _=0;_<F;_++){var B=n.W*(o+.5)+n.xF*(_+A+.5)+n.W_,N=n.e*(o+.5)+n.o6*(_+A+.5)+n.Rj;
for(var a=0;a<P;a++){X[_*P+a]=Math.floor(.5+I.D.ai_(B,N,L,x,S));B+=s;N+=j}}return{rect:f,channel:X}};
$.V.eX=function(i,C,m,e,z,L){if(m==null)m=!1;return $.V.NN(i,m?0:1,I.D.fL(C),null,e,z,L,m)};$.V.NN=function(i,C,m,e,z,L,l,x){if(x==null)x=!1;
if(x&&l)throw"e";var S={},f=0;if(e&&!I.lu.gL(e)){var k=I.lu.i3(e);I.D.i(m,k[3]);S.rect=I.C.Ve(k[3]);
S.buffer=I.R(S.rect.P()*4);I.bZ.drawImage(k,i[0],i[1].m,i[1].J,S.buffer,S.rect,C==0);return S}if(I.D.r5(m)){I.aq(i);
var X=.3,f=0,o=I.D.YD(m),A=i[1],P=A.P()*o.je();if(x&&P>4e6)X=P>8e6?2.2:1.2;var F=I.axa(i,o,X,16);f=F[0];
m=I.D.fL(F[1])}var n=i[f],A=i[f+1],R=I.D.oW(m,I.D.fL(new hN(A.m,0,0,A.J,A.x,A.y))),Q=[0,0,1,0,1,1,0,1];
I.D.i(R,Q);S.rect=I.C.Ve(Q);if(l)S.rect=S.rect.G_(l);if(x){while((S.rect.m&3)!=0)S.rect.m++;while((S.rect.J&3)!=0)S.rect.J++}if(!hG.e7(Q)||S.rect.m>1e5||S.rect.J>1e5||S.rect.P()>3e4*3e4)return null;
var s=S.rect.P()*4;if(z&&z.byteLength>=s&&s>=z.byteLength>>2){S.buffer=new Uint8Array(z)}else{S.buffer=I.R(s)}I.D.drawImage(R,n,A.m,A.J,S.buffer,S.rect,C==0,L,x);
if(C==2&&S.buffer){var j=S.rect.m,_=S.rect.J,B;B=[0,-1,0,-1,16,-1,0,-1,0];B=I.H2.wn(B);var N=S.buffer.slice(0);
I.H2.v3(N,S.buffer,j,_,B,255,!1,!0)}if(S.buffer)return S};$.V.pI=function(i,C,m,e,z,L,l){var x=C.rect,S=C.channel;
if(l){x=l;S=C.Hp(x)}if(C.color==255)I.Fb(S);var k=I.R(x.P()*4);I.uC(S,k,3);var f=$.V.NN([k,x],e,z,L);
if(f){m.rect=f.rect;m.channel=I.R(f.rect.P());I.Ud(f.buffer,m.channel,3);m.kL=!0}if(C.color==255){I.Fb(S);
if(f)I.Fb(m.channel)}};$.V.avw=function(i,C){var m=i.filterFX;if(m)m=m.v.filterFXList;if(m)m=m.v;if(m)for(var e=0;
e<m.length;e++){var z=m[e].v.Fltr;if(z==null||z.v.classID!="rigidTransform")continue;z=z.v;console.log(z);
var L=[];for(var l=0;l<4;l++)L.push(z["PuX"+l].v,z["PuY"+l].v);I.C.i(L,C,L);for(var l=0;l<4;l++){z["PuX"+l].v=L[l*2];
z["PuY"+l].v=L[l*2+1]}var x=["PinP","posFinalPins"],S=["originalVertexArray","deformedVertexArray"],k=z.puppetShapeList.v;
for(var f=0;f<k.length;f++){var X=k[f].v;for(var o=0;o<x.length;o++){var A=$.V.dR(X[x[o]]);I.C.i(A,C,A);
X[x[o]]=$.V.xN(A);var P=new Uint8Array(X[S[o]].v),F=new Float32Array(P.buffer);I.C.i(F,C,F);var n=[];
for(var R=0;R<P.length;R++)n[R]=P[R];X[S[o]].v=n}}}};$.V.dR=function(i){var C=[],m=i.v.length;for(var Y=0;
Y<m;Y++)C.push(i.v[Y].v);return C};$.V.xN=function(i){var C={t:"VlLs",v:[]},m=i.length;for(var Y=0;Y<m;
Y++)C.v.push({t:"doub",v:i[Y]});return C};$.V.prototype.aAi=function(){var i=I.C.OO(I.lu.i3(this.S6.NH())[3]),C=I.D.v6(this.Ci.yx(),this.Rc),m=[i.x,i.y,i.x+i.m,i.y,i.x+i.m,i.y+i.J,i.x,i.y+i.J];
I.D.i(C,m);this.Ci.n1(m);this.Rc=i};$.V.prototype.Hx=function(){var i=I.D.v6(this.Ci.yx(),this.Rc);if(this.us)i=I.D.oW(i,I.D.fL(this.us));
return i};$.V.prototype.UT=function(i,C,m,e){var z=this.Hx();z=I.D.oW(z,I.D.Fb(this.Xc));var L=this.S6?this.S6.NH():null;
if(this.PZ==0){var l=this.Zd=I.D.YD(z);if(this.id==$.m6){var x=this.cS[0][0],S=x.JT,k=S[1],f=~~(k.m*Math.max(0,l.W)),X=~~(k.J*Math.max(0,l.o6)),o=new j2(Math.round(l.W*k.x+l.W_),Math.round(l.o6*k.y+l.Rj),f,X),A=I.sZ.i(this.YZ,o),P=i.M[this.M[0]];
P.buffer=A;P.rect=o;P.Y();i.Y()}else $.V.$y(i,C,this.M,this.cS,m,z,L,null,null,e)}else if(this.PZ==1){var F=i.M[this.M[0]],k=this.VH.TD;
if(F.ii<=0){var n=this.VH.Jg,R=this.Ii,Q=null;if(L&&!I.lu.gL(L)&&!R.rect.LJ(k)){var A=I.R(R.rect.P()*4);
I.fF(n,k,A,R.rect);n=A;k=R.rect}if(this.id==$.m6){var l=this.Zd=I.D.YD(z),f=~~(k.m*Math.max(0,l.W)),X=~~(k.J*Math.max(0,l.o6)),o=new j2(Math.round(l.W*k.x+l.W_),Math.round(l.o6*k.y+l.Rj),f,X),A=I.sZ.i(this.YZ,o);
Q={buffer:A,rect:o}}else Q=$.V.NN([n,k],m,z,L);if(Q){F.L5.D8=Q.buffer;F.L5.Ts=Q.rect;var s=I.R(Q.rect.P());
I.Ud(F.L5.D8,s,3);i.u={channel:s,rect:F.L5.Ts.clone()}}}else{var j=I.R(k.P()*4);I.uC(this.VH.Jg,j,3);
var Q=$.V.NN([j,k],m,z,L);if(Q){F.L5.D8=I.R(Q.rect.P());I.Ud(Q.buffer,F.L5.D8,3);F.L5.Ts=Q.rect}this.a2V(i,m,z,L)}F.f_(i,0,0,i.u);
if(m!=0){F.gv();I.gv(i.u)}i.Pm=!0;i.Y()}else if(this.PZ==2)this.a2V(i,m,z,L)};$.V.prototype.a2V=function(i,C,m,e){var z=this.Ii.rect,L=I.R(z.P()*4);
I.uC(this.Ii.channel,L,3);var l=$.V.NN([L,z],C,m,e),x=I.R(l.rect.P());I.Ud(l.buffer,x,3);i.u={channel:x,rect:l.rect};
i.Pm=!0};$.V.prototype.disable=function(i,C,m,e){if(this.Ci)this.X2(i,C,null,!0)};$.aiq=function(){$.V.call(this,[10,16],$.yn,"tools/transform")};
$.aiq.prototype=new $.V;$.aan=function(){$.V.call(this,[7,10],$.Ta,"tools/transform")};$.aan.prototype=new $.V;
$.aD5=function(){$.V.call(this,[10,48],$.m6,"tools/transform")};$.aD5.prototype=new $.V;$.tq=function(i,C,m){$.KV.call(this,[10,46],$.g6,"tools/transform");
this.YV=[1,1,2,!0];this.L0="rigidTransform";this.gD=null;this.a4B=null;this.Hc=null;this.CT=null;this.Is=null;
this.$s=null;this.n8=[]};$.tq.prototype=new $.KV;$.tq.prototype._$=function(){return!0};$.tq.hW=function(i){if(i==null)return!1;
if(i.g.length!=1)return!1;var C=i.M[i.g[0]];return C.add.SoLd||i.KT(!1)};$.tq.prototype.Xf=function(i,C){return $.tq.hW(i)};
$.tq.prototype.enable=function(i,C,m,e,z,L,l){this.a4B=L.dh;var x=L.dh,S,F=null;if(x){var k=i.M[x.a];
if(k.add.SoLd.filterFX!=null){var f=k.add.SoLd.filterFX.v.filterFXList.v;if(f[x.index])S=JSON.parse(JSON.stringify(f[x.index].v.Fltr.v))}}var X=S==null,k=i.M[i.g[0]],o=k.buffer,A=k.rect,P=k.add.SoLd;
if(P){var n=P.nonAffineTransform.v;F=[];for(var Y=0;Y<4;Y++)F.push(n[Y*2].v,n[Y*2+1].v);if(X)this.G6("edit",C);
var R=k.x6(i);o=R.buffer;A=R.rect}this.gD={buffer:o.slice(0),rect:A.clone(),aqA:F};if(X)S=$.tq.Ns(this.gD,this.YV);
this.Hc=S;this.CT=$.tq._4(this.Hc,this.YV);this.m2();this.gn(i);if(X)this.__(C);var Q=new eX(v.E.H,!0);
Q.data={d:v.B.Yo,f:this.id,N5:this.YV};C.T(Q);Q.data={d:v.B.TF,uu:"default"};C.T(Q)};$.tq.prototype.disable=function(i,C,m,e){if(this.CT)this.X2(i,C,!0)};
$.tq.prototype.m2=function(i){var C=this.CT;this.n8=[];for(var Y=0;Y<C.length;Y++){var m=C[Y];for(var e=0;
e<m.g.length;e++)this.n8.push([Y,m.g[Y]]);m.XV=I.r2.ab3(m);if(i)I.r2.aqD(m)}};$.tq.prototype.Mp=function(i,C,m,e){if(i.jh=="commit")this.X2(m,C,!0);
else if(i.jh=="cancel")this.Vw(m,C,!0);else if(i.jh=="prm"){var z=!1;for(var Y=0;Y<3;Y++)if(this.YV[Y]!=i.N5[Y])z=!0;
this.YV=i.N5;if(z){this.Hc=$.tq.Ns(this.gD,this.YV,this.Hc);this.CT=$.tq._4(this.Hc,this.YV);this.m2(!0);
this.__(C)}this.gn(m)}else if(i.jh=="moveDepth"){var L=this.CT;for(var l=0;l<L.length;l++){var x=L[l];
for(var Y=0;Y<x.g.length;Y++){var S=x.g[Y];x.Wi[S]+=i.amp?1:-1}}this.__(C)}};$.tq.prototype.Xu=function(i,C){return i==jD.nR||i==jD.sk};
$.tq.prototype.xC=function(i,C,m,e){var z=e.PD();if(e.S(jD.RX))this.X2(i,C,!0);else if(e.S(jD.pn))this.Vw(i,C,!0);
else if(e.S(jD.nR)||e.S(jD.sk)){var L=this.CT;for(var l=0;l<L.length;l++){var x=L[l];x.g.sort(function(f,X){return X-f});
for(var Y=0;Y<x.g.length;Y++){var S=x.g[Y],k=S*2;x.Wi.splice(S,1);x.vO.splice(S,1);x.ui.splice(S,1);
x.Py.splice(S,1);x._K.splice(k,2);x.Ba.splice(k,2)}x.g=[];if(x.Py.length==0){x.ak=x.pa.slice(0);x.nW=x.pa.slice(0)}}this.m2(!0);
this.__(C);this.gn(i)}else if(z.x!=0||z.y!=0){this.ai1(i,z.x,z.y,C);this.Fj=null}};$.tq.prototype.X2=function(i,C,m){this.G6("confirm",C);
this.escape(i,C,m)};$.tq.prototype.Vw=function(i,C,m){this.G6("cancel",C);this.escape(i,C,m)};$.tq.prototype.escape=function(i,C,m){i.N.tp=null;
i.N.x2=[];i.N._7=[];i.Qq=!0;this.CT=null;var e=new eX(v.E.H,!0);e.data={d:v.B.l6};if(m)C.T(e)};$.tq.prototype.k7=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=L.x,x=L.y,S=this.CT,k=null,f=[0,2,4,1.2,1.2,1.2],X=-1,o=$.AE(i,z);
for(var Y=0;Y<S.length;Y++){var A=S[Y],P=I.C.Iq(A.Ba,l,x,o);if(P!=-1)k=[Y,P];if(X==-1&&I.r2.aC0.aDD(A.nW,A.sD,l,x))X=Y}if(k==null&&X!=-1){var A=S[X];
$.tq.ai7(A,l,x,l,x,0);k=[X,A.Py.length-1];A.XV=I.r2.ab3(A)}this.Is=L;if(k){var F=S[k[0]].g.indexOf(k[1])!=-1;
if(e.S(jD.$I)&&!F){S[k[0]].g.push(k[1]);this.n8.push(k)}else if(!F){S[k[0]].g=[k[1]];this.n8=[k]}}this.gn(i)};
$.tq.ai7=function(i,C,m,e,z,L){var l=I.C.Iq(i.nW,C,m);i.Py.push(l);i.Ba.push(e,z);i._K.push(i.nW[l*2]-C,i.nW[l*2+1]-m);
i.ui.push(0);i.vO.push(!1);i.Wi.push(L)};$.tq.prototype.ct=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=this.Is;
if(l)this.ai1(i,L.x-l.x,L.y-l.y,C)};$.tq.prototype.ai1=function(i,C,m,e){var z={},L=this.n8,l=this.CT;
if(this.Fj==null){this.Fj=[];for(var Y=0;Y<l.length;Y++)this.Fj.push(l[Y].Ba.slice(0))}for(var Y=0;Y<L.length;
Y++){var x=this.n8[Y],S=x[0],k=l[x[0]],f=x[1]*2;k.Ba[f+0]=this.Fj[S][f+0]+C;k.Ba[f+1]=this.Fj[S][f+1]+m;
z[S]=S}for(var S in z)I.r2.aqD(this.CT[z[S]]);this.gn(i);this.__(e)};$.tq.prototype.G6=function(i,C){var m=new eX(v.E.v,!0);
m.f=$.uz;m.data={d:i,dh:this.a4B,L0:this.L0,qg:this.Hc};C.T(m)};$.tq.prototype.$d=function(i,C,m,e,z){this.Is=null;
this.Fj=null};$.tq.prototype.__=function(i){$.tq.a3O(this.CT,this.YV,this.Hc);this.G6("edit",i)};$.tq.prototype.gn=function(i){var C=this.CT,m=this.Hc;
i.N.tp={j:[],G:[]};i.N.x2=[];i.N._7=[];for(var Y=0;Y<C.length;Y++){var e=C[Y];for(var z=0;z<e.Ba.length;
z+=2){var L=i.N._7;if(e.g.indexOf(z>>>1)!=-1)L=i.N.x2;L.push(e.Ba[z],e.Ba[z+1])}if(this.YV[3])I.C.concat(i.N.tp,I.C.art(e.nW,e.sD))}i.Qq=!0};
$.tq.Ns=function(i,C,m){var e=i.buffer,z=i.rect,L=i.aqA,l=ft.TQ("rigidTransform");if(L)for(var Y=0;Y<4;
Y++){l["PuX"+Y].v=L[Y*2];l["PuY"+Y].v=L[Y*2+1]}var x=l.puppetShapeList.v,S=I.r2.arR(e,z.m,z.J,C[1],C[2]),k=[];
for(var f=0;f<S.length;f++){var X={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
X.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var o=S[f];x.push({t:"Objc",v:X});var A=o.pa.slice(0);I.C.i(A,new hN(1,0,0,1,z.x,z.y),A);var P=o.sD;
for(var Y=0;Y<P.length;Y+=3){var F=P[Y+1];P[Y+1]=P[Y+2];P[Y+2]=F}k.push({sD:P,pa:A,ak:A,nW:A,Py:[],_K:[],Ba:[],XV:null,g:[],ui:[],vO:[],Wi:[]})}if(m){var n=$.tq._4(m,[]),R=k[0];
for(var Y=0;Y<n.length;Y++){var Q=n[Y];for(var s=0;s<Q.g.length;s++)R.g.push((R.Ba.length>>>1)+Q.g[s]);
for(var s=0;s<Q.Py.length;s++){var j=Q.Py[s]*2,_=Q.pa[j]-Q._K[s*2],B=Q.pa[j+1]-Q._K[s*2+1];$.tq.ai7(R,_,B,Q.Ba[s*2],Q.Ba[s*2+1],Q.Wi[s])}}}$.tq.a3O(k,C,l);
return l};$.tq._4=function(i,C){var m=$.V.dR,e=i.puppetShapeList.v,z=[];for(var L=0;L<e.length;L++){var l=e[L].v;
C[0]=l.meshRigidity.v-1;C[1]=l.meshQuality.v-1;C[2]=l.meshExpansion.v;var x=l.pinVertexIndices.v.length,S=l.meshBoundaryPath.v.pathComponents.v;
if(S.length!=0){var k=S[0].v.SbpL.v[0].v.Pts;k.v=[]}var f=new Uint32Array(new Uint8Array(l.indexArray.v).buffer),X=new Float32Array(new Uint8Array(l.originalVertexArray.v).buffer),o=new Float32Array(new Uint8Array(l.deformedVertexArray.v).buffer),A=[],P=[],F=[];
for(var Y=0;Y<f.length;Y++)A.push(f[Y]);for(var Y=0;Y<X.length;Y++){P.push(X[Y]);F.push(o[Y])}var n=m(l.pinVertexIndices),R=m(l.pinOffsets),Q=m(l.posFinalPins),s=m(l.PnRt),j=m(l.PnOv),_=m(l.PnDp),B=m(l.selectedPin);
z.push({sD:A,pa:P,ak:F.slice(0),nW:F,Py:n,_K:R,Ba:Q,XV:null,ui:s,vO:j,Wi:_,g:B})}return z};$.tq.a3O=function(i,C,m){function e(o,A){var P=[];
for(var Y=0;Y<o.length;Y++)P.push({t:A,v:o[Y]});return P}function z(o,A,P){var F=new(P?Uint32Array:Float32Array)(o),n=new Uint8Array(F.buffer);
for(var Y=0;Y<n.length;Y++)A[Y]=n[Y]}var L=m.puppetShapeList.v;for(var l=0;l<L.length;l++){var x=i[l],S=L[l].v;
S.meshRigidity.v=C[0]+1;S.meshQuality.v=C[1]+1;S.meshExpansion.v=C[2];z(x.sD,S.indexArray.v,!0);z(x.pa,S.originalVertexArray.v);
z(x.nW,S.deformedVertexArray.v);var k=[];for(var Y=0;Y<x.Py.length;Y++){var f=x.Py[Y]*2,X=Y*2;k[X]=x.pa[f]-x._K[X];
k[X+1]=x.pa[f+1]-x._K[X+1]}S.PinP.v=e(k,"doub");S.pinVertexIndices.v=e(x.Py,"long");S.pinOffsets.v=e(x._K,"doub");
S.posFinalPins.v=e(x.Ba,"doub");S.PnRt.v=e(x.ui,"long");S.PnOv.v=e(x.vO,"bool");S.PnDp.v=e(x.Wi,"doub");
S.selectedPin.v=e(x.g,"long")}};$.FD=function(i,C,m){$.KV.call(this,i?i:[10,40],C?C:$.$r,m?m:"tools/slice");
this.uS=null;this.Oe=null;this.di=null;this.ag3=null;this.cw=null;this.M9=null};$.FD.prototype=new $.KV;
$.FD.Gl=function(i,C){var m=-1;for(var Y=0;Y<i.length;Y++){var e=$.FD.Tw(i,Y);if(e[0]<=C.x&&C.x<=e[2]&&e[1]<=C.y&&C.y<=e[3]){m=Y;
break}}return m};$.FD.prototype.X4=function(i,C,m,e,z){if(m==null)return;this.r4(m);if(i.d=="fromAction"){var L=i.bG,l=L.o0,x=L.t6,S=m.pR(),k=m.sq(),f=k==-1?new j2(0,0,m.m,m.J):m.M[k].d3();
if(l=="divide"){if(m.s3.length!=0){var X=m.s3[0],o=$.FD.Tw(m.xE,X);f=new j2(o[0],o[1],o[2]-o[0],o[3]-o[1]);
m.xE.splice(X,1);m.s3=[]}S=[[],[]];for(var A=0;A<2;A++){var P=["Across","Down"][A],F=x["pixels"+P]?0:1,n=x[["pixels","slices"][F]+P];
if(n==null)continue;n=n.v;var R=A==0?f.x:f.y,Q=A==0?f.m:f.J;if(F==0)for(var Y=1;Y*n<Q;Y++){S[0].push([A,R+Y*n]);
S[1].push(k)}else{var s=Math.floor(Q/n);for(var Y=1;Y<n;Y++){S[0].push([A,R+Y*s]);S[1].push(k)}}}}var j=[f.x,f.x+f.m],_=[f.y,f.y+f.J];
for(var Y=0;Y<S[0].length;Y++){var B=S[0][Y],N=Math.round(B[1]),a=S[1][Y];if(a!=-1&&a!=k)continue;if(B[0]==0&&j.indexOf(N)==-1)j.push(N);
if(B[0]==1&&_.indexOf(N)==-1)_.push(N)}j.sort(function(g,u){return g-u});_.sort(function(g,u){return g-u});
for(var O=1;O<_.length;O++)for(var H=1;H<j.length;H++){m.xE.push($.FD.fR());$.FD.B5(m.xE,m.xE.length-1,[j[H-1],_[O-1],j[H],_[O]]);
m.Qq=!0}}else if(i.d=="reorder"){if(m.s3.length==0)return;var q=m.xE,h=m.s3;h.sort(function(g,u){return g-u});
console.log(h);var D=q.slice(0),T=[],p=[];for(var Y=0;Y<h.length;Y++){var X=h[Y],y=q[X];p.push(y);D.splice(D.indexOf(y),1)}var b=Math.max(0,Math.min(D.length,h[0]-i.dir));
for(var Y=0;Y<p.length;Y++){D.splice(b+Y,0,p[Y]);T.push(b+Y)}m.xE=D;m.s3=T}else if(i.d=="delete"){var q=m.xE.slice(0);
for(var Y=0;Y<m.s3.length;Y++)m.xE.splice(m.xE.indexOf(q[m.s3[Y]]),1);m.s3=[]}else if(i.d=="deleteAll"){m.xE=[];
m.s3=[]}else{m.xE[m.s3[0]].v=i;m.Qq=!0}this.gp(m)};$.FD.prototype.enable=function(i,C,m,e,z,L){$.KV.prototype.enable.call(this,i,C,m,e,z,L);
if(!m.Cv.xE){var l=new eX(v.E.H,!0);l.data={d:v.B.Mc,N5:dm.$k};C.T(l)}};$.FD.prototype.disable=function(){this.uS=null;
this.Oe=null};$.FD.prototype.mq=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=$.FD.Gl(i.xE,L);if(l==-1)return;
this.uS=i;this.Oe=C;i.s3=[l];i.Qq=!0;if(this.M9==null){this.M9=new gw([{name:[5,4]},{name:[8,11,1],HT:!0}]);
this.M9.k("select",this.bc,this)}var x=this.M9;x.parent=C;x._();x.update(i,m);var S=new eX(v.E.H,!0);
S.data={d:v.B.vs,aA:x,x:z.Xy+2,y:z.UE+1};C.T(S)};$.FD.prototype.bc=function(i){var C=this.M9.kT()[0],m=this.uS;
if(C==0){this.r4(m);m.xE.splice(m.s3[0],1);m.s3=[];m.Qq=!0;this.gp(m)}if(C==1){var e=new eX(v.E.H,!0);
e.data={d:v.B.c6,pw:"soptions",b:m.xE[m.s3[0]].v};this.Oe.T(e)}};$.FD.prototype.k7=function(i,C,m,e,z){if(i==null)return;
this.r4(i);var L=i.q.yy(z.x,z.y);L=$.a8.qG(i,L,m,[!0,null,!1]);L.x=Math.round(L.x);L.y=Math.round(L.y);
this.cw=L;i.xE.unshift($.FD.fR());i.s3=[0];$.FD.B5(i.xE,0,[L.x,L.y,L.x+20,L.y+20]);i.Qq=!0};$.FD.prototype.ct=function(i,C,m,e,z){if(this.di==null)return;
var L=i.q.yy(z.x,z.y),l=this.cw;L=$.a8.qG(i,L,m,[!0,null,!1]);L.x=Math.round(L.x);L.y=Math.round(L.y);
var x=[l.x,l.y,L.x,L.y];$.FD.aoV(x);$.FD.B5(i.xE,0,x);i.Qq=!0};$.FD.prototype.$d=function(i,C,m,e,z){this.gp(i);
this.cw=null};$.FD.prototype.r4=function(i){this.di=JSON.stringify(i.xE);this.ag3=JSON.stringify(i.s3)};
$.FD.prototype.gp=function(i){var C=JSON.stringify(i.xE);if(C!=this.di){var m=new fw(this.name,this);
m.data={VH:this.di,ul:C,asd:this.ag3,ab7:JSON.stringify(i.s3)};i.zN(m)}this.di=null};$.FD.prototype.qp=function(i,C){C.xE=JSON.parse(i.VH);
C.s3=JSON.parse(i.asd);C.Qq=!0};$.FD.prototype.gT=function(i,C){C.xE=JSON.parse(i.ul);C.s3=JSON.parse(i.ab7);
C.Qq=!0};$.FD.prototype.Xu=function(i,C){return C!=null&&C.s3.length!=0&&(i==jD.nR||i==jD.sk)};$.FD.prototype.xC=function(i,C,m,e){if(i==null)return;
if(e.S(jD.nR)||e.S(jD.sk))this.X4({d:"delete"},C,i,e,m);var z=e.PD();if(z.x!=0||z.y!=0){this.r4(i);$.FD.eN(i,z);
this.gp(i)}};$.FD.prototype.Mp=function(i,C,m,e,z){};$.FD.a7X=function(i,C,m,e){var z=new b5(-C.x,-C.y),L=C.m/m.m,l=C.J/m.J,x=[0,0,C.m,C.J];
for(var Y=0;Y<i.length;Y++){var S=$.FD.Tw(i,Y);if(e){S[0]=Math.round(S[0]*L);S[1]=Math.round(S[1]*l);
S[2]=Math.round(S[2]*L);S[3]=Math.round(S[3]*l)}else{$.FD.qi(S,z);$.FD.aol(S,x)}if(S[0]>=S[2]||S[1]>=S[3]){i.splice(Y,1);
Y--;continue}$.FD.B5(i,Y,S)}};$.FD.eN=function(i,C){var m=i.xE;for(var Y=0;Y<i.s3.length;Y++){var e=$.FD.Tw(m,i.s3[Y]);
$.FD.qi(e,C);$.FD.B5(m,i.s3[Y],e)}};$.FD.aol=function(i,C){if(i[0]<C[0])i[0]=C[0];if(i[1]<C[1])i[1]=C[1];
if(C[2]<i[2])i[2]=C[2];if(C[3]<i[3])i[3]=C[3]};$.FD.qi=function(i,C){i[0]=Math.round(i[0]+C.x);i[2]=Math.round(i[2]+C.x);
i[1]=Math.round(i[1]+C.y);i[3]=Math.round(i[3]+C.y)};$.FD.B5=function(i,Y,C){var m=i[Y].v.bounds.v;m.Left.v=C[0];
m.Top.v=C[1];m.Rght.v=C[2];m.Btom.v=C[3]};$.FD.Tw=function(i,Y){var C=i[Y].v.bounds.v;return[C.Left.v,C.Top.v,C.Rght.v,C.Btom.v,Y]};
$.FD.aoV=function(i){if(i[2]<i[0]){var C=i[0];i[0]=i[2];i[2]=C}if(i[2]==i[0])i[2]++;if(i[3]<i[1]){var C=i[1];
i[1]=i[3];i[3]=C}if(i[3]==i[1])i[3]++};$.FD.OO=function(i,C){var m=1e9,e=-1e9,z=1e9,L=-1e9;for(var Y=0;
Y<C.length;Y++){var l=$.FD.Tw(i,C[Y]);m=Math.min(m,l[0]);z=Math.min(z,l[1]);e=Math.max(e,l[2]);L=Math.max(L,l[3])}return[m,z,e,L]};
$.FD.fR=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
$.A4=function(){$.FD.call(this,[10,41],$.CG,"tools/sselect");this.cw=null;this.ms=null;this.ae=null;
this.$s=null;this.Wr=!1};$.A4.prototype=new $.FD;$.A4.prototype.k7=function(i,C,m,e,z){if(i==null)return;
var L=i.q.yy(z.x,z.y),l=$.A4.alB(L,4/i.q.U,i.xE,i.s3);l.pop();if(l.length!=0){this.cw=L;this.ae=l;this.r4(i);
return}var x=i.xE,S=$.FD.Gl(x,L);if(S==-1)i.s3=[];else{var k=i.s3.indexOf(S);if(e.S(jD.$I)){if(k==-1)i.s3.push(S);
else i.s3.splice(k,1)}else{i.s3.sort(function(F,n){return F-n});if(k==-1)i.s3=[S];this.cw=L;this.r4(i);
this.ms=$.FD.OO(x,i.s3);this.$s=[];for(var Y=0;Y<i.s3.length;Y++)this.$s.push($.FD.Tw(x,i.s3[Y]));if(e.S(jD.rb)){var f=x.slice(0),X=i.s3,o=[];
for(var Y=0;Y<X.length;Y++){var S=X[Y],A=f[S],P=x.indexOf(A);o.push(P);x.splice(P,0,JSON.parse(JSON.stringify(A)))}i.s3=o}}}i.Qq=!0};
$.A4.prototype.ct=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y);if(this.cw==null){var l=$.A4.alB(L,4/i.q.U,i.xE,i.s3),x=l.pop(),S=l.length==0?"default":["ew","nwse","ns","nesw"][x]+"-resize",k=new eX(v.E.H,!0);
k.data={d:v.B.TF,uu:S};C.T(k);return}if(!this.Wr&&L.LJ(this.cw))return;this.Wr=!0;var f=i.xE,l=this.ae;
if(l){L=$.a8.qG(i,L,m,[!0,null,!1]);var X=Math.round(L.x),o=Math.round(L.y);for(var Y=0;Y<l.length;Y+=2){var A=$.FD.Tw(f,l[Y]),P=l[Y+1];
A[P]=(P&1)==0?X:o;$.FD.aoV(A);$.FD.B5(f,l[Y],A)}}else{var F=L._3(this.cw),n=this.ms.slice(0);$.FD.qi(n,F);
var R=new j2(n[0],n[1],n[2]-n[0],n[3]-n[1]),Q=$.a8.DY(i,R,m,[!0,null,!1],!0);$.a8.Yr(i,R,Q);F.x+=Q[0];
F.y+=Q[1];for(var Y=0;Y<i.s3.length;Y++)$.FD.B5(f,i.s3[Y],this.$s[Y]);$.FD.eN(i,F)}i.Qq=!0};$.A4.prototype.$d=function(i,C,m,e,z){if(this.cw==null)return;
this.gp(i);i.N.Bd=null;i.Qq=!0;this.cw=null;this.ae=null;this.$s=null;this.Wr=!1};$.A4.alB=function(i,C,m,e){var z=i.x,L=i.y,l=[],x=-1,S=[];
for(var Y=0;Y<e.length;Y++){var k=e[Y],f=$.FD.Tw(m,k),X=f[0],o=f[1],A=f[2],P=f[3];if(z<X-C||A+C<z||L<o-C||P+C<L)continue;
var F=[z<X+C,L<o+C,A-C<z,P-C<L],n=-1;for(var R=0;R<4;R++){if(F[R]&&F[R+1&3])n=1+2*(R&1);if(F[R])l.push(k,R)}if(n==-1){if(F[0]||F[2])n=0;
if(F[1]||F[3])n=2}if(n!=-1){x=n;S.push(k)}}var Q=l.length;for(var Y=0;Y<Q;Y+=2){var k=l[Y],s=l[Y+1],j=$.FD.Tw(m,k)[s];
for(var R=0;R<e.length;R++){var _=e[R];if(S.indexOf(_)!=-1)continue;var f=$.FD.Tw(m,_);if(f[s&1]==j)l.push(_,s&1);
if(f[2+(s&1)]==j)l.push(_,2+(s&1))}}l.push(x);return l};$.B8=function(){$.Z3.call(this,[10,44],$.aqG,"tools/oselect");
this.oJ="crosshair";this.aoY=0};$.B8.prototype=new $.Z3;$.B8.prototype.MU=function(i,C,m,e){if(Math.random()<1/(1+this.aoY)){alert("The cross should be fully inside the object.",3500);
this.aoY++}};$.B8.prototype.bz=function(i,C,m,e){$.Jj.Kb(i,$.Z3.Dv,this.Oe);if(!e.$G||!this.Xi)return;
var z=this.S8(i,m,!1),L=z.m,l=z.J,x=z.x,S=z.y,k=z.x+L,f=z.y+l,X=x+L/2,o=S+l/2,A=$.B8.a4v;i.N.tp={j:[x,S,k,S,k,f,x,f,X-L*A,o,X+L*A,o,X,o-l*A,X,o+l*A],G:"M L L L Z M L M L".split(" ")};
i.Qq=!0};$.B8.a4v=.12;$.B8.prototype.f9=function(i,C,m,e){i.N.tp=null;i.Qq=!0;this.finish(i,C,m,e)};
$.B8.prototype.getSelection=function(i,C,m,e){if(this.XQ.LJ(this.Nx)||!this.Xi)return null;var z=this.S8(i,m,!1),L=i.M[i.g[0]];
if(z.bs()||!z.EI(L.rect))return null;return $.Z3.ZQ("ObSl",z)};$.Jj=function(){$.N9.call(this,[10,37],$._T,"tools/qselect");
this.lm="qselect"};$.Jj.prototype=new $.N9;$.Jj.prototype.k7=function(i,C,m,e,z){$.Jj.Kb(i,$.Z3.Dv,C,!0);
this._F(i,m,e,z,1);if(this.lX==null)return;this.fl(i)};$.Jj.prototype.ct=function(i,C,m,e,z){this.Qy(i,C,m);
$.Jj.Kb(i,$.Z3.Dv,C);if(this.G7)this.aD(i,m,z);if(this.lX==null)return;if(!z.$G)return;var L=this.Dy(i,m,e,z);
if(L!=1)this.fl(i)};$.Jj.Kb=function(i,C,m,e){if(i&&C.key!=$.Jj.Ld(i)){C.key=$.Jj.Ld(i);var z=i.M[i.g[0]].rect.P(),l="Image Analysis ...";
if(z==0)return;var L=z>1e6&&e!=!0,x=new eX(v.E.H,!0);x.data={d:v.B.dB,rU:l};if(L)m.T(x);var S=function(){var f=$.Jj.a6K(i);
for(var X in f)C[X]=f[X];var x=new eX(v.E.H,!0);x.data={d:v.B.k6,rU:l};if(L)m.T(x)};if(e)S();else setTimeout(S,30)}};
$.Jj.Ld=function(i){var C=i.g[0],m=i.M[C],e=m.rect,z=e.m,L=e.J,l=z*L,x=m.buffer;return[C,e.x,e.y,z,L,x[0],x[1],x[2],x[3]].join(",")};
$.Jj.a6K=function(i){var C=i.g[0],m=i.M[C],e=m.rect,z=e.m,L=e.J,l=z*L,x=m.buffer,S=Date.now(),k=I.R(l);
k.fill(128);var f=I.kg.kG(x,z,L);console.log(Date.now()-S);var X={key:$.Jj.Ld(i),kS:x,rect:e.clone(),HG:z,bB:L,Nv:12,L6:k,HZ:f,u:I.R(l),ri:null,WK:null,Cj:null};
$.Jj.qf(X,null,i);return X};$.Jj.qf=function(i,C,m){var e=i.HG,z=i.bB,L=0,l=0,x=Date.now(),S=i.ri!=null&&I.kg.cz(i.ri.sD,i.ri.WP,i.L6)==-1;
L=Date.now()-x;x=Date.now();if(!S){var k=I.kg.cz(i.HZ.sD,i.HZ.WP,i.L6),f=0;while(k!=-1){var X=[],o=[],A=i.HZ.sD;
for(var P=0;P<z;P++)for(var F=0;F<e;F++){var Y=P*e+F;if(A[Y]==k){var n=i.L6[Y];if(n==0)X.push(F,P);if(n==255)o.push(F,P)}}var R=m.M[m.g[0]],Q=R.buffer;
I.kg.kG.Q0(Q,e,z,i.HZ,X,o);k=I.kg.cz(i.HZ.sD,i.HZ.WP,i.L6);f++;if(f>=10){console.log("too many subdivisions");
break}}i.ri=I.kg.qq(i.HZ,e,z,i.L6,i.Nv);i.WK=I.kg.azF(i.kS,e,z,i.ri.sD,i.ri.WP);i.Cj=[i.WK[0].slice(0),[]];
l=Date.now()-x;x=Date.now()}var x=Date.now();if(C){i.Cj[0].set(i.WK[0]);var s=i.WK[1],j=i.Cj[1];for(var _=0;
_<s.length;_++)j[_]=s[_].slice(0);I.kg.a3D(i.ri.sD,e,z,i.ri.WP,i.L6,i.u,i.Cj)}};$.HS=function(){$.KV.call(this,[10,50],$.h9,"tools/artb");
this.Rw=null;this.tK=!1;this.Ci=null;this.sl=!1;this.ayH=null;this.pP=100;this.Yy=null;this.d6=0};$.HS.prototype=new $.KV;
$.HS.prototype.X4=function(i,C,m,e,z){this.UW(m,i.a2O,C,i.VU)};$.HS.akf=function(i,C){var m=i[0],e=0,z=0;
if(m==0)z=-1;else if(m==1)e=1;else if(m==2)z=1;else e=-1;return[20/C._0,i[1]+e*60/C._0,i[2]+z*60/C._0]};
$.HS.prototype.Mp=function(i,C,m,e,z){this.Rw=i.N5;this.d6=Date.now()};$.HS.prototype.Bj=function(i,C,m,e){if(m.jw!=this.id)return;
if(i==null||i.g.length!=1){this.Zi(i);return}var z=i.g[0],L=i.M[z],l=L.add.artb;if(l==null){this.Zi(i);
return}if(this.sl)return;if(Date.now()-this.d6>50){this.Rw={};var x=["artboardBackgroundType","Clr"];
for(var Y=0;Y<x.length;Y++)if(l[x[Y]])this.Rw[x[Y]]=JSON.parse(JSON.stringify(l[x[Y]]));var S=new eX(v.E.H,!0);
S.data={d:v.B.Yo,f:this.id,Hw:this.Rw};C.T(S)}var f=L.d3(),X=I.C.Ym(f).j,o=this.Ci=new hG(X,!0,!1,!1,!0,!1,3,!1);
o.mM(i,m,!1);var A={j:[1,0],G:["M"]};for(var Y=1;Y<30;Y++){var P=Math.PI*2*Y/30;A.j.push(Math.cos(P),Math.sin(P));
A.G.push("L")}A.G.push("Z","M","L","M","L");A.j.push(-.5,0,.5,0,0,-.5,0,.5);var F=f.x+f.m/2,n=f.y+f.J/2,R=this.pP*1.1,Q=this.ayH=[F,f.y,f.x+f.m,n,F,f.y+f.J,f.x,n],s=[0,-R,R,0,0,R,-R,0],j=i.root.children;
i.N.wY=[];for(var Y=0;Y<4;Y++){var _=new b5(Q[Y*2]+s[Y*2],Q[Y*2+1]+s[Y*2+1]),B=!1;for(var N=0;N<j.length;
N++){var L=j[N].a;if(L.add.artb==null)continue;var f=L.d3();if(f.Xp(_))B=!0}if(B){Q[Y*2]=1e9;continue}i.N.wY.push([Y,Q[Y*2],Q[Y*2+1]])}};
$.HS.prototype.disable=function(i,C,m,e,z){this.Zi(i)};$.HS.prototype.Zi=function(i){if(this.Ci){this.Ci.clear(i);
this.Ci=null;i.N.wY=null}};$.HS.prototype.k7=function(i,C,m,e,z){this.d6=Date.now();var L=i.q.yy(z.x,z.y),l=this.Ci;
if(l){var x=new eX(v.E.v),S=l.mo(null,L,i,z);if(S<9){this.sl=l.k7(i,m,e,L,null,!0,z);return}else if(l.Qw(L)){x.f=$.z_;
x.data={d:"disabAuto"};C.T(x);var f=new eX(v.E.H);f.data={d:v.B.n$,f:$.z_,afu:!0};C.T(f);return}else{var X=-1,o=i.N.wY;
for(var Y=0;Y<o.length;Y++){var A=$.HS.akf(o[Y],i.q);if(b5.qM(L,new b5(A[1],A[2]))<A[0])X=o[Y][0]}if(X!=-1){var P=i.M[i.g[0]].d3(),F=P.clone(),n=(X==0||X==2?P.J:P.m)+this.pP;
if(X==0||X==3)n=-n;if(X==0||X==2)P.y+=n;else P.x+=n;if(e.S(jD.rb)){var R=new j2(0,0,i.m,i.J);x.f=$.bH;
x.data={d:cc.Ev};C.T(x);$.a8.zu(i,i.Bb(null,i.g[0],null,!0),null,P.x-F.x,P.y-F.y);i.g=i.g.slice(i.g.length-1);
var Q=$.lx.yo(i);if(Q){var s=i.$K();s.data.Rc=R;s.data.YC=Q;s.data.$c=i.g}}else this.UW(i,P,C);return}}}this.Yy=$.a8.qG(i,L,m)};
$.HS.prototype.UW=function(i,C,m,e){if(e==null)e=0;var z=i.M.slice(0),L=[i.M.length+1],l=i.Sv();l.yY(bC.get([1,16,0])+" "+(i.add.artd==null?1:i.root.children.length+1));
l.add.lsct=aU.AY;l.bQ(C);if(this.Rw){var x=l.add.artb,S=this.Rw;for(var k in S)x[k]=S[k]}l.fn="pass";
l.de=24;if(e==0){if(i.add.artd||C.G_(new j2(0,0,i.m,i.J)).bs())z.push(i.b$());else z.unshift(i.b$())}else{var f=i.Bb();
f.sort(function(F,n){return F-n});var X=$.a5.zt(i,f,z.length-1,!1,null,!1),o=X.pop(),A=X.pop();z=X.pop();
z.splice(i.M.length-f.length,0,i.b$())}z.push(l);var P=new eX(v.E.v);P.f=$.bH;P.data={d:cc.cb,JF:z,sU:L,jj:[1,16,2]};
m.T(P)};$.HS.prototype.ct=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=this.Ci,x=this.Yy;if(l){if(this.sl){l.ct(i,m,e,L)}else{var S=l.zE(L,i.q.U,null,z);
if(S==null)S="default";var k=new eX(v.E.H,!0);k.data={d:v.B.TF,uu:S};C.T(k)}}if(x){var f=this.Tw(i,L,e,m);
i.N.tp=I.C.Ym(f);i.Qq=!0;$.KV.Pf(z,f,i,m)}};$.HS.prototype.$d=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y),l=this.Yy;
if(this.sl){this.Ci.$d(i,m,e,L);this.sl=!1;var x=I.C.Ve(this.Ci.yx()),S=cc.OC(x),k=i.M[i.g[0]],f=JSON.parse(JSON.stringify(k.add.artb));
f.artboardRect.v=S;var X=new eX(v.E.v,!0);X.f=$.bH;X.data={d:cc.LV,GE:f};C.T(X)}if(l){var o=this.Tw(i,L,e,m);
if(o.P()>20)this.UW(i,o,C);i.N.tp=null;i.Qq=!0;this.Yy=null;i.N.z9=[]}};$.HS.prototype.Tw=function(i,C,m,e){var z=this.Yy,L=$.a8.qG(i,C,e),l=$.P0.Tk(z,L,m,!0);
z=l[0];L=l[1];return I.C.Ve([z.x,z.y,L.x,L.y])};function hG(i,C,m,e,z,L,l,x){this.KY=null;this.Gu=i?i.slice(0):null;
this.SN=1;this.xX=4;this.Nx=null;this.$S=null;this.cO=null;this.$0=-1;this.Xn=null;this.asF=!1;this.a93=[];
for(var Y=0;Y<8;Y++)this.a93.push(i$.ail(0,PIMG.rotate,-.5,-.5,-45-Y*45));this.ahg=C;this.apR=m;this.aui=e;
this.acD=z;this.azk=L;this.VU=l;this.a4g=x==null?1:x}hG.prototype.ayF=function(){return this.$0!=-1};
hG.prototype.yx=function(){return this.Gu.slice(0)};hG.prototype.n1=function(i){this.Gu=i};hG.prototype.a8J=function(){return this.jk(this.Gu)};
hG.prototype.awr=function(){return this.xX};hG.prototype.arT=function(i){this.xX=i};hG.prototype.UY=function(i){if(i==null)i=this.Gu;
if(this.xX==9)return this.Nx;else return this.jk(i)[this.xX]};hG.prototype.auB=function(i){if(this.xX==9)this.Nx=i.clone();
else{var C=this.UY(),m=new hN(1,0,0,1,i.x-C.x,i.y-C.y);I.C.i(this.Gu,m,this.Gu)}};hG.prototype.Iw=function(i){this.SN=i};
hG.prototype.zE=function(i,C,m,e,z){var L=this.Ku(null,i,C,e),l;if(L==9)return"default";if(L==10){if(m)return null;
return!this.ahg?"move":null}if(L==-1||L==4)return null;if(L==11){var x=this.UY()._3(i);if(z==null)z=Math.atan2(x.y,x.x);
l=90-z*180/Math.PI;var S=Math.round(8*(l/360));S=(S+8)%8;return this.a93[S]}else{var k=this.Uf(i,this.Gu);
l=[135,90,45,180,0,0,225,270,315][L]*Math.PI/180;var f=I.D.v6(this.Gu);return hG.ajh(f[0],f[3],l)}};
hG.ajh=function(i,C,m){var e=Math.atan2(-C,i);if(m)e+=m;var z="ew nesw ns nwse ew nesw ns nwse".split(" "),L=Math.round(8*(e/(2*Math.PI)));
L=(L+8)%8;return z[L]+"-resize"};hG.prototype.Uf=function(i,C){var m=I.D.Fb(I.D.v6(C)),e=new Float64Array(2);
I.D.R7(i.x,i.y,m,e);return new b5(e[0],e[1])};hG.prototype.Qw=function(i){var C=this.Uf(i,this.Gu);return 0<=C.x&&C.x<=1&&0<=C.y&&C.y<=1};
hG.prototype.k7=function(i,C,m,e,z,L,l,x){this.asF=L;this.Xn=e;var S=i.q.U,k;if(this.Gu==null)e=$.a8.qG(i,e,C);
this.cO=e.clone();if(this.Gu==null){if(x==null)x=0;var f=new hN;f.rotate(x);var X=f.M$(new b5(1,1));
this.cO.offset(X.x,X.y);var o=z==null?1:1/z,A=this.Gu=[0,0,1,0,1,o,0,o];f.translate(e.x,e.y);I.C.i(this.Gu,f,this.Gu);
k=8}else{k=this.Ku(m,e,S,l);if(0<=k&&k<=8)this.cO=this.jk(this.Gu)[k];if(k==9){this.xX=9;this.Nx=e.clone()}}this.KY=this.Gu.slice(0);
this.$0=k;this.mM(i,C);this.$S=this.UY();return k!=-1};hG.prototype.mo=function(i,C,m,e){return this.Ku(i,C,m.q.U,e)};
hG.prototype.Ku=function(i,C,m,e){var z=-1,L=this.jk(),l=[0,2,6,8,1,3,5,7],x=e?$.AE({q:{U:m}},e):8*$.XP()/m,S=b5.qM(L[0],L[2]),k=b5.qM(L[0],L[6]),f=this.Uf(C,this.Gu);
f.x*=S;f.y*=k;var X=new j2(0,0,S,k);X.sW(x,x);if(z==-1)if(b5.qM(this.UY(),C)<x)z=9;if(z==-1)for(var Y=0;
Y<l.length;Y++)if(b5.qM(L[l[Y]],C)<x)z=l[Y];if(z==-1&&X.Xp(f)){if(Math.abs(f.y-0)<x)z=1;if(Math.abs(f.x-0)<x)z=3;
if(Math.abs(f.y-k)<x)z=7;if(Math.abs(f.x-S)<x)z=5}if(z==-1&&i&&i.S(jD.rb))z=9;if(z==-1||this.VU==4){if(this.Qw(C)){if(this.ahg)z=10}else{var o=[3,.85][d4];
X.sW(o*x,o*x);z=X.Xp(f)&&this.VU!=3?11:10}}return z};hG.prototype.ct=function(i,C,m,e,z){if(this.$0==-1)return;
this.Xn=e;var L=m&&m.S(jD.$I),l=m&&m.S(jD.rb),x=m&&m.S(jD.Uj),S=i.q.U,k=this.cO,f=this.$0,X=this.jk(),o=$.a8.qG(i,k,C),A=$.a8.qG(i,e,C),P,F;
if(f==9){var X=this.jk(),n=-1;for(var Y=0;Y<X.length;Y++)if(b5.qM(X[Y],A)*S<10)n=Y;this.xX=n==-1?9:n;
this.Nx=L?$.pK.OY(o,A):A.clone()}else if(f==10){F=I.C.OO(this.KY);var R=F.x,Q=F.y;F.offset(e.x-k.x,e.y-k.y);
if(this.av6()){F.x=Math.round(F.x);F.y=Math.round(F.y)}P=$.a8.DY(i,F,C);var s=new hN(1,0,0,1,F.x-R+P[0],F.y-Q+P[1]);
I.C.i(this.KY,s,this.Gu)}else if(f==11){var j=this.UY(this.KY),_=j._3(e),B=j._3(k),N=Math.atan2(_.y,_.x),a=Math.atan2(B.y,B.x),s=new hN(1,0,0,1,-j.x,-j.y),O=Math.PI/12;
if(L)s.rotate(Math.round((a-N)/O)*O);else s.rotate(a-N);s.translate(j.x,j.y);I.C.i(this.KY,s,this.Gu)}else{var H=L,q;
if(z&&!x)H=!H;if(this.azk)H=!0;var h=this.KY,D=f==0||f==2||f==6||f==8;if(this.VU==1){if(D)L=l=x=!0}else if(this.VU==2&&D&&this.asF!=!0)x=!0;
if(this.VU==3)x=!1;else if(this.VU==5){L=x=!0}if(this.aui&&D&&x){var Y=[0,0,2,0,0,0,6,0,4,0][f],T=-1,p=A.x,y=A.y;
if(L){var b=Y+6&7,g=Y+10&7,u=hG.ayo(h[Y],h[Y+1],h[b],h[b+1],A.x,A.y),t=hG.ayo(h[Y],h[Y+1],h[g],h[g+1],A.x,A.y),V=u[2]<t[2]?u:t;
p=V[0];y=V[1];if(l)T=u[2]<t[2]?b:g}else if(l)T=Y+4&7;q=h.slice(0);if(T!=-1){var c=h[T],E=h[T+1],Z=(h[Y]+c)/2,G=(h[Y+1]+E)/2;
q[T]=Z-(p-Z);q[T+1]=G-(y-G)}q[Y]=p;q[Y+1]=y}else if(D&&l){var j=this.$S,J=j.x,K=j.y,M=o.x-J,U=o.y-K,r=1,dS=1;
if(Math.abs(M)>=1)r=(A.x-J)/M;if(Math.abs(U)>=1)dS=(A.y-K)/U;if(H)r=dS=(r+dS)/2;var s=new hN;s.translate(-J,-K);
s.scale(r,dS);s.translate(J,K);q=h.slice(0);I.C.i(q,s,q)}else{if(this.av6()){A.x=Math.round(A.x);A.y=Math.round(A.y)}var w=[0,1,2,5,8,7,6,3],di=w[(w.indexOf(f)+4)%8],eM=[];
for(var Y=0;Y<3;Y++)for(var T=0;T<3;T++)eM.push(new b5(T/2,Y/2));var j=this.$S,j5=this.Uf(A,h),ds=this.Uf(k,h),ba=l&&(this.xX==4||this.xX==9)?this.Uf(j,h):eM[di],gH=new hN,ir=new hN,r=(j5.x-ba.x)/(ds.x-ba.x);
if(r==0)r=1e-4;var dS=(j5.y-ba.y)/(ds.y-ba.y);if(dS==0)dS=1e-4;if(this.acD){r=Math.max(r,0);dS=Math.max(dS,0)}if(f==0||f==2||f==6||f==8){if(H)gH.scale(r,r);
else gH.scale(r,dS)}if(f==1||f==3||f==5||f==7){var iP=H,iy=x&&L;if(iy)iP=!1;if(f==1||f==7)gH.scale(iP?dS:1,iy?1:dS);
else gH.scale(iy?1:r,iP?r:1);if(this.apR&&x){if(f==1||f==7)ir.xF=(j5.x-ba.x)/(j5.y-ba.y);else ir.e=(j5.y-ba.y)/(j5.x-ba.x)}}var s=new hN;
s.translate(-ba.x,-ba.y);s.concat(gH);s.concat(ir);s.translate(ba.x,ba.y);q=[0,0,1,0,1,1,0,1];I.C.i(q,s,q);
var V=I.D.v6(h);I.D.i(V,q)}if(hG.e7(q))this.Gu=q}this.mM(i,C);if(P)$.a8.Yr(i,F,P)};hG.ayo=function(i,C,m,e,z,L){var l=m-i,x=e-C,S=z-i,k=L-C,f=l*l+x*x,X=S*l+k*x,o=X/f,A=i+o*l,P=C+o*x,F=z-A,n=L-P;
return[A,P,Math.sqrt(F*F+n*n)]};hG.prototype.av6=function(){var i=this.Gu;return Math.abs(i[1]-i[3])<1e-6&&Math.abs(i[2]-i[4])<1e-6||Math.abs(i[0]-i[2])<1e-6&&Math.abs(i[3]-i[5])<1e-6};
hG.e7=function(i){return I.C.ajM(i)||I.C.ajM([i[6],i[7],i[4],i[5],i[2],i[3],i[0],i[1]])};hG.prototype.$d=function(i,C,m,e){this.$0=-1;
this.Xn=null;i.N.Bd=null;i.N.z9=[];i.Qq=!0};hG.prototype.xC=function(i,C,m){var e=m.PD(i?i.q.RQ:0);if(e.x||e.y){var z=new hN(1,0,0,1,e.x,e.y);
I.C.i(this.Gu,z,this.Gu);this.mM(i,C);return!0}return!1};hG.prototype.jk=function(i){if(i==null)i=this.Gu;
var C=i[6]-i[0],m=i[7]-i[1],e=i[4]-i[2],z=i[5]-i[3],L=[i[0],i[1],i[2],i[3],i[0]+C/2,i[1]+m/2,i[2]+e/2,i[3]+z/2,i[6],i[7],i[4],i[5]],l=[];
for(var Y=0;Y<3;Y++){var x=Y*4,S=L[x+0],k=L[x+1],f=L[x+2],X=L[x+3];l.push(new b5(S,k));l.push(new b5(S+(f-S)/2,k+(X-k)/2));
l.push(new b5(f,X))}return l};hG.prototype.mM=function(i,C,m){if(i.N==null)return;if(m==null)m=!1;var e=this.SN,z=this.jk(),L=z[0],l=z[2],x=z[6],S=z[8],k={G:[],j:[]};
if(e==0)i.N.tp=k;else i.N.J5=k;k.G.push("M","L","L","L","Z");k.j.push(L.x,L.y,l.x,l.y,S.x,S.y,x.x,x.y);
var f=this.a4g;if(f>1){i.N.yT=JSON.parse(JSON.stringify(k));var X=l._3(L),o=x._3(L),A=S._3(l),P=S._3(x);
for(var Y=1;Y<f;Y++){k.G.push("M","L","M","L");var F=Y/f;k.j.push(L.x+X.x*F,L.y+X.y*F,x.x+P.x*F,x.y+P.y*F);
k.j.push(L.x+o.x*F,L.y+o.y*F,l.x+A.x*F,l.y+A.y*F)}}i.q.Bt=new j2(0,0,b5.qM(z[0],z[2]),b5.qM(z[0],z[6]));
if(this.$0!=-1&&this.$0<9&&this.Xn){var n=i.q.ip(this.Xn.x,this.Xn.y);$.KV.Pf(n,i.q.Bt,i,C)}if(!m){var R=[];
if(e==0)i.N.jr=R;else i.N.Lq=R;for(var Y=0;Y<z.length;Y++)if(Y!=4)R.push(z[Y].x,z[Y].y);var Q=this.UY();
R.push(Q.x,Q.y)}i.Qq=!0};hG.prototype.clear=function(i){i.q.Bt=null;i.N.Bd=null;i.N.tp=null;i.N.J5=null;
i.N.yT=null;i.N.jr=[];i.N.Lq=[];i.Qq=!0};function fQ(i){this.lu=null;this.$0=-1;this.O4=null;this.a3v=null;
this.pz=null;this.RI=-1;this.azg=null;this.a5e(i)}fQ.prototype.NH=function(){return JSON.parse(JSON.stringify(this.lu))};
fQ.prototype.a5e=function(i){this.lu=JSON.parse(JSON.stringify(i))};fQ.prototype.a87=function(i){this.RI=i};
fQ.prototype.Qw=function(i){return!0};fQ.prototype.zE=function(i,C,m,e){var z=this.Ku(i,C,e);if(z==-1)return"default";
return"pointer"};fQ.prototype.k7=function(i,C,m,e,z,L,l){if(this.RI!=-1)return!0;this.$0=this.Ku(e,i.q.U,l);
var x=I.lu.i3(this.lu),S=I.bZ.Oj(x,e),k=0<S[0]&&S[0]<1&&0<S[1]&&S[1]<1;this.O4=k?S:null;this.a3v=JSON.stringify(x);
this.azg=JSON.stringify(this.lu);this.pz=e;return this.$0!=-1||k};fQ.prototype.Ku=function(i,C,m){var e=m?$.AE({q:{U:C}},m)*2:20*$.XP()/C,z=this.lu,L=fQ.ajs(z),l=-1;
if(L){l=I.C.Iq(L,i.x,i.y,e);if(l!=-1)l+=1e6}else{var x=I.lu.i3(z);l=I.C.Iq(x[3],i.x,i.y,e);if(l!=-1&&this.yB(x,l)==null)l=-1}return l};
fQ.prototype.ct=function(i,C,m,e){if(this.RI!=-1)return;var z=this.lu,L=this.$0,l=this.O4,x=JSON.parse(this.a3v),S=x[0],k=x[1],f=x[3];
if(L>=1e6){var X=z.warpStyle.v.warpStyle,o=I.lu.S8(z);if(X=="warpCylinder"){this.lu=z=JSON.parse(this.azg);
var A=$.V.dR(z.warpValues),P=(A[2]-A[0])/(A[1]-A[3]),F=A[4]*P*o.J,n=A[5]*P*o.J,R=e.x-this.pz.x,Q=e.y-this.pz.y;
A[0]=o.x;A[1]=o.y+o.J;A[2]=o.x+o.m;A[3]=o.y;L-=1e6;if(L==0){A[0]+=R;A[1]+=Q}if(L==1){A[2]+=R;A[3]+=Q}if(L==2){F+=2*Q;
n+=2*Q}if(L==3){n+=2*Q}if(L==4){A[6]=Math.max(0,Math.min(1,A[6]-2*R/o.m))}var s=I.C.OO(A.slice(0,4)),j=s.m/o.m,_=s.J/o.J;
A[4]=F/s.m;A[5]=n/s.m;z.warpValues=$.V.xN(A);var B=new hN;B.translate(-o.x,-o.y);B.scale(j,_);B.translate(s.x,s.y);
if(L<4)return B}else{var N=z.warpRotate.v.Ornt,a=N=="Vrtc",O=I.lu.atJ[X],H=a?-e.x/o.m:-e.y/o.J;H+=O[1];
if(O[1]>.5)H=-H;H/=O[2];var j=o.m/o.J;if(a)j=1/j;if(O[3])H/=j;z.warpValue.v=100*Math.max(-1,Math.min(1,H))}}else if(L!=-1){var q=[L],R=e.x-f[L*2],Q=e.y-f[L*2+1];
if(S*k>16){var h=this.yB(x,L);if(h[0]==0){var D=Math.floor(L/S),T=L-D*S;if(T>0)q.push(L-1);if(T<S-1)q.push(L+1);
if(D>0)q.push(L-S);if(D<k-1)q.push(L+S)}}for(var Y=0;Y<q.length;Y++){f[q[Y]*2]+=R;f[q[Y]*2+1]+=Q}I.lu.XL(z,x)}else if(l){I.bZ.awS(x,l[0],l[1],e.x-this.pz.x,e.y-this.pz.y);
I.lu.XL(z,x)}};fQ.prototype.$d=function(i,C,m,e){var z=this.RI;this.O4=null;this.RI=-1;if(z!=-1){var L=I.lu.i3(this.lu),l=I.bZ.Oj(L,e);
if(z==0||z==1)I.bZ.split(L,0,l[0]);if(z==0||z==2)I.bZ.split(L,1,l[1]);I.lu.XL(this.lu,L)}i.Qq=!0;return z!=-1};
fQ.prototype.xC=function(i,C,m){var e=m.PD();if(e.x||e.y){var z=new hN(1,0,0,1,e.x,e.y);I.C.i(this.Gu,z,this.Gu);
this.mM(i)}};fQ.prototype.yB=function(i,Y){var C=i[0],m=i[1],e=this.$0,z=Math.floor(e/C),L=e-z*C,l=e%3,x=e%3,S=l==0&&x==0,z=Math.floor(Y/C),L=Y-z*C,l=L%3,x=z%3;
if(l!=0&&x!=0)return null;if(l==0&&x==0)return[0];else{var k=0;if(x==0)k=l==1?Y-1:Y+1;if(l==0)k=x==1?Y-C:Y+C;
if(C*m>16){var f=e==Y||e==Y+1||e==Y-1||e==Y+C||e==Y-C;if(S&&(f||e==Y+2||e==Y-2||e==Y+2*C||e==Y-2*C)){}else if(!S&&f){}else return null}return[1,k]}};
fQ.ajs=function(i,C){var C=i.warpStyle.v.warpStyle,e;if(C=="warpCustom"||C=="warpNone")return null;var m=I.lu.i3(i);
if(C=="warpCylinder"){var z=i.warpValues.v;e=[0,1,1,0,.5,0,.5,1,.75-.25*z[6].v,.5]}else{var L=i.warpRotate.v.Ornt,l=I.lu.atJ[C];
e=L=="Hrzn"?[l[0],l[1]]:[l[1],l[0]]}I.bZ.i(m,e,new j2(0,0,1,1));return e};fQ.prototype.mM=function(i,C){var m=this.lu,e=m.warpStyle.v.warpStyle,z=I.lu.i3(m),L=z[0],l=z[1],x=z[3],S=i.N.J5={G:[],j:[]},k=i.N.Lq=[],f=i.N.Ly=[],X=this.$0;
if(e=="warpCustom")for(var o=0;o<l;o++)for(var A=0;A<L;A++){var Y=o*L+A,P=this.yB(z,Y);if(P==null)continue;
var F=x[2*Y],n=x[2*Y+1],R=f;if(P[0]==0)R=Y==X&&L*l>16?f:k;else{var Q=P[1];S.G.push("M","L");S.j.push(F,n,x[2*Q],x[2*Q+1])}R.push(F,n)}else{var s=fQ.ajs(m);
if(s)for(var Y=0;Y<s.length;Y++)k.push(s[Y])}for(var o=0;o+1<l;o+=3)for(var A=0;A+1<L;A+=3){S.G.push("M","C","C","C","C");
var Y=o*L+A,j=Y+L+L,_=[Y,Y+1,Y+2,Y+3,Y+L+3,j+3,j+L+3,j+L+2,j+L+1,j+L,j,Y+L,Y];for(var Y=0;Y<_.length;
Y++){var F=x[_[Y]*2],n=x[_[Y]*2+1];S.j.push(F,n)}}var B=[],N=[];function a(O,A,h){for(var _=0;_<=h;_++){N.push(_==0?"M":"L");
if(O==0)B.push(A,_/h);else B.push(_/h,A)}}if(C)C=I.bZ.Oj(z,C);for(var O=0;O<2;O++){var H=z[2][O],q=O==0?L:l,h=q*5;
for(var D=1;D<q;D++){var T=Math.floor((D-1)/3),p=D-(1+T*3);if(p==0)continue;var A=H[T]+p/3*(H[T+1]-H[T]);
a(O,A,h)}var y=this.RI;if(C&&y!=-1&&(y==0||y-1==O))a(O,C[O],h)}I.bZ.i(z,B,new j2(0,0,1,1));I.C.concat(S,{j:B,G:N});
i.Qq=!0};fQ.prototype.clear=function(i){i.N.J5=null;i.N.Lq=[];i.N.Ly=[];i.Qq=!0};function is(){this.WW=!1;
this.Iu=!1;this.amY=!1;this.aiW=!1;this.N$=!1;this.CB=!1;this.sV=0;this.YQ=0}is.prototype.k7=function(i){this.WW=!0;
this.Iu=!1;this.N$=i.S(jD.$I);this.CB=i.S(jD.rb);this.sV=this.N$?0:1;this.YQ=this.CB?0:1};is.prototype.xC=function(i){var C=this.aiW=i.S(jD.$I),m=this.amY=i.S(jD.rb);
if(this.Iu){if(this.sV==0&&!C)this.sV++;if(this.sV==1&&C)this.sV++;if(this.YQ==0&&!m)this.YQ++;if(this.YQ==1&&m)this.YQ++}};
is.prototype.ct=function(){this.Iu=!0};is.prototype.$d=function(){this.WW=!1};is.prototype.Bh=function(Y){if(Y==0)return this.WW?this.CB:this.amY;
if(Y==1)return this.Iu?this.YQ==2:!1};is.prototype.Dg=function(Y){if(Y==0)return this.WW?this.N$:this.aiW;
if(Y==1)return this.Iu?this.sV==2:!1};$.History=function(){$.KV.call(this,"History",$.Z9);this.Le=!0;
this.akW=0};$.History.prototype=new $.KV;$.History.prototype.X4=function(i,C,m,e){m.sa=!0;if(i.d=="h_itemchange"){if(i.index<m.f0)for(var Y=m.f0;
Y>i.index;Y--)this.Sy(m);if(i.index>m.f0)for(var Y=m.f0;Y<i.index;Y++)this.j9(m)}if(i.d=="h_stepfwd")this.j9(m);
if(i.d=="h_stepbck")this.Sy(m);if(i.d=="h_undoredo"){var z=this.Le||this.akW!=m.f0;if(z){this.Sy(m);
z=!1}else{this.j9(m);z=!0}this.Le=z;this.akW=m.f0}if(i.d=="h_clear"){if(i.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
m.history=[new fw([1,0],null)];m.f0=0}else this.Le=!0};$.History.prototype.Sy=function(i){if(i.f0==0)return;
var C=i.history[i.f0];C.f.qp(C.data,i);i.f0--};$.History.prototype.j9=function(i){if(i.f0==i.history.length-1)return;
var C=i.history[i.f0+1];C.f.gT(C.data,i);i.f0++};$.a5=function(){$.KV.call(this,"Layers",$.bH);this.Oe=null};
$.a5.prototype=new $.KV;$.a5.prototype.X4=function(i,C,m,e,z){this.Oe=C;var L=i.d,l=i.a!=null?i.a:m.g.length!=0?m.g[0]:m.M.length-1,x=m.M[l];
m.gZ=!0;var S=e.S(jD.rb),k=e.S(jD.$I),f=e.S(jD.Uj);if(L==cc.Be&&m.u==null&&(m.g.length>1||!m.KT(!1)))L=cc.Ev;
if(L==cc.sE){var X=new fw([6,33],this),o=x.yJ()?["pass"].concat(aw.Az):aw.Az,A=o[i.yu],P=i.a!=null?[i.a]:m.g,F=JSON.stringify(P),n=[];
for(var Y=0;Y<P.length;Y++)n.push(m.M[P[Y]].fn);X.data={d:L,na:F,HX:n,yu:A};m.zN(X);this.gT(X.data,m);
this.track(h3.RT("Md",{t:"enum",v:{BlnM:aw.An(A)}}))}if(L==cc.kM){var X,R=m.$K(),P=i.a!=null?[i.a]:m.g,F=JSON.stringify(P);
if(R&&R.data&&R.data.d==L&&R.data.na==F)X=R;else{var Q=h3.RT("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(Q);var n=[];for(var Y=0;Y<P.length;Y++)n.push(m.M[P[Y]].opacity);X=new fw([6,32],this);X.data={d:L,na:F,HX:n,yu:i.yu,DE:Q.t6};
m.zN(X)}X.data.yu=i.yu;X.data.DE.T.v.Opct.v.val=Math.round(i.yu*100/255);this.gT(X.data,m)}if(L==cc.uk){if(x.add.iOpa==null)x.add.iOpa=255;
var X,R=m.$K();if(R&&R.data&&R.data.d==L&&R.data.a==l)X=R;else{X=new fw("Fill Opacity Change",this);
X.data={d:L,a:l,HX:x.add.iOpa,yu:i.yu};m.zN(X)}X.data.yu=i.yu;this.gT(X.data,m)}if(L==cc.g$){var s=i.yu,j=i.a!=null?[i.a]:m.g.slice(0),_=[],B=[],X;
for(var N=0;N<j.length;N++){var a=m.M[j[N]];if(a.add.lspf==null)a.add.lspf=0;var n=a.add.lspf,A=n;for(var Y=0;
Y<s[0].length;Y++){var O=s[1][Y],H=1<<O;if((A&H)==0&&s[0][Y])A^=H;else if((A&H)!=0&&!s[0][Y])A^=H}_.push(n);
B.push(A)}var R=m.$K(),P=JSON.stringify(j);if(R&&R.data&&R.data.d==L&&JSON.stringify(R.data.na)==P){X=R;
X.data.yu=B}else{var X=new fw([6,57,1],this);X.data={d:L,na:P,HX:_,yu:B};m.zN(X)}this.gT(X.data,m)}if(L==cc.a0){var q="----",h=i.JP,A=null;
for(var Y=0;Y<fL.tQ.j0.length;Y++)if(x.add[fL.tQ.j0[Y]])q=fL.tQ.j0[Y];var D=x.add[q];if(h=="TySh")A=e7._x(50,50,z.c4);
var X=new fw("Layer Type",this);X.data={d:L,a:l,aBP:[q,D],JP:[h,A]};m.zN(X);this.gT(X.data,m)}if(L==cc.at){var j=[];
if(S){var T=m.$K(),p=T?T.data:null;if(T!=null&&T.f==this&&p.d==cc.at&&p.na.length!=1){var y=new eX(v.E.v);
y.f=$.Z9;y.data={d:"h_stepbck"};C.T(y);if(p.a==l)return}var b=m.root.zD(l),g=b,u=[i.a];while(g.parent!=m.root){u.push(g.parent.index);
g=g.parent}for(var Y=0;Y<m.M.length;Y++){var t=m.M[Y],g=m.root.zD(Y),V=u.indexOf(Y)!=-1?!0:t.gF()&&b.depth<g.depth;
if(V!=t.gF())j.push(Y)}}else if(i.na)j=i.na;else{j.push(l);var c=m.M[l].gF(),Q={o0:c?"hide":"show",t6:{classID:c?"Hd":"Shw",null:{t:"VlLs",v:[h3.Ei("Lyr",!0)]}}};
this.track(Q)}var X=new fw("Layer visibility",this,!0);X.data={d:L,na:j,a:l};m.zN(X);this.gT(X.data,m)}if(L==cc.yL){if(z.jw==$.h9){var E=new eX(v.E.H);
E.data={d:v.B.n$,f:$.z_};C.T(E)}var Z=i.ado,G=i.JI,M,escape=!1,U=!1;if(i.uT){if(f&&(G==0||G==1||G==2)){var J=0;
if(k)J++;if(S)J+=2;var K=new eX(v.E.v,!0);K.f=$.iH;K.data={d:"fromlayer",BR:[i.a,G,J]};C.T(K);return}}var Q={o0:"select",t6:{classID:"null",MkVs:{t:"bool",v:!1}}};
m.adf();if(e.S(jD.Uj)||i.kJ==0){var r=m.g.indexOf(l);if(r==-1)m.g.push(l);else if(m.g.length>1){if(i.kJ!=0)m.g.splice(r,1)}m.g.sort(function(X,eC){return X-eC});
Q.t6.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};M=l}else if(k&&!S&&G>0){L=G==1?cc.Q3:G==2?cc.bo:cc.L7;
escape=!0}else if((k||i.kJ==1)&&m.g.length>0){var dS=Math.min(l,m.g[0]),w=Math.max(l,m.g[m.g.length-1]);
m.g=[];for(var Y=dS;Y<=w;Y++)if(m.M[Y].add.lsct!=aU.ds)m.g.push(Y);Q.t6.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
M=l}else{M=l;if(l>=m.M.length)return;var t=m.M[l];if(t&&t.yJ()&&i.axH)t.add.lsct=aU.AY;else if(m.g.length==1&&m.g[0]==l&&Math.max(0,G)==t.ii){U=!0;
m.gZ=!1}if(!U){m.g=[l];m.j$()}}if(!U){if(M!=null&&M<m.M.length){Q.t6.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:m.M[M].getName()}}]},this.track(Q)}if(!escape){console.log("no escape");
if(m.g.length==1){var di=m.g[0];for(var Y=0;Y<m.M.length;Y++){if(Y==di)continue;var a=m.M[Y];a.ii=0;
a.Aa=!1}var x=m.M[di];if(G==2){x.Aa=!x.Aa;m.ft=[]}else if(x){x.ii=G<=0?0:G}}else for(var Y=0;Y<m.M.length;
Y++){var a=m.M[Y];a.ii=0;a.Aa=!1}m.Ep=null;m.sa=!0}}if(i.uT&&S){if((G==1||G==3)&&Z!=null){var K=new eX(v.E.v,!0);
K.f=$.BM;K.data={d:"mskView",b:Z!=0?0:k?1:2};C.T(K)}else{this.X4({d:cc.nu,a:i.a},C,m,e,z)}}}if(L==cc.Q3||L==cc.L7){var eM=L==cc.Q3,j5=eM?x.Re():x.x6(m).X;
if(j5==null)return;var X=new fw(j5.isEnabled?eM?[6,15]:[6,42]:eM?[6,14]:[6,41],this);X.data={d:L,a:l};
m.zN(X);this.gT(X.data,m)}if(L==cc.bo){var j5=x.add.vmsk;if(j5==null)return;var X=new fw(j5.isEnabled?[6,17]:[6,16],this);
X.data={d:L,a:l};m.zN(X);this.gT(X.data,m)}if(L==cc.a6V){var ds=x.add.lsct==aU.AY?aU.Lp:aU.AY,g=m.root.zD(m.M.indexOf(x)),ir=!1;
if(e.S(jD.Uj)){var ba=g.parent;for(var Y=0;Y<ba.children.length;Y++){var gH=ba.children[Y].a;if(gH.yJ())gH.add.lsct=ds}}else x.add.lsct=ds;
for(var Y=0;Y<m.g.length;Y++){var iP=m.g[Y];if(g.Kw<iP&&iP<g.index)ir=!0}if(ir)m.g=[g.index];m.sa=!0}if(L==cc.nu){if(!m.H_(l))return;
var X=new fw(x.cy?[6,19]:[6,18],this);X.data={d:L,a:l};m.zN(X);if(i.yu==null||i.yu!=x.cy)this.gT(X.data,m)}if(L==cc.anp){if(x.ez())x.de-=32;
else x.de+=32;m.sa=!0}if(L==cc.kj||L==cc.gk){var X;if(L==cc.kj)X=new fw(x.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(L==cc.gk)X=new fw(x.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);X.data={d:L,a:l};m.zN(X);this.gT(X.data,m)}if(L==cc.CY||L==cc.nH){var di=i.index,X;
if(L==cc.CY)X=new fw(x.add.lmfx[jt.m8[di[0]]].v[di[1]].v.enab.v?[6,30,0]:[6,29],this);if(L==cc.nH)X=new fw(x.add.SoLd.filterFX.v.filterFXList.v[di].v.enab.v?[6,44]:[6,43],this);
X.data={d:L,a:l,index:i.index};m.zN(X);this.gT(X.data,m)}if(L==cc.y2){if(i.src==i._B)return;var iy=m.M[i.src],iG=m.M[i._B],eg=iy.add.lmfx?JSON.stringify(iy.add.lmfx):"",du=iG.add.lmfx?JSON.stringify(iG.add.lmfx):"";
if(iG.add.lmfx==null){iG.add.lmfx=JSON.parse(jt.default);for(var Y=0;Y<jt.order.length;Y++)iG.add.lmfx[jt.m8[Y]]={t:"VlLs",v:[]}}if(i.KJ==null){iG.add.lmfx=JSON.parse(eg);
if(!S)delete iy.add.lmfx}else{var gh=i.KJ[0],ga=jt.m8[gh];if(jt.adQ.indexOf(jt.order[gh])==-1)iG.add.lmfx[ga].v=[];
iG.add.lmfx[ga].v.push(iy.add.lmfx[ga].v[i.KJ[1]]);if(!S)iy.add.lmfx[ga].v.splice(i.KJ[1],1)}var d5=iy.add.lmfx?JSON.stringify(iy.add.lmfx):"",fu=iG.add.lmfx?JSON.stringify(iG.add.lmfx):"";
if(!iG.ez())iG.de+=32;var X=new fw("Move Layer Styles",this);X.data={d:L,Ib:i.src,ky:i._B,aDy:eg,aAj:du,a0e:d5,aB3:fu};
m.zN(X);this.gT(X.data,m)}if(L==cc.jP){if(i.src!=null)l=i.src;var a=m.M[l],ay=JSON.stringify(a.add.SoLd),c7=JSON.parse(ay),eE=c7.filterFX.v.filterFXList.v;
eE.splice(i.KJ,1);var X=new fw([6,53],this);X.data={d:cc._G,Ut:[{vX:l,ql:[ay,JSON.stringify(c7)]}]};
m.zN(X);this.gT(X.data,m)}if(L==cc.awT){var jn=S,iy=m.M[i.src],iG=m.M[i._B],dI=[];if(iy!=iG&&iG.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(iy==iG&&!jn&&i.KJ==i.LB)return;if(iy==iG&&i.KJ==-1)return;var dQ=iy.x6(m),ay=JSON.stringify(iy.add.SoLd),c7=JSON.parse(ay),eE=c7.filterFX.v.filterFXList.v;
if(iy==iG){eE.splice(i.LB,0,eE[i.KJ]);if(!jn)eE.splice(i.KJ+(i.KJ<i.LB?0:1),1);dI.push({vX:i.src,ql:[ay,JSON.stringify(c7)]})}else if(i.KJ==-1){var jo=c7.filterFX;
if(!jn){delete c7.filterFX;dI.push({vX:i.src,ql:[ay,JSON.stringify(c7)],Vx:[dQ,null]})}var hT=iG.k_()?iG.x6(m):null,ea=ei.acH(dQ),b9=JSON.stringify(iG.add.SoLd),bI=JSON.parse(b9);
bI.placed.v=ea.id;bI.filterFX=jo;dI.push({vX:i._B,ql:[b9,JSON.stringify(bI)],Vx:[hT,ea]})}else{var ii=eE[i.KJ];
if(!jn){eE.splice(i.KJ,1);dI.push({vX:i.src,ql:[ay,JSON.stringify(c7)]})}var b9=JSON.stringify(iG.add.SoLd),bI=JSON.parse(b9);
if(bI.filterFX==null)bI.filterFX=ft.sB();var d_=bI.filterFX.v.filterFXList.v;d_.splice(i.LB,0,ii);var c4={vX:i._B,ql:[b9,JSON.stringify(bI)]};
if(!iG.k_()){var ea=ei.azI(iG.add.SoLd.placed.v);c4.Vx=[null,ea]}dI.push(c4)}var X=new fw([6,52],this);
X.data={d:cc._G,Ut:dI};m.zN(X);this.gT(X.data,m)}if(L==cc.Wk){var j5=x.Re(),X=new fw(j5.hu?[6,26]:[6,25],this);
X.data={d:L,a:l};m.zN(X);this.gT(X.data,m);this.track({o0:"set",t6:{classID:"setd",null:{t:"obj ",v:[h3.Ei("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:j5.hu}}}}})}if(L==cc.LS){var j5=x.add.vmsk,X=new fw(j5.hu?[6,28]:[6,27],this);
X.data={d:L,a:l};m.zN(X);this.gT(X.data,m)}if(L==cc.St){var X=new fw("Variables / Datasets",this),kG=JSON.stringify([m.ut,m.yp]);
if(kG==i.b)return;X.data={d:L,aa9:kG,amj:i.b};m.zN(X);this.gT(X.data,m)}if(L==cc.ZA){var fC=[],X;for(var Y=0;
Y<m.g.length;Y++){var N=m.g[Y],t=m.M[N];if(t.add.vogk)fC.push(N,JSON.stringify(t.add.vogk))}for(var Y=0;
Y<m.ft.length;Y++){var N=m.ft[Y],t=m.DI[N];if(t.add.vogk)fC.push(-1-N,JSON.stringify(t.add.vogk))}I.ta.aCo(m,i.b,i.akN);
var bO=[];for(var Y=0;Y<m.g.length;Y++){var N=m.g[Y],t=m.M[N];if(t.add.vogk)bO.push(N,JSON.stringify(t.add.vogk))}for(var Y=0;
Y<m.ft.length;Y++){var N=m.ft[Y],t=m.DI[N];if(t.add.vogk)bO.push(-1-N,JSON.stringify(t.add.vogk))}var R=m.$K();
if(R&&R.data&&R.data.d==L){var id=!0;for(var Y=0;Y<fC.length;Y+=2)if(fC[Y]!=R.data.NY[Y])id=!1;if(id){X=R;
X.data.bL=bO}}if(X==null){var X=new fw([12,91,1],this);X.data={d:L,NY:fC,bL:bO};m.zN(X)}this.gT(X.data,m)}if(L==cc.LV){var a5=JSON.stringify(x.add.artb),eU=JSON.stringify(i.GE),X;
m.M[l].add.artb=JSON.parse(eU);var af=new j2(0,0,m.m,m.J),a7=$.lx.Ke(m),R=m.$K();if(R&&R.data&&R.data.d==L&&R.data.a==l){X=R;
X.data.GE=eU}if(X==null){var X=new fw("Editing Artboard",this);X.data={d:L,a:l,alF:a5,GE:eU,Rc:af};m.zN(X)}X.data.YC=a7;
this.gT(X.data,m)}if(L==cc.kP){var bO=m.T3.slice(0),g$=m.Xk.slice(0),cg=m.u,cC=m.u,V=m.q.O.slice(0);
if(i.Tt=="seltochannel"){var kF=i.BR[0],am=bO[kF]=bO[kF].clone(),g=I.CX.pG(m.u,am,i.BR[1]);am.channel=g.channel;
am.rect=g.rect}if(i.Tt=="fromAction"){var cJ=i.b.o0,fX=i.b.t6;if(cJ=="make"||cJ=="duplicate"){var hP=bO.length,f2=!1,gt=!1;
if(m.Ex())hP--;var kx=new cc.o7;kx.name="Alpha "+(hP+1);if(cJ=="make"){var iD=fX.Nw.v;kx.color=0;g$=[hP];
kx.S0=!0;kx.RW=iD.Opct.v;if(iD.Nm)kx.name=iD.Nm.v;if(iD.classID=="SCch"){f2=!0;cC=null;kx.rp=1}for(var Y=0;
Y<m.T3.length;Y++)m.T3[Y].S0=!1;V=[0,0,0]}else{var t=m.M[m.g[0]],eb=t.ii==1?t.Re():t.ii==3?t.x6(m).X:null,dA=fX.null.v[0].v;
if(fX.Nm)kx.name=fX.Nm.v;if(dA.keyID=="fsel")f2=!0;else if(eb){kx.channel=eb.channel.slice(0);kx.rect=eb.rect.clone();
kx.color=eb.color}else{var e9=$.Z3.ac6(m);cC=$.Z3.a8Q(m,e9);kx.color=0;kx.rect=cC.rect;kx.channel=cC.channel}}if(f2){kx.color=0;
if(m.u){kx.rect=m.u.rect.clone();kx.channel=m.u.channel.slice(0)}if(gt){kx.color=255-kx.color;I.Fb(kx.channel)}}bO.splice(hP,0,kx)}else if(cJ=="delete"){if(x&&x.Re()&&x.ii==1){this.X4({d:cc.Eh},C,m,e,z);
return}var eI=m.Xk;eI.sort(function(X,eC){return eC-X});if(eI.length==0)return;for(var Y=0;Y<eI.length;
Y++)bO.splice(eI[Y],1);g$=[];V=[1,1,1]}else if(cJ=="show"||cJ=="hide"){var d9=fX.null.v,f9=null,e4=!1;
for(var Y=0;Y<d9.length;Y++){var cj=d9[Y].v[0].v,i4=cj.enum;if(i4=="Trgt"){if(bO[g$[0]]==null)continue;
bO[g$[0]]=bO[g$[0]].clone();bO[g$[0]].S0=cJ=="show";e4=!0}else{var kF=["Rd","Grn","Bl"].indexOf(i4);
if(f9==null)f9=m.q.O.slice(0);f9[kF]=cJ=="show"?1:0}}if(f9){var y=new eX(v.E.v,!0);y.f=$.dq;y.data={d:"setcls",O:f9};
C.T(y);if(!e4)return}}}if(i.Tt=="rnm"){bO[i.h6]=bO[i.h6].clone();bO[i.h6].name=i.name}var X=new fw("Channel Edit",this);
X.data={d:L,NY:m.T3.slice(0),TJ:m.Xk.slice(0),bL:bO,VK:g$,Ii:cg,sU:cC,atP:m.q.O.slice(0),a5W:V};this.gT(X.data,m);
m.zN(X)}if(L==cc.cb){var d6=new j2(0,0,m.m,m.J),X=new fw(i.jj,this);X.data={d:cc.cb,K9:m.M.slice(0),JF:i.JF,JE:m.g.slice(0),$c:i.sU};
m.zN(X);this.gT(X.data,m);var ko=$.lx.yo(m);if(ko){X.data.Rc=d6;X.data.YC=ko}}if(L==cc.$U){var cM=m.Bb(null,i.a),iW=1e10;
if(cM.length==0)return;if(m.M.length==cM.length){alert("Project must have at least 1 layer");return}var g2=[];
for(var Y=0;Y<m.M.length;Y++)if(cM.indexOf(Y)==-1)g2.push(m.M[Y]);for(var Y=0;Y<cM.length;Y++)iW=Math.min(iW,cM[Y]);
iW=Math.max(iW-1,0);while(g2[iW].name=="</Layer group>")iW++;this.track({o0:"delete",t6:{classID:"Dlt",null:h3.Ei("Lyr",!0)}});
var af=new j2(0,0,m.m,m.J),X=new fw([6,31],this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:[iW]};
m.zN(X);this.gT(X.data,m);var a7=$.lx.Ke(m);if(a7){X.data.YC=a7;X.data.Rc=af;$.lx.yo(m)}}if(L==cc.n7){if(!e.S(jD.$I))return;
var X=new fw("Switch Layer Link",this);X.data={d:L,a:i.a};m.zN(X);this.gT(X.data,m)}if(L==cc.en){var eI=i.ap3?i.ap3:m.g,bl=0,dq=!1;
if(eI.length==0)return;if(eI.length==1&&m.M[eI[0]].MW==0){alert(bC.get([15,7,5]));return}var dW=[];for(var Y=0;
Y<m.M.length;Y++){var j8=m.M[Y].MW;dW.push(j8);bl=Math.max(bl,j8)}var hl=-1,gY=-1;for(var Y=0;Y<eI.length;
Y++){var j8=m.M[eI[Y]].MW;if(j8==0)dq=!0;else if(hl==-1||hl==j8)hl=j8;else gY=j8}if(!dq)for(var Y=0;
Y<eI.length;Y++)m.M[eI[Y]].MW=0;else if(hl!=-1&&gY==-1)for(var Y=0;Y<eI.length;Y++)m.M[eI[Y]].MW=hl;
else for(var Y=0;Y<eI.length;Y++)m.M[eI[Y]].MW=bl+1;var bE=[];for(var Y=0;Y<m.M.length;Y++){var j8=m.M[Y].MW;
if(bE[j8]==null)bE[j8]=0;bE[j8]++}for(var Y=0;Y<m.M.length;Y++){var j8=m.M[Y].MW;if(bE[j8]==1)m.M[Y].MW=0}var dn=dW;
dW=[];for(var Y=0;Y<m.M.length;Y++){var j8=m.M[Y].MW;dW.push(j8);bl=Math.max(bl,j8)}var X=new fw(dq?[6,54,0]:[6,54,1],this);
X.data={d:cc.en,a8L:dn,al5:dW};m.zN(X);this.gT(X.data,m)}if(L==cc.Ev&&(i.a!=null||m.g.length!=0)||L==cc.o9){var a3=m.gV(L==cc.Ev?i.a:l,null,i.acJ),en;
if(L==cc.o9){var a=a3[0],cJ=a.add.SoLd.Idnt.v,g3=m.pE(cJ).clone();a.add.SoLd.Idnt.v=g3.zx=ei.Eu()+cJ.slice(8);
m.add.lnk2.push(g3)}if(L==cc.Ev){var h4={o0:"duplicate",t6:{classID:"null",null:h3.Ei("Lyr",!0)}};if(i.TA){a3[a3.length-1].yY(i.TA);
h4.Nm={t:"TEXT",v:i.TA}}this.track(h4);i.aDC=i.a}L=cc.sz;i.M=a3;i.Ff=m;i.CH=m}if(L==cc.sz){var gJ,at,aZ=i.Ff,hH=i.CH,dl=0,cm=0,gv=aZ.sq(),g6=!1,dC,fv=0,hE=0;
if(aZ!=hH){console.log("ADDLAYERS different projs");var gJ=new j2(0,0,aZ.m,aZ.J),at=new j2(0,0,hH.m,hH.J),bm=[],h1=[],fN=new j2;
for(var Y=0;Y<i.M.length;Y++){var a=i.M[Y];fN=fN.Z0(a.rect);if(a.add.SoLd==null)continue;var cJ=a.add.SoLd.Idnt.v;
if(bm.indexOf(cJ)==-1){bm.push(cJ);h1.push(ei.Eu()+cJ.slice(8))}a.add.SoLd.Idnt.v=h1[bm.indexOf(cJ)];
var dQ=a.x6(aZ);if(dQ){aZ.UP(dQ);hH.tH(dQ)}}if(gv==-1&&!i.kV&&i.asy&&!at.EI(fN)){dl=-fN.x;cm=-fN.y}if(bm.length>0){if(hH.add.lnk2==null)hH.add.lnk2=[];
for(var Y=0;Y<bm.length;Y++){var dR=aZ.pE(bm[Y]),g3=dR.clone();g3.zx=h1[Y];hH.add.lnk2.push(g3)}}}var cg=hH.g.slice(0);
cg.sort(function(X,eC){return X-eC});var g2=hH.M.slice(0),cC=[],h0=-1;for(var Y=0;Y<cg.length;Y++)h0=Math.max(h0,cg[Y]);
if(i.aDC!=null)h0=i.aDC;if(i.kV){h0=i.kV-1;var ip=hH.M[i.kV].d3();dl+=ip.x;cm+=ip.y}if(gv!=-1&&(aZ!=hH||i.kV)){var gE=aZ.M[gv].d3();
dl-=gE.x;cm-=gE.y}var dH=hH.pR();for(var Y=0;Y<dH[0].length;Y++){var h2=dH[1][Y];if(h2!=-1)dH[1][Y]=g2[h2]}h0++;
for(var Y=0;Y<i.M.length;Y++){var t=i.M[Y],e1=t.add.artb;g2.splice(h0,0,t);cC.push(h0);h0++;if(e1){dC=!0;
var jz=e1.guideIndeces;if(jz){jz=jz.v;for(var bx=0;bx<jz.length;bx++){dH[0].push(aZ.Nb[jz[bx].v].slice(0));
dH[1].push(t);g6=!0}}}}for(var Y=0;Y<dH[0].length;Y++){var h2=dH[1][Y];if(h2!=-1)dH[1][Y]=g2.indexOf(h2)}for(var Y=0;
Y<i.M.length;Y++){var t=i.M[Y];if(t.add.lsct==aU.ds){if(fv==0)hE++;fv++}else if(t.yJ())fv--}if(hE==1)cC=[h0-1];
var X=new fw([6,0],this);X.data={d:cc.cb,K9:hH.M.slice(0),JF:g2,JE:cg,$c:cC};if(g6){X.data.Bs=[hH.pR(),dH]}hH.zN(X);
this.gT(X.data,hH);if(dl!=0||cm!=0)$.a8.zu(hH,hH.Bb(),null,dl,cm);if(dC){X.data.Rc=new j2(0,0,hH.m,hH.J);
X.data.YC=$.lx.Ke(hH);$.lx.yo(hH)}}if(L==cc.jG){var kc=i.a!=null?[i.a]:m.Bb(),g2=m.M.slice(0);for(var Y=0;
Y<kc.length;Y++){var t=m.M[kc[Y]].clone();t.VQ(m);g2.splice(kc[Y],1,t)}var X=new fw([6,8],this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:m.g.slice(0)};
m.zN(X);this.gT(X.data,m)}if(L==cc.aiT){var g2=m.M.slice(0),t=g2[m.g[0]]=g2[m.g[0]].clone(),dJ=t.add.lmfx,bS,ip;
delete t.add.lmfx;var gr=m.g[0],jB=gr+1;if(t.yJ()){var jO=m.M[m.g[0]].f3;ip=jO.a8l;bS=jO.SJ;var g=m.root.zD(gr);
gr=g.Kw}else{ip=t.rect;bS=I.R(ip.P());I.Ud(t.buffer,bS,3)}var jM=k4.$v(dJ,t.add.fxrp,bS,ip,m,ip).type;
for(var Y=0;Y<jt.order.length;Y++){var bb=jt.order[Y],cq=jM[bb];cq.reverse();for(var bx=0;bx<cq.length;
bx++){var hJ=cq[bx],P=m.Sv(),a$=Y>7;if(bb=="ebbl"){if(hJ.Br||hJ.ZX){var cH=hJ.Br?hJ.Br:hJ.ZX;if(hJ.Br)delete hJ.Br;
else delete hJ.ZX;if(hJ.ZX||hJ.Iv)bx--}else if(hJ.Iv||hJ.OM){var cH=hJ.OM?hJ.OM:hJ.Iv;if(hJ.OM){delete hJ.OM;
if(hJ.Iv)bx--}a$=!0}hJ=cH}P.fn=hJ.Vq;P.opacity=Math.round(255*hJ.yE);P.buffer=hJ.S2;P.rect=hJ.gG.clone();
P.rect.offset(ip.x,ip.y);if(bb=="FrFX"){P.buffer=P.buffer.slice(0);I.uC(hJ.tN?hJ.tN:hJ.cn,P.buffer,3);
if(hJ.tN){a$=!0;delete hJ.tN;if(hJ.cn)bx--}}P.cy=!a$;P.yY(t.getName()+"'s "+bC.get(jt.names[Y]));g2.splice(a$?gr:jB,0,P);
if(a$)jB++}}var X=new fw("Styles to Layers",this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:[jB-1]};
m.zN(X);this.gT(X.data,m)}if(L==cc.avc){var kc=m.Bb(),g2=m.M.slice(0),k8=new j2(0,0,m.m,m.J);for(var Y=0;
Y<kc.length;Y++){var dM=m.M[kc[Y]],i0=dM.gF();dM.fJ(!0);var ct=m.root.zD(kc[Y]);if(dM.yJ())continue;
if(ct==null)continue;var t=dM.clone();t.VQ(m);var h7=ct.S8(m,!0),je=m.M;m.Bf([dM]);m.Y();m.um();t.buffer=I.R(h7.P()*4);
I.fF(m.I6(),k8,t.buffer,h7);t.rect=h7;t.opacity=255;t.add.iOpa=255;t.fn="norm";t.Y();t.f3.uZ=!0;m.Bf(je);
if(t.add.lmfx)delete t.add.lmfx;t.X=t.ow=null;g2.splice(kc[Y],1,t);t.fJ(i0);dM.fJ(i0)}var X=new fw([6,34],this);
X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:m.g.slice(0)};m.zN(X);this.gT(X.data,m)}if(L==cc.ayR){var kc=m.Bb(),g2=m.M.slice(0);
for(var Y=0;Y<kc.length;Y++){var t=m.M[kc[Y]],kp=t.add.TySh;if(kp==null)continue;var a=new bY(kp.Wg,z.FV),bL=I.C.So(b7.u_(a,kp,!0));
for(var cz in bL){var b2=bL[cz],gH=t.clone();delete gH.add.TySh;gH.de=gH.de|1<<4;gH.add.SoCo=JSON.parse(JSON.stringify(jt.$i[0]));
var b1=gH.add.SoCo.Clr.v;b1.Rd.v=parseInt(cz.slice(1,3),16);b1.Grn.v=parseInt(cz.slice(3,5),16);b1.Bl.v=parseInt(cz.slice(5,7),16);
var e5=new cc.hF;e5.$=I.C.aZ(b2,!1);if(gH.add.vmsk!=null){gH.add.vmsk.ayh();e5.concat(gH.add.vmsk)}gH.add.vmsk=e5;
gH.add.vstk=jt.lc.TQ(!0);gH.tO();gH.rH(m);g2.splice(g2.indexOf(t),0,gH)}g2.splice(g2.indexOf(t),1)}var cC=m.g.slice(0);
for(var Y=cC.length-1;Y>=0;Y--)if(cC[Y]>=g2.length)cC.splice(Y,1);var X=new fw([6,40],this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:cC};
m.zN(X);this.gT(X.data,m)}if(L==cc.u$){var b$=m.g.length,jC,ff;if(b$<2){alert("Select two or more layers.");
return}for(var Y=0;Y<b$;Y++){var gE=m.M[m.g[Y]].rect;jC=Y==0?gE:jC.G_(gE);ff=Y==0?gE:ff.Z0(gE)}if(jC.P()*1.2>ff.P()){alert("stacking images");
var iT=[],kg=[];for(var Y=0;Y<b$;Y++){var t=m.M[m.g[Y]];iT.push(t.buffer);kg.push(t.rect)}var dX=I.aqF.LR(iT,kg),bf=dX[0],hA=dX[1],e_=[];
for(var Y=0;Y<b$;Y++){var j5=new cc.o7;j5.color=255;j5.rect=hA;j5.channel=bf[Y];e_.push(m.g[Y],null,j5)}var X=new fw("Focus-Stack",this);
X.data={d:cc.ST,io:e_};m.zN(X);this.gT(X.data,m);return}if(!m.vq())return;var gH=m.M[m.g[0]].clone(),g2=[];
for(var Y=0;Y<m.M.length;Y++)if(m.g.indexOf(Y)==-1)g2.push(m.M[Y]);g2.splice(m.g[0],0,gH);for(var Y=1;
Y<b$;Y++)if(m.M[m.g[Y]].rect.P()>2e6){alert("Blended areas are too large.");return}for(var Y=1;Y<b$;
Y++){var t=m.M[m.g[Y]],hA=t.rect.clone();hA.sW(1,1);var eC=I.R(hA.P()*4);I.fF(t.buffer,t.rect,eC,hA);
gH.extend(hA);var hi=I.R(hA.P()*4);I.fF(gH.buffer,gH.rect,hi,hA);var X=I.R(hA.P());I.Ud(eC,X,3);I.round(X,200);
I.uC(X,eC,3);I.l.Qv("norm",eC,hA,hi,hA,hA,1);I.rT.hV(hi,X,hA);I.fF(hi,hA,gH.buffer,gH.rect)}var X=new fw([2,10,0],this);
X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:[m.g[0]]};m.zN(X);this.gT(X.data,m)}if(L==cc.vc){var g2=m.M.slice(0),g$=m.g.slice(0);
for(var Y=0;Y<g2.length;Y++){var t=g2[Y],kA=t.add.vmsk;if(t.Q9()&&kA&&t.add.vstk.strokeEnabled.v&&!t.add.vstk.fillEnabled.v){var kH=kA.$,gd=0,eS=-1;
for(var bx=0;bx<kH.length;bx++){if((kH[bx].type==0||kH[bx].type==3)&&kH[bx].ay!=-1){gd++;if(kH[bx].type==3&&eS==-1){kH[bx].pj=kH[bx].ay=1;
eS=bx}}}if(gd>1&&eS!=-1&&gd<10){console.log("separating an open path into a new layer");t=t.clone();
kA=t.add.vmsk;kH=kA.$;var P=kH[eS].length,cu=t.clone();cu.add.lyid=m.l5();kA.$=kH.slice(0,2).concat(kH.slice(eS,eS+P+1));
kA.g=[];t.rH(m);t.Y();var d0=cu.add.vmsk.$;cu.add.vmsk.$=d0.slice(0,eS).concat(d0.slice(eS+P+1,d0.length));
cu.add.vmsk.g=[];cu.rH(m);g2[Y]=t;g2.splice(Y+1,0,cu);for(var bx=0;bx<g$.length;bx++)if(g$[bx]>Y)g$[bx]++;
var dz=g$.indexOf(Y);if(dz!=-1){g$.splice(dz+1,0,Y+1)}}}}if(g2.length!=m.M.length){var X=new fw("Splitting open paths",this);
X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:g$};m.zN(X);this.gT(X.data,m)}}if(L==cc.o3){this.X4({d:cc.vc},C,m,e,z);
var cg=m.g.slice(0),je=m.M.slice(0),kc=m.Bb();if(kc.length==0)return;m.aB2(kc,!1,i.Kp);var X=new fw([6,36,0],this);
X.data={d:cc.cb,K9:je,JF:m.M.slice(),JE:cg,$c:m.g.slice(0)};m.zN(X);this.gT(X.data,m)}if(L==cc.a1_){var ay=x.add.SoLd;
if(ay==null)return;var cJ=ay.Idnt.v,iL=m.pE(cJ);iL.I6(!1);var hq=iL.pC[0],hA=iL.pC[1];if(I.Rz(hq)){alert("The smart object contains transparency.");
return}var eF=i$.AL("jpg").B3([[hq.buffer]],hA.m,hA.J,[90]);this.X4({d:cc.BV,data:new Uint8Array(eF),VO:"image.jpg"},C,m,e,z);
console.log(m.add);return}if(L==cc.BV){var k8=i.n4,cJ=i.id;if(k8==null)k8=m;if(cJ==null)cJ=x.add.SoLd.Idnt.v;
var dR=k8.pE(cJ),g3=dR.clone();g3.raw=i.data;g3.VO=i.VO;var dY=i$.ra(i.data.buffer);if(dY=="psd"){g3.SL="8BIM";
g3.C9="8BPB"}else{g3.SL="    ";g3.C9="    "}g3.I6(!1);dR.I6(!1);var X=new fw([6,36,1],this);X.data={d:cc.BV,id:cJ,U1:dR,GH:g3};
k8.zN(X);this.gT(X.data,k8)}if(L==cc.Pt){var X=new fw([6,36,4],this);X.data={d:L,a:l,GZ:x.add.SoLd.Impr.v.classID,yu:i.yu};
m.zN(X);this.gT(X.data,m)}if(L==cc.ap0){var e$,jE;if(i.pM){e$=i.n4;jE=i.pM}else{i.n4.JJ();i.n4.kr();
i.n4.Y();i.n4.um();i.n4.I6();e$=i$.AL("PSD").B3(i.n4,0,0,[!0,!0]);jE=i.n4.name}if(!(e$ instanceof ArrayBuffer))throw"e";
e$=new Uint8Array(e$);var r=i.e5;if(r==null){if(m.g.length==0)r=m.g.length;else{var iP=m.g[m.g.length-1],P=m.M[iP];
r=P.yJ()?iP:iP+1}}var hd=new j2(0,0,m.m,m.J),a6=m.sq();if(a6!=-1)hd=m.M[a6].d3();var ge=m.Mf(e$,jE,null,null,hd,z.FV,C),g2=m.M.slice(0);
g2.splice(r,0,ge);var X=new fw([6,36,2],this);X.data={d:cc.cb,K9:m.M.slice(),JF:g2,JE:m.g.slice(0),$c:[g2.indexOf(ge)]};
m.zN(X);this.gT(X.data,m)}if(L==cc.XB&&i.Tt=="merge"){var j$=[],gq=m.root.children,cl=0;for(var Y=0;
Y<gq.length;Y++){var g=gq[Y],t=g.a,aj=g.children,jk=!0;if(!t.yJ()||aj.length==0)continue;for(var bx=0;
bx<aj.length;bx++)if(!aj[bx].a.getName().startsWith("_a_")){jk=!1;break}if(jk)j$.push(m.M.indexOf(t))}var gF=[];
for(var Y=0;Y<j$.length;Y++)if(m.g.indexOf(j$[Y])!=-1)gF.push(j$[Y]);if(gF.length>=2)j$=gF;if(j$.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var bj=[];for(var Y=0;Y<j$.length;Y++)bj.push(m.M[j$[Y]].getName());var cq=[];for(var jc=0;jc<j$.length;
jc++){var g=m.root.zD(j$[jc]),c4=[[],[],0,jc];cq.push(c4);for(var Y=0;Y<g.children.length;Y++){var N=g.children[Y].index,t=g.children[Y].a,kx=t.getName(),dj=20,ek=kx.split(",");
if(ek.length>1){var gc=parseInt(ek.pop());if(!isNaN(gc)&&gc!=0)dj=gc}if(dj<17)dj=17;c4[0].push(t);c4[1].push(dj);
c4[2]+=dj}}cq.sort(function(X,eC){return eC[2]-X[2]});if(cq[0][2]>2e3){var dk=0,bk=0;for(var Y=0;Y<cq.length;
Y++){var cT=cq[Y][1].length/cq[Y][2];if(cT>bk){bk=cT;dk=Y}}var c5=(cq[0][2]/1e3).toFixed(1),ha=window.confirm("- \""+bj[cq[0][3]]+"\" is "+c5+" seconds long\n"+"- \""+bj[cq[dk][3]]+"\" is playing at "+Math.round(bk*1e3)+" frames per second\n"+"A merged animation must be "+c5+" sec, up to "+Math.round(cq[0][2]*bk)+" frames. Proceed?");
if(!ha)return}var cd=cq[0],cE=cd[2];for(var h2=1;h2<cq.length;h2++){var c4=cq[h2],hg=1,es=c4[1].slice(0),kj=0;
while((hg+1)*c4[2]<=cd[2]){hg++;es=es.concat(c4[1])}c4[1]=es;c4[2]*=hg;var i1=cd[2]/c4[2];for(var Y=0;
Y<c4[1].length;Y++){var bB=Math.floor(c4[1][Y]*i1);c4[1][Y]=bB;kj+=bB}while(kj<cE){kj++;c4[1][c4[1].length-1]++}c4[2]=kj}var f7=[],av=[],bB=[];
for(var Y=0;Y<cq.length;Y++){f7.push(0);av.push(0)}while(cl<cE){var fr=1e9,hP=-1;for(var Y=0;Y<cq.length;
Y++){var d7=cq[Y][1],gr=f7[Y];if(gr!=d7.length&&av[Y]+d7[gr]<cl+fr){hP=Y;fr=av[Y]+d7[gr]-cl}}av[hP]+=cq[hP][1][f7[hP]];
f7[hP]++;if(fr!=0){bB.push(fr);cl+=fr}}for(var Y=1;Y<bB.length;Y++){var aQ=bB[Y];if(aQ<16&&(bB[Y-1]<16||Y<bB.length-1&&16<=bB[Y+1])){bB[Y-1]+=aQ;
bB.splice(Y,1);Y--}}var i0=[],k8=new j2(0,0,m.m,m.J);for(var Y=0;Y<m.M.length;Y++){i0[Y]=m.M[Y].gF();
m.M[Y].fJ(!1)}var ab=m.g.slice(0);m.g=j$;var cM=m.Bb();cM.sort(function(X,eC){return X-eC});var g2=[];
for(var Y=0;Y<m.M.length;Y++){if(cM.indexOf(Y)==-1)g2.push(m.M[Y])}cq.sort(function(X,eC){return X[3]-eC[3]});
function aG(d7,hI){var Y=0,ia=0;while(ia+d7[Y]<=hI){ia+=d7[Y];Y++}return Y}cl=0;g2.splice(cM[0],0,m.b$());
for(var k9=0;k9<bB.length;k9++){var j=[];for(var Y=0;Y<cq.length;Y++){var gr=aG(cq[Y][1],cl)%cq[Y][0].length,t=cq[Y][0][gr];
j.push(t)}var t=m.Sv();for(var Y=0;Y<cq.length;Y++){var aC=j[Y],ba=m.M[j$[Y]];aC.fJ(!0);ba.fJ(!0)}m.Y();
m.um();var hq=m.I6();t.rect=I.qX(hq,k8,2);t.buffer=I.R(t.rect.P()*4);I.fF(hq,k8,t.buffer,t.rect);for(var Y=0;
Y<cq.length;Y++){var aC=j[Y],ba=m.M[j$[Y]];aC.fJ(!1);ba.fJ(!1)}t.fJ(k9==0);t.yY("_a_frm"+k9+","+bB[k9]);
g2.splice(cM[0]+1+k9,0,t);cl+=bB[k9]}var t=m.Sv();t.yY(bj.join(" + "));t.fn="pass";t.add.lsct=aU.Lp;
t.de=24;g2.splice(cM[0]+1+bB.length,0,t);for(var Y=0;Y<m.M.length;Y++)m.M[Y].fJ(i0[Y]);var X=new fw([6,12,0],this);
X.data={d:cc.cb,K9:m.M,JF:g2,JE:ab,$c:[cM[0]+1+bB.length]};m.zN(X);this.gT(X.data,m)}if(L==cc.x_||L==cc.gb){var i5=m.g.length==1&&!m.M[m.g[0]].yJ(),gB=!0,ge=null,cC;
if(i5&&m.g[0]==0)return;var je=m.M.slice(0),cg=m.g.slice(0);if(i5)m.g=[l,l-1];if(L==cc.gb){m.g=[];for(var Y=0;
Y<m.M.length;Y++)if(m.M[Y].gF())m.g.push(Y)}var kc=m.Bb();kc.sort(function(X,eC){return X-eC});var bR=new j2,k8=new j2(0,0,m.m,m.J);
for(var Y=0;Y<kc.length;Y++){var N=kc[Y],t=m.M[N];if(t.yJ()||t.getName()=="</Layer group>")continue;
gB=gB&&t.Q9()&&t.add.vmsk!=null;bR=bR.Z0(m.root.zD(N).S8(m,!0))}if(i.CX!=null&&!gB){alert("Select shape layers only.");
return}if(gB){var kA=null,eQ=i.CX;for(var Y=0;Y<kc.length;Y++){var P=m.M[kc[Y]];if(P.rect.P()==0)continue;
if(ge==null){ge=P.clone();kA=ge.add.vmsk}else{var P=m.M[kc[Y]],d0=cc.hF.ug(P.add.vmsk.$);if(eQ!=null)for(var bx=0;
bx<d0.length;bx++)if(d0[bx].ay!=null&&d0[bx].ay!=-1)d0[bx].ay=[1,2,3,0][eQ];kA.$=kA.$.concat(d0.slice(2));
ge.add.vogk=ge.add.vogk.concat(JSON.parse(JSON.stringify(P.add.vogk)))}}ge.add.vmsk.kL=!0;ge.rH(m)}else if(k8.Y4(bR)){ge=m.Sv();
ge.yY(m.M[kc[kc.length-1]].getName());ge.rect=bR;ge.buffer=I.R(bR.P()*4);var aH=m.add.artd;delete m.add.artd;
var eh=m.I6(kc);if(aH)m.add.artd=aH;I.fF(eh,k8,ge.buffer,bR);ge.gv();ge.Y()}else{m.aB2(kc,!0);ge=m.M[m.g[0]];
m.M.splice(m.g[0],1);var i_=m.pE(ge.add.SoLd.Idnt.v);m.add.lnk2.splice(m.add.lnk2.indexOf(i_),1);delete ge.add.SoLd}var ev=S,bv=-1;
if(i.t6&&i.t6.Dplc&&i.t6.Dplc.v)ev=!0;if(ev&&L==cc.gb&&cg.length!=0&&m.M[cg[0]].rq()&&m.M[cg[0]].rect.bs()){bv=cg[0]}if(bv!=-1||i5){var fD=m.M[bv!=-1?bv:l-1];
ge.yY(fD.getName());ge.add.lclr=fD.add.lclr}var g2=[];for(var Y=0;Y<m.M.length;Y++)if(ev||kc.indexOf(Y)==-1)if(Y!=bv)g2.push(m.M[Y]);
var jF=kc[kc.length-1],bt=jF==m.M.length-1?null:m.M[jF+1],jw=bt?g2.indexOf(bt):g2.length;g2.splice(jw,0,ge);
cC=[jw];var X=new fw([6,12,0],this);X.data={d:cc.cb,K9:je,JF:g2,JE:cg,$c:cC};m.zN(X);this.gT(X.data,m)}if(L==cc.aqP){var gH=m.Sv();
gH.rect=new j2(0,0,m.m,m.J);gH.buffer=I.R(gH.rect.P()*4);I.eS(gH.buffer,4294967295);I.l.Qv("norm",m.I6(),gH.rect,gH.buffer,gH.rect,gH.rect,1);
gH.yY("Background");gH.add.lspf=1<<2;var X=new fw([6,12,1],this);X.data={d:cc.cb,K9:m.M.slice(),JF:[gH],JE:m.g.slice(0),$c:[0]};
m.zN(X);this.gT(X.data,m)}var hj=L==cc.Be||L==cc.g5;if(L==cc.q3||L==cc.S9||L==cc.OX||L==cc.dt||hj){var t=hj?m.gV()[0]:m.Sv(),ag=bC.get([0,3]),e3=i.TA,j9=!1,dU,fj;
if(L==cc.OX)ag=bC.get([12,76,1]);if(hj){if(m.u){var dM=m.M[m.g[0]],gK=dM.z2(m,m.u);if(gK==null){alert("Copied area is empty");
return}t.rect=gK.rect;t.buffer=gK.Jg;t.VQ(m);t.fJ(!0)}else e3=t.getName();t.add.lspf=0;t.cy=!1;if((t.de&1)!=0)t.de--}if(L==cc.dt){t.rect=$.a5.amd(i.JK,m);
t.buffer=i.JK.buffer.slice(0);if(i.e0&&m.u){t.X=new cc.o7;t.X.rect=m.u.rect;t.X.color=0;t.X.channel=m.u.channel.slice(0)}}if(L==cc.q3){this.track({o0:"make",t6:{classID:"Mk",null:h3.Ei("Lyr")}})}if(L==cc.S9){t.de|=16;
var ey=i.t6.Usng.v,h$=ey.Type.v,ax=fp.TX[h$.classID];ag=bC.get(fp.names[ax]);if(ey.Nm)e3=ey.Nm.v;t.add[ax]=ft.TQ(ax);
if(t.add[ax]==null)t.add[ax]={};for(var dt in h$)t.add[ax][dt]=JSON.parse(JSON.stringify(h$[dt]));t.X=$.a5.agv(m);
t.ii=1}if(L==cc.OX){t.de|=16;var fX=i.t6,ey=fX.Usng.v,aV=ey.Type.v,iJ=ey.Shp;if(ey.Nm)e3=ey.Nm.v;if(iJ==null){var i2=m.bM(),bL=i2[0],iI=i2[1];
if(iI.length!=0&&bL[iI[0]].h6<0){var hh=bL[iI[0]].add;t.add.vmsk=hh.vmsk.clone();t.add.vstk=jt.lc.TQ(!0);
t.add.vogk=JSON.parse(JSON.stringify(hh.vogk));m.ft=[]}else t.X=$.a5.agv(m)}else{t.add.vmsk=new cc.hF;
t.add.vstk=JSON.parse(JSON.stringify(ey.strokeStyle?ey.strokeStyle.v:jt.lc.TQ(!0)));t.add.vogk=[];if(iJ){var eB=I.ta.b_(iJ);
if(eB){t.add.vogk=[eB];t.add.vmsk.$.push({type:0,ay:1,length:0});I.ta.D_(t.add.vogk,t.add.vmsk)}else{iJ=iJ.v;
var fV=iJ.classID;if(fV=="Plgn"){var cj=iJ.Cntr.v,gE=iJ.corner.v;cj=new b5(cj.Hrzn.v.val,cj.Vrtc.v.val);
gE=new b5(gE.Hrzn.v.val,gE.Vrtc.v.val);t.add.vmsk.$=I.o.vC.Rp(cj.x,cj.y,Math.sqrt(gE.x*gE.x+gE.y*gE.y),Math.atan2(gE.y,gE.x),iJ.sides.v,0)}else if(fV=="customShape"){var kl=I.ta.Yt(iJ),j6=kl[2]-kl[0],gG=kl[3]-kl[1],eu=z.Qu,fs,bo;
for(var Y=0;Y<eu.length;Y++)if(eu[Y].ud==iJ.Nm.v)fs=eu[Y];if(fs){bo=cc.hF.ug(fs.$);I.o.Pa(bo,new hN(j6,0,0,gG,kl[0],kl[1]))}else bo=I.o.vC.Rect(kl[0],kl[1],j6,gG,0);
t.add.vmsk.$=bo}t.tO()}}}var a4={solidColorLayer:0,gradientLayer:1,patternLayer:2}[aV.classID],dw=["SoCo","GdFl","PtFl"][a4];
t.add[dw]=JSON.parse(JSON.stringify(jt.$i[a4]));if(a4==0)t.add[dw].Clr.v=I.I.$q(I.dK(z.Dm));$.a5.IP(aV,t.add[dw],a4);
if(iJ==null)ag=bC.get([6,48,0,a4]);if(dw=="PtFl"){var h8=t.add[dw].Ptrn.v,ek=k4.LZ(h8,z.VN);if(ek==null)ek=k4.LZ(h8,m.add.Patt);
h8.Idnt.v=ek.id;m.p0(ek)}t.rH(m)}var b$=$.a5.vo(m,ag+" ");t.yY(ag+" "+(b$+1));if(e3)t.yY(e3);var j0=m.g.length==0?m.M.length-1:m.g[m.g.length-1],ik=m.M[j0];
if(L==cc.OX&&ik.rq()&&ik.rect.bs()){j9=!0;t.yY(ik.getName());dU=j0}else{dU=j0+(L==cc.q3&&f&&!k?0:1);
if(ik&&ik.add.lsct==aU.AY)dU--}if(i.aj4)dU=Math.max(0,dU-1);var g2=m.M.slice(0);if(L==cc.g5){var dN=g2[m.g[0]]=g2[m.g[0]].clone(),ij=m.u.channel.slice(0);
I.Fb(ij);I.v0(ij,m.u.rect,dN.buffer,dN.rect)}g2.splice(dU,j9?1:0,t);var hx=[5,2];if(L==cc.q3)hx=[6,13];
if(L==cc.S9)hx=[6,1];if(L==cc.OX){hx=[6,48,1];var iJ=i.t6.Usng.v.Shp;if(iJ){var g5={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[iJ.v.classID];
if(g5)hx=g5}}if(hj){hx=[6,49,L==cc.Be?0:1]}if(hj||L==cc.OX||L==cc.dt||L==cc.S9)if(m.u)fj=[m.u,null];
var X=new fw(hx,this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:[dU],QY:fj};m.zN(X);this.gT(X.data,m);
if(L==cc.OX&&iJ==null&&a4!=0||L==cc.S9){var E=new eX(v.E.H);E.data={d:v.B.CZ,pw:b0.eB.qa};C.T(E)}}if(L==cc.wf){var t=m.Sv(),ag=bC.get([0,4]),b$=$.a5.vo(m,ag+" ");
t.yY(ag+" "+(b$+1));t.fn="pass";t.add.lsct=aU.AY;t.de=24;if(i.TA)t.yY(i.TA);if(i.rB!=null)t.add.lclr=i.rB;
var c9=m.b$(),j0=l,dU=j0+(f?0:1),g2=m.M.slice(0);g2.splice(dU,0,c9,t);var X=new fw([6,20],this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:[dU+1]};
m.zN(X);this.gT(X.data,m)}if(L==cc.dy||L==cc.LF){var jL=L==cc.dy?i.source:m.g[0],jN,gP,eZ=m.g.indexOf(jL)!=-1,gi=S|i.amW,aT,fr=null;
if(eZ)aT=m.Bb();else aT=m.Xz(jL);aT.sort(function(X,eC){return X-eC});if(L==cc.dy){jN=i.target;gP=i.$N>.5}else if(i.target!=null){jN=Math.min(i.target,m.M.length-1);
gP=i.target<m.M.length;m.Yj=!0}else{var iN=i.Tt;gP=iN>1;if(iN==0){jN=m.M.length-1}if(iN==1){jN=aT[aT.length-1]+1;
var P=m.Xz(jN);if(P.indexOf(jL)==-1)jN+=P.length-1}if(iN==2){jN=aT[0]-1;var P=m.Xz(jN);if(P.indexOf(jL)==-1)jN-=P.length-1}if(iN==3){jN=0;
if(m.M[0].add.lnsr=="bgnd")jN++}if(jN<0||jN>m.M.length-1)return;m.Yj=!0}if(aT.indexOf(jN)!=-1&&!gi)return;
var df=$.a5.zt(m,aT,jN,gP,gi?m.gV(eZ?null:jL):null,L==cc.dy&&i.$N>.8),gf=df.pop(),g$=df.pop(),g2=df.pop(),kf=m.g;
m.g=[jL];var gv=m.sq();m.g=[jN];var eV=m.sq();if(eV==jN&&!gP)eV=-1;m.g=kf;if(jL==gv){}else if(gv!=eV){var fr=new b5(0,0);
if(gv!=-1){var hA=m.M[gv].d3();fr.x-=hA.x;fr.y-=hA.y}if(eV!=-1){var hA=m.M[eV].d3();fr.x+=hA.x;fr.y+=hA.y}}var X=new fw(gi?[6,0]:[6,35],this);
X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:g$,gC:fr};m.zN(X);this.gT(X.data,m);var fX={classID:"move",null:h3.Ei("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:gf+(gP?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:gi}};
this.track({o0:"move",t6:fX})}if(L==cc.X6){if(i.BO){if(x==null||!x.yJ())return;var g=m.root.zD(l),gR=m.M.indexOf(g.aBK),g2=m.M.slice(0);
g2.splice(l,1);g2.splice(gR,1);var g$=[];for(var Y=gR;Y<l-1;Y++)g$.push(Y);var X=new fw("Ungroup Layers",this);
X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:g$};m.zN(X);this.gT(X.data,m)}else{var t=m.Sv(),ex=bC.get([0,4])+" ";
t.yY(ex+($.a5.vo(m,ex)+1));t.fn="pass";if(i.TA)t.yY(i.TA);if(i.rB!=null)t.add.lclr=i.rB;t.add.lsct=m.g.length==1?aU.AY:aU.Lp;
t.de=24;var c9=m.b$(),aT=m.Bb();if(aT.length==0)return;aT.sort(function(X,eC){return X-eC});var g2=[];
for(var Y=0;Y<m.M.length;Y++)if(aT.indexOf(Y)==-1)g2.push(m.M[Y]);var j0=m.g[m.g.length-1]-aT.length;
g2.splice(j0+1,0,c9);for(var Y=0;Y<aT.length;Y++)g2.splice(j0+2+Y,0,m.M[aT[Y]]);g2.splice(j0+2+aT.length,0,t);
var X=new fw([6,9],this);X.data={d:cc.cb,K9:m.M.slice(0),JF:g2,JE:m.g.slice(0),$c:[g2.indexOf(t)]};m.zN(X);
this.gT(X.data,m);var Q={o0:"make",iO:!0};Q.t6={classID:"Mk",null:h3.Ei("layerSection"),From:h3.Ei("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:t.getName()}}}};
this.track(Q)}}if(L==cc.agt){if(m.g.length!=1)return;var r=m.g[0],gS=S;if(m.M[r].Re()==null&&!e.S(jD.Uj)){L=cc.XE;
i.VU=m.u?!gS?"RvlS":"HdSl":!gS?"RvlA":"HdAl"}else{L=cc.gj;i.an5=!0}}if(L==cc.XE){if(m.g.length!=1)return;
var r=m.g[0],t=m.M[r];if(t.add.vmsk&&t.X==null)t.rH(m);var b_=t.Re();if(b_==null||i.agT){var X=new fw(i.TA?i.TA:[6,21],this),h5=new cc.o7,da=i.VU,iq=da=="RvlS"||da=="HdSl";
if(da=="RvlS"||da=="HdAl"||da=="Trns")h5.color=0;if(iq){h5.channel=m.u.channel.slice(0);h5.rect=m.u.rect.clone();
if(da=="HdSl")I.Fb(h5.channel)}if(da=="Trns"){h5.rect=t.rect.clone();h5.channel=I.R(t.rect.P());I.Ud(t.buffer,h5.channel,3)}X.data={d:cc.ST,io:[r,b_,h5],QY:iq?[m.u,null]:null,akt:da=="Trns"};
m.zN(X);this.gT(X.data,m);m.M[r].ii=1;this.track({o0:"make",t6:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:da}}}})}}else if(L==cc.anY){var iy=m.M[i.src],iG=m.M[i._B],X=new fw([6,21],this),hw=iy.Re(),aD=iG.Re(),j5=[i.src,hw,null,i._B,aD,hw];
if(S||k){var kx=hw.clone();if(S)j5=[i._B,aD,kx];else j5[5]=kx;if(k){I.Fb(kx.channel);kx.color=255-kx.color}}X.data={d:cc.ST,io:j5};
m.zN(X);this.gT(X.data,m)}if(L==cc.Eh){if(m.g.length!=1)return;var r=l,h9=m.M[r].Re();if(h9!=null){var X=new fw([6,22],this);
X.data={d:cc.ST,io:[l,h9,null]};m.zN(X);this.gT(X.data,m)}}if(L==cc.Wf){var je=m.M.slice(0),gH=x.clone(),eb=gH.Re();
I.v0(eb.Hp(gH.rect),gH.rect,gH.buffer,gH.rect);$.a5.Yf(m,gH);gH.gv();m.M[m.g[0]]=gH;var X=new fw([5,8],this);
X.data={d:cc.cb,K9:je,JF:m.M.slice(),JE:m.g.slice(0),$c:m.g.slice(0)};m.zN(X);this.gT(X.data,m)}if(L==cc.gr){if(m.g.length!=1)return;
var r=m.g[0];if(m.M[r].x6(m).X==null){var X=new fw([6,45],this);X.data={d:L,a:r,X:new cc.o7};m.zN(X);
this.gT(X.data,m)}}if(L==cc.Hv){if(m.g.length!=1)return;var r=m.g[0];if(m.M[r].x6(m).X!=null){var X=new fw([6,46],this);
X.data={d:L,a:r,X:m.M[r].x6(m).X};m.zN(X);this.gT(X.data,m)}}if(L==cc.pZ){if(i.src==null&&m.g.length!=1)return;
if(i.src!=null)l=i.src;if(m.M[l].k_()){var X=new fw([6,47],this),ay=JSON.stringify(m.M[l].add.SoLd),c7=JSON.parse(ay);
delete c7.filterFX;X.data={d:cc._G,Ut:[{vX:l,ql:[ay,JSON.stringify(c7)],Vx:[m.M[l].x6(m),null]}]};m.zN(X);
this.gT(X.data,m)}}if(L==cc.gj){if(m.g.length!=1)return;if(x.add.vmsk==null){var X=new fw([6,23],this),kH=m.bM(),eI=kH[1],kH=kH[0],h5,eB;
if(i.an5&&eI.length!=0){var hh=kH[eI[0]].add;h5=hh.vmsk.clone();eB=hh.vogk}else{h5=new cc.hF;eB=[];h5.$[1].all=i.SX?0:1}X.data={d:L,a:l,cB:!0,X:h5,ta:JSON.stringify(eB),lc:null};
if(x.Q9()){X.data.lc=Stroke.lc.TQ(!0)}m.zN(X);this.gT(X.data,m)}}if(L==cc.BK){var iy=m.M[i.src],iG=m.M[i._B];
if(iG.add.vmsk)return;var X=new fw([6,23],this),kA=iy.add.vmsk;X.data={a:i._B,cB:iy.Aa,X:kA.clone(),ta:JSON.stringify(iy.add.vogk),lc:iy.add.vstk?JSON.stringify(iy.add.vstk):null};
if(S){X.data.d=cc.gj}else{X.data.d=L;X.data.src=i.src;X.data._B=i._B}m.zN(X);this.gT(X.data,m)}if(L==cc.l9||L==cc.lW){if(m.g.length!=1)return;
var t=m.M[l],kA=t.add.vmsk;if(kA!=null){var fO=L==cc.lW,X=new fw(fO?[6,8]:[6,24],this);X.data={d:cc.l9,a:l,cB:t.Aa,X:kA,ta:JSON.stringify(t.add.vogk),lc:t.add.vstk?JSON.stringify(t.add.vstk):null};
if(fO){X.data.ow=kA.Re(t.add.vstk)}m.zN(X);this.gT(X.data,m)}}if(L==cc.jU){var X=new fw("Metadata",this);
X.data={d:L,VH:JSON.stringify(m.tr),ul:JSON.stringify(i.ul)};m.zN(X);this.gT(X.data,m)}if(L==cc.s7){var jT=i._B?i._B:m,e6=jT.name,e3=i.b+".psd";
if(e6==e3)return;var X=new fw([6,37],this);X.data={d:L,aCA:e6,TA:e3};if(i.ar_!=!0)jT.zN(X);this.gT(X.data,jT)}if(L==cc.XB&&i.Tt.endsWith("makeframes")){var bs=[],cB=i.Tt.startsWith("make");
for(var Y=0;Y<m.g.length;Y++){var N=m.g[Y],t=m.M[N],fW=t.getName(),fz=fW.startsWith("_a_");if(cB==fz||t.add.lsct==aU.ds)continue;
var ic=cB?"_a_"+fW:fW.slice(3);bs.push([N,fW,ic,t.add.lnsr,null])}var X=new fw([6,37],this);X.data={d:cc.DL,N5:bs};
m.zN(X);this.gT(X.data,m)}if(L==cc.DL){var e6=x.getName(),e3=i.name.substring(0,255);if(e6==e3)return;
var X=new fw([6,37],this);X.data={d:L,N5:[[l,e6,e3,x.add.lnsr,null]]};m.zN(X);this.gT(X.data,m);this.track(h3.RT("Nm",{t:"TEXT",v:e3}))}if(L==cc.Bn){var hU=m.Bb(),bZ=[],fl=[];
for(var Y=0;Y<hU.length;Y++){bZ.push(m.M[hU[Y]].add.lclr);fl.push(i.a3M)}var X=new fw([6,38],this);X.data={d:L,M:hU,aCe:bZ,rB:fl};
m.zN(X);this.gT(X.data,m)}if(L==cc.op){var X=m.history[m.f0];if(X!=null&&X.f==this&&X.data.d==L&&X.data.a==i.gg&&X.data.yu.nw==i.rx.nw)X.data.yu=i.rx;
else{X=new fw("Mask Density / Feather",this);X.data={d:L,a:i.gg,GZ:m.M[i.gg].uo(i.rx.nw),yu:i.rx};m.zN(X)}this.gT(X.data,m)}if(L==cc.p1){var fk=JSON.stringify(i.b),ec=JSON.parse(fk),X=m.history[m.f0];
if(X!=null&&X.f==this&&X.data.d==L&&X.data.g2==i.g2&&X.data.na.join(",")==i.na.join(",")){for(var Y=0;
Y<i.na.length;Y++)X.data.ir[Y]=ec;if(X.data.t6&&ec.C9!=0)$.a5.IP(ec.Zc,X.data.t6.T.v,ec.C9-1)}else{X=new fw([11,6],this);
X.data={d:L,na:i.na,g2:i.g2,an2:[],ir:[]};var hm=!1;for(var Y=0;Y<i.na.length;Y++){var N=i.na[Y],t=m.M[N],jQ=i.g2?jt.FU(t.add):JSON.parse(JSON.stringify(t.add.vstk));
X.data.an2.push(jQ);X.data.ir.push(ec);if(JSON.stringify(jQ)!=fk)hm=!0}if(!hm)return;m.zN(X);if(i.g2&&ec.C9>0){var fX=X.data.t6={classID:"setd",null:h3.Ei("contentLayer",!0),T:{t:"Objc",v:{}}};
$.a5.IP(ec.Zc,fX.T.v,ec.C9-1);this.track({o0:"set",t6:fX})}}if(i.g2&&ec.C9==3)m.p0(k4.LZ(ec.Zc.Ptrn.v,z.VN));
if(!i.g2){var bX=ec.strokeStyleContent.v;if(bX.classID==jt.lc.nU[2])m.p0(k4.LZ(bX.Ptrn.v,z.VN))}this.gT(X.data,m)}};
$.a5.zt=function(i,C,m,e,z,L){var l=i.M[m],x=[];if(z)x=i.M.slice(0);else for(var Y=0;Y<i.M.length;Y++)if(C.indexOf(Y)==-1)x.push(i.M[Y]);
var S=x.indexOf(l);if(L&&l.yJ()&&l.add.lsct==aU.Lp)S-=i.Xz(m).length-1;var k=[];for(var Y=0;Y<C.length;
Y++){var f=S+(e?0:1)+Y,X=z?z[Y]:i.M[C[Y]];x.splice(f,0,X);k.push(f)}return[x,k,S]};$.a5.IP=function(i,C,m){var e=[jt.pb,jt.It,jt.dH][m];
if(C.classID==null)C.classID=["solidColorLayer","gradientLayer","patternLayer"][m];for(var Y=0;Y<e.length;
Y++)if(i[e[Y]])C[e[Y]]=JSON.parse(JSON.stringify(i[e[Y]]))};$.a5.agv=function(i){var C=new cc.o7;if(i.u!=null){C.color=0;
C.channel=i.u.channel.slice(0);C.rect=i.u.rect.clone()}return C};$.a5.ZR=function(i,C,m,e,z){var L=e.m/m.m,l=e.J/m.J,x=e.m/2,S=e.J/2,k=I.C.Ym(e).j;
for(var Y=0;Y<i.M.length;Y++){var f=i.M[Y],X=f.add.SoLd;if(X==null||X.Idnt.v!=C)continue;var o=L!=1||l!=1;
if(o){var A=$.V.dR(X.nonAffineTransform),P=I.D.v6(A,e),F=new hN;F.translate(-x,-S);F.scale(L,l);F.translate(x,S);
var n=I.D.oW(P,I.D.fL(F)),R=k.slice(0);I.D.i(n,R);X.Trnf=$.V.xN(R);X.nonAffineTransform=$.V.xN(R);if(I.lu.gL(X.quiltWarp.v)){var Q=X.quiltWarp.v.bounds.v;
Q.Rght.v.val=e.m;Q.Btom.v.val=e.J}}f.g1(i,null,z,!o)}i.Y()};$.a5.ahR=function(i,C,m){C.color=255-C.color;
I.Fb(C.channel);C.kL=!0;i.rH(m);m.Y()};$.a5.prototype.qp=function(i,C){var m=i.d,e=C.M[i.a];C.gZ=!0;
if(m==cc.BV){C.add.lnk2.splice(C.add.lnk2.indexOf(i.GH),1,i.U1);$.a5.ZR(C,i.id,i.GH.pC[1],i.U1.pC[1])}if(m==cc.Pt){e.add.SoLd.Impr.v.classID=i.GZ;
e.g1(C)}if(m==cc.sE){var z=JSON.parse(i.na);for(var Y=0;Y<z.length;Y++)C.M[z[Y]].fn=i.HX[Y];C.Y()}if(m==cc.kM){var z=JSON.parse(i.na);
for(var Y=0;Y<z.length;Y++)C.M[z[Y]].opacity=i.HX[Y];C.Y()}if(m==cc.g$){var z=JSON.parse(i.na);for(var Y=0;
Y<z.length;Y++)if(C.M[z[Y]].add.lsct!=aU.ds)C.M[z[Y]].add.lspf=i.HX[Y]}if(m==cc.a0){var L=i.JP,l=i.aBP;
delete e.add[L[0]];if(l[0]!="----")e.add[l[0]]=l[1]}if(m==cc.uk){e.add.iOpa=i.HX;C.Y()}if(m==cc.at){for(var Y=0;
Y<i.na.length;Y++){var x=C.M[i.na[Y]];x.fJ(!x.gF())}C.Y()}if(m==cc.Q3){var S=e.Re();S.isEnabled=!S.isEnabled;
e.rH(C);C.Y()}if(m==cc.L7){var S=e.x6(C).X;S.isEnabled=!S.isEnabled;e.Y();C.Y()}if(m==cc.bo){var S=e.add.vmsk;
S.isEnabled=!S.isEnabled;if(!S.isEnabled){if(e.ow){e.X=e.ow;e.ow=null}else e.X=null}else if(e.X){e.ow=e.X;
e.X=null}e.rH(C);C.Y()}if(m==cc.nu){e.cy=!e.cy;C.Y()}if(m==cc.kj){e.add.lmfx.masterFXSwitch.v=!e.add.lmfx.masterFXSwitch.v;
e.f3.uZ=!0;C.Y()}if(m==cc.gk){e.add.SoLd.filterFX.v.enab.v=!e.add.SoLd.filterFX.v.enab.v;e.mm(C);C.Y()}if(m==cc.CY){var k=i.index,f=e.add.lmfx[jt.m8[k[0]]].v[k[1]].v;
f.enab.v=!f.enab.v;e.f3.uZ=!0;C.Y()}if(m==cc.y2){var X=C.M[i.Ib],o=C.M[i.ky],A=i.aDy,P=i.aAj;if(A=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(A);if(P=="")delete o.add.lmfx;else o.add.lmfx=JSON.parse(P);X.f3.uZ=!0;o.f3.uZ=!0;
C.Y()}if(m==cc.nH){var F=e.add.SoLd.filterFX.v.filterFXList.v[i.index].v;F.enab.v=!F.enab.v;e.mm(C);
C.Y()}if(m==cc.abE){e.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(i.a9a));e.mm(C);C.Y()}if(m==cc.Wk){var S=e.Re();
S.hu=!S.hu}if(m==cc.LS){var S=e.add.vmsk;S.hu=!S.hu}if(m==cc.St){var n=JSON.parse(i.aa9);C.ut=n[0];C.yp=n[1]}if(m==cc.ZA){var n=i.NY;
for(var Y=0;Y<n.length;Y+=2){var R=n[Y],x=R>=0?C.M[R]:C.DI[-1-R];x.add.vogk=JSON.parse(n[Y+1]);I.ta.D_(x.add.vogk,x.add.vmsk);
if(R>=0)x.rH(C)}C.Y()}if(m==cc.LV){e.add.artb=JSON.parse(i.alF);C.Y();$.lx.Na(C,i)}if(m==cc.kP){C.u=i.Ii;
if(i.atP)C.q.O=i.atP.slice(0);C.T3=i.NY.slice(0);C.Xk=i.TJ.slice(0);C.Qq=C.sa=!0}if(m==cc.n7){e.mI=!e.mI}if(m==cc.en){var Q=i.a8L;
for(var Y=0;Y<Q.length;Y++)C.M[Y].MW=Q[Y]}if(m==cc.cb){if(i.gC)$.a8.zu(C,C.g,null,-i.gC.x,-i.gC.y);if(i.JE)C.g=i.JE;
if(i.QY)C.u=i.QY[0];C.Ep=null;C.Y();$.lx.Na(C,i);C.Bf(i.K9);if(i.Bs)C.Kq(i.Bs[0])}if(m==cc.ST){for(var Y=0;
Y<i.io.length;Y+=3)$.a5.Yf(C,C.M[i.io[Y]],i.io[Y+1]);if(i.QY){var s=i.QY[0];if(s==null)delete C.u;else C.u=s}if(i.akt){var x=C.M[i.io[0]];
I.uC(i.io[2].channel,x.buffer,3)}}if(m==cc.gr){e.x6(C).X=null;e.Y();C.Y()}if(m==cc.Hv){e.x6(C).X=i.X;
e.Y();C.Y()}if(m==cc._G){$.a5.ax5(C,i.Ut,0)}if(m==cc.gj){$.a5.el(C,e,!0)}if(m==cc.BK){$.a5.el(C,C.M[i._B],i.X.isEnabled);
$.a5.Mm(C,C.M[i.src],i)}if(m==cc.l9){if(i.ow)$.a5.Yf(C,e,null);$.a5.Mm(C,e,i)}if(m==cc.jU){C.tr=JSON.parse(i.VH)}if(m==cc.s7){C.name=i.aCA}if(m==cc.DL){for(var Y=0;
Y<i.N5.length;Y++){var j=i.N5[Y],x=C.M[j[0]];x.yY(j[1]);if(j[3])x.add.lnsr=j[3];else delete x.add.lnsr}}if(m==cc.Bn){for(var Y=0;
Y<i.M.length;Y++)C.M[i.M[Y]].add.lclr=i.aCe[Y]}if(m==cc.p1){var _=i.an2;for(var Y=0;Y<i.na.length;Y++){var x=C.M[i.na[Y]],B=_[Y];
if(!i.g2)x.add.vstk=JSON.parse(JSON.stringify(B));else jt.Yq(x.add,JSON.parse(JSON.stringify(B)));x.pc(C)}C.Y()}if(m==cc.op){e.aD2(i.GZ);
e.rH(C);C.Y()}C.sa=!0};$.a5.prototype.gT=function(i,C){var m=i.d,e=C.M[i.a];C.gZ=!0;if(m==cc.BV){C.add.lnk2.splice(C.add.lnk2.indexOf(i.U1),1,i.GH);
$.a5.ZR(C,i.id,i.U1.pC[1],i.GH.pC[1])}if(m==cc.Pt){e.add.SoLd.Impr.v.classID=i.yu;e.g1(C)}if(m==cc.sE){var z=JSON.parse(i.na);
for(var Y=0;Y<z.length;Y++)C.M[z[Y]].fn=i.yu;C.Y()}if(m==cc.kM){var z=JSON.parse(i.na);for(var Y=0;Y<z.length;
Y++)C.M[z[Y]].opacity=i.yu;C.Y()}if(m==cc.g$){var z=JSON.parse(i.na);for(var Y=0;Y<z.length;Y++)if(C.M[z[Y]].add.lsct!=aU.ds)C.M[z[Y]].add.lspf=i.yu[Y]}if(m==cc.a0){var L=i.aBP,l=i.JP;
delete e.add[L[0]];if(l[0]!="----")e.add[l[0]]=l[1]}if(m==cc.uk){e.add.iOpa=i.yu;C.Y()}if(m==cc.at){for(var Y=0;
Y<i.na.length;Y++){var x=C.M[i.na[Y]];x.fJ(!x.gF())}C.Y()}if(m==cc.Q3){var S=e.Re();S.isEnabled=!S.isEnabled;
e.rH(C);C.Y()}if(m==cc.L7){var S=e.x6(C).X;S.isEnabled=!S.isEnabled;e.Y();C.Y()}if(m==cc.bo){var S=e.add.vmsk;
S.isEnabled=!S.isEnabled;if(!S.isEnabled){if(e.ow){e.X=e.ow;e.ow=null}else e.X=null}else if(e.X){e.ow=e.X;
e.X=null}e.rH(C);C.Y()}if(m==cc.nu){e.cy=!e.cy;C.Y()}if(m==cc.kj){e.add.lmfx.masterFXSwitch.v=!e.add.lmfx.masterFXSwitch.v;
e.f3.uZ=!0;C.Y()}if(m==cc.gk){e.add.SoLd.filterFX.v.enab.v=!e.add.SoLd.filterFX.v.enab.v;e.mm(C);C.Y()}if(m==cc.CY){var k=i.index,f=e.add.lmfx[jt.m8[k[0]]].v[k[1]].v;
f.enab.v=!f.enab.v;e.f3.uZ=!0;C.Y()}if(m==cc.y2){var X=C.M[i.Ib],o=C.M[i.ky],A=i.a0e,P=i.aB3;if(A=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(A);if(P=="")delete o.add.lmfx;else o.add.lmfx=JSON.parse(P);X.f3.uZ=!0;o.f3.uZ=!0;
C.Y()}if(m==cc.nH){var F=e.add.SoLd.filterFX.v.filterFXList.v[i.index].v;F.enab.v=!F.enab.v;e.mm(C);
C.Y()}if(m==cc.abE){e.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(i.abA));e.mm(C);C.Y()}if(m==cc.Wk){var S=e.Re();
S.hu=!S.hu}if(m==cc.LS){var S=e.add.vmsk;S.hu=!S.hu}if(m==cc.St){var n=JSON.parse(i.amj);C.ut=n[0];C.yp=n[1]}if(m==cc.ZA){var n=i.bL;
for(var Y=0;Y<n.length;Y+=2){var R=n[Y],x=R>=0?C.M[R]:C.DI[-1-R];x.add.vogk=JSON.parse(n[Y+1]);I.ta.D_(x.add.vogk,x.add.vmsk);
if(R>=0)x.rH(C)}C.Y()}if(m==cc.LV){e.add.artb=JSON.parse(i.GE);C.Y();$.lx.O$(C,i)}if(m==cc.kP){C.u=i.sU;
if(i.a5W)C.q.O=i.a5W.slice(0);C.T3=i.bL.slice(0);C.Xk=i.VK.slice(0);C.Qq=C.sa=!0}if(m==cc.n7){e.mI=!e.mI}if(m==cc.en){var Q=i.al5;
for(var Y=0;Y<Q.length;Y++)C.M[Y].MW=Q[Y]}if(m==cc.cb){C.adf();var s=i.JF,j=0,_;for(var Y=0;Y<s.length;
Y++){var x=s[Y],B=x.add.lsct;if(B==aU.ds)j++;else if(B==aU.AY||B==aU.Lp)j--;if(x.add.artb&&j!=0)_="Artboards can not be inside folders."}if(_){C.history.pop();
C.f0--;alert(_);return}if(i.$c)C.g=i.$c;if(i.QY)C.u=i.QY[1];C.Ep=null;C.Y();C.Bf(i.JF);$.lx.O$(C,i);
if(i.gC)$.a8.zu(C,C.g,null,i.gC.x,i.gC.y);if(i.Bs)C.Kq(i.Bs[1])}if(m==cc.ST){for(var Y=0;Y<i.io.length;
Y+=3)$.a5.Yf(C,C.M[i.io[Y]],i.io[Y+2]);if(i.QY){var N=i.QY[1];if(N==null)delete C.u;else C.u=N}if(i.akt){var x=C.M[i.io[0]],a=x.buffer;
for(var Y=0;Y<a.length;Y+=4)a[Y+3]=255}}if(m==cc.gr){e.x6(C).X=i.X;e.ii=0;e.Y();C.Y()}if(m==cc.Hv){e.x6(C).X=null;
e.ii=0;e.Y();C.Y()}if(m==cc._G){$.a5.ax5(C,i.Ut,1)}if(m==cc.gj){$.a5.Mm(C,e,i)}if(m==cc.BK){$.a5.el(C,C.M[i.src],i.X.isEnabled);
$.a5.Mm(C,C.M[i._B],i)}if(m==cc.l9){$.a5.el(C,e,i.X.isEnabled);if(i.ow)$.a5.Yf(C,e,i.ow)}if(m==cc.jU){C.tr=JSON.parse(i.ul)}if(m==cc.s7){C.name=i.TA}if(m==cc.DL){for(var Y=0;
Y<i.N5.length;Y++){var O=i.N5[Y],x=C.M[O[0]];x.yY(O[2]);if(O[4])x.add.lnsr=O[4];else delete x.add.lnsr}}if(m==cc.Bn){for(var Y=0;
Y<i.M.length;Y++)C.M[i.M[Y]].add.lclr=i.rB[Y]}if(m==cc.p1){var H=i.ir;for(var Y=0;Y<i.na.length;Y++){var x=C.M[i.na[Y]],q=H[Y];
if(!i.g2)x.add.vstk=JSON.parse(JSON.stringify(q));else jt.Yq(x.add,JSON.parse(JSON.stringify(q)));x.pc(C)}C.Y()}if(m==cc.op){e.aD2(i.yu);
e.rH(C);C.Y()}C.sa=!0};$.a5.vo=function(i,C){var m=0;for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y].getName();
if(e.startsWith(C)){var z=e.slice(C.length).trim(),L=parseInt(z);if(!isNaN(L)&&L+""==z&&L>m)m=L}}return m};
$.a5.ax5=function(i,C,m){for(var Y=0;Y<C.length;Y++){var e=C[Y],z=i.M[e.vX];if(e.ql){z.add.SoLd=JSON.parse(e.ql[m])}if(e.Vx){if(e.Vx[1-m]!=null)i.UP(e.Vx[1-m]);
if(e.Vx[m]!=null)i.tH(e.Vx[m]);else z.ii=0}z.g1(i)}};$.a5.amd=function(i,C){var m=i.zM,e=i.rect.clone();
if(m!=null&&(m.x!=C.m||m.y!=C.J)){e.x=Math.floor((C.m-e.m)/2);e.y=Math.floor((C.J-e.J)/2)}else if(m==null){var z=new j2(0,0,C.m,C.J),L=C.sq();
if(L!=-1)z=C.M[L].d3();e.x+=z.x;e.y+=z.y}return e};$.a5.ato=function(i,C){if(C.ow)C.ow=null;else C.X=null;
C.rH(i);i.Y();C.ii=0};$.a5.Yf=function(i,C,m){var e=C.Re();if(e==null&&m==null)return;if(e)$.a5.ato(i,C);
if(m==null)return;if(C.X)C.ow=m;else C.X=m;C.rH(i);i.Y()};$.a5.el=function(i,C,m){if(C.ow&&m){C.X=C.ow;
C.ow=null}else if(C.X&&m){C.X=null}delete C.add.vogk;delete C.add.vstk;delete C.add.vmsk;C.rH(i);C.Aa=!1;
i.Ep=[];i.Y()};$.a5.Mm=function(i,C,m){C.add.vogk=JSON.parse(m.ta);if(m.lc)C.add.vstk=JSON.parse(m.lc);
else delete C.add.vstk;C.add.vmsk=m.X.clone();if(C.X&&C.add.vmsk.isEnabled)C.ow=C.X;C.rH(i);C.Aa=m.cB;
i.Ep=[i.M.indexOf(C)];i.ft=[];i.Y()};$.w2=function(){$.KV.call(this,"Layer Styles",$.$Z);this.HJ=null;
this.Jn=null;this.GG=null;this.qx=[];this.TT=null};$.w2.prototype=new $.KV;$.w2.prototype.X4=function(i,C,m,e,z){var L=i.a;
if(L==null)L=m.g[0];var l=m.M[L],x=i.h6;if(this.HJ==null){this.GG=$.w2.ia(m,l);this.HJ=JSON.stringify(this.GG);
if(l.add.lmfx)this.Jn=JSON.stringify(l.add.lmfx)}if(l.add.lmfx==null){l.add.lmfx=JSON.parse(jt.default);
for(var Y=0;Y<jt.order.length;Y++)l.add.lmfx[jt.m8[Y]]={t:"VlLs",v:[]}}if(i.d=="scaleeffects"){if(i.b=="confirm"||i.b=="cancel"){this.X4({d:i.b},C,m,e,z);
return}l.add.lmfx=JSON.parse(this.Jn);k4._W(l.add.lmfx,i.b/100)}else if(i.d=="changeprop"){var S=null;
if(x!=0){var k=this.qx[x[0]];if(k==null)k=jt.qx[x[0]];k=JSON.parse(k);var f=l.add.lmfx[jt.m8[x[0]]].v;
if(f[x[1]]==null)f[x[1]]={t:"Objc",v:k};S=f[x[1]].v;for(var X in k)if(S[X]==null)S[X]=k[X]}if(i.d=="changeprop"){if(x==0){this.GG[i.IG].v=i.b;
$.w2.wG(m,l,this.GG)}else if(i.IG=="lagl"){if(S.uglg&&S.uglg.v){m.mC(i.b.val);this.GG.gagl.v.val=m.Ju()}else S[i.IG].v=i.b}else if(i.IG=="Lald"){if(S.uglg.v){m.XO(i.b.val);
this.GG.akn=m.JL()}else S[i.IG].v=i.b}else if((x[0]==3||x[0]==8)&&(i.IG=="Clr"||i.IG=="Grad")){if(i.IG=="Clr"){S.Clr={t:"Objc",v:i.b};
delete S.Grad}if(i.IG=="Grad"){S.Grad={t:"Objc",v:i.b};delete S.Clr}}else{S[i.IG].v=i.b}if(x!=0)this.qx[x[0]]=JSON.stringify(S)}if(x!=0)if(S.Ptrn)m.p0(k4.LZ(S.Ptrn.v,z.VN))}else if(i.d=="setstl"){var o=i.b.Lefx;
if(o)k4.aog(o,m,z.VN);k4.a35(i.b,l,null,m);this.GG=$.w2.ia(m,l)}else if(i.d=="st_dupsingle"){var A=l.add.lmfx[jt.m8[i.dA[0]]].v;
if(A[i.dA[1]]==null)return;var P=JSON.parse(JSON.stringify(A[i.dA[1]]));A.splice(i.dA[1],0,P)}else if(i.d=="st_movsingle"){var F=i.dA[1],A=l.add.lmfx[jt.m8[i.dA[0]]].v;
if(A[i.dA[1]]==null)return;var n=Math.max(0,Math.min(A.length-1,F+i.aC8)),R=A[n];A[n]=A[F];A[F]=R}else if(i.d=="cancel"){if(this.Jn==null)delete l.add.lmfx;
else l.add.lmfx=JSON.parse(this.Jn);$.w2.wG(m,l,JSON.parse(this.HJ));this.HJ=null;this.Jn=null}else if(i.d=="confirm"){var Q=JSON.stringify(l.add.lmfx),s=new fw([11,6],this);
s.data={M:[L],oo:[this.Jn],lT:[Q],Pu:[this.HJ],H8:[JSON.stringify(this.GG)]};m.zN(s);this.HJ=null;this.Jn=null;
if(Q!=null){var j=JSON.parse(Q);cX.Zm(j);j.classID="Lefx";delete j.masterFXSwitch;var _=new eX(v.E.HW);
_.W0=!0;_.data={o0:"set",iO:!0};var B=h3.Ei("Lyr",!0);B.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
_.data.t6={__name:"Set",classID:"setd",null:B,T:{t:"Objc",v:j}};C.T(_)}}else if(i.d=="st_copy"){this.TT=[this.HJ,this.Jn];
this.HJ=null;this.Jn=null}else if(i.d=="st_paste"||i.d=="st_clear"){if(i.d=="st_paste"&&this.TT==null)return;
var N=i.a!=null?[i.a]:m.g.slice(0),a=[],O=[],H=[],q=[];for(var Y=0;Y<N.length;Y++){var l=m.M[N[Y]],h=$.w2.ia(m,l);
a.push(l.add.lmfx?JSON.stringify(l.add.lmfx):null);H.push(JSON.stringify(h));if(i.d=="st_paste"){O.push(this.TT[1]);
q.push(this.TT[0])}else{O.push(null);h.lrMd.v=0;h.Opct.v.val=100;h.iOpa.v.val=100;h.blIf={v:[]};for(var D=0;
D<10;D++)h.blIf.v.push(0,0,255,255);q.push(JSON.stringify(h))}}var s=new fw([11,6],this);s.data={M:N,oo:a,lT:O,Pu:H,H8:q};
this.gT(s.data,m);m.zN(s);this.HJ=null;this.Jn=null}else{var T=this.GG,j=null;if(i.d=="st_delsingle"){j=JSON.parse(this.Jn);
j[jt.m8[i.dA[0]]].v.splice(i.dA[1],1);j=JSON.stringify(j)}if(j==null)delete l.add.lmfx;else l.add.lmfx=JSON.parse(j);
if(T!=null)$.w2.wG(m,l,T);var s=new fw([11,6],this);s.data={M:[i.a],oo:[this.Jn],lT:[j],Pu:[this.HJ],H8:[JSON.stringify(T)]};
m.zN(s);this.HJ=null;this.Jn=null}l.f3.uZ=!0;m.gZ=!0;m.Y()};$.w2.ia=function(i,C){if(C.add.iOpa==null)C.add.iOpa=255;
if(C.add.brst==null)C.add.brst=[1,1,1];var m=C.yJ()?["pass"].concat(aw.Az):aw.Az;return{lrMd:{v:m.indexOf(C.fn)},Opct:{v:{type:"#Prc",val:Math.round(C.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(C.add.iOpa*100/255)},t:"UntF"},blIf:{v:C.m3.slice(0)},brst:{v:C.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:i.Ju()}},akn:i.JL(),yJ:C.yJ()}};
$.w2.wG=function(i,C,m){var e=C.yJ()?["pass"].concat(aw.Az):aw.Az;C.fn=e[m.lrMd.v];C.opacity=Math.round(m.Opct.v.val*255/100);
C.add.iOpa=Math.round(m.iOpa.v.val*255/100);C.m3=m.blIf.v.slice(0);C.add.brst=m.brst.v.slice(0);i.mC(m.gagl.v.val);
i.XO(m.akn)};$.w2.prototype.qp=function(i,C){for(var Y=0;Y<i.M.length;Y++){var m=C.M[i.M[Y]],e=i.oo[Y];
if(e==null)delete m.add.lmfx;else m.add.lmfx=JSON.parse(e);$.w2.wG(C,m,JSON.parse(i.Pu[Y]));m.f3.uZ=!0}C.gZ=!0;
C.Y()};$.w2.prototype.gT=function(i,C){for(var Y=0;Y<i.M.length;Y++){var m=C.M[i.M[Y]],e=i.lT[Y];if(e==null)delete m.add.lmfx;
else m.add.lmfx=JSON.parse(e);$.w2.wG(C,m,JSON.parse(i.H8[Y]));m.f3.uZ=!0}C.gZ=!0;C.Y()};$.FX=function(){$.KV.call(this,"Layer Comps",$.IA)};
$.FX.prototype=new $.KV;$.FX.prototype.X4=function(i,C,m,e){var z=JSON.parse(JSON.stringify(m.Rk)),L=JSON.parse(JSON.stringify(m.Rk)),l=null,x=null,S=null,k=-1,f=!1;
if(i.d=="delLC"){var X=$.FX.CS(m.Rk,i.h6),o=m.Rk.lastAppliedComp?m.Rk.lastAppliedComp.v:0;L.list.v.splice(X,1);
if(o==i.h6)delete L.lastAppliedComp;l="Delete Layer Comp"}if(i.d=="editLC"){var X=$.FX.CS(m.Rk,i.h6),A=L.list.v[X].v;
if(i.TA!=null)A.Nm.v=i.TA;if(i.aoh!=null){var P=i.aoh,F=A.capturedInfo.v,n=F&(1<<P)-1;F=F>>P;if((F&1)==1)F--;
else F++;A.capturedInfo.v=(F<<P)+n}l="Layer Comp properties"}if(i.d=="setLC"){$.FX.GM(m);if(i.h6==0)delete L.lastAppliedComp;
else L.lastAppliedComp={t:"long",v:i.h6};l="Switch Layer Comp";f=!0}if(i.d=="updLC"){$.FX.GM(m);x=$.FX.anH(m,i.h6);
S=$.FX.cg(m,i.h6);L.lastAppliedComp={t:"long",v:i.h6};l="Update Layer Comp";k=i.h6;f=!0}if(i.d=="addLC"){$.FX.GM(m);
var R=1;for(var Y=0;Y<L.list.v.length;Y++)R=Math.max(R,L.list.v[Y].v.compID.v)+1;R+=Math.floor(Math.random()*1e4);
var Q={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(L.list.v.length+1)},compID:{t:"long",v:R},capturedInfo:{t:"long",v:7}}};
L.list.v.push(Q);L.lastAppliedComp={t:"long",v:R};l="New Layer Comp";var s=$.FX.cg(m,R);$.FX._z(m,s,R)}var j=new fw(l,this);
j.data={ag_:z,a5J:L,ahI:x,aAc:S,h6:k,ZT:f};this.gT(j.data,m);m.zN(j)};$.FX.prototype.gT=function(i,C){C.Rk=i.a5J;
C.gZ=!0;if(i.aAc)$.FX._z(C,i.aAc,i.h6);if(i.ZT){var m=C.Rk.lastAppliedComp?C.Rk.lastAppliedComp.v:0,e=$.FX.CS(C.Rk,m),z=e==-1?null:C.Rk.list.v[e].v,L=z?z.capturedInfo.v:7;
$.FX.uL(C,m,L);C.Y()}};$.FX.prototype.qp=function(i,C){C.Rk=i.ag_;C.gZ=!0;if(i.ahI)$.FX._z(C,i.ahI,i.h6);
if(i.ZT){var m=C.Rk.lastAppliedComp?C.Rk.lastAppliedComp.v:0,e=$.FX.CS(C.Rk,m),z=e==-1?null:C.Rk.list.v[e].v,L=z?z.capturedInfo.v:7;
$.FX.uL(C,m,L);C.Y()}};$.FX.GM=function(i){if(i.Rk.lastAppliedComp!=null||!i.j5)return;var C=$.FX.cg(i,0);
$.FX._z(i,C,0);i.j5=!1};$.FX.ko=function(i,C,m){i.v.Hrzn.v+=C;i.v.Vrtc.v+=m};$.FX.CS=function(i,C){var m=i.list.v;
for(var Y=0;Y<m.length;Y++)if(m[Y].v.compID.v==C)return Y;return-1};$.FX.aaG=function(i){var C=i.layerSettings.v,z=null;
if(C.length==0)return;var m="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),e=C[0].v;
if(e.enab==null)e.enab={t:"bool",v:!0};if(e.Ofst==null)e.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var Y=0;Y<C.length;Y++){var L=C[Y].v;if(z==null)z=JSON.parse(JSON.stringify(L));else for(var l=0;
l<m.length;l++){var x=m[l];if(L[x])z[x]=JSON.parse(JSON.stringify(L[x]))}C[Y].v=JSON.parse(JSON.stringify(z))}};
$.FX.acG=function(i,C){var m=i.add.shmd.cmls,e=m.layerSettings.v;for(var z=0;z<e.length;z++){var L=e[z].v,l=L.compList.v[0].v;
if(l==C)return z}return-1};$.FX.ayy=function(i,C){var m=$.FX.acG(i,C);return m==-1?null:i.add.shmd.cmls.layerSettings.v[m].v};
$.FX.uL=function(i,C,m){for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y],z=e.add.shmd.cmls;if(z==null)continue;
var L=z.layerSettings.v,l=$.FX.ayy(e,C);if(l==null){e.fJ(!1);continue}if((m&1)!=0){if(l.enab)e.fJ(l.enab.v);
else e.fJ(!0)}if((m&2)!=0){if(l.Ofst){var x=l.Ofst.v,S=e.Jx(i),k=Math.round(x.Hrzn.v-S.x),f=Math.round(x.Vrtc.v-S.y);
if(k!=0||f!=0)$.a8.zu(i,[Y],null,k,f)}}if((m&4)!=0){if(l.Lefx){var X=JSON.parse(JSON.stringify(l.Lefx.v));
cX.Oi(X);if(JSON.stringify(X)!=JSON.stringify(e.add.lmfx)){e.add.lmfx=X;e.f3.uZ=!0}}else delete e.add.lmfx;
if(l.blendOptions){var o=l.blendOptions.v;if(o.Opct)e.opacity=Math.round(255*o.Opct.v.val/100);if(o.fillOpacity)e.add.iOpa=Math.round(255*o.fillOpacity.v.val/100);
if(o.Md)e.fn=e.add.lsct==aU.ds?"norm":aw._A(o.Md.v.BlnM)}else{e.opacity=255;e.fn=e.yJ()?"pass":"norm";
e.add.iOpa=255}}}};$.FX.anH=function(i,C){var m={};for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y];if(e.add.shmd==null||e.add.shmd.cmls==null)continue;
m["l"+e.add.lyid]=JSON.parse(JSON.stringify($.FX.ayy(e,C)))}return m};$.FX.cg=function(i,C){var m={};
for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y],z=e.add.lyid;m["l"+z]=$.FX.a2R(i,e,C)}return m};$.FX.a2R=function(i,C,m){var e=C.add.shmd?C.add.shmd.cmls:null,z={classID:"null"},L=C.Jx(i),l={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:L.x},Vrtc:{t:"long",v:L.y}}};
z.compList={t:"VlLs",v:[{t:"long",v:m}]};z.enab={t:"bool",v:C.gF()};z.Ofst=JSON.parse(JSON.stringify(l));
z.FXRefPoint=JSON.parse(JSON.stringify(e&&e.origFXRefPoint?e.origFXRefPoint:l));z.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:aw.An(C.fn)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*C.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:C.add.iOpa!=null?100*C.add.iOpa/255:100}}}};
if(C.add.vmsk){z.vectorMask={t:"Objc",v:{classID:"null"}};z.vectorMask.v.Ofst=JSON.parse(JSON.stringify(l))}if(C.add.lmfx){z.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(C.add.lmfx))};
cX.Zm(z.Lefx.v)}return z};$.FX.av2=function(i,C){var m=C.add.lyid;if(C.add.shmd==null)C.add.shmd={};
if(C.add.shmd.cmls==null){C.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:m},layerSettings:{t:"VlLs",v:[{t:"Objc",v:$.FX.a2R(i,C,0)}]}}}};
$.FX._z=function(i,C,m){for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y],z=e.add.lyid;$.FX.av2(i,e);var L=e.add.shmd.cmls,l=L.layerSettings.v,x=C["l"+z];
if(x!=null)x={t:"Objc",v:JSON.parse(JSON.stringify(x))};var S=$.FX.acG(e,m);if(S==-1){if(x==null)continue;
else l.push(x)}else{if(x==null)l.splice(S,1);else l[S]=x}}};$.FX.fS=function(i,C){for(var Y=0;Y<i.M.length;
Y++){var m=i.M[Y],e=m.add.lyid;if(m.add.shmd==null||m.add.shmd.cmls==null)continue;var z=m.Jx(i),L=Math.round(z.x),l=Math.round(z.y);
if(!C){L=-L;l=-l}var x=m.add.shmd.cmls,S=x.layerSettings.v;if(x.origFXRefPoint)$.FX.ko(x.origFXRefPoint,-L,-l);
for(var k=0;k<S.length;k++){var f=S[k].v;$.FX.ko(f.Ofst,L,l);var X=f.imageMask,o=f.vectorMask;if(X&&X.v.Ofst)$.FX.ko(X.v.Ofst,L,l);
if(o&&o.v.Ofst)$.FX.ko(o.v.Ofst,L,l)}}};$.q7=function(){$.KV.call(this,"Adjust Edit",$.vR);this.ul=null;
this.Rl=null};$.q7.prototype=new $.KV;$.q7.Gn=function(i,C,m,e){if(e)C/=4;var z=0,L=0,l=255,x=0,S=0,k=255;
while(L+i[z]<C){L+=i[z];z++}while(x+i[l]<C){x+=i[l];l--}if(e){z-=Math.round(i[z]/(m/32));l+=Math.round(i[l]/(m/32));
if(z<0)S=Math.round(-z*255/(l-z));if(l>255)k=255-Math.round((l-255)*255/(l-z))}return[Math.max(z,0),Math.min(l,255),S,k,100]};
$.q7.prototype.X4=function(i,C,m,e,z){var L=i.d;if(L=="auto"){var l=i.xk,x=$.q7.getData(m);for(var Y=0;
Y<x.length;Y++){var S=x[Y],k;if(l<3){}else{var f=ft.TQ("hue2");jK.gH(f,0,[0,-100,0]);k=fp.QV("hue2",f)}fp.ny(k,S.Jg,S.Td,S.TD)}$.q7.ZW(m,x);
$.q7.q2(m,x,l<3?[4,16,l]:[19,7,0],this);m.Y()}if(L=="edit_layer")this.a98(i,C,m,e);if(L=="edit"||L=="confirm"||L=="cancel")this._P(i,C,m,z,!0);
if(L=="start"){if(m.g.length==0)return;var X=m.M[m.g[0]];if(X.add.SoLd&&X.ii<=0&&m.Xk.length==0){var o=new eX(v.E.v,!0);
o.f=$.uz;o.data={d:"start",L0:i.GT,qg:i.qg};C.T(o);return}if(!m.vq(C,null,!0))return;if(jg[i.GT]&&i.qg==null){if(m.g.length!=1)alert("Will be applied to "+m.g.length+" layers.");
var o=new eX(v.E.H,!0);o.data={d:v.B.c6,pw:"afw_"+i.GT};C.T(o)}else{this._P({d:"edit",qg:i.qg,L0:i.GT},C,m,z);
this._P({d:"confirm",L0:i.GT},C,m,z)}}};$.q7.prototype.a98=function(i,C,m,e){var z=i.d,L=m.g[0],l=m.M[L],x=fp.get(l.add),o;
if(l.add[x]==null)return;var S=JSON.parse(JSON.stringify(l.add[x]));for(var k in i.b)S[k]=i.b[k];var f=JSON.parse(JSON.stringify(S));
for(var k in fp.TX)if(fp.TX[k]==x)f.classID=k;var X=m.history[m.f0];if(X&&X.f==this&&X.data.GZ!=null&&X.data.a==L)o=X;
else{var A=new eX(v.E.HW,!0),P={classID:"setd",null:h3.Ei("AdjL",!0),T:{t:"Objc",v:f}};A.data={iO:!0,o0:"set",t6:P};
C.T(A);var o=new fw([6,39],this);o.data={a:L,GZ:l.add[x],yu:S,DE:P};m.zN(o)}o.data.yu=S;o.data.DE.T.v=f;
this.gT(o.data,m)};$.q7.getData=function(i,C,m){var e=[],z=new j2(0,0,i.m,i.J),L=i.Xk.length!=0?[-1-i.Xk[0]]:i.g;
for(var Y=0;Y<L.length;Y++){var l=L[Y],x=l<0?null:i.M[l],S={a:l,F$:l<0?1:x.ii};e.push(S);var k=i.T3[-1-l];
if(0<=l)k=x.ii<=0?null:x.ii==1?x.Re():x.x6(i).X;var f=k?k.rect:x.rect;if(i.u){S.TD=i.u.rect.G_(C||k!=null?z:f)}else S.TD=C||k!=null?f.Z0(z):f.clone();
if(m)S.TD=m[Y].TD.clone();var X=S.TD.P();S.Jg=I.R(X*4);if(k)$.N9.yl(k.channel,k.rect,k.color,S.Jg,S.TD);
else I.fF(x.buffer,f,S.Jg,S.TD);S.Td=S.Jg.slice(0);if(i.u){S.io=I.R(X);I.Vo(i.u.channel,i.u.rect,S.io,S.TD)}}return e};
$.q7.a1w=function(i,C,m){if(C==null)return C;var e=fp.kn(i,C),L;if(e==-1)return C;var z=m.length>>>2,l=I.so(m),x=.001*z;
if(e==0||e==2)L=[[0,255,0,255,100],$.q7.Gn(l[1],x,z,e==2),$.q7.Gn(l[2],x,z,e==2),$.q7.Gn(l[3],x,z,e==2)];
if(e==1)L=[$.q7.Gn(l[0],x*.33,z,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var S=ft.TQ("levl");
for(var Y=0;Y<4;Y++)ao.gH(S,Y,L[Y]);return S};$.q7.agW=function(i,C,m,e){var z,L;if(m.t=="name"){var l=0;
for(var x=0;x<i.M.length;x++)if(i.M[x].getName()==m.v.val)l=x;if(i==C&&l==e.a){z=e.Jg;L=e.TD}else{var S=i.M[l];
z=S.buffer;L=S.rect}}else{L=new j2(0,0,i.m,i.J);z=i==C?e.FY:i.I6()}return[z,L]};$.q7.prototype._P=function(i,C,m,e){if(this.ul==null){if(i.L0=="aply")m.M[m.g[0]].extend(new j2(0,0,m.m,m.J));
this.ul=$.q7.getData(m,null,i.L0=="fade"?m.$K().data:null);if(i.L0=="aply"||i.L0=="matc")this.ul[0].FY=m.I6()}if(i.d=="edit"){this.Rl=[i.L0,i.qg];
var z=this.ul[0],L=$.q7.a1w(i.L0,i.qg,z.Jg),l=fp.QV(i.L0,L);if(i.L0=="fade"||i.L0=="matc"||i.L0=="aply")l=i.qg;
if(l!=null){for(var x=0;x<this.ul.length;x++){var S=this.ul[x];if(i.qk)I.EP(S.Jg,S.Td);else if(i.L0=="fade"){var k=aw._A(i.qg.Md.v.BlnM),f=i.qg.Opct.v.val/100,X=m.$K().data[x];
I.EP(X.Jg,S.Td);if(k=="norm")I.l.ZC(S.Jg,S.TD,S.Td,S.TD,null,null,null,S.TD,f);else{var o=k4.Nk();o.eW=!0;
for(var Y=0;Y<X.Jg.length;Y+=4)if(X.Jg[Y+3]!=S.Jg[Y+3]){o=null;break}I.l.Qv(k,S.Jg,S.TD,S.Td,S.TD,S.TD,f,o)}}else if(i.L0=="matc"){var A;
if(l.noReference&&l.noReference.v)A=S.Jg;else{var P=l.Srce.v,F=P[1].v.val,n=C.dM,R=m;for(var Y=0;Y<n.length;
Y++)if(n[Y].name==F)R=n[Y];var Q=$.q7.agW(R,m,P[0],S);A=Q[0]}dB(S.Jg,S.TD.m,S.TD.J,A,S.Td,[l.Lght.v,l.ClrR.v,l.Fade.v,l.neutralizeColor?l.neutralizeColor.v:!1])}else if(i.L0=="aply"){l=l.With.v;
var s=l.T.v,Q=$.q7.agW(m,m,s[1],S),A=Q[0],j=Q[1],_=l.Clcl?l.Clcl.v.Clcn:null,k=_?aw._A(_):"norm",f=l.Opct?l.Opct.v.val/100:1,B=["RGB","Rd","Grn","Bl","Trsp"].indexOf(s[0].v.enum),L=l.Invr&&l.Invr.v;
if(L||B!=0){A=A.slice(0);if(L)I.auh(A);if(B!=0){var N=I.R(j.P());I.Ud(A,N,B-1);if(B==4)I.Fb(N);for(var a=0;
a<3;a++)I.uC(N,A,a)}}if(_=="Add"||_=="Sbtr"){var O=1/l.Scl.v,H=l.Ofst.v,q=_=="Add"?1:-1,h=new Uint8ClampedArray(S.Td.buffer);
for(var Y=0;Y<A.length;Y+=4){h[Y]=(S.Jg[Y]+q*A[Y])*O+H;h[Y+1]=(S.Jg[Y+1]+q*A[Y+1])*O+H;h[Y+2]=(S.Jg[Y+2]+q*A[Y+2])*O+H}}else{var o=k4.Nk();
o.eW=l.PrsT&&l.PrsT.v;S.Td.fill(0);S.Td.set(S.Jg);I.l.Qv(k,A,j,S.Td,S.TD,S.TD,f,o)}}else fp.ny(l,S.Jg,S.Td,S.TD)}$.q7.ZW(m,this.ul)}}if(i.d=="cancel"){$.q7.ajz(m,this.ul);
this.ul=null}if(i.d=="confirm"){var D={fade:[2,11],aply:[2,12],matc:[4,18]},T=D[i.L0];if(T==null)T=fp.names[i.L0];
var p=fp.kn(i.L0,this.Rl[1]);if(p!=-1)T=[4,16,p];$.q7.q2(m,this.ul,T,this);this.ul=null;if(p==-1)$.q7.Sm(C,this.Rl)}m.Y()};
$.q7.Sm=function(i,C){var m=C[0],e=C[1],z,L;if(fp.zB[m]){z=fp.zB[m];if(jg[m])L=e}if(ft.zB[m]){z=ft.zB[m];
if(jg[m])L=e}if(m=="fade"){z="fade";L=e}if(m=="matc"){z="matchColor";L=e}if(m=="aply"){z="applyImageEvent";
L=e}if(m=="GEfc"){if(L.GEfs)L=L.GEfs.v[0].v}if(z==null)return;var l=new eX(v.E.HW,!0);l.data={iO:!0,o0:z};
if(L){L=JSON.parse(JSON.stringify(L));l.data.t6=L}i.T(l)};$.q7.ajz=function(i,C){$.q7.E3(i,C)};$.q7.q2=function(i,C,m,e){for(var Y=0;
Y<C.length;Y++){var z=C[Y],L=i.M[z.a],l=z.a<0?i.T3[-1-z.a]:z.F$<=0?null:z.F$==1?L.Re():L.x6(i).X;if(l){l.gv();
l.kL=!0;if(L)L.rH(i)}else{L.gv();L.Y()}delete z.Td;delete z.io}var x=new fw(m,e);x.data=C;i.zN(x);i.gZ=!0};
$.q7.ZW=function(i,C,m){for(var Y=0;Y<C.length;Y++){var e=C[Y],z=i.M[e.a],L=m?e.Jg:e.Td,l=e.TD;if(e.F$==0){z.extend(l);
if(e.io){I.fF(e.Jg,l,z.buffer,z.rect);I.l.ZC(L,l,z.buffer,z.rect,e.io,l,0,l,1)}else I.fF(L,l,z.buffer,z.rect)}else{var x=e.a<0?i.T3[-1-e.a]:e.F$==1?z.Re():z.x6(i).X;
x.extend(l);if(e.io){var S=I.R(l.P()*4);I.EP(e.Jg,S);I.l.ZC(L,l,S,l,e.io,l,0,l,1);$.N9.jd(S,l,x)}else $.N9.jd(L,l,x);
x.kL=!0;if(z)z.rH(i)}if(z)z.Y()}if(!m)$.q7.aib(i,C)};$.q7.E3=function(i,C){for(var Y=0;Y<C.length;Y++){var m=C[Y],e=i.M[m.a],z=m.TD,L=I.R(z.P()*4);
if(m.F$==0){I.fF(e.buffer,e.rect,L,z);e.extend(z);I.fF(m.Jg,z,e.buffer,e.rect);e.gv()}else{var l=m.a<0?i.T3[-1-m.a]:m.F$==1?e.Re():e.x6(i).X;
$.N9.yl(l.channel,l.rect,l.color,L,z);l.extend(z);$.N9.jd(m.Jg,z,l);l.gv();l.kL=!0;if(e)e.rH(i)}m.Jg=L;
if(e)e.Y()}i.gZ=!0};$.q7.Di=function(i){var C=0;for(var Y=0;Y<i.length;Y++)C+=i[Y].Jg.length;return C};
$.q7.aib=function(i,C){var m=$.q7.anq(i),e=~m;if(m==16777215)return;for(var Y=0;Y<C.length;Y++){var z=C[Y],L=i.M[z.a],l=z.TD;
if(z.F$!=0)continue;L.extend(l);var x=l.x-L.rect.x,S=l.y-L.rect.y,k=L.rect.m,f=new Uint32Array(z.Jg.buffer),X=new Uint32Array(L.buffer.buffer);
for(var o=0;o<l.J;o++)for(var A=0;A<l.m;A++){var P=o*l.m+A,F=(o+S)*k+(A+x);X[F]=X[F]&m|f[P]&e}L.gv();
L.Y()}i.Y()};$.q7.anq=function(i){var C=i.q.O;return C[2]*16711680|C[1]*65280|C[0]*255};$.q7.prototype.qp=function(i,C){var m=C.M[i.a];
if(i.GZ!=null)m.add[fp.get(m.add)]=i.GZ;else $.q7.E3(C,i);C.Y()};$.q7.prototype.gT=function(i,C){var m=C.M[i.a];
if(i.GZ!=null)m.add[fp.get(m.add)]=i.yu;else $.q7.E3(C,i);C.Y()};$.q7.prototype.Di=function(i){return i.GZ==null?$.q7.Di(i):0};
$.fe=function(){$.KV.call(this,"Filter Edit",$.uz);this.ul=null;this.Rn=null;this.d=null;this.Rl=null};
$.fe.prototype=new $.KV;$.fe.prototype.X4=function(i,C,m,e,z){if(i.d=="start"){if(m.g.length==0)return;
var L=m.M[m.g[0]];if(L.add.SoLd&&L.ii<=0&&m.Xk.length==0){}else if(!m.vq(C,null,!0))return;var l=i.L0;
if((jg[l]||ft.s[l])&&i.qg==null){if(m.g.length!=1)alert("Will be applied to "+m.g.length+" layers.");
var x=new eX(v.E.H,!0);x.data=$.fe.adh(l,this.QT(m,l));C.T(x)}else{var S={d:"edit",L0:l,qg:i.qg,dh:this.QT(m)};
this.X4(S,C,m,e,z);S.d="confirm";delete S.qg;this.X4(S,C,m,e,z)}}if(i.d=="edit"||i.d=="cancel"||i.d=="confirm"){if(i.d=="edit")this.Rl=[i.L0,i.qg];
if(i.dh)this.ab8(i,C,m,z);else this.a20(i,C,m,z)}if(i.d=="applylast"&&this.Rl!=null){var S={d:"edit",L0:this.Rl[0],qg:this.Rl[1],dh:this.QT(m)};
this.X4(S,C,m,e,z);S.d="confirm";delete S.qg;this.X4(S,C,m,e,z)}};$.fe.adh=function(i,C){var m=ft.s[i];
if(m)return{d:v.B.n$,f:m,Hw:{dh:C}};else return{d:v.B.c6,pw:"afw_"+i,dh:C}};$.fe.prototype.QT=function(i,C){var m=i.M[i.g[0]],e;
if(m.add.SoLd&&m.ii<=0&&i.Xk.length==0){e={a:i.g[0],index:0};if(m.add.SoLd.filterFX!=null){var z=m.add.SoLd.filterFX.v.filterFXList.v;
e.index=z.length;for(var Y=0;Y<z.length;Y++)if(ft.C$(z[Y].v)==C&&ft.s[C])e.index=Y}}return e};$.fe.prototype.ab8=function(i,C,m,e){var z=m.M[i.dh.a],L=i.L0;
if(i.d=="edit"){if(this.d==null){var l=ft.names[L];if(l==null)l=fp.names[L];if(L=="blendOptions")l=[14,10];
this.d=new fw(l,this);this.d.data={dh:i.dh,ac2:JSON.parse(JSON.stringify(z.add.SoLd))}}if(!z.k_()){z.add.SoLd.filterFX=ft.sB();
var x=this.d.data.Vx=ei.azI(z.add.SoLd.placed.v);m.tH(x);if(m.u){x.X.channel=m.u.channel.slice(0);x.X.rect=m.u.rect.clone();
x.X.color=0;this.d.data.Ii=m.u;m.u=null}z.g1(m)}var S=z.add.SoLd.filterFX.v.filterFXList.v;if(S[i.dh.index]==null){S.push(ft.eF(L,e))}if(i.qg){S[i.dh.index].v.enab.v=i.qk!=!0;
if(L=="blendOptions")S[i.dh.index].v.blendOptions.v=i.qg;else S[i.dh.index].v.Fltr.v=i.qg}this.d.data.a5z=JSON.parse(JSON.stringify(z.add.SoLd));
this.gT(this.d.data,m)}if(i.d=="cancel"){if(this.d)this.qp(this.d.data,m);this.d=null}if(i.d=="confirm"){if(this.d)m.zN(this.d);
$.q7.Sm(C,this.Rl);this.d=null}};$.fe.prototype.Cl=function(i){return{Z:i>>>16,r:i>>>8&255,e:i&255}};
$.fe.prototype.a20=function(i,C,m,e){if(this.ul==null){var z=ft.oe(i.L0,i.qg);this.ul=$.q7.getData(m,z.x!=0||z.y!=0,i.L0=="VaPo"?[{TD:i.FY[1]}]:null)}if(i.d=="edit"){var L=JSON.stringify(i.qg);
if((i.qg==null||L!=this.Rn)&&i.qk!=!0)for(var Y=0;Y<this.ul.length;Y++){var l=this.ul[Y],x={rect:l.TD,buffer:l.Jg},S={rect:l.TD,buffer:l.Td};
if(i.L0=="Avrg"&&l.io){x.buffer=l.Jg.slice(0);I.z8(l.io,x.buffer)}ft.ny(i.L0,x,i.qg,this.Cl(e.Dm),this.Cl(e.yv),S,[m.add.lnk2?m.add.lnk2:[],m.M[m.g[0]].Re(),m.T3,m.bM()]);
if(i.L0=="VaPo"){I.fF(i.FY[0],i.FY[1],S.buffer,S.rect)}if(i.L0=="Avrg"&&l.io){var k=l.Jg.length;for(var Y=0;
Y<k;Y+=4)l.Td[Y+3]=l.Jg[Y+3]}this.Rn=L}$.q7.ZW(m,this.ul,i.qk)}if(i.d=="cancel"){$.q7.ajz(m,this.ul);
this.ul=null;this.Rn=null}if(i.d=="confirm"){if(i.L0=="VaPo"){this.ul.aCF=JSON.stringify(m.WT);this.ul.zT=JSON.stringify(i.b);
m.WT=i.b}$.q7.q2(m,this.ul,ft.names[i.L0],this);this.ul=null;this.Rn=null;$.q7.Sm(C,this.Rl)}m.Y();m.gZ=!0};
$.fe.prototype.qp=function(i,C){if(i.zT)C.WT=JSON.parse(i.aCF);if(i.dh){var m=C.M[i.dh.a];if(i.Vx)C.UP(i.Vx);
if(i.Ii)C.u=i.Ii;m.add.SoLd=JSON.parse(JSON.stringify(i.ac2));if(m.k_())m.mm(C);else{m.g1(C);m.ii=0}}else $.q7.E3(C,i);
C.Y();C.gZ=!0};$.fe.prototype.gT=function(i,C){if(i.zT)C.WT=JSON.parse(i.zT);if(i.dh){var m=C.M[i.dh.a];
if(i.Vx)C.tH(i.Vx);if(i.Ii)C.u=null;m.add.SoLd=JSON.parse(JSON.stringify(i.a5z));if(m.k_())m.mm(C);else m.g1(C);
if(!m.ez())m.de+=32}else $.q7.E3(C,i);C.Y();C.gZ=!0};$.fe.prototype.Di=function(i){return i.dh==null?$.q7.Di(i):0};
var dm={cX:"0",go:"1",AU:"2",ij:"3",nM:"3.5",nx:"4",nZ:"5",Tl:"6",Pe:"7",v:"8",tM:"8.5",K1:"8.8",r3:"9",sY:"10",QI:"11",w4:"12",$w:"13",Vy:"14",jl:"15",e1:"16",QB:"17",gm:"18",li:"21",YT:"22",e$:"23",Yb:"23.0",Jz:"23.1",Ob:"23.2",ou:"23.3",Pw:"23.4",$k:"23.5",bu:"23.6",aAB:"30",hD:"31",Zr:"40",Vr:"41",bK:"42"};
dm.Gh={};dm.Gh[dm.go]=["abr","brushes",bN,[9,3],3];dm.Gh[dm.AU]=["grd","gradients",iZ,[12,37],4];dm.Gh[dm.ij]=["shc","contours",bp,[12,21],0];
dm.Gh[dm.nM]=["acv","curves",aA,[4,2],0];dm.Gh[dm.nx]=["asl","styles",fT,[12,22],5];dm.Gh[dm.nZ]=["pat","patterns",cv,[12,62],6];
dm.Gh[dm.Tl]=["csh","shapes",cV,[12,77],7];dm.Gh[dm.Pe]=["aco","swatches",j1,[9,8],0];dm.Gh[dm.v]=["atn","actions",jX,[9,9],2];
dm.Gh[dm.tM]=["tpl","tpresets",gp,[9,12],0];dm.Gh[dm.K1]=["icc","profiles",gb,"LUTs",8];function fw(i,C,m){if(m==null)m=!1;
this.name=i;this.f=C;this.Zw=m;this.data=null;this.a0b=Date.now()}fw.prototype.Di=function(){return this.f?this.f.Di(this.data):0};
var h3={};h3.Ei=function(i,C){var m={t:"Clss",v:{classID:i}};if(C)m={t:"Enmr",v:{classID:i,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[m]}};h3.RT=function(i,C){var m={classID:"Lyr"};m[i]=C;return{o0:"set",t6:{classID:"null",null:h3.Ei("Lyr",!0),T:{t:"Objc",v:m}}}};
h3.a9o=function(i,C,m,e,z){var L=new eX(v.E.HW,!0),l=[],Y=0,x=h3.Ig(C,m,e,l);while(l.length!=0){var S=l.pop();
Y++;if(!S.w)continue;console.log(Y-1);if(S.o0=="conditional"){var k=i.M[i.g[0]],f=S.t6.null.v.Cndt,X=!1;
if(f=="Bckg")X=!1;else if(f=="Pxel"&&i.KT(!1))X=!0;else if(f=="Adjs"&&fp.get(k.add))X=!0;else if(f=="Shp"&&k.add.vogk)X=!0;
else if(f=="Grup"&&k.yJ())X=!0;else if(f=="Opn"&&i!=null)X=!0;else if(f=="32Bt")X=!1;else if(f=="RGB")X=!0;
var o=S.t6.then,A=S.t6.else;if(X&&o)h3.Ig(C,o.v[0].v.val,o.v[1].v.val,l);if(!X&&A)h3.Ig(C,A.v[0].v.val,A.v[1].v.val,l)}else if(S.o0=="stop"){if(S.t6.Cntn&&S.t6.Cntn.v==!0)window.confirm(S.t6.Msge.v);
else{alert(S.t6.Msge.v);break}}else if(S.o0=="play"){var P=S.t6.null.v,F=new eX(v.E.H,!0);F.data={d:v.B.bF,BR:[P[0].v.val,P[1].v.val]};
z.T(F)}else{L.data={o0:S.o0,t6:S.t6};z.T(L)}}};h3.rM=function(i,C,m){var e;for(var Y=0;Y<i.length;Y++){if(i[Y].jj!=m)continue;
var z=i[Y].eo;for(var L=0;L<z.length;L++){if(z[L].jj!=C)continue;e=z[L]}}return e};h3.Ig=function(i,C,m,e){var z=h3.rM(i,C,m).eo,L=z.length;
for(var Y=0;Y<L;Y++)e.push(z[L-1-Y])};h3.ahW=function(i){var C=i.o0,m=i.t6,e,l,x,S,k;if(m&&m.null)e=m.null.v[0];
if(m&&e==null&&m.At)e=m.At.v[0];if(e&&e.t=="obj ")e=e.v[0];var z=e&&e.v?e.v.classID:null,L=["purge"];
if(L.indexOf(C)!=-1)return C[0].toUpperCase()+C.slice(1);if(C=="GEfc"||C=="paintDaubs")return a9.names[m.GEfk.v.GEft][1];
k=fp.zB;for(l in k)if(k[l]==C)x=l;k=ft.zB;for(l in k)if(k[l]==C)S=l;k=ft.zB;for(l in k)if(l==C)S=l;if(x){var f=fp.kn(x,m);
if(f!=-1)return[4,16,f];return fp.names[x]}if(S)return ft.names[S];var X=h3.a2F;if(C=="make"){if(e){if(z=="AdjL")return[6,1];
else if(z=="layerSection")return m.From?[6,9]:[6,20];else if(z=="Lyr")return[6,13];else if(z=="Chnl"&&e.v.enum=="Msk")return[6,2];
else if(z=="contentLayer")return[6,48,1];else if(z=="BckL")return"Make Background Layer";else if(z=="Path")return"Make Path";
else if(z=="TxLr")return"Make Text Layer";else if(z=="slice")return"Make Slices";else if(z=="Dcmn")return[11,7];
else if(z=="Gd")return[23,4]}if(m.Nw){z=m.Nw.v.classID;if(z=="Dcmn")return[11,7];else if(z=="Chnl"||z=="SCch")return"New Channel"}}else if(C=="deselect"){if(z=="Path")return"Deselect current path";
else throw z}else if(C=="draw"){return"Draw"}else if(C=="select"){if(z=="Chnl"){var o={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[e.v.enum];
if(o==null)o="";return"Select "+o+" Channel"}else if(z=="Mn")return"Select Panel \""+e.v.enum+"\"";else if(z=="Lyr"){if(e.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[e.v.enum]+" Layer";
return"Select Layer \""+e.v.val+"\""}else if(z=="Path")return"Select Path";else if(z=="Brsh")return"Select Brush";
else if(z=="Dcmn")return"Select Document"}else if(X[C]&&z=="Chnl"){var A=e.v.keyID=="fsel";return X[C]+" "+(A?"Selection":"Channel")}else if(C=="set"){if(z=="Lyr")return"Set Current Layer";
else if(z=="AdjL")return[6,39];else if(z=="contentLayer")return[6,48,2];else if(z=="Prpr"){var P=e.v.keyID;
if(P=="TxtS")return"Set Text Style";else if(P=="paragraphStyle")return"Set Paragraph Style";else if(P=="Lefx")return[11,6];
else console.log(P)}else if(z=="Clr")return"Set "+(e.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(z=="Brsh")return"Set Brush";else if(z=="Path")return"Set Work Path";else console.log(z)}else if(C=="move"){if(z=="Lyr")return"Move Layer";
else if(z=="Chnl"&&e.v.keyID=="fsel")return[7,7];else console.log(z)}else if(C=="show"||C=="hide"){var F="";
if(z=="Lyr")F="Layer";if(z=="Chnl")F="Channel";if(z=="filterFX")F="Filter Effect";return(C=="show"?"Show":"Hide")+" "+F}else if(C=="reset"){if(z=="Clr")return"Reset Colors"}else if(C=="exchange"){if(z=="Clr")return[22,7,0]}else if(C=="rotateEventEnum")return[2,5];
else if(C=="flip"){var n=m.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,n?2:3]]}if(C=="duplicate"&&z=="Dcmn")return"Duplicate first document";
if(z=="Chnl"){if(C=="duplicate"){if(e.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(C=="delete")return"Delete Channel"}if(C=="transform")return e&&e.v.keyID=="fsel"?[7,10]:[10,16];
var R={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:m?z=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},Q=R[C];
if(Q==null)Q=h3.akj[C];if(Q)return Q;return C};h3.akj={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
h3.a2F={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
h3.ajd=function(i,C,m,e){var z=i.o0,L=i.t6,l=!1,x=new eX(v.E.v,!0),o,A,P,F;x.f=$.bH;var S=new eX(v.E.H,!0),f=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(f.indexOf(z)!=-1)return;var X=z;while(X.length<4)X+=" ";F=fp.zB;for(o in F)if(F[o]==X)A=o;F=ft.zB;
for(o in F)if(F[o]==X)P=o;F=ft.zB;for(o in F)if(o==X)P=o;if(z=="fade")A=z;if(z=="matchColor")A="matc";
if(z=="applyImageEvent")A="aply";if(A){x.f=$.vR;x.data={d:"start",GT:A,qg:L}}else if(P){x.f=$.uz;x.data={d:"start",L0:P,qg:L}}else if(z=="GEfc"||z=="paintDaubs"){x.f=$.uz;
x.data={d:"start",L0:"GEfc",qg:L}}else if(z=="imageSize"||z=="canvasSize"||z=="revealAll"||z=="trim"||z=="crop"){x.f=$.b7;
x.data={d:"fromAction",bG:i}}else if(z=="fill"||z=="stroke"||z=="delete"&&L==null){var n=null;if(e.g.length!=0)n=e.M[e.g[0]];
var R=I.dK(m.Dm);if(n!=null&&z=="fill"&&n.add.TySh){var Q="var c = new SolidColor();  c.rgb.red="+R.Z+";  c.rgb.green="+R.r+";  c.rgb.blue="+R.e+";  app.activeDocument.activeLayer.textItem.color = c;";
S.data={d:v.B._i,QC:Q}}else if(n!=null&&z=="delete"&&n.add.TySh){x.f=$.ck;x.data={d:"insertText",b:""}}else if(n!=null&&z=="fill"&&n.Q9()){var x=new eX(v.E.HW,!0),L={classID:"setd",null:h3.Ei("contentLayer",!0),T:{t:"Objc",v:{}}};
$.a5.IP({Clr:{t:"Objc",v:I.I.$q(I.dK(m.Dm))}},L.T.v,0);x.data={o0:"set",t6:L};C.T(x);return}else if(z=="stroke"&&L&&L.null==null){x.f=$.sc;
x.data={d:"stroke",aoE:L}}else{if(z=="stroke"&&L&&L.Usng)x.f=$.zB[L.Usng.v.classID];else x.f=m.jw==$.nV?$.nV:$.go;
x.data={d:"fromAction",bG:i}}}else if(z=="colorRange"||z=="grow"||z=="similar"){x.f=$.zP;x.data={d:"fromAction",bG:i}}else if(z=="set"&&L&&L.T&&L.T.v.Ordn=="Al"&&m.jw==$.ck&&C.Dh()._$()){x.f=$.ck;
x.data={d:"selectAll"}}else if(h3.akj[z]||h3.a2F[z]&&(!1||L.With&&L.With.v[0].v.keyID=="fsel"||L.From&&L.From.v[0].v.keyID=="fsel"||L.null&&L.null.v[0].v.keyID=="fsel"||L.T.v[0]&&L.T.v[0].v.keyID=="fsel")){x.f=$.iH;
x.data={d:"fromAction",bG:i}}else if(z=="rasterizeLayer"){x.data={d:L.What?cc.avc:cc.jG}}var s={copyToLayer:cc.Be,cutToLayer:cc.g5,mergeLayersNew:cc.x_,mergeVisible:cc.gb,flattenImage:cc.aqP,newPlacedLayer:cc.o3};
if(s[z])x.data={d:s[z],t6:L};if(x.data){C.T(x);return}if(z=="collapseAllGroupsEvent"){for(var Y=0;Y<e.M.length;
Y++){var n=e.M[Y];if(n.yJ())n.add.lsct=aU.Lp}e.sa=!0;return}if(z=="desaturate"||z=="Dstt"){x.f=$.vR;
x.data={d:"auto",xk:3};if(e&&e.M[e.g[0]].add.SoLd==null)C.T(x);return}if(z=="close"){if(L&&L.Svng.v.YsN=="Ys"){S.data={d:v.B.pt};
C.T(S)}S.data={d:v.B.P4,N7:e};C.T(S);return}if(z=="save"){S.data={d:v.B.pt};C.T(S);return}if(z=="copyMerged"){S.data={d:v.B.kk,lk:!0,PF:!0};
C.T(S);return}if(z=="placedLayerReplaceContents")S.data={d:v.B.mp,Lv:!0};var s={placedLayerEditContents:v.B.arD,placedLayerExportContents:v.B.acs,copyEvent:v.B.kk,paste:v.B.nT};
if(s[z])S.data={d:s[z],PF:!0};if(S.data){C.T(S);return}var j=L.null?L.null.v:null,_=j?j[0].v.classID:"";
if(z=="make"){if(L.null==null&&L.Nw)_=L.Nw.v.classID;if(_=="AdjL"){x.data={d:cc.S9,t6:L}}else if(_=="layerSection"){x.data=L.From?{d:cc.X6}:{d:cc.wf};
if(L.Usng){var B=L.Usng.v;if(B.Nm)x.data.TA=B.Nm.v;if(B.Clr)x.data.rB=h3.aN(B)}}else if(_=="Lyr"){if(L.Usng&&L.Usng.v.length==2)x.data={d:cc.aiT};
else{x.data={d:cc.q3};if(L.Usng)x.data.TA=L.Usng.v.Nm.v;if(L.below&&L.below.v)x.data.aj4=!0}}else if(_=="Chnl"&&L.At&&L.At.v[0].v.enum=="Msk"){x.data={d:cc.XE,VU:L.Usng.v.UsrM}}else if(_=="Chnl"||_=="SCch"){x.data={d:cc.kP,Tt:"fromAction",b:i}}else if(_=="contentLayer"){x.data={d:cc.OX,t6:L}}else if(_=="BckL"){e.M[e.g[0]].a4T();
return}else if(_=="Dcmn"){if(L.Nw==null)return;var N=L.Nw.v;S.data={d:v.B.D7,n4:ei.aaJ(N,m)}}else if(_=="Ptrn")S.data={d:v.B.ss,N5:0};
else if(_=="Path"){var a=L.At;if(a&&a.v&&a.v[0]&&a.v[0].v&&a.v[0].v.enum=="vectorMask"){x.f=$.bH;var O=L&&L.Usng&&L.Usng.v.vectorMaskEnabled=="RvlA";
x.data={d:cc.gj,SX:!O}}else{x.f=$.iF;x.data={d:"pathedit",Tt:"fromsel"}}}else if(_=="TxLr"){x.f=$.ck;
x.data={d:"fromAction",bG:i}}else if(_=="slice"){x.f=$.$r;x.data={d:"fromAction",bG:i}}else if(_=="Gd"){var H=[[],[]],N=L.Nw.v;
H[N.Ornt.v.Ornt=="Vrtc"?0:1].push(N.Pstn.v.val);var q=kv.FZ(H);$.a8.tf(q,e.pR());x.f=$.z_;x.data={d:"gids",Y$:q}}else{console.log(z,_,L);
throw"e"}}else if(z=="divide"){x.f=$.$r;x.data={d:"fromAction",bG:i}}else if(z=="deselect"){if(_=="Path"){e.ft=[];
e.Ep=[];e.sa=e.Qq=!0;return}else throw _}else if(z=="selectNoLayers"){e.g=[];e.gZ=!0}else if(z=="selectAllLayers"){e.g=[];
for(var Y=0;Y<e.M.length;Y++)e.g.push(Y);e.gZ=!0;return}else if(z=="select"){var h=$.zB;if(_=="Lyr"){var D=L.selectionModifier,T=D?D.v.selectionModifierType:null,p=h3.Yk(e,j[0]),y=0;
if(p==-1){alert("Layer "+j[0].v.val+" does not exist.");return}var n=e.M[p];if(n.yJ()&&n.Re()&&D==null)y=1;
x.data={d:cc.yL,a:p,kJ:T?["addToSelection","addToSelectionContinuous"].indexOf(T):null,JI:y}}else if(_=="Path"){if(j[0].v.keyID=="WrPt"){e.ft=[0];
e.sa=e.Qq=!0;return}else throw j[0]}else if(_=="Chnl"){var b=j?j[0].v.enum:"",g=["Rd","Grn","Bl"].indexOf(b);
if(g!=-1){var u=L.Extd&&L.Extd.v?e.q.O.slice(0):[0,0,0];u[g]=1;x.f=$.dq;x.data={d:"setcls",O:u}}else x.data={d:cc.yL,a:p,JI:b=="RGB"?0:1}}else if(_=="Dcmn"){if(C.dM.length<2)return;
S.data={d:v.B.ayE,dir:L.null.v[0].v.val}}else if(_=="Brsh"){var t=m.iy.list,V;for(var Y=0;Y<t.length;
Y++){if(t[Y].v.Nm.v.split("/").pop()==j[0].v.val)V=t[Y].v}if(m.jw==$.z_){S.data={d:v.B.n$,f:$.go};C.T(S)}S.data={d:v.B.Mc,N5:dm.Vy,nE:V}}else if(_=="Mn"){if(j[0].v.enum=="Scl")S.data={d:v.B.n$,f:$.yn,Hw:{VU:3}};
if(j[0].v.enum=="Plce")S.data={d:v.B.mp,ao4:!0};if(j[0].v.enum=="ZmIn"){x.f=$.BM;x.data={d:"zoom",u7:!0}}if(j[0].v.enum=="ZmOt"){x.f=$.BM;
x.data={d:"zoom",u7:!1}}if(j[0].v.enum=="FtOn"){x.f=$.BM;x.data={d:"adapt",b:"fitscr"}}}else if(h[_]){S.data={d:v.B.n$,f:h[_]}}else throw _}else if(z=="draw"){x.f=$.iF;
x.data={d:"fromAction",bG:i}}else if(z=="gradientClassEvent"){x.f=$.t8;x.data={d:"fromAction",bG:i}}else if((z=="set"||z=="reset"||z=="exchange")&&_=="Clr"){S.data={d:v.B.Mc,N5:dm.li,Tt:z=="reset"?3:2};
if(z=="set"){S.data.Tt=j[0].v.keyID=="FrgC"?0:1;var c=I.I.oq(L.T.v);S.data.b=c.Z<<16|c.r<<8|c.e}}else if(z=="set"){if(_=="AdjL"){var E=L.T.v.classID;
E=fp.TX[E];x.f=$.vR;if(E)x.data={d:"edit_layer",b:L.T.v}}else if(_=="Lyr"){var Z=L.T.v,p=h3.Yk(e,j[0]);
for(var G in Z){if(G=="classID")continue;x.f=$.bH;if(G=="Nm")x.data={d:cc.DL,name:Z.Nm.v};else if(G=="Opct")x.data={d:cc.kM,yu:Math.round(Z.Opct.v.val*255/100)};
else if(G=="fillOpacity")x.data={d:cc.uk,yu:Math.round(Z.fillOpacity.v.val*255/100)};else if(G=="Md")x.data={d:cc.sE,yu:aw.W5.indexOf(Z.Md.v.BlnM)+(e.M[p].yJ()?1:0)};
else if(G=="Usrs")x.data={d:cc.Wk,a:p};else if(G=="Blnd"){x.f=$.$Z;x.data={d:"setstl",a:p,b:{blendOptions:{t:"objc",v:Z}}};
C.T(x);x.data={d:"confirm",a:p}}else if(G=="userMaskFeather"||G=="userMaskDensity"){var J=Z.userMaskFeather,K=Z.userMaskDensity,p=e.g[0],M=e.M[p].uo(0);
if(J)M.cc=J.v.val;if(K)M.hr=K.v.val;x.data={d:cc.op,gg:p,rx:M}}else if(G=="Clr"){var R=h3.aN(Z);x.data={d:cc.Bn,a3M:R}}else if(G=="Lefx")h3.axf(C,p,Z.Lefx.v,m);
else{console.log(L);throw G}if(x.data){C.T(x);delete x.data}}x.data={};var n=e.M[p];n.a1C()}else if(_=="Prpr"){var Z=JSON.parse(JSON.stringify(L.T.v)),p=h3.Yk(e,L.null.v[1]),n=e.M[p],U=j[0].v.keyID;
if(U=="TxtS"||U=="paragraphStyle"){var r=n.add.TySh,dS=JSON.parse(JSON.stringify(r.Wg)),w=e7.lD(dS),di=e7.IF(dS,0,w.length-2);
if(U=="TxtS")e7.ag2(Z,di);else e7.atl(Z,di);e7.Bl(dS,0,w.length-1,di);x.f=$.ck;x.data={d:"newED",HV:p,Ok:dS}}else if(U=="Lefx"){for(var eM in Z)if(Z[eM].v){if(eM=="Scl")Z[eM].v.val=100}h3.axf(C,p,Z,m);
x.data={}}else throw U}else if(_=="contentLayer"){var p=h3.Yk(e,j[0]),Z=L.T.v,j5=!0;if(Z.classID=="shapeStyle"){if(Z.strokeStyle){Z=Z.strokeStyle.v;
j5=!1}else Z=Z.FlCn.v}if(j5){var ds={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Z.classID],ba=jt.FU(e.M[p].add),P=ba.C9==ds+1?ba.Zc:jt.$i[ds];
P=JSON.parse(JSON.stringify(P));$.a5.IP(Z,P,ds);x.data={d:cc.p1,na:[p],g2:!0,b:{C9:ds+1,Zc:P}}}else{var gH=JSON.parse(JSON.stringify(e.M[p].add.vstk));
for(var eM in Z)gH[eM]=Z[eM];x.data={d:cc.p1,na:[p],g2:!1,b:gH}}}else if(_=="Brsh"){var V=JSON.parse(JSON.stringify(m.iy.n_)),ir=L.T.v;
if(ir.masterDiameter)V.Brsh.v.Dmtr.v.val=ir.masterDiameter.v.val;else console.log("unknown brush parameters");
S.data={d:v.B.Mc,N5:dm.Vy,nE:V}}else if(_=="Path"){x.f=$.iF;x.data={d:"fromAction",bG:i}}else{console.log(j[0],L);
throw _}}else if(z=="move"){if(_=="Lyr"){var Z=L.T.v;if(Z.classID=="Ofst"){x.data={d:"trsl",a2:Z.Hrzn.v.val,NA:Z.Vrtc.v.val};
x.f=$.z_}else{var iy,iG;if(Z[0].t=="Enmr"){if(Z[0].v.enum=="Frnt")iG=0;else if(Z[0].v.enum=="Nxt")iG=1;
else if(Z[0].v.enum=="Prvs")iG=2;else if(Z[0].v.enum=="Back")iG=3;else throw"e"}else iy=Z[0].v.val;x.data={d:cc.LF,target:iy,Tt:iG,amW:L.Dplc?L.Dplc.v:!1}}}else if(_=="Chnl"&&j[0].v.keyID=="fsel"){x.f=$.iH;
x.data={d:"fromAction",bG:i}}}else if(z=="groupEvent"||z=="ungroup")x.data={d:cc.nu};else if(z=="show"||z=="hide"){var eg=L.null.t;
if(eg=="obj "){if(j[0].v.val!=null)x.data={d:cc.nH,index:j[0].v.val-1};else x.data={d:cc.gk}}else if(eg=="VlLs"){var _=j[0].v[0].v.classID;
if(_=="Chnl")x.data={d:cc.kP,Tt:"fromAction",b:i};else{var du=_=="filterFX"?j:j[0].v;for(var Y=0;Y<du.length;
Y++){if(_=="filterFX")x.data={d:cc.nH,index:du[Y].v[0].v.val-1};else{var p=h3.Yk(e,du[Y]),gh=e.M[p].gF();
if(z=="show"&&gh||z=="hide"&&!gh)continue;x.data={d:cc.at,na:[p]}}C.T(x)}return}}else throw eg}else if(z=="rotateEventEnum"){x.f=_=="Lyr"?$.yn:$.b7;
var ga=L.Angl.v.val;x.data={d:"rot",jj:[2,5],b:-ga*Math.PI/180}}else if(z=="flip"){x.f=_=="Lyr"?$.yn:$.b7;
var d5=L.Axis.v.Ornt=="Hrzn",fu=d5?new b5(-1,1):new b5(1,-1);x.data={d:"scl",jj:[[2,6],[22,4,d5?2:3]],b:fu}}else if(z=="transform"){var ay=1,c7=1,eE=0,jn=0,dI=0,dQ=0,jo=0,ii=null,d_=null;
if(L.Wdth)ay=L.Wdth.v.val/100;if(L.Hght)c7=L.Hght.v.val/100;if(L.Skew){var hT=L.Skew.v;eE=hT.Hrzn.v.val;
jn=hT.Vrtc.v.val}if(L.Ofst){var ea=L.Ofst.v;dQ=ea.Hrzn.v.val;jo=ea.Vrtc.v.val}if(L.Angl)dI=L.Angl.v.val;
var b9=new hN;b9.concat(new hN(ay,ay*Math.tan(jn*Math.PI/180),c7*Math.tan(eE*Math.PI/180),c7,0,0));b9.rotate(-dI*Math.PI/180);
b9.translate(dQ,jo);var bI=I.D.fL(b9);if(L.Usng){var ea=L.Usng.v;bI[6]=ea.Hrzn.v.val/100;bI[7]=ea.Vrtc.v.val/100}var c4=L.FTcs.v.QCSt;
if(c4=="Qcsi"){var kG=L.Pstn.v;ii=new b5(kG.Hrzn.v.val,kG.Vrtc.v.val)}else d_=$.V.aAU[c4];var j=L.null;
if(j&&j.v instanceof Array)j=j.v[0];var p=j?h3.Yk(e,j):null;if(p==-1)p=null;x.f=j&&j.v.keyID=="fsel"?$.Ta:$.yn;
x.data={d:"dtr",h8:d_,b:bI,mG:L.warp,a31:ii}}else if(z=="duplicate"){if(_=="Chnl")x.data={d:cc.kP,Tt:"fromAction",b:i};
else if(_=="Dcmn"){var fC=i$.AL("PSD").B3(e);g_.Jl({url:e.name},fC,C);return}else if(_=="Actn"){var bO=m.ai,id=j[1].v.val,a5=null;
for(var Y=0;Y<bO.length;Y++)if(bO[Y].jj==id)a5=bO[Y];var eU=h3.rM(bO,j[0].v.val,id);eU=JSON.parse(JSON.stringify(eU));
eU.jj+=" copy";a5.eo.push(eU);return}else x.data={d:cc.Ev,TA:L.Nm?L.Nm.v:null}}else if(z=="delete"){if(_=="filterFX"){if(j[0].v.val!=null)x.data={d:cc.jP,KJ:j[0].v.val-1};
else x.data={d:cc.pZ}}else if(_=="Path"){x.f=$.iF;x.data={d:"pathedit",Tt:"del"}}else if(_=="Lyr")x.data={d:cc.$U};
else if(_=="Chnl"&&j[0].v.enum=="Msk")x.data={d:cc.Eh};else if(_=="Chnl")x.data={d:cc.kP,Tt:"fromAction",b:i};
else if(_=="Cmnd"){var bO=m.ai,id=j[2].v.val,eU=h3.rM(bO,j[1].v.val,id);eU.eo.splice(j[0].v.val-1,1);
return}else if(_=="Actn"){var bO=m.ai,id=j[1].v.val,a5=null;for(var Y=0;Y<bO.length;Y++)if(bO[Y].jj==id)a5=bO[Y];
var eU=h3.rM(bO,j[0].v.val,id);a5.eo.splice(a5.eo.indexOf(eU),1);return}else throw _}else if(z=="align"){if(L.Aply&&L.Aply.v.projection=="Auto"){x.f=$.b7;
x.data={d:"auto-align"}}else{x.f=$.z_;var af=L.Usng.v.ADSt,A={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[af];
if(A==null)throw af;x.data={d:"algn",b:A}}}else if(z=="applyLocking"){var a7=L.layerLocking.v,g$;if(a7.protectTransparency)g$=[[a7.protectTransparency.v],[0]];
else if(a7.protectNone)g$=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(a7);throw"e"}x.data={d:cc.g$,yu:g$}}if(x.data)C.T(x);
else if(S.data)C.T(S);else{console.log(i);alert("Unknown action \""+z+"\"");throw"e"}};h3.axf=function(i,C,m,e){m=JSON.parse(JSON.stringify(m));
cX.Oi(m);if(m.masterFXSwitch==null)m.masterFXSwitch={t:"bool",v:!0};console.log(m);var z=jt.m8;for(var L=0;
L<z.length;L++)if(m[z[L]]){for(var Y=0;Y<m[z[L]].v.length;Y++){var l=m[z[L]].v[Y].v;for(var x=0;x<2;
x++){var S=l[x==0?"TrnS":"MpgS"];if(S&&S.v.Crv==null){var k=S.v,f=k.Nm.v.split("=").pop(),X=e.Y7;for(var o=0;
o<X.length;o++){var A=X[o].Nm.v.split("=").pop();if(A==f)k.Crv=JSON.parse(JSON.stringify(X[o].Crv))}if(S.v.Crv==null){console.log(S);
throw"e"}}}}}var P=new eX(v.E.v,!0);P.f=$.$Z;P.data={d:"setstl",a:C,b:{Lefx:{t:"objc",v:m}}};i.T(P);
P.data={d:"confirm",a:C};i.T(P)};h3.aN=function(i){var C={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[i.Clr.v.Clr];
if(C==null)throw i.Clr.v.Clr;return C};h3.Yk=function(i,C){var m=1e6,e=0,z=i.M.length;for(var Y=0;Y<i.g.length;
Y++){m=Math.min(m,i.g[Y]);e=Math.max(e,i.g[Y])}var L=C.t,l=-1;if(L=="name"){var x=C.v.val,l=-1;for(var Y=0;
Y<z;Y++)if(i.M[Y].getName()==x){l=Y;break}}else if(L=="Enmr"){if(i.g.length!=0)l=i.g[0];if(C.v.enum=="Frwr")l=e+1;
if(C.v.enum=="Bckw")l=m-1;if(C.v.enum=="Back")l=0;if(C.v.enum=="Frnt")l=z-1;l=(l+z)%z}else if(L=="prop"){if(C.v.keyID=="Bckg")l=0}else if(L=="indx")l=C.v.val-1;
return l};var fp={};fp.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
fp.azL=["expA","clrL","selc"];fp.s$=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];fp.arg=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
fp.HO=[[13,1,1],[13,1,4],[13,1,5]];fp.fO={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
fp.TX=function(){var i=JSON.parse(JSON.stringify(fp.fO));delete i.GrMp;i.GdMp="grdm";return i}();fp.zB={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
fp.keys={levl:[jD.Uj,jD.nJ],curv:[jD.Uj,jD._X],hue2:[jD.Uj,jD.wA],nvrt:[jD.Uj,jD.k$],blnc:[jD.Uj,jD.ns]};
fp.akr=function(i){var C=ft.TQ("mixr");C.Mnch={t:"bool",v:i.bg};function m(e,Y){var z={classID:"ChMx"},L={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in L)z[l]={t:"UntF",v:{type:"#Prc",val:e[Y+L[l]]}};return{t:"Objc",v:z}}if(i.bg)C.Gry=m(i.b,0);
else{C.Rd=m(i.b,0);C.Grn=m(i.b,5);C.Bl=m(i.b,10)}return C};fp.kY=function(i){function C(e,z,Y){var L={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in L)if(e[l])z[Y+L[l]]=e[l].v.val}var m={bg:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(i.Mnch&&i.Mnch.v)m.bg=!0;if(m.bg)C(i.Gry.v,m.b,0);else{C(i.Rd.v,m.b,0);C(i.Grn.v,m.b,5);C(i.Bl.v,m.b,10)}return m};
fp.get=function(i){for(var C in fp.names)if(i[C]!=null)return C;return null};fp.QV=function(i,C){var m=fp.SU,e;
if(i=="brit"){var z=C.Brgh?C.Brgh.v:0,L=C.Cntr?C.Cntr.v:0,l=C.useLegacy?C.useLegacy.v:!1;if(l){var x=z/255,S=1+L/100;
if(S>1)S=1+Math.tan(Math.PI/2*L/101);var k=(1-S)/2,f=I.X$.C7(x,x,x),X=[S,0,0,k,0,S,0,k,0,0,S,k,0,0,0,1],o=I.X$.multiply(X,f),A=new I.RV(256);
for(var Y=0;Y<256;Y++)A.Z[Y]=Y;I.X$.transform(A,A,o);e={type:m.uX,$C:A.Z,ry:A.Z,Vq:A.Z,Jf:!1,Mu:!1}}else{var P=1024,F=-30+60*(L+100)/200,n=[];
for(var Y=0;Y<4;Y++)n.push(I.$l.$z(Y/3*255,Y/3*255,!0));n[1].v.Hrzn.v=64;n[1].v.Vrtc.v=64-F;n[2].v.Hrzn.v=128+64;
n[2].v.Vrtc.v=128+64+F;n.sort(function(at,aZ){return at.v.Hrzn.v-aZ.v.Hrzn.v});var R=I.$l.SV(n,P);function Q(at,P){var n=[],k7=3;
for(var Y=0;Y<k7+1;Y++)n.push(I.$l.$z(Y/k7*255,Y/k7*255,!0));n[1].v.Hrzn.v=130-at*26;n[1].v.Vrtc.v=130+at*51;
n[2].v.Hrzn.v=233-at*48;n[2].v.Vrtc.v=233+at*10;return I.$l.SV(n,P)}var s=Q(Math.abs(z)/100,P);if(z<0){var j=[],_=1/P;
for(var Y=0;Y<P;Y++){var B=Y*_,N=Y;while(s[N]>B&&N>1)N--;j[Y]=N*_}s=j}var a=new Uint8Array(P);for(var Y=0;
Y<P;Y++){var O=Math.round((P-1)*s[Y]);a[Y]=Math.round(255*R[O])}e={type:m.uX,$C:a,ry:a,Vq:a,Jf:!1,Mu:!1}}}if(i=="levl"){var H=[],q,h,f,D,T,p;
for(var Y=0;Y<4;Y++)H.push(ao.t1(C,Y));q=-H[0][0]/255;h=1/(H[0][1]/255-H[0][0]/255);f=I.X$.multiply(I.X$.Kc(h,h,h),I.X$.C7(q,q,q));
D=I.X$.Kc(1/(H[1][1]/255-H[1][0]/255),1/(H[2][1]/255-H[2][0]/255),1/(H[3][1]/255-H[3][0]/255));T=I.X$.C7(-H[1][0]/255,-H[2][0]/255,-H[3][0]/255);
p=I.X$.multiply(D,T);var a=new I.RV(256);for(var Y=0;Y<256;Y++)a.Z[Y]=a.r[Y]=a.e[Y]=Y;var y=1/(H[0][4]/100),b=1/(H[1][4]/100),g=1/(H[2][4]/100),u=1/(H[3][4]/100);
I.X$.transform(a,a,p);for(var Y=0;Y<256;Y++){a.Z[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(a.Z[Y]/255,b))));
a.r[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(a.r[Y]/255,g))));a.e[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(a.e[Y]/255,u))))}I.X$.transform(a,a,f);
for(var Y=0;Y<256;Y++){a.Z[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(a.Z[Y]/255,y))));a.r[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(a.r[Y]/255,y))));
a.e[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(a.e[Y]/255,y))))}q=H[0][2]/255;h=H[0][3]/255-H[0][2]/255;
f=I.X$.multiply(I.X$.C7(q,q,q),I.X$.Kc(h,h,h));D=I.X$.Kc(H[1][3]/255-H[1][2]/255,H[2][3]/255-H[2][2]/255,H[3][3]/255-H[3][2]/255);
T=I.X$.C7(H[1][2]/255,H[2][2]/255,H[3][2]/255);p=I.X$.multiply(T,D);I.X$.transform(a,a,I.X$.multiply(f,p));
e={type:m.uX,$C:a.Z,ry:a.r,Vq:a.e,Jf:!1,Mu:!1}}if(i=="curv"){var t=aA.t1(C,0).length==256?1:0,V=[];if(t==0){var c=I.$l.K7(aA.t1(C,0),256);
for(var Y=1;Y<4;Y++){var E=I.$l.K7(aA.t1(C,Y),256);V.push(I.$l.ab0(E,c))}}else{var Z=[];for(var Y=0;
Y<4;Y++){var G=new Uint8Array(256);Z.push(G);var J=aA.t1(C,Y);for(var N=0;N<256;N++)G[N]=J[N]}for(var Y=1;
Y<4;Y++)V.push(I.$l.ab0(Z[Y],Z[0]))}e={type:m.uX,$C:V[0],ry:V[1],Vq:V[2],Jf:!1,Mu:!1}}if(i=="expA"){var K=C.Exps,M=C.Ofst,U=C.gammaCorrection,r=K?K.v:0,dS=M?M.v:0,w=U?U.v:1,a=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var C=Y/255,di=Math.pow(Math.abs(dS),1/(Math.PI/2));if(dS>0){C=Math.max(dS/Math.E,C);
C=C*Math.exp(dS/1.75+r/Math.PI);C=(1-di)*C+di*1}else{C=C*Math.exp(-dS*1.75+r/Math.PI);C=C+-di*1.14}C=Math.pow(C,1/w);
C=Math.max(0,Math.min(1,C));a[Y]=Math.round(C*255)}e={type:m.uX,$C:a,ry:a,Vq:a,Jf:!1,Mu:!1}}if(i=="vibA"){var eM=(C.vibrance?C.vibrance.v:0)/100,j5=(C.Strt?C.Strt.v:0)/100,di=1+eM*(eM>0?.25:.5),ds=.8+.2/di;
e={type:m.zr,N5:[eM,j5,ds,di]}}if(i=="hue2"){var ba=[],gH=[],ir=[],iP=C.Clrz?C.Clrz.v:!1;for(var Y=0;
Y<256;Y++){ba[Y]=Y/255;gH[Y]=0;ir[Y]=0}var iy=jK.t1(C,0),iG=fp.nt(iy[1]/100);if(iP){var eg=iy[0]/360;
for(var Y=0;Y<256;Y++){ba[Y]=eg;gH[Y]=iG}}else{for(var Y=0;Y<256;Y++){var du=ba[Y],gh=gH[Y];ba[Y]+=iy[0]/360;
for(var N=0;N<6;N++){var ga=jK.t1(C,N+1),d5=ga.Ih,fu=ga.kl,di=0;for(var ay=1;ay<4;ay++)if(fu[ay]<fu[0])fu[ay]+=360;
var c7=fu[0],eE=fu[1],jn=fu[2],dI=fu[3],dQ=du*360;if(dQ<fu[0])dQ+=360;var jo=(dQ-c7)/(eE-c7),hT=(dQ-jn)/(dI-jn);
if(jo<0)di=0;else if(jo<1)di=jo;else if(hT<0)di=1;else if(hT<1)di=1-hT;else di=0;var S=fp.nt(d5[1]/100);
ba[Y]+=di*d5[0]/360;gH[Y]+=di*S;ir[Y]+=di*d5[2]/100}}for(var Y=0;Y<256;Y++){gH[Y]=(1+gH[Y])*(1+iG)-1;
ir[Y]=Math.max(-1,Math.min(1,ir[Y]))}}var ea=new Uint8Array(256),b9=new Uint8Array(256),bI=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var ii=ba[Y],j5=gH[Y],d_=ir[Y];if(ii>1)ii--;if(ii<0)ii++;j5=fp.a4y(j5);j5=(1+j5)*.5;
d_=(1+d_)*.5;ea[Y]=Math.round(255*ii);b9[Y]=Math.round(255*j5);bI[Y]=Math.round(255*d_)}var c4=iy[2]/100,kG=c4<0?-c4:c4,fC=c4<0?0:1;
e={type:m.MT,aev:ea,$F:b9,aic:bI,agb:kG*fC,iS:1-kG,anw:iy[2]/100,ah0:iP?1:0}}if(i=="nvrt"){var a=new Uint8Array(256);
for(var Y=0;Y<256;Y++)a[Y]=255-Y;e={type:m.uX,$C:a,ry:a,Vq:a,Jf:!1,Mu:!1}}if(i=="post"){var bO=C.Lvls.v,a=new Uint8Array(256),di=bO/255.001,id=255/(bO-1);
for(var Y=0;Y<256;Y++)a[Y]=Math.floor(Y*di)*id;e={type:m.uX,$C:a,ry:a,Vq:a,Jf:!1,Mu:!1}}if(i=="grdm"){var a5=C.Grad.v,eU=C.Rvrs,P=1024,af;
if(a5.Clrs){var a7=I.I.uJ(a5,0,0);af=I.I.a2e(a5,a7,P,eU?eU.v:!1)}else{af=I.I.alT(a5,P,eU?eU.v:!1)}var g$=I.R(P),cg=I.R(P),cC=I.R(P);
I.Ud(af,g$,0);I.Ud(af,cg,1);I.Ud(af,cC,2);e={type:m.uX,$C:g$,ry:cg,Vq:cC,Jf:!0,Mu:!1}}if(i=="selc"){var kF=new Float32Array(9*3*2),am=C.LK,cJ=C.Mthd?C.Mthd.v.CrcM=="Absl":!1;
for(var N=0;N<9;N++){var fX=N*6,hP=jm.t1(C,N),kx=hP[0]/100,f2=hP[1]/100,gt=hP[2]/100,iD=hP[3]/100;if(cJ){kF[fX]=kF[fX+1]=kF[fX+2]=1;
kF[fX+3]=kx*(1+iD)+iD;kF[fX+4]=f2*(1+iD)+iD;kF[fX+5]=gt*(1+iD)+iD}else{kF[fX+0]=(1+kx)*(1+iD);kF[fX+1]=(1+f2)*(1+iD);
kF[fX+2]=(1+gt)*(1+iD)}}e={type:m.NS,axt:kF}}if(i=="blwh"){var eb="Rd Yllw Grn Cyn Bl Mgnt".split(" "),e=[],f9=0,e4=0;
for(var Y=0;Y<6;Y++)e.push(C[eb[Y]].v);e.push(C.useTint.v,C.tintColor.v);var dA=[];for(var Y=0;Y<6;Y++)dA.push((e[Y]-50)/50);
var e9=I.I.oq(e[7]);e9.Z/=255;e9.r/=255;e9.e/=255;var eI=I.wK(e9.Z,e9.r,e9.e),d_=I.CP(I.Bc(eI.bB,1,.5)),d9=eI.ve*eI.qg;
if(d_==.5)f9=e4=.5;else{f9=d9*(.5-d_)/(.5/d_-1);e4=1-d9*(.5-d_)-1/(2*(1-d_));e4/=1-1/(2*(1-d_))}e={type:m.mS,awg:dA,qC:e[6]?1:0,auR:eI.bB,CP:d_,a1b:d9,c1:f9,adR:e4}}if(i=="blnc"){var H=[],cj=["ShdL","MdtL","HghL"];
for(var Y=0;Y<3;Y++){if(C[cj[Y]]==null){H[Y]=[0,0,0];continue}var bO=C[cj[Y]].v,i4=bO[0].v/100,d6=bO[1].v/100,ko=bO[2].v/100,cM=C.PrsL==null||C.PrsL.v?(Math.min(i4,d6,ko)+Math.max(i4,d6,ko))/2:0;
H[Y]=[i4-cM,d6-cM,ko-cM]}var V=[I.R(256),I.R(256),I.R(256)];for(var N=0;N<3;N++)for(var Y=0;Y<256;Y++){var B=Y*(1/255),g2=0,F=0,iW=0;
F=H[2][N];iW=Math.abs(F);if(F<0)g2=Math.pow(B,Math.SQRT2);else g2=1.63*(Math.pow(B+.04,.5)-.2);B=iW*g2+(1-iW)*B;
F=H[1][N];iW=Math.abs(F);if(F<0)g2=Math.pow(B,2);else g2=Math.min(2.35*(Math.pow(B+.09,.5)-.3),Math.pow(B,1/2));
B=iW*g2+(1-iW)*B;F=H[0][N];iW=Math.abs(F);if(F<0)g2=B<.4?0:Math.pow((B-.4)/.6,Math.SQRT2);else g2=Math.pow(B,Math.SQRT2/2);
B=iW*g2+(1-iW)*B;B=Math.max(0,Math.min(1,B));V[N][Y]=Math.round(B*255)}e={type:m.uX,$C:V[0],ry:V[1],Vq:V[2],Jf:!1,Mu:!1}}if(i=="phfl"){var bl=I.I.oq(C.Clr.v),dW=[bl.Z/255,bl.r/255,bl.e/255],j8=C.Dnst.v/100,V=[I.R(256),I.R(256),I.R(256)];
for(var N=0;N<3;N++)for(var Y=0;Y<256;Y++){var B=Y*(1/255),dq=B*dW[N];dq=Math.max(0,Math.min(1,dq));
B=j8*dq+(1-j8)*B;V[N][Y]=Math.round(B*255)}e={type:m.uX,$C:V[0],ry:V[1],Vq:V[2],Jf:!1,Mu:C.PrsL.v}}if(i=="thrs"){var a=I.R(256);
for(var Y=C.Lvl.v;Y<256;Y++)a[Y]=255;e={type:m.uX,$C:a,ry:a,Vq:a,Jf:!0,Mu:!1}}if(i=="mixr"){var hl=fp.kY(C),o=[];
for(var Y=0;Y<hl.b.length;Y++)if(Y%5!=3)o.push(hl.b[Y]/100);if(hl.bg){for(var bE=1;bE<3;bE++)for(var B=0;
B<4;B++)o[bE*4+B]=o[B]}e={type:m.zH,OT:o}}if(i=="rplc"){var dn=C.Mnm.v,a3=C.Mxm.v;e={type:m.v9,lB:[dn.Lmnc.v,dn.A.v,dn.B.v],rF:[a3.Lmnc.v,a3.A.v,a3.B.v],shift:[C.H.v/360,C.Strt.v/100,C.Lght.v/100],Nv:C.Fzns.v/150}}if(i=="clrL"&&C.profile){var en=new Uint8Array(C.profile.v),g3=ICC.R(en.buffer),h4=[],gJ=17,h4=ICC.U.sampleLUT(g3,gJ);
e={type:m.S5,Jg:ICC.U.lutToRGBA8(h4,gJ),azj:h4,Rf:gJ}}return e};fp.kn=function(i,C){var m=-1;if(i!="levl"||C==null)m=-1;
else if(C.Auto)m=0;else if(C.AuCo)m=1;else if(C.autoBlackWhite)m=2;return m};fp.SU={uX:0,MT:1,zr:2,NS:3,mS:4,zH:5,v9:6,S5:7};
fp.nt=function(i){if(i<0)return i;return Math.pow(Math.tan(Math.PI/2*i),1.3)};fp.a4y=function(i){if(i<0)return i;
i=Math.pow(i,1/1.3);return Math.atan2(i,1)/(Math.PI/2)};fp.ny=function(i,C,m,e){var z=fp.SU,L=Date.now();
if(cY.fp&&e.P()>300*300&&i.type!=z.uX&&i.type!=z.S5){e=e.clone();e.x=e.y=0;var l=cY.H4(0,e.m,e.J);l.set(C);
cY.OK(l,e);l.uK(e);fp.PU(i,l.MF,e);l.get(m);return}if(i.type==z.S5){var x=i.azj,S=i.Rf;ICC.U.applyLUT(x,S,C,m);
var k=C.length;for(var Y=0;Y<k;Y+=4)m[Y+3]=C[Y+3]}if(i.type==z.zH)I.X$.aCC(C,m,i.OT);if(i.type==z.mS){var f=i.a1b,X=i.CP,o=i.c1,A=i.adR,k=C.length;
for(var Y=0;Y<k;Y+=4){var e=C[Y]*(1/255),P=C[Y+1]*(1/255),F=C[Y+2]*(1/255),n=I.oZ(e,P,F),R=0;for(var Q=0;
Q<6;Q++)R+=Math.min(1,1.7*(1-n.A5))*n.ve*i.awg[Q]*fp.aio(n.bB,Q*(1/6));var s=Math.max(0,Math.min(1,n.A5*(1+R)));
if(i.qC==1){var j=0;if(s<o)j=s*(.5/X);else if(s<A)j=s+f*(.5-X);else j=1-(1-s)*.5/(1-X);n.bB=i.auR;n.ve=Math.min(1,f+3*f*Math.abs(s-.5*(o+A)));
n.A5=j}else{n.bB=0;n.ve=0;n.A5=s}var _=I.Bc(n.bB,n.ve,n.A5);m[Y]=Math.round(_.Z*255);m[Y+1]=Math.round(_.r*255);
m[Y+2]=Math.round(_.e*255)}}if(i.type==z.NS){var B=i.axt,k=C.length,N=1/255;for(var Y=0;Y<k;Y+=4){var e=C[Y]*N,P=C[Y+1]*N,F=C[Y+2]*N,n=I.oZ(e,P,F),a=Math.max(e,Math.max(P,F)),O=Math.min(e,Math.min(P,F)),H=1-e,q=1-P,h=1-F,D=0,T=0,p=0;
for(var Q=0;Q<9;Q++){var y=Q*6,t=0;if(B[y]==1&&B[y+1]==1&&B[y+2]==1&&B[y+3]==0&&B[y+4]==0&&B[y+5]==0)continue;
var b=H*B[y]+B[y+3],g=q*B[y+1]+B[y+4],u=h*B[y+2]+B[y+5];if(Q<6)t=fp.aio(n.bB,Q*(1/6))*n.ve*2*Math.min(n.A5,1-n.A5);
else if(Q==6)t=Math.max(0,O-.5)*2;else if(Q==7)t=1-(Math.abs(a-.5)+Math.abs(O-.5));else t=Math.max(0,.5-a)*2;
D+=(Math.max(0,Math.min(1,b))-H)*t;T+=(Math.max(0,Math.min(1,g))-q)*t;p+=(Math.max(0,Math.min(1,u))-h)*t}H=Math.max(0,Math.min(1,H+D));
q=Math.max(0,Math.min(1,q+T));h=Math.max(0,Math.min(1,h+p));e=1-H;P=1-q;F=1-h;m[Y]=Math.round(e*255);
m[Y+1]=Math.round(P*255);m[Y+2]=Math.round(F*255)}}if(i.type==z.uX){I.ahT(C,m,i.$C,i.ry,i.Vq,i.Jf,i.Mu)}if(i.type==z.MT){var V=new Uint32Array(C.buffer),c=new Uint32Array(m.buffer),k=V.length;
if(fp.x7==null){fp.x7=new Float64Array(256);for(var Y=0;Y<256;Y++)fp.x7[Y]=fp.nt(-1+2*Y/255)}var E=fp.x7;
for(var Y=0;Y<k;Y++){var Z=V[Y],e=(Z&255)*(1/255),P=(Z>>>8&255)*(1/255),F=(Z>>>16&255)*(1/255),G=Z>>>24,J=Math.min(e,P,F),K=Math.max(e,P,F),M=0,U=0,r=0;
M=I.oZ(e,P,F).bB;var dS=~~(M*255+.5),w=i.aev[dS]*(1/255),di=i.$F[dS]*(1/255)*2-1,eM=i.aic[dS]*(1/255)*2-1,R=-eM,j5=J;
if(0<eM){R=eM;j5=K}var ds=i.agb+i.iS*R*j5,ba=i.iS*(1-R);e=ds+ba*e;P=ds+ba*P;F=ds+ba*F;K=Math.max(e,P,F);
J=Math.min(e,P,F);r=(K+J)*.5;if(K!=J){var gH=K-J;U=r>.5?gH/(2-(K+J)):gH/(K+J)}var ir=di;if(i.ah0==0){di=E[Math.floor((1+di)*127.5)];
ir=Math.min(U*(1+di),1)}var _=I.Bc(w,ir,r);e=_.Z;P=_.r;F=_.e;c[Y]=G<<24|F*255<<16|P*255<<8|e*255}}if(i.type==z.v9){I.EP(C,m);
var V=new Uint32Array(C.buffer),c=new Uint32Array(m.buffer),k=V.length,iP=i.Nv,iy=1/iP,iG={nJ:i.lB[0],W:i.lB[1],e:i.lB[2]},eg={nJ:i.rF[0],W:i.rF[1],e:i.rF[2]};
for(var Y=0;Y<k;Y++){var Z=V[Y],du=Z&255,gh=Z>>>8&255,ga=Z>>>16&255,e=du*(1/255),P=gh*(1/255),F=ga*(1/255),G=Z>>>24,d5=I.ao(du,gh,ga),fu=I.a0h(d5,iG,eg,iP,iy);
if(fu==0)continue;var n=I.oZ(e,P,F),w=2+n.bB+i.shift[0];n.bB=w-~~w;n.ve=Math.max(0,Math.min(1,n.ve+i.shift[1]));
n.A5=Math.max(0,Math.min(1,n.A5+i.shift[2]));var _=I.Bc(n.bB,n.ve,n.A5);e=(1-fu)*e+fu*_.Z;P=(1-fu)*P+fu*_.r;
F=(1-fu)*F+fu*_.e;c[Y]=G<<24|F*255<<16|P*255<<8|e*255}}if(i.type==z.zr){var V=new Uint32Array(C.buffer),c=new Uint32Array(m.buffer),k=V.length,ay=i.N5[0],c7=i.N5[1],eE=i.N5[2],R=i.N5[3],jn=I.X$.MX([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),dI=I.X$.Fb(jn),dQ=2.4;
function S(bI){return Math.max(0,Math.min(1,bI))}function jo(bI){return Math.pow(bI,dQ)}function hT(bI){return Math.pow(bI,1/dQ)}function ea(e,P,F,bI){e=jo(e);
P=jo(P);F=jo(F);var ii=I.X$.eq(jn,[e,P,F,1]);ii[0]*=eE;ii[1]*=R;ii[2]*=R;var _=I.X$.eq(dI,ii);_[0]=hT(S(_[0]));
_[1]=hT(S(_[1]));_[2]=hT(S(_[2]));return _}for(var Y=0;Y<k;Y++){var Z=V[Y],e=(Z&255)*(1/255),P=(Z>>>8&255)*(1/255),F=(Z>>>16&255)*(1/255),G=Z>>>24,_=ea(e,P,F,ay);
e=_[0];P=_[1];F=_[2];var b9=I.oZ(e,P,F);b9.ve=Math.max(0,Math.min(1,b9.ve*(1+c7)));_=I.Bc(b9.bB,b9.ve,b9.A5);
e=_.Z;P=_.r;F=_.e;c[Y]=G<<24|F*255<<16|P*255<<8|e*255}}};fp.PU=function(i,C,m){cY.GT.PU(i,C)};fp.aio=function(i,C){var m=I.bS(C,i)*6;
return Math.max(0,Math.min(1,m<0?1+m:1-m))};var ft={};ft.C$=function(i){var C=i.filterID.v;return C>16777215?W.awV(C):i.Fltr.v.classID};
ft.KE=[{Zc:"GEfc"},{Zc:"LnCr"},{Zc:"Adobe Camera Raw Filter"},{Zc:"LqFy"},{Zc:"VaPo",mL:!0},{iQ:"3D",YP:["lightFilterGradient","Dila"]},{iQ:[24,2],YP:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{iQ:[24,4],YP:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{iQ:[24,6],YP:["AdNs","Dspc","DstS","Mdn ","denoise"]},{iQ:[24,8],YP:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{iQ:[24,10],YP:["Flam","Clds","DfrC","Fbrs","LnsF"]},{iQ:[24,12],YP:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{iQ:[24,14],YP:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{iQ:[24,16],YP:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{iQ:"Fourier",YP:["dDFT","iDFT"]}];
ft.zB={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
ft.$O={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
ft.s={rigidTransform:$.g6};ft.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
ft.TQ=function(i){var C=null;if(i=="GEfc")C={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:a9.TQ("GlwE")}]}};
if(i=="LqFy"){var m={HG:5,bB:5,map:new Float32Array(5*5*2)},e=new Uint8Array(ef.hz(m)),z=[];for(var Y=0;
Y<e.length;Y++)z.push(e[Y]);C={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:z}}}if(i=="rigidTransform"){C={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(i=="LnCr")C={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(i=="adaptCorrect")C={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(i=="Dfs ")C={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(i=="Fbrs")C={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(i=="Embs")C={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(i=="oilPaint")C={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(i=="TrcC")C={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(i=="Wnd ")C={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(i=="lightFilterGradient")C={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(i=="boxblur")C={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(i=="GsnB")C={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(i=="Bokh")C={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(i=="MtnB")C={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(i=="RdlB")C={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(i=="surfaceBlur")C={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(i=="denoise")C={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(i=="Dspl")C={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(i=="Pnch")C={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(i=="Plr ")C={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(i=="Rple")C={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(i=="Shr ")C={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(i=="Sphr")C={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(i=="Twrl")C={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(i=="Wave")C={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(i=="ZgZg")C={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(i=="AdNs")C={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(i=="DstS")C={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(i=="Mdn ")C={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(i=="ClrH")C={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(i=="Crst")C={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(i=="Mztn")C={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(i=="Msc ")C={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(i=="Pntl")C={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(i=="LnsF")C={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(i=="Dthr")C={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(i=="Part")C={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(i=="Adobe Camera Raw Filter")C={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(i=="smartSharpen")C={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(i=="UnsM")C={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(i=="HghP")C={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(i=="HsbP")C={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(i=="Mxm ")C={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(i=="Mnm ")C={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(i=="Ofst")C={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(i=="Kale")C={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(i=="Rept")C={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(i=="Flam")C={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(i=="Ctoa")C={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(i=="brit")C={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(i=="levl")C={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(i=="curv")C={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(i=="expA")C={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(i=="vibA")C={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(i=="hue2")C={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(i=="blnc")C={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(i=="blwh")C={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(i=="phfl")C={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(i=="grdm")C={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(jt.qx[6]).Grad};
if(i=="selc")C={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(i=="thrs")C={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(i=="mixr")C={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(i=="clrL")C={__name:"Color Lookup",classID:"colorLookup"};if(i=="post")C={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(i=="rplc")C={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(i=="fade")C={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(i=="aply")C={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(i=="matc"){C={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(i=="Dila")C={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(i=="blendOptions")C={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return C};ft.L9={sFlam:function(i,C){C[0]=i.Type.v;C[1]=i.Leng.v;C[2]=i.RndL.v;C[3]=i.Widt.v;C[4]=i.Angl.v;
C[5]=i.Intr.v;C[6]=i.Adpt.v;C[7]=i.Clr.v;C[8]=i.Qual.v;C[9]=i.Turb.v;C[10]=i.Jag.v;C[11]=i.Opct.v.val;
C[12]=i.Lins.v;C[13]=i.Botm.v;C[14]=i.Styl.v;C[15]=i.Shap.v;C[16]=i.RnSh.v;C[17]=i.Arng.v},gFlam:function(i,C){i.Type.v=C[0];
i.Leng.v=C[1];i.RndL.v=C[2];i.Widt.v=C[3];i.Angl.v=C[4];i.Intr.v=C[5];i.Adpt.v=C[6];i.Clr.v=C[7];i.Qual.v=C[8];
i.Turb.v=C[9];i.Jag.v=C[10];i.Opct.v.val=C[11];i.Lins.v=C[12];i.Botm.v=C[13];i.Styl.v=C[14];i.Shap.v=C[15];
i.RnSh.v=C[16];i.Arng.v=C[17]},sAdNs:function(i,C){C[0]=i.Nose.v.val;C[1]=["Gsn","Unfr"].indexOf(i.Dstr.v.Dstr);
C[2]=i.Mnch.v},gAdNs:function(i,C){i.Nose.v.val=C[0];i.Dstr.v.Dstr=["Gsn","Unfr"][C[1]];i.Mnch.v=C[2]},sDstS:function(i,C){C[0]=i.Rds.v;
C[1]=i.Thsh.v},gDstS:function(i,C){i.Rds.v=C[0];i.Thsh.v=C[1]},sGsnB:function(i,C){C[0]=i.Rds.v.val},gGsnB:function(i,C){i.Rds.v.val=C[0]},sDila:function(i,C){C[0]=i.Crop.v.val;
C[1]=i.Rds.v.val},gDila:function(i,C){i.Crop.v.val=C[0];i.Rds.v.val=C[1]},sHghP:function(i,C){C[0]=i.Rds.v.val},gHghP:function(i,C){i.Rds.v.val=C[0]},sHsbP:function(i,C){var m=["RGBC","HSBl","HSLC"];
C[0]=m.indexOf(i.Inpt.v.ClrS);C[1]=m.indexOf(i.Otpt.v.ClrS)},gHsbP:function(i,C){var m=["RGBC","HSBl","HSLC"];
i.Inpt.v.ClrS=m[C[0]];i.Otpt.v.ClrS=m[C[1]]},"sMxm ":function(i,C){var m="preserveShape";C[0]=i.Rds.v.val;
C[1]=i[m]?["squareness","Rndn"].indexOf(i[m].v[m]):0},"gMxm ":function(i,C){var m="preserveShape";i.Rds.v.val=C[0];
i[m]={t:"enum",v:{preserveShape:["squareness","Rndn"][C[1]]}}},"sMnm ":function(i,C){var m="preserveShape";
C[0]=i.Rds.v.val;C[1]=i[m]?["squareness","Rndn"].indexOf(i[m].v[m]):0},"gMnm ":function(i,C){var m="preserveShape";
i.Rds.v.val=C[0];i[m]={t:"enum",v:{preserveShape:["squareness","Rndn"][C[1]]}}},sMtnB:function(i,C){C[0]=[i.Angl.v];
C[1]=i.Dstn.v.val;console.log(C)},gMtnB:function(i,C){i.Angl.v=typeof C[0]=="number"?C[0]:C[0][0];i.Dstn.v.val=C[1]},sOfst:function(i,C){C[0]=i.Hrzn.v;
C[1]=i.Vrtc.v;C[2]=["Rpt","Bckg","Wrp"].indexOf(i.Fl.v.FlMd)},gOfst:function(i,C){i.Hrzn.v=C[0];i.Vrtc.v=C[1];
i.Fl.v.FlMd=["Rpt","Bckg","Wrp"][C[2]]},sPnch:function(i,C){C[0]=i.Amnt.v},gPnch:function(i,C){i.Amnt.v=C[0]},"sPlr ":function(i,C){C[0]=["RctP","PlrR"].indexOf(i.Cnvr.v.Cnvr)},"gPlr ":function(i,C){i.Cnvr.v.Cnvr=["RctP","PlrR"][C[0]]},sRple:function(i,C){C[0]=i.Amnt.v;
C[1]=["Sml","Mdm","Lrg"].indexOf(i.RplS.v.RplS)},gRple:function(i,C){i.Amnt.v=C[0];i.RplS.v.RplS=["Sml","Mdm","Lrg"][C[1]]},sTwrl:function(i,C){C[0]=i.Angl.v},gTwrl:function(i,C){i.Angl.v=C[0]},sZgZg:function(i,C){C[0]=i.Amnt.v;
C[1]=i.NmbR.v;C[2]=["ArnC","OtFr","PndR"].indexOf(i.ZZTy.v.ZZTy)},gZgZg:function(i,C){i.Amnt.v=C[0];
i.NmbR.v=C[1];i.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][C[2]]},sUnsM:function(i,C){C[0]=i.Amnt.v.val;C[1]=i.Rds.v.val;
C[2]=i.Thsh.v},gUnsM:function(i,C){i.Amnt.v.val=C[0];i.Rds.v.val=C[1];i.Thsh.v=C[2]},sWave:function(i,C){C[0]=i.NmbG.v;
C[1]=i.WLMn.v;C[2]=i.WLMx.v;C[3]=i.AmMn.v;C[4]=i.AmMx.v;C[5]=i.SclH.v;C[6]=i.SclV.v;C[7]=["WvSn","WvTr","WvSq"].indexOf(i.Wvtp.v.Wvtp);
C[8]=["WrpA","RptE"].indexOf(i.UndA.v.UndA);C[9]=i.RndS.v},gWave:function(i,C){i.NmbG.v=C[0];i.WLMn.v=C[1];
i.WLMx.v=C[2];i.AmMn.v=C[3];i.AmMx.v=C[4];i.SclH.v=C[5];i.SclV.v=C[6];i.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][C[7]];
i.UndA.v.UndA=["WrpA","RptE"][C[8]];if(C[9]!=null){var m=parseInt(C[9]);if(isNaN(m))m=248325464;m=Math.max(0,Math.min(268435455,m));
i.RndS.v=m}},sDspl:function(i,C){C[0]=i.HrzS.v;C[1]=i.VrtS.v;C[2]=0;C[3]=["WrpA","RptE"].indexOf(i.UndA.v.UndA)},gDspl:function(i,C){i.HrzS.v=C[0];
i.VrtS.v=C[1];i.UndA.v.UndA=["WrpA","RptE"][C[3]];i.DspF.v.pth=C[4]},sbrit:function(i,C){C[0]=i.Brgh?i.Brgh.v:0;
C[1]=i.Cntr?i.Cntr.v:0;C[2]=i.useLegacy?i.useLegacy.v:!1},gbrit:function(i,C){i.Brgh.v=C[0];i.Cntr.v=C[1];
if(C[2]!=null)i.useLegacy.v=C[2]}};ft.a41=function(i){var C=new b5(0,0);if(i.enab.v==!1)return C;var m=i.filterFXList.v;
for(var Y=0;Y<m.length;Y++){var e=m[Y].v;if(e.enab.v==!1)continue;var z=ft.C$(e),L=ft.oe(z,e.Fltr?e.Fltr.v:null);
if(L.x>C.x)C.x=L.x;if(L.y>C.y)C.y=L.y}return C};ft.oe=function(i,C){var m=0,e=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(i)!=-1){var z=C.Rds?C.Rds.v.val:1;
m=e=z*2.57}if(i=="MtnB")m=e=C.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(i)!=-1){m=e=1e4}if(i=="GEfc")return a9.oe(C);
return new b5(Math.ceil(m),Math.ceil(e))};ft.sB=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ft.eF=function(i,C){var m={Z:C.Dm>>16,r:C.Dm>>8&255,e:C.Dm&255},e={Z:C.yv>>16,r:C.yv>>8&255,e:C.yv&255},z=ft.names[i];
if(z==null)z=fp.names[i];var L=i;for(var l in fp.fO)if(fp.fO[l]==i)L=l;var x={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:bC.get(z)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:I.I.$q(m)},BckC:{t:"Objc",v:I.I.$q(e)},filterID:{t:"long",v:L.length==4?W.a0B(L):777}}},S=ft.TQ(i);
if(S)x.v.Fltr={t:"Objc",v:S};return x};ft.M3=function(i,C,m,e){var z=Date.now(),L=cY.fp&&Math.max(e.m,e.J)<=cY.Hs.getParameter(cY.Hs.MAX_TEXTURE_SIZE);
if(i<1){var l=Math.round(i*5),x=[1,2,1,2,[40,26,13,6,4,2][l],2,1,2,1];x=I.H2.wn(x);if(!L){I.Qs(m);var S=m.slice(0);
I.H2.v3(S,m,e.m,e.J,x,255);I.J7(m)}else{var k=e.m,f=e.J,X=cY.H4(0,k,f);X.set(m);var o=cY.H4(1,k,f),A=new Float32Array([1/k,1/f]);
cY.OK(o);cY.filter.PU({type:cY.filter.aow,DF:A,ajE:new Float32Array(x)},X.zo);o.get(m)}}else{var P=C==I.Zo.in?0:C==I.Zo.amC?1:2,F=[];
while(P!=2&&i*[1,2.4][P]>20&&F.length<4){var n=I.r_(m,e);F.push(m,e);m=n.S2;e=n.rect;i/=2}var k=e.m,f=e.J;
if(!L||P==2&&i>15){I.Qs(m);C(m,e,i);I.J7(m)}else{var X=cY.H4(0,k,f);X.set(m);var o=cY.H4(1,k,f),A=new Float32Array([1/k,1/f]);
if(P==0){var R=1;while(R<i)R<<=1;cY.OK(o);cY.filter.PU({type:cY.filter.vU,DF:A,Y3:i,Hw:[0,0,R]},X.zo);
cY.OK(X);cY.filter.PU({type:cY.filter.vU,DF:A,Y3:i,Hw:[0,1,R]},o.zo);X.get(m)}else if(P==1){var Q=3,s=I.Zo.rO(i,Q);
for(var Y=0;Y<Q;Y++){var j=s[Y]>>>1,_=1;while(_<j)_<<=1;if(j==0)continue;cY.OK(o);cY.filter.PU({type:cY.filter.vU,DF:A,Y3:j,Hw:[0,0,_]},X.zo);
cY.OK(X);cY.filter.PU({type:cY.filter.vU,DF:A,Y3:j,Hw:[0,1,_]},o.zo)}X.get(m)}else{var R=1;while(R<i)R<<=1;
cY.OK(o);cY.filter.PU({type:cY.filter.vU,DF:A,Y3:i,Hw:[0,0,R]},X.zo);o.get(m)}}var B=Date.now();while(F.length!=0){var N=F.pop(),a=F.pop();
I.scale.a88(m,e.m,e.J,a,N.m,N.J);m=a;e=N}}};ft.ayt=function(i,C,m,e){for(var Y=0;Y<i.length;Y++){m[Y]=i[Y]*(1/255);
e[Y]=0}FFT.fft2d(m,e);var z=C>>>1,L=16384,l=128,S=100;while(l<C){l<<=1;L<<=2}var x=255/Math.log(L),k=-100;
for(var f=0;f<C;f++)for(var X=0;X<z;X++){var o=C+z+f&C-1,A=m[o*C+X],P=e[o*C+X],F=Math.sqrt(A*A+P*P),n=Math.atan2(P,A);
i[f*C+X]=Math.round(x*Math.log(F+1));i[f*C+z+X]=Math.round((Math.PI+n)*(255*.5/Math.PI))}};ft.an0=function(i,C,m,e){m.fill(0);
e.fill(0);var z=C>>>1,L=16384,l=128;while(l<C){l<<=1;L<<=2}var x=255/Math.log(L),S=[],k=[],f=[];for(var Y=0;
Y<256;Y++){S[Y]=Math.exp(Y/x)-1;var X=Y*(2*Math.PI/255)-Math.PI;k[Y]=Math.sin(X);f[Y]=Math.cos(X)}for(var o=0;
o<C;o++)for(var A=0;A<z;A++){var P=C+z+o&C-1,F=S[i[o*C+A]],X=i[o*C+z+A],n=F*f[X],R=F*k[X];m[P*C+A]=n;
e[P*C+A]=R;if(A!=0){var Q=P==0?P*C+C-A:(C-P)*C+(C-A);m[Q]=n;e[Q]=-R}}FFT.ifft2d(m,e);for(var Y=0;Y<i.length;
Y++){i[Y]=Math.max(0,Math.min(255,~~(.5+255*m[Y])))}};ft.a6I=new ArrayBuffer(512);ft.atr=function(i){var C=ft.a6I,m=i.length;
if(C.byteLength<m)ft.a6I=C=new ArrayBuffer(m);var e=new Uint8Array(C);for(var Y=0;Y<m;Y+=4){e[Y]=i[Y];
e[Y+1]=i[Y+1];e[Y+2]=i[Y+2];e[Y+3]=i[Y+3]}return C};ft.ny=function(i,C,m,e,z,L,l){if(L==null)L={buffer:I.R(C.buffer.length),rect:C.rect.clone()};
L.buffer.set(C.buffer);var x=m&&m.RndS?m.RndS.v>>>1:0;if(i=="GEfc"){var S=[];if(m.GEfs){var k=m.GEfs.v;
for(var Y=0;Y<k.length;Y++){var f=k[Y].v;if(f.GELv&&f.GELv.v==!1)continue;S.push(f)}}else S=[m];for(var Y=0;
Y<S.length;Y++){var X;if(Y==0)a9.ny(i,C,S[Y],e,z,L,l);else{if(X==null)X={buffer:I.R(C.buffer.length),rect:C.rect.clone()};
I.EP(L.buffer,X.buffer);a9.ny(i,X,S[Y],e,z,L,l)}}}if(i=="Dila"){var o=m.Crop.v.val,A=m.Rds.v.val+o;A=A*A;
if(A==0)return;var P=C.rect,F=P.m,n=P.J,R=F*n,Q=C.buffer,X=L.buffer,s=I.R(R);I.Ud(Q,s,3);if(o!=0){var j=P.clone();
j.sW(1,1);var _=I.R(j.P());I.Vo(s,P,_,j);I.Fb(_);I.style.stroke(_,_,j,o);I.Fb(_);I.Vo(_,j,s,P)}var B=I.style.Zn(s,F,n);
X.fill(0);for(var N=0;N<n;N++)for(var a=0;a<F;a++){var Y=N*F+a,O=Y<<1,H=Y<<2,q=B[O],h=B[O+1];if(q*q+h*h<A){var D=(N+h)*F+(a+q)<<2;
X[H]=Q[D];X[H+1]=Q[D+1];X[H+2]=Q[D+2];X[H+3]=255}}}if(i=="Adobe Camera Raw Filter"){var P=C.rect,F=P.m,n=P.J,R=F*n,T=R*4,p=R*3,y=new Float32Array(F*n*3),b=C.buffer;
for(var Y=0;Y<R;Y++){var g=Y*3,H=Y*4;y[g]=b[H]*(1/255);y[g+1]=b[H+1]*(1/255);y[g+2]=b[H+2]*(1/255)}var u=JSON.parse(JSON.stringify(m));
delete u.Upri;delete u.GuUr;var t=y.slice(0);a2(y,F,n,t,u);y=t;b=L.buffer;for(var Y=0;Y<R;Y++){var g=Y*3,H=Y*4;
b[H]=255*Math.max(0,Math.min(1,y[g]));b[H+1]=255*Math.max(0,Math.min(1,y[g+1]));b[H+2]=255*Math.max(0,Math.min(1,y[g+2]))}}if(i=="Fct "){var P=C.rect,F=P.m,n=P.J,R=F*n,T=R*4;
function V(gy){var dI=gy.slice(0);for(var N=0;N<3;N++)for(var a=0;a<3;a++)dI[N*3+a]=gy[(2-a)*3+N];return dI}function c(k9,ku,j9,dU){var iT=0;
for(var N=0;N<3;N++)for(var a=0;a<3;a++)iT+=ku[N*3+a]*k9[(dU-1+N)*F+j9-1+a];return iT}var E=[8,5,2,5,2,-1,2,-1,-4],Z=[5,5,5,2,2,2,-1,-1,-1],G=[2,2,2,2,2,2,2,2,2],J=[];
J.push(E);for(var Y=0;Y<3;Y++)J.push(V(J[J.length-1]));J.push(Z);for(var Y=0;Y<3;Y++)J.push(V(J[J.length-1]));
J.push(G);for(var Y=0;Y<9;Y++)J[Y]=I.H2.wn(J[Y]);var K=[-F-1,-F,-F+1,-1,0,1,F-1,F,F+1],M=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],U=I.R(R),r=new Float32Array(R),t=I.R(R);
for(var dS=0;dS<3;dS++){I.Ud(C.buffer,U,dS);for(var w=0;w<1;w++){for(var N=1;N<n-1;N++)for(var a=1;a<F-1;
a++){var di=N*F+a,eM=U[di];r[di]=1e9;for(var Y=0;Y<9;Y++){var j5=c(U,J[Y],a,N),ds=(j5-eM)*(j5-eM);if(ds<r[di])r[di]=ds}}for(var N=1;
N<n-1;N++)for(var a=1;a<F-1;a++){var ba=0,ir=1e9;for(var Y=0;Y<9;Y++){var iP=N*F+a+K[Y],ds=r[iP];if(ds<ir){ir=ds;
ba=U[iP]}}t[N*F+a]=ba}U.set(t)}I.uC(t,L.buffer,dS)}}if(i=="adaptCorrect"){var P=C.rect,F=P.m,n=P.J,R=F*n,T=R*4,iy=m.sdwM.v,iG=iy.Amnt.v.val/100,eg=iy.Wdth.v.val/100,du=iy.Rds.v,gh=m.hglM.v,ga=gh.Amnt.v.val/100,d5=gh.Wdth.v.val/100,fu=gh.Rds.v;
I.aqO.LR(C.buffer,L.buffer,F,n,iG,eg,du,ga,d5,fu,m.ClrC.v/100,m.Cntr.v/100)}if(i=="denoise"){var P=C.rect,F=P.m,n=P.J,ay=m.channelDenoise.v[0].v;
I.afZ.aeb(C.buffer,F,n,L.buffer,ay.Amnt.v/10,ay.EdgF.v/100)}if(i=="HsbP"){var c7=m.Inpt.v.ClrS,eE=m.Otpt.v.ClrS,P=C.rect,F=P.m,n=P.J,R=F*n;
for(var Y=0;Y<R;Y++){var H=Y*4,w=C.buffer[H]*(1/255),jn=C.buffer[H+1]*(1/255),dI=C.buffer[H+2]*(1/255);
if(c7=="RGBC"){}else if(c7=="HSLC"){var t=I.Bc(w,jn,dI);w=t.Z;jn=t.r;dI=t.e}else if(c7=="HSBl"){var t=I.avU(w,jn,dI);
w=t.Z;jn=t.r;dI=t.e}var dQ=w,jo=jn,hT=dI;if(eE=="RGBC"){}else if(eE=="HSLC"){var t=I.oZ(w,jn,dI);dQ=t.bB;
jo=t.ve;hT=t.A5}else if(eE=="HSBl"){var t=I.auf(w,jn,dI);dQ=t.bB;jo=t.ve;hT=t.e}L.buffer[H]=~~(255*dQ);
L.buffer[H+1]=~~(255*jo);L.buffer[H+2]=~~(255*hT)}}if(i=="Fbrs"){var P=C.rect,F=P.m,n=P.J;I.z.aCf(C.buffer,F,n,L.buffer,[m.Vrnc.v,m.Strg.v,x]);
var ea=I.R(F*n);I.Ud(L.buffer,ea,0);I.Fb(ea);a9.TP(ea,L.buffer,e,z)}if(i=="Frgm"){var P=C.rect,F=P.m,n=P.J,b9=C.buffer.slice(0);
I.Qs(b9);I.z.ah_(b9,F,n,L.buffer);I.J7(L.buffer)}if(i=="Flam"){var P=C.rect,F=P.m,n=P.J,bI=m.Clr.v,ii={type:m.Type.v+1,length:m.Leng.v,aDj:m.RndL.v,k9:m.Widt.v,ayC:m.Angl.v,ahv:m.Intr.v,ax3:m.Adpt.v,color:{Z:bI.Rd.v,r:bI.Grn.v,e:bI.Bl.v},jH:m.Qual.v+1,tV:m.Turb.v,EB:m.Jag.v,opacity:m.Opct.v.val,xV:m.Lins.v,aBR:m.Botm.v,style:m.Styl.v+1,shape:m.Shap.v+1,aAV:m.RnSh.v,a1W:m.Arng.v,a9w:!1},d_=l[3],c4=d_[0],kG=d_[1],fC=c4[kG.length!=0?kG[0]:0];
if(fC==null){alert("Make a path first");return}var bO=fC.add.vmsk.$,id=I.o.vS(bO),a5=[];for(var D=0;
D<id;D++){var eU=I.o.IY(bO,D),af=bO[eU];if(af.length<2)continue;var a7=[];a5.push(a7);var g$=af.length-(af.type==3?1:0);
for(var di=0;di<g$;di++){var cg=bO[eU+1+di],cC=di==af.length-1?bO[eU+1]:bO[eU+1+di+1],kF=cg.L,am=cg.sP,E=cC.My,cJ=cC.L,fX=Math.round(b5.qM(kF,cJ)/5);
for(var hP=0;hP<fX;hP++){var kx=hP/fX,f2=1-kx,a=f2*f2*f2*kF.x+3*f2*f2*kx*am.x+3*f2*kx*kx*E.x+kx*kx*kx*cJ.x,N=f2*f2*f2*kF.y+3*f2*f2*kx*am.y+3*f2*kx*kx*E.y+kx*kx*kx*cJ.y;
a7.push(a,N)}}}var gt=[a5,ii],iD=Date.now(),eb=bW(gt);eJ(C.buffer,F,n,L.buffer,eb,gt)}if(i=="Dfs "){var P=C.rect,F=P.m,n=P.J,dA=["Nrml","DrkO","LghO","anisotropic"].indexOf(m.Md.v.DfsM);
if(dA<3)I.z.av5(C.buffer,F,n,L.buffer,[dA]);else{var gt=[1.4,1.6,1,4,!1,2,[0,0,.001]],P=C.rect.clone();
P.x=P.y=0;I.Ul.filter(C.buffer,P,L.buffer,gt)}}if(i=="TrcC"){var P=C.rect,F=P.m,e9=F<<2,n=P.J,eI=m.Lvl.v,d9=m.Edg.v.CntE=="Lwr",f9=C.buffer,e4=L.buffer;
I.eS(e4,16777215,4278190080);function cj(jw,bn){d6(jw,bn);d6(jw+1,bn+1);d6(jw+2,bn+2)}function i4(jw,bn){ko(jw,bn);
ko(jw+1,bn+1);ko(jw+2,bn+2)}function d6(jw,bn){var dQ=f9[jw],jo=f9[bn];if(dQ>=eI&&jo<eI)e4[jw]=0;if(dQ<eI&&jo>=eI)e4[bn]=0}function ko(jw,bn){var dQ=f9[jw],jo=f9[bn];
if(dQ>eI&&jo<=eI)e4[bn]=0;if(dQ<=eI&&jo>eI)e4[jw]=0}if(d9)for(var N=1;N<n;N++)for(var a=1;a<F;a++){var H=N*F+a<<2;
cj(H,H-4);cj(H,H-e9)}else for(var N=1;N<n;N++)for(var a=1;a<F;a++){var H=N*F+a<<2;i4(H,H-4);i4(H,H-e9)}}if(i=="Embs"){var P=C.rect,F=P.m,n=P.J,cM=-m.Angl.v*Math.PI/180,g2=m.Hght.v,iW=m.Amnt.v/100;
g2/=2;var q=Math.cos(cM)*g2,h=Math.sin(cM)*g2,f9=C.buffer,e4=L.buffer;e4.fill(0);var bl=new Uint32Array(f9.buffer),t=new Uint8Array(4),dW=new Uint32Array(t.buffer);
for(var N=0;N<n;N++)for(var a=0;a<F;a++){var j8=0,dq=0,hl=0;if(0<=a+q&&a+q<F&&0<=N+h&&N+h<n){I.D.J6(a+q+.5,N+h+.5,bl,F,n,dW,0,0);
j8+=t[0]-128;dq+=t[1]-128;hl+=t[2]-128}if(0<=a-q&&a-q<F&&0<=N-h&&N-h<n){I.D.J6(a-q+.5,N-h+.5,bl,F,n,dW,0,0);
j8-=t[0]-128;dq-=t[1]-128;hl-=t[2]-128}var H=N*F+a<<2;e4[H]=Math.max(0,Math.min(255,j8*iW+128));e4[H+1]=Math.max(0,Math.min(255,dq*iW+128));
e4[H+2]=Math.max(0,Math.min(255,hl*iW+128));e4[H+3]=f9[H+3]}}if(i=="ShrE"){var P=C.rect,F=P.m,n=P.J;
I.z.a1e(C.buffer,F,n,L.buffer)}if(i=="Dspc"){var P=C.rect,F=P.m,n=P.J;I.z.acp(C.buffer,F,n,L.buffer)}if(i=="Slrz"){var gY=L.buffer,bE=128;
for(var Y=0;Y<gY.length;Y+=4){if(gY[Y]>bE)gY[Y]=255-gY[Y];if(gY[Y+1]>bE)gY[Y+1]=255-gY[Y+1];if(gY[Y+2]>bE)gY[Y+2]=255-gY[Y+2]}}if(i=="Wnd "){var P=C.rect,F=P.m,n=P.J,dn=["Wnd","Blst","Stgr"],a3=m.WndM.v.WndM;
I.z.pw(C.buffer,F,n,L.buffer,[dn.indexOf(a3),m.Drct.v.Drct!="Left"])}if(i=="Bokh"){var P=C.rect,F=P.m,n=P.J,R=F*n,T=R*4,en=C.buffer.slice(0),g3=m.BkDi.v.BtDi,h4=m.BkDc,gJ=m.BkDs.v,at=m.BkDp.v/255;
if(g3=="BeIn")at=0;var aZ=57*(.3+.7*((F+n)/2)/1750)*(m.BkIb.v/100)*(1+.2*Math.pow(at,.1)),k7=parseInt(m.BkIs.v.BtIs.slice(3)),hH=-m.BkIr.v*Math.PI/180,dl=[];
for(var Y=0;Y<8;Y++){var cm=hH+Y*(Math.PI*2/k7),gv=hH+(Y+1)*(Math.PI*2/k7),bm=Math.cos(cm),hk=Math.sin(cm),h1=Math.cos(gv),fN=Math.sin(gv),dR=[0,0,0];
I.OT.x3([[bm,hk,1,0],[h1,fN,1,0],[1,1,1,1]],dR);if(dR[2]>0){dR[0]*=-1;dR[1]*=-1;dR[2]*=-1}dl.push(dR[0],dR[1],dR[2],0)}if(g3=="BeIn"){I.eS(en,0,16777215);
at=1}else if(g3=="BeIt"&&h4.v.BtDc=="BeCt"){}else{var h0;if(g3=="BeIt"&&h4.v.BtDc=="BeCm")h0=l[1];else if(g3=="BeIa")h0=l[2][h4.v];
if(h0==null){I.eS(en,0,16777215)}else{var U;if(h0.rect.LJ(P))U=h0.channel;else U=h0.Hp(P);I.uC(U,en,3)}}if(gJ)for(var Y=0;
Y<T;Y+=4)en[Y+3]=255-en[Y+3];if(cY.fp){var ip=en,gE=F,dH=n,g6=1,dC=(m.BkSb.v==0||m.BkSt.v==255)&&g3=="BeIn";
if(!dC){var h2=0;for(var Y=0;Y<T;Y+=4)h2+=Math.abs(at-en[Y+3]*(1/255));h2=h2/R*aZ;var e1=3.14*h2*h2*F*n/3e6;
if(e1>2e3){alert("too large radius");return}}while(dC&&3*(aZ/g6)*(aZ/g6)*F*n>500*2e3*2e3){var jz=I.aiZ(en,new j2(0,0,gE,dH));
en=jz.S2;gE=jz.rect.m;dH=jz.rect.J;g6*=2}var iD=Date.now(),Q=cY.H4(0,gE,dH);Q.set(en);var bx=cY.H4(1,F,n);
cY.OK(bx);cY.filter.PU({type:cY.filter.a2P,DF:new Float32Array([1/gE,1/dH]),amZ:at,pQ:aZ/g6,apA:new Float32Array([m.BkSb.v/100,m.BkSt.v/255]),ay2:new Float32Array([m.BkNa.v/100,m.BkNt.v.BtNt=="BeNu"?0:1,m.BkNm.v?1:0]),apL:new Float32Array(dl.slice(0,16)),a9H:new Float32Array(dl.slice(16))},Q.zo);
bx.get(L.buffer);var fv=L.buffer;for(var Y=0;Y<T;Y+=4)fv[Y+3]=C.buffer[Y+3]}}if(i=="rigidTransform"){var iD=Date.now(),hE=ft.atr,Q=C.buffer.slice(0),jO=0,jM=0;
I.Qs(Q);I.eS(L.buffer,0);var F=C.rect.m,n=C.rect.J,kc=m.puppetShapeList.v,dJ=[],bS=[],gr=[],jB=[];for(var di=0;
di<kc.length;di++){var bb=kc[di].v,O=jO*2,g=jM*3,cq=bb.originalVertexArray.v.length>>>2,hJ=bb.indexArray.v.length>>>2,a$=new Float32Array(hE(bb.originalVertexArray.v));
for(var Y=0;Y<cq;Y++)dJ[O+Y]=a$[Y];var cH=new Float32Array(hE(bb.deformedVertexArray.v));for(var Y=0;
Y<cq;Y++)bS[O+Y]=cH[Y];var k8=new Uint32Array(hE(bb.indexArray.v));for(var Y=0;Y<hJ;Y++)gr[g+Y]=jO+k8[Y];
var dM=[],i0=[],ct=bb.PnDp.v;for(var Y=0;Y<ct.length;Y++){dM.push(bb.pinVertexIndices.v[Y].v);i0.push(ct[Y].v)}var h7=I.r2.a3A(a$,k8,dM,i0);
for(var Y=0;Y<h7.length;Y++)jB[jO+Y]=h7[Y];jO+=cq>>>1;jM+=~~(hJ/3)}var w=C.rect,F=w.m,n=w.J;I.r2.u9(Q,F,n,L.buffer,F,n,dJ,bS,jB,gr);
I.J7(L.buffer)}if(i=="lightFilterGradient"){function je(kF){var ku=1/Math.sqrt(kF[0]*kF[0]+kF[1]*kF[1]+kF[2]*kF[2]);
kF[0]*=ku;kF[1]*=ku;kF[2]*=ku}var F=C.rect.m,n=C.rect.J,R=F*n,iD=Date.now(),kp=I.R(R),jo=.3,hT=.7;I.Gt(L.buffer,kp);
var bL=I.R(R);I.Zo.MO(kp,bL,L.rect,16);var cz=I.R(R);I.Zo.MO(kp,cz,L.rect,8);var b2=kp,b1=new Float32Array(R),e5=m.Dtl.v,b$=e5[2].v,jC=e5[1].v,ff=e5[0].v,iT=m.Scl.v*40*m.textureScale.v/(b$+jC+ff);
b$*=iT;jC*=iT;ff*=iT;for(var Y=0;Y<R;Y++){var kg=bL[Y]*(1/255),dX=cz[Y]*(1/255),bf=b2[Y]*(1/255);bf=bf*bf;
b1[Y]=b$*kg+jC*dX+ff*bf}var hA=m.blur.v;if(hA!=0){I.Zo.Kh(b1,L.rect,hA)}var e_=F-1,eC=n-1;for(var N=0;
N<n;N++)for(var a=0;a<F;a++){var Y=N*F+a,H=Y*4,hi=b1[Y],q=jo*(b1[Y+(a==e_?0:1)]-hi)+hT*(hi-b1[Y-(a==0?0:1)]),h=jo*(b1[Y+(N==eC?0:F)]-hi)+hT*(hi-b1[Y-(N==0?0:F)]),kF=[1,0,q],am=[0,1,h];
je(kF);je(am);var gv=kF[0],kA=kF[2],kH=am[1],gd=am[2],cu=-kA*kH,d0=-gv*gd,dz=gv*kH;L.buffer[H]=~~(127.5+cu*127.5);
L.buffer[H+1]=~~(127.5+d0*127.5);L.buffer[H+2]=~~(127.5+dz*127.5)}}if(i=="defr"){var F=C.rect.m,n=C.rect.J;
d8(C.buffer,F,n,L.buffer)}if(i=="dDFT"||i=="iDFT"){function iL(k7){if(k7==0)return 1;k7--;k7|=k7>>1;
k7|=k7>>2;k7|=k7>>4;k7|=k7>>8;k7|=k7>>16;return k7+1}var F=C.rect.m,n=C.rect.J,hq=iL(Math.max(F,n)),eF=hq>>>1,dY=new j2(0,0,hq,hq),e$=new j2(0,0,F,n);
e$.y=hq-n>>>1;var jE=F>>>1,hd=new j2(0,e$.y,jE,n),ge=new I.RV(F*n);I.M8(C.buffer,ge);var j$=new Float64Array(hq*hq),gq=new Float64Array(hq*hq),U=I.R(hq*hq);
FFT.init(hq);var aj=[ge.Z,ge.r,ge.e];for(var Y=0;Y<3;Y++){var jk=aj[Y];U.fill(0);if(i=="dDFT"){I.Vo(jk,e$,U,dY);
ft.ayt(U,hq,j$,gq);I.Vo(U,dY,jk,e$,hd);hd.x+=jE;dY.x-=eF-jE;I.Vo(U,dY,jk,e$,hd);hd.x-=jE;dY.x+=eF-jE}else{I.Vo(jk,e$,U,dY,hd);
hd.x+=eF;e$.x+=eF-jE;I.Vo(jk,e$,U,dY,hd);hd.x-=eF;e$.x-=eF-jE;ft.an0(U,hq,j$,gq);I.Vo(U,dY,jk,e$)}}I.bb(ge,L.buffer)}if(i=="Avrg"){var gF=0,bj=0,jc=0,dj=0,ek=1;
for(var Y=0;Y<C.buffer.length;Y+=4){var s=C.buffer[Y+3];jc+=C.buffer[Y]*s;bj+=C.buffer[Y+1]*s;gF+=C.buffer[Y+2]*s;
dj+=s}var gc=1/dj;gF=Math.round(ek*(gF*gc)+(1-ek)*255);bj=Math.round(ek*(bj*gc)+(1-ek)*255);jc=Math.round(ek*(jc*gc)+(1-ek)*255);
I.eS(L.buffer,gF<<16|bj<<8|jc,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(i)!=-1){var dk=m.Rds?m.Rds.v.val:1,bk=i=="boxblur"?I.Zo.in:I.Zo.amC;
ft.M3(dk,bk,L.buffer,L.rect);if(i=="UnsM"||i=="smartSharpen"){var iW=(m.Amnt?m.Amnt.v.val:200)/100,cT=0;
if(i=="UnsM")cT=m.Thsh.v;else iW*=.75;for(var Y=0;Y<C.buffer.length;Y++){if((Y&3)==3){L.buffer[Y]=C.buffer[Y];
continue}var eM=C.buffer[Y],j5=L.buffer[Y],c5=iW*(eM-j5);if(c5>0)c5=Math.max(0,c5-cT);else c5=Math.min(0,c5+cT);
L.buffer[Y]=Math.max(0,Math.min(255,eM+c5))}}if(i=="HghP")for(var Y=0;Y<C.buffer.length;Y++){if((Y&3)==3){L.buffer[Y]=C.buffer[Y];
continue}var eM=C.buffer[Y],j5=L.buffer[Y];L.buffer[Y]=Math.max(0,Math.min(255,128+eM-j5))}}if(i=="AdNs"){var ha=new Uint8ClampedArray(L.buffer.buffer),cd=255*m.Nose.v.val/100,cE;
if(m.Dstr.v.Dstr=="Gsn")cE=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else cE=function(){return Math.random()*2-1};for(var Y=0;Y<ha.length;Y+=4){var w=ha[Y],jn=ha[Y+1],dI=ha[Y+2],hg,es,i1;
if(m.Mnch.v){hg=es=i1=cE()}else{hg=cE();es=cE();i1=cE()}w+=cd*hg;jn+=cd*es;dI+=cd*i1;ha[Y]=w;ha[Y+1]=jn;
ha[Y+2]=dI}}var iD=Date.now();if(i=="Mdn "||i=="DstS"||i=="Mxm "||i=="Mnm "||i=="surfaceBlur"){var w=0,kj=m.Thsh,bb=0;
if(kj)kj=kj.v;else kj=0;if(i=="Mdn "||i=="Mxm "||i=="Mnm "||i=="surfaceBlur")w=m.Rds.v.val;else w=m.Rds.v;
var bB=10*Math.ceil(w/10),F=C.rect.m,n=C.rect.J,cl=["Mnm ","Mxm ","surfaceBlur"].indexOf(i),av=(bb==0?1:.75)*[.73,.73,1.2][cl]*(F*n*Math.pow(bB*bB,1.05))/6022387,d7=.6*(F*n*Math.pow(w,1/2.6))/6500;
if(i=="Mxm "||i=="Mnm ")d7=F*n/13e3;var aQ=m.preserveShape;if(aQ&&aQ.v.preserveShape=="Rndn")bb=1;if(cY.fp&&cl!=-1&&(av<d7||bb==1)&&av<500){var Q=cY.H4(0,F,n);
Q.set(C.buffer);var X=cY.H4(1,F,n);cY.OK(X);cY.filter.PU({type:cY.filter.adU,DF:new Float32Array([1/F,1/n]),pQ:w,agK:kj/255,Hw:[bb,cl,bB]},Q.zo);
X.get(L.buffer)}else if(i=="Mxm "||i=="Mnm "){var F=C.rect.m,n=C.rect.J;I.Hn.aw2(C.buffer,L.buffer,F,n,1+Math.floor(m.Rds.v.val)*2,i=="Mxm ")}else{w=Math.round(w);
I.Lc.fq=.5;I.Lc.xe=kj;var bk=i=="surfaceBlur"?1:0;I.Lc._j(C.buffer,L.buffer,F,n,w,bk);if(i=="DstS")for(var Y=0;
Y<F*n*4;Y++){var ab=Math.abs(C.buffer[Y]-L.buffer[Y]);if(ab<=kj)L.buffer[Y]=C.buffer[Y]}}}if(i=="ClrH"){var hd=C.rect.clone();
hd.x=hd.y=0;var w=m.Rds.v;w=Math.round(w*Math.sqrt(2));var F=hd.m,n=hd.J,ge=new I.RV(F*n);I.M8(C.buffer,ge);
I.Fb(ge.Z);I.Fb(ge.r);I.Fb(ge.e);var aG=I.BF(F,n),fv=I.R(F*n*4);for(var k9=0;k9<3;k9++){var U=k9==0?ge.Z:k9==1?ge.r:ge.e,cM=Math.PI*m["Ang"+(k9+1)].v/180,aC=new hN(1/w,0,0,1/w,0,0);
aC.rotate(cM);I.uC(U,fv,3);var t=$.V.eX([fv,hd],aC,!0),e$=t.rect;aG.clearRect(0,0,F,n);var i5=Math.sin(cM),gB=Math.cos(cM);
for(var Y=0;Y<e$.J;Y++)for(var hP=0;hP<e$.m;hP++){var a=(hP+e$.x+.5)*w,N=(Y+e$.y+.5)*w,cL=a,fF=N;a=gB*cL-i5*fF;
N=i5*cL+gB*fF;var R=t.buffer[(Y*e$.m+hP<<2)+3]*(1/255),dk=w*Math.sqrt(R*(1/Math.PI));aG.beginPath();
aG.arc(a,N,dk,0,2*Math.PI);aG.fill()}var bR=aG.getImageData(0,0,F,n);I.Ud(bR.data,U,3)}I.Fb(ge.Z);I.Fb(ge.r);
I.Fb(ge.e);I.bb(ge,L.buffer)}if(i=="Crst"||i=="Pntl"){var F=C.rect.m,n=C.rect.J,bk=i=="Crst"?I.VL.arI:I.VL.a0j;
bk(C.buffer,F,n,L.buffer,m.ClSz.v,[Math.round(z.Z),Math.round(z.r),Math.round(z.e)])}if(i=="Mztn"){var F=C.rect.m,n=C.rect.J,R=F*n,ge=new I.RV(R),eQ=[ge.Z,ge.r,ge.e];
I.M8(C.buffer,ge);var a3=m.MztT.v.MztT,aH={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[a3],iD=Date.now(),eh=[];
for(var Y=0;Y<R;Y++){eh[Y]=Math.random()}var R=F*n,i_=Math.round(R*aH[0]),ev=R-F-1;for(var Y=0;Y<i_;
Y++){var bv=Math.random(),fD=1;if(bv<.5){fD=F;bv*=2}else bv=2*(bv-.5);var jw=Math.floor(bv*ev),bn=jw+fD;
eh[jw]=eh[bn]}var hj=Math.round(F*aH[1]);for(var N=0;N<n;N++)for(var Y=0;Y<hj;Y++){var bv=I.l.jX(N*R+Y),jw=N*F+Math.floor(bv*(F-1));
eh[jw]=eh[jw+1]}var ag=new Float64Array(256);for(var Y=0;Y<256;Y++){var e3=Y/255,gK=2*(e3<.5?e3:1-e3);
gK=aH[2]+Math.pow(gK,aH[3])*(1-aH[2]);e3=e3<.5?gK*.5:1-gK*.5;ag[Y]=e3}for(var dS=0;dS<3;dS++){var U=eQ[dS];
for(var N=0;N<n;N++){for(var a=0;a<F;a++){var Y=N*F+a,ey=U[Y],e3=ag[ey],bv=eh[Y];U[Y]=bv>e3?0:255}}}I.bb(ge,L.buffer)}if(i=="Msc "){var id=m.ClSz.v.val,F=C.rect.m,n=C.rect.J,h$=Math.ceil(F/id),ax=Math.ceil(n/id),aV=I.R(h$*ax*4);
I.scale.LO(C.buffer,F,n,aV,h$,ax,1/id);I.scale.LO(aV,h$,ax,L.buffer,F,n,id)}if(i=="Clds"||i=="DfrC"){var F=L.rect.m,n=L.rect.J,R=F*n,iJ=I.R(R);
if(i=="Clds")I.eS(L.buffer,4278190080);var i2=I.R(256*4);for(var Y=0;Y<256;Y++){var H=Y<<2,gy=Y/255,k8=1-gy;
i2[H]=Math.round(gy*e.Z+k8*z.Z);i2[H+1]=Math.round(gy*e.r+k8*z.r);i2[H+2]=Math.round(gy*e.e+k8*z.e)}I.z.aha(C.buffer,F,n,iJ);
var iI=L.buffer;for(var Y=0;Y<R;Y++){var H=Y<<2,dS=iJ[Y]<<2,w=i2[dS],jn=i2[dS+1],dI=i2[dS+2];if(i=="Clds"){iI[H]=w;
iI[H+1]=jn;iI[H+2]=dI}else{iI[H]=Math.abs(iI[4*Y]-w);iI[H+1]=Math.abs(iI[4*Y+1]-jn);iI[H+2]=Math.abs(iI[4*Y+2]-dI)}}}if(i=="LnsF"){var F=C.rect.m,n=C.rect.J,a3=["Zm","Nkn","Nkn1","PnVs"].indexOf(m.Lns.v.Lns),eB=m.FlrC.v,kl=[Math.min(a3,2),m.Brgh.v/100,eB.Hrzn.v,eB.Vrtc.v],iD=Date.now();
I.ahj(C.buffer,F,n,L.buffer,kl)}var j6=["Blr ","BlrM","Shrp","ShrM"].indexOf(i);if(j6!=-1){var gG=j6>1,F=C.rect.m,n=C.rect.J,eu=I.H2.Rh[j6],fs=C.buffer.slice(0);
if(!gG)I.Qs(fs);I.H2.v3(fs,L.buffer,F,n,eu,255,!1,gG);if(!gG)I.J7(L.buffer)}if(i=="MtnB"){var bo=-m.Angl.v*Math.PI/180,a4=m.Dstn.v.val/2,iD=Date.now(),F=C.rect.m,n=C.rect.J,P=C.rect.clone();
P.x=P.y=0;if(cY.fp){var iD=Date.now(),dw=L.buffer;dw.set(C.buffer);I.Qs(dw);var h8=cY.H4(0,F,n);h8.set(dw);
var f9=I.R(4);f9[0]=Math.round(128+127*Math.cos(bo));f9[1]=Math.round(128+127*Math.sin(bo));new Uint32Array(dw.buffer).fill(new Uint32Array(f9.buffer)[0]);
var j0=cY.H4(1,F,n);j0.set(dw);cY.OK(h8,P);h8.uK(P);cY.filter.PU({type:cY.filter.VG,c9:j0.zo,DF:new Float32Array([1/F,1/n]),avL:a4/2,arm:1},h8.MF);
h8.get(dw);I.J7(dw)}else{var aC=new hN;aC.rotate(bo);var t=$.V.eX([C.buffer,C.rect],aC,!1,null,!0);ft.M3(a4,I.Zo.a24,t.buffer,t.rect);
aC.Fb();t=$.V.eX([t.buffer,t.rect],aC,!1,L.buffer.buffer,!0,L.rect)}console.log(Date.now()-iD)}if(i=="RdlB"){var F=C.rect.m,n=C.rect.J,iW=m.Amnt.v,ik=m.BlrM.v.BlrM=="Zm",k9=m.Cntr.v,j9=k9.Hrzn.v,dU=k9.Vrtc.v,q=Math.max(j9,1-j9)*F,h=Math.max(dU,1-dU)*n,dk=Math.sqrt(q*q+h*h),dN=2*Math.PI*dk*1.5,ij=Math.round(dN),hx=Math.round(dk),hd=new j2(0,0,ij,hx),fj=I.R(ij*hx*4),g5=ik?4:1,c9=ik?.6:8*((F+n)/2)/1400,jL=.1,g6=1,jN=1;
I.D.ae8(C.buffer,F,n,fj,ij,hx,j9,dU,g5,jL,g6,jN);var gP=ik?I.R(ij*hx*4):null;if(ik){I.D.S4(fj,gP,ij,hx);
var kx=gP;gP=fj;fj=kx;hd.m=hx;hd.J=ij}ft.M3(c9*iW,I.Zo.a24,fj,hd);if(ik){I.D.S4(fj,gP,hx,ij);var kx=gP;
gP=fj;fj=kx;hd.m=ij;hd.J=hx}I.D.afb(fj,ij,hx,L.buffer,F,n,j9,dU,g5,jL,g6,jN)}if(i=="Plr "){var F=C.rect.m,n=C.rect.J;
if(m.Cnvr.v.Cnvr=="RctP")I.D.afb(C.buffer,F,n,L.buffer,F,n,.5,.5,1,0,2,F/n);else I.D.ae8(C.buffer,F,n,L.buffer,F,n,.5,.5,1,0,2,F/n)}if(i=="FndE"){var F=C.rect.m,n=C.rect.J;
I.H2.apV(C.buffer,L.buffer,F,n)}if(i=="oilPaint"){var cM=m.LghD.v*Math.PI/180,eZ=[Math.cos(cM),Math.sin(cM),.001],gt=[m.stylization.v,m.cleanliness.v,m.brushScale.v,m.microBrush.v,m.lightingOn.v,m.specularity.v,eZ],P=C.rect.clone();
P.x=P.y=0;I.Ul.filter(C.buffer,P,L.buffer,gt)}if(i=="Ofst"){var F=C.rect.m,n=C.rect.J,gi=new Uint32Array(C.buffer.buffer),aT=new Uint32Array(L.buffer.buffer),cL=m.Hrzn.v,fF=m.Vrtc.v,iN=m.Fl.v.FlMd;
I.eS(aT,0);if(iN=="Bckg"||iN=="Rpt"){var hd=C.rect.clone();hd.offset(cL,fF);I.fF(gi,hd,aT,L.rect)}if(iN=="Rpt"){var bm,hk,h1,fN,df;
cL=Math.max(-F,Math.min(F,cL));fF=Math.max(-n,Math.min(n,fF));bm=cL>0?cL:0;h1=cL>0?F:F+cL;hk=fF>0?0:fF+n;
fN=fF>0?fF:n;df=fF>0?0:F*(n-1);for(var N=hk;N<fN;N++)for(var a=bm;a<h1;a++)aT[N*F+a]=gi[df+a-cL];bm=cL>0?0:F+cL;
h1=cL>0?cL:F;hk=fF>0?fF:0;fN=fF>0?n:n+fF;df=cL>0?0:F-1;for(var N=hk;N<fN;N++)for(var a=bm;a<h1;a++)aT[N*F+a]=gi[df+F*(N-fF)];
if(cL>=0&&fF>=0){bm=0;h1=cL;hk=0;fN=fF;df=0}if(cL>=0&&fF<0){bm=0;h1=cL;hk=n+fF;fN=n;df=F*(n-1)}if(cL<0&&fF>=0){bm=F+cL;
h1=F;hk=0;fN=fF;df=F-1}if(cL<0&&fF<0){bm=F+cL;h1=F;hk=n+fF;fN=n;df=F*n-1}for(var N=hk;N<fN;N++)for(var a=bm;
a<h1;a++)aT[N*F+a]=gi[df]}if(iN=="Wrp"){cL=(cL+100*F)%F;fF=(fF+100*n)%n;var hd=new j2(cL-F,fF-n,F,n);
I.fF(gi,hd,aT,L.rect);hd.offset(F,0);I.fF(gi,hd,aT,L.rect);hd.offset(0,n);I.fF(gi,hd,aT,L.rect);hd.offset(-F,0);
I.fF(gi,hd,aT,L.rect)}}if(i=="Rept"){var gf=m.Rsft.v.val/100,kf=m.SpcX.v.val/100;kf=Math.max(kf,-.99);
var eV=m.SpcY.v.val/100;eV=Math.max(eV,-.99);var g6=m.Scl.v.val/100,aC=new hN;aC.rotate(m.Angl.v*Math.PI/180);
aC.scale(g6,g6);var gR={buffer:C.buffer,rect:C.rect};I.vA(gR);if(gR.rect.bs()){gR.buffer=C.buffer;gR.rect=C.rect}var iI=gR.buffer,hd=gR.rect,ex=I.qX(iI,hd,0),gS=new Uint32Array(iI.buffer)[0];
if(!ex.bs()&&!ex.LJ(hd)){var b_=I.R(ex.P()*4);I.fF(iI,hd,b_,ex);iI=b_;hd=ex}hd.x=hd.y=0;gS=kf==0&&eV==0||m.SpcC.v?gS:0;
function h5(a){return a<0?Math.ceil(a):Math.floor(a)}var da=aC.M$(new b5(hd.m,0));da.x=h5(da.x);da.y=h5(da.y);
var iq=aC.M$(new b5(0,hd.J));iq.x=h5(iq.x);iq.y=h5(iq.y);var t=$.V.eX([iI,hd],aC,!1),e$=t.rect,e4=t.buffer,hw=Math.round(e$.x),aD=Math.round(e$.y),h9=Math.max(L.rect.m,L.rect.J)/Math.min(hd.m*g6*(1+kf),hd.J*g6*(1+eV));
h9=Math.ceil(h9*1.7);I.eS(L.buffer,gS);for(var N=-h9;N<h9;N++){for(var a=-h9;a<h9;a++){var fO=(a+N*gf)*(1+kf),jT=N*(1+eV);
e$.x=hw+Math.round(fO*da.x+jT*iq.x);e$.y=aD+Math.round(fO*da.y+jT*iq.y);if(e$.EI(L.rect))I.l.Qv("norm",e4,e$,L.buffer,L.rect,e$,1)}}}if(i=="Ctoa"){var z=I.I.oq(m.Clr.v),kj=m.Trsp.v.val/100,e6=m.Opct.v.val/100;
kj=e6==0?0:kj/e6;var F=C.rect.m,n=C.rect.J,bs=~~z.Z,cB=~~z.r,fW=~~z.e,df=C.buffer,iP=L.buffer;for(var N=0;
N<n;N++)for(var a=0;a<F;a++){var Y=N*F+a,H=Y<<2,hd=df[H],fz=df[H+1],iI=df[H+2],ic=Math.abs(bs-hd),hU=Math.abs(cB-fz),bZ=Math.abs(fW-iI),fl=Math.max(ic,hU,bZ)*(1/255);
fl=Math.max(0,Math.min(1,fl/e6));var fk=fl==0?0:1/fl,ec=kj==1?1:Math.max(0,Math.min(1,(fl-kj)/(1-kj)));
iP[H]=Math.max(0,Math.min(255,(hd-bs*(1-fl))*fk));iP[H+1]=Math.max(0,Math.min(255,(fz-cB*(1-fl))*fk));
iP[H+2]=Math.max(0,Math.min(255,(iI-fW*(1-fl))*fk));iP[H+3]=Math.min(iP[H+3],~~(.5+ec*255))}}if(i=="Dthr"){function hm(a){return~~(.5+255*I.rt(a/255))}var di=m.Plte.v,jQ;
if(di==0)jQ=[4278190080,4294967295];else{var bX=[[1,1,1],[2,2,2],[3,3,2]][di-1],hI=[1<<bX[0],1<<bX[1],1<<bX[2]],ia=[~~(255/(hI[0]-1)),~~(255/(hI[1]-1)),~~(255/(hI[2]-1))];
jQ=[];for(var w=0;w<hI[0];w++)for(var jn=0;jn<hI[1];jn++)for(var dI=0;dI<hI[2];dI++)jQ.push(255<<24|hm(dI*ia[2])<<16|hm(jn*ia[1])<<8|hm(w*ia[0]))}var F=C.rect.m,n=C.rect.J,R=F*n,jq=R*4,hl=C.buffer.slice(0),jh=L.buffer;
for(var Y=0;Y<jq;Y++)hl[Y]=~~(.5+255*I.rt(hl[Y]/255));var bV=I.R(F*n);UPNG.encode.dither(hl,F,n,jQ,jh,bV,m.Mthd?m.Mthd.v:1);
for(var Y=0;Y<jq;Y++)jh[Y]=~~(.5+255*I.ie(jh[Y]/255))}if(i=="Part"){var kw=[m.RndS.v,m.Cont.v/100,m.Size.v,m.Dpth.v/100,m.Brgh.v/100,I.I.oq(m.Clr.v),m.Time.v,m.Blnk.v,m.Fall.v,m.Turb.v/100];
I.UJ.LP(L.buffer,C.rect.m,C.rect.J,kw)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(i)!=-1){var aE=l[0],F=C.rect.m,n=C.rect.J,ag,aN=0;
if(i=="LqFy")ag=ef.uU(new Uint8Array(m.LqMe.v).buffer);else{var iv=3;if(i=="Wave")iv=Math.min(3,m.WLMn.v);
ag={HG:Math.floor(F/iv),bB:Math.floor(n/iv)};ag.map=new Float32Array(ag.HG*ag.bB*2);if(i=="LnCr"){var j9=.5*(ag.HG-1),dU=.5*(ag.bB-1),cn=Math.max(Math.abs(0-j9),Math.abs(1-j9)),fm=Math.max(Math.abs(0-dU),Math.abs(1-dU)),dK=Math.sqrt(cn*cn+fm*fm),ad=0,fR=0,ky=-1,kn=2,g6=m.LnSi.v/100,ik=1/g6,aW=m.LnIa.v/100,gX=aW==0?1e-6:aW*4.6,kt=ik/dK;
for(var N=0;N<ag.bB;N++){for(var a=0;a<ag.HG;a++){var q=(a-j9)*kt,h=(N-dU)*kt,w=Math.sqrt(q*q+h*h)*gX,i7=Math.atan(w),fI=aW>0?i7/w:w/i7,jN=j9+dK*fI*q,ez=dU+dK*fI*h,Y=N*ag.HG+a<<1;
ag.map[Y]=jN-a;ag.map[Y+1]=ez-N}}}else if(i=="Kale"){var h$=ag.HG,ax=ag.bB,f3=(h$-1)*.5,eC=(ax-1)*.5,hD=m.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,bG=m.Mirr.v,kC=Math.PI*2/bG,ee=.5*kC;
for(var N=0;N<ax;N++)for(var a=0;a<h$;a++){var q=a-f3,h=N-eC,iR=Math.sqrt(q*q+h*h),cM=Math.atan2(h,q)+hD;
cM=cM%kC;if(cM>ee)cM=kC-cM;var jN=f3+Math.cos(cM-hD)*iR,ez=eC+Math.sin(cM-hD)*iR,Y=(N*h$+a)*2;ag.map[Y]=jN-a;
ag.map[Y+1]=ez-N}}else if(i=="Dspl"&&aE.length!=0){aN=m.UndA.v.UndA=="WrpA"?2:1;var jd=m.DspF.v.pth,kb,eH=m.DspD,gj,jA,it;
if(eH){var gF=eH.v;gj=gF[1]*256+gF[0];jA=gF[5]*256+gF[4];it=new Uint8Array(gF.slice(10,10+gj*jA))}else{for(var Y=0;
Y<aE.length;Y++)if(aE[Y].zx==jd)kb=aE[Y];if(kb==null)kb=aE[0];kb.I6();var ic=kb.pC[1],it=I.R(ic.P());
I.Gt(kb.pC[0],it);gj=ic.m;jA=ic.J}ag={HG:gj,bB:jA};ag.map=new Float32Array(ag.HG*ag.bB*2);var iK=2.54*m.HrzS.v*gj/F,jY=2.54*m.VrtS.v*jA/n;
for(var N=0;N<ag.bB;N++){for(var a=0;a<ag.HG;a++){var ab=-.5+it[N*gj+a]*(1/255),Y=N*ag.HG+a<<1;ag.map[Y]=ab*iK;
ag.map[Y+1]=ab*jY}}}else if(i=="Pnch"||i=="Twrl"||i=="Sphr"||i=="ZgZg"){var iW=1,bo=Math.PI,gV=0,dv=1,ja=0,k9=3,id=1.53,fI=1;
if(i=="Pnch"||i=="Sphr"||i=="ZgZg")iW=m.Amnt.v/100;if(i=="ZgZg"){dv=m.NmbR.v;ja=["ArnC","OtFr","PndR"].indexOf(m.ZZTy.v.ZZTy)}if(i=="Twrl")bo=m.Angl.v*Math.PI/180;
if(i=="Sphr")gV=["Nrml","HrzO","VrtO"].indexOf(m.SphM.v.SphM);function bk(a){a=Math.pow(a,1-a*.3-a*a*(a*a)*.5);
return-.225*Math.sin(a*Math.PI)}function aK(n,ku,w,bm,hk,h1,fN,fI){var q=h1-bm,h=fN-hk,bq=bm-n,g4=hk-ku,gy=q*q+h*h,dI=2*(q*bq+h*g4),k9=bq*bq+g4*g4-w*w,aL=Math.sqrt(dI*dI-4*gy*k9),gD=fI/(2*gy),g8=(-dI+aL)*gD,gg=(-dI-aL)*gD;
return fI*Math.min(g8,gg)}var h$=ag.HG,ax=ag.bB,f3=ag.HG/2,eC=ag.bB/2,iV=1/f3,w=Math.sqrt(k9*k9+1)/k9,jk=k9+Math.sqrt(1/(k9*k9));
if(iW<0){k9=1.72;w=1;jk=k9;id=-1;fI=-1}for(var N=0;N<ax;N++){var h=(N-eC)/eC;for(var a=0;a<h$;a++){var q=(a-f3)*iV;
if(gV==1)h=0;else if(gV==2)q=0;var ht=Math.sqrt(q*q+h*h);if(ht<1&&ht!=0){var Y=N*ag.HG+a<<1;if(i=="Pnch"){var aJ=-iW*bk(ht)/ht;
ag.map[Y]=q*aJ*f3;ag.map[Y+1]=h*aJ*eC}else if(i=="Sphr"){var kx=aK(0,jk,w,0,0,ht,k9,fI),aB=id*iW*(kx-1);
ag.map[Y]=q*aB*f3;ag.map[Y+1]=h*aB*eC}else if(i=="Twrl"){var cM=Math.atan2(h,q)-bo*(1-ht)*(1-ht),g1=Math.cos(cM),bA=Math.sin(cM);
ag.map[Y]=(ht*g1-q)*f3;ag.map[Y+1]=(ht*bA-h)*eC}else if(i=="ZgZg"){var g1=0,bA=0,bU=iW*(.5-.5*Math.cos(ht*dv*2*Math.PI))*(1-ht);
if(ja==0){var cM=Math.atan2(h,q)-3.5*bU;g1=ht*Math.cos(cM);bA=ht*Math.sin(cM)}if(ja==1){bU=100/F*bU/ht;
g1=(1-bU)*q;bA=(1-bU)*h}if(ja==2){var G=512/F*bU*Math.PI/4;g1=G+q;bA=G+h}ag.map[Y]=(g1-q)*f3;ag.map[Y+1]=(bA-h)*eC}}}}}else if(i=="Shr "){var bO=JSON.parse(JSON.stringify(m.ShrP.v));
I.$l.i(bO,new hN(0,255/127,255/127,0,-2,0));var gM=I.$l.SV(bO,ag.bB,!0);aN=m.UndA.v.UndA=="WrpA"?2:1;
for(var N=0;N<ag.bB;N++){var q=-gM[N]*ag.HG;for(var a=0;a<ag.HG;a++){var Y=N*ag.HG+a<<1;ag.map[Y]=q}}}else if(i=="Wave"){var iS=m.NmbG.v,cU=m.WLMn.v,jR=m.WLMx.v,fB=m.AmMn.v*(Math.PI/4),hK=m.AmMx.v*(Math.PI/4),c$=m.SclH.v/100,ce=m.SclV.v/100,a3=m.Wvtp.v.Wvtp,bU=Math.sin;
if(a3=="WvTr")bU=function(a){a*=2/Math.PI;return-.5+Math.abs(a%2-1)};if(a3=="WvSq")bU=function(a){a*=2/Math.PI;
return 1+2*Math.floor(a%2-1)};var gs=[],f_=new I.l.VB(m.RndS.v);for(var Y=0;Y<iS;Y++){gs.push(f_.get()*10);
gs.push(Math.PI*iv/(cU+f_.get()*(jR-cU)));gs.push(c$*(fB+f_.get()*(hK-fB))/iv);gs.push(f_.get()*10);
gs.push(Math.PI*iv/(cU+f_.get()*(jR-cU)));gs.push(ce*(fB+f_.get()*(hK-fB))/iv)}var cS=[],iO=[],a1=Math.max(ag.HG,ag.bB);
for(var Y=0;Y<a1;Y++){var q=0,h=0;for(var hP=0;hP<iS;hP++){var dr=hP*6;q+=gs[dr+2]*bU(gs[dr]+Y*gs[dr+1]);
h+=gs[dr+5]*bU(gs[dr+3]+Y*gs[dr+4])}cS[Y]=h;iO[Y]=q}for(var N=0;N<ag.bB;N++){for(var a=0;a<ag.HG;a++){var Y=N*ag.HG+a<<1;
ag.map[Y]=iO[N];ag.map[Y+1]=cS[a]}}aN=m.UndA.v.UndA=="WrpA"?2:1}else if(i=="Rple"){aN=1;var iW=m.Amnt.v/100,fx=4,fE=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],k6=1,iM=1,bq=0,cr=["Sml","Mdm","Lrg"].indexOf(m.RplS.v.RplS);
if(cr==0){k6=1;iM=.2;bq=3}if(cr==2){k6=1;iM=2;bq=-1;fE=fE.reverse()}var i9=function(a,N){var k9=Math.cos,iT=0;
for(var Y=0;Y<fx;Y++)for(var hP=0;hP<fx;hP++)iT+=fE[Y*fx+hP]*k9(a*(Y+bq)-N*(hP+bq));return iT},b8=Math.floor(50/iv),hC=new Float32Array(b8*b8*2),gW=iM*iW*.5/iv;
for(var N=0;N<b8;N++)for(var a=0;a<b8;a++){var j9=k6*a*2*Math.PI/b8,dU=k6*N*2*Math.PI/b8,iE=i9(j9,dU),q=(i9(j9+.01,dU)-iE)*100,h=(i9(j9,dU+.01)-iE)*100,Y=(N*b8+a)*2;
hC[Y]=q*gW;hC[Y+1]=h*gW}for(var N=0;N<ag.bB;N++)for(var a=0;a<ag.HG;a++){var bA=N%b8,g1=a%b8,Y=N*ag.HG+a<<1,eA=bA*b8+g1<<1;
ag.map[Y]=hC[eA];ag.map[Y+1]=hC[eA+1]}}}I.WB.Vd(C.buffer,L.buffer,F,n,null,ag.map,ag.HG,ag.bB,aN)}return L};
var a9={};a9.abi="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");a9.gM="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
a9.dF=["ScrC","ScrD","ScrL"];a9.my=["SDRD","SDHz","SDLD","SDVt"];a9.kH="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
a9.Fz="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");a9.T8="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
a9.KE=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];a9.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
a9.TQ=function(i){var C;if(i=="ClrP")C={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(i=="Ct")C={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(i=="DryB")C={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(i=="FlmG")C={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(i=="Frsc")C={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(i=="NGlw")C={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(i=="PntD")C={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(i=="PltK")C={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(i=="PlsW")C={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(i=="PstE")C={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(i=="RghP")C={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(i=="SmdS")C={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(i=="Spng")C={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(i=="Undr")C={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(i=="Wtrc")C={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(i=="AccE")C={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(i=="AngS")C={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(i=="Crsh")C={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(i=="DrkS")C={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(i=="InkO")C={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(i=="Smie")C={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(i=="Spt")C={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(i=="SprS")C={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(i=="DfsG")C={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(i=="Gls")C={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(i=="OcnR")C={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(i=="BsRl")C={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(i=="ChlC")C={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(i=="Chrc")C={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(i=="Chrm")C={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(i=="CntC")C={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(i=="GraP")C={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(i=="HlfS")C={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(i=="NtPr")C={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(i=="Phtc")C={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(i=="Plst")C={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(i=="Rtcl")C={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(i=="Stmp")C={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(i=="TrnE")C={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(i=="WtrP")C={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(i=="GlwE")C={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(i=="Crql")C={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(i=="Grn")C={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(i=="MscT")C={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(i=="Ptch")C={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(i=="StnG")C={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(i=="Txtz")C={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
C.__name="Filter Gallery";C.classID="GEfc";C.GEfk={t:"enum",v:{GEft:i}};C.GELv={t:"bool",v:!0};return C};
a9.Jf=function(i,C){for(var Y=0;Y<C.length;Y++)~~(C[Y]=(i[4*Y]+i[4*Y+1]+i[4*Y+2])*(1/3))};a9.a0c=function(i,C,m,e,z,L){var l=UPNG.quantize(i,C);
l={sD:l.inds,ri:l.plte};if(L){var x=new Uint32Array(l.ri.length);for(var Y=0;Y<x.length;Y++)x[Y]=l.ri[Y].est.rgba;
l.sD=I.aD7(new Uint8Array(i),m,e,new Uint8Array(x.buffer))}var S=Math.floor((m+e)*.015);if(S!=0&&z)I.kg.afB(l.sD,m,e,S);
return l};a9.ny=function(i,C,m,e,z,L,l){i=m.GEfk.v.GEft;var x=C.rect,S=x.m,k=x.J,f=S*k,X=m.FlRs?m.FlRs.v>>>1:0;
function o(_){return _.Z<<24|_.r<<16|_.e<<8|255}if(i=="ClrP")I.z.avf(C.buffer,S,k,L.buffer,[m.Pncl.v,m.StrP.v,m.PprB.v]);
if(i=="Ct"){var A=m.NmbL.v,P=m.EdgS.v,F=a9.a0c(C.buffer.buffer,A*2,S,k,!0);for(var Y=0;Y<F.sD.length;
Y++)F.sD[Y]++;var n=new Uint8Array((S+2)*(k+2));I.Vo(F.sD,new j2(1,1,S,k),n,new j2(0,0,S+2,k+2));var R=I.C.auv(n,S+2,k+2,P,!1),Q=new hN(1,0,0,1,-1,-1);
for(var Y=0;Y<R.length;Y++)I.C.i(R[Y].path.j,Q,R[Y].path.j);var s=[],j=F.ri;for(var Y=0;Y<j.length;Y++){var _=j[Y].est.q;
s.push({Z:Math.round(255*_[0]),r:Math.round(255*_[1]),e:Math.round(255*_[2]),W:Math.round(255*_[3])})}var B=I.BF(S,k);
for(var Y=0;Y<R.length;Y++){var N=R[Y],_=s[N.color-1];if(_.W==0)continue;B.fillStyle="rgba("+_.Z+","+_.r+","+_.e+","+_.W/255+")";
B.beginPath();Typr.U.pathToContext({crds:N.path.j,cmds:N.path.G},B);B.fill()}if(!x.bs()){var a=B.getImageData(0,0,S,k);
I.EP(a.data,L.buffer)}}if(i=="DryB")I.z.af6(C.buffer,S,k,L.buffer,[m.BrsS.v,m.BrsD.v,m.Txtr.v]);if(i=="FlmG")I.z.awB(C.buffer,S,k,L.buffer,[m.Grn.v,m.HghA.v,m.Intn.v,X]);
if(i=="Frsc")I.z.aC$(C.buffer,S,k,L.buffer,[m.BrsS.v,m.BrsD.v,m.Txtr.v]);if(i=="NGlw")I.z.a4i(C.buffer,S,k,L.buffer,[m.Sz.v,m.Brgh.v,o(I.I.oq(m.Clr.v)),o(e),o(z)]);
if(i=="PltK")I.z.aqN(C.buffer,S,k,L.buffer,[m.StrS.v,m.StDt.v,m.Sftn.v]);if(i=="PstE")I.z.ab4(C.buffer,S,k,L.buffer,[m.EdgT.v,m.EdgI.v,m.Pstr.v]);
if(i=="RghP")I.z.a4z(C.buffer,S,k,L.buffer,[m.StrL.v,m.StDt.v,a9.kH.indexOf(m.TxtT.v.TxtT),m.Scln.v,m.Rlf.v,a9.gM.indexOf(m.LghD.v.LghD),m.InvT.v]);
if(i=="SmdS")I.z.ahe(C.buffer,S,k,L.buffer,[m.StrL.v,m.HghA.v,m.Intn.v,m.FlRs?m.FlRs.v:0,X]);if(i=="Spng")I.z.awx(C.buffer,S,k,L.buffer,[m.BrsS.v,m.Dfnt.v,m.Smth.v,m.FlRs?m.FlRs.v:0,X]);
if(i=="Undr")I.z.a0D(C.buffer,S,k,L.buffer,[m.BrsS.v,m.TxtC.v,a9.kH.indexOf(m.TxtT.v.TxtT),m.Scln.v,m.Rlf.v,a9.gM.indexOf(m.LghD.v.LghD),m.InvT.v]);
if(i=="Wtrc")I.z.a6t(C.buffer,S,k,L.buffer,[m.BrsD.v,m.ShdI.v,m.Txtr.v]);if(i=="AccE")I.z.abx(C.buffer,S,k,L.buffer,[m.EdgW.v,m.EdgB.v,m.Smth.v]);
if(i=="AngS")I.z.ajU(C.buffer,S,k,L.buffer,[m.DrcB.v,m.StrL.v,m.Shrp.v]);if(i=="Crsh")I.z.a4P(C.buffer,S,k,L.buffer,[m.StrL.v,m.Shrp.v,m.Strg.v]);
if(i=="DrkS")I.z.alJ(C.buffer,S,k,L.buffer,[m.Blnc.v,m.BlcI.v,m.WhtI.v]);if(i=="InkO")I.z.asa(C.buffer,S,k,L.buffer,[m.StrL.v,m.DrkI.v,m.LghI.v]);
if(i=="Smie")I.z.aaA(C.buffer,S,k,L.buffer,[m.StrW.v,m.StrP.v,m.Cntr.v]);if(i=="DfsG")I.z.a4H(C.buffer,S,k,L.buffer,[m.Grns.v,m.GlwA.v,m.ClrA.v,o(z),X]);
if(i=="CntC")I.z.a5j(C.buffer,S,k,L.buffer,[m.FrgL.v,m.BckL.v,a9.kH.indexOf(m.TxtT.v.TxtT),m.Scln.v,m.Rlf.v,a9.gM.indexOf(m.LghD.v.LghD),m.InvT.v,o(z),o(e)]);
if(i=="ChlC")I.z.ai6(C.buffer,S,k,L.buffer,[m.ChrA.v,m.ChlA.v,m.StrP.v,X,o(z),o(e)]);var O=i=="GraP"||i=="Chrc"||i=="Plst"||i=="Rtcl"||i=="Stmp"||i=="TrnE";
if(O){var H=I.R(S*k);if(i=="GraP")I.z.afQ(C.buffer,S,k,L.buffer,[m.StrL.v,m.LgDr.v,a9.my.indexOf(m.SDir.v.StrD),X]);
if(i=="Chrc")I.z.awD(C.buffer,S,k,L.buffer,[m.ChAm.v,m.Dtl.v,m.LgDr.v]);if(i=="Plst")I.z.ac3(C.buffer,S,k,L.buffer,[m.ImgB.v,a9.Fz.indexOf(m.LghP.v.LghP),m.Smth.v]);
if(i=="Rtcl")I.z.a9k(C.buffer,S,k,L.buffer,[m.Dnst.v,m.BlcL.v,m.WhtL.v,X]);if(i=="Stmp")I.z.ahH(C.buffer,S,k,L.buffer,[m.LgDr.v,m.Smth.v]);
if(i=="TrnE")I.z.a6d(C.buffer,S,k,L.buffer,[m.ImgB.v,m.Smth.v,m.Cntr.v,X]);I.Ud(L.buffer,H,0);a9.TP(H,L.buffer,e,z)}if(i=="NtPr")I.z.au0(C.buffer,S,k,L.buffer,[m.ImgB.v,m.Grns.v,m.Rlf.v,o(e),o(z),X]);
if(i=="WtrP")I.z.a33(C.buffer,S,k,L.buffer,[m.FbrL.v,m.Brgh.v,m.Cntr.v,X>>>1]);if(i=="Crql")I.z.adW(C.buffer,S,k,L.buffer,[m.CrcS.v,m.CrcD.v,m.CrcB.v,X]);
if(i=="Grn")I.z.aj7(C.buffer,S,k,L.buffer,[m.Intn.v,a9.T8.indexOf(m.Grnt.v.Grnt),m.Cntr.v,o(e),o(z),X]);
if(i=="MscT")I.z.ahY(C.buffer,S,k,L.buffer,[m.TlSz.v,m.GrtW.v,m.LghG.v,X]);if(i=="Ptch")I.z.ahq(C.buffer,S,k,L.buffer,[m.SqrS.v,m.Rlf.v,X]);
if(i=="Phtc"){function q(bO,id,x,cM){I.Zo.L_(bO,id,x,cM);for(var Y=0;Y<f;Y++)id[Y]=Math.max(0,Math.min(255,128+bO[Y]-id[Y]))}var h=m.Dtl.v,D=m.Drkn.v,T=I.R(f);
I.Gt(C.buffer,T);var p=I.R(f);q(T,p,x,1);if(h==1){h=2;D=Math.round(D/4)}var y=I.R(f);q(T,y,x,h);for(var Y=0;
Y<f;Y++)T[Y]=Math.max(0,Math.min(255,255-(p[Y]-y[Y])*D));a9.TP(T,L.buffer,e,z)}if(i=="Spt"||i=="SprS"){var b,g=1,u=1;
b={HG:Math.floor(S/u),bB:Math.floor(k/u)};b.map=new Float32Array(b.HG*b.bB*2);var t=new I.l.VB(X),V=new Float32Array(8192),c=m.SprR.v,E=c<20?.018*c:.36+(c-20)*.128;
if(i=="SprS"){E=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][c]}for(var Y=0;
Y<8192;Y++)V[Y]=(-1+2*t.get())*E*70;for(var Z=0;Z<k;Z++)for(var G=0;G<S;G++){var J=Z*S+G<<1;b.map[J]=V[J%7919];
b.map[J+1]=V[(J+1)%7919]}var K=b.map.slice(0),M=i=="Spt"?m.Smth.v-1:1;if(i=="Spt"&&M!=0){a9.axF(b.map,K,S,k,M);
a9.aD8(K,b.map,S,k,M)}if(i=="SprS"){var U=m.StrL.v>>>1,r=U==0?2:1;a9.axF(b.map,K,S,k,r);a9.aD8(K,b.map,S,k,r);
if(U!=0){var dS=a9.my.indexOf(m.SDir.v.StrD),w=[1,1,1,0][dS],di=[-1,0,1,1][dS],eM=2*U+1,j5=1/eM;for(var Z=0;
Z<k;Z++)for(var G=0;G<S;G++){var J=Z*S+G<<1,ds=0,ba=0;for(var Y=0;Y<eM;Y++){var ir=Math.max(0,Math.min(S-1,G-(U+Y)*w)),iP=Math.max(0,Math.min(k-1,Z-(U+Y)*di)),iy=iP*S+ir<<1;
ds+=b.map[iy];ba+=b.map[iy+1]}K[J]=ds*j5;K[J+1]=ba*j5}b.map=K}}I.WB.Vd(C.buffer,L.buffer,S,k,null,b.map,b.HG,b.bB,g)}if(i=="BsRl"||i=="PlsW"||i=="Chrm"){var iG=Date.now(),eg=I.R(f),du=eg.slice(0);
I.Gt(C.buffer,eg);var h=m.Dtl.v,gh=m.Smth.v;if(h!=15){I.Zo.MO(eg,du,x,Math.round((15-h)*.5));I.EP(du,eg)}var ga=1.4/S,d5=1.4/k,fu=new Float32Array(f),ay=new Float32Array(f),c7=new Float32Array(L.buffer.buffer);
for(var Z=0;Z<k;Z++)for(var G=0;G<S;G++){var Y=Z*S+G,w=G==S-1?eg[Y]-eg[Y-1]:eg[Y+1]-eg[Y],di=Z==k-1?eg[Y]-eg[Y-S]:eg[Y+S]-eg[Y],eE=G*ga-.7,jn=Z*d5-.7;
fu[Y]=w==0?eE:w*.4;ay[Y]=di==0?jn:di*.4}if(i=="BsRl"){var dI=(2+a9.gM.indexOf(m.LghD.v.LghD))*Math.PI*.25,ds=Math.cos(dI);
if(Math.abs(ds)<.1)ds=0;ds=Math.sign(ds);var ba=Math.sin(dI);if(Math.abs(ba)<.1)ba=0;ba=Math.sign(ba);
var dQ=1/(ds*ds+ba*ba);for(var Z=0;Z<k;Z++)for(var G=0;G<S;G++){var Y=Z*S+G,jo=Math.max(-1,Math.min(1,ds*fu[Y])),hT=Math.max(-1,Math.min(1,ba*ay[Y]));
du[Y]=128+127*(jo+hT)*dQ}if(gh!=1){I.Zo.MO(du,eg,x,Math.round((gh-1)*.5));I.EP(eg,du)}a9.TP(du,L.buffer,e,z)}else{if(i=="Chrm")gh=5+gh;
if(gh>1)a9.M3(fu,ay,c7,x,gh-1);if(i=="PlsW"){var ea=new Uint8Array(fu.buffer);for(var Y=0;Y<f;Y++){var b9=Y<<2,w=fu[Y],di=ay[Y],bI=1/(Math.sqrt(1+w*w)*Math.sqrt(1+di*di)),ii=bI*bI,d_=ii*ii,_=~~(255*(d_*d_*ii));
ea[b9+0]=_;ea[b9+1]=_;ea[b9+2]=_;ea[b9+3]=_}L.buffer.set(C.buffer);I.l.Qv("norm",ea,x,L.buffer,x,x,m.HghS.v/20)}else if(i=="Chrm"){var c4=L.buffer,kG=S>>>1,fC=k>>>1;
for(var Y=0;Y<f;Y++){var b9=Y<<2,w=fu[Y],di=ay[Y],bO={x:1,y:0,jF:w};k4.uI(bO);var id={x:0,y:1,jF:di};
k4.uI(id);var a5=k4.a2N(bO,id),eU=1/a5.jF,af=~~Math.max(0,Math.min(S-1,kG-a5.x*eU*kG)),a7=~~Math.max(0,Math.min(k-1,fC-a5.y*eU*fC)),_=eg[a7*S+af];
c4[b9+0]=_;c4[b9+1]=_;c4[b9+2]=_}}}}if(i=="Gls"||i=="OcnR"||i=="Txtz"){var g$=i=="OcnR"?2:a9.kH.indexOf(m.TxtT.v.TxtT),cg=a9.QK(g$),cC=cg[0],eg=cg[1],kF=cC.m,am=cC.J,eM=24,dA=0,e9,eI;
function cJ(h0,ip,gE){return~~(fX*(h0+ip)+8192)&127}var fu=new Float32Array(f),ay=new Float32Array(f),c7=new Float32Array(L.buffer.buffer),fX=i=="OcnR"?1/(1+(m.RplS.v-1)*.1):100/m.Scln.v;
if(g$==3)fX*=32/22.2;var iG=Date.now(),hP=fX,ga=1.4/S,d5=1.4/k;if(i=="Txtz"){hP*=1/255;eM=256}for(var Z=0;
Z<k;Z++){var kx=cJ(Z,x.y,am),iP=kx+1&127;for(var G=0;G<S;G++){var Y=Z*S+G,f2=cJ(G,x.x,kF),ir=f2+1&127,gt=0,iD=0,eb=0;
if(i=="Txtz"){gt=I.D.R3(fX*G,fX*Z,eg,128,128);iD=I.D.R3(fX*G,fX*Z+1,eg,128,128);eb=I.D.R3(fX*G+1,fX*Z,eg,128,128)}else{gt=eg[kx*kF+f2];
iD=eg[iP*kF+f2];eb=eg[kx*kF+ir]}fu[Y]=Math.max(-eM,Math.min((eb-gt)*hP,eM));ay[Y]=Math.max(-eM,Math.min((iD-gt)*hP,eM))}}if(i=="Txtz")a9.a5P(fu,ay,c7,x,6);
else a9.M3(fu,ay,c7,x,i=="Txtz"?1:i=="OcnR"?3.5/fX:m.Smth.v);if(i=="Txtz")dA=m.InvT.v?-1:1;else if(i=="Gls"){dA=[1,.4,.5,.5,.5,.5,.5][g$]*(Math.exp(m.Dstr.v*.155)-1);
if(m.InvT.v)dA=-dA}else{dA=.5*(Math.exp(m.RplM.v*.155)-1)}var c4=L.buffer;if(i=="Txtz"){var dI=(2+a9.gM.indexOf(m.LghD.v.LghD))*Math.PI*.25,ds=Math.cos(dI),ba=Math.sin(dI);
e9={x:ds,y:ba,jF:0};k4.uI(e9);eI=m.Rlf.v;eI=eI/4+Math.max(0,(eI-35)*2)}function d9(bO,id,e4){var dq=I.l.overF(id,bO,1),h0=(1-e4)*bO+e4*(e4*id+(1-e4)*dq);
return h0*255}for(var Z=0;Z<k;Z++)for(var G=0;G<S;G++){var Y=Z*S+G,b9=Y<<2,w=fu[Y],di=ay[Y],bO={x:1,y:0,jF:w};
k4.uI(bO);var id={x:0,y:1,jF:di};k4.uI(id);var a5=k4.a2N(bO,id);if(i=="Txtz"){var f9=k4.apq(a5,e9)*dA,e4=1,_=1;
if(f9<0){_=0;f9=-f9}e4=Math.min(1,f9*eI);c4[b9+0]=~~d9(C.buffer[b9]*(1/255),_,e4);c4[b9+1]=~~d9(C.buffer[b9+1]*(1/255),_,e4);
c4[b9+2]=~~d9(C.buffer[b9+2]*(1/255),_,e4)}else{var eU=dA/a5.jF,af=~~Math.max(0,Math.min(S-1,G-a5.x*eU)),a7=~~Math.max(0,Math.min(k-1,Z-a5.y*eU)),cj=a7*S+af<<2;
c4[b9+0]=C.buffer[cj];c4[b9+1]=C.buffer[cj+1];c4[b9+2]=C.buffer[cj+2]}}}if(i=="PntD"){var i4=m.Shrp.v*.4,d6=m.BrsT.v.BrsT,ko={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[d6],cM=Math.round(m.Sz.v*.5);
I.Lc.fq=ko[0];I.Lc._j(C.buffer,L.buffer,S,k,cM,0,[]);var g2=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];g2=I.H2.wn(g2);
var iW=L.buffer.slice(0);I.H2.v3(iW,L.buffer,S,k,g2,0);for(var Y=0;Y<C.buffer.length;Y++){var bl=L.buffer[Y]-iW[Y];
L.buffer[Y]=Math.max(0,Math.min(255,iW[Y]+i4*bl))}}if(i=="GlwE"){var dW=L.buffer.slice(0);I.Lc.fq=.5;
I.Lc._j(C.buffer,dW,S,k,m.Smth.v>>>1,0,[]);I.H2.apV(dW,L.buffer,S,k);I.EP(L.buffer,dW);I.Fb(dW);I.eS(dW,4278190080,16777215);
I.Hn.aw2(dW,L.buffer,S,k,(m.EdgW.v>>>1)*2+1,!0);var j8=m.EdgB.v/10;for(var Y=0;Y<dW.length;Y++){if((Y&3)==3)continue;
var dq=L.buffer[Y];L.buffer[Y]=Math.max(0,Math.min(255,dq*j8))}}if(i=="StnG"){I.VL.aAW(C.buffer,S,k,L.buffer,m.ClSz.v,[Math.round(e.Z),Math.round(e.r),Math.round(e.e)],m.BrdT.v)}if(i=="HlfS"){var hl=m.HlSz.v,gY=hl*2+1,bE=m.Cntr.v,dn=a9.dF.indexOf(m.ScrT.v.ScrT),f=S*k,a3=f*4,en=I.R(f),g3=C.buffer,hH=0,dl=0;
a9.Jf(g3,en);var h4=en.slice(0);I.Zo.asg(h4,en,x,hl);var gJ=Math.PI/gY,at=new Float64Array(S),ds=new Float64Array(S),aZ=new Float64Array(2*S);
for(var G=0;G<S;G++){var f2=(G-(S>>>1))*gJ;at[G]=f2*f2;ds[G]=Math.cos(f2);var w=G<<1;aZ[w]=Math.sin(w*(1/4.5));
aZ[w+1]=Math.sin((w+1)*(1/4.5))}for(var Z=0;Z<k;Z++){var kx=(Z-(k>>>1))*gJ,ba=Math.cos(kx),cm=kx*kx;
for(var G=0;G<S;G++){var _=ba;if(dn==0){var gv=.5+Math.sqrt(at[G]+cm)*4.5;_=aZ[~~gv]}else if(dn==1){_=ds[G]*ba}var Y=Z*S+G,bm=en[Y]*(.75+.25*_),e4=g3[(Y<<2)+3]*(1/255),h1=Math.max(0,Math.min(255,~~bm));
hH+=h1*e4,dl+=e4;en[Y]=h1}}hH/=dl;var fN=128+1.26*(hH-128),j8=.08+.25*Math.abs((128-hH)/128),dR=1+j8*bE;
for(var Y=0;Y<f;Y++){var bm=fN+(en[Y]-fN)*dR;en[Y]=Math.max(0,Math.min(255,~~bm))}if(bE>46)I.round(en);
a9.TP(en,L.buffer,e,z)}for(var Y=0;Y<C.buffer.length;Y+=4)L.buffer[Y+3]=C.buffer[Y+3]};a9.TP=function(i,C,m,e){var z=i.length,L=m.Z,l=m.r,x=m.e,S=e.Z,k=e.r,f=e.e;
for(var Y=0;Y<z;Y++){var X=i[Y]*(1/255),o=1-X,A=Y<<2;C[A]=~~(L*o+S*X);C[A+1]=~~(l*o+k*X);C[A+2]=~~(x*o+f*X)}};
a9.QK=function(i){if(i==6)i=2;var C="blocks canvas frosted tinylens brick burlap".split(" ")[i];if(a9.GR==null)a9.GR=[];
if(a9.GR[i]==null){var m,e;if(i==2){e=new j2(0,0,128,128);var z=ft.TQ("AdNs");z.Mnch.v=!0;z.Dstr.v.Dstr="Gsn";
z.Nose.v.val=50;var m=I.R(e.P()*4),L=m.slice(0);new Uint32Array(L.buffer).fill(4286611584);ft.ny("AdNs",{buffer:L,rect:e},z,0,0,{buffer:m,rect:e})}else{var l=i$.Nf.get("tex/"+C,!0)[0];
e=l.Jw;m=new Uint8Array(l.data)}var x=I.R(e.P());I.Ud(m,x,0);a9.GR[i]=[e,x]}return a9.GR[i]};a9.M3=function(i,C,m,e,z){if(z<=1){z=Math.round(z);
a9.a5P(i,C,m,e,[1,16,4][z]);return}var L=z*.42;if(i){I.Zo.Kh(i,e,L,3)}if(C){I.Zo.Kh(C,e,L,3)}};a9.a5P=function(i,C,m,e,z){var L=I.H2.wn([1,2,1,2,z,2,1,2,1]);
if(i){m.set(i);I.H2.a6b(i,m,e.m,e.J,L);i.set(m)}if(C){m.set(C);I.H2.a6b(C,m,e.m,e.J,L);C.set(m)}};a9.oe=function(i){if(i==null)return new b5(0,0);
var C=0,m=i.GEfs?i.GEfs.v:[{v:i}];for(var Y=0;Y<m.length;Y++){var e=m[Y].v,L=1e4;if(e.GELv&&!e.GELv.v)continue;
var z=e.GEfk.v.GEft;if(z=="GlwE"||z=="Phtc"||z=="BsRl"||z=="PlsW"||z=="Chrm"||z=="Gls"||z=="OcnR"||z=="InkO")L=0;
C=Math.max(C,L)}return new b5(C,C)};a9.acl=function(i){var C=[0,0,0,0,0,0,0,0,0,0,0,0,0],m=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][i];
for(var Y=0;Y<13;Y++){var e=Y-6;C[Y]=1/(m*Math.sqrt(2*Math.PI))*Math.exp(-.5*(e/m)*(e/m))}return C};
a9.axF=function(i,C,m,e,z){var L=a9.acl(z),l=6,x=13;for(var S=0;S<e;S++)for(var k=0;k<m;k++){var f=S*m+k<<1,X=0,o=0;
for(var Y=0;Y<x;Y++){var A=k+Y-l,P=A<0?0:A>=m?m-1:A,F=(S*m+P)*2,n=L[Y];X+=n*i[F];o+=n*i[F+1]}C[f]=X;
C[f+1]=o}};a9.aD8=function(i,C,m,e,z){var L=a9.acl(z),l=6,x=13;for(var S=0;S<e;S++)for(var k=0;k<m;k++){var f=S*m+k<<1,X=0,o=0;
for(var Y=0;Y<x;Y++){var A=S+Y-l,P=A<0?0:A>=e?e-1:A,F=(P*m+k)*2,n=L[Y];X+=n*i[F];o+=n*i[F+1]}C[f]=X;
C[f+1]=o}};function aw(){}aw._g=[2,5,5,7,4,4];aw.Az="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
aw.W5="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
aw.jI=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
aw.VJ=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
aw._A=function(i){if(i=="passThrough")return"pass";return aw.Az[aw.W5.indexOf(i)]};aw.An=function(i){if(i=="pass")return"passThrough";
return aw.W5[aw.Az.indexOf(i)]};aw.getName=function(i){return aw.jI[aw.Az.indexOf(i)]};function cc(){this.rect=null;
this.buffer=null;this.fn="norm";this.opacity=255;this.cy=!1;this.kv=!1;this.de=0;this.MW=0;this.mI=!0;
this.m3=[];for(var Y=0;Y<10;Y++)this.m3.push(0,0,255,255);this.name=null;this.add={};this.xr=null;this.iI=null;
this.X=null;this.ow=null;this.aq0=30;this.OU=null;this.DA=null;this.zd=null;this.un=null;this.ii=0;this.Aa=!1;
this.L5=null;this.f3=new cc.Fv}cc.Fv=function(){this.oF=!0;this.uZ=!0;this.SJ=I.R(0);this.ark=I.R(0);
this.N3=null;this.Qb={};this.a4E=null;this._o=null;this.YI=null;this.BX=null;this.FP=null;this.YN=null;
this.Ee=null;this.pY=null;this.rd=null;this.nF=null;this.pm=null;this.G4=null;this.RY=!1};cc.Fv.prototype.aBw=function(){this.oF=null;
this.uZ=!1;this.N3=null;this.RY=cY.fp};cc.Fv.prototype.axG=function(){k4.abU(this.Qb);this.SJ=I.R(0);
this.ark=I.R(0);if(this.BX)this.BX.delete();if(this.FP)this.FP.delete();this.BX=null;this.FP=null;var i=[this.YN,this.Ee,this.pY,this.rd,this.nF,this.pm];
for(var Y=0;Y<6;Y++)if(i[Y]!=null&&i[Y]instanceof cY.RV)i[Y].delete();this.YN=null;this.Ee=null;this.pY=null;
this.rd=null;this.nF=null;this.pm=null};cc.prototype.Y=function(i){if(i==null)i=this.rect.clone();if(this.f3.N3==null)this.f3.N3=i;
else this.f3.N3=this.f3.N3.Z0(i)};cc.prototype.yJ=function(){return this.add.lsct==aU.AY||this.add.lsct==aU.Lp};
cc.prototype.Q9=function(){var i=this.add;return i.SoCo!=null||i.GdFl!=null||i.PtFl!=null||i.vstl!=null};
cc.prototype.ajx=function(){var i=this.add.lmfx;if(i==null)return;var C=["GrFl","patternFill"];for(var Y=0;
Y<C.length;Y++){var m=jt.m8[jt.order.indexOf(C[Y])],e=i[m].v;if(e.length==0)continue;for(var z=0;z<e.length;
z++){var L=e[z].v;if(L.enab.v&&(L.Algn==null||!L.Algn.v))this.f3.uZ=!0}}};cc.prototype.azB=function(){var i=this.X,C=this.f3.oF;
if(this.Q9())i=this.Re();if(!cY.fp)return i.cD();if(this.f3.FP==null||C||cY.fp!=this.f3.RY){var m=i.S8(),e=this.f3.FP,z=null;
if(C!=!0&&C!=null){z=C.clone();z.offset(-m.x,-m.y)}if(e==null||e.m!=m.m||e.J!=m.J){e=this.f3.FP=new cY.UQ(m.m,m.J);
z=null}e.set(i.cD(),z)}return this.f3.FP};cc.prototype.aod=function(i){var C=this.rect,m=this.buffer;
if(!cY.fp){var e=this.VM(i,m,C);if(e){m=e.S2;C=e.rect}return m}if(this.f3.N3!=null||cY.fp!=this.f3.RY){var e=this.VM(i,m,C);
if(e){m=e.S2;C=e.rect}var z=C;if(cY.fp!=this.f3.RY||this.f3.BX==null||this.f3.BX.m!=z.m||this.f3.BX.J!=z.J){if(this.f3.BX)this.f3.BX.delete();
this.f3.BX=new cY.RV(z.m,z.J);this.f3.BX.set(m)}else{var L=this.f3.N3.clone();L.offset(-C.x,-C.y);this.f3.BX.set(m,L)}}return this.f3.BX};
cc.prototype.tk=function(){var i=this.X;if(this.Q9())i=this.Re();return i!=null&&i.isEnabled&&(!i.rect.bs()||i.oq()!=255)};
cc.prototype.VM=function(i,C,m){if(this.k_()){var e=this.x6(i);if(e.X&&e.X.isEnabled&&(!e.X.rect.bs()||e.X.color==0)){var z=this.add.SoLd.filterFX.v;
e.X.du=z.filterMaskDensity?z.filterMaskDensity.v:255;e.X.JQ=z.filterMaskFeather?z.filterMaskFeather.v:0;
var L=e.buffer,l=e.rect;if(l.P()<m.P()){l=m;L=I.R(l.P()*4);I.fF(e.buffer,e.rect,L,l)}var x=e.X.Hp(m);
I.Fb(x);C=C.slice(0);I.l.ZC(L,l,C,m,x,m,0,m,1);return{S2:C,rect:m}}}};cc.prototype.agk=function(){var i={q6:!1,Se:!1,qn:0,CU:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)i.Se=!0;if(this.Re()&&this.Re().isEnabled)i.q6=!0;if(i.q6&&i.Se){i.qn=this.Re().rect.x-this.add.vmsk.Re().rect.x;
i.CU=this.Re().rect.y-this.add.vmsk.Re().rect.y}return i};cc.prototype.rH=function(i,C){if(d4!=0)return;
if(C&&this.Re().JQ!=0){C=C.clone();var m=Math.round(this.Re().JQ*2.4);C.sW(m,m)}var e=!1;if(this.add.lsct==aU.ds)return;
var z=this,L=this.Re()!=null&&this.Re().kL,l=this.add.vmsk!=null&&this.add.vmsk.kL,x=this.agk(),S=JSON.stringify(x)!=this.f3.a4E||x.q6&&L||x.Se&&l;
if(S){if(x.Se){var k=this.add.vmsk.Re();if(x.q6){this.X=this.Re().oW(k);this.f3._o=new b5(this.X.rect.x-this.Re().rect.x,this.X.rect.y-this.Re().rect.y)}else this.X=k}if(this.X)e=!0;
if(this.X)this.f3.YI=new b5(this.rect.x-this.X.rect.x,this.rect.y-this.X.rect.y);if(x.q6)this.Re().kL=!1;
if(x.Se)this.add.vmsk.kL=!1;this.Y(C)}else{if(x.q6&&x.Se){this.X.rect.x=this.Re().rect.x+this.f3._o.x;
this.X.rect.y=this.Re().rect.y+this.f3._o.y}}if(z.Q9()){this.pc(i)}if(z.rq()){var f;if(this.X)f=new b5(this.rect.x-this.X.rect.x,this.rect.y-this.X.rect.y);
if(this.X&&this.X.isEnabled&&(this.f3.YI==null||!f.LJ(this.f3.YI))){this.f3.YI=f;this.Y(C);e=!0}}if(fp.get(z.add)!=null)e=!0;
if(e){var X=this.f3.oF;if(C&&X&&X!=!0)X=X.Z0(C);else X=C?C:!0;this.f3.oF=X}this.f3.a4E=JSON.stringify(x)};
cc.prototype.pc=function(i){if(d4!=0)return;var C=this,m=C.add.vstk,e=new j2(0,0,i.m,i.J),z,L=C.add.vmsk?this.add.vmsk.Re():null,S=!0,X;
if(L&&L.isEnabled&&L.oq()==0)z=L.S8().clone();else z=e;var l=C.Re();if(l&&l.isEnabled&&l.oq()==0)z=z.G_(C.X.S8());
var x=L&&m;if(m&&(!m.strokeEnabled.v||m.strokeStyleLineWidth.v.val==0))x=!1;if(m&&!m.fillEnabled.v&&x)S=!1;
var k=I.R(z.P()*4);if(S){if(C.add.SoCo)k4.JD(k,C.add.SoCo.Clr.v);if(C.add.GdFl){var f=L&&L.color==0?I.o.RP(C.add.vmsk.$,null,!0):null;
k4.dj(C.add.GdFl,k,z,i,null,f)}if(C.add.PtFl)k4._2(C.add.PtFl,k,z,i.add.Patt,C.add.fxrp)}if(x)X=jt.lc.ne.indexOf(m.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(L){var o=L.du;if(x)L.du=255;var A=I.R(z.P());if(L.oq()!=0)A.fill(Math.round(L.oq()));if(L&&L.isEnabled){var P=L.S8(),F=L.cD();
if(P.LJ(z))I.EP(F,A);else I.Vo(F,P,A,z)}if(x&&X==2){}else{if(C.add.SoCo&&S){I.uC(A,k,3)}else I.v0(A,z,k,z)}if(x)L.du=o}C.buffer=k;
C.rect=z;if(x){var n=m.strokeStyleContent.v,R=jt.lc.nU.indexOf(n.classID),Q=this.add.vmsk.Re(m);if(X!=0&&!C.rect.LJ(e))C.extend(C.rect.Z0(Q.S8()));
var o=Q.du;Q.du=255;var s=Q.Hp(C.rect);Q.du=o;if(Q.color==255)I.Fb(s);var j=I.R(C.rect.P()*4);if(R==0)k4.JD(j,n.Clr.v);
if(R==1)k4.dj(n,j,C.rect,i,null,L.color==0?L.rect:null);if(R==2)k4._2(n,j,C.rect,i.add.Patt,C.add.fxrp);
var _=m.strokeStyleOpacity.v.val/100;if(_!=1)I.Eg(s,_);if(Q.color==255)X=2-X;if(X<2){I.l.ZC(j,C.rect,C.buffer,C.rect,s,C.rect,255,C.rect,1,!1);
if(X==0)I.z8(A,C.buffer)}if(X==2){I.z8(s,j);I.Fb(A);I.l.ZC(j,C.rect,C.buffer,C.rect,A,z,255,C.rect,1,!1);
I.Fb(A)}if(Q.du!=255){var B=j.slice(0);I.eS(B,4278190080,16777215);I.l.Qv("norm",B,C.rect,C.buffer,C.rect,C.rect,1-Q.du/255)}o=L.du;
L.du=255;this.ark=L.Hp(C.rect);L.du=o}this.Y()};cc.prototype.g1=function(i,C,m,e){var z=this,L=z.add.SoLd.Idnt.v,l=z.add.SoLd,x=$.V.dR(l.nonAffineTransform),S=I.C.OO(x),k=i.WY(L,l.Crop?l.Crop.v:null,[S.m,S.J],l.Impr.v.classID,m),Q=null;
if(k==null)return;var f=k.pC;l.Sz.v.Wdth.v=f[1].m;l.Sz.v.Hght.v=f[1].J;if(d4!=0)return;var X=k.lC==null?l.Rslt.v.val:k.lC,o=l.quiltWarp.v;
if(I.lu.gL(o))o=null;var A=I.D.v6(x,f[1]);if(o){var S=I.C.OO(I.lu.i3(o)[3]),P=S.x,F=S.y,n=1/S.m,R=1/S.J;
A=I.D.v6(x);A=I.D.oW(A,[n,0,-P*n,0,R,-F*R,0,0])}if(!C&&!z.k_()&&o==null){var s=i.M.indexOf(z),j=cc.u3(z);
for(var Y=0;Y<s;Y++){var _=i.M[Y];if(_.add.SoLd&&!_.k_()&&cc.u3(_)[0]==j[0]){var B=cc.u3(_);Q={buffer:_.buffer.slice(0),rect:_.rect.clone()};
Q.rect.offset(Math.round(j[1]-B[1]),Math.round(j[2]-B[2]));break}}}if(Q==null)Q=$.V.NN(f,C?0:1,A,o,null,null,null,C);
if(Q==null){z.buffer=I.R();z.rect=new j2}else if(z.k_()){var N=z.x6(i);if(e){N.buffer.fill(0);I.fF(Q.buffer,Q.rect,N.buffer,N.rect)}else{N.buffer=Q.buffer;
N.rect=Q.rect.clone()}this.mm(i,C)}else{z.buffer=Q.buffer;z.rect=Q.rect}z.rH(i);z.Y();i.Y()};cc.u3=function(i){var C=i.add.SoLd,m=C.Idnt.v,e=$.V.dR(C.nonAffineTransform),z=I.D.v6(e,new j2(0,0,1e3,1e3)),L=C.quiltWarp.v;
if(I.lu.gL(L))L=null;return[[m,z[0],z[1],z[3],z[4],z[6],z[7],L==null].join(":"),z[2],z[5]]};cc.prototype.mm=function(i,C){if(C==null)C=!1;
var m=this.x6(i),e=this.add.SoLd.filterFX.v,z=ft.a41(e),L=new j2(0,0,i.m,i.J),l=m.rect.Z0(L),x=m.rect.clone();
x.sW(z.x,z.y);var S={buffer:null,rect:l.G_(x)};S.buffer=I.R(S.rect.P()*4);I.fF(m.buffer,m.rect,S.buffer,S.rect);
if(e.enab.v&&C==!1){var k=e.filterFXList.v;for(var Y=0;Y<k.length;Y++){var f=k[Y].v;if(f.enab.v==!1)continue;
var X=f.blendOptions.v,o=aw._A(X.Md.v.BlnM),A=X.Opct.v.val/100,P=I.I.oq(f.FrgC.v),F=I.I.oq(f.BckC.v),n=ft.C$(f),R={buffer:I.R(S.buffer.length),rect:S.rect.clone()},Q=f.Fltr?f.Fltr.v:null;
if(fp.fO[n]!=null){var s=fp.fO[n],j=fp.QV(s,Q);if(j)fp.ny(j,S.buffer,R.buffer,S.rect)}else ft.ny(n,S,Q,P,F,R,[i.add.lnk2?i.add.lnk2:[],this.Re(),i.T3]);
if(o=="norm"&&A==1)S=R;else if(o=="norm"){I.l.ZC(R.buffer,R.rect,S.buffer,S.rect,null,null,null,S.rect,A)}else{I.l.Qv(o,R.buffer,R.rect,S.buffer,S.rect,S.rect,A)}}}this.rect=S.rect;
this.buffer=S.buffer;this.gv();this.Y();i.Y()};cc.prototype.kI=function(i,C,m){this.L5=this.azd(i,C,m)};
cc.prototype.z2=function(i,C){var m=this.azd(i,C,!0);if(m==null)return null;var e={JI:m.ii,Jg:m.D8,rect:m.Ts};
if(e.JI==1||e.JI==3){var z=e.rect,L=I.R(z.m*z.J*4);I.uC(e.Jg,L,0);I.uC(e.Jg,L,1);I.uC(e.Jg,L,2);I.auV(i.u.channel,i.u.rect,L,z);
e.Jg=L}return e};cc.prototype.azd=function(i,C,m){var e,z,L,l,x,S,k;if(this.ii<=0){var f=I.R(this.rect.P());
I.Ud(this.buffer,f,3);e=I.CX.pG(C,{channel:f,rect:this.rect},3);if(e==null)return null;var X=I.yP(e.channel,e.rect);
l=e.rect.clone();x=this.rect.clone();z=I.R(l.P()*4);I.fF(this.buffer,x,z,l);I.uC(e.channel,z,3);L=this.buffer.slice(0);
if(!m){var o=C.channel.slice(0);I.Fb(o);I.v0(o,C.rect,L,x)}S=this.buffer.slice(0);k=this.rect.clone()}if(this.ii==1||this.ii==3){var A=this.ii==1?this.Re():this.x6(i).X;
l=C.rect.clone();x=A.rect.clone();z=A.Sz(l);var L=A.channel.slice(0);if(!m)I.l.wk(A.color==255?I.R5(l.P()):I.T9(l.P()),l,L,x,C.channel,l,1);
S=A.channel.slice(0);k=A.rect.clone()}return{ii:this.ii,D8:z,Ts:l,zO:L,dg:x,Ol:S,Lf:k}};cc.prototype.TG=function(i,C){var m=this.L5;
if(m.ii==0){this.rect=m.Lf;this.buffer=m.Ol;this.Y()}if(m.ii==1||m.ii==3){var e=m.ii==1?this.Re():this.x6(i).X;
e.channel=m.Ol;e.rect=m.Lf;if(this.ii==1){e.kL=!0;this.rH(i)}if(this.ii==3)this.Y()}this.L5=C};cc.prototype.y3=function(i,C){if(this.ii<=0&&C.rect.LJ(this.rect)){var m=I.R(this.rect.P());
I.Ud(this.buffer,m,3);if(I.LJ(i.u.channel,m)){var e=this.rect,z=this.buffer;this.L5={ii:this.ii,D8:z.slice(0),Ts:e.clone(),zO:I.R(0),dg:new j2,Ol:I.R(0),Lf:new j2};
return!0}}var L=this.L5;if(L==null)return!1;if(L.ii!=this.ii)return!1;if(!C.rect.LJ(L.Ts))return!1;var l=L.dg.Z0(L.Ts);
if(L.ii<=0){if(!l.LJ(this.rect))return!1;var x=I.R(L.D8.length>>2);I.Ud(L.D8,x,3);if(!I.LJ(C.channel,x))return!1;
var S=I.R(l.m*l.J*4);I.fF(L.zO,L.dg,S,l);I.l.Qv("norm",L.D8,L.Ts,S,l,l,1);return I.LJ(S,this.buffer)}if(L.ii==1||L.ii==3){var k=L.ii==1?this.Re():this.x6(i).X;
if(!l.LJ(k.rect))return!1;var f=I.R(l.P());f.fill(k.color);I.Vo(L.zO,L.dg,f,l);I.l.wk(L.D8,L.Ts,f,l,C.channel,l,1);
return I.LJ(f,k.channel)}};cc.prototype.f_=function(i,C,m,e){var z=this.L5;z.Ts.offset(C,m);var L=z.dg.Z0(z.Ts);
if(z.ii<=0){var l=I.R(L.P()*4);I.fF(z.zO,z.dg,l,L);I.l.Qv("norm",z.D8,z.Ts,l,L,L,1);this.buffer=l;this.rect=L;
this.Y()}else{var x=this.ii==1?this.Re():this.x6(i).X,S=I.R(L.P());S.fill(x.color);I.Vo(z.zO,z.dg,S,L);
I.l.wk(z.D8,z.Ts,S,L,e.channel,L,1);x.channel=S;x.rect=L.clone();if(this.ii==1){x.kL=!0;this.rH(i)}if(this.ii==3)this.Y()}};
cc.prototype.aDk=function(i){var C=[-1,0,1,2];if(i)C.push(3);if(this.X)C.push(-2);if(this.ow)C.push(-3);
return C};cc.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};cc.prototype.yY=function(k7){this.add.luni=this.name=k7};
cc.prototype.aT=function(i){var C=this.add.lnsr,m=this.add.TySh;if(C=="rend"&&m){var e=e7.lD(m.Wg);this.yY(e.slice(0,e.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
cc.prototype.gF=function(){return(this.de&1<<1)==0};cc.prototype.rq=function(){return(this.de&1<<4)==0};
cc.prototype.ez=function(){return(this.de&1<<5)!=0};cc.prototype.a4T=function(){var i=this;if(i.add.lnsr!="bgnd"){i.add.lnsr="bgnd";
i.yY("Background");i.add.lspf=1<<2}};cc.prototype.a1C=function(){var i=this;if(i.add.lnsr=="bgnd"){delete i.add.lnsr;
i.yY("Layer 0");i.add.lspf=0}};cc.prototype.aG=function(i){var C=this.add.lspf;return C==null?!1:(C>>i&1)!=0};
cc.prototype.fJ=function(i){if(i&&!this.gF())this.de-=2;if(!i&&this.gF())this.de+=2};cc.prototype.cG=function(){var i=this.add.lmfx;
if(i==null)return!1;for(var C in i){if(C=="masterFXSwitch")continue;if(C=="Scl")continue;if(C=="classID")continue;
if(i[C].v.length>0)return!0}return!1};cc.prototype.k_=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
cc.prototype.RM=function(){var i=this.add.lmfx;if(i==null)return!1;if(!i.masterFXSwitch.v)return!1;for(var C in i){if(C=="masterFXSwitch")continue;
if(C=="Scl")continue;if(C=="classID")continue;var m=i[C].v;for(var Y=0;Y<m.length;Y++)if(m[Y].v.enab.v)return!0}return!1};
cc.prototype.GY=function(){var i=this,C=i.add.SoLd,m=i.add.TySh,e=i.add.vmsk,z=[];if(C)z=$.V.dR(C.nonAffineTransform);
if(m&&this.f3.sI){z=I.C.Ym(i.f3.sI).j;I.C.i(z,m.i,z)}if(e)z=I.C.Ym(e.aoI()).j;return z};cc.prototype.Jx=function(i,C,m,e){if(d4==1)return I.C.OO(this.GY());
var z=new j2,L=this.h3(i,m,e);if(L.indexOf(0)!=-1)z=z.Z0(this.rect);if(L.indexOf(1)!=-1){var l=this.Re(),x=l.S8();
z=m&&l.oq()==0?z.bs()?x:z.G_(x):z.Z0(x)}if(L.indexOf(2)!=-1){var S=this.add.vmsk,k=this.add.vstk,f;if(C){if(S.Ki.length>1){var X=I.o._I(S.$,null,S.Ki);
f=I.C.OO(X);if(f.bs())f=null}if(f==null)f=I.o.RP(S.$,S.g.length!=0?S.g:null)}else f=I.o.RP(S.$);if(!e&&k&&k.strokeEnabled.v){var o=k.strokeStyleLineAlignment.v.strokeStyleLineAlignment,A=k.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(o!="strokeStyleAlignInside"){var P=k.strokeStyleLineWidth.v.val;if(A=="strokeStyleMiterJoin")f=new j2(0,0,i.m,i.J);
else f.sW(P,P)}}z=z.Z0(f)}if(L.indexOf(3)!=-1)z=z.Z0(this.x6(i).X.S8());if(L.length==0&&this.Q9())z=e?new j2(0,0,0,0):new j2(0,0,i.m,i.J);
return z};cc.prototype.bA=function(){var i=this.add.artb,C=i.artboardBackgroundType.v,m=0;if(C==1)m=4294967295;
else if(C==2)m=4278190080;else if(C==3)m=0;else if(C==4){m=i.Clr.v;m=255<<24|m.Bl.v<<16|m.Grn.v<<8|m.Rd.v}else throw C;
return m};cc.prototype.d3=function(){var i=this.add.artb.artboardRect.v,C=i.Btom.v,m=i.Left.v,e=i.Rght.v,top=i.Top.v;
return new j2(m,top,e-m,C-top)};cc.prototype.bQ=function(i){var C=cc.OC(i);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=C};cc.OC=function(i){var C={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
C.Btom.v=i.y+i.J;C.Left.v=i.x;C.Rght.v=i.x+i.m;C.Top.v=i.y;return C};cc.prototype.h3=function(i,C,m){var e=[],z=this;
if(!C&&z.Aa&&m){e.push(2)}else if(z.ii<=0||C){if(z.rq()){if(d4==1&&z.add.TySh)e.push(0);if(d4==1&&z.add.SoLd)e.push(0);
else if(!this.rect.bs())e.push(0)}if(z.Re()&&!z.Re().rect.bs())if(z.Re().hu||C)e.push(1);if(z.add.vmsk)if(z.add.vmsk.hu||C)e.push(2);
if(z.k_()&&z.x6(i).X&&!z.x6(i).X.rect.bs())e.push(3)}else if(z.ii==1){e.push(1);if(z.Re().hu&&!z.Re().rect.bs()){if(z.rq())if(!this.rect.bs())e.push(0);
if(z.add.vmsk)if(z.add.vmsk.hu)e.push(2)}}else if(z.ii==3&&!z.x6(i).X.rect.bs())e.push(3);if(z.add.artb&&e.indexOf(0)==-1)e.push(0);
e.sort();return e};cc.prototype.Re=function(){var i=this;return i.ow?i.ow:i.add.vmsk&&i.add.vmsk.isEnabled?null:i.X};
cc.prototype.x6=function(i){var C=this.add.SoLd.placed.v,m=i.add.FEid;if(m==null)return null;for(var Y=0;
Y<m.length;Y++)if(m[Y].id==C)return m[Y];return null};cc.prototype.extend=function(i){I.avt(this,i)};
cc.prototype.a7V=function(i,C,m){var e=i.clone();if(this.RM()){var z=this.add.lmfx,L=C.root.zD(C.M.indexOf(this)),l=z.gradientFillMulti.v,x=!1;
for(var Y=0;Y<l.length;Y++)if(l[Y].v.enab.v&&l[Y].v.Algn.v)x=!0;if(x)e=e.Z0(L.S8(C,!1));var S=k4.aC4(this.add.lmfx,C,m);
e.offset(S.x,S.y);e.m+=S.m;e.J+=S.J}return e};cc.prototype.gv=function(){if(this.rq())I.vA(this);var i=this.Re();
if(i)i.gv()};cc.prototype.clone=function(){var i=new cc;i.rect=this.rect.clone();i.buffer=this.buffer.slice(0);
i.fn=this.fn;i.opacity=this.opacity;i.cy=this.cy;i.de=this.de;i.name=this.name;i.m3=this.m3.slice(0);
if(this.X)i.X=this.X.clone();if(this.ow)i.ow=this.ow.clone();for(var C in this.add)i.add[C]=cX.clone(C,this.add[C]);
return i};cc.prototype.VQ=function(i){var C=this;if(C.add.TySh)delete C.add.TySh;if(C.add.SoLd){var m=this.VM(i,this.buffer,this.rect);
if(m){this.buffer=m.S2;this.rect=m.rect;this.Y()}delete C.add.SoLd}if(C.add.SoCo||C.add.GdFl||C.add.PtFl){if(C.add.vogk)delete C.add.vogk;
if(C.add.SoCo)delete C.add.SoCo;if(C.add.GdFl)delete C.add.GdFl;if(C.add.PtFl)delete C.add.PtFl;if(C.add.vmsk){console.log(C.ow,C.X);
delete C.add.vmsk;if(C.ow==null&&C.X)delete C.X;else if(C.ow!=null&&C.X!=null){C.X=C.ow;delete C.ow}}}if(!C.yJ()&&fp.get(C.add)==null&&!this.rq())this.de-=16};
cc.prototype.uo=function(i){var C=255,m=0;if(i==2){var e=this.add.SoLd.filterFX.v;if(e.filterMaskDensity)C=e.filterMaskDensity.v;
if(e.filterMaskFeather)m=e.filterMaskFeather.v}else{var z=i==0?this.Re():this.add.vmsk;C=z.du;m=z.JQ}return{nw:i,hr:C,cc:m}};
cc.prototype.aD2=function(i){if(i.nw==2){var C=this.add.SoLd.filterFX.v;if(i.hr==255)delete C.filterMaskDensity;
else C.filterMaskDensity={t:"long",v:i.hr};if(i.cc==0)delete C.filterMaskFeather;else C.filterMaskFeather={t:"doub",v:i.cc};
this.Y()}else{var m=i.nw==0?this.Re():this.add.vmsk;m.du=i.hr;m.JQ=i.cc;m.kL=!0}};cc.prototype.tO=function(){var i=this,C=i.add.vmsk;
if(C==null)return;i.add.vogk=I.ta.alC(C.$)};cc.tO=function(i){var C=[],m=I.o.vS(i);for(var e=0;e<m;e++)C.push(I.ta.T9());
return C};var aU={A7:0,AY:1,Lp:2,ds:3};cc.o7=function(){this.name="Mask";this.S0=!1;this.GN={Z:255,r:0,e:0};
this.RW=50;this.rp=0;this.color=255;this.hu=!0;this.isEnabled=!0;this.kx=!1;this.du=255;this.JQ=0;this.rect=new j2;
this.channel=I.R(0);this.xJ=null;this.av9=null;this.kL=!0};cc.o7.prototype.oW=function(i){if(!this.isEnabled)return i;
var C=new cc.o7;C.color=Math.round(this.oq()*i.oq()/255);if(this.oq()==0&&i.oq()==0)C.rect=this.S8().G_(i.S8());
else if(i.oq()==0)C.rect=i.S8().clone();else if(this.oq()==0)C.rect=this.S8().clone();else C.rect=this.S8().Z0(i.S8());
C.channel=this.Hp(C.rect);C.du=255;C.JQ=0;var m=i.Hp(C.rect);I.az2(m,C.rect,C.channel,C.rect);return C};
cc.o7.prototype.S8=function(){if(this.JQ==0)return this.rect;var i=Math.ceil(this.JQ*2.2),C=this.rect.clone();
if(C.y==0){if(C.x==0)C.m+=i;else C.sW(i,0);C.J+=i}else C.sW(i,i);return C};cc.o7.prototype.cD=function(){if(this.JQ==0&&this.du==255)return this.channel;
if(this.JQ==0){var i=this.channel.slice(0);I.Fb(i);I.Eg(i,this.du/255);I.Fb(i);return i}var C=this.S8(),m=this.Sz(C),i=I.R(C.P());
I.Zo.MO(m,i,C,this.JQ);if(this.du!=255){I.Fb(i);I.Eg(i,this.du/255);I.Fb(i)}return i};cc.o7.prototype.oq=function(){return Math.round(255-(255-this.color)*(this.du/255))};
cc.o7.prototype.extend=function(i){I.extend(this,i,this.color)};cc.o7.prototype.gv=function(){if(this.color==255)I.Fb(this.channel);
I.gv(this);if(this.color==255)I.Fb(this.channel)};cc.o7.prototype.clone=function(){var i=new cc.o7;i.name=this.name;
i.S0=this.S0;i.GN=this.GN;i.RW=this.RW;i.rp=this.rp;i.color=this.color;i.hu=this.hu;i.isEnabled=this.isEnabled;
i.kx=this.kx;i.du=this.du;i.JQ=this.JQ;i.rect=this.rect.clone();i.channel=this.channel.slice(0);return i};
cc.o7.prototype.Sz=function(i,C){if(C==null)C=I.R(i.P());C.fill(this.color);I.Vo(this.channel,this.rect,C,i);
return C};cc.o7.prototype.Hp=function(i,C){var m=this.S8(),e=this.cD();if(C==null)C=I.R(i.P());C.fill(this.oq());
I.Vo(e,m,C,i);return C};cc.hF=function(){this.hu=!0;this.isEnabled=!0;this.du=255;this.JQ=0;this.Z7=0;
this.ay=0;this.$=[{type:6},{type:8,all:0}];this.Gu=[-3,-3];this.ca=!1;this.ow=null;this.kL=!0;this.g=[];
this.Ki=[]};cc.hF.prototype.aoI=function(i){var C=cc.hF.ug(this.$),m=new hN;if(i)m.rotate(-this.Z7);
I.o.Pa(C,m);return I.o.RP(C)};cc.hF.prototype.aoS=function(){var i=this.aoI(!0),C=I.C.Ym(i).j,m=new hN;
m.rotate(this.Z7);I.C.i(C,m,C);return C};cc.hF.prototype.offset=function(i,C){this.ow=this.Re();I.o.Pa(this.$,new hN(1,0,0,1,i,C));
this.ow.rect.offset(i,C)};cc.hF.prototype.Re=function(i){if(!this.kL&&this.ow&&i==null){this.ow.isEnabled=this.isEnabled;
return this.ow}var C=I.o.RP(this.$),m="strokeStyleLineAlignment",e="strokeStyleLineJoinType";if(C.P()>2e4*2e4)C=new j2(0,0,100,100);
if(i&&i[m].v[m]!="strokeStyleAlignInside"){var z=1;if(i[e].v[e]=="strokeStyleMiterJoin"){var L=I.o.a8i(this.$),l=L/2,x=Math.sin(l),S=Math.cos(l);
S/=x;x=1;var z=Math.sqrt(S*S+x*x);if(isNaN(z)||z<1)z=1}z*=i[m].v[m]=="strokeStyleAlignOutside"?1:.5;
var k=Math.ceil(i.strokeStyleLineWidth.v.val*z);k=Math.min(k,600);C.sW(k,k)}C=I.C.Ub(C);var f=new cc.o7;
f.color=I.o.Q_(this.$)?0:255;f.hu=this.hu;f.isEnabled=this.isEnabled;f.kx=!0;f.rect=C;f.du=this.du;f.JQ=this.JQ;
f.channel=I.R(f.rect.P());if(!C.bs())I.o.aa8(this.$,f.channel,f.rect,i);if(i==null){this.ow=f;this.kL=!1}return f};
cc.hF.prototype.clone=function(){var i=new cc.hF;i.hu=this.hu;i.isEnabled=this.isEnabled;i.du=this.du;
i.JQ=this.JQ;i.Z7=this.Z7;i.$=cc.hF.ug(this.$);i.Gu=this.Gu.slice(0);i.ca=this.ca;i.g=this.g.slice(0);
i.Ki=this.Ki.slice(0);return i};cc.hF.prototype.concat=function(i){var C=i.$.slice(2);if(C.length==0)return;
C[0].ay=3;this.$=this.$.concat(C)};cc.hF.ug=function(i){var C=[];for(var Y=0;Y<i.length;Y++){var m=i[Y];
if(m.type>5||m.type==0||m.type==3)C.push(JSON.parse(JSON.stringify(m)));else C.push({type:m.type,My:m.My.clone(),L:m.L.clone(),sP:m.sP.clone()})}return C};
cc.hF.a2z=function(i,C,m){if(i.length!=C.length)return!1;for(var Y=2;Y<i.length;Y++){var e=i[Y],z=C[Y];
if(e.type!=z.type)return!1;if(e.type==0||e.type==3){if(e.length!=z.length||!m&&e.ay!=z.ay)return!1}else if(!e.My.LJ(z.My)||!e.L.LJ(z.L)||!e.sP.LJ(z.sP))return!1}return!0};
cc.hF.prototype.ayh=function(){var i=this.$;for(var Y=3;Y<i.length;Y++)if(i[Y].type==0||i[Y].type==3)i[Y].ay=-1};
cc.mO=function(){this.type=null;this.xO=2;this.zx=null;this.VO="";this.C9="";this.SL="";this.open=0;
this.raw=null;this.pC=null;this.avq="";this.qK=!1};cc.mO.prototype.clone=function(){var i=new cc.mO;
i.type=this.type;i.xO=this.xO;i.zx=this.zx;i.VO=this.VO;i.C9=this.C9;i.SL=this.SL;i.open=this.open;i.raw=new Uint8Array(this.raw.buffer.slice(0));
return i};cc.mO.prototype.I6=function(i,C,m,e,z){if(m==null)m="none";var L=this,l=i$.ra(L.raw.buffer),x=l=="svg"||l=="pdf"||l=="ai";
if(L.pC){var S=C&&x&&Math.max(L.pC[1].m,L.pC[1].J)<Math.max(C[0],C[1]);if(!S&&m==this.avq&&!L.qK)return}this.avq=m;
if(!x)i=0;if(l==null){alert("Unsupported format: "+W.Sq(L.raw,0,4));return null}var k=i$.AL(l);if(k.yC){var f=new ei(name+(l=="psd"?"":"-"+l)+".psd"),X;
k.pX(L.raw.buffer,f,C);var o=new j2(0,0,f.m,f.J);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(m)!=-1){var A=[];
for(var Y=0;Y<f.M.length;Y++){var P=f.M[Y],F=P.buffer;if(!P.rect.LJ(o)){F=I.R(o.P()*4);I.fF(P.buffer,P.rect,F,o);
console.log("resizing")}A.push(F)}X=I.R(o.P()*4);I.stack.stack(A,X,m)}else{for(var Y=0;Y<f.M.length;
Y++)if(f.M[Y].Q9())f.M[Y].rH(f);if(e&&f.qK){var n=b7.hM(f,e,z);L.qK=!n;if(n)b7.LL(f,e,z)}f.JJ();f.Y();
f.um();X=f.I6()}L.pC=[X,o];L.lC=f.lC!=null&&f.lC!=0?f.lC:72}else if(k){var R=k.pX(L.raw.buffer)[0];L.pC=[new Uint8Array(R.data),R.Jw];
L.lC=R.lC!=null&&R.lC!=0?R.lC:72}if(L.pC){if(i==1){var F=L.pC[0],Q=L.pC[1],s=I.R(Q.P());I.Ud(F,s,3);
var j=I.yP(s,Q),_=I.R(j.P()*4);I.fF(F,Q,_,j);j.x=j.y=0;L.pC=[_,j]}I.aq(L.pC)}};cc.Ev="0";cc.$U="2";cc.en="2.5";
cc.n7="2.6";cc.o3="3";cc.BV="4";cc.Pt="4.5";cc.a1_="4.6";cc.ap0="5";cc.o9="5.5";cc.jG="6";cc.avc="7";
cc.aiT="8";cc.x_="9";cc.gb="9.3";cc.aqP="9.5";cc.XB="9.6";cc.Q3="10";cc.bo="11";cc.L7="12";cc.XE="13";
cc.Eh="13.1";cc.anY="13.2";cc.Wf="13.3";cc.ST="13.4";cc.gj="14";cc.l9="14.1";cc.BK="14.2";cc.lW="14.3";
cc.Wk="17";cc.LS="18";cc.agt="19";cc.ZA="19.5";cc.kP="19.6";cc.LV="19.7";cc.St="19.8";cc.sE="20";cc.kM="21";
cc.g$="21.5";cc.uk="22";cc.a0="22.5";cc.at="23";cc.aut="24";cc.yL="25";cc.a6V="26";cc.anp="27";cc.kj="28";
cc.CY="29";cc.sz="30";cc.nu="31";cc.q3="32";cc.wf="33";cc.S9="34";cc.dt="35";cc.dy="36";cc.y2="36.5";
cc.X6="37";cc.LF="37.5";cc.aeW="37.6";cc.DL="38";cc.s7="38.5";cc.jU="38.6";cc.cb="39";cc.Bn="40";cc.ayR="41";
cc.u$="42";cc.gk="50";cc.nH="51";cc.gr="52";cc.Hv="53";cc.pZ="54";cc.awT="54.5";cc.jP="54.6";cc.abE="54.7";
cc._G="54.8";cc.p1="55";cc.OX="56";cc.Be="57";cc.g5="58";cc.op="59";cc.vc="60";function e2(){this.depth=0;
this.index=-1;this.a=null;this.aBK=null;this.Kw=-1;this.children=null;this.parent=null;this.Kv=null}e2.prototype.a1Y=function(i,C){if(this.depth!=0)i.push(this.a.getName());
if(this.children)for(var Y=0;Y<this.children.length;Y++)this.children[Y].a1Y(i,C);if(i.length>C.qg.length)C.qg=i.slice(0);
if(this.depth!=0)i.pop()};e2.prototype.arB=function(){var i=0;if(this.a.yJ()){for(var Y=0;Y<this.children.length;
Y++)i+=this.children[Y].arB()}else if(this.a.buffer)i+=this.a.buffer.length;return i};e2.prototype.zD=function(i){var C=this.Kv[i];
return this.Kv[i]};e2.prototype.awC=function(i,C){var m=this.a;if(!m.gF()||m.aG(2)||m.aG(31))return null;
if(m.tk()){var e=m.X.rect.EI(i);if(!e&&m.X.color==0)return}if(m.yJ()){for(var Y=0;Y<this.children.length;
Y++){var k7=this.children[Y];k7.awC(i,C)}}else if(d4==1){var z=m.GY();if(i.EI(I.C.OO(z))&&C.indexOf(this.index)==-1)C.push(this.index)}else if(m.rect.EI(i))C.push(this.index)};
e2.prototype.Gl=function(i,C){var m=this.a;if(!m.gF()||m.aG(2)||m.aG(31))return null;if(m.tk()){if(m.X.rect.Xp(i)){if(!I.Gl(i,m.X.channel,m.X.rect))return null}else if(m.X.color==0)return null}if(m.yJ()){if(m.add.artb&&!m.d3().Xp(i))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var k7=this.children[Y],e=k7.Gl(i,C);if(e&&C==null)return e}return null}else if(d4==1){if(m.add.vmsk){var z=m.add.vstk,L=!z.fillEnabled.v&&!m.kv,l=z.strokeStyleLineWidth.v.val*.5,x=I.o.Gl(m.add.vmsk.$,i,L,l);
return x.h6==-1?null:this}var S=m.GY();if(gu.dD(S,i.x,i.y))return this}else if(m.add.TySh&&m.rect.Xp(i)||I.af1(i,m.buffer,m.rect)){if(C==null)return this;
else C.push(this.index)}return null};e2.prototype.a9f=function(i){var C=this.a;if(!C.gF()||C.aG(2)||C.aG(31))return null;
var m=C.add.vmsk;if(m&&m.isEnabled){var e=I.o.Gl(m.$,i).h6;if(e!=-1)return{acq:this,aaT:e}}if(C.yJ()){if(C.add.artb&&!C.d3().Xp(i))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var k7=this.children[Y],z=k7.a9f(i);if(z)return z}return null}return null};
e2.prototype.xl=function(i,C){i.push(this.index);if(this.a.yJ()){i.push(this.Kw);if(C)if(this.a.ii==1&&this.a.Re().hu==!1)return;
for(var Y=0;Y<this.children.length;Y++)this.children[Y].xl(i)}};e2.jq=function(){var i=document.createElement("canvas");
return i.getContext("2d")};e2.atj=function(i,C){var m,e;if(i.m>i.J){m=C;e=Math.floor(C*(i.J/i.m))}else{m=Math.floor(C*(i.m/i.J));
e=C}return new b5(m,e)};e2.t3=32;e2.v7=1;e2.prototype.lU=function(i,C,m){var e=e2.v7,z=this.a;if(z.yJ()&&z.add.artb!=null)C=z.d3();
var L=e==0?z.rect:C;if(L.bs()||z.add.TySh)L=C;var l=e2.t3*$.XP(),x=e2.atj(L,l),S=x.x,k=x.y,f=e2.atj(C,l);
if(z.Q9()&&z.add.vmsk==null||z.add.TySh)S=k=Math.max(k,16);else if(z.yJ()){S=k=Math.round(18*$.XP())}else{S=Math.max(S,6);
k=Math.max(k,6)}if(m&&z.OU==null){z.OU=e2.jq();z.DA=e2.jq();z.zd=e2.jq();z.un=e2.jq()}var X=z.Q9()&&z.add.vmsk;
if(X){if(m&&z.add.vstk)I.Ch.Tg(z.OU,S,k,L,z.buffer,z.rect,!1,null,!z.add.vstk.fillEnabled.v&&!z.add.vstk.strokeEnabled.v);
if(m)I.Ch.a1d(z.OU,S,k)}else if(z.add.TySh){if(m)I.Ch.ak7(z.OU,k,k,z.add.TySh)}else if(z.add.SoCo){if(m)I.Ch.amv(z.OU,k,k,z.add.SoCo)}else if(z.add.GdFl){if(m)I.Ch.abQ(z.OU,k,k,z.add.GdFl)}else if(z.add.PtFl){if(m)I.Ch.apr(z.OU,k,k,z.add.PtFl,i)}else if(fp.get(z.add)!=null){if(m)I.Ch.ahV(z.OU,k,k,z.add)}else if(z.add.SoLd){if(m)I.Ch.Tg(z.OU,S,k,L,z.buffer,z.rect,!1);
if(m)I.Ch.aby(z.OU,S,k,z.add.SoLd)}else if(z.yJ()){}else{if(m){if(z.rq())I.Ch.Tg(z.OU,S,k,L,z.buffer,z.rect,!1);
else{I.Ch.adg(z.OU,k,k)}}}var o=z.Re();if(m){if(o)I.Ch.vM(z.DA,f.x,f.y,C,o);if(z.k_()&&z.x6(i)&&z.x6(i).X){var A=z.x6(i).X;
I.Ch.vM(z.un,f.x,f.y,C,A)}if(!X&&z.add.vmsk){I.Ch.vM(z.zd,f.x,f.y,C,z.add.vmsk.Re(),!0)}}if(o||z.add.vmsk)k=Math.max(k,f.y);
z.aq0=Math.max(k,16);if(m!=!0&&z.yJ()&&(z.add.lsct==aU.AY||i.M.length<4e3))for(var Y=0;Y<this.children.length;
Y++)this.children[Y].lU(i,C)};e2.prototype.aDV=function(i,C,m,e){this.depth=m;var z=i[C];if(e==null)e=[];
this.Kv=e;if(z.add.lsct==aU.ds){this.aBK=z;this.Kw=C-1;this.children=[];var Y=C+1;while(!0){var L=i[Y];
if(L==null)console.log(Y,i.length);if(L.add.lsct==aU.AY||L.add.lsct==aU.Lp){if(z.add.lyid==L.add.lyid)z.add.lyid+=16777215;
this.a=L;this.index=Y-1;e[this.index]=this;e[C-1]=this;break}var l=new e2;l.parent=this;Y=l.aDV(i,Y,m+1,e);
this.children.push(l)}return Y+1}else{this.a=z;this.index=C-1;e[this.index]=this;return C+1}};e2.prototype._M=function(i,C,m,e){var z=this.zD(m),L=i;
while(z.parent!=null){L=z.a.a7V(L,C,e);z=z.parent}return L};e2.prototype.S8=function(i,C){var m=this.a,e=new j2;
if(!m.gF())return e;var z=m.Re();if(m.yJ())for(var Y=0;Y<this.children.length;Y++){var L=this.children[Y].S8(i,!0);
e=e.Z0(L)}else if(fp.get(m.add)!=null)e=m.tk()&&m.X.color==0?m.X.S8().clone():new j2(0,0,i.m,i.J);else if(m.Q9()&&m.add.vmsk&&m.add.vmsk.isEnabled&&m.add.vstk){e=m.rect.clone()}else if(m.Q9()&&z&&z.isEnabled&&z.oq()!=0)e=new j2(0,0,i.m,i.J);
else{e=m.Jx(i,!1,!0);if(m.add.vmsk)e=I.C.Ub(e)}return C?m.a7V(e,i):e};e2.wA={delete:function(i){if(i&&i.m)i.delete()},R:function(i,C){return cY.fp?new cY.RV(i,C):I.R(i*C*4)},D6:function(i,C,m){if(cY.fp){if(i==null||i.m!=C||i.J!=m){e2.wA.delete(i);
return new cY.RV(C,m)}}else{if(i==null||!(i instanceof Uint8Array)||i.length!=C*m*4){e2.wA.delete(i);
return I.R(C*m*4)}}return i},Vo:function(i,C,m,e,z){(cY.fp?cY.qd:I.fF)(i,C,m,e,z)},ZC:function(i,C,m,e,z,L,l,x,Y,S,k){(cY.fp?cY.l.co:I.l.ZC)(i,C,m,e,z,L,l,x,Y,S,k)},ayJ:function(i,C,m,e,z,L,l,x){var S=m.clone(),k=z.m,f=z.J,X=S.x,o=S.y,A=S.x+S.m>k?-1:0,P=S.x<0?2:1,F=S.y+S.J>f?-1:0,n=S.y<0?2:1;
for(var R=F;R<n;R++)for(var Q=A;Q<P;Q++){S.x=X+Q*k;S.y=o+R*f;e2.wA.Qv(i,C,S,e,z,L,l,x)}},Qv:function(i,C,m,e,z,L,l,x){if(cY.fp)cY.l.afw(i,C,m,e,z,L,l,x);
else I.l.Qv(i,C,m,e,z,L,l,x)},eS:function(i,C,m){if(cY.fp){cY.OK(i);cY.mn(C,m)}else I.eS(i,C,m)},anA:function(i,C,m,e,z){if(cY.fp){cY.l.co(null,null,e,z,i,C,m,z,1,!1)}else{if(m==255)I.v0(i,C,e,z);
else{var L=I.R(C.P());I.Kf(e,z,L,C);I.DD(i,L);I.eS(e,0,16777215);I.auV(L,C,e,z)}}},pA:function(i,C,m,e){if(cY.fp)cY.l.co(null,null,m,e,i,C,0,e,1,!1);
else I.pA(i,C,m,e)}};e2.prototype.Nj=function(i,C,m,e,z,L){var l=typeof L=="number";if(!this.a.yJ()&&(l&&this.index>L||!l&&L.indexOf(this.index)==-1)){return}var x=this.a,S=k4.ia(x),k=e2.wA,f=x.Q9()?x.Re():x.X;
if(!x.gF())return;if(x.tk()&&f.rect.bs()&&f.oq()==0){return}if(x.add.vstk==null&&this.S8(e,!1).bs()){return}if(x.Q9()&&x.rect.bs())return;
var X=this.S8(e,!0).G_(m);if(!C.LJ(m)&&!m.EI(X))return;if(x.yJ()&&x.add.artb){var o=x.d3();m=m.G_(o)}var A=e2.a46(x,z,S);
if(!A){this.a4Y(i,C,m,e,z,L);return}x.f3.YN=k.D6(x.f3.YN,X.m,X.J);k.Vo(i,C,x.f3.YN,X,m);this.a4Y(x.f3.YN,X,m,e,z,L);
k.ZC(x.f3.YN,X,i,C,null,null,0,m,x.opacity/255,x.fn=="diss",S.vt)};e2.a46=function(i,C,m){if(m.vt[0]*m.vt[1]*m.vt[2]==0)return!0;
return i.opacity!=255&&(C.length!=0||i.yJ()||i.RM())};e2.al8={f3:{}};e2.prototype.a4Y=function(i,C,m,e,z,L){var l=this.a,x=k4.ia(l),S=fp.get(l.add)!=null,k=e2.wA,f=e2.a46(l,z,x),X=f?1:l.opacity/255,o=l.Q9()?l.Re():l.X,A=l.yJ()&&x.Sl==null&&(l.fn=="pass"||l.add.artb)&&!(z.length>0||x.fill!=1||l.RM()),P=!l.yJ()&&!S&&!l.RM()&&z.length==0,F=S&&!l.RM()&&z.length==0,_=null,B=null,N=null,h;
if(A||P||F){var n=i,R=C;if(l.tk()){R=this.S8(e,!1);n=l.f3.rd=k.D6(l.f3.rd,R.m,R.J);k.Vo(i,C,l.f3.rd,R)}if(A)this.RO(n,R,m,e,L);
if(P)k.Qv(l.fn,l.aod(e),l.rect,n,R,m,X,x);if(F){var Q=l.tk()&&o.oq()==0?o.S8().clone():R.clone(),s=l.f3;
if(Q.LJ(new j2(0,0,e.m,e.J)))s=e2.al8;s.pY=this.akE(n,R,s.pY,Q,l.add);x.eW=!0;k.Qv(l.fn,s.pY,Q,n,R,m,X,x)}if(l.tk())k.ZC(n,R,i,C,l.azB(),o.S8(),o.oq(),m,1,l.fn=="diss");
l.f3.aBw();return}var j=l.yJ()&&l.fn=="pass"&&(z.length>0||x.fill!=1||l.RM()),Q=l.rect;if(l.yJ()){Q=this.S8(e,!1);
N=l.f3.pY=k.D6(l.f3.pY,Q.m,Q.J);k.eS(N,0);this.RO(N,Q,Q,e,L);B=k.D6(l.f3.Ee,Q.m,Q.J);k.Vo(N,Q,B,Q)}else if(S){Q=l.tk()&&o.oq()==0?o.S8().clone():C.clone();
B=k.D6(l.f3.Ee,Q.m,Q.J);k.eS(B,4294967295)}else{Q=l.rect;_=l.aod(e);B=k.D6(l.f3.Ee,Q.m,Q.J);k.Vo(_,Q,B,Q)}l.f3.Ee=B;
if(l.tk())k.anA(l.azB(),o.S8(),o.oq(),B,Q);if(l.RM())if(l.f3.N3||l.f3.uZ||l.f3.RY!=cY.fp||l.f3.oF||l.yJ()){var a=l.add.vmsk,O=I.R(Q.P());
if(k4.adB(l.add.lmfx)){if(cY.fp){if(!l.yJ()&&l.Re()==null&&l.rect.LJ(Q)&&a==null)I.Ud(l.buffer,O,3);
else{var H=I.R(Q.P()*4);B.get(H);I.Ud(H,O,3)}}else I.Ud(B,O,3)}if(l.f3.uZ||l.f3.RY!=cY.fp||!I.LJ(O,l.f3.SJ)){var q=null;
if(l.Q9()&&a&&a.isEnabled&&a.Re().color==0)q=a.Re().rect;k4.abU(l.f3.Qb);l.f3.Qb=k4.aqZ(O,Q,l.add.lmfx,l.add.fxrp,e,q);
l.f3.SJ=O;l.f3.a8l=Q}}if(l.RM())k4.amz(l.add.lmfx,l.f3.Qb,Q,i,C,m);if(l.yJ()){_=k.D6(l.f3.rd,Q.m,Q.J);
k.eS(_,0);if(l.fn=="pass")k.Vo(i,C,_,Q);if(j)k.pA(N,Q,_,Q);this.RO(_,Q,m,e,L);l.f3.rd=_}if(S){_=l.f3.rd=this.akE(i,C,l.f3.rd,Q,l.add)}if(l.yJ()||S)h=_;
else{h=k.D6(l.f3.rd,Q.m,Q.J);k.Vo(_,Q,h,Q,m);l.f3.rd=h}k.eS(h,4278190080,16777215);for(var Y=0;Y<z.length;
Y++)z[Y].Nj(h,Q,m,e,[],L);var D=l.f3.nF=k.D6(l.f3.nF,Q.m,Q.J);k.Vo(i,C,D,Q,m);if(S)x.eW=!0;k.Qv(l.fn=="pass"?"norm":l.fn,h,Q,D,Q,m,1,x);
if(l.RM()){var T=l.f3.Qb.type.FrFX,p=null;if(T.length!=0){p=T[0];for(var Y=0;Y<T.length;Y++)if(T[Y].GS.m>p.GS.m)p=T[Y];
l.f3.pm=k.D6(l.f3.pm,p.GS.m,p.GS.J);k.Vo(i,C,l.f3.pm,p.GS,m);l.f3.G4=k.D6(l.f3.G4,p.GS.m,p.GS.J)}k4.aA$(l.add.lmfx,l.f3.Qb,Q,i,C,m,D,l.f3.pm,l.f3.G4,p?p.GS:null)}if(!cY.fp){var y=I.R(Q.P());
I.Ud(B,y,3);B=y}k.ZC(D,Q,i,C,B,Q,0,m,1,l.fn=="diss");l.f3.aBw()};e2.prototype.akE=function(i,C,m,e,z){var L=fp.get(z),l;
if(L)l=fp.QV(L,z[L]);var x=e2.wA;m=x.D6(m,e.m,e.J);if(!(cY.fp&&C.LJ(e)))x.Vo(i,C,m,e);if(l){if(cY.fp){var S=e.clone();
S.x=S.y=0;if(C.LJ(e)){cY.OK(m,S);fp.PU(l,i.zo,S)}else{cY.OK(m,e);m.uK(e);fp.PU(l,m.MF,S)}}else fp.ny(l,m,m,e)}return m};
e2.prototype.RO=function(i,C,m,e,z){var L=C.m,l=C.J,x=C.x,S=C.y,k7=m,k=k7.x,f=k7.y,X=-1,o=-1,A=2,P=2;
if(!e.a3){X=o=0;A=P=1}var F=this.children;for(var Y=0;Y<F.length;Y++){var n=fp.get(F[Y].a.add)!=null,R=[];
for(var Q=Y+1;Q<F.length;Q++)if(F[Q].a.cy)R.push(F[Q]);else break;for(var s=o;s<P;s++)for(var j=X;j<A;
j++){C.x=x+j*L;C.y=S+s*l;k7.x=k+j*L;k7.y=f+s*l;if((j!=0||s!=0)&&n)continue;F[Y].Nj(i,C,k7,e,R,z)}Y+=R.length}C.x=x;
C.y=S;k7.x=k;k7.y=f};function ei(i){this.Bw="psd";this.KK=!1;this.name=i;this.z0=-1;this.a3=!1;this.hl=null;
this.ZG=null;this.an=null;this.tT=null;this.m=0;this.J=0;this.buffer=null;this.M=[];this.Yl={};this.add={};
this.cU=[];this.iG={};this.Nu=4;this.GI=null;this.lC=72;this.tr={};this.g=[];this.Nb=[];this.ej=!1;this.xE=[];
this.s3=[];this.DI=[ei.ew("Work Path")];this.ft=[];this.Ep=null;this.Rk={classID:"CompList",list:{t:"VlLs",v:[]}};
this.WT=[];this.ut=[];this.yp=[];this.root=null;this.A1=null;this.qK=!1;this.a6Z=!1;this.a17=!1;this.j5=!1;
this.Pm=!1;this.Qq=!1;this.sa=!1;this.gZ=!1;this.nb=!1;this.Yj=!1;this.N3=null;this._e=null;this.u=null;
this.T3=[];this.Xk=[];this.N={Zp:{},jr:[],Lq:[],Ly:[],x2:[],_7:[],tp:null,J5:null,RA:null,Bd:null,yT:null,va:null,XR:[],z9:[],wY:null};
this.history=[new fw([1,0],null)];this.f0=0;this.Ga=0;this.JZ=0;this.e6=0;this.q=new hY(this);this.OQ=null;
this.dT=null}ei.prototype.yg=function(i){if(i){if(i.length==30240){this.yg(null);return}this.Yl.r1039=i;
var C=ICC.R(i.buffer),z=null,L=17,S,k;if(C==null){this.yg(null);return}var m=C.header.spaceIn.toLowerCase(),e=JSON.stringify(C.tags.desc).toLowerCase();
try{z=ICC.U.profileName(C)}catch(a8){}if(m!="rgb "||z==null||e.indexOf("srgb")!=-1||m=="rgb "&&this.add.fcmy==1){this.yg(null);
return}console.log("We got an ICC profile!",C,z);try{var l=ICC.U.sampleLUT(C,L)}catch(a8){this.yg(null);
return}var x=l.slice(0),f=I.R(4),X=I.BZ("rgbToRgbC"),o=X[2],A=X[3];for(var Y=0;Y<l.length;Y+=3){f[0]=l[Y]*255;
f[1]=l[Y+1]*255;f[2]=l[Y+2]*255;ICC.U.applyLUT(A,o,f,f);x[Y]=f[0]/255;x[Y+1]=f[1]/255;x[Y+2]=f[2]/255}if(cY.fp){S=new cY.RV(L,L*L);
S.set(ICC.U.lutToRGBA8(l,L));k=new cY.RV(L,L*L);k.set(ICC.U.lutToRGBA8(x,L))}this.OQ=[i,C,L,l,S,x,k]}else{delete this.Yl.r1039;
this.OQ=null}};ei.prototype.Io=function(){return this.OQ};ei.prototype.AA=function(){if(this.OQ)return this.OQ;
if(this.add.fcmy==1){if(this.dT==null){var i=I.BZ("rgbToRgbC"),C=i[2],m=i[3],e;if(cY.fp){e=new cY.RV(C,C*C);
e.set(ICC.U.lutToRGBA8(m,C))}this.dT=[null,null,C,null,null,m,e]}return this.dT}};ei.prototype.adf=function(){var i=this;
if(i.q.O.join("")!="111"){i.q.O=[1,1,1];i.Qq=!0}for(var Y=0;Y<i.M.length;Y++){var C=i.M[Y],m=C.add.vmsk;
if(C.k_()){var e=C.x6(i);if(e&&e.X&&e.X.S0){e.X.S0=!1;i.Qq=!0}}var z=C.Re();if(z&&z.S0){z.S0=!1;i.Qq=!0}if(m){if(m.g.length!=0)m.g=[];
if(m.Ki.length!=0)m.Ki=[]}}};ei.prototype.OJ=function(){var i=this;return i.u!=null||i.bM()[1].length!=0||i.g.length>1};
ei.prototype.pR=function(){var i=this.Nb,C=[];for(var Y=0;Y<i.length;Y++)C[Y]=-1;var m=this.root.children;
for(var Y=0;Y<m.length;Y++){var e=m[Y],z=e.a.add.artb;if(z==null)continue;var L=z.guideIndeces;L=L?L.v:[];
for(var l=0;l<L.length;l++)C[L[l].v]=e.index}return[JSON.parse(JSON.stringify(i)),C]};ei.prototype.Kq=function(i){this.Nb=JSON.parse(JSON.stringify(i[0]));
var C=i[1],m=this.root.children;for(var Y=0;Y<m.length;Y++){var e=m[Y],z=e.a.add.artb;if(z==null)continue;
z.guideIndeces={t:"VlLs",v:[]}}for(var Y=0;Y<C.length;Y++)if(C[Y]!=-1)this.M[C[Y]].add.artb.guideIndeces.v.push({t:"long",v:Y})};
ei.prototype.abI=function(i){var C=this;if(i[0])C.add.lnk2=i[0];else delete C.add.lnk2;if(i[1])C.add.FEid=i[1];
else delete C.add.FEid;if(i[2])C.add.Patt=i[2];else delete C.add.Patt};ei.prototype.afD=function(i){var C=this,m=[],e=[],z=[],P=null,F=null,n=null;
for(var Y=0;Y<i.length;Y++){var L=i[Y];if(L.add.SoLd){m.push(L.add.SoLd.Idnt.v);e.push(L.add.SoLd.placed.v)}if(L.add.PtFl)z.push(L.add.PtFl.Ptrn.v.Idnt.v);
if(L.add.lmfx){for(var l=0;l<jt.m8.length;l++){var x=L.add.lmfx[jt.m8[l]].v;for(var S=0;S<x.length;S++)if(x[S].v.Ptrn){var k=x[S].v;
if(k.classID=="FrFX"&&k.PntT.v.FrFl!="Ptrn")continue;z.push(k.Ptrn.v.Idnt.v)}}}var f=L.add.vstk;if(f&&f.strokeStyleContent.v.classID=="patternLayer"){z.push(f.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var X=C.add.lnk2,o=C.add.FEid,A=C.add.Patt;
if(X){P=[];for(var Y=0;Y<X.length;Y++)if(m.indexOf(X[Y].zx)!=-1)P.push(X[Y]);if(P.length==0)P=null}if(o){F=[];
for(var Y=0;Y<o.length;Y++)if(e.indexOf(o[Y].id)!=-1)F.push(o[Y]);if(F.length==0)F=null}if(A){n=[];for(var Y=0;
Y<A.length;Y++)if(z.indexOf(A[Y].id)!=-1)n.push(A[Y]);if(n.length==0)n=null}return[P,F,n]};ei.prototype.XW=function(i){var C=this,m=C.root.zD(i==null?C.g[0]:i),e=!1;
while(m.parent!=null){e=e||m.a.aG(31);m=m.parent}return e};ei.prototype.Ex=function(){var i=this.T3,C=this.T3.length;
if(C!=0&&i[C-1].name=="Quick Mask")return i[C-1]};ei.prototype.Pb=function(){return this.Bw==ch.cF("% |/!)")||this.Bw==ch.wq("gP")};
ei.prototype.Ra=function(i){var C=this.add.artd;if(i!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:i},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};ei.prototype.tH=function(i){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(i)==-1)this.add.FEid.push(i)};
ei.prototype.UP=function(i){var C=this.add.FEid.indexOf(i);this.add.FEid.splice(C,1);if(this.add.FEid.length==0)delete this.add.FEid};
ei.prototype.Y=function(i){if(i==null)i=new j2(0,0,this.m,this.J);if(this.N3==null)this.N3=i;else this.N3=this.N3.Z0(i)};
ei.prototype.aoj=function(i){return this.N3!=null};ei.prototype.H_=function(i){var C=this.M[i],m=this.root.zD(i);
if(m==null)return!1;if(C.yJ()||m.parent.children.indexOf(m)==0)return!1;return!0};ei.a66=function(i){if(i.add.lnk2)for(var Y=0;
Y<i.add.lnk2.length;Y++){var C=i.add.lnk2[Y].zx;i.add.lnk2[Y].zx=ei.Eu()+C.slice(8);for(var m=0;m<i.M.length;
m++){var e=i.M[m].add.SoLd;if(e&&e.Idnt.v==C)e.Idnt.v=i.add.lnk2[Y].zx}}};ei.prototype.sT=function(i,C,m){i.sort(function(X,o){return X-o});
var top=i[i.length-1],e=this.M.slice(0),z=this.g.slice(0),L=[],l=[];for(var Y=0;Y<this.M.length;Y++){if(i.indexOf(Y)!=-1)l.push(this.M[Y]);
else L.push(this.M[Y])}this.Bf(l);this.g=[];var x=this.root.S8(this,!0);if(C)x=x.G_(C);if(m)x=x.Z0(m);
if(x.bs())x=new j2(0,0,100,100);var S=new j2(-x.x,-x.y,this.m,this.J),k=new Uint8Array(i$.AL("PSD").B3(this,0,0,[!0,!1]));
this.Bf(e);this.g=z;var f=new ei(this.M[top].getName());i$.AL("PSD").pX(k.buffer,f);delete f.add.artd;
f.xE=[];f.Bf(f.M);f.Kq([[],[]]);ei.a66(f);$.lx.UH(f,x);f.Y();f.um();f.I6();return[f,x,L,top]};ei.prototype.aB2=function(i,C,m){var e=this.sT(i),z=e[0],L=e[1],l=e[2],top=e[3],x;
if(m=="jpg")x=new Uint8Array(i$.AL("JPG").B3([[z.I6().buffer]],z.m,z.J,[80]));else x=new Uint8Array(i$.AL("PSD").B3(z,null,null,[!0,!1]));
if(C)l=this.M.slice(0);var S=this.Mf(x,z.name,L.x,L.y);if(top==this.M.length-1)l.push(S);else l.splice(C?top+1:top-i.length+1,0,S);
this.Bf(l);this.g=[l.indexOf(S)]};ei.Eu=function(i){if(i==null)i="";var C="";while(C==""||C==i){C="";
for(var Y=0;Y<8;Y++)C+=Math.floor(Math.random()*16).toString(16)}return C};ei.prototype.p0=function(i){if(i==null)return;
if(this.add.Patt==null)this.add.Patt=[];var C=this.add.Patt;for(var Y=0;Y<C.length;Y++)if(C[Y].id==i.id)return;
C.push(i)};ei.prototype.Mf=function(i,C,m,e,z,L,l){if(this.add.lnk2==null)this.add.lnk2=[];var x=null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(I.LJ(i,this.add.lnk2[Y].raw)){x=this.add.lnk2[Y].zx;break}if(x==null){var S=i$.ra(i.buffer);
x=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f";var k=new cc.mO;k.zx=x;k.SL=S=="psd"?"8BIM":"    ";k.VO=C+"."+S;
k.C9=S=="psd"?"8BPB":"    ";k.open=0;k.raw=i;k.type="liFD";k.xO=2;this.add.lnk2.push(k)}var f=this.WY(x,null,null,null,L,l),X=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f",o=this.Sv(),A=f?f.pC[1]:new j2;
o.yY(C);o.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:x},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:X},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:I.lu.R(A)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:A.m},Hght:{t:"doub",v:A.J}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:f?f.lC:72}}};
var P=A.clone();if(m!=null)P.offset(m,e);if(f!=null&&z){var S=i$.ra(i.buffer),F=z.x,n=z.y,R=z.m,Q=z.J;
P=f.pC[1].clone();P.offset(F+m,n+e);var s=s=this.lC/(S=="pdf"?144:f.lC?f.lC:this.lC);P.m=P.m*s;P.J=P.J*s;
var j=Math.max(P.m/R,P.J/Q);if(j>1.0001){P.m=P.m/j;P.J=P.J/j}P.x=Math.round(F+(R-P.m)/2);P.y=Math.round(n+(Q-P.J)/2)}var _=I.C.Ym(P).j;
o.add.SoLd.Trnf=$.V.xN(_);o.add.SoLd.nonAffineTransform=$.V.xN(_);if(f){if(z)o.g1(this,!1);else if(d4==0){o.rect=P;
o.buffer=f.pC[0].slice(0)}}return o};ei.prototype.aas=function(i,C,m){var e=I.BF(i,C);e.save();e.scale(i/this.m,C/this.J);
this.root.a3n(this,e,m,new j2(0,0,i,C));e.restore();return e.getImageData(0,0,i,C).data.buffer};ei.prototype.I6=function(i){if(i!=null){this.Y();
this.um(i);var C=this.buffer;if(cY.fp)this.A1.get(C);else C=C.slice(0);this.Y();this.um();return C}if(this.N3){this.um();
this.N3=null}if(cY.fp&&this._e){this.A1.get(this.buffer);this._e=null;this.sa=!0}return this.buffer};
ei.prototype.axT=function(){for(var Y=0;Y<this.M.length;Y++)this.M[Y].ajx();this.Y()};ei.prototype.ahd=function(){for(var Y=0;
Y<this.M.length;Y++)if(this.M[Y].add.lmfx)this.M[Y].f3.uZ=!0};ei.prototype.l5=function(){var i=this.Yl.r1044;
if(i==null){i=this.Yl.r1044=new Uint8Array(4);var C=0;for(var Y=0;Y<this.M.length;Y++)C=Math.max(C,this.M[Y].add.lyid);
W.CA(i,0,C)}var m=W.Q(i,0);W.CA(i,0,m+1);return m+1};ei.prototype.KT=function(i,C,m){if(i==null)i=!0;
var e=this;if(e.Xk.length!=0)return!0;if(e.g.length!=1){if(i)alert(e.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.vq(i,C,m)};ei.prototype.vq=function(i,C,m){if(i==null)i=!0;if(C==null)C=!1;var e=this;
if(e.Xk.length!=0)return!0;for(var Y=0;Y<e.g.length;Y++){var z=e.M[e.g[Y]],L=C||z.ii<=0;if(z.add.lsct!=null&&z.add.lsct!=aU.A7&&z.ii!=1){if(i)alert(bC.get([15,7,2]));
return!1}if(L&&!z.rq()){if(i)alert(bC.get([15,7,2]));return!1}if(L&&z.add.TySh){return this.aCP(i,[15,7,3],m)}if(L&&z.add.SoLd){return this.aCP(i,[15,7,4],m)}if(z.aG(1)||e.XW(e.g[Y])){if(i)alert(bC.get([6,57,0]));
return!1}}return!0};ei.prototype.aCP=function(i,C,m){if(i&&typeof i=="object"){var e=new eX(v.E.H);e.data={d:v.B.c6,pw:"confirm"};
e.data.b=bC.get(C)+". "+bC.get([6,8])+"?";var z=i;e.data.G$=function(){var L=new eX(v.E.HW,!0);L.data={o0:"rasterizeLayer",t6:{classID:"rasterizeLayer",null:h3.Ei("Lyr",!0)}};
z.T(L)};i.T(e);return!1}if(i)alert(bC.get(C));return!1};ei.prototype.acN=function(i){var C=this.root.zD(i);
if(C.parent)return C.a.gF()&&this.acN(C.parent.index);else return C.a.gF()};ei.prototype.sq=function(i){var C=this;
if(i){var m=0;for(var Y=0;Y<C.g.length;Y++)if(C.M[C.g[Y]].add.artb)m++;if(m>1)return-1}if(C.add.artd&&C.g.length!=0){var e=C.root.zD(C.g[0]);
while(e.parent.parent)e=e.parent;if(e.a.add.artb)return e.index}return-1};ei.prototype.h5=function(){var i=this.sq();
if(i!=-1){var C=this.M[i].d3();return new b5(C.x,C.y)}return new b5(0,0)};ei.prototype.a9p=function(){var i=this.M[this.g[0]];
if(i.ii<=0&&!i.rect.EI(this.u.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.u){var C=I.R(this.u.channel.length);
I.Kf(i.buffer,i.rect,C,this.u.rect);I.DD(this.u.channel,C);if(I.Sx(C,0)){alert("Selected area is empty.");
return!1}}return!0};ei.prototype.Ju=function(){if(this.Yl["r"+1037]==null)this.mC(30);return W.xz(this.Yl["r"+1037],0)};
ei.prototype.mC=function(i){if(this.Yl["r"+1037]==null)this.Yl["r"+1037]=new Uint8Array(4);if(W.xz(this.Yl["r"+1037],0)==i)return;
W.zw(this.Yl["r"+1037],0,i);this.ahd()};ei.prototype.JL=function(){if(this.Yl["r"+1049]==null)this.XO(30);
return W.xz(this.Yl["r"+1049],0)};ei.prototype.XO=function(i){if(this.Yl["r"+1049]==null)this.Yl["r"+1049]=new Uint8Array(4);
if(W.xz(this.Yl["r"+1049],0)==i)return;W.zw(this.Yl["r"+1049],0,i);this.ahd()};ei.prototype.pE=function(i){if(this.add.lnk2==null)return null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(this.add.lnk2[Y].zx==i)return this.add.lnk2[Y];return null};
ei.prototype.ak3=function(i){var C=this.pE(i);if(C==null)return!1;var m=i$.ra(C.raw.buffer);if(m==null)return!1;
if(i$.AL(m)!=null||m=="psd")return!0;return!1};ei.prototype.WY=function(i,C,m,e,z,L){var l=this.pE(i);
if(l==null)return null;l.I6(C,m,e,z,L);if(l.pC)return l};ei.prototype.a7k=function(){var i=this.m,C=this.J;
if(cY.fp&&this.A1==null)this.A1=new cY.RV(i,C,!0);if(this.buffer==null||this.buffer.length!=i*C*4||cY.fp&&(this.A1.m!=i||this.A1.J!=C)){this.buffer=I.R(i*C*4);
if(this.A1)this.A1.delete();if(cY.fp)this.A1=new cY.RV(i,C,!0)}};ei.prototype.a1s=function(){this.a7k();
if(cY.fp){this.A1.set(this.buffer)}};ei.prototype.um=function(i){if(d4!=0)throw"redrawing in vector mode";
var C=this.m,m=this.J,e=new j2(0,0,C,m),z=this.a3?e:e.G_(this.N3);this.a7k();if(z.bs())return;if(!z.LJ(e)){if(!cY.fp){var L=I.T9(z.P()*4);
I.fF(L,z,this.buffer,e)}if(cY.fp){cY.OK(this.A1,z);cY.mn(0)}}else{if(cY.fp){this.A1.set(null)}else{this.buffer.fill(0)}}var l=Date.now(),x=cY.fp?this.A1:this.buffer;
if(i==null)i=1e9;var S=this.root.children;for(var Y=0;Y<S.length;Y++){var k=S[Y].a;if(k.gF()&&k.add.artb&&this.add.artd){var f=k.d3(),X=z.G_(f),o=k.bA();
if(o!=0){if(cY.fp){cY.OK(x,X);cY.mn(o);cY.mn(o)}else I.ahb(x,e,X,o)}}}this.root.Nj(x,e,z,this,[],i);
this._e=this.N3.clone()};ei.prototype.Sv=function(i){var C=new cc;C.rect=new j2(0,0,0,0);C.buffer=I.R(1);
C.add.luni=new b5(0,0);if(i!=!0)C.add.lyid=this.l5();C.add.lsct=aU.A7;C.add.lclr=0;C.add.fxrp=new b5(0,0);
return C};ei.prototype.b$=function(i){var C=this.Sv(i);C.yY("</Layer group>");C.add.lsct=aU.ds;C.de=24;
return C};ei.prototype.mZ=function(){return this.f0!=this.Ga};ei.prototype.zN=function(i){while(this.history.length>this.f0+1)this.history.pop();
if(this.Ga>this.f0)this.Ga=-1;if(i.f.id!=$.IA){this.j5=!0;if(this.Rk.lastAppliedComp){delete this.Rk.lastAppliedComp;
this.sa=!0}}this.history.push(i);this.f0++;this.sa=!0;var C=a8.md()?60:30,m=0;for(var Y=this.history.length-1;
Y>=0;Y--){var e=this.history[Y];if(e.Zw)continue;m++;if(m==C){this.f0-=Y;this.history=this.history.slice(Y);
break}}};ei.prototype.$K=function(){if(this.f0!=this.history.length-1)return null;return this.history[this.history.length-1]};
ei.prototype.Bb=function(i,C,m,e){if(i==null)i=!1;var z=C!=null?[C]:this.g.slice(0);if(e){var L=[];for(var Y=0;
Y<z.length;Y++){var l=this.M[z[Y]],x=l.MW;if(l.mI&&x!=0&&L.indexOf(x)==-1)L.push(x)}if(L.length!=0)for(var Y=0;
Y<this.M.length;Y++){var l=this.M[Y],x=l.MW;if(l.mI&&x!=0&&L.indexOf(x)!=-1&&z.indexOf(Y)==-1)z.push(Y)}}var S=[];
for(var Y=0;Y<z.length;Y++){var k=this.Xz(z[Y],i);for(var f=0;f<k.length;f++)if(S.indexOf(k[f])==-1)S.push(k[f]);
if(m){var k7=this.root.zD(z[Y]);while(k7.parent!=null&&k7.parent.parent!=null){k7=k7.parent;if(S.indexOf(k7.index)==-1){S.push(k7.index,k7.Kw)}}}}return S};
ei.prototype.gV=function(i,C,m){var e=this,z=e.Bb(!1,i,null,m);z.sort(function(s,j){return s-j});var L={};
for(var l=0;l<e.M.length;l++){var x=e.M[l].getName();L[x]=!0}var S=[];for(var Y=0;Y<z.length;Y++){var k=e.M[z[Y]].clone(),n,R;
k.add.lyid=e.l5();k.add.lspf=0;if(k.k_()){var f=k.x6(e),X=ei.acH(f);e.tH(X);k.add.SoLd.placed.v=X.id}else if(k.add.SoLd){var o=k.add.SoLd.placed.v;
k.add.SoLd.placed.v=ei.Eu(o.slice(0,8))+o.slice(8)}k.rH(e);var A=k.getName(),P=A.length;while(48<=A.charCodeAt(P-1)&&A.charCodeAt(P-1)<=57)P--;
var F=parseInt(A.slice(P));if(isNaN(F)){if(A.endsWith(" copy")){F=1;n=A.slice(0,A.length-5)}else{F=0;
n=A}}else if(A.slice(0,P).endsWith(" copy ")){F=F;n=A.slice(0,P-6)}else{F=0;n=A}F++;while(!0){R=n+" copy"+(F==1?"":" "+F);
if(L[R]==null)break;F++}var Q=z.indexOf(this.root.zD(z[Y]).parent.index)!=-1;if(A=="Background"&&e.M.length==1)R="Layer 1";
if(C!=!0&&!Q)k.yY(R);L[R]=!0;S.push(k)}return S};ei.acH=function(i){return{id:ei.Eu(i.id.slice(0,8))+i.id.slice(8),buffer:i.buffer.slice(0),rect:i.rect.clone(),X:i.X?i.X.clone():null}};
ei.azI=function(i){return{id:i,rect:new j2,buffer:I.R(1),X:new cc.o7}};ei.ew=function(i,C){if(C==null)C={vmsk:new cc.hF};
if(C.vogk==null){C.vogk=[];var m=I.o.vS(C.vmsk.$);for(var e=0;e<m;e++)C.vogk.push(I.ta.T9())}return{name:i,h6:0,add:C}};
ei.prototype.bM=function(i){var C=[],m=[],e=this;for(var Y=1;Y<e.DI.length;Y++){var z=e.DI[Y];z.h6=-1-Y;
C.push(z);if(e.ft.indexOf(Y)!=-1)m.push(C.length-1)}if(e.DI[0].add.vmsk.$.length>2){var z=e.DI[0];z.h6=-1;
C.push(z);if(e.ft.indexOf(0)!=-1)m.push(C.length-1)}var L=e.Ep==null;if(L)e.Ep=[];for(var Y=e.g.length-1;
Y>=0;Y--){var l=e.g[Y],x=e.M[l],S=x.add.TySh;if(x.add.vmsk!=null){var z=ei.ew("\""+x.getName()+"\" Shape Path",x.add);
z.h6=l;C.push(z);if(L&&(x.Aa||x.Q9()))e.Ep.push(l);if(e.Ep.indexOf(l)!=-1)m.push(C.length-1)}if(i!=!0&&S&&S.add&&I.lu.gL(S.ZM)){var z=ei.ew("\""+x.getName().slice(0,10)+"..\" Text Path",S.add);
z.h6=1e6+e.g[Y];C.push(z);m.push(C.length-1)}}if(m.length==0&&i){e.DI[0].h6=-1;e.ft=[0];m.push(C.length);
C.push(e.DI[0])}return[C,m]};ei.prototype.Xz=function(Y,i){var C=[],k7=this.root.zD(Y);if(k7)k7.xl(C,i);
return C};ei.prototype.kr=function(){this.root.lU(this,new j2(0,0,this.m,this.J))};ei.prototype.Bf=function(i){for(var Y=0;
Y<this.M.length;Y++){var C=this.M[Y];if(i.indexOf(C)==-1){C.f3.axG();C.Y()}}var m=0;for(var Y=0;Y<i.length;
Y++)if(i[Y].add.artb)m++;this.Ra(m);this.M=i.slice(0);this.JJ()};ei.prototype.JJ=function(){var i=this.M,C=i.length;
this.root=new e2;var m=this.Sv(!0);m.fn="pass";m.add.lsct=aU.AY;m.yY("");var e=this.b$(!0),z=[e];for(var Y=0;
Y<C;Y++)z.push(i[Y]);z.push(m);this.root.aDV(z,0,0);if(this.g.length==0)this.g=[C-1]};ei.prototype.j$=function(){if(this.g.length!=1)return;
var i=this.root.zD(this.g[0]);while(i.parent!=null){var C=i.parent.a;C.add.lsct=aU.AY;i=i.parent}this.Qq=this.a0Q=!0};
ei.prototype.aDe=function(){this.JJ();var i=[this.root],jy=0;while(i.length!=0){var top=i.pop();jy++;
if(top.a.add.lsct==aU.AY)for(var Y=0;Y<top.children.length;Y++)i.push(top.children[Y])}if(jy>1e3){var C=this.root.children;
for(var Y=0;Y<C.length;Y++)if(C[Y].a.add.lsct==aU.AY)C[Y].a.add.lsct=aU.Lp}};ei.sf=function(i,C,m,e,z,L,l,x){if(x==null)x="sRGB IEC61966-2.1";
var S={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:e},artboard:{t:"bool",v:L},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:i*72/m}},Hght:{t:"UntF",v:{type:"#Rlt",val:C*72/m}},Rslt:{t:"UntF",v:{type:"#Rsl",val:m}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:z}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:x}}}};
if(z=="Clr")S.Nw.v.FlCl={t:"Objc",v:l};return{o0:"make",t6:S}};ei.aaJ=function(i,C){var m=0,e=0,z=72,L=C.atw,l=i.preset&&i.preset.v=="Clipboard";
if(l){m=L.m;e=L.J}else{m=i.Wdth.v.val;e=i.Hght.v.val;z=i.Rslt.v.val;m=Math.round(m*z/72);e=Math.round(e*z/72)}var x=new ei((i.Nm?i.Nm.v:bC.get([11,7]))+".psd");
x.m=m;x.J=e;x.lC=z;var S=i.Fl?i.Fl.v.Fl:"Wht";if(i.artboard&&i.artboard.v){var k=x.Sv();k.yY(bC.get([1,16,0])+" 1");
k.add.lsct=aU.AY;k.bQ(new j2(0,0,m,e));k.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[S]};
if(S=="Clr")k.add.artb.Clr={t:"Objc",v:I.I.$q(I.I.oq(i.FlCl.v))};k.fn="pass";k.de=24;var f=x.Sv();f.yY("Layer 1");
x.Bf([x.b$(),f,k]);x.Ra(1);x.g=[1]}else{var X=x.Sv(),o=0;X.yY("Background");x.Bf([X]);X.add.lspf=1<<2;
if(S=="Clr"){o=I.I.oq(i.FlCl.v);o=255<<24|Math.round(o.e)<<16|Math.round(o.r)<<8|Math.round(o.Z)}else{var A=C.yv;
A=(A&255)<<16|(A>>>8&255)<<8|A>>>16;o={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|A}[S]}X.rect=new j2(0,0,m,e);
X.buffer=I.R(m*e*4);I.eS(X.buffer,o)}x.buffer=I.R(m*e*4);var P=i.profile;if(P){var F={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[P.v];
if(F)x.yg(i$.Nf.get(F))}return x};ei.prototype.al9=function(){var i=this,C=i.add.arts=[];C.push({T_:"Artboard 1",zO:[0,0,i.m,i.J],g:!0});
if(i.buffer)i.buffer=null;for(var Y=0;Y<i.M.length;Y++){var m=i.M[Y],e=m.rect;if(m.yJ()&&m.add.vmsk){var z=i.Sv();
i.M.splice(Y,0,z);z.yY("<Clipping Path>");z.kv=!0;z.add.vogk=m.add.vogk;delete m.add.vogk;z.add.vmsk=m.add.vmsk;
delete m.add.vmsk;z.add.vstk=jt.lc.TQ();z.add.SoCo=JSON.parse(jt.qx[jt.order.indexOf("SoFi")]);z.add.vstl={};
console.log("mask here!")}else if(m.Q9()&&m.add.vstl==null){var L=jt.lc.tB(m.add.vstk),l=m.add.vstl={};
jt.$_.write(l,L,1);var x=jt.FU(m.add),S=jt.NF(m.add.vstk);for(var k=0;k<2;k++){var f=k==0?x:S,X=null;
if(f.C9==1)X=gm.Fw(f.Zc.Clr.v);if(f.C9==2)X=dE.Gm(f.Zc,m.add.vmsk.$);if(k==0)l.P$=X;else l.OR=X}}if(m.add.SoLd||m.add.TySh||m.add.vmsk||e.bs())continue;
var o=e.m,A=e.J,P=I.DP(m.buffer,o,A)?"JPG":"PNG";if(o*A<700*700)P="PNG";var F=i$.AL(P).B3([[m.buffer.buffer]],o,A);
i.M[Y]=i.Mf(new Uint8Array(F),"<Image>",0,0)}};function hY(i){this.n4=i;this.U=0;this._0=1;this.F=new b5(0,0);
this.Qj=new b5(0,0);this.RQ=0;this.O=[1,1,1];this.lz=0;this.eo=new j2(0,0,1,1);this.a7P=new j2(0,0,i.m,i.J);
this.Bt=null;this.t0=null;this.ur=new Uint32Array(0);this.qL=null;this.R8=null;this.yR=I.R(0);this.mU=null;
this.wi=null}hY.prototype.Vf=function(i){var C=new hN,m=this.eo,e=this.n4,z=i?this._0:this.U,L=i?this.Qj:this.F,l=Math.round((m.m-e.m*z)/2+L.x),x=Math.round((m.J-e.J*z)/2+L.y);
C.translate(-l,-x);C.scale(1/z,1/z);var S=e.m/2,k=e.J/2;C.translate(-S,-k);C.rotate(this.RQ);C.translate(S,k);
return C};hY.prototype.aBQ=function(i){var C=this.eo,m=this.n4,e=Math.atan2(-i.e,i.W),z=m.m/2,L=m.J/2;
i.translate(-z,-L);i.rotate(-e);i.translate(z,L);var l=1/i.je();i.scale(l,l);var x=-i.W_,S=-i.Rj,k=Math.round(x-(C.m-m.m*l)/2),f=Math.round(S-(C.J-m.J*l)/2);
if(Math.abs(l-Math.round(l))<1e-6)l=Math.round(l);this.RQ=e;this.U=l;this.F=new b5(k,f)};hY.prototype.yy=function(i,C,m){var e=this.Vf(),z=e.M$(new b5(i,C));
if(m){z.x=Math.round(z.x);z.y=Math.round(z.y)}return z};hY.prototype.ip=function(i,C){var m=this.Vf();
m.Fb();return m.M$(new b5(i,C))};function jt(){}jt.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
jt.m8="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
jt.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];jt.adQ=["DrSh","IrSh","SoFi","GrFl","FrFX"];
jt.pb=["Clr"];jt.It="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");jt.dH=["Ptrn","Angl","Scl","Algn","phase"];
jt.UL={yr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a4O:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aaV:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",akw:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",uD:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
jt.UL.yr="\"Clr\": "+jt.UL.yr;jt.UL.I="\"Grad\":"+jt.UL.a4O+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
jt.UL.uD="\"Ptrn\":"+jt.UL.uD+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
jt.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
jt.qx=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+jt.UL.yr+","+jt.UL.I+","+jt.UL.uD+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+jt.UL.yr+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+jt.UL.I+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+jt.UL.uD+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
jt.I={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
jt.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Nw:["SClr","GrFl","Ptrn"],aD1:[[13,0],[12,37],[12,62]]};
jt.Ys={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aqQ:["SrcC","SrcE"],afa:[[19,5,1],[12,69]]};jt.ci={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a8o:["SfBL","PrBL","Slmt"],avM:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
jt.lc={Rg:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],ne:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],nU:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+jt.UL.yr+"}")},strokeStyleResolution:{t:"doub",v:72}},TQ:function(i,C){var m=JSON.parse(jt.lc.aoJ);
if(i)m.fillEnabled.v=!0;if(C)m.strokeEnabled.v=!0;return m},tB:function(i,C,m){if(C==null)C={};if(m==null)m=1;
var e=i.strokeStyleLineDashSet.v,z=C.lwidth=i.strokeStyleLineWidth.v.val*m;C.mlimit=i.strokeStyleMiterLimit.v;
C.doff=i.strokeStyleLineDashOffset.v.val;C.ljoin=jt.lc.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
C.lcap=jt.lc.Rg.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType);C.sal=jt.lc.ne.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
C.dash=[];for(var Y=0;Y<e.length;Y++)C.dash.push(e[Y].v.val*z);if(C.dash.length==1&&C.dash[0]==0)C.dash=[];
return C},write:function(i,C,m){var e=C.lwidth,z=C.mlimit,L=C.dash,l=C.doff,x=C.ljoin,S=C.lcap;if(e!=null)e=i.strokeStyleLineWidth.v.val=Math.max(.4,e*m);
else e=i.strokeStyleLineWidth.v.val;if(z!=null)i.strokeStyleMiterLimit.v=z;if(L!=null)i.strokeStyleLineDashSet.v=k4.$M(L,m/e);
if(l!=null)i.strokeStyleLineDashOffset.v.val=l;if(x!=null)i.strokeStyleLineJoinType.v.strokeStyleLineJoinType=jt.lc.join[x];
if(S!=null)i.strokeStyleLineCapType.v.strokeStyleLineCapType=jt.lc.Rg[S]}};jt.lc.aoJ=JSON.stringify(jt.lc.default);
jt.$_={tB:function(i,C,m){if(C==null)C={};var e=C.lwidth=i.aC7*m,z=i.l4.slice(0);for(var Y=0;Y<z.length;
Y++)z[Y]*=e;C.mlimit=i.az1;C.doff=i.a9V;C.ljoin=i.axy;C.lcap=i.a4b;C.sal=i.atY;C.dash=z;if(C.dash.length==1&&C.dash[0]==0)C.dash=[];
return C},write:function(i,C,m){var e=C.lwidth*m,z=C.mlimit,L=C.dash.slice(0),l=C.doff,x=C.ljoin,S=C.lcap;
i.aC7=e;i.az1=z;i.l4=L;for(var Y=0;Y<L.length;Y++)L[Y]*=m/e;i.a9V=l;i.axy=x;i.a4b=S;i.atY=1},TQ:function(){return{P$:[1,1,1],OR:[0,0,0],aC7:1,az1:0,l4:[],a9V:0,axy:0,a4b:0,atY:1}}};
jt.NF=function(i){var C=i.strokeEnabled.v,m=i.strokeStyleContent.v;return C?{C9:1+jt.lc.nU.indexOf(m.classID),Zc:m}:{C9:0}};
jt.yD=function(i,C){var m=C.C9;i.strokeEnabled.v=m!=0;if(m!=0){i.strokeStyleContent.v=C.Zc;C.Zc.classID=jt.lc.nU[m-1]}};
jt.FU=function(i){var C=i.vstk,m=null;if(C&&!C.fillEnabled.v)m={C9:0};else if(i.SoCo)m={C9:1,Zc:i.SoCo};
else if(i.GdFl)m={C9:2,Zc:i.GdFl};else if(i.PtFl)m={C9:3,Zc:i.PtFl};return m};jt.Yq=function(i,C){var m=i.vmsk,e=i.vstk,z=C.C9;
if(e)e.fillEnabled.v=z!=0;if(z>0){var L=["SoCo","GdFl","PtFl"][z-1];for(var Y=0;Y<3;Y++)delete i[["SoCo","GdFl","PtFl"][Y]];
i[L]=C.Zc}};jt.$i=[{classID:"null",Clr:JSON.parse(jt.qx[5]).Clr},{classID:"null",Grad:JSON.parse(jt.qx[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(jt.qx[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var k4={};k4.Ir=function(i,C){function m(i,o){if(i==null||!i.masterFXSwitch.v)return null;var A=i[o].v,P;
if(A.length!=0){P=A[0].v;if(!P.enab.v)P=null}return P}var e=C.SoCo,z=C.GdFl,L=m(i,"solidFillMulti"),l=m(i,"gradientFillMulti");
if(L==null&&l==null)return[e,z];var x=k4.acS;if(e&&L&&l==null){var S=JSON.parse(JSON.stringify(e));S.Clr.v=x(L.Clr.v,e.Clr.v,L);
return[S,null]}if(z&&L&&l==null){var k=JSON.parse(JSON.stringify(z)),f=k.Grad.v.Clrs.v;for(var Y=0;Y<f.length;
Y++){var X=f[Y].v.Clr;X.v=x(L.Clr.v,X.v,L)}return[null,k]}if(e&&l){var k=JSON.parse(JSON.stringify(l)),f=k.Grad.v.Clrs.v;
for(var Y=0;Y<f.length;Y++){var X=f[Y].v.Clr;X.v=x(X.v,e.Clr.v,l)}return[null,k]}return[L,l]};k4.lS={k4:I.R(4),Dw:I.R(4),Z:new j2(0,0,1,1)};
k4.acS=function(i,C,m){var e=aw._A(m.Md.v.BlnM),z=m.Opct.v.val/100,L=k4.lS;i=I.I.oq(i);C=I.I.oq(C);L.k4[0]=i.Z;
L.k4[1]=i.r;L.k4[2]=i.e;L.k4[3]=255;L.Dw[0]=C.Z;L.Dw[1]=C.r;L.Dw[2]=C.e;L.Dw[3]=255;I.l.Qv(e,L.k4,L.Z,L.Dw,L.Z,L.Z,z);
return{classID:"RGBC",Rd:{t:"doub",v:L.Dw[0]},Grn:{t:"doub",v:L.Dw[1]},Bl:{t:"doub",v:L.Dw[2]}}};k4.auK=function(i,C,m){var e=i;
i=i.slice(0);var z=aw.Az[aw.W5.indexOf(C.Md.v.BlnM)],L=I.I.oq(C.Clr.v),l=4278190080|Math.round(L.e)<<16|Math.round(L.r)<<8|Math.round(L.Z),x=I.R(m.P()*4);
I.eS(x,l);I.l.Qv(z,x,m,i,m,m,C.Opct.v.val/100);for(var Y=0;Y<i.length;Y+=4)i[Y+3]=e[Y+3];return i};k4._W=function(i,C){var m=["Sz","blur","Sftn","Dstn"];
for(var Y=0;Y<jt.order.length;Y++){var e=jt.order[Y],z=i[jt.m8[Y]].v;for(var L=0;L<z.length;L++){var l=z[L].v;
for(var x=0;x<m.length;x++){var S=l[m[x]];if(S){var k=S.v.val,f=k;f=Math.max(k==0?0:1,f*C);if(e=="ChFX")f=Math.min(f,250);
if(e=="ebbl"){if(m[x]=="blur")f=Math.min(f,250);if(m[x]=="Sftn")f=Math.min(f,16)}S.v.val=Math.round(f)}}if(e=="ebbl"||e=="patternFill"||e=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*C))}}};
k4.aC4=function(i,C,m){var e=new j2(-.5,-.5,1,1);for(var Y=0;Y<jt.order.length;Y++){var z=jt.order[Y],L=i[jt.m8[Y]].v;
for(var l=0;l<L.length;l++){var x=L[l].v,X;if(!x.enab.v)continue;var S=x.blur?x.blur.v.val+1:0,k=x.Ckmt?x.Ckmt.v.val/100:0,f=Math.round(S*k);
if(z=="DrSh"||z=="IrSh"&&m){X=new j2(-.5,-.5,1,1);X.sW(S,S);k4.fb(X,x,C,0)}if(z=="St3D"){X=new j2(-.5,-.5,1,1);
k4.fb(X,x,C,Math.PI,"Angl")}if(z=="OrGl"||z=="IrGl"&&m){X=new j2(-.5,-.5,1,1);X.sW(S,S)}if(z=="FrFX"){var o=k4.d_(x),A=o[1];
if(m)A=Math.max(o[0],A);X=new j2(-.5,-.5,1,1);X.sW(Math.ceil(A),Math.ceil(A))}if(z=="ebbl"){var S=x.blur.v.val,P=x.bvlS.v.BESl;
if(P=="Embs"||P=="PlEb")S/=2;var F=["OtrB","InrB","Embs","PlEb","strokeEmboss"],n=["SfBL","PrBL","Slmt"],R=["In","Out"],Q=x.bvlT.v.bvlT!="SfBL"?S:S*.43,s=Math.round(S);
X=new j2(-s-1,-s-1,2*s+2,2*s+2)}if(m&&z=="ChFX"){X=new j2(-.5,-.5,1,1);X.sW(S,S);var j=X.clone();k4.fb(X,x,C,0);
k4.fb(j,x,C,Math.PI);X=X.Z0(j)}if(X)e=e.Z0(X)}}if(e.x!=Math.ceil(e.x)){e.x=Math.ceil(e.x);e.m-=1}if(e.y!=Math.ceil(e.y)){e.y=Math.ceil(e.y);
e.J-=1}e.m=Math.floor(e.m);e.J=Math.floor(e.J);return e};k4.d_=function(i){var C,m,e=0,z=0;if(i.Sz){C=i.Sz.v.val;
m=jt.stroke.types.indexOf(i.Styl.v.FStl)}else{C=i.Wdth.v;m=["Insd","Cntr","Otsd"].indexOf(i.Lctn.v.StrL)}if(m==0)e=C;
if(m==1)e=z=C/2;if(m==2)z=C;return[e,z]};k4.aDq=function(i){if(cY.fp&&i.uQ==null){i.uQ=new cY.RV(i.gG.m,i.gG.J);
i.uQ.set(i.S2);delete i.S2;if(i.cn){i.TN=new cY.UQ(i.gG.m,i.gG.J);i.TN.set(i.cn);delete i.cn}if(i.tN){i.b5=new cY.UQ(i.gG.m,i.gG.J);
i.b5.set(i.tN);delete i.tN}}};k4.af0=function(i){if(i.uQ)i.uQ.delete();if(i.TN)i.TN.delete();if(i.b5)i.b5.delete()};
k4.abU=function(i){if(i.all==null)return;for(var Y=0;Y<i.all.length;Y++){k4.af0(i.all[Y])}};k4.aqZ=function(i,C,m,e,z,L){var l=k4.$v(m,e,i,C,z,L);
for(var Y=0;Y<l.all.length;Y++)k4.aDq(l.all[Y]);return l};k4.adB=function(i){for(var Y=0;Y<jt.order.length;
Y++){var C=jt.order[Y],m=jt.m8[Y],e=i[m].v;for(var z=0;z<e.length;z++){var L=e[z].v;if(L.enab.v&&["patternFill","GrFl","SoFi"].indexOf(C)==-1)return!0}}return!1};
k4.$v=function(i,C,m,e,z,L){if(L==null)L=e;var l=0,x=0;for(var Y=0;Y<jt.order.length;Y++){var S=jt.order[Y],k=jt.m8[Y],f=i[k].v;
for(var X=0;X<f.length;X++){var o=f[X].v;if(S=="DrSh"&&o.enab.v&&o.Ckmt.v.val>0&&o.blur.v.val>0)l=Math.max(l,Math.ceil(o.Ckmt.v.val*o.blur.v.val/100));
if(S=="OrGl"&&o.enab.v&&o.Ckmt.v.val>0&&o.blur.v.val>0&&o.GlwT.v.BETE=="SfBL")l=Math.max(l,Math.ceil(o.Ckmt.v.val*o.blur.v.val/100));
if(S=="OrGl"&&o.enab.v&&o.blur.v.val>0&&o.GlwT.v.BETE=="PrBL")l=Math.max(l,o.blur.v.val);if(S=="FrFX"&&o.enab.v&&o.Sz.v.val>0){if(o.Styl.v.FStl=="OutF")l=Math.max(l,o.Sz.v.val);
if(o.Styl.v.FStl=="CtrF")l=Math.max(l,Math.ceil(o.Sz.v.val/2));x=Math.max(x,k4.d_(o)[1])}}}var A=new k4.it(m,e,l,k4.adB(i)),P=-e.x,F=-e.y,n={type:{},all:[]};
for(var R=0;R<jt.order.length;R++){var S=jt.order[R],k=jt.m8[R];n.type[S]=[];for(var Q=i[k].v.length-1;
Q>=0;Q--){var s=i[k].v[Q].v,N;if(!s.enab.v)continue;var j=s.blur?s.blur.v.val:0,_=s.Ckmt?s.Ckmt.v.val/100:0,B=j*_;
if(S=="St3D"){var a=Math.max(1e-4,1-s.Srnk.v.val/100),T=2,ba=0;function O(H,iG,s){var gY=s.Angl.v.val;
gY*=Math.PI/180;var c=s.Dstn.v.val,dz=Math.cos(gY)*c,iL=-Math.sin(gY)*c,hq=a+iG*(1-a),du=new hN;du.translate(-H.m/2,-H.J/2);
du.scale(hq,hq);du.translate(H.m/2,H.J/2);du.translate((1-iG)*dz,(1-iG)*iL);return du}var H=e.clone(),q=m;
H.x=H.y=0;var h=Date.now(),D=H.clone();D.sW(T,T);var p=I.R(D.P());I.Vo(q,H,p,D);D.x=D.y=0;I.Zo.MO(p,p,D,2);
var y=I.R(D.P()*4);y.fill(255);I.uM(p,y);var b=I.R(H.P()),g=H.m,u=H.J,t=D.m,V=k4.ari(s,z),c=Math.cos(V[1]),E=-Math.cos(V[0])*c,Z=Math.sin(V[0])*c;
if(Math.abs(E)<.001&&Math.abs(Z)<.001)E=Z=0;for(var G=0;G<u;G++)for(var J=0;J<g;J++){var Y=(G+T)*t+J+T,K=p[Y+1]-p[Y-1],M=p[Y+t]-p[Y-t],U=K*K+M*M;
if(U>10){var r=1/Math.sqrt(U);b[G*g+J]=Math.max(0,Math.min(255,128+127*(E*r*K+Z*r*M)))}}var dS=[q,H],w=O(H,0,s),di=I.C.Ym(H).j,eM=di.slice(0);
I.C.i(di,w,eM);var j5=H.Z0(I.C.Ve(eM)),ds=I.R(j5.P()*4);for(var Y=0;Y<8;Y+=2){var K=di[Y]-eM[Y],M=di[Y+1]-eM[Y+1];
ba=Math.max(ba,Math.sqrt(K*K+M*M))}var gH=Math.round(ba/2),ir=I.I.oq(s.Clr.v);ir.Z/=255;ir.r/=255;ir.e/=255;
var iP=s.Drkn.v.val/100;for(var iy=0;iy<gH;iy++){var iG=iy/gH,eg=1-iP+iG*iP,du=O(H,iG,s),gh=H.clone(),ga=q;
if(a!=1){var d5=$.V.P1(dS,du);gh=d5.rect;ga=d5.channel}else{var fu=du.M$(new b5(0,0));gh.x+=Math.round(fu.x);
gh.y+=Math.round(fu.y)}var ay=I.R(gh.P()*4);if(E!=0||Z!=0){var c7=gh.m,eE=gh.J,jn=ir.Z,dI=ir.r,dQ=ir.e,jo=du.clone();
jo.Fb();var hT=jo.M$(new b5(.5,.5)),ea=jo.M$(new b5(1.5,1.5)),K=ea.x-hT.x,M=ea.y-hT.y;for(var G=0;G<eE;
G++){for(var J=0;J<c7;J++){var Y=G*c7+J,b9=Y*4,bI=Math.max(0,Math.min(g-1,~~(.5+K*J))),ii=Math.max(0,Math.min(u-1,~~(.5+M*G))),d_=b[ii*g+bI],c4=-1+2*d_*(1/255),kG=-c4,fC=0;
if(c4>0){kG=0;fC=c4}ay[b9]=255*(1-kG)*(fC+(1-fC)*jn)*eg;ay[b9+1]=255*(1-kG)*(fC+(1-fC)*dI)*eg;ay[b9+2]=255*(1-kG)*(fC+(1-fC)*dQ)*eg}}}else k4.JD(ay,s.Clr.v,null,eg);
I.uC(ga,ay,3);I.l.Qv("norm",ay,gh,ds,j5,gh,1)}N={S2:ds,gG:j5}}else if(S=="DrSh"){var bO=A.TW(B,j-B,!0),id=bO.Fr,a5=bO.TD.clone();
k4.fc(id,s,!1);if(s.Cntn&&s.Cntn.v){var eU=new j2;k4.fb(eU,s,z,0);var af=a5.clone();af.offset(-eU.x,-eU.y);
af=af.Z0(a5);var a7=I.R(af.P());I.Vo(id,a5,a7,af);var g$=Math.sqrt(eU.x*eU.x+eU.y*eU.y),cg=id.slice(0);
for(var Y=0;Y<g$-1;Y++){var K=Math.round(-eU.x*Y/g$),M=Math.round(-eU.y*Y/g$),cC=bO.TD.clone();cC.offset(K,M);
I.axL(cg,cC,a7,af)}id=a7;a5=af}a5.offset(P,F);k4.fb(a5,s,z,0);var ds=I.R(a5.P()*4);k4.JD(ds,s.Clr.v);
I.uC(id,ds,3);N={S2:ds,gG:a5,a5k:s.layerConceals.v}}else if(S=="IrSh"){var bO=A.TW(B,j-B,!1);k4.fb(bO.TD,s,z,0);
var a5=A.rect().clone(),id=I.R(a5.P());id.fill(255);I.Vo(bO.Fr,bO.TD,id,a5);k4.fc(id,s,!0,!0);var ds=I.R(a5.P()*4);
k4.JD(ds,s.Clr.v);I.uC(id,ds,3);a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="GrFl"){var ds=I.R(A.rect().P()*4);
k4.dj(s,ds,A.rect(),z,null,L);var a5=A.rect().clone();a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="SoFi"){var ds=I.R(A.Fr().length*4);
k4.JD(ds,s.Clr.v);var a5=A.rect().clone();a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="ebbl"){var kF=!1;
if(kF)console.log(s);var h=Date.now(),am=h,cJ=s.bvlS.v.BESl;if(cJ=="strokeEmboss"){var fX=i.frameFXMulti.v;
if(fX.length==0)continue;fX=fX[0].v;if(!fX.enab.v)continue;var hP=fX.Styl.v.FStl;if(hP=="OutF")cJ="OtrB";
if(hP=="CtrF")cJ="Embs";if(hP=="InsF")cJ="InrB"}var j=s.blur.v.val;if(j==0)j=.7;if(cJ=="Embs"||cJ=="PlEb")j/=2;
var kx=["OtrB","InrB","Embs","PlEb","strokeEmboss"],f2=["SfBL","PrBL","Slmt"],gt=["In","Out"],iD=s.bvlT.v.bvlT!="SfBL"?j:j*.45,eb=Math.round(j),dA=A.rect().clone(),e9=dA.clone();
e9.sW(eb,eb);var g=e9.m,u=e9.J,eI=g*u,d9=I.R(eI);I.Vo(A.Fr(),dA,d9,e9);var f9=I.style.bt(d9,g,u);I.Fb(d9);
var e4=I.style.bt(d9,g,u);if(kF)console.log("distTransform computed",Date.now()-h);h=Date.now();for(var Y=0;
Y<eI;Y++){var cj=e4[Y]-f9[Y];if(cj<-iD)cj=-iD;else if(cj>iD)cj=iD;e4[Y]=cj}if(kF)console.log("summing + cropping",Date.now()-h);
h=Date.now();if(s.bvlT.v.bvlT=="SfBL"){var i4=Math.pow(j*.21,1.22);if(!0)i4=Math.max(i4,2);I.Zo.Kh(e4,e9,i4,2)}if(kF)console.log("blurring",Date.now()-h);
h=Date.now();var d6=e4,ko=f9;ko.set(d6);if(s.useShape.v){var cM=Math.min(100,s.Inpr.v.val+1)/100;if(cJ!="OtrB"&&cJ!="InrB")cM=1;
var g2=I.$l.SV(s.MpgS.v.Crv.v,2e3),iW=Math.round(2e3/cM);g2=I.$l.arh(g2,iW,cJ=="InrB");var bl=.5/iD;
for(var Y=0;Y<eI;Y++){var dW=d6[Y],j8=.99999*(dW+iD)*bl;d6[Y]=-iD+2*iD*g2[~~(j8*(iW-1))]}if(kF)console.log("applying shape",Date.now()-h);
h=Date.now()}if(s.useTexture.v){var ay=I.R(g*u*4);k4._2(s,ay,e9,z.add.Patt,C);var dq=I.R(g*u);I.Gt(ay,dq);
I.Zo.asg(dq,dq,e9,1);var hl=j*s.textureDepth.v.val*(1/100)*(1/255);if(s.InvT.v)hl=-hl;for(var Y=0;Y<eI;
Y++)d6[Y]+=-hl*dq[Y];if(kF)console.log("applying texture",Date.now()-h);h=Date.now()}var V=k4.ari(s,z),gY=V[0],bE=V[1],E=Math.cos(gY)*Math.cos(bE),Z=-Math.sin(gY)*Math.cos(bE),dn=Math.sin(bE),a3=cJ=="PlEb",en=new Float32Array(eI),g3=en;
en.fill(dn);if(a3){g3=new Float32Array(eI);g3.fill(dn)}var h4=(s.bvlT.v.bvlT=="SfBL"?1:.5)*(s.bvlD.v.BESs=="In"?1:-1)*s.srgR.v.val/100,gJ=-.125*h4;
for(var G=0;G<u;G++){var at=G==0?0:-g,aZ=G==u-1?0:g,Y=G*g;for(var J=0;J<g;J++,Y++){var hH=J==0?Y:Y-1,dl=J==g-1?Y:Y+1,K=d6[dl]-d6[hH],M=d6[Y+aZ]-d6[Y+at],dR=1;
if(K==0&&M==0)continue;var cm=d6[hH+at],gv=d6[dl+at],bm=d6[hH+aZ],hk=d6[dl+aZ],h1=gJ*(gv+2*K+hk-cm-bm),fN=gJ*(bm+2*M+hk-cm-gv),h0=1/Math.sqrt(h1*h1+fN*fN+1);
h1*=h0;fN*=h0;dR*=h0;var ip=h1*E+fN*Z+dR*dn;en[Y]=Math.max(0,ip);if(!a3)continue;var gE=-h1*E-fN*Z+dR*dn;
g3[Y]=Math.max(0,gE)}}if(kF)console.log("raycasting",Date.now()-h);h=Date.now();if(s.Sftn.v.val!=0){I.Zo.Kh(en,e9,s.Sftn.v.val*.43,2);
if(a3)I.Zo.Kh(g3,e9,s.Sftn.v.val*.43,2)}if(kF)console.log("softening",Date.now()-h);h=Date.now();var dH=k4.Wq(s.hglC.v,0),g6=k4.Wq(s.sdwC.v,0),dC=new Uint8Array(en.buffer),h2=new Uint32Array(dC.buffer),e1=new Uint8Array(d6.buffer),jz=new Uint32Array(e1.buffer),bx=dC,fv=e1,hE=h2,kc=jz;
if(a3){bx=new Uint8Array(g3.buffer);hE=new Uint32Array(bx.buffer);fv=new Uint8Array(ko.buffer);kc=new Uint32Array(fv.buffer)}var dJ=1/dn,bS=1/(1-dn),bl=1/iD,g2=I.$l.SV(s.TrnS.v.Crv.v,1024),gr=new Float32Array(2500);
for(var Y=0;Y<2500;Y++){var J=Math.max(0,Math.min(1,(Y-500)*.001));gr[Y]=Math.pow(J,.2)}for(var G=0;
G<u;G++)for(var J=0;J<g;J++){var Y=G*g+J,jB=4*Y+3,jO=~~(en[Y]*1023),jM=g2[jO],bb=(ko[Y]+iD*.993)*bl,cq=gr[~~(500+bb*1e3)],hJ=cq*(1-Math.min(1,jM*dJ)),a$=cq*(1-Math.min(1,(1-jM)*bS));
jz[Y]=~~(.5+255*hJ)<<24|g6;h2[Y]=~~(.5+255*a$)<<24|dH;if(!a3)continue;var cH=g2[~~(g3[Y]*1023)],k8=cq*(1-Math.min(1,cH*dJ)),eE=cq*(1-Math.min(1,(1-cH)*bS));
kc[Y]=~~(.5+255*k8)<<24|g6;hE[Y]=~~(.5+255*eE)<<24|dH}if(kF)console.log("baking textures",Date.now()-h);
h=Date.now();e9=A.rect().clone();e9.sW(eb,eb);e9.offset(P,F);N={aiD:s.bvlS.v.BESl=="strokeEmboss"};var dM=aw._A(s.hglM.v.BlnM),i0=s.hglO.v.val/100,ct=aw._A(s.sdwM.v.BlnM),h7=s.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(cJ)!=-1){N.ZX={S2:dC,gG:e9,Vq:dM,yE:i0};N.Br={S2:e1,gG:e9,Vq:ct,yE:h7}}if(["OtrB","Embs","PlEb"].indexOf(cJ)!=-1){N.Iv={S2:bx,gG:e9,Vq:dM,yE:i0};
N.OM={S2:fv,gG:e9,Vq:ct,yE:h7}}if(kF)console.log(Date.now()-am)}else if(S=="patternFill"){var je=A.rect(),ds=I.R(je.P()*4);
k4._2(s,ds,je,z.add.Patt,C);var a5=je.clone();a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="ChFX"){var ds=I.R(A.Fr().length*4);
k4.JD(ds,s.Clr.v);var j=s.blur.v.val,kp=A.rect().clone();kp.sW(j,j);var bL=I.R(kp.P()),cz=I.R(kp.P());
I.Vo(A.Fr(),A.rect(),cz,kp);I.Zo.MO(cz,bL,kp,j*.43);var b2=I.$l.K7(s.MpgS.v.Crv.v,256,!0);I.aae(bL,b2);
var b1=I.R(A.Fr().length),e5=I.R(A.Fr().length),b$=A.rect().clone();k4.fb(b$,s,z,0);I.Vo(bL,kp,b1,b$);
b$=A.rect().clone();k4.fb(b$,s,z,Math.PI);I.Vo(bL,kp,e5,b$);var jC=b1.length;for(var Y=0;Y<jC;Y++)ds[4*Y+3]=Math.abs(b1[Y]-e5[Y]);
if(s.Invr.v)for(var Y=0;Y<jC;Y++)ds[4*Y+3]=255-ds[4*Y+3];var a5=A.rect().clone();a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="OrGl"){var bO;
if(s.GlwT.v.BETE=="SfBL")bO=A.TW(B,j-B,!0);else bO=A.aul(j,_,!0);var id=bO.Fr,a5=bO.TD,ff=id.slice(0);
k4.aff(id,s);var ds=I.R(a5.P()*4);if(s.Grad==null){k4.JD(ds,s.Clr.v);k4.fc(id,s,!1)}else{k4.fc(id,s,null);
var iT={pP:id,lV:255,ML:0,oC:a5};k4.dj(s,ds,a5,z,iT);var kg=s.Nose.v.val/100,dX=a5.m;for(var Y=0;Y<ff.length;
Y++){var bf=255,hA=ff[Y];if(hA<32){var bb=(hA+ff[Y-1]+ff[Y+1]+ff[Y-dX]+ff[Y+dX])*.2-1;bf=Math.min(255,Math.round(Math.max(0,bb)*8))}id[Y]=bf}k4.arl(id,s)}I.uC(id,ds,3);
a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="IrGl"){var bO;if(s.GlwT.v.BETE=="SfBL")bO=A.TW(B,j-B,!1);
else bO=A.aul(j,_,!1);var id=bO.Fr,a5=bO.TD;k4.aff(id,s);if(s.glwS.v.IGSr=="SrcC")I.Fb(id);var ds=I.R(a5.P()*4);
if(s.Grad==null){k4.JD(ds,s.Clr.v);k4.fc(id,s,!0)}else{k4.fc(id,s,null);var iT={pP:id,lV:255,ML:0,oC:a5};
k4.dj(s,ds,a5,z,iT);id.fill(255);k4.arl(id,s)}I.uC(id,ds,3);a5.offset(P,F);N={S2:ds,gG:a5}}else if(S=="FrFX"){var e_=k4.d_(s),eC=e_[0],hi=e_[1],a5=A.rect().clone(),kA=null,kH=null;
a5.sW(Math.ceil(x),Math.ceil(x));if(hi>0){var bO=A.TW(hi,0,!0);kH=bO.Fr;if(kH.length<a5.P()){kH=I.R(a5.P());
I.Vo(bO.Fr,bO.TD,kH,a5)}}if(eC>0){var bO=A.TW(eC,0,!1);kA=I.R(a5.P());kA.fill(255);I.Vo(bO.Fr,bO.TD,kA,a5)}a5.offset(P,F);
var ds=I.R(a5.P()*4),gd=s.PntT.v.FrFl;if(gd=="SClr")k4.JD(ds,s.Clr.v);if(gd=="GrFl")k4.dj(s,ds,a5,z,A.aho(eC,hi));
if(gd=="Ptrn")k4._2(s,ds,a5,z.add.Patt,C);var eS=s.overprint,cu=eS?eS.v:!1;if(cu){var d0=kA?kA:kH;if(kA&&kH)I.CX.G_(kA,kH,d0);
I.uC(d0,ds,3)}N={S2:ds,gG:a5,tN:kH,cn:kA,a3_:cu}}n.type[S].push(N);if(S=="ebbl"){if(N.ZX)n.all.push(N.ZX,N.Br);
if(N.Iv)n.all.push(N.Iv,N.OM)}else{N.Vq=aw._A(s.Md.v.BlnM);N.yE=s.Opct.v.val/100,n.all.push(N)}}}return n};
k4.uI=function(i){var C=1/Math.sqrt(i.x*i.x+i.y*i.y+i.jF*i.jF);i.x*=C;i.y*=C;i.jF*=C};k4.a2N=function(i,C){return{x:i.y*C.jF-i.jF*C.y,y:i.jF*C.x-i.x*C.jF,jF:i.x*C.y-i.y*C.x}};
k4.apq=function(i,C){return i.x*C.x+i.y*C.y+i.jF*C.jF};k4.arl=function(i,C){var m=C.Nose.v.val/100;if(m>0)for(var Y=0;
Y<i.length;Y++){var e=i[Y];e=Math.min(510-(1+m)*I.style.jX(Y),e);i[Y]=e}};k4.ia=function(i){var C=k4.Nk(),m=i.m3,e=!1;
for(var Y=0;Y<32;Y+=8)if(m[Y]+m[Y+1]+m[Y+4]+m[Y+5]!=0||m[Y+2]+m[Y+3]+m[Y+6]+m[Y+7]!=1020)e=!0;if(e){m=m.slice(0);
for(var Y=0;Y<40;Y+=4){var z=m[Y]/255,L=m[Y+1]/255,l=m[Y+2]/255,x=m[Y+3]/255;m[Y]=z-.001;m[Y+1]=z==L?1e6:1/(L-z);
m[Y+2]=l==x?-1e6:1/(l-x);m[Y+3]=x+.001}}var S=i.add.iOpa!=null?i.add.iOpa/255:C.fill,k=i.add.vstk;if(k&&!k.fillEnabled.v&&(!k.strokeEnabled.v||k.strokeStyleLineWidth.v.val==0))S=0;
return{fill:S,Sl:e?m:null,vt:i.add.brst!=null?i.add.brst:C.vt,arW:i.add.knko!=null?i.add.knko:C.arW,style:!1,eW:!1}};
k4.Nk=function(){return{fill:1,Sl:null,vt:[1,1,1],arW:0,style:!1,eW:!1}};k4.aiX=function(i,C,m,e,z,L,l,x){if(x==null)x=1;
if(l==null)l=new hN;var S=i.GK[1].m,k=i.GK[1].J,f=new hN,X=z<2;if(X)f.translate(-S/2,-k/2);if(z==0){x*=Math.max(m/S,e/k)}else if(z==1){x*=Math.min(m/S,e/k)}else if(z==2){f.scale(1/S,1/k);
f.concat(l);f.scale(m,e)}else if(z==3){x=x}f.scale(x,x);if(X)f.translate(m/2,e/2);f.concat(L);C.Ptrn.v.Idnt.v=i.id;
C.Scl.v.val=Math.round(100*f.je());C.Angl.v.val=Math.round(180*Math.atan2(-f.e,f.W)/Math.PI);C.Algn.v=!0;
var o=C.phase.v;o.Hrzn.v=Math.round(f.W_);o.Vrtc.v=Math.round(f.Rj)};k4.LZ=function(i,C){if(C==null)return null;
var m=i.Idnt.v,e=i.Nm.v;for(var Y=0;Y<C.length;Y++)if(C[Y].id==m)return C[Y];for(var Y=0;Y<C.length;
Y++)if(C[Y].name==e)return C[Y];return null};k4.aog=function(i,C,m){var e=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var Y=0;Y<e.length;Y++){var z=i.v[e[Y]].v;for(var L=0;L<z.length;L++)if(z[L].v.Ptrn)C.p0(k4.LZ(z[L].v.Ptrn.v,m))}};
k4.ac1=function(i,C,m){var e=["patternFillMulti","ebblMulti","frameFXMulti"];for(var Y=0;Y<e.length;
Y++){var z=i.v[e[Y]].v;for(var L=0;L<z.length;L++)if(z[L].v.Ptrn){var l=z[L].v.Ptrn.v,x=k4.LZ(l,m),S=k4.LZ(l,C.add.Patt);
if(x==null&&S)m.push(S)}}};k4._2=function(i,C,m,e,z){var L=k4.LZ(i.Ptrn.v,e);if(L!=null&&!m.bs()){var l=L.GK,x=l[0],S=l[1],k=0;
I.aq(l);var f=(i.Scl?i.Scl.v.val:100)/100;while((f<.3||f==.5)&&l[k+2]){f*=S.m/l[k+3].m;k+=2;x=l[k];S=l[k+1]}var X=I.scale._2(x,S.m,S.J),o=i.phase?i.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},A=i.Angl?i.Angl.v.val:0,P=-m.x+o.Hrzn.v-1,F=-m.y+o.Vrtc.v-1;
if(i.Algn!=null&&!i.Algn.v){}else{P+=z.x;F+=z.y}if(C)I.scale.an6(X,C,m.m,m.J,f,f,P+1,F+1,A*Math.PI/180);
else return[X,f,P+1,F+1,A*Math.PI/180]}};k4.dj=function(i,C,m,e,z,L){if(L==null)L=m;var l=i.Type?i.Type.v.GrdT:"shapeburst",x=i.Algn&&i.Algn.v?L:new j2(0,0,e.m,e.J),S=i.Angl?I.I.II(i,x):[new b5(0,0),new b5(100,0)],k=S[0].x,f=S[0].y,X=S[1].x-k,o=S[1].y-f,A=Math.sqrt(X*X+o*o);
A=1/(2*A*A);var P=[X*A,o*A,-o*A,X*A],F=i.Rvrs?i.Rvrs.v:!1,n=i.Dthr?i.Dthr.v:!1;I.I.oV(i.Grad.v,C,m,P,k,f,F,jt.I.types.indexOf(l),0,0,z,n)};
k4.aww=function(i,C,m){for(var Y=0;Y<i.all.length;Y++){var e=i.all[Y];e.GS=e.gG.clone();e.GS.offset(C,m)}};
k4.amz=function(i,C,m,e,z,L){var l=cY.fp?k4.a5c:k4.aAt;k4.aww(C,m.x,m.y);var x=C.type.DrSh;for(var Y=0;
Y<x.length;Y++)if(!x[Y].a5k)l(x[Y],e,z,L)};k4.aA$=function(i,C,m,e,z,L,l,x,S,k){var f=m,X=cY.fp?k4.a5c:k4.aAt,o=cY.fp?cY.l.co:I.l.ZC,A;
A=C.type.DrSh;for(var Y=0;Y<A.length;Y++)if(A[Y].a5k)X(A[Y],e,z,L);A=C.type.St3D;for(var Y=0;Y<A.length;
Y++)X(A[Y],e,z,L);A=C.type.OrGl;for(var Y=0;Y<A.length;Y++)X(A[Y],e,z,L);var P="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var F=0;F<P.length;F++){var A=C.type[P[F]];for(var Y=0;Y<A.length;Y++)X(A[Y],l,f,L)}var n=C.type.ebbl[0],R=n!=null&&n.aiD;
A=C.type.FrFX;for(var Y=0;Y<A.length;Y++){var Q=A[Y];e2.wA.Vo(x,k,S,k,L);X(Q,S,k,L);if(R&&Y==A.length-1){if(n.OM)X(n.OM,S,k,L);
if(n.Iv)X(n.Iv,S,k,L);if(n.Br)X(n.Br,S,k,L);if(n.ZX)X(n.ZX,S,k,L)}if(Q.a3_){if(Q.cn||Q.TN){X(Q,l,f,L)}if(Q.tN||Q.b5){X(Q,e,z,L)}}else{if(Q.cn||Q.TN)o(S,k,l,f,cY.fp?Q.TN:Q.cn,Q.GS,0,L,1);
if(Q.tN||Q.b5)o(S,k,e,z,cY.fp?Q.b5:Q.tN,Q.GS,0,L,1)}}if(!R&&n!=null){if(n.OM)X(n.OM,e,z,L);if(n.Iv)X(n.Iv,e,z,L);
if(n.Br)X(n.Br,l,f,L);if(n.ZX)X(n.ZX,l,f,L)}};k4.aAt=function(i,C,m,e){var z=k4.Nk();z.fill=i.yE;z.style=!0;
I.l.Qv(i.Vq,i.S2,i.GS,C,m,e,1,z)};k4.a5c=function(i,C,m,e){var z=k4.Nk();z.fill=i.yE;z.style=!0;cY.l.afw(i.Vq,i.uQ,i.GS,C,m,e,1,z)};
k4.aff=function(i,C){var m=1-C.Inpr.v.val/100,e=1+Math.tan(m*(Math.PI/2)),z=i.length;for(var Y=0;Y<z;
Y++)i[Y]=Math.min(255,Math.round(i[Y]*e))};k4.fc=function(i,C,m,e){var z=C.blur.v.val,L=Math.round(z*(C.Ckmt.v.val/100));
if(z>L){var l=I.$l.K7(C.TrnS.v.Crv.v,256,e!=!0);I.aae(i,l)}if(m!=null&&C.Nose.v.val>0)I.style.QJ(i,C.Nose.v.val/100,m)};
k4.Wq=function(i,C,m){if(C==null)C=255;var e=I.I.oq(i);if(m!=null){e.Z=Math.round(e.Z*m);e.r=Math.round(e.r*m);
e.e=Math.round(e.e*m)}return C<<24|e.e<<16|e.r<<8|e.Z};k4.JD=function(i,C,m,e){var z=new Uint32Array(i.buffer);
z.fill(k4.Wq(C,m,e))};k4.fb=function(i,C,m,e,z){var L=C.uglg&&C.uglg.v?m.Ju():C[z?z:"lagl"].v.val;L=L*Math.PI/180+e;
var l=Math.cos(L)*C.Dstn.v.val,x=Math.sin(L)*C.Dstn.v.val;i.x-=Math.round(l);i.y+=Math.round(x)};k4.ari=function(i,C){var m=i.uglg&&i.uglg.v?C.Ju():i.lagl.v.val;
m=m*(Math.PI/180);var e=i.uglg&&i.uglg.v?C.JL():i.Lald.v.val;e=e*(Math.PI/180);return[m,e]};k4.OE=function(i){if(i==null)return null;
var C=i.frameFXMulti.v;if(C.length==0)return null;C=C[0].v;var m=jt.lc.TQ();k4.a2I(C,m);return m};k4.a2I=function(i,C){var m=jt.stroke.Nw.indexOf(i.PntT.v.FrFl),e=[jt.pb,jt.It,jt.dH][m],z=C.strokeStyleContent.v={classID:jt.lc.nU[m]};
for(var Y=0;Y<e.length;Y++)z[e[Y]]=i[e[Y]];C.strokeEnabled=i.enab;C.strokeStyleLineWidth=i.Sz;C.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jt.lc.ne[jt.stroke.types.indexOf(i.Styl.v.FStl)];
C.strokeStyleOpacity=i.Opct;C.strokeStyleBlendMode=i.Md;C.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
k4.$M=function(i,C){var m=[];for(var Y=0;Y<i.length;Y++)m.push({t:"UntF",v:{type:"#Nne",val:Math.round(i[Y]*C)}});
return m};k4.a3E=function(i,C){var m=i.opacity/255*(i.add.iOpa?i.add.iOpa/255:1),e=i.add.TySh,z=i.yJ()||i.Q9()&&i.add.vmsk&&i.add.vstk.fillEnabled.v&&i.add.vstk.strokeEnabled.v;
if(e){var L=e.Wg.EngineDict.StyleRun.RunArray,l=L[0].StyleSheet.StyleSheetData,x=0;if(l.FillFlag)x++;
if(l.StrokeFlag)x++;if(l._FillBackgroundFlag)x++;if(x>1)z=!0}return z&&(C||m!=1||i.fn!="pass"&&i.fn!="norm")};
k4.it=function(i,C,m,e){this.nA=C.clone();this.axu=C.clone();this.axu.sW(m,m);if(e){this.nA.sW(1,1);
this.JV=I.R(this.nA.P());I.Vo(i,C,this.JV,this.nA)}else this.JV=i;this.zn=null;this.HY=null;this.IC=null};
k4.it.prototype.Fr=function(){return this.JV};k4.it.prototype.rect=function(){return this.nA};k4.it.prototype.Lo=function(){return this.axu};
k4.it.prototype.BO=function(){if(this.zn)return this.zn;this.zn=this.Fr().slice(0);I.Fb(this.zn);return this.zn};
k4.it.prototype.FK=function(){if(this.HY)return this.HY;this.HY=I.style.bt(this.BO(),this.rect().m,this.rect().J);
return this.HY};k4.it.prototype.MR=function(){if(this.IC)return this.IC;var i=this.Lo(),C=I.R(i.P());
I.Vo(this.Fr(),this.rect(),C,i);var m=Date.now();this.IC=I.style.bt(C,i.m,i.J);return this.IC};k4.it.prototype.aho=function(i,C){var m={lV:-C,ML:i,oC:null,pP:null};
if(C==0){m.oC=this.rect();m.pP=this.FK();return m}var e=this.MR().slice(0),z=this.Lo();m.oC=z;m.pP=e;
for(var Y=0;Y<e.length;Y++)e[Y]=-e[Y];if(i==0)return m;var L=this.FK(),l=this.rect();for(var x=0;x<l.J;
x++)for(var S=0;S<l.m;S++){var k=x*l.m+S,f=(x+l.y-z.y)*z.m+S+l.x-z.x;e[f]+=L[k]}return m};k4.it.prototype.TW=function(i,C,m){var e=Math.ceil(i+C),z={TD:this.rect().clone(),Fr:null};
z.TD.sW(e,e);z.Fr=I.R(z.TD.P());if(i==0&&C==0)I.EP(m?this.Fr():this.BO(),z.Fr);else{var L=I.R(z.TD.P());
I.Vo(this.Fr(),this.rect(),L,z.TD);if(!m)I.Fb(L);if(i!=0){if(m)I.style.Ni(L,z.TD,this.MR(),this.Lo(),i);
else I.style.Ni(L,z.TD,this.FK(),this.rect(),i)}if(C!=0)I.Zo.MO(L,z.Fr,z.TD,Math.max(1,C*.43));else z.Fr=L}return z};
k4.it.prototype.aul=function(i,C,m){var e=i*(C-.5),z={TD:this.rect().clone(),Fr:null};if(m)z.TD.sW(i,i);
z.Fr=I.R(z.TD.P());var L=z.TD.m,l=z.TD.J,x=m?this.MR():this.FK(),S=m?this.Lo():this.rect(),k=z.TD,f=k.G_(S),L=f.m,l=f.J,X=f.x-k.x,o=f.y-k.y,A=f.x-S.x,P=f.y-S.y,F=1-C*2;
for(var n=0;n<l;n++)for(var R=0;R<L;R++){var Q=x[(n+P)*S.m+R+A],s=Q/i;z.Fr[(n+o)*k.m+R+X]=Math.max(0,Math.min(255,255-255*((s+F)/(1+F))))}return z};
k4.a35=function(i,C,m,e){var z=i.Lefx,L=i.blendOptions;if(z){var l=C.add.lmfx;if(m==null)m=l?l.Scl.v.val:100;
C.add.lmfx=JSON.parse(JSON.stringify(z.v));if(C.add.lmfx.Scl==null)C.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
k4._W(C.add.lmfx,m/C.add.lmfx.Scl.v.val);if(l)C.add.lmfx.Scl.v.val=l.Scl.v.val;var x=z.v.gagl;if(x&&e)e.mC(x.v.val)}else delete C.add.lmfx;
if(L){L=L.v;if(L.Md)C.fn=aw._A(L.Md.v.BlnM);if(L.Opct)C.opacity=Math.round(L.Opct.v.val*255/100);if(L.fillOpacity)C.add.iOpa=Math.round(L.fillOpacity.v.val*255/100);
if(L.Blnd){var S=[];for(var Y=0;Y<10;Y++)S.push(0,0,255,255);var k=L.Blnd.v,f="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var Y=0;Y<k.length;Y++){var X=k[Y].v,o=8*["Gry","Rd","Grn","Bl"].indexOf(X.Chnl.v[0].v.enum);for(var A=0;
A<8;A++){S[o+A]=X[f[A]].v}}C.m3=S}}};k4.awv=function(i){var C="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),m=[],e=i.m3;
for(var Y=0;Y<4;Y++){var z=Y*8;if(e[z]+e[z+1]+e[z+4]+e[z+5]==0&&e[z+2]+e[z+3]+e[z+6]+e[z+7]==4*255)continue;
var L={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][Y]}}]}}};
m.push(L);for(var l=0;l<8;l++)L.v[C[l]]={t:"long",v:e[Y*8+l]}}var x={classID:"blendOptions"};if(i.fn!="norm")x.Md={t:"enum",v:{BlnM:aw.An(i.fn)}};
if(i.opacity!=255)x.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(i.opacity*100/255)}};if(i.add.iOpa!=null)x.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(i.add.iOpa*100/255)}};
if(m.length!=0)x.Blnd={t:"VlLs",v:m};var S={hg:{classID:"null",Idnt:{t:"TEXT",v:ei.Eu()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},b2:{classID:"Styl",blendOptions:{t:"Objc",v:x}}},k=i.add.lmfx;
if(k)S.b2.Lefx={t:"Objc",v:k};return S};function iH(){}iH.xs=function(i){return JSON.parse(JSON.stringify(i))};
iH.UD=function(i){var C=iH.xs(iH.azf),m=C.Brsh.v;if(i!=null){delete m.Hrdn;m.classID="sampledBrush";
m.sampledData={t:"TEXT",v:i}}return C};iH.azf={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
iH.a9t=function(i,C){var m=["opVr","szVr"],e=["usePaintDynamics","useTipDynamics"];for(var Y=0;Y<2;Y++){var z=m[Y];
if(i[z]==null)i[z]=JSON.parse(iH.uI.Y9[z]);i[z].v.bVTy.v=C[Y]?2:0;if(C[Y])i[e[Y]].v=!0}iH.uI.ags(i)};
iH.uI={};iH.uI.check=function(i){var C=iH.uI.eM;for(var Y=0;Y<C.length;Y++)if(i[C[Y]]==null)i[C[Y]]=JSON.parse(iH.uI.Y9[C[Y]]);
var m=[];for(var Y=0;Y<C.length;Y++)m.push(C[Y]);var e=iH.uI.at4;for(var Y=0;Y<e.length;Y++){var z=e[Y][0],L=e[Y][1],l=!0;
for(var x=0;x<z.length;x++)l=l&&i[z[x]].v==!0;if(l)for(var x=0;x<L.length;x++){if(i[L[x]]==null)console.log("Missing conditional parameter "+L[x]);
else m.push(L[x])}}for(var S in i)if(m.indexOf(S)==-1&&S!="toolOptions")console.log("Extra parameter "+S);
i=i.Brsh.v;C=iH.uI.nE.eM;for(var Y=0;Y<C.length;Y++)if(i[C[Y]]==null)i[C[Y]]=JSON.parse(iH.uI.nE.Y9[C[Y]]);
m=[];for(var Y=0;Y<C.length;Y++)if(i[C[Y]])m.push(C[Y]);else console.log("Missing default parameter "+C[Y]);
e=iH.uI.nE.ajR[i.classID];for(var Y=0;Y<e.length;Y++)if(i[e[Y]]==null&&e[Y]!="dtipsGridSize"&&e[Y]!="dtipsErodibleTipHeightMap"&&i.asx!=1)console.log("Missing conditional parameter "+e[Y]);
else m.push(e[Y]);for(var S in i)if(m.indexOf(S)==-1)console.log("Extra parameter "+S)};iH.uI.ags=function(i){var C=iH.uI.at4;
for(var Y=0;Y<C.length;Y++){var m=C[Y][0],e=C[Y][1],z=!0;for(var L=0;L<m.length;L++)z=z&&i[m[L]]&&i[m[L]].v==!0;
if(z){for(var L=0;L<e.length;L++)if(i[e[L]]==null){i[e[L]]=JSON.parse(iH.uI.Y9[e[L]])}}else for(var L=0;
L<e.length;L++)if(i[e[L]]!=null){delete i[e[L]]}}};iH.uI.nE={};iH.uI.nE.eM="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
iH.uI.nE.Y9={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};iH.uI.nE.ajR={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
iH.uI.at4=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
iH.uI.eM="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
iH.uI.Y9={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function fS(i,C){this.am8=i;this.RQ=C==null?0:C;this.dir=0}fS.prototype.BJ=function(i,C){var m=this.am8,e=new b5(i.x-m.x,i.y-m.y),z=new hN;
z.rotate(-this.RQ);e=z.M$(e);if(this.dir==0&&!m.LJ(i))this.dir=Math.abs(e.x)<Math.abs(e.y)?1:2;if(C.S(jD.$I)){if(this.dir==1)e.x=0;
if(this.dir==2)e.y=0}z.Fb();e=z.M$(e);var L=new b5(m.x+e.x,m.y+e.y);return L};fS.prototype.aE8=function(i){if(i.S(jD.$I))return this.dir;
return 0};var cN=function(){function i(){this.aaC={}}i.abc=function(C,m){var e=C.clone();e.W_-=Math.floor(e.W_);
e.Rj-=Math.floor(e.Rj);var z=new b5(m,0),L=new b5(0,m),l=e.M$(z),x=e.M$(L),S=new b5(e.W_,e.Rj);return[l,x,S]};
i.a1u=function(C,m){var e=b5.qM;return e(C[0],m[0])+e(C[1],m[1])+e(C[2],m[2]);return dsum};i.prototype.asK=function(C){var m=this.aaC,e=m[C];
if(e==null)e=m[C]={KW:[],Jb:0,P:0,apN:0,awq:0};e.Jb=Date.now();while(Object.keys(m).length>3){var z="",L=Date.now();
for(var l in m){var x=m[l].Jb;if(x<L){L=x;z=l}}delete m[z]}return e};i.prototype.a82=function(C,m){var e=C.KW,z,L=1e6;
for(var Y=0;Y<e.length;Y++){var l=e[Y],x=i.a1u(l.JQ,m);if(x<L){z=l;L=x}}return z};i.prototype.acF=function(C,m){var e=C.KW;
e.push(m);C.P+=m.rect.P();if(e.length>1e3||C.P>100*100*1600){console.log("pruning",C.P,e.length);e.sort(function(L,l){return l.Jb-L.Jb});
while(e.length>500||C.P>100*100*800){var z=e.pop();C.P-=z.rect.P()}}};return i}();function eY(i,C,m,e,z,L,l,x,S){this.fT=C;
this.bh=m;this.yv=L;this.BR=e;this.IW=null;this.xH=null;this.$b=0;this.abl=0;this.aky=0;this.mN=0;this.Wo=0;
this.aj=S==null?Math.floor(Math.random()*16777215):S;this.eI=S==null?Math.floor(Math.random()*16777215):S;
this.Jw=new j2;this.QE=new j2;if(x!=null){this.S2=x}else{var k=eY.a0v;if(k.length!=l.P()*4)k=I.R(l.P()*4);
else k.fill(0);this.S2=eY.a0v=k}this.rect=l.clone();this.Dz=[];this.iN=[];this.Nx=null;this.Dm=0;this.e=null;
this.aBq="";this.Ea=null;this.apt(i,z)}eY.a0v=I.R(16);eY.prototype.apt=function(i,C){this.Dm=C;this.e=i;
this.aBq=JSON.stringify(i)+JSON.stringify(this.BR.YR);this.Ea=eY.an3(this.e,this.fT,this.bh)};eY.prototype.moveTo=function(i,C,m){m=this.aBO(m);
this.$b=m;var e=new b5(i,C),z=this.e.Brsh.v.Dmtr.v.val;this.IW=e.clone();this.xH=e.clone();this.Nx=e.clone();
this.Dz=[i,C];this.iN=[m];if(this.BR.on!=eY.hE){var L=this.e.angleDynamics,l=L?L.v.bVTy.v==6:!1;this.uV(l?new j2:this.aAM(e,this.avI(m),m,new b5(0,0)))}this.mN=e.clone()};
eY.prototype.lineTo=function(i,C,m){m=this.aBO(m);var e=this.Dz,z=e.length,L=e[z-2],l=e[z-1];if(i==L&&C==l)return;
var x=this.e.Brsh.v.Dmtr.v.val,S=Math.ceil(x)+1,k=new j2(Math.round(L),Math.round(l),0,0);k.sW(S,S);
var f=new j2(Math.round(i),Math.round(C),0,0);f.sW(S,S);this.Dz.push(i,C);this.iN.push(m);z+=2;if(z>=6)this.uV(this.a4N(z))};
eY.prototype.aBO=function(i){if(i==null)i=1;i=Math.max(.05,Math.min(5,i));if(isNaN(i)){alert("Pressure is not a number");
throw"e"}return i};eY.prototype.uV=function(i){this.Jw=i;this.QE=this.QE.Z0(i)};eY.prototype.finish=function(){var i=this.Dz,C=i.length,m;
if(C==4)m=this.Vc(i[C-2],i[C-1],this.iN[(C>>1)-1],!0);if(C>4)m=this.a4N(C+2);if(m)this.uV(m)};eY.prototype.S8=function(){return this.rect.clone()};
eY.prototype.q1=function(){return this.Jw.G_(this.rect)};eY.prototype.HK=function(){return this.QE.G_(this.rect)};
eY.prototype.yN=function(){return this.S2};eY.prototype.a4N=function(i){var C=this.Dz,m=this.iN,e=C[i-6],z=C[i-5],L=C[i-4],l=C[i-3],x=m[(i>>1)-3],S=m[(i>>1)-2],k=new b5(0,0),f=new b5(0,0);
if(8<=i)k=eY.a84(C[i-8],C[i-7],e,z,L,l);if(i<=C.length)f=eY.a84(C[i-2],C[i-1],L,l,e,z);var X=e+k.x,o=z+k.y,A=L+f.x,P=l+f.y,F=new j2,n=this.aeD()?1:10;
for(var Y=0;Y<n;Y++){var R=(Y+1)/n,Q=1-R,s=Q*Q*Q*e+3*R*Q*Q*X+3*R*R*Q*A+R*R*R*L,j=Q*Q*Q*z+3*R*Q*Q*o+3*R*R*Q*P+R*R*R*l,_=this.Vc(s,j,x+R*(S-x));
F=F.Z0(_)}return F};eY.a84=function(i,C,m,e,z,L){var l=i-m,x=C-e,S=z-m,k=L-e,f=Math.sqrt(l*l+x*x),X=Math.sqrt(S*S+k*k),o=Math.acos((l*S+x*k)/(f*X))/Math.PI,A=.35,P=.1;
o=P+o*(A-P);var F=z-i,n=L-C,R=Math.sqrt(F*F+n*n),Q=o*X/R;return new b5(F*Q,n*Q)};eY.prototype.Vc=function(i,C,m,e){var z=new j2,L=this.BR.a5D;
if(L==null)L=0;if(L==0||e){z=this.aBp(i,C,m);return z}var l=this.Nx,x=i-l.x,S=C-l.y,k=Math.sqrt(x*x+S*S);
x/=k;S/=k;if(k>L){var f=l.x+x*(k-L),X=l.y+S*(k-L);z=this.aBp(f,X,m);this.Nx.zy(f,X)}return z};eY.prototype.aeD=function(){var i=this.e,C=i.Brsh.v.Dmtr.v.val;
return this.BR.YR&&C==1};eY.prototype.aBp=function(i,C,m){var e=new j2,z=new b5(i,C),L=this.BR.on,l=z._3(this.xH);
l.normalize(1);var x=b5.qM(this.xH,z),S=-this.abl,k=this.xH.clone();if(this.aeD()){if(x>.99){var f=this.xH;
eY.azH(f,z,this.S2,this.rect,this.aN(this.e));e=I.C.Ve([f.x,f.y,z.x,z.y]);S=x}else z=this.xH}else while(!0){var X=this.$b+(m-this.$b)*(Math.max(0,S)/x),o=this.avI(X),A=this.aef()*(o+this.aky)/2*this.Ea.a2o;
if(L==eY.hE)A=1;A=Math.max(A,.5);if(S+A<x){S+=A;this.Wo+=A;var P=new b5(this.xH.x+l.x*S,this.xH.y+l.y*S),R=1;
if(L==eY.hE){var F=k.clone();F.x+=l.x>0?1:-1;var n=k.clone();n.y+=l.y>0?1:-1;if(b5.qM(F,P)<b5.qM(n,P))P=F;
else P=n;S=b5.qM(P,this.xH)}if(this.e.useScatter.v==!0){R=this.e.Cnt.v;var Q=this.e.countDynamics.v.jitter.v.val/100,s=Q*(-1+2*this.b9());
R+=Math.round(R*s)}for(var Y=0;Y<R;Y++){var j=this.aAM(P,o,m,l);e=e.Z0(j)}k=P}else break}this.abl=x-S;
this.xH=z;this.$b=m;return e};eY.prototype.aef=function(){var i=this.e.Brsh.v,C=i.Spcn.v.val,m=Math.max(5,i.Rndn.v.val);
return m/100*(C/100)};eY.prototype.avI=function(i){var C=this.e,m=C.Brsh.v.Dmtr.v.val;if(C.useTipDynamics.v){var e=m*(C.minimumDiameter.v.val/100);
m=e+(m-e)*(1-this.b9(this.eI)*(C.szVr.v.jitter.v.val/100));m*=eY.c3(C,"szVr",i,this.Wo)}return m};eY.c3=function(i,C,m,e){var z=1,L=i[C].v,l=L.bVTy.v,x=L.fStp.v;
if(l==1)z*=Math.max(0,(x-e)/x);if(l==2)z*=m;return z};eY.prototype.aAM=function(i,C,m,e){var z=this.BR.Hh,F=0;
z=Math.min(1,z);var L=this.e,l=this.e.Brsh.v,x=l.Dmtr.v.val,S=this.BR,k=S.on,f=S.afO,X=this.Ea.GK[1],o=new hN;
o.translate(-X.m/2,-X.J/2);o.scale(1/this.Ea.a7a,1/this.Ea.a7a);o.scale(C/x,C/x);o.scale(1,Math.max(5,l.Rndn.v.val)/100);
if(L.usePaintDynamics&&L.usePaintDynamics.v){var A=L.opVr.v.jitter.v.val/100,P=L.prVr.v.jitter.v.val/100;
z*=1-this.b9()*A;z*=1-this.b9()*P;z*=eY.c3(L,"opVr",m,this.Wo)*eY.c3(L,"prVr",m,this.Wo)}if(L.useTipDynamics.v){var n=L.angleDynamics.v,R=L.minimumRoundness.v.val/100;
o.scale(1,R+(1-R)*Math.round(100-this.b9()*L.roundnessDynamics.v.jitter.v.val)/100);F+=(-.5+this.b9())*4*Math.PI*(n.jitter.v.val/100);
F+=eY.c3(L,"angleDynamics",m,this.Wo)*2*Math.PI;if(n.bVTy.v==6)F+=Math.atan2(-e.y,e.x)}F+=l.Angl.v.val*(Math.PI/180);
o.rotate(F);if(L.useScatter.v){var Q=(-1+2*this.b9())*L.scatterDynamics.v.jitter.v.val/100;o.translate(-Q*C*e.y,Q*C*e.x)}o.translate(i.x,i.y);
var s=this.ar4(o,i,C),j=s.rect.clone();if(k==null){var _=this.aN(L);I.eS(s.K8,Math.round(_.e*255)<<16|Math.round(_.r*255)<<8|Math.round(_.Z*255)<<0,4278190080);
if(this.QE.bs()&&this.rect.LJ(s.rect)&&z==1)this.S2=s.K8.slice(0);else{var B=-1,N=2,a=-1,O=2;if(!S.a3){B=a=0;
N=O=1}for(var H=a;H<O;H++)for(var q=B;q<N;q++){var h=s.rect.clone();h.x+=q*this.rect.m;h.y+=H*this.rect.J;
if(h.EI(this.rect)){j=j.Z0(h);I.l.adL(s.K8,h,this.S2,this.rect,h,z)}}}}if(k==eY.hE){var D=new b5(s.rect.x+s.rect.m/2,s.rect.y+s.rect.J/2),T=Math.round(D.x-this.mN.x),p=Math.round(D.y-this.mN.y),y=s.rect.clone();
y.offset(-T,-p);var b=y.G_(this.rect);b.offset(T,p);I.fF(this.S2,this.rect,s.K8,y);I.l.a2H(s.K8,s.rect,this.S2,this.rect,s.L6,s.rect,z)}if(k==eY.vU||k==eY.QR||k==eY.Bx){var g=s.rect.G_(this.rect),u;
if(g.LJ(s.rect))u=s.L6;else{u=I.R(g.P());I.Vo(s.L6,s.rect,u,g)}var t=I.R(g.P()*4);I.fF(this.S2,this.rect,t,g);
if(k==eY.QR){var V=t.slice(0),c=I.H2.wn([-1,-1,-1,-1,25,-1,-1,-1,-1]);I.H2.v3(t,V,g.m,g.J,c,0);I.EP(V,t)}else if(k==eY.Bx){var E=ft.TQ("UnsM");
E.Amnt.v.val=15;E.Thsh.v=0;E.Rds.v.val=5;var V=I.R(t.length);ft.ny("UnsM",{buffer:t,rect:g},E,0,0,{buffer:V,rect:g});
I.EP(V,t)}else{ft.M3(1,I.Zo.in,t,g)}I.l.a2H(t,g,this.S2,this.rect,u,g,z)}this.aky=C;this.mN=D;this.eI++;
return j};eY.prototype.aN=function(i){var C=eY.adN(this.Dm);if(i.useColorDynamics&&i.useColorDynamics.v){var m=1-this.b9()*i.clVr.v.jitter.v.val/100,e=eY.adN(this.yv);
C.Z=m*C.Z+(1-m)*e.Z;C.r=m*C.r+(1-m)*e.r;C.e=m*C.e+(1-m)*e.e;var z=(-.5+this.b9())*i.H.v.val/100,L=(-1+2*this.b9())*i.Strt.v.val/100,l=(-1+2*this.b9())*i.Brgh.v.val/100,x=I.wK(C.Z,C.r,C.e);
x.bB=(x.bB+z+1)%1;x.ve=x.ve+L;if(x.ve<0)x.ve=-x.ve;if(x.ve>1)x.ve=1-(x.ve-1);x.qg=x.qg+l;if(x.qg<0)x.qg=-x.qg;
if(x.qg>1)x.qg=1-(x.qg-1);C=I.Aj(x.bB,x.ve,x.qg)}return C};eY.prototype.uI=function(i){return Math.max(0,Math.min(1,i))};
eY.prototype.b9=function(i){if(i==null){i=this.aj++}return eY.hash(i)};eY.adN=function(i){return{Z:(i>>16&255)/255,r:(i>>8&255)/255,e:(i>>0&255)/255}};
eY.hash=function(i){i=i^61^i>>16;i=i+(i<<3);i=i^i>>4;i=i*668265261;i=i^i>>15;return(i&16777215)/16777215};
eY.af3=new cN;eY.prototype.ar4=function(i,C,m){var e=Math.sqrt(this.Ea.GK[1].P()),z=e*i.je(),L=z<10?1:z<50?1.5:z<200?3:8;
if(z<30)L=0;var l=eY.af3,x=l.asK(this.aBq),S=this.BR.YR,k=cN.abc(i,e),f=l.a82(x,k);if(f&&cN.a1u(f.JQ,k)>L)f=null;
if(f){f.rect.x=Math.round(f.axZ.x+i.W_);f.rect.y=Math.round(f.axZ.y+i.Rj);f.Jb=Date.now()}else{var X=Math.round(this.e.Brsh.v.Dmtr.v.val),o;
if(S&&X<=3){o={channel:I.R(X*X),rect:new j2(Math.round(C.x-X/2),Math.round(C.y-X/2),X,X)};o.channel.fill(255)}else if(i.W==1&&i.e==0&&i.xF==0&&i.o6==1){o={channel:this.Ea.GK[0],rect:this.Ea.GK[1].clone()};
o.rect.x=Math.round(i.W_);o.rect.y=Math.round(i.Rj)}else{if(i.je()>1e-4)o=$.V.P1(this.Ea.GK,i)}if(S){for(var Y=0;
Y<o.channel.length;Y++)o.channel[Y]=o.channel[Y]>127?255:0}if(o==null)o={channel:I.R(0),rect:new j2};
f={K8:I.R(o.rect.P()*4),L6:o.channel,rect:o.rect,axZ:new b5(o.rect.x-i.W_,o.rect.y-i.Rj),JQ:k,Jb:Date.now()};
I.uC(f.L6,f.K8,3);if(x)l.acF(x,f)}return f};eY.an3=function(i,C,m){var e,z,L,l=i.Brsh.v.Dmtr.v.val,x=i.Brsh.v.classID;
if(x=="computedBrush"){var S=i.Brsh.v.Hrdn.v.val/100;z=l<100?1.4:1;L=1;e=I.a4L.anC(l,S,z)}if(x=="sampledBrush"){var k;
for(var Y=0;Y<C.length;Y++)if(C[Y].id==i.Brsh.v.sampledData.v)k=C[Y];e=k.GK;var f=e[1];z=Math.max(f.m,f.J)/l;
L=Math.min(f.m,f.J)/Math.max(f.m,f.J)}return{a7a:z,a2o:L,GK:e}};eY.B2=null;eY.Hs=null;eY.lU=function(i,C,m,e,z,L){var l=eY.B2,x=eY.Hs;
if(l==null){eY.B2=l=document.createElement("canvas");eY.Hs=x=l.getContext("2d")}if(L==null)L=e;if(l.width!=L||l.height!=z){l.width=L;
l.height=z}else x.clearRect(0,0,L,z);x.fillStyle="#000000";x.font=Math.floor(10*$.XP())+"px sans-serif";
var S=i.Brsh.v.Dmtr.v.val,k=""+S,X=i.useBrushSize;if(X&&X.v)k="---";var o=x.measureText(k);x.fillText(k,(e-o.width)/2,z-2);
var A=e,P=z-10*$.XP(),F=Math.min(A,P),n=i.Brsh.v.classID;if(n=="computedBrush"){x.translate(A/2,P/2);
x.rotate(-i.Brsh.v.Angl.v.val*Math.PI/180);x.scale(1,.1+.9*i.Brsh.v.Rndn.v.val/100);var R=Math.min(.95*F/2,S/2)+.5,Q=.9*i.Brsh.v.Hrdn.v.val/100,s=x.createRadialGradient(0,0,0,0,0,R);
s.addColorStop(Q,"rgba(0,0,0,1)");s.addColorStop((.5+Q)/1.5,"rgba(0,0,0,.5)");s.addColorStop(1,"rgba(0,0,0,0)");
x.fillStyle=s;x.fillRect(-R,-R,2*R,2*R);x.setTransform(1,0,0,1,0,0)}else if(n=="sampledBrush"){var j,O=0;
for(var Y=0;Y<C.length;Y++)if(C[Y].id==i.Brsh.v.sampledData.v)j=C[Y];var _=j.GK;I.od(_);var B=_[0],N=_[1].m,a=_[1].J;
while((N>A||a>P)&&_[O+2]){O+=2;B=_[O];N=_[O+1].m;a=_[O+1].J}if(N*a!=0){var H=I.R(N*a*4);I.uC(B,H,3);
var q=new ImageData(new Uint8ClampedArray(H.buffer),N,a);x.putImageData(q,Math.round((A-N)/2),Math.round((P-a)/2))}}else{}return l.toDataURL()};
eY.Nh=function(i,C,m,e){if(m==0)m=1;var z=i.Brsh.v,L=z.Dmtr.v.val,l=z.Dmtr.v.val=Math.min(e!=null?Math.round(e*2.6):3e3,L*m),x=z.Hrdn?z.Hrdn.v.val/100:1,S=e!=null?e:Math.round(l*(1+.55*(1-x)))+4,X;
S=Math.max(15,Math.min(S,3e3));var k=new j2(0,0,S,S),f=new eY(i,C,null,{Hh:1},16711712,0,k);z.Dmtr.v.val=L;
f.moveTo(k.m/2,k.J/2);var o=f.yN(),A=f.S8();if(k.LJ(A))X=o;else{X=I.R(k.P()*4);I.fF(o,A,X,k)}return[X,k,l]};
eY.amI=function(i,C,m,e){var z=C.m,L=z>>>1;for(var Y=0;Y<4;Y++){var l=6-Y;i[z*(L-l)+L-1]=e;i[z*(L-l)+L]=m;
i[z*(L-l)+L+1]=e;i[z*(L+l)+L-1]=e;i[z*(L+l)+L]=m;i[z*(L+l)+L+1]=e;i[z*(L-1)+L-l]=e;i[z*L+L-l]=m;i[z*(L+1)+L-l]=e;
i[z*(L-1)+L+l]=e;i[z*L+L+l]=m;i[z*(L+1)+L+l]=e}};eY.Fi=function(i,C,m,e){var z=eY.Nh(i,C,m),L=z[0].slice(0),l=z[1],x=z[2],S=l.P(),k=I.R(S);
I.Ud(L,k,3);var f=I.R(S);I.u.awI(k,f,l,$.XP()>1.9);if(x<3||I.Sx(f,0)||e&&x>12){eY.amI(f,l,255,0)}var X=[3,5,3,4,8,4,3,5,3];
X=I.H2.wn(X);I.H2.pN(f,k,l.m,l.J,X);I.eS(L,4294967295);I.uC(k,L,3);for(var Y=0;Y<S;Y++)if(f[Y]==255){L[Y<<2]=L[(Y<<2)+1]=L[(Y<<2)+2]=0;
L[(Y<<2)+3]=255}return{FY:L,TD:l,YG:new b5(l.m/2,l.J/2)}};eY.azH=function(i,C,m,e,z){var L=4278190080|Math.round(z.e*255)<<16|Math.round(z.r*255)<<8|Math.round(z.Z*255)<<0;
m=new Uint32Array(m.buffer);var l=Math.floor(i.x),x=Math.floor(i.y),S=Math.floor(C.x),k=Math.floor(C.y),f=Math.abs(S-l),X=Math.abs(k-x),o=l<S?1:-1,A=x<k?1:-1,P=f-X;
while(!0){m[x*e.m+l]=L;if(l==S&&x==k)break;var F=2*P;if(F>-X){P-=X;l+=o}if(F<f){P+=f;x+=A}}};eY.hE="0";
eY.vU="1";eY.QR="2";eY.Bx="3";var b7={};b7.LT=function(i,C,m){if(m==null)m=!0;var e=i.add.TySh,z=e.Wg,L=new bY(z,C);
i.f3.sI=L.$Y();var l=e.m_.VAlign.v;if(l!=0&&e7.c$(z)==1){var x=e7.py(z)[3],S=i.f3.sI.J,k=0;if(l==1)k=x-S;
if(l==2)k=(x-S)/2;for(var Y=0;Y<L.t7.length;Y++)L.t7[Y].xi.y+=k}var f=i.f3.path=b7.u_(L,e);if(d4!=0)return[f,L,null];
var X=b7.u9(f,e.i,e7.Q5(e));if(m){i.rect=X.TD;i.buffer=X.S2;i.Y()}return[f,L,X]};b7.u9=function(i,C,m){i={G:i.G,j:i.j.slice(0)};
I.C.i(i.j,C,i.j);var e=I.C.Ve(i.j),z=0;for(var Y=0;Y<i.G.length;Y++){var L=i.G[Y];if(L[0]=="O"&&L[1]=="-")z=Math.max(z,parseFloat(L.split("-").pop()))}z=Math.ceil(z*C.je()/2);
e.sW(z,z);if(e.bs())return{S2:I.R(0),TD:new j2};var l=I.BF(e.m,e.J);l.translate(-e.x,-e.y);b7.avR(i,l);
var x=l.getImageData(0,0,e.m,e.J),S=new Uint8Array(x.data.buffer);if(m==0)for(var Y=0;Y<S.length;Y+=4)S[Y+3]=S[Y+3]>80?255:0;
if(m==3)for(var Y=0;Y<S.length;Y+=4)S[Y+3]=Math.min(255,S[Y+3]*1.5);l.resetTransform();l.beginPath();
return{S2:S,TD:e}};b7.u_=function(i,C,m){var e=C.i,z=C.Wg;b7.Ew=e.je();var L=e7.Q5(C),l=Math.max(e.e*e.e,e.xF*e.xF)<1e-9?e:null;
if(L==3||L==4)l=null;var x={G:[],j:[]};b7.afG(i,x,l,!0);b7.afG(i,x,l,!1);x=b7.Gy(x,C,i,m);return x};
b7.Ew=1;b7.Gy=function(i,C,m,e){if(i==null)return i;if(m&&m.$C)I.C.i(i.j,m.$C,i.j);if(m&&!I.lu.gL(C.ZM)){var z=e7.S8(C,m);
if(!z.bs()){if(i.G){i=I.C.Bq(i);var L=Math.min(z.m,z.J)/8;if(L<1)L=1;i=I.C.Q0(i,L)}var l=I.lu.i3(C.ZM,z);
I.bZ.i(l,i.j,z)}}var x=C.i;if(e)I.C.i(i.j,x,i.j);return i};b7.avR=function(i,C){C.save();C.miterLimit=2;
Typr.U.pathToContext({crds:i.j,cmds:i.G},C);C.restore()};b7.wE=function(i,C,m){var e=bY.aok(m),z=i.Wg,L=z.ResourceDict.FontSet,l=z.ResourceDict.StyleSheetSet[0].StyleSheetData,x=z.EngineDict.StyleRun.RunLengthArray,S=z.EngineDict.StyleRun.RunArray,k=e7.lD(z),f=!0,X={},o=0;
for(var Y=0;Y<S.length;Y++){var A=S[Y].StyleSheet.StyleSheetData.Font;if(A==null)A=l.Font;for(var P=0;
P<x[Y];P++){var F=k.charCodeAt(o+P),n=A+","+(F>128?F:-1);if(X[n]==null){X[n]=1;if(C.he(L[A].Name,F)==null)f=!1}}o+=x[Y]}return f&&e};
b7.hM=function(i,C,m){var e=!0;for(var z=0;z<i.M.length;z++){var L=i.M[z],l=L.add.TySh;if(l!=null&&!b7.wE(l,C,m))e=!1}return e};
b7.LL=function(i,C,m){for(var e=0;e<i.M.length;e++){var z=i.M[e],L=z.add.TySh;if(L!=null&&b7.wE(L,C,m)){b7.LT(z,C);
i.Y()}}};b7.afG=function(i,C,m,e){var z=new hN;for(var Y=0;Y<i.t7.length;Y++)b7.aah(i.hU,i.t7[Y],C,z,m,e)};
b7.aah=function(i,C,m,e,z,L){e.translate(C.xi.x,C.xi.y);for(var Y=0;Y<C.DC.length;Y++){var l={},x=C.DC[Y];
if(!x.VA)break;var S=e.clone();S.translate(x.xi.x,x.xi.y);if(z){var k=z.Rj+S.Rj*z.o6;S.Rj=(Math.round(k)-z.Rj)/z.o6}for(var f=x.start;
f<x.end;f++)b7.asX(i,C.Qz[f],C,l,m,S,L)}e.translate(-C.xi.x,-C.xi.y)};b7.abq="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
b7.asX=function(i,C,m,e,z,L,l){L.translate(C.xi.x,C.xi.y);for(var x=C.pV;x<=C.zz;x++){var S=m.Lm[x],k=S.TD.m,f=i[m.a7u+S.dc],X=f.T$._FillBackgroundFlag;
if(f.lK=="\n"||l&&!X)continue;var o=f.T$.FontSize/f.KQ.head.unitsPerEm,A=L.clone();A.translate(S.xi.x+S.qn*o,S.xi.y-S.CU*o);
var P=new hN;P.scale(o,-o);if(f.eu==1&&b7.abq.indexOf(f.lK)!=-1)P.concat(new hN(-1,0,0,1,k,0));if(f.T$.FauxItalic)P.concat(new hN(1,0,-Math.tan(.18),1,0,0));
P.translate(0,f.VX);P.scale(f.scale.x,f.scale.y);if(f.T$.BaselineShift!=null)P.translate(0,-f.T$.BaselineShift);
if(S.RQ!=0){P.rotate(-S.RQ)}P.concat(A);var F=(f.T$._LineWidth?f.T$._LineWidth:1)*b7.Ew;if(l){z.G.push(b7.aN(f.T$._FillBackgroundColor));
var n=1.005*S.TD.J/o,R=new j2(-S.qn,-n*.27,1.03*S.TD.m/(o*f.scale.x),n);if(f.T$.StrokeFlag)R.sW(F/o,F/o);
I.C.concat(z,I.C.Ym(R),P);z.G.push("X");continue}if(f.T$.FillFlag)z.G.push(b7.aN(f.T$.FillColor));if(f.T$.StrokeFlag)z.G.push("O-"+b7.aN(f.T$.StrokeColor)+"-"+F);
if(S.path.G.length!=0&&f.lK!="\t"){if(f.T$.FauxBold){var Q=f.T$.FontSize/2048*27*f.scale.x,s=Math.cos(S.RQ)*Q,j=Math.sin(S.RQ)*Q;
P.W_+=s;P.Rj+=j;I.C.concat(z,S.path,P);P.W_-=s+s;P.Rj-=j+j;I.C.concat(z,S.path,P)}else I.C.concat(z,S.path,P)}if(f.lK!="\n"){if(f.T$.Underline){if(e.C2==null)e.C2=f.KQ.post.underlineThickness;
if(e.ame==null)e.ame=f.KQ.post.underlinePosition;var _=0,B=e.ame-e.C2/2,N=S.Xy*1.05,a=-e.C2;I.C.concat(z,{G:["M","L","L","L","Z"],j:[_,B,_+N,B,_+N,B+a,_,B+a]},P)}if(f.T$.Strikethrough){var O=f.KQ["OS/2"].yStrikeoutSize,H=f.KQ["OS/2"].yStrikeoutPosition,_=0,B=H+O/2,N=S.Xy*1.05,a=-O;
I.C.concat(z,{G:["M","L","L","L","Z"],j:[_,B,_+N,B,_+N,B+a,_,B+a]},P)}}if(f.T$.FillFlag)z.G.push("X");
if(f.T$.StrokeFlag)z.G.push("OX")}L.translate(-C.xi.x,-C.xi.y)};b7.aN=function(i){var C=e7.oq(i),m=(Math.round(C.Z)<<16)+(Math.round(C.r)<<8)+Math.round(C.e);
return"#"+I.dP(m)};function bY(i,C){var m=e7.c$(i),e,z,L=e7.py(i),l=i._LineOrientation==2?new hN:null,f,o;
if(i.Curve)z=bY.HE(i.Curve);if(m!=0){e=new j2(L[0],L[1],L[2],L[3]);if(l){var x=e.m;e.m=e.J;e.J=x;l.translate(0,-L[2])}if(m==2){e.m=z[5]-z[4];
e.J=9999}}this.t7=[];this.hU=[];this.rp=m;this.$C=l;var S=this.afC=e7.lD(i),k=-1,X=-1;for(var Y=0;Y<S.length;
Y++){var A=f,P=e7.a1J(i,Y);if(P!=k){k=P;A=f=e7.azO(i,P)}var F=o,P=e7.auX(i,Y);if(P!=X){X=P;F=o=e7.akD(i,P)}var n={lK:S.charAt(Y),T$:A,KQ:null,jA:-1,lE:e7.a3g(i,Y),VX:0,scale:new b5(0,0),su:0,lineHeight:0,eu:0},R=i.ResourceDict.FontSet[A.Font].Name,Q=n.KQ=C.he(R,S.charCodeAt(Y));
n.scale.x=A.HorizontalScale==null?1:A.HorizontalScale;n.scale.y=A.VerticalScale==null?1:A.VerticalScale;
var s=Q["OS/2"],j=Q.hhea;if(A.FontCaps==1&&n.lK!=n.lK.toUpperCase()){var _=s.sxHeight?s.sxHeight/s.sTypoAscender:.76;
n.scale.x*=_;n.scale.y*=_}var B=1/Q.head.unitsPerEm*A.FontSize;if(A.FontBaseline==1){var _=i.ResourceDict.SuperscriptSize;
n.scale.x*=_;n.scale.y*=_;n.VX-=i.ResourceDict.SuperscriptPosition*A.FontSize}if(A.FontBaseline==2){var _=i.ResourceDict.SubscriptSize;
n.scale.x*=_;n.scale.y*=_;n.VX+=i.ResourceDict.SubscriptPosition*A.FontSize}n.su=bY.su(Q)*A.FontSize;
var N=F.AutoLeading;n.lineHeight=A.FontSize*(N==null?1.2:N);if(A.AutoLeading==!1)n.lineHeight=A.Leading;
if(n.lineHeight==0)n.lineHeight=.01;this.hU.push(n)}var a=this.t7,O=[0];for(var Y=0;Y<i.EngineDict.ParagraphRun.RunLengthArray.length;
Y++){var H=new bY.l3(i,C,this.hU,Y,e,O,m==1?z:null);a.push(H)}if(l){if(m==0)l.translate(0,a[0].Qz[0].su/2);
l.rotate(-Math.PI/2)}if(m==2){var q=i.Curve.Points,h=z[0],D=z[1],T=z[2],p=z[3],y=z[4],b=z[5];for(var Y=0;
Y<a.length;Y++)for(var g=0;g<a[Y].DC.length;g++)if(!(Y==0&&g==0))a[Y].DC[g].VA=!1;var H=a[0],u=H.DC[0];
H.xi.zy(0,0);u.xi.zy(0,0);for(var g=u.start;g<u.end;g++){var t=H.Qz[g],V=t.xi.x;t.xi.x=0;for(var c=t.pV;
c<=t.zz;c++){var E=H.Lm[c],Z=E.TD.m/2;E.xi.x+=V;var G=bY.aqB(h,(y+E.xi.x+Z)%p);E.xi.x=G[0]-Z*G[2];E.xi.y=G[1]-Z*G[3];
E.RQ=Math.atan2(G[3],G[2])}}}}bY.su=function(i){var C=i._hhhh;if(C==null){var m=Typr.U,e=m.codeToGlyph(i,104),z=I.C.OO(Typr.U.glyphToPath(i,e).crds).J;
C=i._hhhh=z*(1/i.head.unitsPerEm)}return C};bY.prototype.akI=function(){return!this.a1c(0)};bY.prototype.as3=function(){return this.a1c(1)};
bY.prototype.a1c=function(i){var C=this.t7,m=!0,e=0;for(var Y=0;Y<C.length;Y++){var z=C[Y].DC,L=z.length;
e+=L;for(var l=0;l<L;l++)m&=z[l].VA}return[m,e][i]};bY.HE=function(i,C,m){if(C==null)C=.25;var e=i.Points,z=e.length,L=z>>>3,l=i.TextOnPathTRange,x=i.Reversed,o=0,A=0;
if(x){var S=e.slice(0);for(var Y=0;Y<z;Y+=2){S[Y]=e[z-2-Y];S[Y+1]=e[z-1-Y]}e=S;l=[L-l[1]%L,L-l[0]%L]}var k=[],f=[0],X=[0];
for(var Y=0;Y<z;Y+=8){var P=e[Y+6]-e[Y+0],F=e[Y+7]-e[Y+1],n=Math.round(Math.sqrt(P*P+F*F)/C),R=m&&Y==z-8?n+1:n;
for(var Q=0;Q<R;Q++){var s=Q/n,j=1-s,_=j*j*j*e[Y+0]+3*j*j*s*e[Y+2]+3*j*s*s*e[Y+4]+s*s*s*e[Y+6],B=j*j*j*e[Y+1]+3*j*j*s*e[Y+3]+3*j*s*s*e[Y+5]+s*s*s*e[Y+7];
k.push(_,B);if(Y+Q!=0){var P=_-o,F=B-A;X.push(X[X.length-1]+Math.sqrt(P*P+F*F));f.push((Y>>>3)+s)}o=_;
A=B}}var C=X.length,N=X[C-1],a=bY.pS(l[0]%L,f),O=bY.pS(l[1]%L,f),H=X[a%C],q=X[O%C];if(H>=q)q+=N;return[k,f,X,N,H,q]};
bY.pS=function(i,C){var Y=0;while(C[Y]<i)Y++;return Y};bY.aqB=function(i,C){var m=0,Y=0,e,z,L;while(m<C){e=i[Y+2]-i[Y];
z=i[Y+3]-i[Y+1];L=Math.sqrt(e*e+z*z);m+=L;Y+=2}return[i[Y],i[Y+1],e/L,z/L]};bY.prototype.a4_=function(i){return this.hU[i]};
bY.prototype.a4l=function(i){for(var C=0;C<this.t7.length;C++){var m=this.t7[C];for(var e=0;e<m.DC.length;
e++){var z=m.DC[e],L=m.Qz[z.start].start,l=m.Qz[z.end-1].end;if(L<i&&i<l)return[L,l-1]}}return[0,1]};
bY.prototype.aih=function(i,C){var m=-1,e=this.t7;if(this.rp==2){var z=1e9,L=0,l=e[0],x=l.DC[0];for(var S=x.start;
S<x.end;S++){var k=l.Qz[S];for(var f=k.pV;f<=k.zz;f++){var X=l.Lm[f],o=X.TD.m,A=i.x-X.xi.x,P=i.y-X.xi.y,F=A*A+P*P;
if(F<z){z=F;L=X.dc}}}if(L!=0&&this.afC.codePointAt(L-1)>65535)L--;return L}for(var n=0;n<e.length;n++){var l=e[n];
for(var R=0;R<l.DC.length;R++){m++;var x=l.DC[R],Q=l.DC[R+1];if(Q==null&&n<e.length-1)Q=e[n+1].DC[0];
if(C!=null){if(m!=C)continue}else{if(Q!=null&&l.xi.y+x.xi.y<i.y)continue}for(var S=x.start;S<x.end;S++){var k=l.Qz[S];
for(var f=k.pV;f<=k.zz;f++){var X=l.Lm[f],o=X.TD.m,s=l.xi.x+x.xi.x+k.xi.x,j=s+X.xi.x,_=s+(f<k.zz?l.Lm[f+1].xi.x:X.xi.x+o);
if(i.x<=_||S+1==x.end&&f==k.zz){var B=l.a7u+X.dc,N=this.hU[B],a=N.eu&1;if(N.lK!="\n"&&(a==0&&i.x>j+o/2||a==1&&i.x<j+o/2))B+=this.afC.codePointAt(B)>65535?2:1;
return B}}}}}};bY.prototype.xc=function(i){var C={TD:new j2,eR:0},m=0;for(var e=0;e<this.t7.length;e++){var z=this.t7[e];
for(var L=0;L<z.DC.length;L++){var l=z.DC[L];C.eR=m;m++;for(var x=l.start;x<l.end;x++){var S=z.Qz[x];
for(var k=S.start;k<S.end;k++){if(k==i){var f=this.hU[k],X=f.jA,o=z.Lm[X].dc,A=1;while(z.Lm[X]!=null&&z.Lm[X].dc==o){var P=z.Lm[X],F=z.xi.x+l.xi.x+S.xi.x+P.xi.x,n=z.xi.y+l.xi.y+S.xi.y+P.xi.y;
C.TD=C.TD.Z0(new j2(F,n-f.lineHeight,P.TD.m,f.lineHeight));C.RQ=P.RQ;X+=A}return C}}}}}};bY.prototype.$Y=function(){var i=Infinity,C=Infinity,m=-Infinity,e=-Infinity;
for(var Y=0;Y<this.t7.length;Y++){var z=this.t7[Y];for(var L=0;L<z.DC.length;L++){var l=z.DC[L];if(!l.VA)break;
for(var x=l.start;x<l.end;x++){var S=z.Qz[x];for(var k=S.pV;k<=S.zz;k++){var f=z.Lm[k],X=f.TD,o=z.xi.x+l.xi.x+S.xi.x+f.xi.x,A=z.xi.y+l.xi.y+S.xi.y+f.xi.y;
i=Math.min(i,o+X.x);C=Math.min(C,A+X.y);m=Math.max(m,o+X.x+X.m);e=Math.max(e,A+X.y+X.J)}}}}return new j2(i,C,m-i,e-C)};
bY.fz=function(i){return 19968<=i&&i<=40959||12288<=i&&i<=12543};bY.RI=function(i,C,m,e,z,L,l){var x=[L],S=0;
for(var Y=L;Y<l;Y++){if(m[Y]==null)console.log(Y,L,l,m);var k=m[Y].lK,f=k.charCodeAt(0);if(f==32||f==9){x.push(S,Y,1,Y+1);
S=0}else if(f==3851){x.push(S+1,Y+1);S=0}else if(bY.fz(f)){x.push(S,Y);S=1}else if(Y!=L&&m[Y].eu!=m[Y-1].eu){x.push(S,Y);
S=1}else S++}x.push(S);var X=[];for(var Y=0;Y<x.length;Y+=2){var o=x[Y],A=x[Y+1];if(A==0)continue;X.push(new bY.a5x(i,C,m,e,z,o,A))}return X};
bY.aBz=function(i,C,m,e,z,L,l){var x=[0,C?C.m:1e9],S=[];if(e){var k=i[L].su,f=z+(z==0?k:i[L].lineHeight),X=f-k*.9,o=I.C.ao2(e[0],X),A=o.length,P=I.C.ao2(e[0],f),F=P.length;
if(A!=0&&F!=0){var n=0,R=0,Q=[];while(n<A&&R<F){var s=Math.max(o[n],P[R]),j=o[n+1],_=P[R+1],B=Math.min(j,_);
if(s<B)Q.push(s,B);if(j<_)n+=2;else R+=2}if(Q.length!=0)x=Q}}for(var N=0;N<x.length;N+=2){var a=0,O=L,H=C?x[N+1]-x[N]-m.StartIndent-m.EndIndent-(L==0?m.FirstLineIndent:0):Infinity;
while(L!=i.length){var q=i[L],h=a==0||(q.sC||q.V8)||a+q.TD.m<H;if(!h)break;a+=q.TD.m;L++}S.push(L-O)}l[0]=S;
l[1]=x;l[2]=L};bY.afv=function(i,C){var m=i.length,e=new Uint32Array(m),z=new Uint8Array(m),L=0;for(var Y=0;
Y<m;Y++){z[Y]=0;var l=i.charCodeAt(Y);e[Y]=l;if(l>L)L=l}if(L>1424)z=bY.aC2(e,C);return z};bY.ayD=function(i){return i=="ß"?i:i.toUpperCase()};
bY.l3=function(i,C,m,e,z,L,l){this.Qz=[];this.DC=[];this.xi=new b5(0,0);this.Lm=null;this.Qz=null;this.T$=e7.akD(i,e);
var x=this.T$,X=0,P="",s=0,j=1,E=0;if(e!=0){var S=x.SpaceBefore;if(S!=null)L[0]+=S}var k=i.EngineDict.ParagraphRun.RunLengthArray,f=k[e];
for(var Y=0;Y<e;Y++)X+=k[Y];var o=x._Direction?x._Direction:0;this.a7u=X;var A=e7.lD(i).slice(X,X+f);
for(var F=0;F<A.length;F++){var n=A.charAt(F);P+=m[X+F].T$.FontCaps==0?n:bY.ayD(n)}A=P;var R=bY.afv(A,o),Q=[],_=R[Y]&1,B=m[X].KQ;
m[X].eu=R[0];for(var Y=1;Y<A.length;Y++){var n=m[X+Y],N=R[Y];n.eu=N;if(N!=_||n.KQ!=B){Q.push(s,j);s=Y;
j=1;_=N;B=n.KQ}else j++}Q.push(s,j);var a=this.Lm=[];for(var Y=0;Y<Q.length;Y+=2){var O=Q[Y],H=Q[Y+1],q=(m[X+O].eu&1)==0,h=A.slice(O,O+H),D=Typr.U.shapeHB(m[X+O].KQ,h,q),T=[],b=0;
for(var F=0;F<D.length;F++){var p=D[F];T.push({r:p.g,dc:p.cl,Xy:p.ax,UE:p.ay,qn:p.dx,CU:p.dy})}D=T;var y=D.slice(0);
if(!q)y.reverse();for(var F=0;F<h.length;F++){while(b+1<y.length&&y[b+1].dc<=F){b++}while(b>0&&y[b-1].dc==F)b--;
m[X+O+F].jA=a.length+(q?b:y.length-b-1)}for(var F=0;F<D.length;F++){a.push(D[F]);D[F].dc+=O;var n=m[X+D[F].dc];
if(n.lE!=-1&&n.lE<n.KQ.maxp.numGlyphs){D[F].r=n.lE;var g=n.KQ.hmtx;if(g){var u=Object.keys(g)[0];D[F].Xy=g[u][n.lE]}}if(n.lK=="\n")D[F].Xy=0;
if(n.lK=="\t")D[F].Xy=n.KQ.head.unitsPerEm*36/n.T$.FontSize}}var t=e7.e4(x),V=this.Qz=bY.RI(i,C,m,X,a,X,X+f),c=this.DC,Z=-1,P=[null,null,0];
while(E<V.length){bY.aBz(V,z,x,l,L[0],E,P);Z++;var G={start:E,end:0,TD:new j2,xi:new b5(0,0),VA:!0},iy=0,iG=0;
c.push(G);G.end=P[2];if(G.start==G.end)throw"e";var J=G.end==V.length;function K(y,O,gh){var ga=gh-O>>>1;
for(var Y=0;Y<ga;Y++){var d5=y[O+Y];y[O+Y]=y[gh-1-Y];y[gh-1-Y]=d5}}for(var M=1;M<5;M++){var U=-1;for(var Y=G.start;
Y<G.end;Y++){var N=m[V[Y].start].eu;if(U==-1&&N>=M)U=Y;else if(U!=-1&&N<M){K(V,U,Y);U=-1}}var r=G.end;
if(o==0&&V[r-1].sC)r--;if(U!=-1)K(V,U,r)}var dS=P[0],w=P[1],U=E,di=E;for(var eM=0;eM<w.length;eM+=2){var j5=z?w[eM+1]-w[eM]-x.StartIndent-x.EndIndent-(E==0?x.FirstLineIndent:0):Infinity,ds=0;
U=di;di+=dS[eM>>>1];var ba=this.a0y(U,di,V,o,z!=null);if(z){if(t==1||J&&t==4)ds=ba[1]+(j5-ba[0]);if(t==2||J&&t==5)ds=ba[1]+(j5-ba[0])/2;
if(di-U==1&&V[U].TD.m>j5)ds=0;if(Z==0)ds+=x.FirstLineIndent;ds+=x.StartIndent}else{if(t==0)ds=x.StartIndent+x.FirstLineIndent;
if(t==1)ds=-ba[0]-x.EndIndent;if(t==2)ds=-ba[0]/2}ds+=w[eM];if(z&&t>2&&(t==6||!J))this.ase(U,di,V,j5,o,ds);
else{var gH=ds;for(var Y=U;Y<di;Y++){var ir=V[Y],iP=ir.TD.m;ir.xi.x=gH;if(ir.qm=="\t")iP=Math.ceil((gH+4)/36)*36-gH;
gH+=iP}}}E=G.end;for(var Y=G.start;Y<G.end;Y++){var eg=V[Y].TD.clone();eg.gt(V[Y].xi);G.TD=G.TD.Z0(eg);
iy=Math.max(iy,V[Y].su);iG=Math.max(iG,V[Y].lineHeight)}G.xi.y=Z==0?0:c[Z-1].xi.y+iG;if(Z==0){if(e==0&&z)L[0]+=iy;
if(e!=0)L[0]+=iG;this.xi.y=L[0]}else L[0]+=iG;if(z)G.VA=this.xi.y+G.xi.y<z.y+z.J||e==0&&Z==0}var du=x.SpaceAfter;
if(du!=null)L[0]+=du};bY.l3.prototype.a0y=function(i,C,m,e,z){var L=0,l=0;for(var Y=i;Y<C;Y++)L+=m[Y].TD.m;
if(z){if(e==0)for(var Y=C-1;Y>=i;Y--)if(m[Y].sC||m[Y].V8)L-=m[Y].TD.m;else break;if(e==1)for(var Y=i;
Y<C;Y++)if(m[Y].sC||m[Y].V8){var x=m[Y].TD.m;L-=x;l-=x}else break}return[L,l]};bY.l3.prototype.ase=function(i,C,m,e,z,L){var l=0,x=0,S=0,k=0;
for(var Y=i;Y<C;Y++)if(m[Y].sC)S++;else{l+=m[Y].TD.m;x++}if(z==0)for(var Y=C-1;Y>=i;Y--)if(m[Y].sC||m[Y].V8){if(m[Y].sC){S--}}else break;
if(z==1)for(var Y=i;Y<C;Y++)if(m[Y].sC||m[Y].V8){if(m[Y].sC){S--;k++}}else break;if(x<=1||S==0){if(x==1)m[i].xi.x=L;
return}var f=(e-l)/S,X=-k*f;for(var Y=i;Y<C;Y++){if(m[Y].sC)this.Lm[m[Y].pV].TD.m=m[Y].TD.m=f;m[Y].xi.x=L+X;
X+=m[Y].TD.m}};bY.a5x=function(i,C,m,e,z,L,l){this.qm="";for(var Y=0;Y<l;Y++)this.qm+=m[L+Y].lK;this.sC=l==1&&(m[L].lK==" "||m[L].lK=="\t");
this.V8=l==1&&m[L].lK=="\n";this.start=L;this.end=L+l;this.TD=new j2;this.xi=new b5(0,0);this.su=0;this.lineHeight=0;
var x=0,S=0;if(l==0){this.lineHeight=m[L].lineHeight;this.su=m[L].su;this.TD=new j2(0,-m[L].lineHeight,0,m[L].lineHeight)}var k=m[L].jA,f=m[L+l-1].jA;
if(f<k){var X=k;k=f;f=X}while(f+1<z.length&&z[f].dc==z[f+1].dc){f++}this.pV=k;this.zz=f;for(var o=k;
o<=f;o++){var A=z[o],P=m[e+A.dc],F=i._LineOrientation==2&&(P.T$.BaselineDirection!=2||bY.fz(P.lK.charCodeAt(0))),n=Typr.U.glyphToPath(P.KQ,A.r),_=0;
A.path={G:n.cmds,j:n.crds};var R=P.T$.FontSize,Q=1/P.KQ.head.unitsPerEm*R;if(!P.T$.AutoKerning)x+=P.T$.Kerning*2*Q*P.scale.x;
A.xi=new b5(x,0);A.RQ=0;if(F&&A.path.j.length>0){A.RQ=-Math.PI/2;A.xi.x+=R*.83;A.xi.y=-R*.3+A.Xy*Q/2;
A.Xy=R/Q}var s=A.Xy*Q*P.scale.x;A.TD=new j2(0,-P.lineHeight,s,P.lineHeight);var j=A.TD.clone();j.gt(A.xi);
if(P.T$.Tracking!=null)_=P.T$.Tracking*.001*R;if(P.T$.FauxBold==!0)_+=.027*R;x+=s+_;if(l==1&&P.lK==" ")j.m+=2*_;
else if(l==1&&P.lK!=null&&bY.fz(P.lK.charCodeAt(0)))j.m+=_;this.TD=this.TD.Z0(j);this.su=Math.max(this.su,P.su);
this.lineHeight=Math.max(this.lineHeight,P.lineHeight)}};bY.yA=0;bY.aok=function(i){if(bY.yA==2)return!0;
if(bY.yA==1)return!1;bY.yA=1;function C(){fetch("code/ext/fribidi.wasm").then(function(m){return m.arrayBuffer()}).then(function(m){return WebAssembly.instantiate(m)}).then(function(m){var e=m.instance.exports,z=e.memory,L=16,l=256,x=1,S=L|l,k=L|l|x;
bY.aC2=function(X,o){var A=X.length,P=A*4+4+A*4+A*4+A;i$.Xa(e,P+A+1e7);var F=new Uint8Array(z.buffer),n=new Uint32Array(z.buffer),R=e.calloc(P,1),Q=R+A*4,s=Q+4,j=s+A*4,_=j+A*4;
n.set(X,R>>>2);n[Q>>>2]=o==0?S:k;e.fribidi_get_bidi_types(R,A,s);e.fribidi_get_bracket_types(R,A,s,j);
e.fribidi_get_par_embedding_levels_ex(s,j,A,Q,_);var B=F.slice(_,_+A);e.free(R);return B};bY.yA=2;var f=new eX(v.E.H,!0);
f.data={d:v.B.Mc,hl:"add",N5:dm.sY,mb:null};i.T(f)})}Typr.U.initHB("code/ext/hb.wasm",C);return!1};function e7(){}e7.xs=function(i){return JSON.parse(JSON.stringify(i))};
e7.BC=function(i,C){for(var m in C)i[m]=C[m]};e7._x=function(i,C,m,e){var z=e7.awd();if(m)e7.Bl(z,0,0,m);
var L=new hN;if(e!=null)L.rotate(e);L.translate(Math.round(i),Math.round(C));var l={i:L,Wg:z};l.m_=e7.asr();
l.ZM=I.lu.R();l.l$=new j2;return l};e7.a1o=function(i){var C=["CharacterDirection",0];for(var Y=0;Y<C.length;
Y+=2){if(i[C[Y]]!=null&&i[C[Y]]!=C[Y+1]){throw"e";console.log(C[Y],i[C[Y]])}}if(i instanceof Array)for(var Y=0;
Y<i.length;Y++)e7.a1o(i[Y]);else if(i instanceof Object)for(var m in i)e7.a1o(i[m])};e7.e4=function(i,C){if(C==null)C=i.Justification;
var m=i._Direction?i._Direction:0;if(m==1){if(C==0||C==3)C++;else if(C==1||C==4)C--}return C};e7.l7=function(i){if(i.add==null)return;
var C=i.Wg,m=C.Curve,e=i.add.vmsk,z=e.$,L=I.C.BN(z,2).j,l=i.i.clone();l.Fb();I.C.i(L,l,L);var x=L.slice(0,8);
for(var S=8;S<L.length;S+=6)x.push(L[S-2],L[S-1],L[S],L[S+1],L[S+2],L[S+3],L[S+4],L[S+5]);m.Points=x;
m.TextOnPathTRange=e.Gu.slice(0);m.Reversed=e.ca;if(e7.c$(C)==1){var m=bY.HE(C.Curve),k=I.C.OO(m[0]);
e7.N2(C,[0,0,k.m,k.J].map(Math.round));for(var Y=0;Y<x.length;Y+=2){x[Y]-=k.x;x[Y+1]-=k.y}var f=new hN(1,0,0,1,k.x,k.y);
f.concat(i.i);i.i=f}};e7.eZ=function(i){if(i.add==null)return;var C=i.add.vmsk,m=i.Wg.Curve,e=m.Points,z={G:["M"],j:[e[0],e[1]]};
for(var Y=0;Y<e.length;Y+=8){z.G.push("C");z.j.push(e[Y+2],e[Y+3],e[Y+4],e[Y+5],e[Y+6],e[Y+7])}I.C.i(z.j,i.i,z.j);
var L=I.C.aZ(z,!0);C.$=L;C.ca=m.Reversed;C.Gu=m.TextOnPathTRange.slice(0);i.add.vogk=cc.tO(L)};e7.oq=function(i){var C={Z:0,r:0,e:0};
if(i){var m=i.Values;if(i.Type==1)C={Z:m[1]*255,r:m[2]*255,e:m[3]*255};else if(i.Type==2){var e={classID:"CMYC",Cyn:{t:"doub",v:m[1]*100},Mgnt:{t:"doub",v:m[2]*100},Ylw:{t:"doub",v:m[3]*100},Blck:{t:"doub",v:m[4]*100}};
C=I.I.oq(e)}else console.log("Unknown color type")}return C};e7.ais=function(i){for(var Y=0;Y<i.length;
Y++){var C=i[Y].StyleSheet.StyleSheetData,m=C.FillColor;if(m&&m.Type==2){var e=e7.oq(m);m.Type=1;m.Values=[1,e.Z/255,e.r/255,e.e/255]}}};
e7.S8=function(i,C){var m;if(e7.c$(i.Wg)==1){var e=e7.py(i.Wg);m=new j2(0,0,e[2]-e[0],e[3]-e[1])}else{m=C.$Y();
if(C.$C){var z=C.$C.clone(),L=I.C.Ym(m);I.C.i(L.j,z,L.j);m=I.C.OO(L.j)}}return m};e7.oW=function(i){var C=i[0];
for(var Y=0;Y<i.length;Y++)C=e7.a7r(C,i[Y]);return C};e7.a7r=function(i,C){var m={};for(var e in i)if(JSON.stringify(i[e])==JSON.stringify(C[e]))m[e]=i[e];
return m};e7.Ca=function(i,C){var m=i.JR,e=-1;for(var Y=0;Y<m.length;Y++)if(m[Y].Name==C)e=Y;if(e==-1){e=m.length;
m.push({FontType:1,Name:C,Script:0,Synthetic:0})}i.hU.Font=e};e7.lD=function(i){return i.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
e7.aK=function(i,C){i.EngineDict.Editor.Text=C.replace(/\n/g,"\r")};e7.c$=function(i){return i.Curve&&i.Curve.TextOnPathTRange[0]>=0?2:i.EngineDict.Rendered.Shapes.Children[0].ShapeType};
e7.k8=function(i,C){var m=i.EngineDict.Rendered.Shapes.Children[0];m.ShapeType=C;var e=m.Cookie.Photoshop;
e.ShapeType=C;e.Base.ShapeType=C;if(C==0){delete e.BoxBounds;e.PointBase=[0,0]}if(C==1){delete e.PointBase;
e.BoxBounds=[0,0,1,1]}};e7.py=function(i){return i.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
e7.N2=function(i,C){i.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=C};e7.a3g=function(i,C){var m=i.EngineDict.AlternateGlyphRun;
if(m==null)return-1;var e=e7.Qg(m.RunLengthArray,C).YL;if(m.RunArray[e]==null)return-1;var z=m.RunArray[e].Glyph;
return z==null?-1:z};e7.a8X=function(i,C,m){var e=i.EngineDict.AlternateGlyphRun;if(e==null){e=i.EngineDict.AlternateGlyphRun=e7.af8();
e.RunArray.push({});e.RunLengthArray.push(e7.lD(i).length)}var z=e7.Qg(e.RunLengthArray,C),L=z.YL,l=C-z.QA,x=e.RunArray[L],S=JSON.stringify(x),k=e.RunLengthArray[L];
if(l!=0){e.RunArray.splice(L,0,JSON.parse(S));e.RunLengthArray.splice(L,0,l);e.RunLengthArray[L+1]-=l;
L++;k-=l;l=0}if(k!=1){e.RunArray.splice(L+1,0,JSON.parse(S));e.RunLengthArray.splice(L+1,0,k-1);e.RunLengthArray[L]=1;
k=1}x.Glyph=m};e7.a1J=function(i,C){var m=i.EngineDict.StyleRun.RunLengthArray;return e7.Qg(m,C).YL};
e7.azO=function(i,C){var m=i.ResourceDict.StyleSheetSet[0].StyleSheetData,e={};for(var z in m)e[z]=m[z];
var L=i.EngineDict.StyleRun.RunArray[C].StyleSheet.StyleSheetData;e7.BC(e,L);return e};e7.auX=function(i,C){var m=i.EngineDict.ParagraphRun.RunLengthArray;
return e7.Qg(m,C).YL};e7.akD=function(i,C){var m=i.ResourceDict.ParagraphSheetSet[0].Properties,e={};
for(var z in m)e[z]=m[z];var L=i.EngineDict.ParagraphRun.RunArray[C].ParagraphSheet.Properties;e7.BC(e,L);
var l=["StartIndent","EndIndent","FirstLineIndent"];for(var Y=0;Y<3;Y++)if(e[l[Y]]==null)e[l[Y]]=0;return e};
e7.cQ=function(i,C,m){if(m=="")return;var e=e7.lD(i);e7.aK(i,e.substring(0,C)+m+e.substring(C,e.length));
var z=i.EngineDict.StyleRun,L=z.RunLengthArray,l=e7.Qg(L,C-1);L[l.YL]+=m.length;var x=i.EngineDict.AlternateGlyphRun;
if(x){var L=x.RunLengthArray,l=e7.Qg(L,C-1);L[l.YL]+=m.length}var S=i.EngineDict.ParagraphRun,L=S.RunLengthArray,k=e7.Qg(L,C),f=m.split("\n");
if(f.length==1){L[k.YL]+=m.length;return}L.splice(k.YL+1,0,L[k.YL]-(C-k.QA));S.RunArray.splice(k.YL+1,0,e7.xs(S.RunArray[k.YL]));
L[k.YL]-=L[k.YL+1];L[k.YL]+=f[0].length+1;for(var Y=1;Y<f.length-1;Y++){S.RunArray.splice(k.YL+Y,0,e7.xs(S.RunArray[k.YL+Y-1]));
S.RunLengthArray.splice(k.YL+Y,0,f[Y].length+1)}L[k.YL+f.length-1]+=f[f.length-1].length};e7.FH=function(i,C,m){var e=e7.lD(i);
e7.aK(i,e.substring(0,C)+e.substring(m,e.length));e7.pd(i.EngineDict.ParagraphRun,C,m,!0);e7.pd(i.EngineDict.StyleRun,C,m,!1);
var z=i.EngineDict.AlternateGlyphRun;if(z)e7.pd(z,C,m,!1)};e7.pd=function(i,C,m,e){var z=i.RunLengthArray,L=e7.Qg(z,C),l=e7.Qg(z,m),x=[];
for(var Y=0;Y<z.length;Y++)for(var S=0;S<z[Y];S++)x.push(Y);x.splice(C,m-C);var k=[];for(var Y=0;Y<z.length;
Y++)k.push(0);for(var Y=0;Y<x.length;Y++)k[x[Y]]++;for(var Y=0;Y<z.length;Y++){if(k[Y]==0){k.splice(Y,1);
z.splice(Y,1);i.RunArray.splice(Y,1);Y--}else if(k[Y]<z[Y])z[Y]=k[Y]}if(e&&L.YL!=l.YL&&L.QA!=C){z[L.YL]+=z[L.YL+1];
z.splice(L.YL+1,1);i.RunArray.splice(L.YL+1,1)}};e7.Bl=function(i,C,m,e){var z=i.EngineDict.Editor.Text.length;
if(m==z-2)m++;if(e.hU.Font!=null)i.ResourceDict.FontSet=e.JR.slice(0);if(C<=m)e7.a57(i.EngineDict.StyleRun,e.hU,C,m,!0);
e7.a57(i.EngineDict.ParagraphRun,e.t7,C,m,!1)};e7.IF=function(i,C,m){var e={JR:i.ResourceDict.FontSet.slice(0),hU:[],t7:[]},z=i.EngineDict.StyleRun.RunLengthArray,L=e7.Qg(z,C).YL,l=e7.Qg(z,m).YL;
for(var Y=L;Y<=l;Y++){var x=e7.xs(i.ResourceDict.StyleSheetSet[0].StyleSheetData),S=i.EngineDict.StyleRun.RunArray;
if(S.length==0)continue;var k=S[Y].StyleSheet.StyleSheetData;e7.BC(x,k);e.hU.push(x)}var f=i.EngineDict.ParagraphRun.RunLengthArray,X=e7.Qg(f,C).YL,o=e7.Qg(f,m).YL;
for(var Y=X;Y<=o;Y++){var A=i.EngineDict.ParagraphRun.RunArray;if(A.length==0)continue;e.t7.push(e7.xs(A[Y].ParagraphSheet.Properties))}e.hU=e.hU.length==0?{}:e7.oW(e.hU);
e.t7=e.t7.length==0?{}:e7.oW(e.t7);return e};e7.a57=function(i,C,m,e,z){var L=i.RunLengthArray;if(z){var l=e7.Qg(L,m);
if(l.QA!=m){var x=L[l.YL];L.splice(l.YL,0,m-l.QA);L[l.YL+1]=x-L[l.YL];i.RunArray.splice(l.YL+1,0,e7.xs(i.RunArray[l.YL]))}var S=e7.Qg(L,e);
if(S.QA+L[S.YL]-1!=e){var x=L[S.YL];L.splice(S.YL,0,e-S.QA+1);L[S.YL+1]=x-L[S.YL];i.RunArray.splice(S.YL+1,0,e7.xs(i.RunArray[S.YL]))}}var l=e7.Qg(L,m),S=e7.Qg(L,e);
if(z)for(var Y=l.YL;Y<=S.YL;Y++)e7.BC(i.RunArray[Y].StyleSheet.StyleSheetData,C);else for(var Y=l.YL;
Y<=S.YL;Y++)e7.BC(i.RunArray[Y].ParagraphSheet.Properties,C)};e7.avZ=function(i,C,m){var e=i.EngineDict.StyleRun.RunLengthArray,z=[],L=0;
for(var Y=0;Y<e.length;Y++){var l=e[Y];for(var x=0;x<l;x++)if(C<=L+x&&L+x<m)z.push(Y);L+=l}var S=z[0],k=[];
for(var Y=0;Y<z.length;Y++){var f=z[Y]-S;if(f==k.length)k.push(0);k[f]++}return k};e7.ae0=function(i){var C=i.EngineDict.StyleRun,m=C.RunArray,e=C.RunLengthArray;
for(var Y=0;Y<e.length-1;Y++){var z=m[Y].StyleSheet.StyleSheetData,L=m[Y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(z)==JSON.stringify(L)){m.splice(Y+1,1);e[Y]+=e[Y+1];e.splice(Y+1,1);Y--}}};e7.Q5=function(i){var C=i.m_.AntA.v.Annt;
C=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(C);if(C==-1)C=1;return C};e7.jc=function(i,C){i.m_.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][C]};
e7.Mt=function(i,C){var m,e;m=["FontSize","Leading","BaselineShift","_LineWidth"];e=i.hU;for(var Y=0;
Y<m.length;Y++)if(e[m[Y]]!=null)e[m[Y]]*=C;m=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
e=i.t7;for(var Y=0;Y<m.length;Y++)if(e[m[Y]]!=null)e[m[Y]]*=C};e7.avh=function(){return e7.IF(e7.az$,0,0)};
e7.asr=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
e7.Qg=function(i,C){var m=0,Y=0;while(m+i[Y]<=C){m+=i[Y];Y++}return{YL:Y,QA:m}};e7.awd=function(){var i=e7.xs(this.az$);
return i};e7.atl=function(i,C){var m=C.t7};e7.ag2=function(i,C){var m=C.hU,e;e=i.Undl;if(e&&e.v.Undl=="underlineOnLeftInVertical")m.Underline=!0;
e=i.syntheticItalic;if(e)m.FauxItalic=e.v};e7.an_={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
e7.a8v={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
e7.af8=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};e7.az$={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(e7.an_))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(e7.an_))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(e7.a8v))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var dP={};dP.a1q=function(i){var C=dP.a7D(i._0,i._1);dP.aDX(C,i._0);return C};dP.aal=function(i,C,m){var e={};
e._98={_0:"i7"};e._0=dP.ay4(i,C,m?m._0:null);e._1=dP.a8R(i,C,e._0,m?m._1:null);return e};dP.ay4=function(i,C,m){var e={};
e._1=dP.aru(i,m?m._1:null);e._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};e._3=JSON.parse(JSON.stringify(dP.aCN));
e._4=JSON.parse(JSON.stringify(dP.ahw));e._5=dP.ans(i,e._1._0,m?m._5:null);e._6=dP.anl(i,m?m._6:null);
e._8=dP.aqw(i,C,m?m._8:null);e._9=dP.a9J;return e};dP.aDX=function(i,C){dP.aq3(i,C._5,C._1._0)};dP.aru=function(i,C){var m=[],e=[];
for(var Y=0;Y<i.length;Y++){var z=i[Y].ResourceDict.FontSet;for(var L=0;L<z.length;L++){var l=z[L];if(e.indexOf(l.Name)!=-1)continue;
m.push(l);e.push(l.Name)}}var x={_0:[]};for(var Y=0;Y<m.length;Y++){var S=m[Y],k={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+S.Name,_1:"i"+S.Script,_2:"i"+S.FontType}}};
if(S.Script==0)delete k._0._0._1;x._0.push(k)}return x};dP.ans=function(i,C,m){var e={_0:[],_1:[]},z={_0:JSON.parse(JSON.stringify(dP.ayi))};
dP.ai0(z._0,i[0].ResourceDict.StyleSheetSet[0],C,i[0].ResourceDict.FontSet);e._0.push(z);e._1.push({_0:"i0"});
e._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});e._1.push({_0:"i1"});return e};dP.aq3=function(i,C,m){var e=C._0[0];
for(var Y=0;Y<i.length;Y++)dP.atz(e._0,i[Y].ResourceDict.StyleSheetSet[0],m,i[Y].ResourceDict.FontSet)};
dP.anl=function(i,C){var m={_0:[],_1:[]},e={_0:JSON.parse(JSON.stringify(dP.ym))};dP.PX(e._0,i[0].ResourceDict.ParagraphSheetSet[0]);
m._0.push(e);m._1.push({_0:"i0"});e={_0:JSON.parse(JSON.stringify(dP.ym))};dP.PX(e._0,i[0].ResourceDict.ParagraphSheetSet[0]);
e._0._0="sBasic Paragraph";e._0._6="i0";m._0.push(e);m._1.push({_0:"i1"});return m};dP.aqw=function(i,C,m){var e={_0:[]};
for(var Y=0;Y<i.length;Y++){var z=i[Y].Curve,L={};e._0.push({_0:L});var l=e7.c$(i[Y]);L._1={};L._2={};
L._2._0="i"+l;if(i[Y]._LineOrientation==2)L._2._1="i2";if(l==0){delete L._1;L._2._6=["f-1","f-1"];L._2._11={_4:"i-1",_7:!1}}else if(l==1&&z==null){var x=e7.py(i[Y]),S=x[2],k=x[3];
L._1._0=dP.dL("f",[0,0,0,0,S,0,S,0,S,0,S,0,S,k,S,k,S,k,S,k,0,k,0,k,0,k,0,k,0,0,0,0]);L._2._6=["f-2","f-2"];
L._2._11={_4:"i-2",_7:!1}}else if(l==1){var x=e7.py(i[Y]),S=x[2],k=x[3];L._1._0=dP.dL("f",z.Points);
L._2._6=["f-3","f-3"];L._2._11={_4:"i-3",_7:!1}}else if(l==2){L._1._0=dP.dL("f",z.Points);L._2._6=dP.dL("f",z.TextOnPathTRange);
L._2._11={_0:z.Reversed,_3:"i0",_5:"f0",_7:!1}}}return e};dP.a8R=function(i,C,m,e){var z={};z._0=JSON.parse(JSON.stringify(dP.aAH));
z._1=dP.a5d(i,C,m,e?e._1:null);z._2=JSON.parse(JSON.stringify(dP.ayi._6));z._3=JSON.parse(JSON.stringify(dP.ym._5));
return z};dP.a7D=function(i,C){return dP.aiv(i,C._1)};dP.a5d=function(i,C,m,e){var z=[],L=m._1._0;for(var Y=0;
Y<i.length;Y++){var l=i[Y],x={_0:{}};z.push(x);x._0._0="s"+l.EngineDict.Editor.Text;x._0._0=x._0._0;
var S=x._0._5={_0:[]},k=l.EngineDict.ParagraphRun;for(var f=0;f<k.RunArray.length;f++){var X={_0:{}};
S._0.push(X);X._0._0={_0:"s",_5:{},_6:"i1"};dP.PX(X._0._0,k.RunArray[f].ParagraphSheet);X._1="i"+k.RunLengthArray[f]}var o=x._0._6={_0:[]};
k=l.EngineDict.StyleRun;for(var f=0;f<k.RunArray.length;f++){var A={_0:{}};o._0.push(A);A._0._0={_0:"s",_5:"i1",_6:{}};
dP.ai0(A._0._0,k.RunArray[f].StyleSheet,L,l.ResourceDict.FontSet);A._1="i"+k.RunLengthArray[f]}k=l.EngineDict.AlternateGlyphRun;
if(k){var P=x._0._9={_0:[]};for(var f=0;f<k.RunArray.length;f++){var F={_0:{}};P._0.push(F);var n=k.RunArray[f];
if(n.Glyph!=null){F._0._0={_0:"i"+n.Glyph,_1:"e"}}F._1="i"+k.RunLengthArray[f]}}x._0._10={_0:"i4",_2:!0};
x._1=dP.view.ann(l,null,Y,null)}return z};dP.aiv=function(i,C){var m=[],e=i._1._0;if(C)for(var Y=0;Y<C.length;
Y++){var z=e7.awd();m.push(z);var L=C[Y];z.EngineDict.Editor.Text=L._0._0.slice(1);var l=z.EngineDict.ParagraphRun.RunArray[0],x=z.EngineDict.ParagraphRun,S=L._0._5;
if(S)for(var k=0;k<S._0.length;k++){var f=S._0[k];x.RunLengthArray[k]=parseInt(f._1.slice(1));x.RunArray[k]=JSON.parse(JSON.stringify(l));
dP.aB8(f._0._0,x.RunArray[k].ParagraphSheet)}else{x.RunLengthArray[0]=e7.lD(z).length}var X=L._0._6;
x=z.EngineDict.StyleRun;if(X)for(var k=0;k<X._0.length;k++){var o=X._0[k];x.RunLengthArray[k]=parseInt(o._1.slice(1));
x.RunArray[k]={StyleSheet:{StyleSheetData:{}}};dP.atz(o._0._0,x.RunArray[k].StyleSheet,e,z.ResourceDict.FontSet)}else{x.RunLengthArray[0]=e7.lD(z).length;
x.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return m};dP.ai0=function(i,C,m,e,z){i._0="s"+(C.Name?C.Name:"");
var L=i._6,l=z?z._6:null,x=C.StyleSheetData;if(x.Font!=null){var S=e[x.Font].Name,k=-1;for(var Y=0;Y<m.length;
Y++)if("s"+S==m[Y]._0._0._0){k=Y;break}L._0="i"+k}if(x.FontSize!=null)L._1="f"+x.FontSize;if(x.FauxBold!=null)L._2=x.FauxBold;
if(x.FauxItalic!=null)L._3=x.FauxItalic;if(x.AutoLeading!=null)L._4=x.AutoLeading;if(x.Leading!=null)L._5="f"+x.Leading;
if(x.HorizontalScale!=null)L._6="f"+x.HorizontalScale;if(x.VerticalScale!=null)L._7="f"+x.VerticalScale;
if(x.Tracking!=null)L._8="i"+x.Tracking;if(x.BaselineShift!=null)L._9="f"+x.BaselineShift;if(x.AutoKerning!=null)L._11="i"+(x.AutoKerning?1:0);
if(x.FontCaps!=null)L._12="i"+x.FontCaps;if(x.FontBaseline!=null)L._13="i"+x.FontBaseline;if(x.Strikethrough!=null)L._15="i"+(x.Strikethrough?1:0);
if(x.Underline!=null)L._16="i"+(x.Underline?2:0);if(x.Ligatures!=null)L._18=x.Ligatures;if(x.DLigatures!=null)L._19=x.DLigatures;
if(x.BaselineDirection!=null)L._35="i"+x.BaselineDirection;if(x.Language!=null)L._38="i"+x.Language;
if(x.FillColor!=null)L._53=dP.aN(x.FillColor);if(x.StrokeColor!=null)L._54=dP.aN(x.StrokeColor);if(x.FillFlag!=null)L._56=x.FillFlag;
if(x.StrokeFlag!=null)L._57=x.StrokeFlag;if(x._LineWidth!=null)L._63="f"+x._LineWidth;if(x._FillBackgroundColor!=null)L._79=dP.aN(x._FillBackgroundColor);
if(x._FillBackgroundFlag!=null)L._80=x._FillBackgroundFlag};dP.aN=function(i){return{_99:"/SimplePaint",_0:{_0:"i1",_1:dP.dL("f",i.Values)}}};
dP.atz=function(i,C,m,e){var z=i._6;if(z==null)return;var L=C.StyleSheetData;if(z._0){var l=parseInt(z._0.slice(1)),x=m[l]._0._0._0.slice(1);
e7.Ca({hU:L,JR:e},x)}if(z._1!=null)L.FontSize=parseFloat(z._1.slice(1));if(z._2!=null)L.FauxBold=z._2;
if(z._3!=null)L.FauxItalic=z._3;if(z._4!=null)L.AutoLeading=z._4;if(z._5!=null)L.Leading=parseFloat(z._5.slice(1));
if(z._6!=null)L.HorizontalScale=parseFloat(z._6.slice(1));if(z._7!=null)L.VerticalScale=parseFloat(z._7.slice(1));
if(z._8!=null)L.Tracking=parseFloat(z._8.slice(1));if(z._9!=null)L.BaselineShift=parseFloat(z._9.slice(1));
if(z._11!=null)L.AutoKerning=parseFloat(z._11.slice(1))==1;if(z._12!=null)L.FontCaps=parseFloat(z._12.slice(1));
if(z._13!=null)L.FontBaseline=parseFloat(z._13.slice(1));if(z._15!=null)L.Strikethrough=parseFloat(z._15.slice(1))==1;
if(z._16!=null)L.Underline=parseFloat(z._16.slice(1))==1;if(z._18!=null)L.Ligatures=z._18;if(z._19!=null)L.DLigatures=z._19;
if(z._35!=null)L.BaselineDirection=parseFloat(z._35.slice(1));if(z._38!=null)L.Language=parseFloat(z._38.slice(1));
if(z._53!=null)L.FillColor=dP.wC(z._53);if(z._54!=null)L.StrokeColor=dP.wC(z._54);if(z._56!=null)L.FillFlag=z._56;
if(z._57!=null)L.StrokeFlag=z._57;if(z._63!=null)L._LineWidth=parseFloat(z._63.slice(1));if(z._79!=null)L._FillBackgroundColor=dP.wC(z._79);
if(z._80!=null)L._FillBackgroundFlag=z._80};dP.wC=function(i){var C=i._0._0,m=i._0._1,e=[1,0,0,0],z=[];
for(var Y=0;Y<m.length;Y++)z[Y]=parseFloat(m[Y].slice(1));if(C=="i0")e[1]=e[2]=e[3]=z[1];else if(C=="i1")e=z;
else if(C=="i2")e=[1].concat(UDOC.C.cmykToRgb(z.slice(1)));else console.log("unknown color type",C,z);
return{Type:1,Values:e}};dP.PX=function(i,C){i._0="s"+(C.Name?C.Name:"");var m=i._5,e=C.Properties;if(e.Justification!=null)m._0="i"+e.Justification;
if(e.FirstLineIndent!=null)m._1="f"+e.FirstLineIndent;if(e.StartIndent!=null)m._2="f"+e.StartIndent;
if(e.EndIndent!=null)m._3="f"+e.EndIndent;if(e.SpaceBefore!=null)m._4="f"+e.SpaceBefore;if(e.SpaceAfter!=null)m._5="f"+e.SpaceAfter;
if(e.AutoLeading!=null)m._7="f"+e.AutoLeading;if(e.AutoHyphenate!=null)m._9=e.AutoHyphenate;if(e._Direction!=null)m._33="i"+e._Direction;
if(e._ComposerEngine!=null)m._35="i"+e._ComposerEngine};dP.aB8=function(i,C){var m=i._5;if(m==null)return;
var e=C.Properties;if(m._0)e.Justification=parseInt(m._0.slice(1))};dP.dL=function(i,C){var m=[];for(var Y=0;
Y<C.length;Y++)m.push(i+C[Y]);return m};dP.aCN={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
dP.ahw={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
dP.ayi={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
dP.ym={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
dP.a9J={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
dP.aAH={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var dx={};dx.akY=function(i){return dx.Wx(i,dx.zj,0)};dx.awF=function(i){return dx.jY(i,dx.zj)};dx.Wx=function(i,C,m){var e;
if(typeof i=="string")return i;if(i instanceof Array){e=[];for(var Y=0;Y<i.length;Y++)e[Y]=dx.Wx(i[Y],C,m+1)}else{e={};
var z={};for(var L in C){var l=C[L],x="_"+l[0];if(i[x]!=null){e[L]=l[1]?dx.Wx(i[x],l[1],m+1):i[x];z[x]=!0}}for(var L in i){if(z[L]==null){if(L.length>3)continue;
console.log(C,z);console.log(L,i);throw"e"}}}return e};dx.jY=function(i,C){var m;if(typeof i=="string")return i;
else if(i instanceof Array){m=[];for(var Y=0;Y<i.length;Y++)m[Y]=dx.jY(i[Y],C)}else{m={};var e={};for(var z in C){var L=C[z],l="_"+L[0];
if(i[z]!=null){m[l]=L[1]?dx.jY(i[z],L[1]):i[z];e[z]=!0}}for(var z in i){if(e[z]==null){console.log(C,e);
console.log(z,i);throw"e"}}}return m};dx.SN={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
dx.W5={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,dx.SN],_StrokeColor:[54,dx.SN],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,dx.SN],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
dx.a4q={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,dx.W5],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
dx.awu={_Name:[0],_Features:[5,dx.a4q],_Parent:[6],_UUID:[97]};dx.ahf={_Name:[0],_Parent:[5],_Features:[6,dx.W5],_UUID:[97]};
dx.zj={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,dx.ahf]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,dx.awu]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,dx.awu]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,dx.ahf]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,dx.W5],_OriginalNormalParagraphFeatures:[3,dx.a4q]}]};
dP.view={};dP.view.ann=function(i,C,m,e){var z={},L=e7.c$(i);z._0=[{_0:"i"+m}];return z};function CSS(){}CSS.a1v=function(i,C){var m=i.add,e=m.vmsk,z=m.vstk,L=m.lmfx,l=m.TySh,x=[],S=CSS.FU(L,m),k=i.opacity/255*(i.add.iOpa!=null?i.add.iOpa/255:1);
if(k!=1)x.push("opacity: "+k.toFixed(3));if(i.Q9()&&e){var f=I.o.RP(e.$);if(!f.bs()){x.push("width: "+Math.round(f.m)+"px");
x.push("height: "+Math.round(f.J)+"px")}var X=I.o.azz(e.$);if(X>0)x.push("border-radius: "+Math.round(X)+"px")}else if(l){var o=l.Wg;
if(e7.c$(o)==1){var f=e7.py(o);x.push("width: "+Math.round(f[2])+"px");x.push("height: "+Math.round(f[3])+"px")}CSS.aCX(x,e7.IF(o,0,0),l.i,!1,!1,S[0])}CSS.aAg(C,L,x);
if(l==null)CSS.a0_(S,x);if(z==null||!z.strokeEnabled.v)z=k4.OE(L);if(z&&z.strokeEnabled.v){var A=z.strokeStyleContent.v,P=A.classID,F=z.strokeStyleOpacity.v.val/100,n=z.strokeStyleLineWidth.v.val,R="";
if(P=="solidColorLayer")R=CSS.pD(A.Clr.v,F);x.push("border: "+n+"px solid "+R)}return x};CSS.aAg=function(i,C,m){if(C==null||!C.masterFXSwitch.v)return;
var e=C.dropShadowMulti.v.concat(C.innerShadowMulti.v);for(var Y=0;Y<e.length;Y++){var z=e[Y].v;if(z.enab.v){var L=z.classID=="IrSh",l=z.Dstn.v.val,x=z.lagl.v.val*Math.PI/180;
if(z.uglg&&z.uglg.v)x=i.Ju()*Math.PI/180;var S=l*Math.cos(x),k=l*Math.sin(x),f=(S==0?"0 ":CSS.aCv(-S)+"px ")+(k==0?"0 ":CSS.aCv(k)+"px ")+z.blur.v.val/2+"px "+CSS.pD(z.Clr.v,z.Opct.v.val/100);
if(L)m.push("box-shadow: inset "+f);else m.push("filter: drop-shadow("+f+")")}}};CSS.FU=function(i,C){var m=k4.Ir(i,C),e=m[0],z=m[1],L,l;
if(e){L=CSS.pD(e.Clr.v,C.iOpa!=null?C.iOpa/255:1)}else if(z){l=CSS.Gm(z)}return[L,l]};CSS.a0_=function(i,C){if(i[0])C.push("background-color: "+i[0]);
if(i[1])C.push("background-image: "+i[1])};CSS.b1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aCv=function(k7){return""+parseFloat(k7.toFixed(3))};CSS.L4=function(i){if(i==null)return{Z:0,r:0,e:0};
var C=i.indexOf("(");if(C!=-1){var m=i.slice(C+1,i.length-1).split(",");for(var Y=0;Y<m.length;Y++){var e=m[Y].trim();
m[Y]=parseFloat(e)*(e.endsWith("%")?255/100:1)}return{Z:m[0],r:m[1],e:m[2]}}if(i.charAt(0)!="#"){var z=CSS.b1;
if(z[i])i=z[i];else console.log("unknown color "+i)}i=i.slice(1);if(i.length==4)i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3];
if(i.length==3)i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2];var L=-1;if(i.length==8){L=parseInt(i.slice(6),16);i=i.slice(0,6)}i=parseInt(i,16);
var l={Z:i>>16&255,r:i>>8&255,e:i&255};if(L!=-1)l.W=L;return l};CSS.pD=function(i,C){return CSS.IT(I.I.oq(i),C)};
CSS.IT=function(i,C){if(C==null)C=1;var m=Math.round(i.Z),e=Math.round(i.r),z=Math.round(i.e),L=m<<16|e<<8|z;
return C==1?"#"+I.dP(L):"rgba("+m+","+e+","+z+","+C+")"};CSS.Gm=function(i){var C=i.Grad.v;if(C.Clrs==null)return"";
var m=C.Clrs.v.slice(0),e=C.Trns.v.slice(0),z=i.Ofst.v,L=i.Type.v.GrdT=="Rdl"?1:0,l=(L==1?"radial":"linear")+"-gradient",x=L==0?Math.round(-i.Angl.v.val+90)+"deg":"circle at center",S=i.Rvrs.v,k=I.I.yW(C,S);
for(var Y=0;Y<k.length;Y++){var f=k[Y],X=f[1];x+=", "+CSS.IT({Z:X[0]*255,r:X[1]*255,e:X[2]*255},f[2])+" "+Math.round(f[0]*100)+"%"}return l+"("+x+")"};
CSS.aCX=function(i,C,m,e,z,L){var l=C.hU,x=e?1:m.je(),S=Math.round(l.FontSize*x);i.push("font-size: "+S+"px");
var k=l.Tracking;if(!e&&k!=null&&k!=0)i.push("letter-spacing: "+Math.round(k*S/1e3)+"px");if(!l.AutoLeading)i.push("line-height: "+Math.round(l.Leading*x)+"px");
if(l.Strikethrough)i.push("text-decoration: line-through");if(l.Underline)i.push("text-decoration: underline");
if(l.FontCaps==2)i.push("text-transform: uppercase");var f=e7.oq(l.FillColor);f=[f.Z,f.r,f.e].map(Math.round);
i.push((e?"fill: ":"color: ")+(L?L:"#"+I.dP(f[0]<<16|f[1]<<8|f[2])));var X=C.JR[l.Font].Name;if(X){var o=gA.Y2.he(X),A="",P=null,F=null;
if(o!=null&&X!=gA.jy(o))o=null;if(z&&o)A+="\""+X+"\", ";var n=X.toLowerCase();if(o){P=gA.db(o)[0];if(o["OS/2"])F=o["OS/2"].usWeightClass}else{P=CSS.a9j(X);
if(n.indexOf("light")!=-1)F=300;else if(n.indexOf("medium")!=-1)F=500;else if(n.indexOf("black")!=-1||n.indexOf("extrabold")!=-1)F=800;
else if(n.indexOf("bold")!=-1)F="bold"}if(P!=null)A+="\""+P+"\"";if(F!=null)i.push("font-weight: "+F);
if(n.indexOf("italic")!=-1||n.indexOf("oblique")!=-1)i.push("font-style: italic");if(A)i.push("font-family: "+A)}var R=C.t7.Justification;
if(R!=null&&R!=0)if(e){}else i.push("text-align: "+["left","right","center"][R%3])};CSS.a9j=function(i){i=i.split("-")[0];
while(i.endsWith("MT")||i.endsWith("PS"))i=i.slice(0,i.length-2);var C=!0;for(var Y=0;Y<i.length;Y++){var m=i.charAt(Y);
if(!C&&m.toLowerCase()!=m){i=i.slice(0,Y)+" "+i.slice(Y);Y++;C=!0}else C=!1}return i};function fL(){}fL.D3={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
fL.nk=function(i,C){var m=Date.now(),e=i.split("\n"),z;if(e.length==1)e=i.split("\r");for(var Y=0;Y<e.length;
Y++)if(e[Y].trim()[0]=="#"){e[Y]=""}i=e.join("\n");try{z=acorn.parse(i)}catch(a8){console.log(a8);return}var L=JSON.parse(JSON.stringify(fL.tQ.kN));
L.__return=!1;L.__continue=!1;L.__break=!1;L.__throw=!1;L.__fs={};L.__window={};fL.eval(z,C,L);var l=L.__fs;
if(Object.keys(l).length!=0){var x=UZIP.encode(l);g_.save(x,"output.zip")}};fL.eval=function(i,C,m){var e=i.type;
if(!1){}else if(e=="Program"||e=="BlockStatement"){var z=i.body;for(var Y=0;Y<z.length;Y++){var L=z[Y].type;
if(L=="FunctionDeclaration")m[z[Y].id.name]=z[Y]}for(var Y=0;Y<z.length;Y++){var L=z[Y].type,l=fL.eval(z[Y],C,m);
if(m.__continue&&m.__pif==null){m.__continue=!1;return l}if(m.__return||m.__break||m.__throw)return l}}else if(e=="ReturnStatement"){m.__return=!0;
return i.argument?fL.a$(i.argument,C,m):null}else if(e=="BreakStatement"){m.__break=!0}else if(e=="ContinueStatement"){m.__continue=!0}else if(e=="VariableDeclaration"){var x=i.declarations;
for(var Y=0;Y<x.length;Y++)fL.eval(x[Y],C,m)}else if(e=="VariableDeclarator"){m[i.id.name]=i.init?fL.a$(i.init,C,m):null}else if(e=="FunctionDeclaration"){m[i.id.name]=i}else if(e=="MemberExpression"){var S=fL.a$(i.object,C,m),k=i.computed?fL.a$(i.property,C,m):fL.eval(i.property,C,m),l;
if(S.O!=null)l=fL.tQ.IG(S,k,C,m);else if(S==window&&fL.D3[k]){}else l=S[k];return l}else if(e=="ArrayExpression"){var f=[],X=i.elements;
for(var Y=0;Y<X.length;Y++)f.push(fL.a$(X[Y],C,m));return f}else if(e=="ObjectExpression"){var f={},X=i.properties;
for(var Y=0;Y<X.length;Y++){var o=X[Y],A=X[Y].key.name?X[Y].key.name:X[Y].key.value;f[A]=fL.a$(X[Y].value,C,m)}return f}else if(e=="ExpressionStatement"){return fL.eval(i.expression,C,m)}else if(e=="NewExpression"){var P=i.arguments,F=i.callee,n=F.type,R=F.name,Q=[],f=null;
for(var Y=0;Y<P.length;Y++)Q.push(fL.a$(P[Y],C,m));if(R=="Array")f=new window[R];else if(n=="Identifier")f=fL.tQ.arY(R,Q,C,m);
else throw"e";if(f==null)throw"new "+R;return f}else if(e=="CallExpression"){var P=i.arguments,F=i.callee,n=F.type,s={};
for(var j in m)s[j]=m[j];var Q=[];for(var Y=0;Y<P.length;Y++)Q.push(fL.a$(P[Y],C,m));if(n=="Identifier"){var _=F.name,B=m[_];
if(B&&B.O=="AppFunc"){_=B.T_;B=null}if(B){if(B.params){var N=B.params;for(var Y=0;Y<N.length;Y++)s[N[Y].name]=Q[Y];
return fL.eval(B.body,C,s)}else{return B.apply(null,Q)}}else if(fL.tQ.avB.indexOf(_)!=-1)return fL.tQ.XM({O:"Application"},_,Q,C,m);
else if(window[_]==null)console.log("Unknown function "+_);else if(fL.D3[_])alert(_+"() not available");
else{var a=window[_].apply(window,Q);return a}}else if(n=="MemberExpression"){var S=fL.a$(F.object,C,m),k=F.computed?fL.a$(F.property,C,m):fL.eval(F.property,C,m);
if(S==window&&fL.D3[k])return;if(S.O!=null)return fL.tQ.XM(S,k,Q,C,m);else if(k=="sort"&&S[0]&&S[0].O=="Layer"){return S.sort(function(J,K){return J.b.getName()>K.b.getName()?1:-1})}else if(k=="toSource")return JSON.stringify(S);
else return S[k].apply(S,Q)}else if(n=="FunctionExpression"){return fL.eval(F.body,C,m)}else console.log(i)}else if(e=="AssignmentExpression"){var O=i.operator,H=i.left,q=H.type,h=fL.a$(H,C,m),D=fL.a$(i.right,C,m),l=null;
if(!1){}else if(O=="=")l=D;else if(O=="+=")l=h+D;else if(O=="-=")l=h-D;else if(O=="*=")l=h*D;else if(O=="/=")l=h/D;
else if(O=="%=")l=h%D;else if(O=="&=")l=h&D;else if(O=="|=")l=h|D;else if(O=="&&=")l=h&&D;else if(O=="||=")l=h||D;
else console.log(i);if(q=="Identifier"){var T=H.name;if(m.hasOwnProperty(T))m[T]=l;else m.__window[T]=l}else if(q=="MemberExpression"){var p=fL.eval(H.property,C,m),y=fL.a$(H.object,C,m);
if(y.O!=null)fL.tQ.aBl(y,p,l,C,m);else y[p]=l}else console.log(i);return l}else if(e=="Identifier")return i.name;
else if(e=="Literal")return i.value;else if(e=="UpdateExpression"){var O=i.operator,b=i.argument.name,f=fL.a$(i.argument,C,m),g=m;
if(g[b]==null)g=m.__window;if(!1){}else if(O=="++"){g[b]++;return i.prefix?g[b]:g[b]-1}else if(O=="--"){g[b]--;
return i.prefix?g[b]:g[b]+1}else console.log(i)}else if(e=="UnaryExpression"){var O=i.operator,u=fL.a$(i.argument,C,m);
if(u&&u.O=="UnitValue"){if(O=="-")return-u.b;else return fL.abN(u.b,O)}else return fL.abN(u,O)}else if(e=="BinaryExpression"||e=="LogicalExpression"){var O=i.operator,H=fL.a$(i.left,C,m);
if(e=="LogicalExpression"&&O=="&&"&&!H)return H;var u=fL.a$(i.right,C,m);if(H==null||u==null)return fL.mE(H,u,O);
else if(H.O=="UnitValue"&&u.O=="UnitValue")return fL.mE(H.b,u.b,O);else if(H.O=="UnitValue")return fL.mE(H.b,u,O);
else if(u.O=="UnitValue"){if(O=="-")return-(H-u.b);else return fL.mE(H,u.b,O)}else return fL.mE(H,u,O)}else if(e=="IfStatement"){var t=fL.a$(i.test,C,m),V=m.__pif,l=null;
m.__pif=!0;if(t)l=fL.eval(i.consequent,C,m);else if(i.alternate)l=fL.eval(i.alternate,C,m);m.__pif=V;
return l}else if(e=="ConditionalExpression"){var t=fL.a$(i.test,C,m);if(t)return fL.a$(i.consequent,C,m);
else if(i.alternate)return fL.a$(i.alternate,C,m)}else if(e=="ForInStatement"){fL.eval(i.left,C,m);var c=i.left.declarations[0].id.name,E=fL.a$(i.right,C,m);
for(var j in E){m[c]=j;var Z=fL.eval(i.body,C,m);if(m.__break)break;if(m.__return)return Z}m.__break=!1}else if(e=="ForStatement"){fL.eval(i.init,C,m);
while(fL.eval(i.test,C,m)){var Z=fL.eval(i.body,C,m);if(m.__break)break;if(m.__return)return Z;fL.eval(i.update,C,m)}m.__break=!1}else if(e=="WhileStatement"){while(fL.eval(i.test,C,m)){var Z=fL.eval(i.body,C,m);
if(m.__break)break;if(m.__return)return Z}m.__break=!1}else if(e=="DoWhileStatement"){do{var Z=fL.eval(i.body,C,m);
if(m.__break)break;if(m.__return)return Z}while(fL.eval(i.test,C,m));m.__break=!1}else if(e=="TryStatement"){fL.eval(i.block,C,m);
if(m.__throw){var G=i.handler;m[G.param.name]=m.__throw;m.__throw=!1;fL.eval(G.body,C,m);delete m[G.param.name]}}else if(e=="EmptyStatement"){}else console.log(i)};
fL.mE=function(i,C,m){if(m=="+")return i+C;else if(m=="-")return i-C;else if(m=="*")return i*C;else if(m=="/")return i/C;
else if(m=="%")return i%C;else if(m=="^")return i^C;else if(m=="&")return i&C;else if(m=="&&")return i&&C;
else if(m=="|")return i|C;else if(m=="||")return i||C;else if(m=="<")return i<C;else if(m==">")return i>C;
else if(m=="=="){if(i!=null&&C!=null&&i.O&&C.O)return i.b==C.b;return i==C}else if(m=="===")return i===C;
else if(m=="<=")return i<=C;else if(m==">=")return i>=C;else if(m=="!=")return i!=C;else if(m=="!==")return i!==C;
else if(m=="<<")return i<<C;else if(m==">>")return i>>C;else console.log(m)};fL.abN=function(i,C){if(C=="-")return-i;
else if(C=="!")return!i;else if(C=="~")return~i;else if(C=="+")return i;else if(C=="typeof")return typeof i;
else console.log(C,i)};fL.a$=function(i,C,m){var e=i.type;if(e=="Identifier")return fL.ayY(i.name,C,m);
else return fL.eval(i,C,m)};fL.ayY=function(i,C,m){if(i=="undefined")return undefined;else if(m.hasOwnProperty(i))return m[i];
else if(i=="app")return{O:"Application"};else if(i=="Folder")return{O:"Folder"};else if(i=="File")return{O:"File"};
else if(i=="$")return{O:"$"};else if(fL.tQ.a1T.indexOf(i)!=-1)return fL.tQ.IG({O:"Application"},i,C,m);
else if(fL.tQ.avB.indexOf(i)!=-1)return{O:"AppFunc",T_:i};else if(m.__window.hasOwnProperty(i))return m.__window[i];
else if(window[i]&&!fL.D3[i])return window[i];else{m[i]=null;return null}};fL.tQ={};fL.tQ.arY=function(i,C,m,e){var z;
if(i=="SolidColor")z={O:i,b:[1,0,0,0]};if(i=="RGBColor")z={O:i,b:[1,0,0,0]};if(i=="Window")z={O:i,b:new bH(C[0],C[1],C[2])};
if(i=="ExportOptionsSaveForWeb")z={O:i,b:{Kp:"png",Vs:100}};if(i=="PhotoshopSaveOptions")z={O:i,b:{Kp:"psd"}};
if(i=="PNGSaveOptions")z={O:i,b:{Kp:"png",Vs:100}};if(i=="JPEGSaveOptions")z={O:i,b:{Kp:"jpg",Vs:100}};
if(i=="PDFSaveOptions")z={O:i,b:{Kp:"pdf",ayW:""}};if(i=="File")z={O:i,b:C[0]};if(i=="ActionReference")z={O:i,b:{t:"obj ",v:[]}};
if(i=="ActionDescriptor")z={O:i,b:{t:"Objc",v:{classID:"null"}}};if(i=="ActionList")z={O:i,b:{t:"VlLs",v:[]}};
if(i=="UnitValue")z={O:i,b:C.length==0?0:parseFloat(C[0])};return z};fL.tQ.a1T="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
fL.tQ.avB="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
fL.tQ.IG=function(i,C,m,e){var z=m.Zk,L=m.M2();if(!1){}else if(C=="typename"){if(i.O=="Layer")return i.b.yJ()?"LayerSet":"ArtLayer";
else return i.O}else if(["Document","Layer"].indexOf(i.O)!=-1&&["layers","artLayers","layerSets"].indexOf(C)!=-1){var l=L;
if(i.O=="Document")l=i.b;else l=i.N1;var x=l.root,S={O:"Layers",ae5:C,b:[],N1:l};if(i.O=="Layer")x=l.root.zD(l.M.indexOf(i.b));
if(x.children==null)return null;for(var Y=0;Y<x.children.length;Y++){var k=x.children[Y].a,f=k.yJ();
if(f&&C=="artLayers"||!f&&C=="layerSets")continue;S.b.push({O:"Layer",b:k,N1:l})}S.b.reverse();return S}else if(i.O=="Documents"||i.O=="Layers"||i.O=="HistoryStates"||i.O=="LayerComps"){if(!1){}else if(C=="length")return i.b.length;
else if(Number.isInteger(C))return i.b[C];else console.log(i.O+": unknown property ",C)}else if(i.O=="Application"){if(!1){}else if(C=="activeDocument")return{O:"Document",b:m.M2()};
else if(C=="documents"){var S={O:"Documents",b:[]};for(var Y=0;Y<m.dM.length;Y++)S.b.push({O:"Document",b:m.dM[Y]});
return S}else if(C=="fonts")return{O:"TextFonts"};else if(C=="preferences")return{O:"Preferences"};else if(C=="displayDialogs")return{O:"DialogModes"};
else if(C=="foregroundColor"||C=="backgroundColor"){var X=C[0]=="f"?z.Dm:z.yv;return{O:"SolidColor",b:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]}}else if(C=="UI")return{O:"UI"};
else if(C=="version")return 30;else console.log(i,C)}else if(i.O=="Document"){var L=i.b;if(!1){}else if(C=="activeLayer"){var k=L.M[L.g[0]];
return{O:"Layer",b:k,N1:L}}else if(C=="resolution")return L.lC;else if(C=="width")return L.m;else if(C=="height")return L.J;
else if(C=="name")return L.name;else if(C=="saved")return!L.mZ();else if(C=="selection")return{O:"Selection"};
else if(C=="activeHistoryState")return{O:"HistoryState",h6:L.f0};else if(C=="source")return L.ZG;else if(C=="layerComps"){var o=L.Rk.list.v,A=[];
for(var Y=0;Y<o.length;Y++)A.push({O:"LayerComp",b:Y});return{O:"LayerComps",b:A}}else if(C=="historyStates"){var P=[];
for(var Y=0;Y<L.history.length;Y++)P.push({O:"HistoryState",h6:Y});return{O:"HistoryStates",b:P}}else if(C=="mode")return 7;
else if(C=="colorSamplers"){var S={O:"ColorSamplers",ae5:C,b:L.cU.slice(0),N1:L};return S}else console.log(i,C)}else if(i.O=="LayerComp"){if(C=="name")return L.Rk.list.v[i.b].v.Nm.v;
else throw C}else if(i.O=="ColorSamplers"){if(Number.isInteger(C))return{O:"ColorSampler",b:i.b[C]};
else if(C=="length")return L.cU.length}else if(i.O=="ColorSampler"){if(C=="color"){var X=$.U3.bl(L,L.q.ip(i.b.x,i.b.y),1,2);
return{O:"SolidColor",b:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]}}else if(C=="position")return[i.b.x,i.b.y]}else if(i.O=="Layer"){var F={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=i.b;
if(!1){}else if(C=="visible")return k.gF();else if(C=="selected")return L.g.indexOf(L.M.indexOf(k))!=-1;
else if(C=="grouped")return k.cy;else if(F[C]!=null)return k.aG(F[C]);else if(C=="opacity")return k.opacity*100/255;
else if(C=="fillOpacity")return(k.add.iOpa==null?255:k.add.iOpa)*100/255;else if(C=="blendMode")return k.fn;
else if(C=="name")return k.getName();else if(C=="textItem")return{O:"TextItem",b:k};else if(C=="bounds"){var n=$.V.S8(L,[L.M.indexOf(k)]);
return fL.tQ.ah8(n,L)}else if(C=="parent"){var R=m.dM,l;for(var Y=0;Y<R.length;Y++)if(R[Y].M.indexOf(k)!=-1)l=R[Y];
var Q=l.root.zD(l.M.indexOf(k)).parent;return Q.depth==0?{O:"Document",b:l}:{O:"Layer",b:Q.a,N1:l}}else if(C=="kind"){var s=fL.tQ.j0;
for(var Y=0;Y<s.length;Y++)if(k.add[s[Y]]!=null)return Y;return 0}else if(C=="isBackgroundLayer")return k.add.lnsr="bgnd";
else if(C=="itemIndex")return L.M.indexOf(k)+1;else console.log(i,C)}else if(i.O=="Selection"){if(!1){}else if(C=="bounds"){if(L.u==null)e.__throw={message:"no selection"};
else return fL.tQ.ah8(L.u.rect,L)}else console.log(i,C)}else if(i.O=="TextItem"){var j=i.b.add.TySh,_=j.Wg,B=e7.lD(_),N=j.i.je(),a=e7.IF(_,0,0);
if(C=="contents")return B.slice(0,B.length-1).replace(/\n/g,"\r");else if(C=="font")return a.hU.Font!=null?a.JR[a.hU.Font].Name:null;
else if(C=="size")return fL.tQ.al(a.hU.FontSize*N,L);else if(C=="leading")return fL.tQ.al(a.hU.Leading*N,L);
else if(C=="tracking")return fL.tQ.al(a.hU.Tracking);else if(C=="baselineShift")return fL.tQ.al(a.hU.BaselineShift);
else if(C=="fauxBold")return a.hU.FauxBold;else if(C=="fauxItalic")return a.hU.FauxItalic;else if(C=="kind")return 1-e7.c$(_);
else if(C=="useAutoLeading")return a.t7.AutoLeading;else if(C=="hyphenation")return a.t7.AutoHyphenate;
else if(C=="justification")return fL.tQ.al(a.t7.Justification);else if(C=="color")return{O:"SolidColor",b:a.hU.FillColor.Values.slice(0)};
else if(C=="width"||C=="height"){var O=e7.py(_),H=(O[2]-O[0])*N,q=(O[3]-O[1])*N;return fL.tQ.al(C=="width"?H:q,L)}else if(C=="position"){var h=j.i;
return fL.tQ.aCE([h.W_,h.Rj],L)}else if(C=="horizontalScale"||C=="verticalScale"){var D=C[0].toUpperCase()+C.slice(1);
return Math.round(a.hU[D]*100)}else if(C=="antiAliasMethod")e7.Q5(j);else if(C=="totalTextStyle"){var S={};
for(var T=0;T<2;T++){var p=["Style","Paragraph"][T],y=_.EngineDict[p+"Run"].RunLengthArray,b=[],g=0;
for(var Y=0;Y<y.length;Y++){var u=e7.IF(_,g,Math.min(g+y[Y],B.length-2));g+=y[Y];b.push(T==0?u.hU:u.t7);
S.fontSet=u.JR}S[p]={runs:y,styles:b}}return JSON.stringify(S)}else if(C=="transform"){var h=j.i;return JSON.stringify([h.W,h.e,h.xF,h.o6,h.W_,h.Rj])}else console.log(i,C)}else if(i.O=="Preferences"){if(C=="rulerUnits")return z.Cv.d5;
else console.log(i,C)}else if(i.O=="SolidColor"){if(C=="rgb")return{O:"RGBColor",b:i.b};if(C=="cmyk")return{O:"CMYKColor",b:I.uy(i.b.slice(1))};
else console.log(i,C)}else if(i.O=="RGBColor"){var n=Math.round(255*i.b[1]),t=Math.round(255*i.b[2]),V=Math.round(255*i.b[3]);
if(!1){}else if(C=="red")return n;else if(C=="green")return t;else if(C=="blue")return V;else if(C=="hexValue")return"#"+I.dP(n<<16|t<<8|V).toUpperCase();
else console.log(i,C)}else if(i.O=="CMYKColor"){var c=[];for(var Y=0;Y<4;Y++)c.push(Math.round(i.b[Y]*100));
var E=["cyan","magenta","yellow","black"].indexOf(C);if(E!=-1)return c[E];else console.log(i,C)}else if(i.O=="UnitValue"){if(C=="value")return i.b;
else throw"e"}else if(i.O=="ExportOptionsSaveForWeb"){if(C=="format")return i.b.Kp;else if(C=="PNG8"||C=="interlaced")return!1;
else if(C=="quality")return i.b.Vs;else if(C=="transparency")return!0;else throw C}else if(i.O=="PNGSaveOptions"||i.O=="JPEGSaveOptions"||i.O=="PDFSaveOptions"){return 0}else if(i.O=="$"){if(C=="localize")return!1;
else if(C=="os")return"Windows";else throw C}else if(i.O=="ActionList"){if(C=="count")return i.b.v.length;
else throw C}else console.log(i,C)};fL.tQ.ah8=function(i,C){return fL.tQ.aCE([i.x,i.y,i.x+i.m,i.y+i.J],C)};
fL.tQ.aCE=function(i,C){var m=[];for(var Y=0;Y<i.length;Y++)m.push(fL.tQ.al(i[Y],C));return m};fL.tQ.xt=function(i){var C=[];
for(var Y=0;Y<i.length;Y++)C.push(i[Y].O?i[Y].b:i[Y]);return C};fL.tQ.al=function(i,C){return{O:"UnitValue",b:i}};
fL.tQ.avE=function(i,C){if(i.O=="UnitValue")return i.b;return i};fL.tQ.aBl=function(i,C,m,e,z){var L=new eX(v.E.v,!0),l=new eX(v.E.H,!0),x=e.M2(),S=e.Zk;
if(!1){}else if(i.O=="Application"){if(!1){}else if(C=="activeDocument"){l.data={d:v.B.D7,n4:m.b};e.T(l)}else if(C=="displayDialogs"){}else if(C=="foregroundColor"||C=="backgroundColor"){var f=m.b,X=f[1]*255<<16|f[2]*255<<8|f[3]*255<<0;
l.data={d:v.B.Mc,N5:dm.li,Tt:C=="foregroundColor"?0:1,b:X};e.T(l)}else console.log(i,C,m)}else if(i.O=="Document"){var o=i.b;
if(!1){}else if(C=="name"){L.f=$.bH;L.data={d:cc.s7,b:m,ar_:!0,_B:o};x.sa=!0}else if(C=="source")o.ZG=m;
else if(C=="activeLayer"){o.g=[o.M.indexOf(m.b)]}else if(C=="activeHistoryState"){L.f=$.Z9;L.data={d:"h_itemchange",index:m.h6}}else console.log(i,C)}else if(i.O=="Layer"){L.f=$.bH;
var A={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},P=i.b,F=x.M.indexOf(P);
if(!1){}else if(C=="visible"){if(P.gF()!=m)L.data={d:cc.at,a:F}}else if(C=="opacity"){L.data={d:cc.kM,a:F,yu:Math.round(255*m/100)}}else if(C=="fillOpacity"){L.data={d:cc.uk,a:F,yu:Math.round(255*m/100)}}else if(C=="blendMode"){L.data={d:cc.sE,a:F,yu:aw.Az.indexOf(m)}}else if(C=="name"){L.data={d:cc.DL,a:F,name:m}}else if(A[C]!=null){L.data={d:cc.g$,a:F,yu:[[m],[A[C]]]}}else if(C=="kind"){L.data={d:cc.a0,a:F,JP:fL.tQ.j0[m]}}else if(C=="grouped"){L.data={d:cc.nu,a:F,yu:m}}else console.log(i,C,m)}else if(i.O=="TextItem"){L.f=$.ck;
var P=i.b,n=P.add.TySh,R=JSON.parse(JSON.stringify(n.Wg)),Q=n.i.clone(),s=n.i.je(),j=e7.lD(R),_=e7.IF(R,0,j.length-2),B=!1;
if(!1){}else if(C=="contents"){e7.FH(R,0,j.length-1);e7.cQ(R,0,m.replace(/\r/g,"\n"))}else if(C=="size"){_.hU.FontSize=(m.b!=null?m.b:m)/s;
B=!0}else if(C=="leading"){_.hU.Leading=(m.b!=null?m.b:m)/s;B=!0}else if(C=="tracking"){_.hU.Tracking=m.b!=null?m.b:m;
B=!0}else if(C=="baselineShift"){_.hU.BaselineShift=m.b!=null?m.b:m;B=!0}else if(C=="fauxBold"){_.hU.FauxBold=m;
B=!0}else if(C=="fauxItalic"){_.hU.FauxItalic=m;B=!0}else if(C=="kind"){var N=e7.c$(R);if(N==1&&m==1){var a=new bY(R,e.Zk.FV).t7[0],O=a.DC[0].end,H=a.Qz[O-1].end;
e7.FH(R,0,j.length-1);e7.cQ(R,0,j.slice(0,H-1))}if(N==m)e7.k8(R,1-m)}else if(C=="useAutoLeading"){_.t7.AutoLeading=m;
B=!0}else if(C=="hyphenation"){_.t7.AutoHyphenate=m;B=!0}else if(C=="justification"){_.t7.Justification=m;
B=!0}else if(C=="font"){e7.Ca(_,m);B=!0}else if(C=="color"){_.hU.FillColor.Values=m.b.slice(0);B=!0}else if(C=="width"||C=="height"){var q=e7.py(R).slice(0),h=fL.tQ.avE(m);
if(C=="width")q[2]=Math.round(q[0]+h/s);else q[3]=Math.round(q[1]+h/s);e7.N2(R,q)}else if(C=="position"){Q.W_=m[0];
Q.Rj=m[1]}else if(C=="horizontalScale"||C=="verticalScale"){var D=C[0].toUpperCase()+C.slice(1);_.hU[D]=m/100;
B=!0}else if(C=="antiAliasMethod")e7.jc(n,m);else console.log(i,C,m);if(B)e7.Bl(R,0,j.length-1,_);L.data={d:"newED",HV:x.M.indexOf(P),Ok:R,i:Q}}else if(i.O=="Preferences"){if(!1){}else if(C=="rulerUnits"){var T=JSON.parse(JSON.stringify(S.Cv));
T.d5=m;l.data={d:v.B.Mc,N5:dm.Yb,yu:T};e.T(l)}else console.log(i,C,m)}else if(i.O=="SolidColor"){if(C=="rgb")i.b=m.b;
else throw C}else if(i.O=="RGBColor"){if(!1){}else if(C=="red")i.b[1]=m/255;else if(C=="green")i.b[2]=m/255;
else if(C=="blue")i.b[3]=m/255;else if(C=="hexValue"){var p=I.az5(m.slice(1));i.b[1]=(p>>>16&255)/255;
i.b[2]=(p>>>8&255)/255;i.b[3]=(p>>>0&255)/255}else console.log(i,C)}else if(i.O=="ExportOptionsSaveForWeb"){if(C=="format")i.b.Kp=m;
else if(C=="PNG8"||C=="transparency"||C=="interlaced"){}else if(C=="quality")i.b.Vs=m;else throw C}else if(i.O=="PNGSaveOptions"||i.O=="JPEGSaveOptions"){if(C=="quality")i.b.Vs=Math.round(100*m/12)}else if(i.O=="PDFSaveOptions"){if(C=="preset")i.b.ayW=m}else if(i.O=="$"){if(C=="localize"){}}else console.log(i,C,m);
if(L.data!=null)e.T(L)};fL.tQ.XM=function(i,C,m,e,z){var L=i.O,l=null,x=new eX(v.E.v,!0),S=new eX(v.E.HW,!0),f=new eX(v.E.H,!0),X=e.M2(),o=e.dM;
if(!1){}else if(L=="Application"){if(!1){}else if(C=="charIDToTypeID"){var A=m[0].trim(),P={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return P[A]?P[A]:A}else if(C=="stringIDToTypeID"){var F=m[0].trim(),P={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},n=P[F];
return n==null?F:n}else if(C=="typeIDToStringID"){return m[0].trim()}else if(C=="executeAction"){var R;
if(m[1]){R=m[1].b.v;R.classID=m[0]}var Q={setd:"set"},s=Q[m[0]];if(s==null)s=m[0];var j=fp.fO[m[0]];
if(j&&fp.zB[j])s=fp.zB[j];S.data={o0:s,t6:R}}else if(C=="executeActionGet"){var _=m[0].b.v,l={};if(_.length==1){var B=l.classID=_[0].v.classID;
if(B=="Lyr"){var N=h3.Yk(X,_[0]),a=X.M[N],O=a.add.SoLd,H=a.add.SoCo;if(O)l.smartObjectMore={t:"Objc",v:{transform:O.nonAffineTransform}};
if(H)l.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(H))}]}}return{O:"ActionDescriptor",b:{t:"null",v:l}}}if(_.length==2){var B=l.classID=_[1].v.classID,F=_[0].v.keyID;
if(B=="Dcmn"){var q=X;if(F=="numberOfLayers")l[F]={t:"long",v:q.M.length};else throw F}else if(B=="Lyr"){var N=h3.Yk(X,_[1]),a=X.M[N],h=a.add.TySh;
if(F=="textKey"){if(h){var D=h.Wg.EngineDict.StyleRun.RunArray,T=h.Wg.ResourceDict.FontSet,p=[];for(var Y=0;
Y<D.length;Y++){var y=D[Y].StyleSheet.StyleSheetData,b=T[y.Font].Name,g=e.Zk.FV.he(b);if(g&&g.name.postScriptName!=b)g=null;
p.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:g!=null},fontPostScriptName:{t:"TEXT",v:b}}}}})}l[F]={t:F,v:{textStyleRange:{t:"obj ",v:p}}}}}else throw F}else if(B=="ASet"){var u=e.Zk.ai,t=l.classID=_[0].v.classID;
if(t=="Actn"){l.NmbC={t:"long",v:h3.rM(u,_[0].v.val,_[1].v.val).eo.length}}else throw t}else throw B;
return{O:"ActionDescriptor",b:{t:"null",v:l}}}}else if(C=="doAction"){f.data={d:v.B.bF,BR:[m[0],m[1]]}}else if(C=="bringToFront"){}else if(C=="open"){f.data={d:v.B.Df,N5:{url:m[0]}};
if(m[2]&&o.length!=0)f.data.N5.v2=o.indexOf(X)}else if(C=="echoToOE"){f.data={d:v.B.MD,N5:m[0]}}else if(C=="showWindow"){f.data={d:v.B.c6,pw:m[0]}}else if(C=="UnitValue"){return m[0]+" "+m[1]}else console.log(C)}else if(L=="LayerComp"){if(C=="apply"){x.f=$.IA;
x.data={d:"setLC",h6:X.Rk.list.v[i.b].v.compID.v}}else throw C}else if(L=="Document"){var X=i.b;if(!1){}else if(C=="crop"){S.data=$.lx.agL(m[0])}else if(C=="trim"){var V=[];
for(var Y=0;Y<4;Y++)V.push(m[Y+1]!=null?m[Y+1]:!0);S.data=$.lx.Jh(m[0]!=null?m[0]:0,V)}else if(C=="suspendHistory"){var c=acorn.parse(m[1]);
fL.eval(c,e,z)}else if(C=="save"){f.data={d:v.B.pt}}else if(C=="saveToOE"){f.data={d:v.B.pt,jJ:m}}else if(C=="rotateCanvas"){S.data=$.V.t$(!0,m[0])}else if(C=="resizeImage"||C=="resizeCanvas"){var E=m[0],Z=m[1];
if(typeof E!="number"){E=X.m*parseFloat(E.slice(0,E.length-1))/100;Z=X.J*parseFloat(Z.slice(0,Z.length-1))/100}if(C=="resizeCanvas")S.data=$.lx.aB7(Math.round(E),Math.round(Z),m[2]);
else S.data=$.lx.anv(Math.round(E),Math.round(Z),null,1)}else if(C=="paste"){f.data={d:v.B.nT,e0:m.length!=0&&m[0],PF:!0}}else if(C=="close"){f.data={d:v.B.P4,N7:X}}else if(C=="exportDocument"||C=="saveAs"){var G=z.__fs,J=C=="exportDocument"?m[2].b:m[1].b,K=m[0].b.replace(":","").replace("~/","");
if(!K.toLowerCase().endsWith("."+J.Kp))K+="."+J.Kp;var M=i$.Nn(X,J.Kp,null,null,J.Kp=="pdf"?null:[J.Vs],e.Zk);
G[K]=new Uint8Array(M)}else if(C=="flatten"){S.data={o0:"flattenImage"}}else if(C=="clearHistory"){x.f=$.Z9;
x.data={d:"h_clear",force:!0}}else console.log(i,C,m)}else if(L=="Layer"){var U=i.b,N=X.M.indexOf(U);
if(!1){}else if(C=="copy"){fL.tQ.sQ(X,e,0);f.data={d:v.B.kk,lk:m[0],vX:N,PF:!0};e.T(f);delete f.data;
fL.tQ.sQ(X,e,1)}else if(C=="clear"){fL.tQ.sQ(X,e,0);S.data={o0:"delete"};e.T(S);delete S.data;fL.tQ.sQ(X,e,1)}else if(C=="duplicate"){if(m.length==0){var r=X.g.slice(0);
x.data={d:cc.Ev,a:N};x.f=$.bH;e.T(x);x.data=null;l={O:"Layer",b:X.M[X.g[0]],N1:i.N1};X.g=r}else if(m[0].O=="Document"){x.data={d:cc.sz,M:X.gV(N),Ff:X,CH:m[0].b};
x.f=$.bH}if(x.data){e.T(x);x.data=null;return{O:"Layer",b:X.M[X.g[0]],N1:X}}}else if(C=="merge"||C=="remove"){x.data={d:C=="merge"?cc.x_:cc.$U,a:N};
x.f=$.bH;if(C!="remove")l={O:"Layer",b:X.M[X.g[0]],N1:i.N1}}else if(C=="move"){x.data={d:cc.dy,source:N,target:X.M.indexOf(m[0].b),$N:m[1]!=3?.6:.3};
x.f=$.bH}else if(C=="rasterize"){x.f=$.bH;x.data={d:cc.jG,a:N};e.T(x);x.data=null;i.b=X.M[N]}else if(C=="rotate"){x.data={d:"rot",jj:[2,5],b:-m[0]*Math.PI/180,h8:m[1],a:N};
x.f=$.yn}else if(C=="resize"){x.data={d:"scl",jj:[2,4],b:new b5(m[0]/100,m[1]/100),h8:m[2],a:N};x.f=$.yn}else if(C=="translate"){var dS=fL.tQ.xt(m);
x.data={d:"trsl",a:N,a2:dS[0],NA:dS[1]};x.f=$.z_}else if(C=="link"){x.data={d:cc.en,ap3:[N,X.M.indexOf(m[0].b)]};
x.f=$.bH}else if(C=="invert"){x.f=$.vR;x.data={d:"start",GT:"nvrt"}}else if(C=="desaturate"){S.data={o0:"desaturate"}}else if(C.startsWith("apply")&&ft.$O[C.slice(5)]||C.startsWith("adjust")&&ft.$O[C.slice(6)]){var w=C.startsWith("apply"),dS=fL.tQ.xt(m),di=ft.$O[C.slice(w?5:6)];
if(di=="Dspl"){for(var Y=0;Y<X.M.length;Y++)if(X.M[Y].getName()==dS[4]){dS[4]=X.M[Y].add.SoLd.Idnt.v;
break}}S.data={o0:w?ft.zB[di]:fp.zB[di]};var R=ft.TQ(di);if(R){X.g=[N];ft.L9["g"+di](R,dS);S.data.t6=R}}else if(C=="applyStyle"){var eM=e.Zk.Qb,y=null;
for(var Y=0;Y<eM.length;Y++)if(eM[Y].hg.Nm.v.split("/").pop()==m[0])y=eM[Y];if(y==null){alert("Style not found!");
return}x.f=$.$Z;x.data={d:"setstl",b:y.b2,a:N};e.T(x);x.data={d:"confirm",a:N}}else console.log(i,C,m)}else if(L=="Documents"){if(C=="getByName"){for(var Y=0;
Y<o.length;Y++)if(o[Y].name==m[0])return{O:"Document",b:o[Y]};return null}else if(C=="add"){if(m.length==0)m=[100,100,72,"New Project"];
var j5=m[5];if(j5==null)j5=1;S.data=ei.sf(m[0],m[1],m[2],m[3],["Wht","Trns","BckC"][j5],!1);e.T(S);S.data=null;
return{O:"Document",b:e.M2()}}else throw"e"}else if(L=="Layers"){if(C=="getByName"){for(var Y=0;Y<i.b.length;
Y++)if(i.b[Y].b.getName()==m[0]){l=i.b[Y];break}if(l==null)z.__throw={message:"No layer with a name "+m[0]}}else if(C=="add"){x.data={d:i.ae5=="layerSets"?cc.wf:cc.q3};
x.f=$.bH;e.T(x);x.data=null;l={O:"Layer",b:X.M[X.g[0]],N1:i.N1}}else console.log(i,C,m)}else if(i.O=="Selection"){if(C=="select"){var ds=m[0],ba=[];
for(var Y=0;Y<ds.length;Y++)ba.push(ds[Y][0],ds[Y][1]);S.data=$.Z3._V(fL.tQ.xt(ba))}else if(C=="clear"){S.data={o0:"delete"}}else if(C=="selectAll"){S.data=$.Z3.BT(!0)}else if(C=="invert"){S.data={o0:"inverse"}}else if(C=="copy"){f.data={d:v.B.kk}}else if(C=="deselect"){S.data=$.Z3.BT()}else if(C=="fill"){var gH=m[0].b;
gH=I.I.$q({Z:gH[1]*255,r:gH[2]*255,e:gH[3]*255});S.data=$.N9.WA("Clr",m[1],m[2]==null?1:m[2]/100,gH)}else if(C=="grow"||C=="similar"){var R={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(m[0]!=null)R.Tlrn={t:"long",v:m[0]};S.data={o0:C,t6:R}}else if(C=="expand"||C=="contract"||C=="feather"){S.data=$.Z3.th(C,m[0],!0)}else if(C=="translate"){var R={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:m[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:m[1]}}}}};
S.data={o0:"move",t6:R}}else if(C=="smooth"){S.data=$.Z3.th("smoothness",m[0],!1)}else if(C=="stroke"){var y=JSON.parse(jt.qx[1]),ir=y.Clr.v,gH=m[0].b;
ir.Rd.v=gH[1]*255;ir.Grn.v=gH[2]*255;ir.Bl.v=gH[3]*255;y.Sz.v.val=m[1];y.Styl.v.FStl=jt.stroke.types[m[2]];
console.log(y,m);x.f=$.sc;x.data={d:"stroke",aoE:y}}else console.log(i,C,m)}else if(i.O=="Window"){if(C=="show"){f.data={d:v.B.c6,pw:i.b}}else throw"e"}else if(i.O=="ActionReference"){if(C=="putProperty"){i.b.v.push({t:"prop",v:{classID:m[0],keyID:m[1]}})}else if(C=="putClass"){i.b.v.push({t:"Clss",v:{classID:m[0]}})}else if(C=="putEnumerated"){i.b.v.push({t:"Enmr",v:{classID:m[0],typeID:m[1],enum:m[2]}})}else if(C=="putName"){i.b.v.push({t:"name",v:{classID:m[0],val:m[1]}})}else if(C=="putIndex"){i.b.v.push({t:"indx",v:{classID:m[0],val:m[1]}})}else console.log(C,m)}else if(i.O=="ActionDescriptor"||i.O=="ActionList"){var iP=i.O=="ActionList";
if(C.startsWith("put")){var iy=iP?m:m.slice(1),n=null;if(C=="putReference"){n=iy[0].b}else if(C=="putObject"){n=iy[1].b;
n.v.classID=iy[0]}else if(C=="putList"){n=iy[0].b}else if(C=="putDouble"){n={t:"doub",v:iy[0]}}else if(C=="putUnitDouble"){n={t:"UntF",v:{type:iy[0],val:iy[1]}}}else if(C=="putBoolean"){n={t:"bool",v:iy[0]}}else if(C=="putInteger"){n={t:"long",v:iy[0]}}else if(C=="putString"){n={t:"TEXT",v:iy[0]}}else if(C=="putClass"){n={t:"type",v:{classID:iy[0]}}}else if(C=="putEnumerated"){var iG=m[0].split("+");
if(iG.length==2&&m[1]==null){m[0]=iG[0];m[1]=iy[0]=iG[1]}var eg={};eg[iy[0]]=iy[1];n={t:"enum",v:eg}}else throw C;
if(iP)i.b.v.push(n);else i.b.v[m[0]]=n}else if(C=="hasKey"){return i.b.v[m[0]]!=null}else if(C=="getEnumerationValue"){if(m[0]=="layerSection")l="layerSectionContent";
else console.log(m)}else if(C=="getBoolean"){l=i.b.v[m[0]].v}else if(C=="getString"){l=i.b.v[m[0]].v}else if(C=="getObjectValue"){var l=i.b.v[m[0]];
return{O:"ActionDescriptor",b:l}}else if(C=="getList"){var l=i.b.v[m[0]];return{O:"ActionList",b:l}}else if(C=="getInteger"||C=="getDouble"){return i.b.v[m[0]].v}else console.log(C,m)}else if(i.O=="$"){if(C=="writeln"){console.log(m[0])}else throw C}else if(i.O=="UI"){if(C=="scroll"||C=="scrollTo"){var du=m[0],gh=m[1],ga=X.q.U;
if(C=="scrollTo"){du=(-X.m/2+du)*ga+X.q.F.x;gh=(-X.J/2+gh)*ga+X.q.F.y}x.f=$.dq;x.data={d:"scroll",Ml:new b5(Math.round(du),Math.round(gh))}}else{var d5;
if(C=="zoomIn"||C=="zoomOut"){d5={d:"zoom",u7:C=="zoomIn"}}else if(C=="fitTheArea"){d5={d:"adapt",b:"fitscr"}}else if(C=="pixelToPixel"){d5={d:"adapt",b:"pixel"}}x.f=$.BM;
x.data=d5;if(C=="switchFullscreen"){var fu=e.Zk.N4,c7=document.fullscreenElement!=null==(fu==2);f.data={d:v.B.za,b:fu==0?2:0,rE:c7}}}}else if(i.O=="ColorSamplers"){if(C=="removeAll")X.cU=[];
else if(C=="add"){var eE={x:m[0][0],y:m[0][1]};X.cU.push(eE);var l={O:"ColorSampler",b:eE}}}else if(i.O=="ColorSampler"){if(C=="move"){var jn=X.cU.indexOf(i.b);
eE=X.cU[jn];eE.x=m[0][0];eE.y=m[0][1]}else if(C=="remove"){var jn=X.cU.indexOf(i.b);X.cU.splice(jn,1)}}else if(i.O=="Folder"){if(C=="selectDialog")l="img";
else throw C}else if(i.O=="File"){if(C=="openDialog")alert("A website can not show the Open dialog from a script");
else throw C}else console.log(i,C,m);if(x.data)e.T(x);if(S.data)e.T(S);if(f.data)e.T(f);return l};fL.tQ.sQ=function(i,C,m){var e=new eX(v.E.v,!0);
e.f=$.iH;var z=new eX(v.E.HW,!0);if(m==0){fL.tQ.agw=i.u;z.data=$.Z3.BT(!0)}else{var L=fL.tQ.agw;if(L)e.data={d:"setsel",jj:"Restore Selection",u:{rect:L.rect.clone(),channel:L.channel.slice(0)}};
else z.data=$.Z3.BT()}C.T(e.data?e:z)};fL.tQ.agw=null;fL.tQ.kN={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
fL.tQ.kN.ColorBlendMode=fL.tQ.kN.BlendMode;fL.tQ.j0="---- SoLd TySh SoCo GdFl PtFl".split(" ");function kB(){}kB.VE={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
kB.A0={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
kB.alb=function(i,C){if(C==null)C={};var m=kB.A0,e=[],z=[],L="";for(var Y=0;Y<i.length;Y++){var l=i[Y],x=m[l[0]+""];
if(x&&C[x]==null)C[x]=l[1];else if(l[0]==12)z.push(l[1]);else if(l[0]==25)e.push(l[1]);else if(l[0]==55)L=l[1];
else if(l[0]==60)L+=";"+l[1]}if(L!=""&&C["exif:DateTimeOriginal"]==null)C["exif:DateTimeOriginal"]=L;
if(z.length!=0&&C["Iptc4xmpCore:SubjectCode"]==null)C["Iptc4xmpCore:SubjectCode"]=z.join(";");if(e.length!=0&&C["dc:Keywords"]==null)C["dc:Keywords"]=e.join(";");
return C};kB.aA3=function(i){var C=kB.A0,m=[];for(var e in C)if(i[C[e]])m.push([parseInt(e),i[C[e]]]);
if(i["Iptc4xmpCore:SubjectCode"]){var z=i["Iptc4xmpCore:SubjectCode"].split(";");for(var Y=0;Y<z.length;
Y++)m.push([12,z[Y].trim()])}if(i["dc:Keywords"]){var z=i["dc:Keywords"].split(";");for(var Y=0;Y<z.length;
Y++)m.push([25,z[Y].trim()])}m.sort(function(L,l){return L[0]-l[0]});return m};kB.ht=function(i,C){if(C==null)C={};
var m=new DOMParser,e=m.parseFromString(i,"image/svg+xml"),z=e.getElementsByTagName("rdf:Description")[0];
if(z==null)return C;var L=kB.VE;for(var l in L){var x=L[l][2];if(x==null)continue;var S=z.getElementsByTagName(x)[0];
if(S==null)continue;var k=S.getElementsByTagName("rdf:li"),f=[];for(var Y=0;Y<k.length;Y++)f.push(k[Y].textContent);
C[l]=f.join("; ")}return C};kB.P_=function(i){var C=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],m=kB.VE;
for(var e in m){var z=i[e],L=m[e][2],l="Seq",x="";if(z==null||L==null)continue;if(L=="dc:title"||L=="dc:description"){l="Alt";
x=" xml:lang=\"x-default\""}if(L=="dc:subject")l="Bag";C.push("\t<"+L+"><rdf:"+l+">");var S=L=="dc:subject"?z.split(";").join(",").split(","):[z];
for(var Y=0;Y<S.length;Y++)C.push("\t\t<rdf:li"+x+">"+S[Y].trim()+"</rdf:li>");C.push("\t</rdf:"+l+"></"+L+">")}C.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return C.join("\n")};kB.a36=function(i){var C=[];for(var Y=0;Y<i.length;Y++)C[Y]=i[Y][1]==0?0:i[Y][0]/i[Y][1];
return C};kB.aqH=function(i){var C=[];for(var Y=0;Y<i.length;Y++){var m=i[Y],e=1;if(m!=Math.round(m)){e=1e3;
m=Math.round(m*e)}C[Y]=[m,e]}return C};kB.Ti=function(i,C){var m=kB.VE;if(C==null)C={};for(var e in m){var z=m[e][1],L="t"+z;
if(z!=null&&i[L]!=null){var l=i[L];if(z==0)l=l.join(".");else if(z==2||z==4){var x=i["t"+(z-1)];if(x==null)x=[z==2?"N":"E"];
l=kB.a36(l).join(",")+x[0]}else if(z==42034)l=kB.a36(l).join(" ");else if(z==270||z==315){var S=l[0],k=new Uint8Array(S.length);
W.AW(k,0,S);l=W.U8(k)}else l=l[0];C[e]=l}}if(i.exifIFD)kB.Ti(i.exifIFD,C);if(i.gpsiIFD)kB.Ti(i.gpsiIFD,C);
return C};kB.Li=function(i,C,m){var e=kB.VE,L=0,x=0;if(C==null)C={};var z={},l={};for(var S in e){if(i[S]==null||e[S][1]==null)continue;
var k=e[S][1],f="t"+k,X=C;if(S.startsWith("exif:")){X=z;L++;if(S.startsWith("exif:GPS")){X=l;x++}}var o=i[S];
if(k==0)o=new Uint8Array(o.split(".").map(parseFloat));else if(k==2||k==4){var A=o.length;X["t"+(k-1)]=[o.slice(o.length-1)];
o=kB.aqH(o.split(",").map(parseFloat))}else if(k==42034)o=kB.aqH(o.split(" ").map(parseFloat));else if(k==270||k==315){var P=W.x5(o);
o=[W.Sq(P,0,P.length)]}else o=[o];X[f]=o}if(L!=0){C.exifIFD=z;C.t34665=[0]}if(x!=0){C.gpsiIFD=l;C.t34853=[0]}var F=new Date,n=[F.getFullYear(),F.getMonth()+1,F.getDate(),F.getHours(),F.getMinutes(),F.getSeconds()];
for(var Y=0;Y<6;Y++)n[Y]=(n[Y]+"").padStart(2,"0");C.t305=["Photopea Editor (www.photopea.com)"];if(m!=!0)C.t306=[n[0]+":"+n[1]+":"+n[2]+" "+n[3]+":"+n[4]+":"+n[5]];
return C};function ak(){}ak.uU=function(i){var C={ary:",",oQ:"\r\n",xS:"\""},m=[[""]],e,z,L,l,x;for(e=z=L=l=0;
L<i.length;L++){switch(x=i.charAt(L)){case C.xS:if(l&&i.charAt(L+1)==C.xS){m[e][z]+=C.xS;++L}else{l^=1}break;
case C.ary:if(!l){m[e][++z]=""}else{m[e][z]+=x}break;case C.oQ.charAt(0):if(!l&&(!C.oQ.charAt(1)||C.oQ.charAt(1)&&C.oQ.charAt(1)==i.charAt(L+1))){m[++e]=[""];
m[e][z=0]="";if(C.oQ.charAt(1)){++L}}else{m[e][z]+=x}break;default:m[e][z]+=x}}if(m[m.length-1].length<m[0].length)m.pop();
return m};var d={};d.a2W=0;d.C$=function(){d.a2W++;return d.a2W};d.a4s="uint8";d.RC=function(i){i.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
i.n.style.opacity="1";i.n.style.transform="scale(1)"};d.l8=function(i,C){i.n.style.opacity="0";i.n.style.transform="scale(0.95)";
if(C)setTimeout(function(){C.removeChild(i.n)},100)};d.alf=function(){var i=d.BA();if(i=="")return 0;
if(i!=d.wq("_TXZRPB;d7@;")){var C=d.aJ[ch.UR][ch.Yg],m=C.indexOf(String.fromCharCode(35)),e;if(m==-1)return 0;
try{e=JSON.parse(d.aJ[ch.a8m](C.slice(m+1)))}catch(a8){return 0}var z=e[d.wq("bQ[ODL<E<M")];if(z==null||z.length<<2!=64)return 0;
var L=ch.Jb(),l=parseInt(z.slice(3*4).split("").reverse().join(""),16)<<16;if(l<L||z!=ch.a26(l,i))return 0;
return 2}return 1};d.BA=function(){var i=d.aJ[d.cF("}$z{2*35")][d.wq("W[\\ZQAJ?")],C=String.fromCharCode(46),m=i.split(C);
if(m.length<2)return"";var e=m.pop();e=m.pop()+C+e;return e};d.mA=function(){return d.BA()==ch.wq("_TXZRPB;d7@;")||d.BA()==ch.wq("~yy")};
d.ajv=function(){if(d.aJ[ch.acj][ch.ait]){var i=new d.aJ[ch.by];i[ch.XX](ch.atV,d.wq("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+d.BA());
i[ch.xM]()}};d.Il=function(){if(window.top!=window.self)return!1;var i=navigator.userAgent.toLowerCase();
if(i.indexOf("safari")!=-1&&i.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};d.rC=function(i){this.oU=i;
this.WX=d.t("img");this.aU=d.t("canvas");this.rc=null;this.Ey="";this.pi=null;this.cr=new b5(0,0);this.tK=!0;
d.AX(this.oU,this.jR.bind(this))};d.rC.prototype.bw=function(i,C){this.rc=i;if(C)this.Ey=C;this.jR()};
d.rC.prototype.wo=function(i){this.tK=i;this.jR()};d.rC.prototype.jR=function(i){if(i)this.cr=d.CV(i,this.oU);
var C=this.tK?this.rc:"auto",m=typeof C=="string";if(!m){var e=d.XP(),z=this.cr,L=C.TD.m,l=C.TD.J,x=typeof C.FY=="string",S=x?this.WX:this.aU;
if(x)S.setAttribute("src",C.FY);else{S.width=L;S.height=l;var k=S.getContext("2d"),f=new ImageData(new Uint8ClampedArray(C.FY.buffer),L,l);
k.putImageData(f,0,0)}S.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(z.y-C.YG.y/e)+"px; left:"+(z.x-C.YG.x/e)+"px; width:"+L/e+"px; height:"+l/e+"px");
var X=this.pi;if(X==null||X!=S){if(X)this.oU.removeChild(X);this.oU.appendChild(S);this.pi=S}}else if(this.pi){this.oU.removeChild(this.pi);
this.pi=null}this.oU.setAttribute("style","cursor:"+(m?C:"none")+"; "+this.Ey)};d._N=function(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
d.Nr=function(i,C){i._H(bC.get([12,41]).charAt(0)+":");C._H(bC.get([12,42]).charAt(0)+":")};d.t=function(i,C){var m=document.createElement(i);
if(C!=null)m.className=C;return m};d._l=function(i){while(i.firstChild)i.removeChild(i.firstChild)};
d.uc=function(i,C){var m=i.className;m=m.split(" ");if(m.indexOf(C)==-1)m.push(C);i.className=m.join(" ")};
d.nP=function(i,C){var m=i.className;if(m=="")return;m=m.split(" ");if(m.indexOf(C)!=-1)m.splice(m.indexOf(C),1);
i.className=m.join(" ")};d.bv=function(i){while(!0){if(i==document)return!0;if(i==null)return!1;i=i.parentNode}};
d._Z=function(i){i.appendChild(d.t("br"))};d.PG=function(i){i.appendChild(d.t("hr"))};d.KN=function(i,C,m){var e=new c1([1,12,1],m==null?!0:m,null,!0);
if(i)e.k("click",i.f5,i);if(C)C.appendChild(e.n);return e};d.aJ=document;d.ox=function(i){var C=0;for(var Y=0;
Y<i;Y++)C+=Math.random();return C/i<Math.PI/4};d.wq=function(i){var C="";if(!d.ox(28))i+="-3";for(var Y=0;
Y<i.length;Y++){var m=i.charCodeAt(Y);if(m<32||126<m)throw"e";C+=String.fromCharCode(32+(m-32+17+3*Y)%95)}return C};
d.cF=function(i){var C="";if(!d.ox(28))i+="-1";for(var Y=0;Y<i.length;Y++){var m=i.charCodeAt(Y);m-=32;
m+=95e4;m-=17+3*Y;m=m%95;C+=String.fromCharCode(32+m)}return C};d.Wb=function(i){var C=Math.random();
d.a4s="uint"+(3+C);return new i};(function(){var i=window.PointerEvent,C=i?"pointer":"mouse",m=C+"down",e=C+"move",z=C+"up",L=!1;
d.h_=function(l,x){l.addEventListener(m,x,L);if(!i)l.addEventListener("touchstart",x,L)};d.AX=function(l,x){l.addEventListener(e,x,L);
if(!i)l.addEventListener("touchmove",x,L)};d.xd=function(l,x){l.addEventListener(z,x,L);if(!i)l.addEventListener("touchend",x,L)};
d.arQ=function(l,x){l.removeEventListener(m,x,L);if(!i)l.removeEventListener("touchstart",x,L)};d.nz=function(l,x){l.removeEventListener(e,x,L);
if(!i)l.removeEventListener("touchmove",x,L)};d.uh=function(l,x){l.removeEventListener(z,x,L);if(!i)l.removeEventListener("touchend",x,L)}}());
d.o$=function(i){i.addEventListener("touchstart",d.O5,!1);i.addEventListener("touchmove",d.O5,!1);i.addEventListener("touchend",d.O5,!1);
i.addEventListener("gesturestart",d.O5,!1);i.addEventListener("gesturechange",d.O5,!1);i.addEventListener("gestureend",d.O5,!1)};
d.ao$=function(i){var C=i.sourceCapabilities;if(C)return C.firesTouchEvents;return!1};d.Ay=function(i,C,m,e){var z=d.XP();
i.width=Math.floor(C*z);i.height=Math.floor(m*z);if(e)e.scale(z,z);d.$L(i)};d.$L=function(i){var C=d.XP();
i.style.width=i.width/C+"px";i.style.height=i.height/C+"px"};d.n9=function(i,C,m){i.setAttribute("style","width:"+C/d.XP()+"px; height:"+m/d.XP()+"px")};
d.CV=function(i,C){if(C==null)C=i.currentTarget;var m=C.getBoundingClientRect();if(i.touches)i=i.touches.item(0);
return{x:i.clientX-m.left,y:i.clientY-m.top}};d.XP=function(){return window.devicePixelRatio||1};d.xq=function(i){i.addEventListener("keydown",d.atO,!1)};
d.atO=function(i){i.stopPropagation()};d.O5=function(i){i.preventDefault()};d.Vw=function(i){i.stopPropagation();
i.preventDefault()};d.W3=function(i,C,m){m=m?m:"";if(PIMG["__"+i]==null)m+=" gsicon";return"<img src=\""+PIMG[i]+"\" alt=\""+(C?C:"")+"\" class=\""+m+"\" />"};
d.SS=function(i,C,m,e){var z=i.dataTransfer.getData("text/uri-list");if(z!=null&&z.startsWith("http")){var L=new eX(v.E.H,!0);
L.data={d:v.B.Df,N5:{url:z,oH:!0,v2:m,VR:e}};C.T(L)}if(i.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var l=[],x=i.dataTransfer.items.length,S=i.dataTransfer.files;
for(var f of i.dataTransfer.items)f.getAsFileSystemHandle().then(function(X){l.push(X);if(l.length==x){var L=new eX(v.E.H,!0);
L.data={d:v.B.I1,data:S,v2:m,VR:e,aqq:l};C.T(L)}})}else{var L=new eX(v.E.H,!0);L.data={d:v.B.I1,data:i.dataTransfer.files,v2:m,VR:e};
C.T(L)}};if(d.ox(27))d.aJ=window;else d.aJ=d.abM;d.aJ._cwY=d.aJ[d.cF("t$&!'31")];var fn={};fn.a61=function(Y){var i=fn.st[Y],C=document.documentElement.style,e=1;
C.setProperty("--base","#"+I.dP(i["--base"]));C.setProperty("--bg-panel","#"+I.dP(i["--bg-panel"]));
C.setProperty("--bg-canvas","#"+I.dP(i["--bg-canvas"]));C.setProperty("--bg-input","#"+I.dP(i["--bg-input"]));
C.setProperty("--bg-bbtn","#"+I.dP(i["--bg-bbtn"]));C.setProperty("--bg-bbtnOver","#"+I.dP(i["--bg-bbtnOver"]));
C.setProperty("--brdr","#"+I.dP(i["--brdr"]));C.setProperty("--text-color","#"+I.dP(i["--text-color"]));
C.setProperty("--brdrLgt","rgba(255,255,255,"+i["--brdrLgt"]+")");C.setProperty("--brdrDrk","rgba(  0,  0,  0,"+i["--brdrDrk"]+")");
C.setProperty("--alphaDark",""+i["--alphaDark"]);C.setProperty("--gs-invert",""+i["--gs-invert"]);C.setProperty("--accent","#"+I.dP(i["--accent"]));
var m=i["--sh-clr"];C.setProperty("--sh-clr","rgba("+(m>>16)+","+(m>>8&255)+","+(m&255)+", 0.45)");C.setProperty("--absc",""+i["--absc"]);
C.setProperty("--abs255",""+i["--abs255"]);if(1<d.XP()&&d.XP()<1.5)e=1/d.XP();C.setProperty("--img20",20*e+"px");
C.setProperty("--img18",18*e+"px");C.setProperty("--img15",15*e+"px");if(PIMG!=null){var z="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Y=0;Y<z.length;Y++){var L=z[Y],l=L.split("/").pop(),x=PIMG["__"+L]==null?i["--gs-invert"]:"0";
C.setProperty("--icon_"+l,"url("+PIMG[L]+")");C.setProperty("--icon_"+l+"_invrt",x)}}var S=document.querySelector("meta[name=theme-color]");
if(S)S.setAttribute("content","#"+I.dP(i["--base"]))};(function(){var i=3441398,C=3441398;fn.st=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":C},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":i},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":i},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":i},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":i},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":i},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":C}]}());
function cF(){this.Hk={};this.d0={}}cF.prototype.aoC=function(i){var C=this.Hk[i];if(C==null)return!1;
return C.length>0};cF.prototype.addEventListener=function(i,C){this.k(i,C,null)};cF.prototype.k=function(i,C,m){if(this.Hk[i]==null){this.Hk[i]=[];
this.d0[i]=[]}this.Hk[i].push(C);this.d0[i].push(m)};cF.prototype.removeEventListener=function(i,C){var m=this.Hk[i];
if(m==null)return;var e=m.indexOf(C);if(e<0)return;var z=this.d0[i];m.splice(e,1);z.splice(e,1)};cF.prototype.T=function(i){i.currentTarget=this;
if(i.target==null)i.target=this;var C=this.Hk[i.type];if(C==null)return;var m=this.d0[i.type];for(var Y=0;
Y<C.length;Y++){if(m[Y]==null)C[Y](i);else C[Y].call(m[Y],i)}};var eX=function(i,C){if(!C)C=!1;this.type=i;
this.target=null;this.currentTarget=null;this.bubbles=C;this.f=null;this.W0=!1},v={E:{v:"0",H:"1",HW:"1.5",p:"2",ek:"3",a0q:"4"},B:{a7:"10",vs:"11",E_:"12",ze:"13",TF:"14",a1h:"14.1",Df:"15",mp:"16",Bm:"17",KU:"18",pt:"19",asO:"19.5",arD:"20",acs:"20.1",asw:"20.5",a6L:"20.6",wb:"21",kk:"22",nT:"23",CZ:"24",c6:"25",SQ:"26",D7:"27",Tm:"28",a7K:"28.5",auY:"29",I1:"30",n$:"31",l6:"32",GQ:"33",Yo:"34",Mc:"35",aqs:"35.5",Z8:"37",aua:"38",dB:"39",k6:"40",_i:"41",MD:"41.5",k3:"42",ss:"43",ayE:"43.5",P4:"44",a1R:"45",W6:"46",hf:"47",tJ:"48",bF:"49",ak1:"50",za:"51"}};
function k5(){cF.call(this);this.parent=null;this.n=null;this.HG=0;this.bB=0;this.afq=!1}k5.prototype=new cF;
k5.prototype.amU=function(i){var k7=this;while(k7!=null){if(k7==i)return!0;k7=k7.parent}return!1};k5.prototype.H3=function(){var i=this.n;
return i.offsetWidth+i.clientLeft};k5.prototype.arp=function(){var i=this.n;return i.offsetHeight+i.clientTop};
k5.prototype.update=function(i){};k5.prototype.T=function(i){cF.prototype.T.call(this,i);if(i.bubbles&&this.parent!=null)this.parent.T(i)};
k5.prototype._=function(){};k5.prototype.Oh=function(i,C){};k5.prototype.hH=function(i){d.uc(this.n,"disabled")};
k5.prototype.WN=function(i){d.nP(this.n,"disabled")};k5.prototype.wo=function(i){if(i)this.WN();else this.hH()};
k5.prototype.AF=function(){this.afq=!0};k5.prototype.e3=function(){var i=this.fU,C=this.afq,m=this.Mo;
if(i){i=bC.get(this.fU);if(!C)i+=":";m.textContent=i;if(C){m.style.display="block";m.style.lineHeight="1.6em";
m.style.marginLeft="3px";d.nP(m,"flabel")}}if(C){this.Kj.style.fontSize="1.15em"}};function dh(i){k5.call(this);
this.xZ=[];this.Nm=!1;this.afJ=0;this.Xn={x:0,y:0,$G:!1};this.Qe=i;this.au2=this.MU.bind(this);this.rh=this.bz.bind(this);
this.acg=this.f9.bind(this);d.h_(i,this.au2);d.AX(i,this.rh);i.addEventListener("wheel",this.Ae.bind(this),!1);
i.addEventListener("contextmenu",this.a10.bind(this),!1);var C=this.av7.bind(this);i.addEventListener("gesturestart",C,!1);
i.addEventListener("gesturechange",C,!1);i.addEventListener("gestureend",C,!1);d.o$(i)}dh.prototype=new k5;
dh.prototype.av7=function(i){if(i.type=="gesturestart")this.Ew=i.scale;if(i.type=="gesturechange"){var C=new eX("mouse",!0);
C.action="scroll";C.Yu=!0;this.Ic(i,C);var m=(this.Ew-i.scale)/this.Ew;C.Ml=new b5(0,100*m);this.Ew=i.scale;
this.T(C)}};dh.prototype.pU=function(i){var C=-1,m=this.xZ;for(var Y=0;Y<m.length;Y++)if(m[Y].pointerId==i.pointerId)C=Y;
return C};dh.wp=function(i){var C=i.pointerType,m=window.__kb;return C=="touch"&&m.S(jD.atW)};dh.ao6=function(i){var C=i.button!=null&&i.button!=0?i.which==2?"i":"r":"";
if(jD.Wa()&&i.ctrlKey)C="r";return C};dh.prototype.MU=function(i){if(dh.wp(i))return;var C=this.pU(i);
if(C!=-1)this.xZ[C]=i;else this.xZ.push(i);if(this.xZ.length==1){this.afJ=Date.now();var m=dh.ao6(i)+"down",e=new eX("mouse",!0);
e.action=m;this.Ic(i,e);this.T(e);d.nz(this.Qe,this.rh);d.AX(window,this.rh);d.xd(window,this.acg)}if(this.xZ.length==2){if(Date.now()-this.afJ<100){var e=new eX("mouse",!0);
e.action="cancellast";this.Ic(i,e);this.T(e)}this.Nm=!0}if(this.xZ.length==2)this.aeX("multidown")};
dh.prototype.bz=function(i){if(dh.wp(i))return;var C=this.pU(i);if(C!=-1)this.xZ[C]=i;if(this.xZ.length>1){this.aeX("multimove")}if(this.Nm)return;
if(this.xZ.length==1&&C==-1)return;var m=new eX("mouse",!0);m.action="move";this.Ic(i,m);this.T(m)};
dh.prototype.f9=function(i){if(dh.wp(i))return;var C=this.xZ;C=this.xZ=[];if(C.length==0){var m=dh.ao6(i)+"up",e=new eX("mouse",!0);
e.action=m;this.Ic(i,e);this.T(e);d.nz(window,this.rh);d.uh(window,this.acg);d.AX(this.Qe,this.rh);this.Nm=!1}};
dh.prototype.Ae=function(i){i.preventDefault();if(i.deltaX==0&&i.deltaY==0)return;var C=new eX("mouse",!0);
C.action="scroll";C.Yu=i.ctrlKey;this.Ic(i,C);this.T(C)};dh.prototype.a10=function(i){d.Vw(i);if(d.ao$(i)){var C=new eX("mouse",!0);
this.Ic(i,C);C.action="rdown";this.T(C);C.action="rup";this.T(C)}};dh.prototype.aeX=function(i){var C=this.xZ,m=d.XP(),e=[];
for(var Y=0;Y<C.length;Y++){var z=e[Y]=d.CV(C[Y],this.Qe);z.x*=m;z.y*=m}var L=new eX("mouse",!0);L.action=i;
L.Mq=e;if(C.length==2)this.T(L)};dh.prototype.Ic=function(i,C,m){var e=this.xZ.length!=0;if(C.action!="up"){var z=d.XP();
if(m==null)m=d.CV(i,this.Qe);this.Xn=C.fd={x:z*m.x,y:z*m.y,$G:e};var L=d.CV(i,document.body);C.fd.Xy=L.x;
C.fd.UE=L.y}else this.Xn=C.fd={x:this.Xn.x,y:this.Xn.y,$G:e};C.fd.s6=.5;if(i.pressure!=null)C.fd.s6=i.pressure;
if(i.pointerType=="mouse")C.fd.s6*=2;C.fd.a4w=i.pointerType;if(i.deltaX!=null){var l=i.deltaMode==0?1:40;
C.Ml=new b5(i.deltaX*l,i.deltaY*l)}};function gw(i,C,m){k5.call(this);this.Xg=null;this.avb=this.f9.bind(this);
this.aiz=this.qz.bind(this);this.akk=this.ai$.bind(this);this.ael=this.ahr.bind(this);this.yT=[];this.JM=[];
this.fw=[];this.afo=[];this.aoR=m;this.n=d.t("div","contextpanel "+(m?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",d.O5,!1);
this.bm=null;this.C3=0;this.Af=i;this.QP=C;this.Pn=[];for(var Y=0;Y<i.length;Y++){var e=d.t("div","enab");
this.JM.push(e);this.n.appendChild(e);var z=i[Y].Ch;if(z){if(z.startsWith("#")){var L=d.t("span");L.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+z);
e.appendChild(L)}else e.innerHTML=d.W3(i[Y].Ch,null,"thumb")}else{var l=d.t("span","check");this.afo.push(l);
e.appendChild(l)}var x=d.t("span","label");x.textContent=bC.get(i[Y].name);e.appendChild(x);this.fw.push(x);
if(i[Y].mL)this.n.appendChild(d.t("hr"));if(i[Y].Xt||i[Y].sub){var S=e.Wl=d.t("span","right");e.appendChild(S);
if(i[Y].Xt)S.textContent=jD.NU(i[Y].Xt);else if(i[Y].sub)S.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}e.addEventListener(m?"mouseup":"click",this.avb,!1);
e.addEventListener("mouseover",this.aiz,!0);e.addEventListener("mouseout",this.akk,!0);if(i[Y].sub){var k=new gw(i[Y].sub,C?C[Y].sub:null);
k.parent=this;this.Pn.push(k);k.k("select",this.axp,this)}else this.Pn.push(null)}}gw.prototype=new k5;
gw.prototype.arF=function(i){d._l(this.n);for(var Y=0;Y<i.length;Y++)if(i[Y]!=0&&i[Y]!=null){this.n.appendChild(this.JM[Y]);
if(i[Y]!=1&&this.Pn[Y])this.Pn[Y].arF(i[Y])}};gw.prototype._=function(){var i=this.Af;for(var Y=0;Y<i.length;
Y++){if(i[Y].title)this.JM[Y].title=bC.get(i[Y].title);this.fw[Y].textContent=bC.get(i[Y].name)+(i[Y].HT?"...":"")}for(var Y=0;
Y<this.Pn.length;Y++)if(this.Pn[Y])this.Pn[Y]._()};gw.prototype.update=function(i,C){if(!this.aoR){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var m=this.Af,e=window.innerWidth<450?"none":"inline";
for(var Y=0;Y<m.length;Y++){var z=this.JM[Y];if(z.Wl&&!this.Pn[Y])z.Wl.style.display=e;if(m[Y].w){var L=m[Y].w(i,C,Y);
if(L.w!=null)this.JM[Y].className=L.w?"enab":"disab";if(L.rK!=null)this.fw[Y].textContent=L.rK;if(L._t!=null)this.afo[Y].innerHTML=L._t?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(L.A!=null)this.QP[Y]=L.A}}for(var Y=0;Y<this.Pn.length;Y++)if(this.Pn[Y])this.Pn[Y].update(i,C)};
gw.prototype.kT=function(){return this.yT};gw.prototype.f9=function(i){if(i.button!=0)return;var Y=this.JM.indexOf(i.currentTarget);
if(this.Pn[Y]){this.C3=Y;this.ahr()}else{if(this.QP){var C=this.QP[Y],m=new eX(C.K,!0);m.f=C.f;m.data=C.A;
this.T(m)}this.Xg=null;this.yT=[Y];this.T(new eX("select",!1));var m=new eX(v.E.H,!0);m.data={d:v.B.ze};
this.T(m)}};gw.prototype.qz=function(i){var Y=this.JM.indexOf(i.currentTarget);this.D2();this.C3=Y;this.bm=setTimeout(this.ael,300)};
gw.prototype.ai$=function(i){this.D2()};gw.prototype.D2=function(){if(this.bm){clearTimeout(this.bm);
this.bm=null}};gw.prototype.ahr=function(){this.D2();var Y=this.C3;if(this.Xg)this.Xg.a11();if(this.Pn[Y]==null)return;
this.Xg=this.Pn[Y];var i=this.JM[Y].getBoundingClientRect(),C=new eX(v.E.H,!0);C.data={d:v.B.vs,aA:this.Pn[Y],x:i.left+i.width+2,y:i.top};
this.T(C)};gw.prototype.a11=function(){for(var Y=0;Y<this.Pn.length;Y++)if(this.Pn[Y])this.Pn[Y].a11();
var i=new eX(v.E.H,!0);i.data={d:v.B.E_,aA:this};this.T(i)};gw.prototype.axp=function(i){var Y=this.Pn.indexOf(i.target);
this.yT=[Y].concat(i.target.kT());this.T(new eX("select",!1))};function em(i,C,m){k5.call(this);this.n=d.t("span","fitem cbox");
if(C==null)C=!0;if(m==null)m="flabel";var e="cb"+d.C$();this.Kj=d.t("input","");this.Kj.setAttribute("type","checkbox");
this.Kj.setAttribute("id",e);this.n.appendChild(this.Kj);this.fU=i;this.AP=d.t("label",m);if(C)this.AP.setAttribute("for",e);
this.n.appendChild(this.AP);this._();this.Kj.addEventListener("change",this.Mj.bind(this),!1)}em.prototype=new k5;
em.prototype.av_=function(){return this.fU};em.prototype._H=function(i){this.AP.textContent=i};em.prototype._=function(){var i=this.fU;
if(typeof i=="string"&&i.startsWith("<"))this.AP.innerHTML=i;else this.AP.textContent=bC.get(i)};em.prototype.vG=function(){this.Kj.checked=!0};
em.prototype.m5=function(){this.Kj.checked=!1};em.prototype.M5=function(){return this.Kj.checked};em.prototype.c=function(i){this.Kj.checked=i};
em.prototype.h=em.prototype.M5;em.prototype.Mj=function(i){this.T(new eX(v.E.p,!1))};function bd(i,C){k5.call(this);
this.fU=i;this.n=d.t("span","labelitem fitem"+(C?" spread":""));this._()}bd.prototype=new k5;bd.prototype.c=function(i){this.n.textContent=i};
bd.prototype.h=function(){return this.n.textContent};bd.prototype.WN=function(){this.n.removeAttribute("disabled")};
bd.prototype.hH=function(){this.n.setAttribute("disabled","")};bd.prototype._H=function(i){this.n.textContent=i};
bd.prototype._=function(){this.n.textContent=bC.get(this.fU)};bd.prototype.av_=function(){return this.fU};
function c1(i,C,m,e,z){k5.call(this);this.M1=!1;this.n=d.t("button","fitem"+(C?" spread":"")+(e?" bbtn":""));
this.fU=i;this.XJ=m;this._();var L=z&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(L,this.Dn.bind(this),!1)}c1.prototype=new k5;
c1.prototype._=function(){var i=this.n,C=this.fU,m=this.XJ;if(typeof C=="string"&&(C.startsWith("<img")||C.startsWith("<svg")||C.startsWith("<span"))){if(!this.M1){i.innerHTML=C;
i.setAttribute("style","padding:2px");this.M1=!0}}else i.textContent=bC.get(C);if(m){i.setAttribute("title",bC.get(m))}};
c1.prototype.aqV=function(i){this.n.setAttribute("title",i)};c1.prototype.Dn=function(i){this.T(new eX("click",!1))};
c1.prototype.vG=function(){d.uc(this.n,"bactive")};c1.prototype.m5=function(){d.nP(this.n,"bactive")};
c1.prototype._H=function(i,C){if(i&&i!=this.fU){this.fU=i;this.M1=!1}if(C)this.XJ=C;this._()};c1.prototype.c=function(i){if(i)this.vG();
else this.m5()};c1.prototype.M5=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
c1.prototype.h=function(){return this.M5()};function kz(i,C,m,e,z){k5.call(this);var L=d.C$();this.n=d.t("span","fitem tinput");
if(i){this.fU=i;this.Mo=d.t("label","flabel");this.n.appendChild(this.Mo);this.Mo.setAttribute("for",L);
this._()}if(z){this.Kj=d.t("span")}else if(e==null){this.Kj=d.t("input");this.Kj.setAttribute("type","text")}else this.Kj=d.t("textarea","scrollable");
this.Kj.setAttribute("id",L);if(m)this.Kj.setAttribute("style","width:"+m+"em;"+(z?" display:inline-block; margin-left:6px;":""));
if(e)this.Kj.setAttribute("rows",e);this.n.appendChild(this.Kj);if(C){this.rn=d.t("span");this.rn.textContent=C;
this.rn.style.marginLeft="2px";this.n.appendChild(this.rn)}d.xq(this.Kj);jD.eg(this.Kj);this.Kj.addEventListener("change",this.Mj.bind(this),!1);
this.Kj.addEventListener("input",this.aeg.bind(this),!1);if(e==null)this.Kj.addEventListener("keyup",this.Ny.bind(this),!1)}kz.prototype=new k5;
kz.prototype._=function(){this.e3()};kz.prototype.Ny=function(i){var C=jD.fG(i.code,jD.pn),m=jD.fG(i.code,jD.RX);
if(m||C)this.Kj.blur()};kz.prototype._H=function(i){this.Mo.textContent=i};kz.prototype.c=function(i){var C=this.Kj,m=i==null?"":i,e=C.tagName=="SPAN";
if(e){C.textContent=" "+m;if(this.rn)C.appendChild(this.rn)}else C.value=m};kz.prototype.aeO=function(i){this.rn.textContent=i};
kz.prototype.h=function(){return this.Kj.value};kz.prototype.CQ=function(){this.Kj.select();this.Kj.focus()};
kz.prototype.Mj=function(i){this.T(new eX(v.E.p,!1))};kz.prototype.aeg=function(i){this.T(new eX("input",!1))};
function bP(i,C,m,e,z,L,l,x,S){k5.call(this);if(z==null)z=0;this.n=d.t("span","fitem");var k=d.C$();
this.fU=i;this.XJ=x;this.rc=0;this.Hf=S;this.lV=C;this.ML=m;this.wz=null;if(e instanceof Array){this.wz=e;
e=e[0]}this.vm=e;this.V_=z;this.anG=L;this.Zh=l;this.WM=0;this.Mo=d.t("label","flabel");this.Mo.setAttribute("style","cursor:col-resize;");
this.rX=d.t("input");this.rX.setAttribute("type","range");if(l){this.rX.min=0;this.rX.max=400}else{this.rX.min=C;
this.rX.max=m;if(z!=0)this.rX.step=(m-C)/200}this.Kj=d.t("input");this.Kj.setAttribute("type","text");
this.Kj.setAttribute("id",k);this.rn=d.t("span");this.rn.textContent=e;d.xq(this.Kj);this.Kj.addEventListener("change",this.Mj.bind(this),!1);
this.Kj.addEventListener("keydown",this.N0.bind(this),!1);jD.eg(this.Kj);this.Kj.addEventListener("keyup",this.Ny.bind(this),!1);
this.Kj.addEventListener("wheel",this.Ae.bind(this),!1);this.rX.addEventListener("input",this.Mj.bind(this),!1);
if(S)this.rX.addEventListener("change",this.Mj.bind(this),!1);this.rX.addEventListener("click",this.ag5.bind(this),!1);
this.a0E=this.apG.bind(this);this.akL=this.avk.bind(this);this.abp=this.a1i.bind(this);this.FL=0;this.XC=0;
this.DW=!1;d.h_(this.Mo,this.a0E);d.o$(this.Mo)}bP.prototype=new k5;bP.prototype.E7=function(i){this.V_=i};
bP.prototype._H=function(i){this.Mo.style.display=i?"inherit":"none";if(i)this.Mo.textContent=bC.get(i)};
bP.prototype._=function(){var k7=this.fU,i=this.XJ;if(k7){if(typeof k7=="string"&&k7.startsWith("<"))this.Mo.innerHTML=k7;
else this.e3()}if(i){i=bC.get(i);if(k7)this.Mo.setAttribute("title",i);this.Kj.setAttribute("title",i)}};
bP.prototype.c=function(i,C){var m=this.lV==this.ML,z;if(!m&&this.lV>=0)i=Math.max(this.lV,i);if(this.V_==0)i=Math.round(i);
var e=this.vm;this.rc=i;this.Kj.value=(this.V_!=0?i.toFixed(this.V_):i)+(this.anG&&e?(e.toLowerCase()==e.toUpperCase()?"":" ")+e:"");
if(-this.lV==this.ML)z=200+Math.sign(i)*200*Math.pow(Math.abs(i)/this.ML,1/2.7);else z=400*Math.pow((i-this.lV)/(this.ML-this.lV),1/2.7);
this.rX.value=this.Zh?z:i;if(C)this.ec()};bP.prototype.h=function(){var i=this.rc;if(isNaN(i))i=0;return i};
bP.prototype.uR=function(){return this.vm};bP.prototype.Mj=function(i){var C=0;if(i.currentTarget==this.Kj){var m=i.target.value,e=0;
if(m=="")C=0;else if(this.vm){C=parseFloat(m)}else{try{C=eval(m)}catch(i){C=1}}if(isNaN(C))C=0;while(e<m.length&&(m.charAt(e)=="."||48<=m.charCodeAt(e)&&m.charCodeAt(e)<=57))e++;
var z=m.slice(e).trim();if(this.wz&&this.wz.indexOf(z)!=-1)this.vm=z}else{if(Date.now()-this.WM<10)return;
C=parseFloat(i.target.value);if(this.Zh){if(-this.lV==this.ML)C=Math.sign(C-200)*Math.pow(Math.abs(C-200)/200,2.7)*this.ML;
else C=this.lV+Math.pow(C/400,2.7)*(this.ML-this.lV);C=this.an4(C)}}this.c(C);if(i.type=="input"&&this.Hf)return;
this.ec()};bP.prototype.ec=function(){this.T(new eX(v.E.p))};bP.prototype.an4=function(i){if(this.ML-this.lV>50&&i>10)i=Math.round(i);
return i};bP.prototype.N0=function(i){var C=0;if(jD.fG(i.code,jD.vx))C=1;if(jD.fG(i.code,jD.h$))C=-1;
if(C!=0)this.aoi(C,i.shiftKey)};bP.prototype.Ny=function(i){var C=jD.fG(i.code,jD.pn),m=jD.fG(i.code,jD.RX);
if(C)this.c(this.h());if(m||C)this.Kj.blur()};bP.prototype.Ae=function(i){this.aoi(i.deltaY>0?-1:1,i.shiftKey)};
bP.prototype.aoi=function(i,C){var m=this.h(),e=this.V_,z=i*(e==null||e==0||m>5?1:.1);if(C)z*=10;var L=m+z;
if(!this.Zh&&this.ML!=this.lV)L=Math.min(this.ML,L);this.c(L);this.ec()};bP.prototype.ag5=function(i){var C=Date.now()-this.WM;
this.WM=Date.now();if(C>200)return;var m=this.lV,e=this.ML,z=(m+e)/2;if(m<1&&e>1&&e<10)z=1;else if(m<90&&e>110)z=100;
else if(m<0&&e>0)z=0;this.c(z);this.ec()};bP.prototype.apG=function(i){d.AX(document,this.akL);d.xd(document,this.abp);
this.FL=d.CV(i,document.body).x;this.XC=this.h()};bP.prototype.avk=function(i){d.Vw(i);var C=this.lV==this.ML,m=d.CV(i,document.body).x,e=(m-this.FL)*(C?1:1/120*(this.ML-this.lV)),z=this.XC+e;
if(C)z=Math.round(z);if(!C){if(!0){z=Math.max(this.lV,z);if(z==this.lV){this.FL=m;this.XC=this.lV}}if(!this.Zh){z=Math.min(this.ML,z);
if(z==this.ML){this.FL=m;this.XC=this.ML}}z=this.an4(z)}this.DW=!0;this.c(z);if(!this.Hf)this.ec()};
bP.prototype.a1i=function(i){if(!this.DW)this.Kj.focus();this.DW=!1;if(this.Hf)this.ec();d.nz(document,this.akL);
d.uh(document,this.abp)};bP.prototype.CQ=function(){this.Kj.select();this.Kj.focus()};function db(i,C,m,e,z,L,l,x,S,k){bP.call(this,i,C,m,e,z,!0,L,S,k);
d.uc(this.n,"rangedropinput");this.n.appendChild(this.Mo);this.Kj.setAttribute("style","width:"+(x?x:3.3)+"em");
this.n.appendChild(this.Kj);this.a6T=d.t("span","rangecontFloat");this.a6T.appendChild(this.rX);this.PV=d.t("button");
this.PV.textContent="\u25BC";d.h_(this.PV,this.a2D.bind(this));if(l!=!0)this.n.appendChild(this.PV);
this.lG=new k5;this.lG.n=this.a6T}db.prototype=new bP;db.prototype.a2D=function(i){if(d.bv(this.lG.n))return;
i.stopPropagation();var C=this.n.getBoundingClientRect();this.rX.setAttribute("style","width:"+C.width+"px;");
var m=new eX(v.E.H,!0);m.data={d:v.B.vs,aA:this.lG,x:C.left-10,y:C.top+C.height};this.T(m)};function dd(i,C,m,e,z,L){bP.call(this,i,C,m,e,z,!1,L);
this.n.appendChild(this.Mo);var l=d.t("span");this.n.appendChild(l);l.appendChild(this.rX);this.n.appendChild(this.Kj);
this.Kj.setAttribute("style","width:3.3em");if(this.vm)this.n.appendChild(this.rn)}dd.prototype=new bP;
function jp(i,C,m,e,z,L,l,x){bP.call(this,i,C,m,e,z,!0,L,null,l);d.uc(this.n,"trangeinput");this.n.appendChild(this.Mo);
this.n.appendChild(this.Kj);var S=d.t("span");if(x!=!0)this.n.appendChild(S);S.appendChild(this.rX)}jp.prototype=new bP;
function ib(i,C,m,e){k5.call(this);if(!C)return;this.hb=0;this.fU=i;this.ata=e;this.A0=null;this.alo=m;
this.b4=[];var z="dd"+d.C$();this.n=d.t("span","fitem ddmenu");if(i){this.Mo=d.t("label","flabel");this.n.appendChild(this.Mo);
this.Mo.setAttribute("for",z)}this.Kj=d.t("select");jD.eg(this.Kj);this.Kj.setAttribute("id",z);this.n.appendChild(this.Kj);
this.Kj.addEventListener("change",this.Mj.bind(this),!1);function L(l){var x=0;if(jD.fG(l.code,jD.vx))x=1;
if(jD.fG(l.code,jD.h$))x=-1;if(x!=0)l.stopPropagation()}this.Kj.addEventListener("keydown",L,!1);this.Kj.addEventListener("keyup",L,!1);
this.KY=[];this.qc=null;this.bD(C,m);this._()}ib.prototype=new k5;ib.prototype._H=function(i){this.fU=i;
this._()};ib.prototype._=function(){this.e3();if(this.qc)this.bD(this.qc,this.alo);if(this.ata)this.Kj.setAttribute("title",bC.get(this.ata));
this.c(this.hb)};ib.prototype.h=function(){return this.hb};ib.prototype.bD=function(i,C){d._l(this.Kj);
var m=[],e=0;if(C){m.push(C[0]);for(var Y=1;Y<C.length;Y++)m.push(m[Y-1]+C[Y])}this.qc=i;this.A0=[];
this.alo=C;for(var Y=0;Y<i.length;Y++){var z=d.t("option");if(this.b4.indexOf(Y)!=-1)z.setAttribute("disabled","");
z.textContent=bC.get(i[Y]);z.setAttribute("value",Y);this.Kj.appendChild(z);this.KY.push(z);this.A0.push(Y+e);
if(m.indexOf(Y+1)!=-1&&Y!=i.length-1){var L=d.t("option");L.setAttribute("disabled","");L.textContent="";
this.Kj.appendChild(L);e++}}};ib.prototype.aDJ=function(Y){var i=this.b4,C=i.indexOf(Y);if(C==-1)i.push(Y);
this._()};ib.prototype.asB=function(Y){var i=this.b4,C=i.indexOf(Y);if(C!=-1)i.splice(C,1);this._()};
ib.prototype.c=function(i){this.hb=i;this.Kj.selectedIndex=this.A0[i]};ib.prototype.Mj=function(i){this.hb=this.A0.indexOf(this.Kj.selectedIndex);
this.T(new eX(v.E.p,!1))};ib.prototype.CQ=function(){this.Kj.focus()};function iw(i,C,m,e,z){k5.call(this);
if(!C)return;this.hb=0;this.adv=e;this.atd=z;this.n=d.t("span","fitem bbmenu");this.AP=d.t("label","flabel");
if(i){this.fU=i;this.AP.textContent=i+":";this.n.appendChild(this.AP)}this.KY=[];this.cH=d.t("span");
this.n.appendChild(this.cH);this.qc=null;this.bD(C,m);this.c(0)}iw.prototype=new k5;iw.prototype._H=function(i){this.fU=i;
this._()};iw.prototype._=function(){var i=this.AP.parentNode!=null,C=this.n;if(this.fU!=null){if(!i){C.appendChild(this.AP);
C.appendChild(this.cH)}this.AP.textContent=bC.get(this.fU)+": "}else if(i)C.removeChild(this.AP);for(var Y=0;
Y<this.KY.length;Y++)this.KY[Y]._()};iw.prototype.h=function(){return this.hb};iw.prototype.bD=function(i,C){d._l(this.cH);
this.KY=[];this.qc=i;for(var Y=0;Y<i.length;Y++){var m=new c1(i[Y],!1,C?C[Y]:null,this.adv);m.k("click",this.Mj,this);
this.cH.appendChild(m.n);this.KY.push(m)}this._()};iw.prototype.c=function(i){this.hb=i;for(var Y=0;
Y<this.KY.length;Y++)this.KY[Y].m5();if(i!=-1)this.KY[i].vG()};iw.prototype.Mj=function(i){var Y=this.KY.indexOf(i.target);
this.c(this.atd&&Y==this.hb?-1:Y);this.T(new eX(v.E.p,!1))};iw.XA=function(i,C,m){if(C==null)C=16;var e=iw.aU,z=e.getContext("2d"),L=C>>>1;
e.width=e.height=C;var l=[];for(var Y=0;Y<i.length;Y++){if(i[Y][0]=="-")l.push(i[Y].slice(1));else if(i[Y]=="checker"||i[Y].startsWith("#")){if(i[Y]=="checker"){z.fillStyle="white";
z.fillRect(0,0,C,C);z.fillStyle="#bbbbbb";z.fillRect(L,0,L,L);z.fillRect(0,L,L,L)}else if(i[Y].startsWith("#")){z.fillStyle=i[Y];
z.fillRect(0,0,C,C)}l.push("<img src=\""+e.toDataURL()+"\" />")}else l.push(d.W3(i[Y],null,m?m:"autoscale"))}return l};
iw.aU=d.t("canvas");function as(i,C,m,e,z,L){k5.call(this);this.n=d.t("span","fitem mbox");this.aof=m;
this.atu=z;if(i){this.fU=i;this.AP=d.t("label","flabel");this.n.appendChild(this.AP)}this.NK=C;this.Po=[];
for(var Y=0;Y<C.length;Y++){var l=m?new c1(C[Y],!1,e?e[Y]:null,!1,L):new em(C[Y],!0,"");l.k(m?"click":v.E.p,this.Mj,this);
this.Po.push(l);this.n.appendChild(l.n)}this._()}as.prototype=new k5;as.prototype.c=function(i){for(var C=0;
C<this.NK.length;C++)this.Po[C].c(i[C])};as.prototype.h=function(){var i=[];for(var C=0;C<this.NK.length;
C++)i[C]=this.Po[C].h();return i};as.prototype._=function(){if(this.fU)this.AP.innerHTML=bC.get(this.fU)+": ";
var i=this.Po;for(var C=0;C<i.length;C++){i[C]._();if(C==i.length-1)i[C].n.style.marginRight="0px"}};
as.prototype.Mj=function(i){var Y=this.Po.indexOf(i.currentTarget),C=this.Po[Y];if(this.aof)C.c(!C.h());
if(this.atu){var m=C.h();for(var Y=0;Y<this.Po.length;Y++)this.Po[Y].c(!1);C.c(m)}this.T(new eX(v.E.p,!1))};
function gL(i,C){k5.call(this);this.wO=[];this.g=[];this.at6=i;this.fK=C;this.Mv=0;this.CT=null;this.cr=new b5(0,0);
if(C!=null){this.r$=new gw([{name:[6,37]},{name:[5,4]}]);this.r$.parent=this;this.r$.k("select",this.m9,this)}this.n=d.t("div","imageset scrollable");
this.n.addEventListener("contextmenu",d.O5,!1)}gL.prototype=new k5;gL.prototype._=function(){if(this.r$)this.r$._()};
gL.prototype.m9=function(i){var Y=this.r$.kT()[0],C=new eX(v.E.H,!0),m={d:v.B.Mc,N5:this.fK,sD:this.g.slice(0)};
if(Y==0){var e=this.CT[1][this.g[0]],z=e.split("/");if(z.length==2){m.lN=z[0]+"/";e=z[1]}m.hl="rnm";
C.data={d:v.B.c6,pw:"namewindow",GZ:e,Jo:{K:v.E.H,A:m}}}else{C.data=m;m.hl="del"}this.T(C)};gL.prototype.aeL=function(){return this.Mv};
gL.prototype.Va=function(i){this.Mv=i;if(this.CT)this.__()};gL.prototype.Tu=function(i,C,m,e){this.CT=[i,C,m,e];
this.__()};gL.prototype.__=function(){var i=this.CT,C=this.n,m=i[0],e=i[1],z=i[2],L=i[3];this.wO=[];
d._l(C);var l=this.Dn.bind(this),x=this.Mv;if(x==0)d.uc(C,"imageset");else d.nP(C,"imageset");var S={};
for(var Y=0;Y<m.length;Y++){var k=m[Y],f=null,X=null;if(k==null){this.wO.push(null);continue}if(typeof k=="string"){f=d.t("img","image");
f.setAttribute("src",k)}else f=k;if(z)d.n9(f,z,L);if(this.at6)d.uc(f,"gsicon");if(e){var X=e[Y],o=X.split("/");
if(o.length==2){var A=S[o[0]];X=o[1];if(A==null)A=S[o[0]]=[];A.push(Y)}}if(x==0){}else{var P=d.t("div","listitem");
P.appendChild(f);var F=d.t("span");F.textContent=X?X:"Item "+(Y+1);F.setAttribute("style","margin-left:4px;");
P.appendChild(F);f=P}if(X)f.setAttribute("title",X);f.addEventListener("mousedown",l,!1);this.wO.push(f);
C.appendChild(f)}if(Object.keys(S).length!=0){d._l(C);for(var n in S){var A=S[n],R=d.t("div","listitem head");
R.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var Q=d.t("div","headL");R.appendChild(Q);Q.appendChild(d.t("div","folder"));var F=d.t("span");F.textContent=n;
Q.appendChild(F);C.appendChild(R);for(var Y=0;Y<A.length;Y++)C.appendChild(this.wO[A[Y]])}}};gL.prototype.Dn=function(i){if(this.fK==null)i.preventDefault();
var C=this.wO.indexOf(i.currentTarget),m=window.__kb,e=this.g,z=e.length;if(m.S(jD.$I)){var L=Math.min(e[0],e[e.length-1],C),l=Math.max(e[0],e[e.length-1],C);
e=[];for(var Y=L;Y<=l;Y++)e.push(Y)}else if(m.S(jD.Uj)){var x=e.indexOf(C);if(x==-1)e.push(C);else e.splice(x,1)}else e=[C];
e.sort(function(X,o){return X-o});if(i.button==0||z==1)this.c(e);this.cr=d.CV(i,i.currentTarget);if(i.button==0)this.T(new eX(v.E.p));
if(i.button==2&&this.r$){var S=this.r$;S.update(null);var k=d.CV(i,document.body),f=new eX(v.E.H,!0);
f.data={d:v.B.vs,aA:S,x:k.x,y:k.y+2};this.T(f)}};gL.prototype.h=function(){return this.g.slice(0)};gL.prototype.aiQ=function(){var i=this.cr;
return new b5(i.x,i.y)};gL.prototype.c=function(i){this.g=i.slice(0);for(var Y=0;Y<this.wO.length;Y++){var C=this.wO[Y];
if(C==null)continue;if(i.indexOf(Y)!=-1)d.uc(C,"selected");else d.nP(C,"selected")}};function eR(i,C,m,e,z,L,l){k5.call(this);
this.n=d.t("span","fitem "+m);this.Ty=new k5;this.Ty.n=d.t("div","floatcont");this.Jm=e;this.Ty.parent=this;
this.agu=d.t("div");this.Ty.n.appendChild(this.agu);this.R2=d.t("div");this.Ty.n.appendChild(this.R2);
if(i){this.fU=i;this.AP=d.t("label","flabel");this.n.appendChild(this.AP)}this.d=d.t("button",l?"nopadding":"");
this.d.setAttribute("style","position:relative;");var x=this.KP.bind(this),S=this.hh.bind(this);d.h_(this.d,C?S:x);
this.n.appendChild(this.d);this.W1=d.t("img",l?"gsicon":"");this.d.appendChild(this.W1);if(C){var k=d.t("button");
k.textContent="\u25BC";d.h_(k,x);this.n.appendChild(k)}else{var f=d.t("span");f.textContent="\u25BC";
f.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(f)}var X=this.agP=d.t("span");
this.R2.appendChild(X);X.setAttribute("style","display:inline-block;  vertical-align:top;");this.EJ=new gL(l,L);
X.appendChild(this.EJ.n);this.EJ.parent=this.Ty;this.EJ.k(v.E.p,this.cZ,this);this.EJ.n.style.height=z+"px";
this.tz=d.t("button");this.tz.textContent="\u25BC";this.tz.setAttribute("style","padding:3px");d.h_(this.tz,this.QZ.bind(this));
this.R2.appendChild(this.tz);var o=this.YS(),A=this.a7_=L!=dm.nx&&L!=dm.Tl?L:null,P=this.amr=L==null?!1:dm.Gh[L][4]!=0,F=L==null?"":dm.Gh[L][0].toUpperCase(),n=[];
if(A)n.push({name:[12,87]});n.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],mL:!0});n.push({name:[[23,6],"."+(F=="ICC"?"icc .cube .look .3dl":F)]},{name:["VAR0 ."+F,[1,8]]},{name:[6,37]},{name:[5,4],mL:o.length!=0});
for(var Y=0;Y<o.length;Y++)n.push({name:o[Y].split("/").pop()});this.akC=n;this.fK=L;this.Jk=null;this.yh=!0;
this.Wp=null}eR.prototype=new k5;eR.prototype.YS=function(){return[]};eR.prototype.hh=function(){};eR.prototype._=function(){this.EJ._();
var i=this.fU;if(i)this.AP.textContent=bC.get(i)+":"};eR.prototype._H=function(i){this.AP.textContent=i};
eR.prototype.dp=function(i){var C=this.fK,m=0;if(C==dm.K1){m=this.Jk?this.Jk.length:0;i=i.slice(0)}this.Jk=i;
this.yh=!0;if(d.bv(this.EJ.n)||C==dm.Pe)this.KL();if(C==dm.K1&&i.length-m==1&&d.bv(this.n)){this.c(i[m]);
this.yh=!0;this.KL();this.EJ.c([m]);this.T(new eX(v.E.p))}};eR.prototype.m9=function(i){var C=i.target.kT()[0];
if(this.a7_==null)C++;var m=new eX(v.E.H,!0);if(C==0){var e=this.b8();if(this.fK==dm.K1&&e[0].profile==null)return;
m.data={d:v.B.Mc,hl:"add",N5:this.a7_,mb:e}}else if(C==1)this.EJ.Va(1-this.EJ.aeL());else if(C<=5)this.X4(C-2);
else{var z=this.YS();m.data={d:v.B.Df,N5:{url:"rsrc/"+z[C-6]}}}if(m.data)this.T(m)};eR.prototype.X4=function(i){var C=new eX(v.E.H,!0),m=this.EJ.h(),e={d:v.B.Mc,N5:this.fK,sD:m};
if(i>1&&m.length==0){alert("No items selected");return}if(i==0)C.data={d:v.B.mp};else if(i==1)C.data={d:v.B.W6,arZ:this.fK,sD:m.length==0?null:m};
else if(i==2){var z=this.EJ.CT[1][m[0]],L=z.split("/");if(L.length==2){e.lN=L[0]+"/";z=L[1]}e.hl="rnm";
C.data={d:v.B.c6,pw:"namewindow",GZ:z,Jo:{K:v.E.H,A:e}}}else if(i==3){C.data=e;e.hl="del"}this.T(C)};
eR.prototype.b8=function(){return[this.h()]};eR.prototype.QZ=function(i){if(this.r$==null){this.r$=new gw(this.akC);
this.r$.parent=this.Ty;this.r$.k("select",this.m9,this)}if(d.bv(this.r$.n))return;i.stopPropagation();
var C=this.r$;C._();C.update(null);var m=i.currentTarget.getBoundingClientRect(),e=new eX(v.E.H,!0);
e.data={d:v.B.vs,aA:C,x:m.left,y:m.top+m.height};this.T(e)};eR.prototype.KP=function(i,C,m){if(d.bv(this.Ty.n))return;
if(i)i.stopPropagation();this.KL();if(C==null){var e=this.d.getBoundingClientRect(),C=e.left,m=e.top+e.height}this.Oh();
var z=new eX(v.E.H,!0);z.data={d:v.B.vs,aA:this.Ty,x:C,y:m,FF:!0};this.T(z)};eR.prototype.Oh=function(i,C){var i=Math.min(this.Jm,window.innerWidth-40);
this.agP.style.width=i+"px";this.Ty.n.style.width=i+20+"px"};eR.prototype.adS=function(i,C){this.KP(null,i,C)};
function he(){k5.call(this);this.n=d.t("div");this.rc=!1;this.ea=[new ib([12,19,1],[[13,1,7]].concat(fp.HO)),new fY([17,1]),new fY([12,46])];
for(var Y=0;Y<3;Y++){var i=this.ea[Y];this.n.appendChild(i.n);i.k(v.E.p,this.OL,this)}this._()}he.prototype=new k5;
he.prototype._=function(){for(var Y=0;Y<3;Y++)this.ea[Y]._()};he.prototype.h=function(){return this.rc.slice(0)};
he.prototype.c=function(i){this.rc=i.slice(0);var C=this.ea,m=C[0].h();C[1].c(i.slice(m*8,m*8+4),m);
C[2].c(i.slice(m*8+4,m*8+8),m)};he.prototype.OL=function(i){var C=this.ea,m=C.indexOf(i.currentTarget);
if(m==0)this.c(this.rc);else{var e=C[0].h()*8+(m==1?0:4),z=C[m].h();for(var Y=0;Y<4;Y++)this.rc[e+Y]=z[Y];
this.T(new eX(v.E.p,!1))}};function fY(i){k5.call(this);this.n=d.t("div");this.B2=d.t("canvas");this.ju=i;
this.rc=[0,20,200,255];this.Fw=0;this.Om=-1;this.aaH=[];for(var Y=0;Y<5;Y++){var C=d.t("span");C.setAttribute("style","display:inline-block;width:"+(Y==0?8:Y==2?7:2)+"em");
this.aaH.push(C);this.n.appendChild(C)}this.Gw=this.MU.bind(this);this.km=this.bz.bind(this);this.vE=this.f9.bind(this);
d.o$(this.B2);d.h_(this.B2,this.Gw);this.n.appendChild(this.B2);this.__()}fY.prototype=new k5;fY.prototype._=function(){this.__()};
fY.prototype.c=function(i,C){this.rc=i;this.Fw=C;this.__()};fY.prototype.h=function(){return this.rc.slice(0)};
fY.prototype.MU=function(i){var C=this.rc,m=d.CV(i,this.B2),e=m.x-8,z=-1,L=1e9;for(var Y=0;Y<4;Y++){var l=e-C[Y],x=Math.abs(l);
if(x<8&&x<L&&((Y&1)==0&&l<0||(Y&1)==1&&l>0)){L=l;z=Y}}if(z==-1)return;this.Om=z;this.Y5=window.__kb.S(jD.rb)||C[(z>>>1)*2]!=C[(z>>>1)*2+1];
d.AX(window,this.km);d.xd(window,this.vE)};fY.prototype.bz=function(i){var C=this.rc,m=this.Om,e=(m>>>1)*2,z=e+1,L=d.CV(i,this.B2),l=Math.round(Math.max(0,Math.min(255,L.x-8)));
C[m]=l;if(this.Y5&&C[e]>=C[z])this.Y5=!1;if(!this.Y5)C[e]=C[z]=l;this.__();this.T(new eX(v.E.p,!1))};
fY.prototype.f9=function(i){d.nz(window,this.km);d.uh(window,this.vE)};fY.prototype.__=function(){var i=this.B2;
d.Ay(i,255+16,16);var C=i.getContext("2d"),m=i.width,e=i.height,z=Math.round(255*d.XP()),L=Math.round(8*d.XP());
C.translate(L,0);var l=C.createLinearGradient(0,0,z,0);l.addColorStop(0,"black");l.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Fw]);
C.fillStyle=l;C.fillRect(0,0,z,L);var x=this.aaH,S=bC.get(this.ju)+":";x[0].textContent=S;for(var Y=0;
Y<4;Y++){var k=this.rc[Y];x[1+Y].textContent=k;var f=Math.round(k*d.XP());C.beginPath();C.moveTo(f,L);
C.lineTo(f,L+L);C.lineTo(f+((Y&1)==0?-1:1)*L,L+L);C.closePath();C.fillStyle=Y<2?"#666666":"#cccccc";
C.fill();C.strokeStyle="black";C.stroke()}};function jZ(i,C,m){k5.call(this);if(m==null)m=!1;this.b=[0,0,1];
this.aiM=C;this.aaL=m;this.nQ=0;var e="ai"+d.C$();this.n=d.t("span","fitem angleinput");if(i){this.AP=d.t("label","flabel");
this.fU=i;this.n.appendChild(this.AP);this.AP.setAttribute("for",e)}this.Y3=m?44:20;this.B2=d.t("canvas","gsicon");
this.Hs=this.B2.getContext("2d");d.o$(this.B2);d.Ay(this.B2,this.Y3*2+1,this.Y3*2+1);this.Hs.scale(d.XP(),d.XP());
this.n.appendChild(this.B2);d.h_(this.B2,this.hk.bind(this));this.o2=this.Pd.bind(this);this.mc=this.I7.bind(this);
var z=this.Mj.bind(this),L=d.t("div");L.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!m)this.n.appendChild(L);this.Ax=[];for(var Y=0;Y<2;Y++){var l=d.t("input");this.Ax.push(l);l.setAttribute("type","text");
d.xq(l);if(Y==0)l.setAttribute("id",e);l.addEventListener("change",z,!1);var x=d.t("span");x.textContent="\xB0";
if(Y==0||C){L.appendChild(l);L.appendChild(x);d._Z(L)}}this.c(this.b)}jZ.prototype=new k5;jZ.prototype._=function(){if(this.fU)this.AP.textContent=bC.get(this.fU)+":"};
jZ.prototype._H=function(i){this.AP.textContent=i};jZ.prototype.h=function(){return this.b.slice(0)};
jZ.prototype.c=function(i,C){var m=this.b;i=i.slice(0);if(i[0]==null)i[0]=m[0];if(i[1]==null)i[1]=m[1];
if(i[2]==null)i[2]=m[2];this.b=i;var e=i[0],z=i[1],L=i[2],l=this.aiM,x=this.aaL,S=this.Y3*.85;if(!l)z=0;
this.Ax[0].value=e;this.Ax[1].value=z;var k=this.Hs;k.clearRect(0,0,100,100);e=Math.PI*e/180;z=S*(90-z)/90;
var f=this.Y3+.5;k.save();k.translate(f,f);k.rotate(-e);k.strokeStyle="rgba(0,0,0,0.5)";k.beginPath();
k.ellipse(0,0,S,S*L,0,0,2*Math.PI);if(x){k.moveTo(0,-S*L);k.lineTo(0,S*L);k.moveTo(-z,0)}else k.moveTo(0,0);
k.lineTo(z,0);k.stroke();var X=this.Y3*.15;k.fillStyle="black";k.beginPath();if(x){k.arc(0,-S*L,X*.66,0,2*Math.PI);
k.arc(0,S*L,X*.66,0,2*Math.PI)}if(l){k.arc(z,0,X*.4,0,2*Math.PI)}else{k.moveTo(f-X,-X*.66);k.lineTo(f,0);
k.lineTo(f-X,X*.66)}k.fill();k.restore();if(C)this.Mj()};jZ.prototype.Mj=function(i){var C=parseInt(this.Ax[0].value);
if(isNaN(C))C=0;var m=parseInt(this.Ax[1].value);if(isNaN(m))m=0;C=C%360;m=m%360;this.c([C,m]);this.T(new eX(v.E.p,!1))};
jZ.prototype.hk=function(i){d.AX(window,this.o2);d.xd(window,this.mc);var C=d.CV(i,this.B2),f=0,X=1e9;
C.x-=this.Y3;C.y-=this.Y3;var m=this.b,e=m[0]*Math.PI/180,z=(90-m[1])/90,L=m[2],l=this.Y3*.85,x=Math.sin(-e),S=Math.cos(-e),k=[new b5(S*l,x*l)];
if(this.aaL)k.push(new b5(-x*l*L,S*l*L),new b5(x*l*L,-S*l*L));for(var Y=0;Y<k.length;Y++){var o=b5.qM(C,k[Y]);
if(o<X){X=o;f=Y}}this.nQ=f;if(f==0)this.Pd(i)};jZ.prototype.Pd=function(i){var C=d.CV(i,this.B2),m=this.nQ,e=[],z=C.x-this.Y3,L=C.y-this.Y3,l=this.Y3*.85;
if(m==0){var x=180*Math.atan2(-L,z)/Math.PI,S=90-90*Math.min(1,Math.sqrt(z*z+L*L)/l);if(i.shiftKey)x=Math.round(x/15)*15;
e=[Math.round(x),Math.round(S)]}else e=[null,null,Math.max(.01,Math.min(1,Math.sqrt(z*z+L*L)/l))];this.c(e);
this.T(new eX(v.E.p,!1))};jZ.prototype.I7=function(i){this.T(new eX(v.E.p,!1));d.nz(window,this.o2);
d.uh(window,this.mc)};function jH(i,C){k5.call(this);this.rc=0;this.tW=C;this.n=d.t("span","fitem angleinput");
if(i){this.AP=d.t("label","flabel");this.fU=i;this.n.appendChild(this.AP)}this.B2=d.t("canvas","gsicon");
this.Hs=this.B2.getContext("2d");d.Ay(this.B2,C,C);this.n.appendChild(this.B2);d.o$(this.B2);d.h_(this.B2,this.hk.bind(this));
this.o2=this.Pd.bind(this);this.mc=this.I7.bind(this);this.c(0)}jH.prototype=new k5;jH.prototype._=function(){if(this.fU)this.AP.textContent=bC.get(this.fU)+":"};
jH.prototype._H=function(i){this.AP.textContent=i};jH.prototype.h=function(){return this.rc};jH.prototype.at_=function(i){var C=this.rc,m=Math.floor(C/3),e=C-m*3;
e=Math.max(0,Math.min(2,e+i.x));m=Math.max(0,Math.min(2,m+i.y));this.c(m*3+e)};jH.prototype.c=function(i){this.rc=i;
var C=this.B2.width,m=Math.floor(i/3),e=i-3*m,z=(e+.5)*C/3,L=(m+.5)*C/3,l=this.Hs,x=[.5,Math.round(C/3)+.5,Math.round(2*C/3)+.5,C-.5];
l.clearRect(0,0,C,C);var S=this.tW<30;l.setLineDash([]);l.strokeStyle=S?"rgba(0,0,0,0.5)":"#000000";
l.beginPath();for(var Y=0;Y<4;Y++){var k=x[Y];l.moveTo(k,0);l.lineTo(k,C);l.moveTo(0,k);l.lineTo(C,k)}l.stroke();
if(i==9)return;if(!S){l.setLineDash([1,2]);var f=C*.53,X=Math.max(0,Math.min(C-f,z-f/2)),o=Math.max(0,Math.min(C-f,L-f/2));
l.strokeRect(Math.round(X)+.5,Math.round(o)+.5,Math.round(f),Math.round(f))}l.fillStyle="#000000";l.beginPath();
l.arc(z,L,C/8,0,Math.PI*2);l.fill()};jH.prototype.hk=function(i){d.AX(document.body,this.o2);d.xd(document.body,this.mc);
this.Pd(i)};jH.prototype.Pd=function(i){var C=d.CV(i,this.B2),m=Math.max(0,Math.min(2,Math.floor(C.x/(this.tW/3)))),e=Math.max(0,Math.min(2,Math.floor(C.y/(this.tW/3))));
this.c(e*3+m)};jH.prototype.I7=function(i){this.T(new eX(v.E.p,!1));d.nz(document.body,this.o2);d.uh(document.body,this.mc)};
function eG(k7){k5.call(this);this.n=d.t("span","fitem cswatch");this.ayK=0;this.RJ=[];this.ZE=[];var i=this.att.bind(this);
for(var Y=0;Y<k7;Y++){this.RJ.push(0);var C=d.t("span","colorsample");C.addEventListener("click",i,!1);
this.ZE.push(C);this.n.appendChild(C)}var m=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],e=Math.min(k7,m.length);
for(var Y=0;Y<e;Y++)this.RJ[Y]=m[Y];this.PT()}eG.prototype=new k5;eG.prototype.att=function(i){this.ayK=this.ZE.indexOf(i.currentTarget);
this.T(new eX(v.E.p))};eG.prototype.h=function(){return this.RJ[this.ayK]};eG.prototype.c=function(i){var C=this.RJ,m=C.indexOf(i);
if(m!=-1)C.splice(m,1);else C.pop();C.unshift(i);this.PT()};eG.prototype.PT=function(){for(var Y=0;Y<this.RJ.length;
Y++){this.ZE[Y].setAttribute("style","background-color:#"+I.dP(this.RJ[Y]))}};function hv(i){k5.call(this);
this.SN={Z:0,r:0,e:0};this.dG=i;this.n=d.t("span","fitem colorsample");this.n.addEventListener("click",this.Uk.bind(this),!1)}hv.prototype=new k5;
hv.prototype._=function(){};hv.prototype.Uk=function(i){var C=this.SN;this.T(new eX("click"));var m=new eX(v.E.H,!0);
m.data={d:v.B.c6,pw:"colorpicker",GN:Math.round(C.Z)<<16|Math.round(C.r)<<8|Math.round(C.e),Fu:this.no.bind(this),YU:this.dG};
this.T(m)};hv.prototype.no=function(i){this.Iw(i);this.T(new eX(v.E.p))};hv.prototype.YB=function(){this.Uk(null)};
hv.prototype.qH=function(){var i=this.SN;return i.Z<<16|i.r<<8|i.e};hv.prototype.h=function(){return I.I.$q(this.SN)};
hv.prototype.Iw=function(i){this.SN={Z:i>>16&255,r:i>>8&255,e:i&255};this.atT()};hv.prototype.c=function(i){this.SN=I.I.oq(i);
this.atT()};hv.prototype.atT=function(){var i=this.SN,C=i.Z,m=i.r,e=i.e,z=C<<16|m<<8|e;this.n.setAttribute("style","background-color:#"+I.dP(z))};
function h_(){k5.call(this);this.C1=!1;this.G5=20;this.awX=10;this.lZ=0;this.C1=!1;this.tj={Z:255,r:0,e:0};
this.J8={Z:0,r:0,e:0};this.os=null;this.uS=null;this.n=d.t("canvas");this.__();d.o$(this.n);d.h_(this.n,this.Gw.bind(this))}h_.prototype=new k5;
h_.prototype.azp=function(i){if(this.C1==i)return;this.C1=i;this.__()};h_.prototype._=function(){};h_.prototype.abF=function(i,C){function m(e){return{Z:e>>16&255,r:e>>8&255,e:e&255}}if(i!=null)this.tj=m(i);
if(C!=null)this.J8=m(C);this.__()};h_.prototype.aqa=function(i,C){this.os=i;this.uS=C;this.__()};h_.prototype.Gw=function(i){var C=d.CV(i,this.n),m=C.x*d.XP(),e=C.y*d.XP(),z=this.G5,L=this.awX,l=0;
if(m<L&&e<L){l=0}else if(m>z-L&&e>z-L){l=1}else if(m<L){l=2}else{l=3}this.YB(l)};h_.prototype.YB=function(i){var C=this.os,m=new eX(v.E.H,!0);
if(i>1){if(d4==0)m.data={d:v.B.Mc,N5:dm.li,Tt:i};else{var e={C9:1,Zc:JSON.parse(JSON.stringify(C.em[1]))},z=JSON.parse(JSON.stringify(C.Co)),L={C9:1,Zc:JSON.parse(JSON.stringify(C.QD[1]))};
if(i==2){e=jt.NF(z);jt.yD(z,C.ZF)}else{e.Zc.Clr.v=I.I.$q({Z:255,r:255,e:255});L.Zc.Clr.v=I.I.$q({Z:0,r:0,e:0});
jt.yD(z,L)}m.data={d:v.B.Mc,N5:dm.w4,b:e};this.T(m);m.data={d:v.B.Mc,N5:dm.$w,b:z}}}else{this.lZ=i;var l=null;
if(d4==0)l=i==0?this.tj:this.J8;else{var x=i==0?C.em:C.QD;l=I.I.oq(x[1].Clr.v)}m.data={d:v.B.c6,pw:"colorpicker",GN:l.Z<<16|l.r<<8|l.e,Fu:this.no.bind(this)}}this.T(m)};
h_.prototype.no=function(i){var C=new eX(v.E.H,!0),m=this.lZ,e=this.os;if(d4==0)C.data={d:v.B.Mc,N5:dm.li,Tt:m,b:i};
else{var z={C9:1,Zc:JSON.parse(JSON.stringify(e.em[1]))};z.Zc.Clr.v=I.I.$q(I.dK(i));var L=JSON.parse(JSON.stringify(e.Co));
jt.yD(L,z);if(m==1)z=L;C.data={d:v.B.Mc,N5:m==0?dm.w4:dm.$w,b:z}}this.T(C)};h_.prototype.__=function(){var i=this.n,C=i.getContext("2d"),m=d.XP(),z="#aaaaaa",L=.62;
d.Ay(i,34,34);i.setAttribute("style",i.getAttribute("style")+";cursor:pointer");var e=this.G5=i.width,l=this.awX=Math.round(e*L);
function x(Q,s){var j=Q.Z,_=Q.r,B=Q.e;if(s)j=_=B=Math.round(I.iw(j,_,B));var N=j<<16|_<<8|B;return"#"+I.dP(N)}function S(C,X,Q,s,j,_){C.beginPath();
if(s>=_*2&&j>=_*2){C.moveTo(X+_,Q);C.lineTo(X+s-_,Q);C.quadraticCurveTo(X+s,Q,X+s,Q+_);C.lineTo(X+s,Q+j-_);
C.quadraticCurveTo(X+s,Q+j,X+s-_,Q+j);C.lineTo(X+_,Q+j);C.quadraticCurveTo(X,Q+j,X,Q+j-_);C.lineTo(X,Q+_);
C.quadraticCurveTo(X,Q,X+_,Q)}C.closePath()}function k(X,Q,l,s,j){C.strokeStyle=j?j:"black";C.fillStyle=s;
S(C,X+.5,Q+.5,l-1,l-1,l*.2);C.fill();C.stroke()}var f=this.os;if(f){C.beginPath();var X=e-l,o=Math.floor(l*.28),A=l-2*o;
eP.ahM(C,f.$_.OR,this.uS,l,l,X,X);C.lineWidth=1;C.strokeStyle="white";C.clearRect(X+o,X+o,A,A);C.strokeRect(X+o+.5,X+o+.5,A-1,A-1);
C.strokeRect(X+.5,X+.5,l-1,l-1);eP.ahM(C,f.$_.P$,this.uS,l,l,0,0);C.lineWidth=1;C.strokeStyle="white";
C.strokeRect(.5,.5,l-1,l-1)}else{k(e-l,e-l,l,x(this.J8,this.C1));k(0,0,l,x(this.tj,this.C1))}var P=e-l,F=Math.round(P*L);
k(e-F,P-F,F,d4==0?"white":"black",z);k(e-P,0,F,d4==0?"black":"white",z);C.save();C.fillStyle=z;C.translate(0,e);
C.rotate(-Math.PI/2);P=e-l;var n=Math.round(P*.28),R=Math.round(P*.25);for(var Y=0;Y<2;Y++){C.fillRect(n,n,P-n,1);
C.beginPath();C.moveTo(P-R,n+.5-R);C.lineTo(P,n+.5);C.lineTo(P-R,n+.5+R);C.closePath();C.fill();C.transform(0,1,1,0,0,0)}C.restore()};
function bc(i){eR.call(this,i,!1,"brushbutton nopadding",19*13,10*13,dm.go,!0);var C=this.agu;d.uc(C,"flexrow");
var m=d.t("div");C.appendChild(m);var e=d.t("div");C.appendChild(e);e.setAttribute("style","margin-left:8px");
this.cI=new jZ(null,null,!0);this.cI.k(v.E.p,this.ww,this);m.appendChild(this.cI.n);this.fZ=new jp([12,14,0],1,1e3," px",0,!0);
this.fZ.k(v.E.p,this.ww,this);e.appendChild(this.fZ.n);this.ZV=new jp([12,17],0,100,"%");this.ZV.k(v.E.p,this.ww,this);
e.appendChild(this.ZV.n);this.$E=new as(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.$E.k(v.E.p,this.ww,this);e.appendChild(this.$E.n)}bc.prototype=new eR;bc.prototype.YS=function(){var i=["pencil","trees"];
for(var Y=0;Y<i.length;Y++)i[Y]="brushes/"+i[Y]+".abr";return i};bc.prototype.c=function(i,C,m){this.Wp=JSON.parse(JSON.stringify(i));
var e=Math.floor(20*d.XP()),z=Math.floor(36*d.XP()),L=Math.floor(24*d.XP()),l=eY.lU(i,C,m,e,L,z);this.W1.setAttribute("src",l);
d.n9(this.W1,z,L);var x=i.Brsh.v;this.fZ.c(x.Dmtr.v.val);if(x.Hrdn!=null){this.ZV.WN();this.ZV.c(x.Hrdn.v.val)}else this.ZV.hH();
if(x.Angl!=null)this.cI.c([x.Angl.v.val]);if(x.Rndn!=null)this.cI.c([null,null,x.Rndn.v.val/100]);var S=[!1,!1];
if(i.opVr)S[0]=i.opVr.v.bVTy.v==2;if(i.szVr)S[1]=i.szVr.v.bVTy.v==2;this.$E.c(S)};bc.prototype.b8=function(){return{list:[{t:"Objc",v:this.h()}],fT:[],bh:[]}};
bc.prototype.h=function(){return this.Wp};bc.prototype.KL=function(){if(!this.yh)return;var i=[],C=[],m=this.Jk,e=Math.floor(33*d.XP()),z=Math.floor(40*d.XP());
for(var Y=0;Y<m.list.length;Y++){var L=m.list[Y].v,l=eY.lU(L,m.fT,m.bh,e,z);i.push(l);C.push(L.Nm.v)}this.EJ.Tu(i,C,e,z);
this.yh=!1};bc.prototype.cZ=function(i){var C=this.Jk;this.c(C.list[this.EJ.h()[0]].v,C.fT,C.bh);this.T(new eX(v.E.p))};
bc.prototype._=function(){eR.prototype._.call(this);this.cI._();this.fZ._();this.ZV._()};bc.prototype.ww=function(i){var C=this.Jk,m=this.Wp,e=m.Brsh.v;
e.Dmtr.v.val=this.fZ.h();if(e.Hrdn!=null)e.Hrdn.v.val=this.ZV.h();if(e.Angl!=null)e.Angl.v.val=this.cI.h()[0];
if(e.Rndn!=null)e.Rndn.v.val=Math.round(this.cI.h()[2]*100);if(i.target==this.$E)iH.a9t(m,this.$E.h());
this.c(m,C.fT,C.bh);this.T(new eX(v.E.p))};function i3(i){eR.call(this,i,!0,"contourbutton",17*13,10.5*13,dm.ij)}i3.prototype=new eR;
i3.prototype.cZ=function(i){this.c(this.Jk[i.target.h()]);this.T(new eX(v.E.p))};i3.prototype.hh=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.c6,pw:"contoureditor",eo:this.Wp,response:this.ayq.bind(this)};this.T(C)};i3.prototype.ayq=function(i){this.c(i);
this.T(new eX(v.E.p))};i3.prototype.KL=function(){if(!this.yh)return;var i=Math.floor(38*d.XP()),C=Math.floor(38*d.XP()),m=[],e=[],z=this.Jk;
for(var Y=0;Y<z.length;Y++){e.push(z[Y].Nm?z[Y].Nm.v:"");m.push(I.$l.lU(z[Y].Crv.v,i,C))}this.EJ.Tu(m,e,i,C);
this.yh=!1};i3.prototype.c=function(i){this.Wp=JSON.parse(JSON.stringify(i));var C=this.Wp.Crv.v;for(var Y=0;
Y<C.length;Y++)if(C[Y].v.Cnty==null)C[Y].v.Cnty={t:"bool",v:!0};this.ja()};i3.prototype.ja=function(){var i=Math.floor(30*d.XP()),C=Math.floor(30*d.XP()),m=I.$l.lU(this.Wp.Crv.v,i,C);
this.W1.setAttribute("src",m);d.n9(this.W1,i,C)};i3.prototype.h=function(){return JSON.parse(JSON.stringify(this.Wp))};
function eP(i){k5.call(this);this.f2=null;this.os=null;this.M6=null;this.Gf=null;this.aCt=[];this.a2a=[];
this.n=d.t("span","fitem fillbutton");this.Ty=new k5;this.Ty.n=d.t("div","floatcont form");this.Ty.n.setAttribute("style","width: 21em;");
this.Ty.parent=this;this.cs=i;this.AP=this.AP=d.t("label","flabel");this.n.appendChild(this.AP);this.B2=d.t("canvas");
this.Hs=this.B2.getContext("2d");this.axj=null;this.n.appendChild(this.B2);d.h_(this.B2,this.KP.bind(this));
this.t5=new iw([12,66],["","Color","Grad","Patt"]);this.Ty.n.appendChild(this.t5.n);this.t5.k(v.E.p,this.OL,this);
this.Ty.n.appendChild(d.t("hr"));this.a2w=d.t("span");this.fu=new hv(!1);this.fu.parent=this.Ty;this.fu.k(v.E.p,this.OL,this);
this.RE=new eG(10);this.RE.k(v.E.p,this.OL,this);this.mf=d.t("div","marged hiline");this.mf.appendChild(this.fu.n);
d._Z(this.mf);this.mf.appendChild(this.RE.n);this.f$=new cA("GrFl",!0);this.f$.parent=this.Ty;this.f$.k(v.E.p,this.OL,this);
this.E8=d.t("div","marged hiline");var C="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var Y=0;
Y<C.length;Y++){var m=this.f$.as[C[Y]].n;this.E8.appendChild(m)}this.jt=new cA("patternFill",!0);this.jt.parent=this.Ty;
this.jt.k(v.E.p,this.OL,this);this.r9=d.t("div","marged hiline");var C=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<C.length;Y++){var m=this.jt.as[C[Y]].n;this.r9.appendChild(m)}}eP.prototype=new k5;eP.prototype.P6=function(i,C){var m=ca.EO(i,C);
if(m!=null)this.RE.c(m);if(C==dm.nZ){this.aCt=[];this.a2a=[];if(this.f2)this.c(this.M6,this.h(),this.f2)}this.os=i;
this.f$.P6(i,C);this.jt.P6(i,C)};eP.prototype._=function(){this.AP.textContent=bC.get(this.cs)+": ";
this.t5._();this.fu._();this.f$._();this.jt._()};eP.prototype.OL=function(i){var C=i.currentTarget;if(C==this.t5){var m=this.t5.h(),e={C9:m,Zc:this.f2[m]};
if(m>0&&e.Zc==null)e.Zc=JSON.parse(JSON.stringify(jt.$i[m-1]));if(this.f2)this.c(this.M6,e,this.f2)}if(C==this.RE)this.fu.Iw(C.h());
this.T(new eX(v.E.p,!1))};eP.prototype.KP=function(i){if(d.bv(this.Ty.n))return;i.stopPropagation();
var C=this.B2.getBoundingClientRect(),m=new eX(v.E.H,!0);m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height+4};
this.T(m)};eP.prototype.c=function(i,C,m){this.f2=m;this.M6=i;var e=[[13,1,0],[13,0],[12,37],[12,62]],z=this.aCt,L=this.a2a,l=!1,f;
for(var Y=0;Y<4;Y++){var x={C9:Y,Zc:m[Y]},S=eP.avy(x);if(L[Y]==S)continue;l=!0;var k=eP.akh(null,x,this.os,this.M6,22,22,!1);
z[Y]="<img width=\"22\" height=\"22\" src=\""+k+"\" />";L[Y]=S}if(l)this.t5.bD(z,e);this.t5.c(C.C9);
var S=eP.avy(C);if(S!=this.axj)eP.akh(this.Hs,C,this.os,this.M6,30,23,!0);this.axj=S;var X=C.C9;if(X==0){f=this.a2w}if(X==1){this.fu.c(C.Zc.Clr.v);
f=this.mf}if(X==2){this.f$.update(i,C.Zc);f=this.E8}if(X==3){this.jt.update(i,C.Zc);f=this.r9}if(f!=this.Gf){if(this.Gf!=null){this.Ty.n.removeChild(this.Gf)}this.Ty.n.appendChild(f);
this.Gf=f}};eP.prototype.h=function(){var i={C9:this.t5.h()};if(i.C9==1){i.Zc=JSON.parse(JSON.stringify(jt.$i[0]));
i.Zc.Clr.v=this.fu.h()}if(i.C9==2){i.Zc=this.f$.h()}if(i.C9==3){i.Zc=this.jt.h()}return i};eP.avy=function(i){var C=i.C9,m=i.Zc,e="empty";
if(C==1){e=I.I.oq(m.Clr.v);e=e.Z+","+e.r+","+e.e}if(C==2)e=JSON.stringify(m.Grad.v);if(C==3)e=m.Ptrn.v.Idnt.v;
return e};eP.akh=function(i,C,m,e,z,L,l){if(i==null)i=eP.Hs;var x=Math.floor(z*d.XP()),S=Math.floor(L*d.XP()),k=i.canvas;
k.width=x;k.height=S;d.n9(k,x,S);eP.aw9(i,C,m,e,x,S);if(l){i.beginPath();i.strokeStyle="#000000";i.fillStyle="#ffffff";
i.lineWidth=2;var f=x*.7,X=Math.floor(S*.7),o=7*d.XP();i.moveTo(f,X);i.lineTo(f+o,X);i.lineTo(f+o/2,X+o/2);
i.closePath();i.stroke();i.fill()}if(i==eP.Hs)return k.toDataURL()};eP.Hs=d.t("canvas").getContext("2d");
eP.aw9=function(i,C,m,e,z,L,l,x){if(l==null)l=0;if(x==null)x=0;var S=C.C9;if(S==0){i.fillStyle="#ffffff";
i.fillRect(l,x,z,L);i.strokeStyle="#ff0000";i.lineWidth=2;i.moveTo(l,x);i.lineTo(l+z,x+L);i.moveTo(l,x+L);
i.lineTo(l+z,x);i.stroke()}if(S==1){var k=C.Zc.Clr.v;k=I.I.oq(k);i.fillStyle="#"+I.dP(k.Z<<16|k.r<<8|k.e);
i.fillRect(l,x,z,L)}if(S==2){var f=$.pK.lU(C.Zc.Grad.v,z,L,0,m.Dm,m.yv,!0);i.putImageData(f,l,x)}if(S==3){var X=C.Zc.Ptrn.v,o;
if(e!=null)o=k4.LZ(X,e.add.Patt);if(o==null)o=k4.LZ(X,m.VN);cO.lU(o,z,L,i.canvas)}};eP.ahM=function(i,C,m,e,z,L,l){function x(A,P){return CSS.IT({Z:A[0]*255,r:A[1]*255,e:A[2]*255},P)}if(C==null){i.fillStyle="#ffffff";
i.fillRect(L,l,e,z);i.strokeStyle="#ff0000";i.lineWidth=2;i.moveTo(L,l);i.lineTo(L+e,l+z);i.moveTo(L,l+z);
i.lineTo(L+e,l);i.stroke()}else if(C.length==3){i.fillStyle=x(C);i.fillRect(L,l,e,z)}else if(C.length==4){var S=L+e/2,k=l+z/2,f=C[0]==0?i.createLinearGradient(L,l,L+e,l):i.createRadialGradient(S,k,0,S,k,e/2),X=C[1];
for(var Y=0;Y<X.length;Y++)f.addColorStop(X[Y][0],x(X[Y][1],X[Y][2]));i.fillStyle=f;i.fillRect(L,l,e,z)}else if(C.length==2){var o=m.iG[C[0]];
i.save();i.fillStyle="white";i.fillRect(L,l,e,z);i.rect(L,l,e,z);i.scale(e/o.m,z/o.J);i.fillStyle=o.a5O;
i.fill();i.restore()}};function cO(i){eR.call(this,i,!1,"patternbutton",18*13,10*13,dm.nZ);this.yc=null}cO.prototype=new eR;
cO.prototype.cZ=function(i){var C=this.Jk[this.EJ.h()];this.Wp={classID:"Ptrn",Nm:{t:"TEXT",v:C.name},Idnt:{t:"TEXT",v:C.id}};
this.T(new eX(v.E.p));this.ja()};cO.prototype.KL=function(){if(!this.yh)return;var i=this.Jk,C=Math.floor(34*d.XP()),m=Math.floor(34*d.XP()),e=[],z=[];
for(var Y=0;Y<i.length;Y++){e.push(cO.lU(i[Y],C,m));z.push(i[Y].name)}this.EJ.Tu(e,z,C,m);this.yh=!1};
cO.prototype.c=function(i,C){if(this.Wp&&i.Idnt.v==this.Wp.Idnt.v)return;this.Wp=JSON.parse(JSON.stringify(i));
this.ja(C)};cO.prototype.h=function(){return JSON.parse(JSON.stringify(this.Wp))};cO.prototype.b8=function(){return this.yc?[this.yc]:[]};
cO.prototype.ja=function(i){var C=Math.floor(50*d.XP()),m=Math.floor(50*d.XP()),e;if(i!=null)e=k4.LZ(this.Wp,i.add.Patt);
if(e==null)e=k4.LZ(this.Wp,this.Jk);this.yc=e;var z=cO.lU(e,C,m);this.W1.setAttribute("src",z);d.n9(this.W1,C,m)};
cO.B2=d.t("canvas","");cO.lU=function(i,C,m,e){if(e==null)e=cO.B2;var z=e.getContext("2d");e.width=C;
e.height=m;if(i){var L=i.GK[1],l=L.m,x=L.J,S=i.GK[0],k=Math.min(C/l,m/x),f=k;if(f*l<2)f=2/l;var X=k;
if(X*x<2)X=2/x;var o=$.V.eX([S,L],new hN(f,0,0,X,0,0),f>2),A=o.rect.m,P=o.rect.J,F=z.createImageData(A,P);
I.EP(o.buffer,F.data);z.putImageData(F,Math.floor((C-A)/2),Math.floor((m-P)/2))}return e.toDataURL()};
function a0(i,C,m){if(C==null)C=24.2;if(m==null)m=17;eR.call(this,i,!1,"patternbutton",C*13,m*13,dm.nx);
this.Q7=""}a0.prototype=new eR;a0.prototype.cZ=function(i){this.Wp=JSON.parse(JSON.stringify(this.Jk[0][this.EJ.h()[0]]));
this.T(new eX(v.E.p))};a0.prototype.KL=function(){var i=this.Jk;if(i==null||!this.yh)return;var C=Math.floor(50*d.XP()),m=Math.floor(50*d.XP()),e=[],z=[];
for(var Y=0;Y<i[0].length;Y++){e.push(a0.lU(this.Jk[0][Y].b2,C,m,this.Jk[1]));z.push(i[0][Y].hg.Nm.v.split("=").pop())}this.EJ.Tu(e,z,C,m);
this.yh=!1};a0.prototype.c=function(i,C,m,e){var z=JSON.stringify(i.b2)+","+m+","+e;if(this.Q7!=z){this.Q7=z;
this.Wp=JSON.parse(JSON.stringify(i));this.ja(C,m,e)}};a0.prototype.h=function(){return JSON.parse(JSON.stringify(this.Wp))};
a0.prototype.ja=function(i,C,m){var e=Math.floor(68*d.XP()),z=Math.floor(68*d.XP()),L=a0.lU(this.Wp.b2,e,z,i?i:this.Jk[1],C,m);
this.W1.setAttribute("src",L);d.n9(this.W1,e,z)};a0.lU=function(i,C,m,e,z,L){var l=new ei;l.m=C;l.J=m;
l.buffer=I.R(C*m*4);l.add.Patt=e;l.mC(z==null?90:z);l.XO(L==null?30:L);var x=new j2(0,0,Math.round(C*.5),Math.round(m*.5));
x.x=Math.round((C-x.m)/2);x.y=Math.round((m-x.J)/2);var S=l.Sv();S.rect=x;S.buffer=I.R(x.P()*4);I.eS(S.buffer,4284045657);
k4.a35(i,S,.5*100);l.M.push(S);l.JJ();l.Y();var k=cY.fp;cY.fp=!1;l.um();var f=l.I6();cY.fp=k;var X=i$.yt(f.buffer,l.m,l.J);
return X};function jb(i){eR.call(this,null,!1,"tpresetbutton",18*13,24*13,dm.tM,!0);d.nP(this.n,"fitem");
this.EJ.Va(1);this.id=i;this.ja();this.d.style.overflow="hidden";this.ru=new em([15,7,9]);this.ru.c(!0);
this.ru.k(v.E.p,this.agh,this);this.R2.appendChild(this.ru.n)}jb.prototype=new eR;jb.prototype.azW=function(i){if(this.id==i)return;
this.id=i;this.dp(this.Jk)};jb.prototype.cZ=function(i){var C=this.Jk[this.EJ.h()],m=new eX(v.E.H,!0);
m.data={d:v.B.Mc,hl:"set",N5:dm.tM,mb:C};this.T(m)};jb.prototype._=function(){eR.prototype._.call(this);
this.ru._()};jb.prototype.agh=function(){this.yh=!0;this.KL()};jb.prototype.KL=function(){if(!this.yh)return;
var i=Math.floor(16*d.XP()),C=Math.floor(16*d.XP()),m=[],e=[],z=this.Jk,L=this.ru.h();for(var Y=0;Y<z.length;
Y++){var l=$.zB[z[Y][1].classID];if(!L||l==this.id){e.push(z[Y][0]?z[Y][0].split("=").pop():"");m.push(l==-1?"":PIMG[$.Jy[l]])}else{m.push(null);
e.push(null)}}this.EJ.Tu(m,e,i,C);this.yh=!1};jb.prototype.ja=function(){var i=this.W1;i.setAttribute("src",PIMG[$.Jy[this.id]]);
d.uc(i,"toolicon")};jb.prototype.b8=function(){return null};jb.zj={};jb.lU=function(i,C,m){var e=jb.Hs,z=jb.zj,L=I.dP(i.Z<<16|i.r<<8|i.e);
if(z[L])return z[L];if(e==null){var l=d.t("canvas");e=jb.Hs=l.getContext("2d")}var l=e.canvas;l.width=C;
l.height=m;e.fillStyle="#"+L;e.fillRect(0,0,C,m);var x=z[L]=l.toDataURL();return x};function a_(i,C,m){k5.call(this);
this.n=d.t("span","fitem curveeditor");this.P8=null;this.aqX=0;this.Fw="";this.mode=0;this.hd=i;this.apQ=C;
this.ajB=m;this.LG=null;this.Ft=null;this.aiU=0;this.aCV=0;this.xH=new b5;this.gW=this.Pd.bind(this);
this.H$=this.I7.bind(this);this.tW=256;this.B2=d.t("canvas");this.Hs=this.B2.getContext("2d");d.o$(this.B2);
this.n.appendChild(this.B2);this.Oh(256,256);d.h_(this.B2,this.hk.bind(this));this.coords=d.t("div");
this.coords.setAttribute("style","width:250px");this.n.appendChild(this.coords);var e=this.ML=m?100:255,z=null;
this.Tn=new db("X (in)",0,e,z,0,!1,!0);this.EE=new db("Y (out)",0,e,z,0,!1,!0);this.q8=new em([19,3,0]);
this.Tn.k(v.E.p,this.x$,this);this.EE.k(v.E.p,this.x$,this);this.q8.k(v.E.p,this.x$,this);this.coords.appendChild(this.Tn.n);
if(m)this.coords.appendChild(this.q8.n);this.coords.appendChild(this.EE.n)}a_.prototype=new k5;a_.prototype._=function(){this.q8._();
this.Tn._();this.EE._()};a_.prototype.Oh=function(i,C){this.tW=Math.round(i);this.Hs.resetTransform();
d.Ay(this.B2,this.tW,this.tW,this.Hs);this.Hs.scale(this.tW/256,this.tW/256);if(this.LG)this.ZT()};a_.prototype.x$=function(i){var Y=this.amM(),C=this.LG[Y],m=255/this.ML;
C.v.Hrzn.v=this.Tn.h()*m;C.v.Vrtc.v=this.EE.h()*m;if(this.ajB)C.v.Cnty.v=this.q8.h();this.LG.sort(function(e,z){return e.v.Hrzn.v-z.v.Hrzn.v});
this.ZT();this.T(new eX(v.E.p))};a_.prototype.c=function(i,Y){var C=JSON.stringify(i);if(C==JSON.stringify(this.LG))return;
this.mode=i.length==256?1:0;this.LG=JSON.parse(C);if(Y!=null)this.Ft=this.LG[Y];this.ZT()};a_.prototype.Sw=function(i,C,m){this.P8=i;
this.aqX=C;this.Fw=m;this.ZT()};a_.prototype.h=function(){return JSON.parse(JSON.stringify(this.LG))};
a_.prototype.amM=function(){return this.LG.indexOf(this.Ft)};a_.prototype.hk=function(i){var C=256/this.tW,m=d.CV(i,this.B2);
m.x*=C;m.y*=C;var e=m.x,z=256-m.y;if(this.hd){var L=e;e=256-z;z=L}this.xH.zy(e,z);if(this.mode==0){var l=0,x=1e9,o;
for(var Y=0;Y<this.LG.length;Y++){var S=this.LG[Y].v,k=S.Hrzn.v-e,f=S.Vrtc.v-z,X=Math.sqrt(k*k+f*f);
if(X<x){x=X;l=Y}}if(x<15)o=this.LG[l];else{o=I.$l.$z(e,z,!0);this.LG.push(o);this.LG.sort(function(A,P){return A.v.Hrzn.v-P.v.Hrzn.v})}this.Ft=o;
this.aCV=this.LG.slice(0)}d.AX(document.body,this.gW);d.xd(document.body,this.H$);this.Pd(i)};a_.prototype.Pd=function(i){var C=256/this.tW,m=d.CV(i,this.B2);
m.x*=C;m.y*=C;var e=m.x,z=256-m.y;if(this.hd){var L=e;e=256-z;z=L}if(this.mode==0){var l=this.LG,x=this.Ft,S=this.aCV,k=S.indexOf(x),f=l.indexOf(x)!=-1,X=S.length-1,o=e;
if(k==0){o=Math.max(0,Math.min(S[1].v.Hrzn.v-1,e))}else if(k==X){o=Math.min(255,Math.max(S[X-1].v.Hrzn.v+1,e))}else{var A=e<0||e>255||z<0||z>255;
if(e<=S[k-1].v.Hrzn.v||e>=S[k+1].v.Hrzn.v)A=!0;if(!A&&!f)l.splice(k,0,x);if(A&&f)l.splice(k,1)}if(this.apQ&&(k==0||k==S.length-1)){}else x.v.Hrzn.v=Math.round(o);
x.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(z)))}else{e=Math.round(e);z=Math.round(z);e=Math.max(0,Math.min(255,e));
z=Math.max(0,Math.min(255,z));var P=this.xH.x,F=e,n=this.xH.y,R=z;if(e<this.xH.x){F=P;P=e;R=n;n=z}this.LG[e]=z;
if(P!=F)for(var Q=P;Q<=F;Q++)this.LG[Q]=Math.round(n+(Q-P)*(R-n)/(F-P))}this.xH.zy(e,z);this.ZT();this.T(new eX(v.E.p))};
a_.prototype.I7=function(i){d.nz(document.body,this.gW);d.uh(document.body,this.H$);this.T(new eX(v.E.p))};
a_.prototype.ZT=function(){var i=this.Hs,C=this.B2;i.fillStyle="#ffffff";i.fillRect(0,0,256,256);var m=256/C.width;
if(this.P8){i.save();i.translate(0,256);i.scale(1,-1);dG.af_(i,this.P8,5700/this.aqX,this.Fw);i.restore()}i.strokeStyle="#aaaaaa";
i.lineWidth=1*m;i.beginPath();for(var Y=1;Y<4;Y++){var e=(Math.floor(64*Y/m)+.5)*m;i.moveTo(0,e);i.lineTo(255,e);
i.moveTo(e,0);i.lineTo(e,255)}i.stroke();if(this.hd){i.save();i.transform(0,1,-1,0,256,0)}if(this.mode==0){var z=this.LG,L=I.$l.K7(z,256);
i.strokeStyle="#000000";i.beginPath();i.moveTo(0,255.5-L[0]);for(var Y=0;Y<256;Y++)i.lineTo(Y,255.5-L[Y]);
i.stroke();i.lineWidth=2*m;for(var Y=0;Y<z.length;Y++){var l=z[Y].v;i.fillStyle=this.Ft==z[Y]?"#333":"#fff";
i.beginPath();i.moveTo(l.Hrzn.v,255.5-l.Vrtc.v);i.arc(l.Hrzn.v,255.5-l.Vrtc.v,5*m,0,2*Math.PI);i.stroke();
i.fill()}}else{var L=this.LG;i.strokeStyle="#000000";i.beginPath();i.moveTo(0,255.5-L[0]);for(var Y=0;
Y<256;Y++)i.lineTo(Y,255.5-L[Y]);i.stroke()}if(this.hd)i.restore();var Y=this.amM();this.coords.className=Y==-1?"disabled":"";
if(Y==-1)return;var l=this.LG[Y].v,x=255/this.ML;this.Tn.c(Math.round(l.Hrzn.v/x));this.EE.c(Math.round(l.Vrtc.v/x));
if(l.Cnty)this.q8.c(l.Cnty.v)};function dG(i,C){k5.call(this);this.n=d.t("span","");this.Pl=new ib([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.Pl.k(v.E.p,this.__,this);this.n.appendChild(this.Pl.n);d._Z(this.n);var m=d.t("div");this.n.appendChild(m);
m.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.B2=d.t("canvas");var e=this.B2;
m.appendChild(e);e.width=Math.round(i*d.XP());e.height=Math.round(100*d.XP());d.n9(e,e.width,e.height);
e.style.display="block";this.Hs=e.getContext("2d");this.P8=null;this.QW=0;this.aDn=null;this.aa4=[];
this.AB=[];var z=["Mean:","Pixels:"],L=this.n;if(C)for(var Y=0;Y<z.length;Y++){var l=new bd(z[Y]);this.aa4.push(l);
L.appendChild(l.n);var x=new bd("hi");this.AB.push(x);L.appendChild(x.n);d._Z(L)}}dG.prototype=new k5;
dG.prototype._=function(){this.Pl._()};dG.prototype.Va=function(i){this.Pl.c(i);this.__()};dG.prototype.c=function(i,C){this.P8=i;
this.aDn=C;this.__()};dG.prototype.Iw=function(i){if(i==this.QW)return;this.QW=i;this.__()};dG.prototype.__=function(){if(this.P8==null)return;
var i=this.B2,C=this.Hs,m=this.P8,e=this.aDn,z=this.Pl.h(),L=6e3/m[4],l="#"+I.dP(this.QW),x=dG.af_;i.width=i.width;
C.setTransform(i.width/256,0,0,-i.height/100,0,i.height);C.globalCompositeOperation="lighter";if(z==0)x(C,m[0],L/3,l);
else if(z<4)x(C,m[z],L,l);else{x(C,m[1],L,"#ff0000");x(C,m[2],L,"#00ff00");x(C,m[3],L,"#0000ff")}C.setTransform(1,0,0,1,0,0);
if(e!=null){if(z==4)z=0;var S=0;for(var Y=0;Y<256;Y++)S+=Y*m[z][Y];if(z==0)S/=3;this.AB[0].c((S/e).toFixed(1)+"");
this.AB[1].c(e+"")}};dG.af_=function(i,C,m,e){i.beginPath();i.moveTo(0,0);for(var z=0;z<256;z++)i.lineTo(z,C[z]*m);
i.lineTo(256,0);i.closePath();i.fillStyle=e;i.fill()};function hZ(i,C){k5.call(this);this.Uw={Z:0,r:0,e:0};
if(Math.abs(i-256/d.XP())<10)i=256/d.XP();var m=this.n=d.t("div","flexrow");m.style.position="relative";
var e=this.aye=d.t("div");m.appendChild(e);this.Pr=new b5;this.Sb=new b5;this.o2=this.H7.bind(this);
this.mc=this.arC.bind(this);this.B2=d.t("canvas","");this.Hs=this.B2.getContext("2d");this.B2.width=this.B2.height=256;
this.aj2=this.Hs.getImageData(0,0,256,256);this.aAv=-1;this.ajQ="";this.nw=null;d.o$(this.B2);d.h_(this.B2,this.aBW.bind(this));
e.appendChild(this.B2);this.a9U=this.a4$.bind(this);this.ajJ=this.azC.bind(this);this.$W=d.t("canvas","");
this.tE=this.$W.getContext("2d");this.$W.width=20;this.$W.height=256;this.amf=this.tE.getImageData(0,0,20,256);
hZ.a2Z(this.amf.data,20,256);d.o$(this.$W);d.h_(this.$W,this.ac8.bind(this));m.appendChild(this.$W);
this.B2.setAttribute("style","width:"+i+"px; height:"+i+"px");this.$W.setAttribute("style","width:16px; height:"+i+"px");
this.SW=new em("Web Colors\u2001");this.SW.k(v.E.p,this.update,this);this.jK=new em("CMYK gamut");this.jK.k(v.E.p,this.update,this);
if(C){d._Z(e);e.appendChild(this.SW.n);e.appendChild(this.jK.n)}var z=this.XH=document.createElementNS("http://www.w3.org/2000/svg","svg");
m.appendChild(z)}hZ.prototype=new k5;hZ.prototype.Oh=function(i,C){this.B2.style.width=this.aye.style.width=i-16+"px"};
hZ.prototype.c=function(i){if(this.SW.h()){var C=JSON.parse(JSON.stringify(i));hZ.Ha(C);var m=this.h();
if(C.Z==m.Z&&C.r==m.r&&C.e==m.e)i=this.Uw}this.Uw=i;this.update()};hZ.prototype.h=function(){var i=JSON.parse(JSON.stringify(this.Uw));
if(this.SW.h())hZ.Ha(i);return i};hZ.prototype.update=function(){var i=this.Uw,C=I.wK(i.Z,i.r,i.e),x=18;
if(C.qg==0)C.ve=this.Pr.x/255;if(C.ve==0||C.qg==0)C.bB=(255-this.uI(this.Sb.y))/255;if(C.qg!=0)this.Pr.x=C.ve*255;
this.Pr.y=(1-C.qg)*255;this.Sb.y=(1-C.bB)*255;var m=this.aj2,e=this.SW.h(),z=this.jK.h(),L=e+","+z;if(Math.abs(C.bB-this.aAv)>.002||this.ajQ!=L){this.aqh(m.data,256,256,C.bB,e,z);
this.ag1();this.aAv=C.bB;this.ajQ=L}var l=this.Hs;l.putImageData(m,0,0);m=this.amf;l=this.tE;l.putImageData(m,0,0);
l.strokeStyle="#ffffff";l.beginPath();l.moveTo(0,this.Sb.y);l.lineTo(20,this.Sb.y);l.lineWidth=2;l.stroke();
var S=this.Pr.y/255,k=parseFloat(this.B2.style.width),f=parseFloat(this.B2.style.height),X=this.XH;X.setAttribute("width",x);
X.setAttribute("height",x);var o=Math.round(i.Z*255)<<16|Math.round(i.r*255)<<8|Math.round(i.e*255),A="<circle cx=\""+x/2+"\" cy=\""+x/2+"\" r=\""+x/2+"\" fill=\"#"+I.dP(o)+"\"></circle>";
A+="<circle cx=\""+x/2+"\" cy=\""+x/2+"\" r=\""+(-.5+x/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*S)+")\" stroke-width=\"1\"></circle>";
A+="<circle cx=\""+x/2+"\" cy=\""+x/2+"\" r=\""+(-1.2+x/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
X.innerHTML=A;X.style.pointerEvents="none";X.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
X.style.position="absolute";X.style.left=k*(this.Pr.x/255)-x/2+"px";X.style.top=f*(this.Pr.y/255)-x/2+"px"};
hZ.Ha=function(i){i.Z=~~(.5+i.Z*5)*.2;i.r=~~(.5+i.r*5)*.2;i.e=~~(.5+i.e*5)*.2};hZ.prototype.aqh=function(i,C,m,e,z,L){var l=1/C,x=1/m;
for(var S=0;S<m;S++)for(var k=0;k<C;k++){var f=I.Aj(e,k*l,(m-S-1)*x);if(z)hZ.Ha(f);var Y=S*C+k<<2;i[Y+0]=~~(f.Z*255);
i[Y+1]=~~(f.r*255);i[Y+2]=~~(f.e*255);i[Y+3]=255}if(L){var X=i.slice(0),o=I.BZ("rgbToRgbC"),A=o[2],P=o[3];
ICC.U.applyLUT(P,A,X,X);this.nw=I.R(C*m);for(var Y=0;Y<i.length;Y+=4){var F=i[Y]-X[Y],n=i[Y+1]-X[Y+1],R=i[Y+2]-X[Y+2],Q=F*F+n*n+R*R;
if(Q>300){i[Y]=i[Y+1]=i[Y+2]=200;this.nw[Y>>>2]=255}}}};hZ.a2Z=function(i,C,m,e,z){if(e==null)e=1;if(z==null)z=0;
var L=new Uint32Array(i.buffer);for(var l=0;l<m;l++){var x=I.Aj((1+e*(1-l/m)+z)%1,1,1),S=255<<24|x.e*255<<16|x.r*255<<8|x.Z*255;
for(var k=0;k<C;k++)L[l*C+k]=S}};hZ.prototype.aBW=function(i){d.AX(window,this.o2);d.xd(window,this.mc);
this.H7(i);this.XH.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.XH.style.transform="scale(2.4)"};
hZ.prototype.arC=function(i){d.nz(window,this.o2);d.uh(window,this.mc);this.XH.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.XH.style.transform="scale(1)"};hZ.prototype.H7=function(i){var C=d.CV(i,this.B2);C.x=C.x*(256/parseFloat(this.B2.style.width));
C.y=C.y*(256/parseFloat(this.B2.style.height));this.Pr.zy(this.uI(C.x),this.uI(C.y));this.ag1();this.ec()};
hZ.prototype.ag1=function(){if(!this.jK.h())return;var i=this.Pr,C=0,m=0,e=1e9;for(var z=0;z<256;z++){for(var L=0;
L<256;L++){if(this.nw[z*256+L]==255)continue;var l=L-i.x,x=z-i.y,S=l*l+x*x;if(S<e){C=L;m=z;e=S}}}i.x=C;
i.y=m};hZ.prototype.ec=function(){this.Uw=this.aq4();this.T(new eX(v.E.p))};hZ.prototype.aq4=function(){var i=I.Aj((255-this.uI(this.Sb.y))/255,this.R9(this.Pr.x/255),this.R9(1-this.Pr.y/255));
return{Z:i.Z,r:i.r,e:i.e}};hZ.prototype.ac8=function(i){d.AX(window,this.a9U);d.xd(window,this.ajJ);
this.a4$(i)};hZ.prototype.azC=function(i){d.nz(window,this.a9U);d.uh(window,this.ajJ)};hZ.prototype.a4$=function(i){var C=d.CV(i,this.$W);
C.y=C.y*(256/parseFloat(this.$W.style.height));this.Sb.zy(this.uI(C.x),this.uI(C.y));this.ec()};hZ.prototype.uI=function(i){return Math.max(0,Math.min(255,i))};
hZ.prototype.R9=function(i){return Math.max(0,Math.min(1,i))};function cb(i,C,m,e){var z=iw.XA(C,e);
iw.call(this,i,z,m)}cb.prototype=new iw;function aM(){k5.call(this);this.p7=null;this.Qh=new bQ;this.Qh.k(v.E.p,this.a9$,this);
this.Qh.parent=this;this.ac=new db([12,14,0],1,150,"px",0,!0);this.ac.k(v.E.p,this.l0,this);this.ac.parent=this;
this.rr=new db([16,0],.01,100,"px",2,!0,null,5);this.rr.k(v.E.p,this.l0,this);this.rr.parent=this;this.Rm=new em("Auto");
this.Rm.k(v.E.p,this.l0,this);this._a=new db([16,1],-500,5e3,"%",0,!0);this._a.k(v.E.p,this.l0,this);
this._a.parent=this;this.$n=new db("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.$n.k(v.E.p,this.l0,this);
this.$n.parent=this;this.fP=new db("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.fP.k(v.E.p,this.l0,this);
this.fP.parent=this;this.Xw=new db([16,2],-10,10,"px");this.Xw.k(v.E.p,this.l0,this);this.Xw.parent=this;
this.sp=new hv(!0);this.sp.k(v.E.p,this.AQ,this);this.sp.parent=this;this.Ue=new hv(!0);this.Ue.k(v.E.p,this.AQ,this);
this.Ue.parent=this;this.QO=new hv(!0);this.QO.k(v.E.p,this.AQ,this);this.QO.parent=this;this.Cs=new hv(!0);
this.Cs.k(v.E.p,this.AQ,this);this.Cs.parent=this;this.yq=new em([2,3]);this.yq.k(v.E.p,this.l0,this);
this.iU=new em([14,9]);this.iU.k(v.E.p,this.l0,this);this._L=new em([12,46]);this._L.k(v.E.p,this.l0,this);
this.rm=new c1("...",null,null,!0);this.rm.n.style.marginLeft="-8px";d.h_(this.rm.n,this.am5.bind(this));
this.Ty=new k5;var i=this.Ty.n=d.t("div","floatcont form"),z=100;this.Ty.parent=this;this.fi=new db([12,41],1,20,"px",0,!0,!0);
this.fi.n.style.marginLeft="16px";this.fi.k(v.E.p,this.l0,this);this.fi.parent=this.Ty;i.appendChild(this.Ue.n);
i.appendChild(this.yq.n);d._Z(this.Ty.n);i.appendChild(this.QO.n);i.appendChild(this.iU.n);i.appendChild(this.fi.n);
d._Z(this.Ty.n);i.appendChild(this.Cs.n);i.appendChild(this._L.n);this.TV=new c1("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Uy=new c1("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Q1=new c1("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.LX=new c1("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.az=new c1("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.UA=new c1("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Ls=new c1("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.TM=new c1("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var C=[this.TV,this.Uy,this.Q1,this.LX,this.az,this.UA,this.Ls,this.TM];
for(var Y=0;Y<C.length;Y++)C[Y].k("click",this.ar1,this);this.Ou=new c1("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Bv=new c1("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.j1=new c1("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aex=new c1("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.acP=new c1("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a9Z=new c1("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.awl=new c1("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.VP=[this.Ou,this.Bv,this.j1,this.aex,this.acP,this.a9Z,this.awl];for(var Y=0;Y<this.VP.length;Y++)this.VP[Y].k("click",this.l0,this);
var m=["lind","rind","flind","bind","aind"],e=[];for(var Y=0;Y<5;Y++)e.push("<img src=\""+PIMG["par/"+m[Y]]+"\" class=\"autoscale gsicon\" /> ");
this.We=new db(e[0],-z,z,"px");this.YF=new db(e[1],-z,z,"px");this.W4=new db(e[2],-z,z,"px");this.sH=new db(e[3],-z,z,"px");
this.nq=new db(e[4],-z,z,"px");this.jx=new iw([12,33],["Abc ...","... أي بي"]);this.vf=new db(["Auto VAR0",[16,0]],0,500,"%");
this.Or=[this.We,this.YF,this.W4,this.sH,this.nq,this.jx,this.vf];for(var Y=0;Y<this.Or.length;Y++){var L=this.Or[Y];
L.k(v.E.p,this.l0,this);L.parent=this}}aM.prototype=new k5;aM.prototype.am5=function(i){if(d.bv(this.Ty.n))return;
i.stopPropagation();var C=this.rm.n.getBoundingClientRect(),m=new eX(v.E.H,!0);m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height+4};
this.T(m)};aM.prototype._=function(){this.Qh._();this.ac._();this.rr._();this._a._();this.Xw._();this.$n._();
this.fP._();this.yq._();this.iU._();this._L._();this.fi._();for(var Y=0;Y<this.Or.length;Y++)this.Or[Y]._()};
aM.prototype.c=function(i,C,m){this.c4=JSON.parse(JSON.stringify(i));var e=this.c4,z=e.hU,L=e.t7;this.TV.c(z.FauxBold!=null?z.FauxBold:!1);
this.Uy.c(z.FauxItalic!=null?z.FauxItalic:!1);this.Q1.c(z.FontCaps==2);this.LX.c(z.FontCaps==1);this.UA.c(z.FontBaseline==1);
this.az.c(z.FontBaseline==2);this.Ls.c(z.Underline);this.TM.c(z.Strikethrough);this.Qh.c(z.Font==null?null:e.JR[z.Font].Name,C,m);
var l=z.FontSize==null?20:z.FontSize;this.ac.c(l);var x=z.Tracking;this._a.c(x==null?0:x);this.fi.c(z._LineWidth!=null?z._LineWidth:1);
this.rr.c(z.Leading!=null&&z.Leading!=0?z.Leading:l);this.Rm.c(z.AutoLeading);this.$n.c((z.VerticalScale!=null?z.VerticalScale:0)*100);
this.fP.c((z.HorizontalScale!=null?z.HorizontalScale:0)*100);this.Xw.c(z.BaselineShift!=null?z.BaselineShift:0);
this.yq.c(z.FillFlag!=null?z.FillFlag:!1);this.iU.c(z.StrokeFlag!=null?z.StrokeFlag:!1);this._L.c(z._FillBackgroundFlag!=null?z._FillBackgroundFlag:!1);
this.fv(z.FillColor,this.sp);this.fv(z.FillColor,this.Ue);this.fv(z.StrokeColor,this.QO);this.fv(z._FillBackgroundColor,this.Cs);
var S=L._Direction!=null?L._Direction:0,k=e7.e4(L);for(var Y=0;Y<this.VP.length;Y++)this.VP[Y].c(k==Y);
this.jx.c(S);this.vf.c((L.AutoLeading!=null?L.AutoLeading:1.2)*100);this.We.c(L.StartIndent!=null?L.StartIndent:0);
this.YF.c(L.EndIndent!=null?L.EndIndent:0);this.W4.c(L.FirstLineIndent!=null?L.FirstLineIndent:0);this.sH.c(L.SpaceBefore!=null?L.SpaceBefore:0);
this.nq.c(L.SpaceAfter!=null?L.SpaceAfter:0)};aM.prototype.fv=function(i,C){if(i){var m=e7.oq(i);C.Iw(Math.round(m.Z)<<16|Math.round(m.r)<<8|Math.round(m.e))}else C.Iw(0)};
aM.prototype.Lb=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.Mc,N5:dm.QI,c4:this.c4};this.T(i);var i=new eX(v.E.v,!0);
i.f=$.ck;i.data={d:"updateStyles"};this.T(i)};aM.prototype.ar1=function(i){var C=this.c4.hU,m=i.target,e=!m.M5();
if(m==this.TV)C.FauxBold=e;if(m==this.Uy)C.FauxItalic=e;if(m==this.Q1)C.FontCaps=e?2:0;if(m==this.LX)C.FontCaps=e?1:0;
if(m==this.UA)C.FontBaseline=e?1:0;if(m==this.az)C.FontBaseline=e?2:0;if(m==this.Ls)C.Underline=e;if(m==this.TM)C.Strikethrough=e;
this.Lb()};aM.prototype.l0=function(i){var C=this.c4.hU,m=this.c4.t7,e=i.target;if(e==this._a){var z=this._a.h();
C.Tracking=z}if(e==this.rr){C.AutoLeading=!1;C.Leading=this.rr.h()}if(e==this.Rm){C.AutoLeading=this.Rm.h()}if(e==this.fi)C._LineWidth=e.h();
if(e==this.ac)C.FontSize=e.h();if(e==this.$n)C.VerticalScale=e.h()/100;if(e==this.fP)C.HorizontalScale=e.h()/100;
if(e==this.Xw)C.BaselineShift=e.h();if(e==this.yq)C.FillFlag=e.h();if(e==this.iU)C.StrokeFlag=e.h();
if(e==this._L)C._FillBackgroundFlag=e.h();if(this.VP.indexOf(e)!=-1){m.Justification=e7.e4(m,this.VP.indexOf(e))}if(e==this.We)m.StartIndent=e.h();
if(e==this.YF)m.EndIndent=e.h();if(e==this.W4)m.FirstLineIndent=e.h();if(e==this.sH)m.SpaceBefore=e.h();
if(e==this.nq)m.SpaceAfter=e.h();if(e==this.jx)m._Direction=e.h();if(e==this.vf)m.AutoLeading=e.h()/100;
this.Lb()};aM.prototype.a9$=function(i){var C=this.c4,m=this.Qh.h(),e=-1;for(var Y=0;Y<C.JR.length;Y++)if(C.JR[Y].Name==m)e=Y;
if(e==-1){e=C.JR.length;var z=JSON.parse(JSON.stringify(C.JR[0]));z.Name=m;C.JR.splice(e,0,z)}C.hU.Font=e;
this.Lb()};aM.prototype.AQ=function(i){var C=i.target,m=C.qH(),e={Type:1,Values:[1,(m>>16&255)/255,(m>>8&255)/255,(m>>0&255)/255]};
for(var Y=0;Y<4;Y++)e.Values[Y]=Math.round(e.Values[Y]*1e3)/1e3;var z=C==this.sp||C==this.Ue?0:C==this.QO?1:2;
this.c4.hU[["FillColor","StrokeColor","_FillBackgroundColor"][z]]=e;this.Lb()};function bQ(){k5.call(this);
this.n=d.t("span","fontinput");this.LE=null;this.RS=null;this.aF=null;this.OF="";this.wO={};this.ee=[];
this.u1={};this.amh={};this.Rl=[];this.$p=!1;this.aL=d.t("button","fitem");this.aL.setAttribute("style","width:9em;");
this.aL.textContent="Family Name \u25BC";this.n.appendChild(this.aL);d.h_(this.aL,this.a5$.bind(this));
this.Ur=new k5;this.Ur.parent=this;var i=this.Ur.n=d.t("div","floatcont");i.style.padding="7px 7px 3px 7px";
var C=new bd("Recent");i.appendChild(C.n);var m=this.aDz=new c1([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
m.k("click",this.a8D,this);m.n.style.float="right";i.appendChild(m.n);var e=this.se=new em("Local Fonts");
e.k(v.E.p,this.ah2,this);e.n.style.float="right";e.n.style.marginRight="10px";e.n.style.marginTop="3px";
i.appendChild(e.n);d._Z(i);this.Er=d.t("span","fitem imageset scrollable");this.Er.style.maxHeight="8em";
i.appendChild(this.Er);var z=d.t("div","form");this.Ur.n.appendChild(z);this.mg=new c1(d.W3("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.mg.k("click",this.a5I,this);z.appendChild(this.mg.n);this.mw=new kz([12,86],null,7.5);this.mw.k("input",this.VS,this);
z.appendChild(this.mw.n);this.pq=new hL(10,"\u2630");z.appendChild(this.pq.n);this.pq.parent=this.Ur;
this.pq.k(v.E.p,this.bE,this);this.pq.n.style.float="right";this.pq.n.style.marginRight="0";this.J4=d.t("span","fitem imageset scrollable");
this.J4.style.height="30em";this.Ur.n.appendChild(this.J4);this.J4.addEventListener("scroll",this.aaU.bind(this),!1);
this.nh=d.t("button","fitem");this.nh.setAttribute("style","width:7em;");this.nh.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.nh);d.h_(this.nh,this.a5$.bind(this));this.Cq=new k5;this.Cq.parent=this;this.Cq.n=d.t("div","floatcont");
this.Lh=d.t("span","fitem imageset scrollable");this.Cq.n.appendChild(this.Lh);this.ahZ=this.avC.bind(this);
this.al1=this.ajp.bind(this)}bQ.prototype=new k5;bQ.prototype.ah2=function(i){gA.Ln.wo(i.target.h(),function(){this.c();
this.bE()}.bind(this),function(){this.se.c(!1)}.bind(this));this.bE()};bQ.prototype.aaU=function(i){var C=this.J4.scrollTop,m=this.ee,e=Math.floor(C/27),z=Math.min(e+20,m.length);
for(var Y=e;Y<z;Y++)this.adz(m[Y])};bQ.prototype.a8D=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.mp,a14:".otf,.ttf,.ttc"};
this.T(i)};bQ.prototype._=function(){this.pq._();this.aDz._();this.se.c(gA.Ln.M5());this.mg._H(d.W3("tools/cshape",null,"autoscale"))};
bQ.prototype.a5I=function(i){this.mg.c(!this.mg.M5());this.bE()};bQ.prototype.VS=function(i){this.OF=this.mw.h().toLowerCase();
this.bE()};bQ.prototype.a5$=function(i){d.Vw(i);var C=i.currentTarget,m=C.getBoundingClientRect(),e=C==this.aL,z=e?this.Ur:this.Cq;
if(d.bv(z.n)){this.a5S(z);return}if(!e&&this.LE.OA()[this.aF]==null)return;var L=new eX(v.E.H,!0);L.data={d:v.B.vs,aA:z,x:m.left,y:m.top+m.height};
this.T(L);if(e){this.bE(null,!0)}};bQ.prototype.avC=function(i){var C=i.currentTarget.firstChild.nextSibling.textContent;
if(i.target.tagName.toLowerCase()=="button"){var m=this.RS.slice(0),e=m.indexOf(C);if(e==-1){m=m.slice(Math.max(0,m.length-29));
m.push(C)}else m.splice(e,1);var z=new eX(v.E.H,!0);z.data={d:v.B.Mc,N5:dm.jl,yu:m};this.T(z);this.$p=!0;
this.bE()}else{this.aam(C,null)}};bQ.prototype.ajp=function(i){this.aam(null,i.currentTarget.firstChild.textContent)};
bQ.prototype.aam=function(i,C){var m=i==null?this.Cq:this.Ur,e=this.LE;if(i==null)i=e.OA()[this.aF][0];
else{var z=e.Fn(i),L=e.OA()[this.aF];C=gA.S$(z,L?L[1]:"regular")}var l=e.NE(i,C)[2];this.c(l,e);this.T(new eX(v.E.p,!1));
this.a5S(m);this.bE()};bQ.prototype.a5S=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.E_,aA:i};this.T(C)};
bQ.prototype.h=function(){return this.aF};bQ.prototype.c=function(i,C,m){var e=this.LE;if(i!=null)this.aF=i;
else i=this.aF;if(C)this.LE=C;else C=this.LE;if(m)this.RS=m;else m=this.RS;if(i!=null){var z=C.OA()[i],L,l;
if(z==null){L="- "+i;l="-------"}else{L=z[0];l=z[1];var x=this.Rl;for(var Y=0;Y<x.length;Y++)if(x[Y][0][0]==L)x.splice(Y,1);
x.push([z,Date.now()]);x.sort(function(X,o){return o[1]-X[1]});x=x.slice(0,10);d._l(this.Er);for(var Y=1;
Y<x.length;Y++){var S=x[Y][0],k=this.cl(S,!0);this.MZ(k,S,!0);this.Er.appendChild(k)}var f=C.Fn(L);f.sort(gA.ats);
this.Lh.textContent="";for(var Y=0;Y<f.length;Y++){var z=C.NE(L,f[Y]);if(!this.pq.b6(z))continue;var k=this.cl(z,!1);
this.Lh.appendChild(k)}}this.aL.textContent=L.substring(0,15)+" \u25BC";this.aL.setAttribute("title",L+", \""+i+"\"");
this.nh.textContent=l.substring(0,10)+" \u25BC";this.nh.setAttribute("title",l)}};bQ.prototype.bE=function(i,C){var m=this.LE.OA()[this.aF],e=this.RS,z=this.LE.g8();
this.ee=[];var L=this.se.h();for(var l in z){var x=e.indexOf(l)!=-1,S=this.LE.Fn(l),k=!1;for(var Y=0;
Y<S.length;Y++){var f=this.LE.NE(l,S[Y]),X=!0;if(this.OF.length>0&&f[0].toLowerCase().indexOf(this.OF)==-1)X=!1;
else if(!this.pq.b6(f))X=!1;else if(this.mg.M5()&&!x)X=!1;else if(f[5]=="--loc"&&!L)X=!1;if(X)k=!0}var o=this.wO[l];
if(o==null){var A=gA.S$(z[l],"regular"),P=this.LE.NE(l,A),o=this.cl(P,!0);this.wO[l]=o;this.J4.appendChild(o);
this.u1[l]="[true,false,false]"}if(k)this.ee.push(l);var F=m!=null&&m[0]==l;this.amh[l]="["+k+","+F+","+x+"]";
if(!C)this.adz(l)}if(m&&!this.$p){var n=this.wO[m[0]];this.J4.scrollTop=n.offsetTop-210}this.aaU();this.$p=!1};
bQ.prototype.adz=function(i){var C=this.wO[i];if(C.firstChild==null){var m=this.LE.g8(),e=gA.S$(m[i],"regular"),z=this.LE.NE(i,e);
this.MZ(C,z,!0)}var L=this.u1[i],l=this.amh[i];if(L==l)return;var x=JSON.parse(L),S=JSON.parse(l);if(x[0]!=S[0]||x[1]!=S[1]){var k=S[0]?"":"display:none; ";
if(S[1])k+="background-color:rgba(0,0,0,0.13);";C.setAttribute("style",k)}if(x[2]!=S[2])C.firstChild.setAttribute("style","opacity: "+(S[2]?"1":"0.2"));
this.u1[i]=l};bQ.prototype.cl=function(i,C){var m=d.t("div","fontitem");if(!C)this.MZ(m,i,C);return m};
bQ.prototype.MZ=function(i,C,m){var e=C[m?0:1],z=m?this.ahZ:this.al1,S="";i.addEventListener("click",z,!1);
if(m)i.appendChild(d.t("button","star"));var L=d.t("span","label");L.setAttribute("title",e);L.textContent=e;
i.appendChild(L);var l=d.XP(),x=1/l,k=gA.zh*x,f=gA.z7*x;if(1<l&&l<1.5)S="width:"+k+"px; height:"+f+"px;";
var X=d.t("span","thumb gsicon");if(C.nj){S+="background: url("+C.nj+");";if(1<l&&l<1.5)S+="background-size: "+k+"px "+f+"px;"}else{var o=Math.ceil(FNTS.list.length/gA.cols),A=Math.floor(C.h6/gA.cols),P=C.h6-A*gA.cols,F=P*gA.zh,n=A*gA.z7;
if(1<l&&l<1.5){S+="background-size: "+gA.cols*k+"px "+o*f+"px;";F*=x;n*=x}S+="background-position:-"+F+"px -"+n+"px;"}X.setAttribute("style",S);
i.appendChild(X)};function hL(i,C){k5.call(this);this.n=d.t("button","fitem bbtn");this.n.addEventListener("click",this.a8C.bind(this),!1);
this.Ty=new k5;this.Ty.n=d.t("div","floatcont");this.Ty.parent=this;this.i7=d.t("div","flexrow");this.Ty.n.appendChild(this.i7);
this.ju=C;this.MK=[];this.Fh=[];var m=this.i7,e=d.t("div",""),z=d.t("div","");m.appendChild(e);m.appendChild(z);
this.KE=[];for(var Y=0;Y<FNTS.cats.length;Y++)this.KE.push({name:FNTS.cats[Y],index:Y,Kz:0});this.Qp=new em([7,0]);
this.Qp.c(!0);this.Qp.k(v.E.p,this.ask,this);e.appendChild(this.Qp.n);this.Yn=d.t("div","vlist marged scrollable");
this.Yn.setAttribute("style","width:10.3em; height:"+i+"em; ");e.appendChild(this.Yn);this.Ab=[];for(var Y=0;
Y<this.KE.length;Y++){var L=this.KE[Y],l=new em(L.name);this.Ab.push(l);l.k(v.E.p,this.a3I,this);l.c(!0);
this.Yn.appendChild(l.n);this.MK.push(1)}this.akU=new em([7,0]);this.akU.k(v.E.p,this.adk,this);this.fW=d.t("div","vlist marged scrollable");
this.fW.setAttribute("style","width:8.6em; height:"+(i+1.5)+"em; ");z.appendChild(this.fW);this.AM=[];
for(var Y=0;Y<FNTS.subsetNames.length;Y++){var l=new em(FNTS.subsetNames[Y]);this.AM.push(l);l.k(v.E.p,this.aBD,this);
l.c(!1);this.fW.appendChild(l.n);this.Fh.push(l.h()?1:0)}}hL.prototype=new k5;hL.prototype.a1t=function(i){var C=this.AM;
for(var Y=0;Y<C.length;Y++){var m=(i>>>Y&1)==1;this.Fh[Y]=m;C[Y].c(m)}};hL.prototype.aBs=function(){return this.i7};
hL.prototype._=function(){this.n.textContent=this.ju?this.ju:bC.get([25,1,0])+" \u25BC";this.Qp._();
this.akU._()};hL.prototype.a8C=function(i){var C=this.n.getBoundingClientRect(),m=new eX(v.E.H,!0);m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height,FF:!1};
this.T(m)};hL.prototype.b6=function(i){if(this.MK[i[4]]==0)return!1;else for(var C=0;C<this.Fh.length;
C++)if(this.Fh[C]==1&&(i[3]>>>C&1)==0)return!1;return!0};hL.prototype.ask=function(i){var C=i.target.h(),m=this.Ab,e=this.MK;
for(var Y=0;Y<m.length;Y++){m[Y].c(C);e[Y]=C?1:0}this.T(new eX(v.E.p,!1))};hL.prototype.adk=function(i){var C=i.target.h(),m=this.AM,e=this.Fh;
for(var Y=0;Y<m.length;Y++){m[Y].c(C);e[Y]=C?1:0}this.T(new eX(v.E.p,!1))};hL.prototype.a3I=function(i){var Y=this.Ab.indexOf(i.target),C=this.KE[Y].index;
this.MK[C]=1-this.MK[C];this.T(new eX(v.E.p,!1));this.aej(this.Ab,this.Qp)};hL.prototype.aBD=function(i){var Y=this.AM.indexOf(i.target);
this.Fh[Y]=1-this.Fh[Y];this.T(new eX(v.E.p,!1))};hL.prototype.aej=function(i,C){var m=!0;for(var Y=0;
Y<i.length;Y++)m=m&&i[Y].h();C.c(m)};function jv(i,C,m){eR.call(this,C,!0,"gradientbutton",18*13,10*13,dm.AU);
this.Dm=-1;this.yv=-1;this.aqI=null;this.ar2=i;this.dG=m}jv.prototype=new eR;jv.prototype.cZ=function(i){var C=this.Jk;
this.c(C[this.EJ.h()]);this.T(new eX(v.E.p))};jv.prototype.hh=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.c6,pw:"gradienteditor",I:this.Wp,Fu:this.amt.bind(this),YU:this.dG};
this.T(C)};jv.prototype.amt=function(i){this.c(i);this.T(new eX(v.E.p))};jv.prototype.KL=function(){if(!this.yh)return;
var i=Math.floor(36*d.XP()),C=Math.floor(36*d.XP()),m=[],e=[],z=this.Jk,L=Date.now();for(var Y=0;Y<z.length;
Y++){var l=z[Y];e.push(l.Nm?l.Nm.v:"");var x=$.pK.lU(l,i,C,Math.PI/4,this.Dm,this.yv);m.push(x)}this.EJ.Tu(m,e,i,C);
this.yh=!1};jv.prototype.ef=function(i,C){this.a3$(this.Wp,i,C)};jv.prototype.c=function(i){this.a3$(i,this.Dm,this.yv)};
jv.prototype.a3$=function(i,C,m){this.Dm=C;this.yv=m;if(i==null)return;var e=JSON.stringify(i),z=e+C+","+m;
if(z==this.aqI)return;this.aqI=z;this.Wp=JSON.parse(e);var L=Math.floor(80*d.XP()),l=Math.floor(16*d.XP()),x=$.pK.lU(this.Wp,L,l,0,this.Dm,this.yv);
this.W1.setAttribute("src",x);d.n9(this.W1,L,l)};jv.prototype.h=function(){var i;if(this.ar2)i=$.pK.ayv(this.Wp,this.Dm,this.yv);
else i=JSON.parse(JSON.stringify(this.Wp));return i};function iU(i){eR.call(this,i,!1,"swatchbutton",16*13,8.75*13,dm.Pe)}iU.prototype=new eR;
iU.prototype.cZ=function(i){this.c(this.Jk[i.target.h()]);this.T(new eX(v.E.p))};iU.prototype.KL=function(){if(!this.yh)return;
var i=Date.now(),C=Math.floor(10*d.XP()),m=Math.floor(10*d.XP()),e=[],z=[],L=this.Jk;for(var Y=0;Y<L.length;
Y++){z.push(L[Y].iQ?L[Y].iQ.split("=").pop():"");e.push(iU.lU(L[Y],C,m))}this.EJ.Tu(e,z,C,m);this.yh=!1};
iU.prototype.c=function(i){this.Wp=JSON.parse(JSON.stringify(i));this.ja()};iU.prototype.ja=function(){var i=Math.floor(24*d.XP()),C=Math.floor(20*d.XP()),m=iU.lU(this.Wp,i,C);
this.W1.setAttribute("src",m);d.n9(this.W1,i,C)};iU.prototype.h=function(){return JSON.parse(JSON.stringify(this.Wp))};
iU.zj={};iU.lU=function(i,C,m){var e=255<<24|I.Pq(i),z=":"+e,L=iU.zj;if(L[z])return L[z];var l=new Uint32Array(C*m);
l.fill(e);var x=UPNG.encode([l.buffer],C,m),S=L[z]="data:image/png;base64,"+i$.m7(x);return S};function az(i,C,m){k5.call(this);
this.n=d.t(m?"div":"span");var e=this.P7=d.t("input");this.P7.setAttribute("type","file");if(C)e.setAttribute("multiple","");
this.P7.addEventListener("change",this.asY.bind(this),!1);this.aka=this.alh.bind(this);this.Cg={};this.fr=0;
this.Mo=i;var z=this.a5s=new c1(bC.get(i)+" (0)",null,null,!0);this.n.appendChild(z.n);z.addEventListener("click",function(L){e.click()});
if(m){this.fx=d.t("div","scrollable");this.fx.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.fx);this.__()}}az.prototype=new k5;az.prototype.c=function(i){this.Cg=i;this.__()};
az.prototype.h=function(i){return this.Cg};az.prototype.asY=function(i){var C=i.target.files;this.fr=C.length;
this.Cg={};for(var Y=0;Y<C.length;Y++){var m=C[Y],e=new FileReader;e.onload=this.aka;e.fU=m.name;e.readAsArrayBuffer(m)}};
az.prototype.alh=function(i){var C=this.Cg[i.target.fU]=new Uint8Array(i.target.result);this.fr--;if(this.fr==0){this.__();
this.T(new eX(v.E.p));this.P7.value=null}};az.prototype.__=function(){var i=this.Cg;this.a5s._H(bC.get(this.Mo)+" ("+Object.keys(i).length+")");
var C=this.fx;if(C==null)return;d._l(C);var m=[];for(var e in i)m.push(e);m.sort();for(var Y=0;Y<m.length;
Y++){var z=d.t("div");z.textContent=m[Y];C.appendChild(z)}};function ap(i,C,m,e,z){if(i==null)i=!1;if(C==null)C=!1;
if(m==null)m=!1;k5.call(this);this.tY=new b5;this.rx=new b5;this.VC=72;this.Fl=72;this.yf=!0;this.sh=!1;
this.n=d.t("span");this.gR=new db([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this.gR.n);this.gR.k(v.E.p,this.OL,this);
var L=["px","%"];if(i)L=L.concat(["cm","mm","in"]);if(z){L=[[12,76,2],[12,76,6]];if(i)L=L.concat([[12,76,4],[12,76,5],[12,76,3]])}this.kA=new ib(null,L);
this.n.appendChild(this.kA.n);d._Z(this.n);this.kA.k(v.E.p,this.OL,this);this.rw=new db([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.rw.n);this.rw.k(v.E.p,this.OL,this);var l=new c1("\u21F5",!1,null,!0);l.k("click",this.n6,this);
this.iP=new c1("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.iP.k("click",this.OL,this);
this.q4=new bd("");this.q4.n.style.margin="0";this.q4.n.style.padding="0";if(C){this.n.appendChild(this.iP.n);
this.n.appendChild(this.q4.n);this.iP.vG()}else this.n.appendChild(l.n);this.RB=new db("DPI",0,0,null,3,!1,!0,4);
this.yz=new ib(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(i&&!e){d._Z(this.n);this.n.appendChild(this.RB.n);
this.n.appendChild(this.yz.n)}this.yz.k(v.E.p,this.OL,this);this.RB.k(v.E.p,this.OL,this);this.x9=new em([12,23,1]);
this.x9.k(v.E.p,this.OL,this);if(m){d._Z(this.n);this.n.appendChild(this.x9.n)}d._Z(this.n)}ap.prototype=new k5;
ap.prototype.Oh=function(i,C){this.gR.Kj.style.width=this.rw.Kj.style.width=(i-78-this.iP.H3())/2+"px"};
ap.prototype.AF=function(){this.gR.AF();this.rw.AF();this.kA.AF();var i=this.n;d._l(i);this.kA.n.style.marginRight="0";
i.appendChild(this.gR.n);i.appendChild(this.iP.n);i.appendChild(this.rw.n);i.appendChild(this.kA.n)};
ap.prototype.CQ=function(){this.gR.CQ()};ap.prototype.ad5=function(i,C){this.yf=i;if(C!=null)this.sh=C;
if(!this.yf&&!this.sh&&this.kA.h()==0){this.kA.c(4);this.hZ()}};ap.prototype.abv=function(i){this.iP.c(i)};
ap.prototype._=function(){this.gR._();this.rw._();this.RB._();this.yz._();this.iP._();this.x9._();this.kA._()};
ap.prototype.n6=function(i){var C=this.rx.x;this.rx.x=this.rx.y;this.rx.y=C;this.hZ();this.T(new eX(v.E.p,!1))};
ap.prototype.OL=function(i){if(i.target==this.kA&&!this.yf&&!this.sh&&this.kA.h()==0)this.kA.c(4);if(i.target==this.kA||i.target==this.x9){this.hZ();
return}if(i.target==this.iP)i.target.c(!i.target.h());var C=this.tY,m=parseFloat(this.gR.h());if(isNaN(m))m=1;
var e=parseFloat(this.rw.h());if(isNaN(e))e=1;var z=this.RB.h()*[1,2.54][this.yz.h()],L=this.kA.h();
if(this.yf){var l=this.Fl;if(L==1){m=this.tY.x*(m/100);e=this.tY.y*(e/100)}var x=[1,1,2.54/l,25.4/l,1/l][L];
m/=x;e/=x;if(this.x9.h()){m+=this.tY.x;e+=this.tY.y}if(i.target==this.RB){var S=z;if(!this.sh){var k=S/l;
m*=k;e*=k}l=S}if(this.iP.h()){if(i.target==this.gR)e=m*(C.y/C.x);else m=e*(C.x/C.y)}m=Math.max(Math.abs(m),1);
e=Math.max(Math.abs(e),1)}else{var l=this.VC;if(i.target==this.RB)l=z;else{if(this.iP.h()){if(i.target==this.gR)e=m*(C.y/C.x);
else m=e*(C.x/C.y)}var x=[1,1,2.54/l,25.4/l,1/l][L],f=m/(L==1?100:C.x*x);l=l/f}m=C.x;e=C.y}this.rx=new b5(Math.round(m),Math.round(e));
this.Fl=l;this.hZ();this.T(new eX(v.E.p,!1))};ap.prototype.aAT=function(Y){this.kA.c(Y);this.hZ()};ap.prototype.c=function(i,C,m){if(m!=!0)this.tY=i.clone();
this.rx=i.clone();if(C!=null){this.VC=C;this.Fl=C}this.hZ()};ap.prototype.hZ=function(){var i=this.rx.x,C=this.rx.y,m=this.Fl,e=(i/C).toFixed(3);
while(e.charAt(e.length-1)=="0")e=e.substring(0,e.length-1);if(e.charAt(e.length-1)==".")e=e.substring(0,e.length-1);
var z="  "+e+" : 1",L=function(f,X){while(X!=0){var o=X;X=f%X;f=o}return f},l=L(i,C);if(Math.min(i,C)/l<10)z="  "+Math.round(i/l)+" : "+Math.round(C/l);
this.q4.c(z);if(this.x9.h()){i-=this.tY.x;C-=this.tY.y}var x=this.kA.h();if(x==1){if(this.yf){i=100*i/this.tY.x;
C=100*C/this.tY.y}else{i=C=100*this.VC/this.Fl}}else{i=Math.round(i);C=Math.round(C)}var S=[1,1,2.54/m,25.4/m,1/m][x];
i*=S;C*=S;var k=x==1||x==2||x==4?2:0;this.gR.E7(k);this.rw.E7(k);this.gR.c(i);this.rw.c(C);this.RB.c(m*[1,1/2.54][this.yz.h()])};
ap.prototype.h=function(){return this.rx.clone()};ap.prototype.$u=function(){return this.Fl};function er(i,C,m){k5.call(this);
var e=i==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.px=i;this.ay6=C;this.cW=1;this.Qt=[1,1,0];
var z=this.n=d.t("div","numlist"),L=this.Yi=[];for(var Y=0;Y<4;Y++){var l=new db(e[Y],0,0,null,2,!1,!0,4,null,m&&(Y==0||Y==2));
l.k(v.E.p,this.OL,this);z.appendChild(l.n);L[Y]=l;if(Y==1||Y==3)d._Z(z)}L[4]=new em(i==0?[12,51]:[12,91,2]);
L[4].c(!0);z.appendChild(L[4].n)}er.prototype=new k5;er.prototype._=function(){var i=this.Yi;for(var Y=0;
Y<5;Y++)i[Y]._();if(this.px==0)d.Nr(i[0],i[2])};er.prototype.c=function(i,C,m){if(C)this.Qt=C;C=this.Qt;
var e=m?i:this.px==0?[i[2],i[0],i[3],i[1]]:[i[0],i[1],i[3],i[2]];this.cW=e[0]/e[2];for(var Y=0;Y<4;Y++){var z=this.Yi[Y];
z.E7(C[2]==0&&this.ay6?0:2);z.c(I.up.a2A(e[Y],C[0],C[1],C[2]))}};er.prototype.h=function(i){var C=[],m=this.Qt;
for(var Y=0;Y<4;Y++){var e=I.up.QH(this.Yi[Y].h(),m[0],m[1],m[2]);C[Y]=this.ay6?Math.round(e):e}return i?C:this.px==0?[C[1],C[3],C[0],C[2]]:[C[0],C[1],C[3],C[2]]};
er.prototype.OL=function(i){var C=this.px,m=this.Yi.indexOf(i.currentTarget),e=this.h(!0),z=this.Yi[4].h();
if(C==0){e[0]=Math.max(1,e[0]);e[2]=Math.max(1,e[2]);if(z&&m==0)e[2]=e[0]/this.cW;if(z&&m==2)e[0]=e[2]*this.cW}if(C==1){e[m]=Math.max(0,e[m]);
if(z)for(var Y=0;Y<4;Y++)e[Y]=e[m]}this.c(e,null,!0);this.T(new eX(v.E.p,!1))};function iu(){k5.call(this);
this.hv=0;this.AB=[0,0,1,1,100,100];this.YJ=[10,5,1,1,4,3,3,2,16,9];this.n=d.t("span","fitem");this.OD=new ib(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.OD.n);this.OD.k(v.E.p,this.OL,this);this.gR=new db("W",0,0,null,0,!1,!0);this.n.appendChild(this.gR.n);
this.gR.k(v.E.p,this.OL,this);var i=this.cN=new c1("\u21C4",!1,null,!0);i.k("click",this.n6,this);this.n.appendChild(i.n);
this.rw=new db("H",0,0,null,0,!1,!0);this.n.appendChild(this.rw.n);this.rw.k(v.E.p,this.OL,this);this.c({me:0,x:0,y:0})}iu.prototype=new k5;
iu.prototype.aAK=function(i,C){this.YJ[0]=i;this.YJ[1]=C};iu.prototype._=function(){d.Nr(this.gR,this.rw);
this.OD._()};iu.prototype.n6=function(i){var C=this.rw.h();this.rw.c(this.gR.h());this.gR.c(C);this.OL(i)};
iu.prototype.OL=function(i){if(i.target==this.OD){var Y=this.OD.h(),C=this.AB;if(Y>2){Y-=3;var m=this.YJ[2*Y],e=this.YJ[2*Y+1];
C[2]=m;C[3]=e;this.gR.c(m);this.rw.c(e);this.OD.c(1)}var z=this.h();C[this.hv*2]=z.x;C[this.hv*2+1]=z.y;
this.hv=z.me;this.c({me:z.me,x:C[z.me*2],y:C[z.me*2+1]})}if(this.gR.h()<1)this.gR.c(1);if(this.rw.h()<1)this.rw.c(1);
this.T(new eX(v.E.p,!1))};iu.prototype.c=function(i){this.OD.c(i.me);this.gR.c(i.x);this.rw.c(i.y);if(i.me==0){this.gR.hH();
this.rw.hH();this.cN.hH()}else{this.gR.WN();this.rw.WN();this.cN.WN()}};iu.prototype.h=function(){return{me:this.OD.h(),x:this.gR.h(),y:this.rw.h()}};
function de(i){k5.call(this);this.n=d.t("span","");this.asS=i;this.lO=new dd("Off X",-100,100,i?"%":"px",0,!1);
this.Fk=new dd("Off Y",-100,100,i?"%":"px",0,!1);this.lO.k(v.E.p,this.OL,this);this.Fk.k(v.E.p,this.OL,this);
this.n.appendChild(this.lO.n);this.n.appendChild(this.Fk.n)}de.prototype=new k5;de.prototype._=function(){this.lO._();
this.Fk._()};de.prototype.OL=function(i){this.T(new eX(v.E.p,!1))};de.prototype.a8B=function(i){this.lO.c(i.x);
this.Fk.c(i.y)};de.prototype.aAJ=function(){return new b5(this.lO.h(),this.Fk.h())};de.prototype.c=function(i,C){var m=i.Hrzn.v,e=i.Vrtc.v;
if(this.asS){m=m.val;e=e.val}this.lO.c(m);this.Fk.c(e);if(C==!0)this.OL()};de.prototype.h=function(){var i=this.lO.h(),C=this.Fk.h();
if(this.asS)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:i}},Vrtc:{t:"UntF",v:{type:"#Prc",val:C}}};
else return{classID:"Pnt",Hrzn:{v:i,t:"doub"},Vrtc:{v:C,t:"doub"}}};function gz(){k5.call(this);this.n=d.t("span","fitem strokebutton");
this.Oc=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.ok=jt.lc.TQ();this.UM=d.t("button");
this.n.appendChild(this.UM);d.h_(this.n,this.KP.bind(this));var i=d.t("canvas","gsicon");this.Hs=i.getContext("2d");
this.UM.appendChild(i);var C=d.t("span");C.textContent=" \u25BC";this.UM.appendChild(C);this.Ty=new k5;
this.Ty.parent=this;this.Ty.n=d.t("div","floatcont form");var m=this.Ty.n;m.setAttribute("style","width: 16.7em;");
this.wO=[new ib([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new iw([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new iw([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new db("Limit",0,50,null,null,null,!0,2.5),new kz([19,9,2])];
for(var Y=0;Y<this.wO.length;Y++){var e=this.wO[Y];m.appendChild(e.n);e.k(v.E.p,this.OL,this)}d._Z(m);
this.ZE=[];var z=this.QQ.bind(this);this.ok.strokeStyleLineWidth.v.val=3;for(var Y=0;Y<this.Oc.length;
Y++){var L=d.t("button","fitem");this.ZE.push(L);m.appendChild(L);L.addEventListener("click",z,!1);var i=d.t("canvas","gsicon"),l=i.getContext("2d");
L.appendChild(i);this.aoL(l,40,20,this.Oc[Y])}this.ok.strokeStyleLineWidth.v.val=1}gz.prototype=new k5;
gz.prototype.KP=function(i){if(d.bv(this.Ty.n))return;i.stopPropagation();var C=this.UM.getBoundingClientRect(),m=new eX(v.E.H,!0);
m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height+4};this.T(m)};gz.prototype.OL=function(i){var C=this.wO,m=[];
for(var Y=0;Y<5;Y++)m.push(C[Y].h());this.ok=this.al4(m);this.T(new eX(v.E.p,!1))};gz.prototype.QQ=function(i){var C=this.ZE.indexOf(i.currentTarget);
this.c(this.al4(this.Oc[C]));this.T(new eX(v.E.p,!1))};gz.prototype.al4=function(i){var C=JSON.parse(JSON.stringify(this.ok)),m=i[0],e=i[1],z=i[2],L=i[3],l=i[4];
if(m!=null)C.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jt.lc.ne[m];if(e!=null)C.strokeStyleLineCapType.v.strokeStyleLineCapType=jt.lc.Rg[e];
if(z!=null)C.strokeStyleLineJoinType.v.strokeStyleLineJoinType=jt.lc.join[z];C.strokeStyleMiterLimit.v=L;
var x=C.strokeStyleLineDashSet.v=[];l=l.split(" ");while((l.length&1)!=0)l.pop();for(var Y=0;Y<l.length;
Y++)x.push({t:"UntF",v:{type:"#Nne",val:parseInt(l[Y])}});return C};gz.prototype._=function(){for(var Y=0;
Y<this.wO.length;Y++)this.wO[Y]._()};gz.prototype.c=function(i){this.ok=JSON.parse(JSON.stringify(i));
var C=jt.lc.ne.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment),m=jt.lc.Rg.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),e=jt.lc.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),z=i.strokeStyleMiterLimit.v,L=[],l=i.strokeStyleLineDashSet.v;
for(var x=0;x<l.length;x++)L.push(l[x].v.val);var S=this.wO;S[0].c(C);S[1].c(m);S[2].c(e);S[3].c(z);
S[3].wo(e==0);S[4].c(L.join(" "));var k=[];for(var Y=0;Y<5;Y++)k.push(S[Y].h());this.aoL(this.Hs,40,16,k)};
gz.prototype.h=function(){return JSON.parse(JSON.stringify(this.ok))};gz.prototype.aoL=function(i,C,m,e){var z=e[0],L=e[1],l=e[2],x=e[3],S=e[4].split(" ").map(parseFloat);
d.Ay(i.canvas,C,m);var k=Math.min(5,this.ok.strokeStyleLineWidth.v.val);for(var Y=0;Y<S.length;Y++)S[Y]*=k;
i.clearRect(0,0,C,m);i.setLineDash(S);i.lineCap=["butt","round","square"][L];i.lineJoin=["miter","round","bevel"][l];
i.lineWidth=k;i.beginPath();i.moveTo(0,m/2);i.lineTo(C*2,m/2);i.stroke()};function aO(i){eR.call(this,i,!1,"contourbutton",34*13,16*13,dm.Tl,!0);
this.mw=new kz([12,86],null,16);this.mw.k("input",this.VS,this);this.Ty.n.appendChild(this.mw.n);this.Zz=null;
this.OF="";this.Tv=null;this.c(cV.TQ())}aO.prototype=new eR;aO.prototype._=function(){eR.prototype._.call(this);
this.mw._()};aO.prototype.cZ=function(i){this.c(this.Zz[i.target.h()[0]]);this.T(new eX(v.E.p))};aO.prototype.VS=function(i){this.OF=this.mw.h().toLowerCase();
this.apa()};aO.aiy=!1;aO.prototype.KL=function(){if(!this.yh)return;var i=this.Jk;if(i==null||!aO.aiy){var C=new eX(v.E.H,!0);
C.data={d:v.B.Df,N5:{url:"rsrc/basic/Default.csh"}};this.T(C);aO.aiy=!0}else{var m=Math.floor(38*d.XP()),e=Math.floor(38*d.XP());
this.Tv=[];for(var Y=0;Y<i.length;Y++)this.Tv.push(aO.a9Q(i[Y],m,e));this.apa();this.yh=!1}};aO.prototype.apa=function(){var i=Math.floor(38*d.XP()),C=Math.floor(38*d.XP());
this.Zz=[];var m=[],e=[],z=this.Jk;for(var Y=0;Y<z.length;Y++){if(z[Y].ud.toLowerCase().indexOf(this.OF)==-1)continue;
this.Zz.push(z[Y]);m.push(this.Tv[Y]);e.push(z[Y].ud)}this.EJ.Tu(m,e,i,C)};aO.prototype.c=function(i){this.Wp=aO.clone(i);
this.ja()};aO.prototype.ja=function(){var i=Math.floor(23*d.XP()),C=Math.floor(23*d.XP()),m=aO.a9Q(this.Wp,i,C);
this.W1.setAttribute("src",m);d.n9(this.W1,i,C)};aO.prototype.h=function(){return aO.clone(this.Wp)};
aO.clone=function(i){return{ud:i.ud,hg:i.hg,$:cc.hF.ug(i.$),zO:i.zO.clone()}};aO.B2=null;aO.S7=null;
aO.a9Q=function(i,C,m){var e=cc.hF.ug(i.$),z=i.zO,L=Math.min(C/z.m,m/z.J)*.9,l=new hN;l.translate(-.5,-.5);
l.scale(.95,.95);l.translate(.5,.5);l.scale(L*z.m,L*z.J);I.o.Pa(e,l);var x=new cc.hF;x.$=e;var S=x.Re();
S.rect.x=Math.floor((C-S.rect.m)/2);S.rect.y=Math.floor((m-S.rect.J)/2);var k=I.R(S.rect.P()*4);I.uC(S.channel,k,3);
var f=aO;if(f.B2==null)f.B2=d.t("canvas");var X=f.B2,o=X.getContext("2d");if(X.width!=C||X.height!=m||f.S7==null){X.width=C;
X.height=m;f.S7=o.createImageData(C,m)}var A=f.S7;A.data.fill(0);I.fF(k,S.rect,A.data,new j2(0,0,C,m));
o.putImageData(A,0,0);return X.toDataURL()};function iX(i){eR.call(this,i,!1,"ICCButton",16*13,12*13,dm.K1,!0);
this.EJ.Va(1)}iX.prototype=new eR;iX.prototype.YS=function(){var i="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Y=0;Y<i.length;Y++)i[Y]="luts/"+i[Y]+".CUBE";return i};iX.prototype.cZ=function(i){this.c(this.Jk[i.target.h()]);
this.T(new eX(v.E.p))};iX.prototype.KL=function(){if(!this.yh)return;var i=Math.floor(1*d.XP()),C=Math.floor(1*d.XP()),m=[],e=[],z=this.Jk;
for(var Y=0;Y<z.length;Y++){var L=z[Y].Nm.v.split("\\").pop().split("/").pop();e.push(L);m.push(iX.lU(z[Y],i,C))}this.EJ.Tu(m,e,i,C);
this.yh=!1};iX.prototype.c=function(i){this.Wp=JSON.parse(JSON.stringify(i));this.ja()};iX.lU=function(i,C,m){var e=d.t("canvas"),l="ICC / 3DL / look / cube";
e.width=C;e.height=m;var z=e.getContext("2d"),L=Math.floor(14*d.XP());z.font=L+"px sans-serif";if(i.Nm)l=i.Nm.v.split("\\").pop().split("/").pop();
z.fillText(l,10,L);return e.toDataURL()};iX.prototype.ja=function(){var i=Math.floor(120*d.XP()),C=Math.floor(20*d.XP());
this.W1.setAttribute("src",iX.lU(this.Wp,i,C));d.n9(this.W1,i,C)};iX.prototype.h=function(){return JSON.parse(JSON.stringify(this.Wp))};
function c2(){k5.call(this);this.Uw=null;this.n=d.t("span","fitem");this.wh=new eP([14,9]);this.r1=new db(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.vB=new gz;this.gQ=[this.wh,this.r1,this.vB];for(var Y=0;Y<this.gQ.length;Y++){var i=this.gQ[Y];
this.n.appendChild(i.n);i.parent=this;i.k(v.E.p,this.OL,this)}}c2.prototype=new k5;c2.prototype._=function(){for(var Y=0;
Y<this.gQ.length;Y++)this.gQ[Y]._()};c2.prototype.P6=function(i,C){this.wh.P6(i,C)};c2.prototype.OL=function(i){var C=this.Uw,m=this.wh.h();
jt.yD(C,m);C.strokeStyleLineWidth.v.val=this.r1.h();if(i.target==this.vB)C=this.vB.h();this.Uw=C;this.T(new eX(v.E.p,!1))};
c2.prototype.c=function(i,C,m){this.Uw=JSON.parse(JSON.stringify(C));var e=jt.NF(C);this.wh.c(i,e,m);
this.r1.c(C.strokeStyleLineWidth.v.val);this.vB.c(C)};c2.prototype.h=function(){return JSON.parse(JSON.stringify(this.Uw))};
function bh(i){var C=[[18,0],[18,1],[18,2],[18,3]],m=iw.XA(["set/front","set/union","set/difference","set/intersection"]);
iw.call(this,i?[12,36]:null,m,C)}bh.prototype=new iw;function e0(){k5.call(this);this.n=d.t("button","fitem bbtn");
d.h_(this.n,this.KP.bind(this));this.Ty=new k5;this.Ty.n=d.t("div","floatcont form");this.Ty.n.setAttribute("style","max-width: 200px;");
this.Ty.parent=this;var i=jp;this.YV=[new em("Start"),new em("End"),new i([12,41],0,100,"px",null,!0,null,!0),new i([12,80,0],0,100,"px",null,!0,null,!0),new i("Concavity",-50,50,"%",null,null,null,!0)];
for(var Y=0;Y<this.YV.length;Y++){var C=this.YV[Y];C.parent=this;C.k(v.E.p,this.ec,this);this.Ty.n.appendChild(C.n)}this.air=d.t("div");
this.Ty.n.appendChild(this.air)}e0.prototype=new k5;e0.prototype.c=function(i){for(var Y=0;Y<5;Y++)this.YV[Y].c(i[Y]);
this.__()};e0.prototype.h=function(i){var C=[];for(var Y=0;Y<5;Y++)C[Y]=this.YV[Y].h();return C};e0.prototype._=function(){this.n.textContent=bC.get([12,93,4]);
for(var Y=0;Y<this.YV.length;Y++)this.YV[Y]._()};e0.prototype.ec=function(i){this.T(new eX(v.E.p,!1));
this.__()};e0.prototype.__=function(i){var C=this.h(),m=200,e=60;C[2]/=d.XP();C[3]/=d.XP();var z=I.o.vC.B7(0,e/2,m,e/2,5,C),L=I.o.iM(z);
this.air.innerHTML="<svg width=\""+m+"\" height=\""+e+"\" class=\"gsicon\">\t\t\t<path d=\""+L.wV+"\" />\t\t\t</svg>"};
e0.prototype.KP=function(i){if(d.bv(this.Ty.n))return;i.stopPropagation();var C=this.n.getBoundingClientRect(),m=new eX(v.E.H,!0);
m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height,FF:!0};this.T(m)};function gT(){k5.call(this);
this.n=d.t("div");this.Yi=[];this.abY=[];var i=this.Y2=d.t("div"),C=d.t("h2");C.textContent="Create Teams";
i.appendChild(C);C.style.margin="26px 0 16px 0";var m=new c1("More about Teams",!1,null,!0);C.appendChild(m.n);
m.n.style.float="right";m.k("click",this.ap8,this);this.Fg=d.t("div");i.appendChild(this.Fg);this.a0L=new kz("Team Name",null,10);
i.appendChild(this.a0L.n);var e=this.a80=new c1("Create Team",null,null,!0);i.appendChild(e.n);e.k("click",this.a18,this);
var C=d.t("h2");C.textContent="Join Teams";i.appendChild(C);C.style.margin="26px 0 16px 0";this.Wz=d.t("div");
i.appendChild(this.Wz);this.abH=new kz("Team ID",null,10);i.appendChild(this.abH.n);var e=new c1("Join Team",null,null,!0);
i.appendChild(e.n);e.k("click",this.a18,this);this.aai;this.a70=this.bw.bind(this);this.a3m=this.a7z.bind(this);
this.Fs=!1;this._D();this.w7=null;this.ahn=""}gT.prototype=new k5;gT.prototype.ap8=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.Z8,link:"https://www.photopea.com/api/accounts#teams"};this.T(C)};gT.prototype._D=function(){clearTimeout(this.az6);
this.az6=setTimeout(this.a3m,this.w7?10:3e3)};gT.prototype.a7z=function(){var i=a8.Op();if(document.hidden||!d.bv(this.n)||i==null){this._D();
return}var C=a8.h0();if(this.w7==null&&C==null)return;a8.Z1(this.w7?this.w7:C,this.a70);this.Fs=!0;this.w7=null};
gT.prototype.amg=function(i){i.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.Fs)this.w7=i;else{clearTimeout(this.az6);a8.Z1(i,this.a70)}};gT.prototype.Ac=function(i){var C=typeof i=="string"?this.aai:this.Yi.indexOf(i.target),m=this.abY[C],e=m[0],z=a8.h0();
if(z==null)z={};var L=z.acc,l=L.tjoin,x=L.tstart;if(e=="leave"){l.splice(l.indexOf(m[1]),1)}if(e=="add"||e=="remove"||e=="delTeam"||e=="showRename"||e=="rename"){var S=-1,f=0;
for(var Y=0;Y<x.length;Y++){f+=x[Y][1].length;if(x[Y][2]==m[1])S=Y}var X=x[S];if(e=="add"){var o=a8.md();
if(o&&o[0]==0&&o[1][2]<=f){alert("You can have at most "+o[1][2]+" members in your Premium.");return}X[1].push(m[2])}if(e=="remove")X[1].splice(X[1].indexOf(m[2]),1);
if(e=="delTeam"){if(X[1].length!=0){alert("Remove members first.");return}x.splice(S,1)}if(e=="showRename"){var A=new eX(v.E.H,!0);
A.data={d:v.B.c6,pw:"namewindow",GZ:X[0],G$:this.Ac.bind(this)};this.T(A);this.aai=C;m[0]="rename";return}if(e=="rename")X[0]=i}this.amg(z)};
gT.prototype.a18=function(i){var C=this.a80==i.target,m=(C?this.a0L:this.abH).h().trim();if(m==""){alert("The Team "+(C?"Name":"ID")+" is empty.");
return}if(!C){m=parseInt(m);if(isNaN(m)){alert("The ID must be a number");return}}var e=a8.h0();if(e==null)e={};
var z=e.acc;if(z==null)z=e.acc={};var L=z.tstart,l=z.tjoin;if(C){if(L==null)L=z.tstart=[];if(L.length>5){alert("You can have at most 5 teams");
return}L.push([m,[]])}else{if(L)for(var Y=0;Y<L.length;Y++)if(L[Y][2]==m){alert("You are the owner of this team");
return}if(l==null)l=z.tjoin=[];if(l.indexOf(m)!=-1){alert("You already asked to join this team.");return}z.tjoin.push(m)}z.update=!0;
this.amg(e)};gT.prototype.bw=function(){this.Fs=!1;var i=a8.Op(),C=i!=null,m=this.Y2.parentNode!=null;
if(C!=m){d._l(this.n);if(C)this.n.appendChild(this.Y2);else this.n.textContent="Log In to access Team Settings."}if(!C)return;
var e=a8.h0();if(e==null)e={};var z=e.acc;if(z==null)z={};var L=JSON.stringify(z)+"===="+JSON.stringify(i);
if(L!=this.ahn){this.ahn=L;var l=this.Fg,x=this.Wz;d._l(l);d._l(x);var S=this.Yi=[],k=this.abY=[],f=this.Ac.bind(this);
function X(T,p){T.addEventListener("click",f);S.push(T);k.push(p)}function o(j,T){var N=d.t("div"),p="rgba(255,255,255,0.15)";
N.appendChild(P("ID: "+j[2],54,p));N.appendChild(P(j[0],160,null,!0));if(T){N.appendChild(P(j[1].length+" members",80,null,!0))}else{N.appendChild(P(j[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<j[1]*1e3)N.appendChild(P("Premium",80,"rgba(0,140,0,1)"))}var y=P("",120);N.appendChild(y);
y.setAttribute("style","float:right;text-align:right");if(T){var b=new c1("Rename",null,null,!0);X(b,["showRename",j[2]]);
y.appendChild(b.n)}var b=new c1(T?"Delete":"Leave",null,null,!0);X(b,[T?"delTeam":"leave",j[2]]);y.appendChild(b.n);
return N}function A(T,p,D){var N=d.t("div");N.style.paddingLeft="46px";N.appendChild(P(p?"\u2713":"...",8,p?"#229922":"#aa7700"));
N.appendChild(P(T[1],200));N.appendChild(P(T[2],240));var y=P("",120);N.appendChild(y);y.setAttribute("style","float:right;text-align:right");
var b=new c1(p?"Remove":"Add",null,null,!0);X(b,[p?"remove":"add",D,T[0]]);y.appendChild(b.n);return N}function P(T,p,y,b){var g=d.t("span");
g.textContent=T;g.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+p+"px;  "+(y!=null?"background-color:"+y+";":"")+(b?"font-weight:bold;":""));
return g}var F=z.tstart,n=z.tjoin,R=i.wantToJoin,Q=i.inTeams;if(F)for(var s=0;s<F.length;s++){var j=F[s],_=R["t"+j[2]];
if(_==null)_=[];var B={};for(var Y=0;Y<_.length;Y++)B["u"+_[Y][0]]=_[Y];var N=o(j,!0);l.appendChild(N);
N.style.marginTop="10px";for(var Y=0;Y<j[1].length;Y++){var a=j[1][Y],O=B["u"+a];if(O==null)O=[a,"========","... user has left your team"];
delete B["u"+a];var H=A(O,!0,j[2]);l.appendChild(H)}for(var q in B){var O=B[q],H=A(O,!1,j[2]);l.appendChild(H)}}if(n){var h={};
for(var Y=0;Y<Q.length;Y++)h["t"+Q[Y][2]]=Q[Y];for(var s=0;s<n.length;s++){var D=n[s],j=h["t"+D],N=o(j?j:["==========",-1,D],!1);
x.appendChild(N)}}this.T(new eX(v.E.p))}if(this.w7==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this._D()};
function gQ(){k5.call(this);this.CT=[16,!0,!0];this.n=d.t("span","");this.ea=[new db([12,24],0,255),new em([12,25,1]),new em([12,25,0])];
for(var Y=0;Y<3;Y++){var i=this.ea[Y];i.parent=this;i.c(this.CT[Y]);this.n.appendChild(i.n);i.k(v.E.p,this.OL,this)}}gQ.prototype=new k5;
gQ.prototype.OL=function(){for(var Y=0;Y<3;Y++)this.CT[Y]=this.ea[Y].h();this.T(new eX(v.E.p,!1))};gQ.prototype.c=function(i){this.CT=i.slice(0);
for(var Y=0;Y<3;Y++)this.ea[Y].c(i[Y])};gQ.prototype.h=function(){return this.CT.slice(0)};gQ.prototype._=function(){for(var Y=0;
Y<3;Y++)this.ea[Y]._()};function fy(i,C){k5.call(this);if(C==null)C=!1;this.Tv=[];this.G3=Math.floor(120*d.XP());
this.a0z=Math.floor(23*d.XP());this.O3=0;this.Nq=[];this.jI=[];for(var m in I.lu.type){if((m=="warpCustom"||m=="warpCylinder")&&!C)continue;
this.Nq.push(m);this.jI.push(I.lu.type[m])}this.n=d.t("span","fitem warpbutton");this.Ty=new k5;this.Ty.n=d.t("div","floatcont");
if(i){this.Mo=i;this.AP=d.t("label","flabel");this.n.appendChild(this.AP)}this.d=d.t("button");this.n.appendChild(this.d);
d.h_(this.d,this.KP.bind(this));this.kz=new gL(!0);this.Ty.n.appendChild(this.kz.n);this.kz.k(v.E.p,this.a3u,this);
this.Ty.n.setAttribute("style","width:"+Math.floor(8+this.G3/d.XP())+"px;");this._()}fy.prototype=new k5;
fy.prototype._H=function(i){this.AP.textContent=i};fy.prototype._=function(){if(this.Mo)this.AP.innerHTML=bC.get(this.Mo)+":";
this.ja()};fy.a6X={};fy.acd=function(i,C,m){var e=bC.get(I.lu.type[i]),z=e+"-"+i+"-"+C+"-"+m,L=fy.a6X[z];
if(L)return L;var l=fy.Hs;if(x==null){var x=d.t("canvas");l=fy.Hs=x.getContext("2d")}var x=l.canvas;
if(x.width!=C||x.height!=m){x.width=C;x.height=m}l.font=Math.floor(13*d.XP())+"px sans-serif";l.lineWidth=1;
l.strokeStyle="#000000";var S=Math.floor(16*d.XP()),k=new j2(0,0,S,S);l.clearRect(0,0,x.width,x.height);
var f=I.lu.lu(i,i=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);I.lu.atg(f[3],k);var X=I.C.Ym(k);
X.G.push("M","L","M","L");X.j.push(0,S/2,S,S/2);X.j.push(S/2,0,S/2,S);X=I.C.Bq(X);X=I.C.Q0(X,S/5);I.bZ.i(f,X.j,k);
I.C.i(X.j,new hN(1,0,0,1,Math.floor(8*d.XP())+.5,Math.floor(3*d.XP())+.5),X.j);l.beginPath();Typr.U.pathToContext({cmds:X.G,crds:X.j},l);
l.stroke();l.fillText(e,Math.floor(40*d.XP()),Math.floor(16*d.XP()));L=fy.a6X[z]=x.toDataURL();return L};
fy.prototype.KP=function(i){if(d.bv(this.Ty.n))return;i.stopPropagation();var C=this.G3,m=this.a0z;for(var Y=0;
Y<this.Nq.length;Y++)this.Tv[Y]=fy.acd(this.Nq[Y],C,m);this.kz.Tu(this.Tv,null,C,m);var e=this.d.getBoundingClientRect(),z=new eX(v.E.H,!0);
z.data={d:v.B.vs,aA:this.Ty,x:e.left,y:e.top+e.height+4};this.T(z)};fy.prototype.a3u=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.E_,aA:this.Ty};this.T(C);this.O3=i.target.h()[0];this.ja();this.T(new eX(v.E.p))};fy.prototype.ja=function(){var i=this.G3,C=this.a0z;
this.kz.c([this.O3]);this.d.innerHTML="<img src=\""+fy.acd(this.Nq[this.O3],i,C)+"\" class=\"gsicon\" />";
d.n9(this.d.firstChild,i,C)};fy.prototype.h=function(){return this.Nq[this.O3]};fy.prototype.c=function(i){this.O3=this.Nq.indexOf(i);
this.ja()};function hW(i,C,m){k5.call(this);if(i==null)i=!1;if(C==null)C=!1;if(m==null)m=!1;this.ax9=C;
this.lu=null;this.BS=new fy([12,22],m);this.BS.parent=this;this.BS.k(v.E.p,this.Lb,this);this.gs=new ib([22,0],[[22,4,0],[22,4,1]]);
this.gs.k(v.E.p,this.Lb,this);var e=i?db:jp;this.vw=new e([22,1],-100,100,"%");this.FT=new e("Horizontal Distortion:",-100,100,"%");
this.WO=new e("Vertical Distortion:",-100,100,"%");this.vw.parent=this.FT.parent=this.WO.parent=this;
this.vw.k(v.E.p,this.Lb,this);this.FT.k(v.E.p,this.Lb,this);this.WO.k(v.E.p,this.Lb,this)}hW.prototype=new k5;
hW.prototype._=function(){this.BS._();this.gs._();this.vw._();var i=this.ax9?1:100;this.FT._H(bC.get([22,2]).substring(0,i)+":");
this.WO._H(bC.get([22,3]).substring(0,i)+":")};hW.prototype.Lb=function(){var i=this.lu,C=this.BS.h(),m=i.warpStyle.v.warpStyle;
if(C=="warpCustom")I.lu.XL(i,I.lu.i3(i));else delete i.customEnvelopeWarp;i.warpStyle.v.warpStyle=this.BS.h();
i.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.gs.h()];var e=this.vw.h();i.warpPerspective.v=this.FT.h();i.warpPerspectiveOther.v=this.WO.h();
if(C=="warpNone"||C=="warpCustom"){e=0;i.warpPerspective.v=0;i.warpPerspectiveOther.v=0}else if(m=="warpNone"||m=="warpCustom"||m=="warpCylinder")e=50;
if(C!="warpCylinder"){i.warpValue={t:"doub",v:e};delete i.warpValues}else{i.warpValues=$.V.xN([0,100,100,0,.15,.2,1]);
delete i.warpValue}this.T(new eX(v.E.p,!1));this.c(i)};hW.prototype.h=function(i){return JSON.parse(JSON.stringify(this.lu))};
hW.prototype.c=function(i){this.lu=JSON.parse(JSON.stringify(i));var C=i.warpStyle.v.warpStyle,m=C=="warpNone"||C=="warpCustom"||C=="warpCylinder";
this.BS.c(C);if(!m){this.gs.c(i.warpRotate.v.Ornt=="Hrzn"?0:1);this.vw.c(i.warpValue.v);this.FT.c(i.warpPerspective.v);
this.WO.c(i.warpPerspectiveOther.v)}var e=[this.gs,this.vw,this.FT,this.WO];for(var Y=0;Y<e.length;Y++)if(m)e[Y].hH();
else e[Y].WN()};function iz(i){k5.call(this);this.Kx={};this.n=d.t("div");this.pr=i;this.a4=null;this.cr=new b5(0,0);
this.Ey="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.Fa=null;this.hI=new d.rC(this.n);
this.DK("grab");this.B2=d.t("canvas","canv");this.n.appendChild(this.B2);this.Hs=this.B2.getContext("2d",{willReadFrequently:!0});
this.alY=null;this.ID=null;this.oI=null;this.VD=0;this.aik=0;this.T6=0;this.sr=0;this.a9s=this.a8t.bind(this);
this.akP=null;this.q=new hY({m:1,J:1});this.cO=null;this.qE=null;this.xZ=[];this.aAm=0;this.Og=0;this.aya=this.MU.bind(this);
this.alS=this.bz.bind(this);this.aBm=this.f9.bind(this);this.aCW=this.Ae.bind(this);this.aoe=0;this.sn=null;
this.ale(this.B2);this.ik(this)}iz.prototype=new k5;iz.prototype.acB=function(i){this.Kx=i;this.ZT()};
iz.kC=function(i){var C=new jD(!0);if(i>=0)C.wT("Space");if(i>=1){C.wT("ControlLeft");if(i==2)C.wT("AltLeft")}return C};
iz.prototype.xC=function(i){var C=this.Fa,m=null;if(i.S(jD.uE)){m="grab";if(i.S(jD.Uj)){m="zoom-in";
if(i.S(jD.rb))m="zoom-out"}}this.a4=m;if(m)C=m;this.hI.bw(C,this.Ey);if(i.S(jD.Uj)){var e=0;if(i.S(jD.Ek))e=1;
if(i.S(jD.Mn))e=-1;if(e!=0){this.E5(new b5(this.B2.width/2,this.B2.height/2),e==1)}}};iz.prototype.DK=function(i){this.Fa=i;
if(this.a4)return;this.hI.bw(i,this.Ey)};iz.prototype.ale=function(i){d.h_(i,this.aya);d.o$(i);i.addEventListener("wheel",this.aCW,!1)};
iz.prototype.ik=function(i){i.k("viewchange",this.aga,this)};iz.prototype.aga=function(i){var C=this.q.U,m=i.currentTarget.h7();
this.q.U=m.U;this.q.F=m.F.clone();if(C!=m.U)this.iL();this.ZT()};iz.prototype.h7=function(){return{U:this.q.U,F:this.q.F}};
iz.prototype.c=function(i,C,m,e){var z=i[0].Jw;if(this.ID!=null&&this.ID[0].Jw.LJ(z)){}else{this.q.n4={m:z.m,J:z.J};
this.q.U=1;this.q.F=new b5(0,0)}this.ID=i;this.iL(e);this.eT();this.VD=0;this.aik=Date.now();this.T6=0;
this.sr=C==null?0:C;if(m)this.Kx=m;this.a8t()};iz.prototype.Ae=function(i){i.preventDefault();if(i.deltaY==0||Date.now()-this.aoe<100)return;
var C=d.CV(i);C.x=d.XP()*C.x;C.y=d.XP()*C.y;this.aoe=Date.now();this.E5(C,i.deltaY<0)};iz.prototype.E5=function(i,C){$._q.Vl(this.q,i,C);
this.ap4()};iz.prototype.Pc=function(i){var C=this.q,m=C.n4;this.q.U=$._q.qj(m.m,m.J,C.eo.m,C.eo.J);
if(i)this.q.F=new b5(0,0);this.ap4()};iz.prototype.ap4=function(){this.iL();this.T(new eX("viewchange"));
this.T(new eX("zoom"))};iz.prototype.iL=function(i){var C=this.oI;this.oI=[];var m=this.q.U;if(this.ID==null)return;
if(i){var e=I.xf(m),z=1;for(var L=0;L<e.length;L++)z*=e[L];var l=i.x,x=i.y,S=l+i.m,k=x+i.J;l=Math.floor(l/z)*z;
S=Math.ceil(S/z)*z;x=Math.floor(x/z)*z;k=Math.ceil(k/z)*z;i=new j2(l,x,S-l,k-x)}for(var Y=0;Y<this.ID.length;
Y++){var f=this.ID[Y],X=new Uint8Array(f.data),o;if(m>=1)o={S2:X,rect:f.Jw};else{if(C&&C[Y]&&i){var A=I.R(i.P()*4);
I.fF(X,f.Jw,A,i);var P=I.k2(A,i,m),F=P.rect;F.x=Math.floor(F.x*m);F.y=Math.floor(F.y*m);o=C[Y];I.fF(P.S2,P.rect,o.S2,o.rect)}else o=I.k2(X,f.Jw,m)}this.oI[Y]=o}};
iz.prototype.eT=function(){clearTimeout(this.akP)};iz.prototype.ZT=function(){if(this.ID==null||!d.bv(this.B2))return;
var i=this.alY,C=this.B2.width,m=this.B2.height,P,F;if(i==null||i.width!=C||i.height!=m){i=this.alY=this.Hs.createImageData(C,m);
console.log("creating image data")}var e=this.ID[this.VD],z=this.oI[this.VD],L=this.q,l=L.n4,x=L.eo,S=x.m,k=x.J,f=l.m*L.U,X=l.J*L.U,o=Math.round((S-f)/2+L.F.x),A=Math.round((k-X)/2+L.F.y);
if(L.U<=1){F=z.rect.clone();F.x=o;F.y=A;f=F.m;X=F.J;P=z.S2}else{var n=1/L.U,R=new j2(Math.floor((x.x-o)*n),Math.floor((x.y-A)*n),Math.ceil(x.m*n)+1,Math.ceil(x.J*n)+1),Q=new j2(0,0,R.m*L.U,R.J*L.U);
Q.x=R.x*L.U+o;Q.y=R.y*L.U+A;if(L.ur==null||L.ur.length!=R.P()*4){L.ur=I.R(R.P()*4)}if(L.t0==null||L.t0.length!=Q.P()*4){L.t0=I.R(Q.P()*4)}I.eS(L.ur,0);
I.fF(z.S2,z.rect,L.ur,R);I.scale.LO(L.ur,R.m,R.J,L.t0,Q.m,Q.J,L.U);P=L.t0;F=Q}var s=new Uint8Array(i.data.buffer);
I.EC(s,S,k,8,-o,-A);I.l.Qv("norm",P,F,s,x,x,1);var j=this.Hs;j.setTransform(1,0,0,1,0,0);j.putImageData(i,0,0);
j.clearRect(o-4e3,A,4e3,X);j.clearRect(o+f,A,4e3,X);j.clearRect(o-4e3,A-4e3,f+8e3,4e3);j.clearRect(o-4e3,A+X,f+8e3,4e3);
var _=iz.akS(L.U,"#ffffff");j.putImageData(_,0,L.eo.J-_.height);var B=this.Kx,L=this.q;if(B){var N=aa.kS([.1,.5,1,1]),a=aa.kS([1,0,0,1]),O=aa.kS([1,1,1,1]),H=aa.kS([0,0,0,1]),q=L.Vf(!1);
q.Fb();j.save();j.setTransform(q.W,q.e,q.xF,q.o6,q.W_,q.Rj);j.strokeStyle=a;if(B.aD9){aa.Zl(B.aD9,null,j);
j.lineWidth=1/L.U;j.stroke()}j.strokeStyle=O;if(B.aoO){aa.Zl(B.aoO,null,j);j.lineWidth=1/L.U;j.stroke();
j.strokeStyle=H;j.setLineDash([4/L.U,4/L.U]);j.stroke();j.setLineDash([])}j.strokeStyle=N;j.fillStyle=aa.kS([1,1,1,1]);
if(B.tp){aa.Zl(B.tp,null,j);j.lineWidth=1/L.U;j.stroke()}if(B.jr){aa.dJ(B.jr,j,L,.5);j.lineWidth=2/L.U;
j.stroke();j.fill()}if(B.fw){j.font=16/L.U+"px sans-serif";var h=1/L.U;for(var Y=0;Y<B.fw.length;Y++){var D=B.fw[Y],T=D[0],p=D[1]+6/L.U,y=D[2];
j.fillStyle="black";j.fillText(y,T-h,p);j.fillText(y,T+h,p);j.fillStyle="white";j.fillText(y,T,p)}}j.restore()}j.getImageData(0,0,1,1)};
iz.ae4="";iz.an1=null;iz.akS=function(i,C,m,e){if(m==null){m=0;e=0}var z=m+" \xD7 "+e,L="z"+i+","+C+","+m+","+e;
if(L==iz.ae4)return iz.an1;var l=Math.round(50*d.XP()),x=Math.round(18*d.XP()),S=m==0?0:Math.round((z.length+2)*x*.35),k=d.t("canvas"),f=k.getContext("2d");
k.width=l+S;k.height=x;f.fillStyle="rgba(1,1,1,1)";f.fillRect(0,0,l,x);if(m!=0)f.fillRect(l+2,0,S,x);
f.font=Math.round(11*d.XP())+"px monospace";f.fillStyle=C;var o=i*100;if(o<100)o=o.toFixed(2);else o=Math.round(o);
o=o+"%";var A=f.measureText(o).width;f.fillText(o,(l-A)/2,Math.round(x*.7));if(m!=0){var P=f.measureText(z).width;
f.fillText(z,l+(S-P)/2+1,Math.round(x*.7))}var F=f.getImageData(0,0,l+S,x);iz.ae4=L;iz.an1=F;return F};
iz.prototype.a8t=function(){var i=this.ID,C=i.length,m=this.VD,e=this.ID[m],z=(m+1)%C;this.ZT();var L=Date.now();
if(C!=1&&i[z].Jw.LJ(e.Jw)){var l=e.CJ?parseInt(e.CJ.split(",").pop()):30;if(l==0)l=16;if(z==0)this.T6++;
if(this.sr==0||this.T6<this.sr)this.akP=setTimeout(this.a9s,l)}this.VD=z;this.aik=L};iz.prototype.Oh=function(i,C){if(i<=0||C<=0)return;
var m=Math.floor(i*d.XP()),e=Math.floor(C*d.XP());this.q.eo=new j2(0,0,m,e);this.B2.width=m;this.B2.height=e;
this.B2.setAttribute("style","width:"+m/d.XP()+"px; height:"+e/d.XP()+"px; display:block;");this.ZT()};
iz.prototype.pU=function(i){var C=-1,m=this.xZ;for(var Y=0;Y<m.length;Y++)if(m[Y].pointerId==i.pointerId)C=Y;
return C};iz.prototype.MU=function(i){var C=this.pU(i),m=this.xZ;if(C!=-1)m[C]=i;else m.push(i);if(m.length==1){this.sn=i.target;
d.AX(window,this.alS);d.xd(window,this.aBm);this.cO=d.CV(i,this.B2);this.cO.x*=d.XP();this.cO.y*=d.XP();
this.cr=this.cO;this.qE=this.q.F.clone();if(this.pr&&this.sn==this.B2&&!this.a4)this.T(new eX("mousedown"))}else this.aAm=this.Og=b5.qM(d.CV(m[0],this.B2),d.CV(m[1],this.B2))};
iz.prototype.bz=function(i){var C=this.pU(i),m=this.xZ;if(C!=-1)m[C]=i;var e=this.q,z=this.a4,L=this.ID[this.VD].Jw.clone();
L.m*=e.U;L.J*=e.U;var l=d.CV(i,this.B2);l.x*=d.XP();l.y*=d.XP();this.cr=l;if(this.pr&&this.sn==this.B2&&!z)this.T(new eX("mousemove"));
else if(z=="grab"||z==null){if(m.length>1){var x=d.CV(m[0],this.B2),S=d.CV(m[1],this.B2),k=new b5(d.XP()*(x.x+S.x)/2,d.XP()*(x.y+S.y)/2),f=b5.qM(x,S),X=null;
if(f>this.Og+50){this.Og+=50;X=!0}if(f<this.Og-50){this.Og-=50;X=!1}if(X!=null)this.E5(k,X);return}else{var o=l.x-this.cO.x,A=l.y-this.cO.y;
e.F.x=this.qE.x+Math.round(o);e.F.y=this.qE.y+Math.round(A)}this.T(new eX("viewchange"))}};iz.prototype.f9=function(i){var C=this.pU(i),m=this.xZ;
m.splice(C,1);if(m.length==0){d.nz(window,this.alS);d.uh(window,this.aBm);var e=this.a4;if(i.detail>1){this.q.U=1;
this.q.F.zy(0,0);this.ZT()}if(this.pr&&this.sn==this.B2&&!this.a4)this.T(new eX("mouseup"));else{if(e=="zoom-in"||e=="zoom-out")this.E5(this.cr,e=="zoom-in")}}else{var z=this.cO=d.CV(m[0],this.B2);
z.x*=d.XP();z.y*=d.XP()}};iz.prototype.k0=function(i){var C=this.cr;if(i){C=d.CV(i,this.B2);C.x*=d.XP();
C.y*=d.XP()}return this.q.yy(C.x,C.y)};function j4(){k5.call(this);this.YO=null;this.G5=null;this.nr=null;
this.jQ=null;this.a6$="";this.ba=[];this.p$=0;this.AT=[];this.PJ=0;this.os=null;var i=this.n=d.t("div",""),C=this.a7Y=d.t("div","form");
C.setAttribute("style","line-height:0; margin-bottom:0.5em;");i.appendChild(C);var m=this.Mo=d.t("span");
C.appendChild(m);m.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var e=this.a8H=new em([25,2,0]);
e.c(!0);C.appendChild(e.n);e.k(v.E.p,this.PT,this);var z=this.a9=new em([25,2,1]);z.c(!0);C.appendChild(z.n);
z.k(v.E.p,this.PT,this);var L=new bd(" ");C.appendChild(L.n);var l=this.E$=new kz([25,1,1]);C.appendChild(l.n);
l.k(v.E.p,this.PT,this);this.pq=new hL(14);this.pq.a1t(3);C.appendChild(this.pq.n);this.pq.parent=this;
this.pq.k(v.E.p,this.a9y,this);var x=this.aDc=new c1([25,1,2],null,null,!0);C.appendChild(x.n);x.k("click",this.TK,this);
var S=new c1("?",null,null,!0);C.appendChild(S.n);S.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aAz=this.asC.bind(this);this.tv=d.t("div","svggallery scrollable");i.appendChild(this.tv);this.tv.addEventListener("scroll",this.aez.bind(this))}j4.prototype=new k5;
j4.prototype.P6=function(i){this.a6E=i};j4.prototype._=function(){this.Mo.textContent=bC.get([25,0]);
this.pq._();this.a8H._();this.a9._();this.E$._();this.aDc._()};j4.prototype.Oh=function(i,C){this.YO=new b5(i,C);
this.a7Y.setAttribute("style","width:"+i+"px");var m=this.a7Y.getBoundingClientRect();C-=m.height;this.tv.setAttribute("style","width:"+i+"px; height:"+C+"px");
if(d.bv(this.n))this.PT()};j4.prototype.c=function(i){this.G5=i;this.PT()};j4.prototype.aez=function(i){var C=this.tv;
if(C.scrollTop+C.clientHeight+10>=C.scrollHeight){this.PT(!0)}};j4.prototype.a9y=function(i){this.nr=null;
this.PT()};j4.prototype.asC=function(i){if(Date.now()-this.PJ<2e3)return;this.PJ=Date.now();this.p$=this.AT.indexOf(i.currentTarget);
var C=this.AC(this.G5.x,this.G5.y);if(C[1]){var m=C[1].largeImageURL,e=new XMLHttpRequest;e.responseType="arraybuffer";
e.open("GET",m,!0);e.onload=this.akq.bind(this);e.send();return}this.az3(C)};j4.prototype.akq=function(i){var C=i.target.response,m=i$.ra(C),e=i$.AL(m),z=e.pX(C),L=this.AC(this.G5.x,this.G5.y,[C,z[0].Jw.m,z[0].Jw.J]);
this.az3(L)};j4.prototype.az3=function(i){var C=i[0],m=i$.ra(C),e=i$.AL(m),z=new ei("template.psd");
e.pX(C,z);var L=new eX("tempready",!0);L.data={n4:z};this.T(L)};j4.prototype.TK=function(i){var C=i.target;
this.ba=[];this.nr=null;this.PT()};j4.prototype.a8W=function(i){var C=JSON.parse(i.target.response),m=this.jQ=C.hits;
for(var Y=0;Y<m.length;Y++)if(m[Y].user_id==6314823)m.splice(Y,1);this.PT()};j4.prototype.PT=function(i){if(this.G5==null||this.YO==null||this.a6E==null)return;
if(this.YO.x<=0)return;var C=this.G5.x,m=this.G5.y;if(Math.min(C,m)<50)return;if(i!=!0){this.AT=[];d._l(this.tv);
this.tv.scrollTop=0}if(this.AT.length>300)return;var e=Math.min(1,300/Math.max(C,m)),z=this.YO.clone();
z.x-=20;var L=Math.max(1,Math.floor(z.x/(C*e))),l=Math.max(1,Math.ceil(z.y/(m*e)));e=z.x/L/C;var x=L*l;
if(this.nr==null){var S=this.a6E.FV.OA(),k=[];for(var f in S){var X=S[f],o=X[3];if(!this.pq.b6(X))continue;
if(X[5]==null||X[5].slice(0,2)=="gf")continue;k.push(X)}if(k.length==0)k.push(S.DejaVuSans);var A=k.length;
for(var Y=0;Y<A*10;Y++){var P=Math.floor(Math.random()*A),F=Math.floor(Math.random()*A),n=k[P];k[P]=k[F];
k[F]=n}k=k.slice(0,10);this.nr=k}var R=this.a9.h(),Q=this.E$.h().trim();this.E$.wo(R);if(R&&(this.jQ==null||Q!=this.a6$)){var s=new XMLHttpRequest,j="https://pixabay.com/api/?image_type=photo"+(Q==""?"":"&q="+encodeURIComponent(Q))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(Q=="")j="plugins/gallery.json";s.open("GET",j,!0);s.onload=this.a8W.bind(this);s.onerror=function(H){console.log(H.target.response)};
s.send();this.a6$=Q;return}e*=(C*e-5)/(C*e);var _=this.AT.length;for(var Y=0;Y<x;Y++){var B=this.p$=_+Y;
if(this.ba[B]==null)this.ba[B]=Math.floor(Math.random()*4294967295);var N=this.AC(Math.round(C*e),Math.round(m*e)),a=N[0];
a=W.U8(new Uint8Array(a));var O=d.t("span");O.innerHTML=a;this.AT.push(O);this.tv.appendChild(O);O.addEventListener("click",this.aAz,!1)}};
j4.prototype.AC=function(i,C,m){var e=this.a9.h(),z=this.a8H.h(),L=e&&this.jQ.length!=0?this.jQ:null;
if(z&&!e)L=null;if(z&&e&&(this.p$&1)==0)L=null;return d2.vC(i,C,this.ba[this.p$],this.nr,m?m:L)};function cR(){k5.call(this);
this.n=d.t("div");this.Y2=null;this.amq=null;this.jZ=-1;this.K4={JPG:[{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:70},{iq:new em("attach metadata"),tt:!1}],TIFF:[{iq:new em("attach metadata"),tt:!1}],WEBP:[{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:70},{iq:new em("attach metadata"),tt:!1}],GIF:[{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:100},{iq:new em([12,23,3]),tt:!1}],PNG:[{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:100},{iq:new em("don't use palettes"),tt:!1}],BMP:[{iq:new em("don't use palettes"),tt:!1}],PDF:[{iq:new kz([12,52,1]),tt:""},{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:100},{iq:new em("reverse pages"),tt:!1},{iq:new em("rasterize all"),tt:!1},{iq:new em("vectorize text"),tt:!1},{iq:new jp("Add Margin",0,5,"in",2),tt:0},{iq:new em("add crop marks"),tt:!1}],EMF:[{iq:new kz([12,52,1]),tt:""},{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:100},{iq:new em("reverse pages"),tt:!1},{iq:new em("rasterize all"),tt:!1},{iq:new em("vectorize text"),tt:!1},{iq:new jp("Add Margin",0,5,"in",2),tt:0}],SVG:[{iq:new em("add raster graphics"),tt:!0},{iq:new em("add hidden layers"),tt:!1},{iq:new em("vectorize text"),tt:!1},{iq:new em("rasterize text"),tt:!1},{iq:new em("minify"),tt:!1}],RAW:[{iq:new iw([12,72],["1","3","4"]),tt:2},{iq:new iw([12,34],["8 Bits","16 Bits"]),tt:0},{iq:new iw("Byte Order",["12-34","34-12"]),tt:0}],DDS:[{iq:new ib("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),tt:0},{iq:new em("Add Mipmaps"),tt:!0}],MP4:[{iq:new jp([12,52,0],0,100,"%",null,null,!0),tt:50}],anim:[{iq:new jp("Speed",10,1e3,"%",null,!0,!0),tt:100},{iq:new db("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),tt:0},{iq:new em("reverse frames"),tt:!1},{iq:new em("boomerang"),tt:!1}],slcs:[{iq:new em([8,11,0]),tt:!0}],artb:[{iq:new em([1,16,1]),tt:!0}],hicc:[{iq:new em("convert to sRGB"),tt:!0}]};
for(var i in this.K4){var C=this.K4[i];for(var Y=0;Y<C.length;Y++){C[Y].iq.c(C[Y].tt);C[Y].iq.k(v.E.p,this.Vz,this)}}}cR.prototype=new k5;
cR.prototype.aCZ=function(){this.jZ=-1};cR.prototype._=function(){for(var i in this.K4)for(var Y=0;Y<this.K4[i].length;
Y++)this.K4[i][Y].iq._()};cR.prototype.Vz=function(){this.PT();this.T(new eX(v.E.p,!1))};cR.prototype.PT=function(){var i=this.Y2,C=i[0],m=i[1],e=i[2],z=i[3],L=i[4],l=this.K4[C];
if(l==null)l=[];else l=l.slice(0);if(m)l=l.concat(this.K4.anim);if(["GIF","PNG","JPG"].indexOf(C)!=-1&&e)l=l.concat(this.K4.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(C)!=-1&&z)l=l.concat(this.K4.artb);if(L)l=l.concat(this.K4.hicc);
var x=i.join(",");if(x!=this.jZ){this.jZ=x;d._l(this.n);for(var Y=0;Y<l.length;Y++){if(C=="PDF"&&!z&&(Y==0||Y==2))continue;
this.n.appendChild(l[Y].iq.n);d._Z(this.n)}}var S=this.amq=[];for(var Y=0;Y<l.length;Y++)S.push(l[Y].iq.h())};
cR.prototype.Dk=function(i,C,m,e,z){this.Y2=[i,C,m,e,z];this.PT()};cR.prototype.h=function(){return this.amq.slice(0)};
cR.prototype.c=function(i,C){var m=this.Y2,e=m[0],z=this.K4[e],L=Math.min(z.length,i.length);for(var Y=0;
Y<L;Y++)z[Y].iq.c(i[Y]);this.PT();if(C!=!0)this.Vz()};function fe(){k5.call(this);this.n=d.t("span","fitem");
this.rc=!1;this.aO=new c1("No",!1,"Cancel");this.uH=new c1("Yes",!1,"Confirm");this.n.appendChild(this.aO.n);
this.n.appendChild(this.uH.n);this.aO.k("click",this.Zs,this);this.uH.k("click",this.Zs,this);this._()}fe.prototype=new k5;
fe.prototype._=function(){this.aO._H(d.W3("cross",null,"autoscale"));this.uH._H(d.W3("checkmark",null,"autoscale"))};
fe.prototype.Zs=function(i){this.rc=i.target==this.uH;this.T(new UIEvent("click"))};fe.prototype.h=function(){return this.rc};
function hr(i){k5.call(this);this.n=d.t("span","fitem");this.L$=new c1("\u25BC",null,"Auto Options",!0);
d.h_(this.L$.n,this.adJ.bind(this));this.n.appendChild(this.L$.n);this.x0=new c1("Auto",null,null,!0);
this.x0.k("click",this.ec,this);this.n.appendChild(this.x0.n);this.KA=new as("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.KA.k(v.E.p,this.ec,this);this.KA.c([!1,!1,!1,!0]);this.Ty=new k5;var C=this.Ty.n=d.t("div","floatcont form");
C.setAttribute("style","width: 250px;");this.Ty.parent=this;C.appendChild(this.KA.n);this.I_=[];for(var Y=0;
Y<2;Y++){var m=new db((Y==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);m.c(.1);m.k(v.E.p,this.ec,this);
this.I_.push(m);C.appendChild(m.n)}}hr.prototype=new k5;hr.prototype.ec=function(i){this.T(new eX(v.E.p,!1))};
hr.prototype._=function(){};hr.prototype.h=function(){return[this.KA.h().indexOf(!0),this.I_[0].h(),this.I_[1].h()]};
hr.prototype.adJ=function(i){if(d.bv(this.Ty.n))return;i.stopPropagation();var C=this.L$.n.getBoundingClientRect(),m=new eX(v.E.H,!0);
m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height+4};this.T(m)};function aq(){k5.call(this);var i=this.n=d.t("div","fitem");
this.a1=new ib([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.a1.k(v.E.p,this.OL,this);i.appendChild(this.a1.n);
this.i0=new hv(!1);this.i0.parent=this;this.i0.Iw(16777215);this.i0.k(v.E.p,this.OL,this);i.appendChild(this.i0.n)}aq.prototype=new k5;
aq.prototype._=function(){this.a1._();this.i0._()};aq.prototype.apZ=function(i){var C=[i.artboardBackgroundType.v-1];
if(i.Clr)C.push(i.Clr.v);this.c(C)};aq.prototype.aDp=function(){var i=this.h();return{classID:"artboard",Clr:{t:"Objc",v:i[1]},artboardBackgroundType:{t:"long",v:i[0]+1}}};
aq.prototype.c=function(i){this.a1.c(i[0]);if(i[1])this.i0.c(i[1])};aq.prototype.h=function(){return[this.a1.h(),this.i0.h()]};
aq.prototype.OL=function(i){if(i.target==this.i0)this.a1.c(3);this.T(new eX(v.E.p,!1))};function fo(i){k5.call(this);
this.WR=i;this.SK=0;this.a5w=!1;this.UZ=i?new fo.IO:null;this.n=d.t("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.xK=d.t("div");this.n.appendChild(this.xK);this.Wl=d.t("div");this.n.appendChild(this.Wl);this.ZE=[];
var C=Storage.list.length;if(i)C=C+1+fo.$j.length;var m=this.eh.bind(this);for(var Y=0;Y<C;Y++){var e=d.t("div");
this.ZE.push(e);this.xK.appendChild(e);e.addEventListener("click",m,!1)}this.eh(null,0)}fo.prototype=new k5;
fo.fx=[];fo.JN=function(i){fo.fx.push(i);i.__()};fo.IH=function(){var i=fo.fx;i.pop();i[i.length-1].__()};
fo.prototype.__=function(){console.log(this.SK);this.eh(null,this.SK)};fo.prototype.P6=function(i,C){if(!i.rJ&&!this.a5w){var m=this.WR?2:1;
for(var Y=m;Y<this.ZE.length;Y++)this.xK.removeChild(this.ZE[Y]);this.a5w=!0;if(this.WR)this.UZ.P6(i,C)}if(this.Ij)this.Ij.P6(i,C)};
fo.prototype._=function(){if(this.WR)this.UZ._();if(this.Ij)this.Ij._()};fo.prototype.eh=function(i,C){var m=this.ZE,e;
if(C==null)C=m.indexOf(i.currentTarget);this.SK=C;for(var Y=0;Y<m.length;Y++)d.nP(m[Y],"active");d.uc(m[C],"active");
if(this.WR)C--;d._l(this.Wl);var z=Storage.list.length;if(C==-1)e=this.UZ;else if(C<z)e=Storage.QF(C);
else{var L=fo.$j[C-z];e=new fo.MV(L[1])}this.Ij=e;e.parent=this;this.Wl.appendChild(e.n);this.Oh(this.HG,this.bB);
this._()};fo.prototype.Oh=function(i,C){this.HG=i;this.bB=C;var m=i<850,e=m?50:200,z=Storage.list;if(this.WR)z=[["Home",null,"strg/home"]].concat(z.concat(fo.$j));
for(var Y=0;Y<z.length;Y++){var L=this.ZE[Y],l="padding: 8px "+(m?13:36)+"px; cursor:pointer;";L.setAttribute("style",l);
var x=z[Y][2],S=x.indexOf(".")!=-1;x=S?x:PIMG[x];L.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(S?"":"gsicon")+"\" src=\""+x+"\" /> "+(m?"":z[Y][0])}this.n.style.width=i+"px";
this.n.style.height=C+"px";this.xK.style.width=e+"px";this.xK.style.paddingTop="32px";if(this.Ij)this.Ij.Oh(i-e,C)};
fo.$j=[["Design contest","code/storages/wows.html","img/wows_logo.png",!0,"Join the contenst!",1686144664]];
for(var Y=0;Y<fo.$j.length;Y++)if(fo.$j[Y][5]*1e3<Date.now()){fo.$j.splice(Y,1);Y--}fo.IO=function(){this.$h=null;
var i=this.n=d.t("div");i.style.background="var(--bg-canvas)";var C=this.lA=d.t("div");i.appendChild(C);
var m=d.t("style");i.appendChild(m);m.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var Y=0;Y<2;Y++){var e=d.t("div"),m="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";C.appendChild(e);
if(Y==0)m+="padding: 12px 0px";if(Y==1)m+="position:absolute;  bottom:0;";e.setAttribute("style",m);
var z=d.t("img");e.appendChild(z);z.setAttribute("src",PIMG[Y==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(Y==0)this.rZ=z;else this.a9P=z;if(Y==0)this.atA=e;else this.arv=e}this.ZE=[];m="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var L=this.xW.bind(this),l=d.t("div");C.appendChild(l);l.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var Y=0;Y<4;Y++){var x=d.t("span","bhover");this.ZE.push(x);x.setAttribute("style",m+"cursor:pointer; padding:12px;");
x.addEventListener("click",L,!1);l.appendChild(x)}d._Z(C);var e=d.t("div");e.setAttribute("style",m+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
e.textContent="Drop any files here";C.appendChild(e);this.B2=d.t("canvas");this.B2.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Hs=this.B2.getContext("2d");this.afl=I.R(4);i.appendChild(this.B2);var S=new Date().getDate(),k=new Date().getMonth();
if(k==11&&S>20||k==0&&S<10){var f=Math.random()<.5,X={Z:255,r:255,e:255};if(!f){X=I.Aj(Math.random(),Math.random()*.7,1);
X.Z*=255;X.r*=255;X.e*=255}this.Yz=[Math.round(1048575*Math.random()),f?.05:.02,Math.round(4+Math.random()*8),1,f?3:15,X,0,!0,f,f?1:.2,3];
this.auk=f?.1:.2;this.zK=this.TY.bind(this);window.requestAnimationFrame(this.zK)}};fo.IO.prototype=new k5;
fo.IO.prototype.TY=function(){window.requestAnimationFrame(this.zK);if(!d.bv(this.n))return;var i=this.afl,C=this.B2,m=this.Hs,e=C.width,z=C.height;
this.Yz[6]=Date.now()*.001*this.auk;I.UJ.LP(i,e,z,this.Yz,!0);m.putImageData(new ImageData(new Uint8ClampedArray(i.buffer),e,z),0,0)};
fo.IO.prototype.xW=function(i){var Y=this.ZE.indexOf(i.currentTarget),C=new eX(v.E.H,!0);if(Y==0)C.data={d:v.B.c6,pw:"newproject"};
if(Y==1)C.data={d:v.B.mp};if(Y==2)C.data={d:v.B.c6,pw:"res0"};if(Y==3)C.data={d:v.B.k3};this.T(C)};fo.IO.prototype._=function(){var i=this.ZE,C=[[11,7],[1,6],[25,0],[0,17,6]],m=["\u2605","\uD83E\uDC7F","\u25A3"],m=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var Y=0;Y<i.length;Y++)i[Y].innerHTML="<span style=\"vertical-align:middle\">"+d.W3(m[Y],null,"autoscale")+"</span>\u2000"+bC.get(C[Y]);
var e="l"+"o"+"g"+"o",z=e+"_"+["pp","vp"][d4],L=new Date;if(L.getMonth()==3&&L.getDate()==1)z="lo"+"go_cuc"+"umber";
if(PIMG[e])z=e;this.rZ.setAttribute("src",PIMG[z]);this.a9P.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
fo.IO.prototype.Oh=function(i,C){var m=Math.min(C*1.5,Math.min(i,600));d.Ay(this.B2,i,m*.26);var e=this.B2.width,z=this.B2.height;
this.afl=I.R(e*z*4);this.n.style.width=i+"px";this.n.style.height=C+"px";this.arv.style.width=i+"px";
this.lA.style.marginLeft=Math.max(0,Math.round((i+200-600)/2)-200)+"px";this.rZ.style.width=m+"px";this.a9P.style.width=m+"px"};
fo.IO.prototype.P6=function(i,C){var m=i;if(i==null)i=this.os;this.os=i;if(!i.rJ&&this.ZE[2].parent){this.lA.removeChild(this.ZE[2]);
this.lA.removeChild(this.ZE[3])}this.ZE[3].style.display=i.CN?"inline-block":"none";if(m)this.$h=setTimeout(this.P6.bind(this),100)};
fo.MV=function(i){var C=this.n=d.t("iframe");C.style.background="var(--bg-canvas)";C.setAttribute("src",i)};
fo.MV.prototype=new k5;fo.MV.prototype.Oh=function(i,C){var m=this.n;m.style.width=i+"px";m.style.height=C+"px"};
fo.MV.prototype.P6=function(){};function Storage(i){k5.call(this);var C=this.n=d.t("div","storage");
d.xq(C);C.addEventListener("drop",this.awN.bind(this),!1);var m=this.a3T=d.t("style");C.appendChild(m);
C.setAttribute("tabindex","0");C.style.outline="none";C.addEventListener("keydown",this.a13.bind(this),!1);
this.Mk=this.aAy.bind(this);this.w9=0;this.tL=0;var e=d.t("div");C.appendChild(e);var z=this.ajY.bind(this);
this.Bu=d.t("div","bar");e.appendChild(this.Bu);this.ua=d.t("div","fls scrollable");e.appendChild(this.ua);
this.FA=d.t("div");e.appendChild(this.FA);this.FA.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.Cp=d.t("div","bar");this.Cp.textContent="Name: ";var L=this.xT=d.t("input");L.setAttribute("type","text");
this.Cp.appendChild(L);var l=this.Fd=d.t("div","btn");l.textContent="Save";this.Cp.appendChild(l);d.xd(l,z);
d.h_(this.ua,this.Mk);this.Ps=0;this.qY=i;var x=this.ar3.bind(this),S=this.auD=d.t("div");S.setAttribute("style","text-align:center; font-size:1.6em");
var k=d.t("img");S.appendChild(k);d._Z(S);k.setAttribute("src",PIMG[Storage.list[this.qY][2]]);k.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
d.xd(k,x);this.MM=d.t("div","btn");S.appendChild(this.MM);d.xd(this.MM,x);this.D1=new gw([{name:[6,20]},{name:[5,2],Xt:[jD.Uj,jD.AH],w:function(){return{w:Storage.p6!=null}}}]);
this.D1.parent=this;this.D1.k("select",this.wy,this);this.ua.addEventListener("contextmenu",this.Mk);
this.agU=d.t("span");this.kd=d.t("span");this.kd.setAttribute("style","position:absolute; right:0; top:5px;");
this.pF=[];this.tZ=[];for(var Y=0;Y<3;Y++){var f=d.t("div","btn");this.pF.push(f);this.agU.appendChild(f);
d.xd(f,z);f.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][Y]}for(var Y=0;Y<5;Y++){var f=d.t("div","btn");
this.tZ.push(f);this.kd.appendChild(f);d.xd(f,z)}window.addEventListener("message",this.axS.bind(this),!1);
this.akJ=!1;this.d$=0;setInterval(this.ay_.bind(this),300);this.M1();var X=this.a7S=document.createElement("input");
X.setAttribute("type","file");X.addEventListener("change",this.awN.bind(this),!1);document.body.appendChild(X);
X.setAttribute("style","display:none");X.setAttribute("multiple","")}Storage.prototype=new k5;Storage.WG=!1;
Storage.prototype.awN=function(i){i.stopPropagation();i.preventDefault();var C=i.dataTransfer?i.dataTransfer.files:i.target.files;
this.a3L=C.length;Storage.p6={};for(var Y=0;Y<C.length;Y++){var m=C[Y],e=new FileReader;e.dS=m;e.onload=this.a7T.bind(this);
e.readAsArrayBuffer(m)}};Storage.prototype.a7T=function(i){var C=Storage.p6;C[i.target.dS.name]=i.target.result;
this.a3L--;if(this.a3L==0)this.xA()};Storage.prototype.P6=function(i,C){var m=Storage.list[this.qY][3],e=a8.Op();
if(m){if(this.d$==1&&d.bv(this.n)&&e!=null){this.M1()}if(this.d$==2&&e==null){this.xM("forget","")}}};
Storage.prototype.ay_=function(){var i=d.bv(this.n),C=this.akJ;if(i&&!C){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!i&&C){window.onpopstate=function(){};history.go(-1)}this.akJ=i};
Storage.prototype.M1=function(){if(this.j6)document.body.removeChild(this.j6);this.A9=[[]];this.U_=0;
this.ah9={"/":[]};this.aDG="";this.m$=null;this.ea=[];this.KF=[];this.a1P=[];this.av4=null;var i="code/storages/"+Storage.list[this.qY][1],C=this.j6=d.t("iframe");
C.setAttribute("src",i);C.setAttribute("style","display:none");document.body.appendChild(C)};Storage.prototype.jL=function(){return this.ah9[this.No()]};
Storage.prototype.rk=function(i){this.ah9[this.No()]=i};Storage.QF=function(Y){var i=Storage.j3[Y];if(i==null)i=Storage.j3[Y]=new Storage(Y);
return i};Storage.j3=[];Storage.px=0;Storage.ace="";Storage.Va=function(i,C){Storage.px=i;Storage.ace=C;
var m=Storage.j3;for(var Y=0;Y<m.length;Y++)if(m[Y])m[Y].__()};Storage.avl=[500*(1<<20),5e3*(1<<20)];
Storage.Wh=0;Storage.H5=2;Storage.d9=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.agc=function(i){for(var Y=0;Y<Storage.j3.length;Y++){if(Storage.j3[Y]&&Storage.j3[Y].j6.contentWindow==i)return!0}return!1};
Storage.prototype.a13=function(i){if(i.target.tagName=="INPUT")return;var C=jD;if(C.fG(i.code,C.nR)&&this.No().length!=0)this.acW();
else if(i.ctrlKey){if(C.fG(i.code,C.B)){var m=[];this.rk(m);for(var Y=0;Y<this.m$.length;Y++)m.push(Y);
this.qu()}if(C.fG(i.code,C.Cl))this.vQ(2);if(C.fG(i.code,C.AH))this.xA()}else if(C.fG(i.code,C.RX)){var e=this.jL();
if(e.length!=0)this.azn(e[0])}else if(C.fG(i.code,C.sk)){this.U_=Math.max(this.U_-1,0);this.m4()}else{var z=0;
for(var Y=65;Y<=90;Y++)if(i.code=="Key"+String.fromCharCode(Y))z=Y;if(z!=0){var L=String.fromCharCode(z).toLowerCase(),l=[],x=this.m$,S;
for(var Y=0;Y<x.length;Y++)if(x[Y][0][0].toLowerCase()==L)l.push(Y);if(l.length==0)return;var e=this.jL();
if(e.length==0)S=l[0];else{var k=l.indexOf(e[0]);if(k==-1){S=l[0];for(var Y=0;Y<l.length;Y++)if(l[Y]>e[0]){S=l[Y];
break}}else S=l[(k+1)%l.length]}this.rk([S]);this.qu(!0)}}};Storage.prototype.Oh=function(i,C){this.HG=i;
this.bB=C;this.n.style.width=i+"px";this.n.style.height=C+"px";var m=i-30,e=Math.floor(m/230),m=Math.floor(m/e)-70;
this.a3T.textContent=".storage .tile .name {  width:"+m+"px;  }";this.xT.style.width=i-140+"px";this.ua.style.width=this.Bu.style.width=i-20+"px";
this.ua.style.height=C-70-(Storage.px==0?0:45)+"px"};Storage.prototype.ar3=function(){this.m4()};Storage.prototype.m4=function(){this.tL=1;
this.xM("show",this.No())};Storage.prototype.No=function(i){var C=this.A9[this.U_],m="/"+C.join("/");
if(i&&C.length!=0)m+="/";return m};Storage.prototype.ajY=function(i){var C=i.currentTarget,m=this.U_,e=this.pF.indexOf(C),z=this.tZ.indexOf(C);
if(e>=0&&!this.agX(e))return;if(e==0){this.U_=Math.max(m-1,0);this.m4()}if(e==1){this.U_=Math.min(m+1,this.A9.length-1);
this.m4()}if(e==2){var L=this.A9[m+1]=this.A9[m].slice(0);L.pop();this.U_++;this.A9=this.A9.slice(0,this.U_+1);
this.m4()}if(z==0){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.a7S.dispatchEvent(l)}if(z==1){Storage.Wh=(Storage.Wh+1)%2;this.__()}if(z==2){Storage.H5=(Storage.H5+1)%3;
this.__()}if(z==3){Storage.d9=(Storage.d9+1)%3;this.__()}if(z==4){this.xM("forget","")}if(C==this.Fd){var x=this.xT.value.trim(),S=this.m$,k=-1;
if(!x.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var Y=0;
Y<S.length;Y++)if(S[Y][0]==x)k=Y;if(k!=-1){this.gB("Do you really want to replace \""+x+"\"?",this.ayS.bind(this))}else this.ayS()}};
Storage.prototype.ayS=function(){var i=this.xT.value.trim(),C=[this.qY,this.No(!0)+i];this.CC({d:v.B.a6L,$R:C});
this.T(new eX("canclose",!0))};Storage.prototype.xA=function(){if(Storage.p6==null)return;this.CC({d:v.B.dB,rU:bC.get("Uploading ...")});
this.w9=4;dc.QF(2,this.j6,[this.No(),Storage.p6,this.m$],null,this.afc.bind(this))};Storage.prototype.afc=function(i){this.w9=0;
this.CC({d:v.B.k6,rU:bC.get("Uploading ...")});this.m4()};Storage.prototype.wy=function(i){var C=i.target.kT();
if(i.target==this.D1){if(C[0]==0){var m=[bC.get([6,20]),-1,0];this.m$.push(m);this.__();var Y=this.m$.indexOf(m),e=this.ea[Y].querySelector(".name");
console.log(e);var z=new b0.J2(e,function(X){this.CC({d:v.B.dB,rU:bC.get([1,2])+" ..."});var o=this.No(!0)+X+"/";
console.log(o);this.xM("save",o)}.bind(this),!0)}else this.xA()}else{if(C[0]==0){this.vQ(2)}else if(C[0]==1){var Y=this.jL()[0],L=this.m$[Y],e=this.ea[Y].querySelector(".name");
console.log(e);e.innerHTML=L[0];var z=new b0.J2(e,function(X){X=X.trim();var o=this.m$;for(var Y=0;Y<o.length;
Y++)if(o[Y][0]==X){alert("Item with such name already exists.");this.__();return}var A=this.No(!0)+L[0]+":"+X;
console.log(A);this.xM("rename",A)}.bind(this))}else if(C[0]==2){this.vQ(3)}else if(C[0]==3)this.acW();
else if(C[0]==4){this.vQ(1)}else{var l=this.m$[this.jL()[0]],x=Storage.wc(l),S=x[C[1]],k=S[0],f=this.Ma().pop()[1];
if(Storage.a2x(l,k)!=-1){this.xM("share",f+":"+k+":-1");alert("Unshared.")}else{this.xM("share",f+":"+k+":"+C[2]);
alert("Shared.")}}}};Storage.a2x=function(i,C){var m=i[4];if(m==null)return-1;if(m.indexOf(C+":0")!=-1)return 0;
if(m.indexOf(C+":1")!=-1)return 1;return-1};Storage.prototype.acW=function(){var i=this.jL();this.gB("Do you really want to delete "+(i.length==1?"\""+this.m$[i[0]][0]+"\"":"these files")+"?",this.Of.bind(this))};
Storage.prototype.gB=function(i,C){var m={d:v.B.c6,pw:"confirm",b:i,G$:C};this.CC(m)};Storage.prototype.vQ=function(i){this.w9=i;
if(1<i)this.CC({d:v.B.dB,rU:bC.get("Downloading ...")});else this.CC({d:v.B.dB,rU:bC.get("Getting info ...")});
dc.QF(0,this.j6,this.No(),this.Ma(!0),this.a6g.bind(this))};Storage.prototype.a6g=function(i){if(this.w9==1){var C=0,m=0;
for(var e in i){var z=i[e];C+=z[1];m++}this.gB(m+" files, "+b3.WF(C)+" in total.",function(){});this.CC({d:v.B.k6,rU:bC.get("Getting info ...")});
this.w9=0}if(1<this.w9)dc.QF(1,this.j6,i,null,this.a2q.bind(this))};Storage.prototype.a2q=function(i){if(1<this.w9){if(1<this.w9)this.CC({d:v.B.k6,rU:bC.get("Downloading ...")});
var C={},m=this.No(!0);for(var e in i)C[e.slice(m.length)]=i[e];if(this.w9==2){Storage.p6=C;alert("Copied to a clipboard")}if(this.w9==3){var z=Object.keys(i);
if(z.length==1)g_.save(i[z[0]].buffer,z[0].split("/").pop());else g_.save(UZIP.encode(C),m=="/"?"files.zip":this.No().split("/").pop()+".zip")}}this.w9=0};
Storage.p6=null;Storage.prototype.Of=function(){this.CC({d:v.B.dB,rU:bC.get([5,4])+" ..."});this.KF=this.Ma();
this.GA()};Storage.prototype.GA=function(){if(this.KF.length==0){this.CC({d:v.B.k6,rU:bC.get([5,4])+" ..."});
this.rk([]);this.m4()}else this.xM("delete",this.KF.pop()[1])};Storage.prototype.Ma=function(i){var C=[],m=this.No(!0),e=this.jL();
for(var Y=0;Y<e.length;Y++){var z=this.m$[e[Y]];if(i)C.push(z[0]);else C.push([this.qY,m+z[0]])}return C};
Storage.prototype.xM=function(i,C){d.uc(this.n,"disabled");this.aDG=i;if(Storage.WG)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+i+"\", \"prm\": "+JSON.stringify(C)+"  }");
this.j6.contentWindow.postMessage("{\"code\": \""+i+"\", \"prm\": "+JSON.stringify(C)+"  }","*")};Storage.prototype.axS=function(i){if(i.source!=this.j6.contentWindow||this.w9!=0)return;
d.nP(this.n,"disabled");if(typeof i.data=="string"){if(Storage.WG)console.log("==",Math.floor(Date.now()/1e3),i.data);
var C=JSON.parse(i.data),m=C.code,e=C.prm,z=this.aDG,L=Storage.list[this.qY][3];if(m=="ready"){if(L&&!e){var l=a8.Op();
console.log(l);var x=a8.h0(),S=x.acc;if(l==null){this.d$=1;alert("Log in to use this storage (press Account at the top).");
this.Rq();return}var k=[],f=l.wantToJoin;for(var X in f)k.push(parseInt(X.slice(1)));var o=[],A=l.inTeams;
for(var Y=0;Y<A.length;Y++)o.push(A[Y][2]);var P={uid:l.id,limit:Storage.avl[a8.md()?1:0],inTeams:o,myTeams:k};
P.secret=S&&S.pds?S.pds:"";this.xM("login",P);return}if(L)this.d$=2;if(L&&C.secret){var x=a8.h0(),S=x.acc;
if(S==null)S=x.acc={};S.pds=C.secret;a8.Z1(x)}if(e)this.m4();else this.Rq()}else if(m!="0"){if(z=="save")this.CC({d:v.B.k6,rU:bC.get([1,2])+" ..."});
if(z=="delete")this.GA();alert(e);this.__()}else if(z=="show"){this.tL=0;this.m$=e;this.__()}else if(z=="save"){this.tL=0;
this.CC({d:v.B.k6,rU:bC.get([1,2])+" ..."});this.m4()}else if(z=="delete"){this.GA()}else if(z=="forget"){if(L)this.Rq();
else this.M1()}else if(z=="rename"||z=="share"){this.m4()}else throw m}else{if(Storage.WG)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.CC({d:v.B.asw,$R:this.Ma()[0],Jg:i.data});this.CC({d:v.B.k6,rU:"Opening ..."})}};Storage.prototype.Rq=function(){d._l(this.Bu);
d._l(this.ua);d._l(this.FA);this.ua.appendChild(this.auD)};Storage.prototype.agX=function(Y){if(Y==0)return this.U_>0;
if(Y==1)return this.U_<this.A9.length-1;if(Y==2)return this.No()!="/"};Storage.prototype.__=function(){var i=Storage.list[this.qY][3],C=this.m$,m=Storage.H5,e=Storage.Wh,z=Storage.d9;
if(C==null)return;C.sort(function(D,T){var p=D[1]==-1?1:5,y=T[1]==-1?1:5,b=0;if(Math.min(p,y)==1&&p!=y)return p-y;
else if(p==1||m==0)b=D[0].toLowerCase()<T[0].toLowerCase()?-1:1;else if(m==1)b=D[1]-T[1];else if(m==2)b=D[2]-T[2];
if(e==1)b=-b;if(D[0]=="Shared")b=-1;if(T[0]=="Shared")b=1;return b});var L=this.ua,l=this.Bu,x=this.A9[this.U_];
d._l(L);d._l(l);this.ea=[];for(var Y=0;Y<3;Y++)if(this.agX(Y))d.nP(this.pF[Y],"disabled");else d.uc(this.pF[Y],"disabled");
l.appendChild(this.agU);l.appendChild(this.kd);var S=d.t("span");S.textContent="/";l.appendChild(S);
for(var Y=0;Y<x.length;Y++){var S=d.t("span");S.textContent=x[Y];l.appendChild(S);var S=d.t("span");
S.textContent="/";l.appendChild(S)}var k=["tile","icon","litm"][z];for(var Y=0;Y<C.length;Y++){var f=C[Y],X=f[1]==-1,o=X?"":b3.WF(f[1]),A=d.t("div","cont "+k),N=!1;
L.appendChild(A);this.ea.push(A);A.setAttribute("title",f[0]+(X?"":"\nSize: "+o+"\nDate Modified: "+new Date(f[2]*1e3).toLocaleString().replaceAll(". ",".")));
var P=d.t("img");P.setAttribute("src",X?Storage.agH:f[3]?f[3]:Storage.dS);if(!X&&f[3])P.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var F=d.t("span","name"),n=f[0];if(k=="icon"&&n.length>30)n=n.slice(0,24)+".."+n.slice(n.length-5);if(i&&x.length==1&&x[0]=="Shared"){var R=Storage.wc(),Q=parseInt(n.slice(5));
for(var s=0;s<R.length;s++)if(R[s][0]==Q)n=R[s][1]}F.textContent=n;A.appendChild(P);A.appendChild(F);
if(k!="icon"&&!X){if(k=="tile")d._Z(F);var j=d.t("span");j.textContent=o;j.style.opacity="0.8";(k=="tile"?F:A).appendChild(j)}var _=f[0].split("."),B=(_.length==1?"":_.pop()).toUpperCase();
if(i&&f[0]=="Shared"&&x.length==0){N=!0;B="\u21E7"}if(k!="litm"&&(!X&&f[3]==null||N)){var a=d.t("span","ext");
a.textContent=B;var O=Storage.b1[B];a.style.backgroundColor=O?O:Storage.api(B);A.appendChild(a)}d.h_(A,this.Mk);
A.addEventListener("contextmenu",this.Mk)}this.qu();var H=this.Cp.parentNode!=null,q=Storage.px,h=this.n;
if(H&&q==0)h.removeChild(this.Cp);if(!H&&q==1)h.appendChild(this.Cp);this.Oh(this.HG,this.bB);this._()};
Storage.prototype.qu=function(i){var C=this.ea,m=this.m$,e=this.jL(),z=!1,L=0;for(var Y=0;Y<C.length;
Y++){var l=m[Y],x=l[1]==-1,S=C[Y];if(Storage.px==1&&!x&&!l[0].toLowerCase().endsWith(".psd"))S.style.display="none";
else S.style.display="auto";if(e.indexOf(Y)==-1)d.nP(S,"active");else{if(x)z=!0;else L+=l[1];d.uc(S,"active");
if(i)S.scrollIntoView({block:"center",behavior:"smooth"})}}var k=z?"":b3.WF(L);this.FA.textContent=e.length==0?"":e.length+" item"+(e.length==1?"":"s")+" selected\u2001"+k;
this.xT.value=e.length==1&&!z?m[e[0]][0]:Storage.ace};Storage.prototype.azn=function(Y){var i=this.m$[Y];
if(i[1]==-1){var C=this.A9[this.U_].slice(0);C.push(i[0]);this.U_++;this.A9[this.U_]=C;this.A9=this.A9.slice(0,this.U_+1);
this.rk([]);this.m4()}else if(Storage.px==0){this.CC({d:v.B.dB,rU:"Opening ..."});this.T(new eX("canclose",!0));
var m=this.No(!0)+i[0];this.xM("load",m)}};Storage.prototype._=function(){var i=Storage.H5,C=Storage.Wh,m=Storage.d9;
this.tZ[0].textContent="Upload";this.tZ[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][C];this.tZ[2].textContent=bC.get([[12,48],[12,14,0],"Date"][i]);
this.tZ[3].textContent=bC.get(["Tiles","Icons",[25,3,1]][m]);this.tZ[4].textContent="\u2716";this.MM.innerHTML=bC.get([[23,6],Storage.list[this.qY][0]])+"<br/><small><small>"+Storage.list[this.qY][4]+"</small></small>";
this.P6()};Storage.prototype.aAy=function(i){this.CC({d:v.B.ze});if(d.bv(this.auD))return;if(i.button==3||i.button==4){if(Date.now()-this.agr>50){var C=this.U_;
if(i.button==3)this.U_=Math.max(C-1,0);else this.U_=Math.min(C+1,this.A9.length-1);this.m4()}this.agr=Date.now();
return}i.stopPropagation();var Y=this.ea.indexOf(i.currentTarget);if(i.type=="contextmenu"){if(this.m$==null)return;
i.preventDefault();var m=this.D1;if(Y!=-1){var e=[{name:[5,1],Xt:[jD.Uj,jD.Cl]},{name:[6,37]},{name:"Download",mL:!0},{name:[5,4],Xt:[jD.nR]},{name:[9,2]}];
if(Storage.list[this.qY][3]){var z=this.m$[Y],L=Storage.wc(z);if(L.length!=0){var l=[];for(var x=0;x<L.length;
x++){var S=[],k=L[x],f=Storage.a2x(z,k[0]);if(f!=-1)S.push({name:"Unshare"});else S.push({name:"Allow Read"},{name:"Allow Read & Write"});
l.push({name:k[1]+[""," (R)"," (R,W)"][f+1],sub:S})}e.push({name:"Share With",sub:l})}}m=new gw(e);m.parent=this;
m.k("select",this.wy,this)}m.parent=this;m._();m.update();this.CC({d:v.B.vs,aA:m,x:i.clientX+4,y:i.clientY});
return}var X=this.jL(),o=X.indexOf(Y);if(i.button!=0&&o!=-1)return;if(i.target==this.ua)this.rk([]);
else{if(i.ctrlKey){if(o==-1)X.push(Y);else X.splice(o,1)}else if(i.shiftKey&&X.length!=0){var x=X[0];
if(x<Y){var A=Y;Y=x;x=A}X=[];this.rk(X);for(var P=Y;P<=x;P++)X.push(P)}else{this.rk([Y]);if(Date.now()-this.Ps<300&&X.length!=0&&X[0]==Y){this.azn(Y);
this.Ps=0}}}this.Ps=Date.now();this.qu()};Storage.prototype.CC=function(i){var C=new eX(v.E.H,!0);C.data=i;
this.T(C)};Storage.wc=function(i){var C=[],m=[],e=a8.h0(),z=e.acc.tstart;if(z)for(var Y=0;Y<z.length;
Y++){C.push([z[Y][2],z[Y][0]]);m.push(z[Y][2])}var L=a8.Op();z=L.inTeams;if(z)for(var Y=0;Y<z.length;
Y++){C.push([z[Y][2],z[Y][0]]);m.push(z[Y][2])}if(i&&i[4]){for(var Y=0;Y<i[4].length;Y++){var l=parseInt(i[4][Y].split(":")[0]);
if(m.indexOf(l)==-1)C.push([l,"Team "+l])}}return C};Storage.prototype.atN=function(i,C){if(this.tL!=0)return 1;
this.tL=2;this.CC({d:v.B.dB,rU:bC.get([1,2])+" ..."});this.xM("save",i);if(Storage.WG)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.j6.contentWindow.postMessage(C,"*")};Storage.b1={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.api=function(i){i=i.toLowerCase();
var C=0;for(var Y=0;Y<i.length;Y++)C+=i.charCodeAt(Y)*613<<8*Y;return"#"+I.dP(C&16777215)};Storage.agH="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.dS="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var dc=function(){var i,C,m,e,z,L,l,x;function S(A,P,F,n,R){C=P;e=n;l=R;i=A;L={};if(i==0){m=[F]}if(i==1){m=[];
for(var Q in F)m.push(Q)}if(i==2){var s=F[0],j=F[1],_=F[2],B={};for(var Y=0;Y<_.length;Y++)B[_[Y][0]]=!0;
var N={};for(var Q in j){var a=Q.split("/"),O=a[0],H=O.split("."),q="";if(H.length!=1){q="."+H.pop();
O=H.join(".")}while(B[O+q])O+=" - Copy";a[0]=O+q;N[a.join("/")]=j[Q]}var h={};m=[];for(var Q in N){var a=Q.split("/");
for(var Y=0;Y<a.length-1;Y++){var D=s+a.slice(0,Y+1).join("/")+"/";if(h[D]==null){h[D]=!0;m.push([D])}}var T=s.endsWith("/")||Q.startsWith("/")?"":"/";
m.push([s+T+Q,N[Q]])}}window.addEventListener("message",f,!1);x=Date.now();k()}function k(){if(m.length==0){o();
return}z=m.shift();if(i==0)X("show",z);if(i==1)X("load",z);if(i==2){X("save",z[0]);if(z.length==2)C.contentWindow.postMessage(z[1],"*")}}function f(A){if(A.source!=C.contentWindow)return;
if(i==0){var P=JSON.parse(A.data),F=P.code,n=P.prm;for(var Y=0;Y<n.length;Y++){var R=n[Y];if(e&&e.indexOf(R[0])==-1)continue;
var Q=z+(z=="/"?"":"/"),s=Q+R[0];if(R[1]==-1)m.push(s);else L[s]=R}e=null}else if(i==1){L[z]=new Uint8Array(A.data)}k()}function X(A,P){var F=A=="show"?", \"nothumbs\": true":"",n="{\"code\": \""+A+"\", \"prm\": "+JSON.stringify(P)+F+"  }";
C.contentWindow.postMessage(n,"*")}function o(){console.log(Date.now()-x);window.removeEventListener("message",f,!1);
l(L)}return{QF:S}}();function co(i){k5.call(this);var C=this.n=d.t("div","form scrollable padded label12");
this.jT=i;this.rx=null;var m=[],e=co.KE[i];this.A6=[];for(var z in e){var L=parseInt(z.slice(1)),l=L%10==0?"":"\u2800\u2800- ";
m.push(l+e[z]);this.A6.push(L)}this.w8=[new kz("Name",null,30),new kz("Description",null,30,4),i==0?new kz("File"," www.Photopea.com#i...",17):new az("File",!1,!1),new kz("Thumbnail URL","* Use Imgur.com etc.",17),new ib("Category",m),new em("Make Public"),new c1("<< Back",null,null,!0),new c1("Save",null,null,!0)];
if(i==0)this.w8.push(new bd("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new bd("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(i==1)this.w8.push(new bd("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(i!=0)this.w8.push(new bd("Do not load any file to preserve the old version."));for(var Y=0;Y<this.w8.length;
Y++){var x=this.w8[Y];C.appendChild(x.n);x.parent=this;if(Y!=4&&Y!=6)d._Z(C);if(x instanceof c1)x.k("click",this.ae_,this);
if(i!=0&&Y==2)x.k(v.E.p,this.atM,this)}}co.prototype=new k5;co.prototype.atM=function(i){var C=this.w8[2],m=C.h(),e=Object.keys(m),z=m[e[0]].buffer,L=i$.ra(z),l=" json atn abr grd asl pat csh icc".split(" ")[this.jT];
if(L!=l){alert("This is a wrong file"+(L?" ("+L.toUpperCase()+")":"")+". You need to upload the "+l.toUpperCase()+" file.");
C.c({})}};co.prototype.ae_=function(i){if(i.target==this.w8[6]){this.T(new eX("back"));return}var C=this.w8[3].h().trim(),m=C.startsWith("http")&&(C.endsWith(".jpeg")||C.endsWith(".jpg")||C.endsWith(".png")||C.endsWith(".gif"));
if(!m){alert("Thumbnail URL is incorrect.");return}var e=new XMLHttpRequest,z="mirror.php?url="+encodeURIComponent(C);
e.open("GET",z);e.responseType="arraybuffer";e.onload=this.aBg.bind(this);e.send()};co.prototype.aBg=function(i){var C=i.target.response,m=C.byteLength;
if(m>2e5&&i$.ra(C)!="gif"){alert("Thumbnail is too large ("+b3.WF(m)+"). Make it under 200 kB.");return}var e=this.w8[2].h(),z=Object.keys(e);
if(this.jT!=0&&z.length==0&&(this.rx==null||this.rx.file==null||this.rx.file=="")){alert("You need to select a file.");
return}if(this.jT!=0&&z.length!=0){console.log(e);g_.Y2.a6z(e[z[0]].buffer,z[0],this.a8s.bind(this),"pp-resources");
return}this.a8s()};co.prototype.a8s=function(i){var C=this.jT,m="name desc file thmb catg publ".split(" "),e=this.rx;
for(var Y=0;Y<6;Y++){if(C!=0&&Y==2)continue;var z=this.w8[Y].h();if(Y<=3){z=z.trim();if(z.length==0){alert("One of values is empty.");
return}}if(Y==2){var L=z.split("#i");if(L.length!=2||L[1].length!=8){alert("File ID is incorrect.");
return}z=L.pop()}if(Y==4)z=this.A6[z];e[m[Y]]=z}if(C!=0){if(i)e.file=i;else if(e.file==null){alert("Select a file from your computer.");
return}}if(e.utme.length==0)e.utme=""+Math.round(Date.now()/1e3);e.type=C;this.T(new eX("save"))};co.prototype._=function(){};
co.prototype.c=function(i){var C=this.rx=JSON.parse(JSON.stringify(i)),m=this.jT,e="name desc file thmb catg publ".split(" ");
for(var Y=0;Y<6;Y++){if(m!=0&&Y==2)continue;var z=C[e[Y]];if(z!=""&&Y==2)z="https://photopea.com#i"+z;
if(Y==4)z=this.A6.indexOf(z);if(Y==5&&z==null)z=!0;this.w8[Y].c(z)}};co.prototype.h=function(){return JSON.parse(JSON.stringify(this.rx))};
co.KE=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function jg(i){k5.call(this);this.Uc=i;this.n=d.t("div","");this.rL=[];this.Cr=null;this.a92=[]}jg.prototype=new k5;
jg.prototype.bR=function(i){};jg.prototype.sX=function(){return!1};jg.prototype.Oh=function(i,C){};jg.prototype.P6=function(i,C){};
jg.prototype.Sw=function(i){};jg.prototype.c=function(i,C,m,e,z,L){var l=[],x=this.rL,S=0,k=ft.L9["s"+this.Uc];
if(this.Uc=="Dspl")this.rV(i,l,L);else k?k(i,l,L):this.rV(i,l,L);for(var Y=0;Y<x.length;Y++)if(!(x[Y]instanceof bd))x[Y].c(l[S++]);
if(i.RndS)this.Cr=i.RndS.v};jg.prototype.h=function(){var i=ft.TQ(this.Uc),C=[],m=this.rL,e=0;for(var Y=0;
Y<m.length;Y++)if(!(m[Y]instanceof bd))C[e++]=m[Y].h();var z=ft.L9["g"+this.Uc];if(this.Uc=="Dspl")this.Ll(i,C);
else z?z(i,C):this.Ll(i,C);if(i.RndS)i.RndS.v=this.Cr;return i};jg.prototype.xC=function(i){};jg.prototype.Lb=function(i){if(i&&i.target instanceof c1){this.Cr=Math.floor(Math.random()*4294967295)}var C=this.a92;
for(var Y=0;Y<C.length;Y+=2){var m=this.rL[C[Y]],e=this.rL[C[Y+1]],z=m.h(),L=e.h();if(i.target==m)e.c(Math.max(z,L));
else m.c(Math.min(z,L))}this.T(new eX(v.E.p))};jg.prototype._=function(){for(var Y=0;Y<this.rL.length;
Y++)this.rL[Y]._();var i=this.ahU;if(i)i._()};jg.prototype.oG=function(i){d.uc(this.n,"form");var C=this.rL;
for(var Y=0;Y<C.length;Y++){var m=C[Y];m.parent=this;m.k(v.E.p,this.Lb,this);this.n.appendChild(m.n);
if(m instanceof em&&C[Y+1]instanceof hv)continue;if(i&&i.indexOf(Y)!=-1)d.PG(this.n);else d._Z(this.n)}var e=ft.TQ(this.Uc);
if(e.RndS){var z=this.ahU=new c1([25,1,2],null,null,!0);this.n.appendChild(z.n);z.k("click",this.Lb,this)}};
jg.prototype.Xu=function(i){return!1};jg.prototype.IM=function(){return!1};jg.prototype.k7=function(i,C,m,e,z){};
jg.prototype.ct=function(i,C,m,e,z){};jg.prototype.$d=function(i,C,m,e,z){};jg.prototype.Ll=function(i,C){};
jg.prototype.rV=function(i,C){};jg.prototype.y0=function(i){var C=i.target.h().indexOf(!0)!=-1,m=new eX(v.E.H,!0);
m.W0=!0;m.data={d:C?v.B.n$:v.B.l6,f:$.mB};this.T(m);m=new eX(v.E.v,!0);m.f=$.mB;m.W0=!0;m.data={d:"supertool",f:C?this:null};
this.T(m)};jg.ayQ=function(i){i.IM=function(){return!0};i.k7=function(C,m,e,z,L){this.WW=!0;this.ad6(C,L)};
i.ct=function(C,m,e,z,L){if(!this.WW)return;this.ad6(C,L)};i.$d=function(C,m,e,z,L){this.WW=!1};i.ad6=function(C,m){var e=new j2(0,0,C.m,C.J);
if(C.u)e=C.u.rect;var z=C.q.yy(m.x,m.y);z.x-=e.x;z.y-=e.y;function L(l,x){return Math.round(Math.max(0,Math.min(100,100*l/x)))}this.rL[2].c(L(z.x,e.m));
this.rL[3].c(L(z.y,e.J));this.Lb()}};jg.Bokh=function(){jg.call(this,"Bokh");this.rL=[new ib("Depth Map",["A","b"]),new jp("Focal Distance",0,255),new em([4,11]),new ib([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new jp([12,56],0,100),new jp([12,15],0,360),new jp([12,2],0,100),new jp([4,13],0,255),new jp([24,6],0,100),new iw([12,58],[[12,59,0],[12,59,1]]),new em([12,60])];
this.oG([5,7])};jg.Bokh.prototype=new jg;jg.Bokh.prototype.rV=function(i,C,m){var e=[[22,5,0],[6,5,3],[6,2]],z=i.BkDi.v.BtDi,L=i.BkDc,l=0;
if(z=="BeIn")l=0;else if(z=="BeIt"&&L.v.BtDc=="BeCt")l=1;else if(z=="BeIt"&&L.v.BtDc=="BeCm")l=2;else l=3+L.v;
for(var Y=0;Y<m[1].length;Y++)e.push(m[1][Y].name);this.rL[0].bD(e,[3]);C[0]=l;C[1]=i.BkDp.v;C[2]=i.BkDs.v;
C[3]=parseInt(i.BkIs.v.BtIs.slice(3))-3;C[4]=i.BkIb.v;C[5]=i.BkIr.v;C[6]=i.BkSb.v;C[7]=i.BkSt.v;C[8]=i.BkNa.v;
C[9]=i.BkNt.v.BtNt=="BeNu"?0:1;C[10]=i.BkNm.v};jg.Bokh.prototype.Ll=function(i,C){var m;if(C[0]==0){m="BeIn";
delete i.BkDc}else if(C[0]<3){m="BeIt";i.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][C[0]-1]}}}else{m="BeIa";
i.BkDc={t:"long",v:C[0]-3}}i.BkDi.v.BtDi=m;i.BkDp.v=C[1];i.BkDs.v=C[2];i.BkIs.v.BtIs="BeS"+(3+C[3]);
i.BkIb.v=C[4];i.BkIr.v=C[5];i.BkSb.v=C[6];i.BkSt.v=C[7];i.BkNa.v=C[8];i.BkNt.v.BtNt=["BeNu","BeNg"][C[9]];
i.BkNm.v=C[10]};jg.oilPaint=function(){jg.call(this,"oilPaint");this.rL=[new jp([12,56],.1,10,"px",!0),new jp("Cleanliness",0,10,"px",!0),new jp([12,38],.1,10,null,!0),new jp("Bristle Detail",0,10,null,!0),new em("Lighting"),new jp("Shine",0,10,null,!0),new jZ([12,15])];
this.oG()};jg.oilPaint.prototype=new jg;jg.oilPaint.prototype.rV=function(i,C){var m="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<m.length;Y++)C[Y]=i[m[Y]].v;C[6]=[i.LghD.v]};jg.oilPaint.prototype.Ll=function(i,C){var m="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<m.length;Y++)i[m[Y]].v=C[Y];i.LghD.v=C[6][0]};jg.TrcC=function(){jg.call(this,"TrcC");
this.rL=[new jp("Level",0,255),new iw([12,69],[[19,4,1],[19,4,0]])];this.oG()};jg.TrcC.prototype=new jg;
jg.TrcC.prototype.rV=function(i,C){C[0]=i.Lvl.v;C[1]=["Lwr","Upr"].indexOf(i.Edg.v.CntE)};jg.TrcC.prototype.Ll=function(i,C){i.Lvl.v=C[0];
i.Edg.v.CntE=["Lwr","Upr"][C[1]]};jg["Dfs "]=function(){jg.call(this,"Dfs ");this.rL=[new iw([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.oG()};jg["Dfs "].prototype=new jg;jg["Dfs "].prototype.rV=function(i,C){C[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(i.Md.v.DfsM)};
jg["Dfs "].prototype.Ll=function(i,C){i.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][C[0]]};jg.Embs=function(){jg.call(this,"Embs");
this.rL=[new jZ([12,15]),new jp([12,42],1,100,"px"),new jp([12,57],1,500,"%")];this.oG()};jg.Embs.prototype=new jg;
jg.Embs.prototype.rV=function(i,C){C[0]=[i.Angl.v];C[1]=i.Hght.v;C[2]=i.Amnt.v};jg.Embs.prototype.Ll=function(i,C){i.Angl.v=C[0][0];
i.Hght.v=C[1];i.Amnt.v=C[2]};jg["Wnd "]=function(){jg.call(this,"Wnd ");this.rL=[new iw([12,32],["Wind","Blast","Stagger"]),new iw([12,33],["From the Right","From the Left"])];
this.oG()};jg["Wnd "].prototype=new jg;jg["Wnd "].prototype.rV=function(i,C){C[0]=["Wnd","Blst","Stgr"].indexOf(i.WndM.v.WndM);
C[1]=["Left","Rght"].indexOf(i.Drct.v.Drct)};jg["Wnd "].prototype.Ll=function(i,C){i.WndM.v.WndM=["Wnd","Blst","Stgr"][C[0]];
i.Drct.v.Drct=["Left","Rght"][C[1]]};jg.denoise=function(){jg.call(this,"denoise");this.rL=[new jp([12,64],0,10),new jp([12,65],0,100,"%")];
this.oG()};jg.denoise.prototype=new jg;jg.denoise.prototype.rV=function(i,C){var m=i.channelDenoise.v[0].v;
C[0]=m.Amnt.v;C[1]=m.EdgF.v};jg.denoise.prototype.Ll=function(i,C){var m=i.channelDenoise.v[0].v;m.Amnt.v=C[0];
m.EdgF.v=C[1]};jg.lightFilterGradient=function(){jg.call(this,"lightFilterGradient");this.rL=[new jp([24,3,1],0,100,"px",1,!0),new jp([12,38],0,200,"%"),new em([4,11]),new jp("High",0,100,"%"),new jp("Medium",0,100,"%"),new jp("Low",0,100,"%")];
this.oG()};jg.lightFilterGradient.prototype=new jg;jg.lightFilterGradient.prototype.rV=function(i,C){C[0]=i.blur.v;
C[1]=i.textureScale.v*100;C[2]=i.Scl.v==-1;var m=i.Dtl.v;C[3]=m[0].v*100;C[4]=m[1].v*100;C[5]=m[2].v*100};
jg.lightFilterGradient.prototype.Ll=function(i,C){i.blur.v=C[0];i.textureScale.v=C[1]/100;i.Scl.v=C[2]?-1:1;
var m=i.Dtl.v;m[0].v=C[3]/100;m[1].v=C[4]/100;m[2].v=C[5]/100};jg.Fbrs=function(){jg.call(this,"Fbrs");
this.rL=[new jp("Variance",1,64),new jp([12,64],1,64)];this.oG()};jg.Fbrs.prototype=new jg;jg.Fbrs.prototype.rV=function(i,C){C[0]=i.Vrnc.v;
C[1]=i.Strg.v};jg.Fbrs.prototype.Ll=function(i,C){i.Vrnc.v=C[0];i.Strg.v=C[1]};jg.LnsF=function(){jg.call(this,"LnsF");
this.rL=[new jp([12,2],10,300,"%"),new iw([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new jp("Position X",0,100,"%"),new jp("Position Y",0,100,"%")];
this.oG()};jg.LnsF.prototype=new jg;jg.LnsF.prototype.rV=function(i,C){C[0]=i.Brgh.v;C[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(i.Lns.v.Lns);
var m=i.FlrC.v;C[2]=Math.round(m.Hrzn.v*100);C[3]=Math.round(m.Vrtc.v*100)};jg.LnsF.prototype.Ll=function(i,C){i.Brgh.v=C[0];
i.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][C[1]];var m=i.FlrC.v;m.Hrzn.v=C[2]/100;m.Vrtc.v=C[3]/100};jg.ayQ(jg.LnsF.prototype);
jg.blendOptions=function(){jg.call(this,"blendOptions");this.rL.push(new ib([12,19,0],aw.jI,aw._g));
this.rL.push(new jp([12,0],0,100,"%"));this.oG()};jg.blendOptions.prototype=new jg;jg.blendOptions.prototype.rV=function(i,C){C[0]=aw.W5.indexOf(i.Md.v.BlnM);
C[1]=i.Opct.v.val};jg.blendOptions.prototype.Ll=function(i,C){i.Md.v.BlnM=aw.W5[C[0]];i.Opct.v.val=C[1]};
jg.LnCr=function(){jg.call(this,"LnCr");this.rL=[new jp([12,57],-100,100),new jp([12,38],10,150,"%")];
this.oG()};jg.LnCr.prototype=new jg;jg.LnCr.prototype.rV=function(i,C){C[0]=i.LnIa.v;C[1]=i.LnSi.v};
jg.LnCr.prototype.Ll=function(i,C){i.LnIa.v=C[0];i.LnSi.v=C[1]};jg.adaptCorrect=function(){jg.call(this,"adaptCorrect");
var i=dd;this.rL=[new bd([19,6,0]),new i([12,57],0,100,"%"),new i("Tone",0,100,"%"),new i([12,56],0,200,"px"),new bd([19,6,2]),new i([12,57],0,100,"%"),new i("Tone",0,100,"%"),new i([12,56],0,200,"px"),new bd([3]),new i([13,0],-100,100)];
this.oG([3,7])};jg.adaptCorrect.prototype=new jg;jg.adaptCorrect.prototype.rV=function(i,C){var m=i.sdwM.v;
C[0]=m.Amnt.v.val;C[1]=m.Wdth.v.val;C[2]=m.Rds.v;var m=i.hglM.v;C[3]=m.Amnt.v.val;C[4]=m.Wdth.v.val;
C[5]=m.Rds.v;C[6]=i.ClrC.v};jg.adaptCorrect.prototype.Ll=function(i,C){var m=i.sdwM.v;m.Amnt.v.val=C[0];
m.Wdth.v.val=C[1];m.Rds.v=C[2];var m=i.hglM.v;m.Amnt.v.val=C[3];m.Wdth.v.val=C[4];m.Rds.v=C[5];i.ClrC.v=C[6]};
jg.Flam=function(){jg.call(this,"Flam");var i=this.rL=[new ib([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new jp([12,80,0],20,1e3,"px"),new em("Randomize Length"),new jp([12,41],5,600,"px"),new jp([12,15],0,360,"\xB0"),new jp("Interval",10,200,"px"),new em("Adapt Interval for Loops"),new hv(!1),new ib([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new jp("Turbulent",0,100),new jp("Jag",0,100),new jp([12,0],0,100),new jp("Lines",2,30),new jp("Bottom",0,100),new ib([12,22],["Normal","Violent","Flat"]),new ib([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new em("Randomize Shape"),new jp("Random Seed",0,100)];
this.oG();var C=this.n;d._l(C);var m=new iw(null,["Basic","Advanced"]);m.k(v.E.p,this.aAL,this);C.appendChild(m.n);
d.PG(C);var e=d.t("div"),z=d.t("div");this.a3H=[e,z];C.appendChild(e);for(var Y=0;Y<i.length;Y++){(Y<9?e:z).appendChild(i[Y].n);
if(Y==6)d._Z(e)}i[0].k(v.E.p,this.a6q,this);this.a6q()};jg.Flam.prototype=new jg;jg.Flam.prototype.a6q=function(i){var C=this.rL,Y=C[0].h();
C[1].wo(Y!=0&&Y!=5);C[2].wo(Y!=0&&Y!=5);C[4].wo(Y!=0&&Y!=5&&Y!=1);C[5].wo(Y!=0&&Y!=5);C[6].wo(Y!=0&&Y!=5)};
jg.Flam.prototype.aAL=function(i){var Y=i.target.h(),C=this.a3H,m=this.n;m.removeChild(C[1-Y]);m.appendChild(C[Y])};
jg.boxblur=function(){jg.call(this,"boxblur");this.rL=[new jp([12,56],1,200," px")];this.oG()};jg.boxblur.prototype=new jg;
jg.boxblur.prototype.rV=function(i,C){C[0]=i.Rds.v.val};jg.boxblur.prototype.Ll=function(i,C){i.Rds.v.val=C[0]};
jg.GsnB=function(){jg.call(this,"GsnB");this.rL=[new jp([12,56],.1,400,"px",1,!0)];this.oG()};jg.GsnB.prototype=new jg;
jg.Dila=function(){jg.call(this,"Dila");this.rL=[new jp([11,12,1],0,20,"px",0),new jp([12,56],0,400,"px",0,!0)];
this.oG()};jg.Dila.prototype=new jg;jg.MtnB=function(){jg.call(this,"MtnB");this.rL=[new jZ([12,15]),new jp([12,28],1,100," px")];
this.oG()};jg.MtnB.prototype=new jg;jg.RdlB=function(){jg.call(this,"RdlB");this.rL=[new jp([12,57],1,100),new iw([12,36],["Spin","Zoom"]),new jp("Position X",0,100,"%"),new jp("Position Y",0,100,"%")];
this.oG()};jg.RdlB.prototype=new jg;jg.RdlB.prototype.rV=function(i,C){C[0]=i.Amnt.v;C[1]=["Spn","Zm"].indexOf(i.BlrM.v.BlrM);
C[2]=i.Cntr.v.Hrzn.v*100;C[3]=i.Cntr.v.Vrtc.v*100};jg.RdlB.prototype.Ll=function(i,C){i.Amnt.v=C[0];
i.BlrM.v.BlrM=["Spn","Zm"][C[1]];i.Cntr.v.Hrzn.v=C[2]/100;i.Cntr.v.Vrtc.v=C[3]/100};jg.ayQ(jg.RdlB.prototype);
jg.Dspl=function(){jg.call(this,"Dspl");this.rL=[new ib([6,36,3],["a","b"]),new jp([22,4,0],-100,100,"px"),new jp([22,4,1],-100,100,"px"),new ib([24,18,0],[[24,18,3],[24,18,2]])];
this.oG()};jg.Dspl.prototype=new jg;jg.Dspl.prototype.rV=function(i,C,m){this.aBi=[];this.Yp=[];var e=-1,z=m?m[0]:null;
if(z==null)z=this.anB;else this.anB=z;if(z)for(var Y=0;Y<z.length;Y++){var L=z[Y];this.aBi.push(L.VO.trim());
this.Yp.push(L.zx);if(L.zx==i.DspF.v.pth)e=Y}this.rL[0].bD(this.aBi);C[0]=e==-1?0:e;C[1]=i.HrzS.v;C[2]=i.VrtS.v;
C[3]=["WrpA","RptE"].indexOf(i.UndA.v.UndA)};jg.Dspl.prototype.Ll=function(i,C){var m=this.anB;if(this.Yp.length==0)return;
i.DspF.v.pth=this.Yp[C[0]];i.HrzS.v=C[1];i.VrtS.v=C[2];i.UndA.v.UndA=["WrpA","RptE"][C[3]];var e=m[C[0]];
e.I6();var z=e.pC[1],L=z.m,l=z.J,x=I.R(z.P());I.Gt(e.pC[0],x);var S=[L&255,L>>>8,0,0,l&255,l>>>8,0,0,3,0];
for(var k=0;k<2;k++)for(var Y=0;Y<x.length;Y++)S.push(x[Y]);for(var Y=0;Y<1e3;Y++)S.push(0);i.DspD={t:"tdta",v:S};
i.EmbF={t:"bool",v:!0}};jg.Pnch=function(){jg.call(this,"Pnch");this.rL=[new jp([12,57],-100,100,"%")];
this.oG()};jg.Pnch.prototype=new jg;jg["Plr "]=function(){jg.call(this,"Plr ");this.rL=[new iw(null,["Rect to Polar","Polar to Rect"])];
this.oG()};jg["Plr "].prototype=new jg;jg.Rple=function(){jg.call(this,"Rple");this.rL=[new jp([12,57],-999,999),new ib([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.oG()};jg.Rple.prototype=new jg;jg["Shr "]=function(){jg.call(this,"Shr ");this.rL=[new a_(!0,!0),new ib([24,18,0],[[24,18,3],[24,18,2]])];
this.oG()};jg["Shr "].prototype=new jg;jg["Shr "].prototype.rV=function(i,C){var m=new hN(0,255/127,255/127,0,-2,128),e=JSON.parse(JSON.stringify(i.ShrP.v));
I.$l.i(e,m);C[0]=e;C[1]=["WrpA","RptE"].indexOf(i.UndA.v.UndA)};jg["Shr "].prototype.Ll=function(i,C){var m=new hN(0,255/127,255/127,0,-2,128);
m.Fb();I.$l.i(C[0],m);i.ShrP.v=C[0];i.ShrE.v=C[0].length-1;i.UndA.v.UndA=["WrpA","RptE"][C[1]]};jg.Sphr=function(){jg.call(this,"Sphr");
this.rL=[new jp([12,57],-100,100),new ib([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.oG()};jg.Sphr.prototype=new jg;
jg.Sphr.prototype.rV=function(i,C){C[0]=i.Amnt.v;C[1]=["Nrml","HrzO","VrtO"].indexOf(i.SphM.v.SphM)};
jg.Sphr.prototype.Ll=function(i,C){i.Amnt.v=C[0];i.SphM.v.SphM=["Nrml","HrzO","VrtO"][C[1]]};jg.Dthr=function(){jg.call(this,"Dthr");
this.rL=[new ib("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new iw("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.oG()};jg.Dthr.prototype=new jg;jg.Dthr.prototype.rV=function(i,C){C[0]=i.Plte.v;C[1]=i.Mthd?i.Mthd.v:1};
jg.Dthr.prototype.Ll=function(i,C){i.Plte.v=C[0];i.Mthd.v=C[1]};jg.Part=function(){jg.call(this,"Part");
this.rL=[new jp([15,5,1],0,100,"%"),new jp([12,14,0],1,50,"px"),new jp([12,34],0,100,"%"),new jp([12,2],10,1e3,"%"),new hv(!0),new jp("Time",0,1,null,3),new jp("Turbulence",0,100,"%"),new em("Blink"),new em("Fall")];
this.oG([4])};jg.Part.prototype=new jg;jg.Part.prototype.rV=function(i,C){C[0]=i.Cont.v;C[1]=i.Size.v;
C[2]=i.Dpth.v;C[3]=i.Brgh.v;C[4]=i.Clr.v;C[5]=i.Time.v;C[6]=i.Turb.v;C[7]=i.Blnk.v;C[8]=i.Fall.v};jg.Part.prototype.Ll=function(i,C){i.Cont.v=C[0];
i.Size.v=C[1];i.Dpth.v=C[2];i.Brgh.v=C[3];i.Clr.v=C[4];i.Time.v=C[5];i.Turb.v=C[6];i.Blnk.v=C[7];i.Fall.v=C[8]};
jg.Twrl=function(){jg.call(this,"Twrl");this.rL=[new jp([12,15],-999,999)];this.oG()};jg.Twrl.prototype=new jg;
jg.Wave=function(){jg.call(this,"Wave");this.a92=[1,2,3,4];this.rL=[new jp("Number of Generators",1,100),new dd("Min Length",1,999),new dd("Max Length",1,999),new dd("Min Ampl.",1,999),new dd("Max Ampl.",1,999),new dd("Scale X",1,100,"%"),new dd("Scale Y",1,100,"%"),new iw([12,44],["Sine","Triangle",[12,93,3]]),new ib([24,18,0],[[24,18,3],[24,18,2]])];
this.oG()};jg.Wave.prototype=new jg;jg.ZgZg=function(){jg.call(this,"ZgZg");this.rL=[new jp([12,57],-100,100),new jp("Ridges",0,20),new ib([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.oG()};jg.ZgZg.prototype=new jg;jg.surfaceBlur=function(){jg.call(this,"surfaceBlur");this.rL=[new jp([12,56],1,200," px"),new jp([4,13],1,255," px")];
this.oG()};jg.surfaceBlur.prototype=new jg;jg.surfaceBlur.prototype.rV=function(i,C){C[0]=i.Rds.v.val;
C[1]=i.Thsh.v};jg.surfaceBlur.prototype.Ll=function(i,C){i.Rds.v.val=C[0];i.Thsh.v=C[1]};jg.AdNs=function(){jg.call(this,"AdNs");
this.rL=[new jp([12,57],0,200," %"),new ib([12,58],[[12,59,1],[12,59,0]]),new em([12,60])];this.oG()};
jg.AdNs.prototype=new jg;jg.DstS=function(){jg.call(this,"DstS");this.rL=[new jp([12,56],1,200," px"),new jp([4,13],1,255," px")];
this.oG()};jg.DstS.prototype=new jg;jg["Mdn "]=function(){jg.call(this,"Mdn ");this.rL=[new jp([12,56],1,200," px")];
this.oG()};jg["Mdn "].prototype=new jg;jg["Mdn "].prototype.rV=function(i,C){C[0]=i.Rds.v.val};jg["Mdn "].prototype.Ll=function(i,C){i.Rds.v.val=C[0]};
jg.ClrH=function(){jg.call(this,"ClrH");this.rL=[new jp([12,56],4,100," px")];for(var Y=1;Y<4;Y++)this.rL.push(new jp("Angle "+Y,0,90," \xB0"));
this.oG()};jg.ClrH.prototype=new jg;jg.ClrH.prototype.rV=function(i,C){C[0]=i.Rds.v;for(var Y=1;Y<4;
Y++)C[Y]=i["Ang"+Y].v};jg.ClrH.prototype.Ll=function(i,C){i.Rds.v=C[0];for(var Y=1;Y<4;Y++)i["Ang"+Y].v=C[Y]};
jg.ClrH.prototype._=function(){var i=this.rL;i[0]._();for(var Y=1;Y<4;Y++)i[Y]._H(bC.get([12,15])+" "+Y)};
jg.Crst=function(){jg.call(this,"Crst");this.rL=[new jp([12,61],3,100," px")];this.oG()};jg.Crst.prototype=new jg;
jg.Crst.prototype.rV=function(i,C){C[0]=i.ClSz.v};jg.Crst.prototype.Ll=function(i,C){i.ClSz.v=C[0]};
jg.Mztn=function(){jg.call(this,"Mztn");this.rL.push(new ib([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.Yp="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.oG()};jg.Mztn.prototype=new jg;
jg.Mztn.prototype.rV=function(i,C){C[0]=this.Yp.indexOf(i.MztT.v.MztT)};jg.Mztn.prototype.Ll=function(i,C){i.MztT.v.MztT=this.Yp[C[0]]};
jg["Msc "]=function(){jg.call(this,"Msc ");this.rL=[new jp([12,61],2,200," px")];this.oG()};jg["Msc "].prototype=new jg;
jg["Msc "].prototype.rV=function(i,C){C[0]=i.ClSz.v.val};jg["Msc "].prototype.Ll=function(i,C){i.ClSz.v.val=C[0]};
jg.Pntl=function(){jg.call(this,"Pntl");this.rL=[new jp([12,61],3,100," px")];this.oG()};jg.Pntl.prototype=new jg;
jg.Pntl.prototype.rV=function(i,C){C[0]=i.ClSz.v};jg.Pntl.prototype.Ll=function(i,C){i.ClSz.v=C[0]};
jg.smartSharpen=function(){jg.call(this,"smartSharpen");this.rL=[new jp([12,57],1,200,"%"),new jp([12,56],0,200,"px",1,!0)];
this.oG()};jg.smartSharpen.prototype=new jg;jg.smartSharpen.prototype.rV=function(i,C){C[0]=i.Amnt?i.Amnt.v.val:200;
C[1]=i.Rds?i.Rds.v.val:1};jg.smartSharpen.prototype.Ll=function(i,C){i.Amnt.v.val=C[0];i.Rds.v.val=C[1]};
jg.UnsM=function(){jg.call(this,"UnsM");this.rL=[new jp([12,57],1,200," %"),new jp([12,56],.1,400,"px",1,!0),new jp([4,13],0,255," ")];
this.oG()};jg.UnsM.prototype=new jg;jg.HghP=function(){jg.call(this,"HghP");this.rL=[new jp([12,56],.1,400,"px",1,!0)];
this.oG()};jg.HghP.prototype=new jg;jg.HsbP=function(){jg.call(this,"HsbP");this.rL=[new iw("Input",["RGB","HSB","HSL"]),new iw("Output",["RGB","HSB","HSL"])];
this.oG()};jg.HsbP.prototype=new jg;jg["Mxm "]=function(){jg.call(this,"Mxm ");this.rL=[new jp([12,56],.1,200," px",1,!0),new ib([12,76,1],[[12,93,3],"Circle"])];
this.oG()};jg["Mxm "].prototype=new jg;jg["Mnm "]=function(){jg.call(this,"Mnm ");this.rL=[new jp([12,56],.1,200," px",1,!0),new ib([12,76,1],[[12,93,3],"Circle"])];
this.oG()};jg["Mnm "].prototype=new jg;jg.Ofst=function(){jg.call(this,"Ofst");this.rL=[new jp([22,4,0],-1024,1024," px"),new jp([22,4,1],-1024,1024," px"),new ib([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.oG()};jg.Ofst.prototype=new jg;jg.Kale=function(){jg.call(this,"Kale");this.rL=[new dd("Mirrors",2,20),new dd([12,15],0,360,"\xB0")];
this.oG()};jg.Kale.prototype=new jg;jg.Kale.prototype.rV=function(i,C){C[0]=i.Mirr.v;C[1]=i.MRot.v};
jg.Kale.prototype.Ll=function(i,C){i.Mirr.v=C[0];i.MRot.v=C[1]};jg.Rept=function(){jg.call(this,"Rept");
this.rL=[new dd([12,38],1,300," %"),new dd("Row Shift",-50,50," %"),new dd("Space X",-99,200," %"),new dd("Space Y",-99,200," %"),new em([4,16,2]),new jZ([12,15])];
this.oG()};jg.Rept.prototype=new jg;jg.Rept.prototype.rV=function(i,C){C[0]=i.Scl.v.val;C[1]=i.Rsft.v.val;
C[2]=i.SpcX.v.val;C[3]=i.SpcY.v.val;C[4]=i.SpcC.v;C[5]=[i.Angl.v]};jg.Rept.prototype.Ll=function(i,C){i.Scl.v.val=C[0];
i.Rsft.v.val=C[1];i.SpcX.v.val=C[2];i.SpcY.v.val=C[3];i.SpcC.v=C[4];i.Angl.v=C[5][0];return i};jg.Ctoa=function(){jg.call(this,"Ctoa");
this.rL=[new bd([13,0]),new hv(!0),new jp(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new jp(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.oG()};jg.Ctoa.prototype=new jg;jg.Ctoa.prototype.rV=function(i,C){C[0]=i.Clr.v;C[1]=i.Trsp.v.val;
C[2]=i.Opct.v.val};jg.Ctoa.prototype.Ll=function(i,C){i.Clr.v=C[0];i.Trsp.v.val=C[1];i.Opct.v.val=C[2]};
jg.LqFy=function(){jg.call(this,"LqFy");this.CB=!1;this.C4=!1;this.Xn=null;this.ahF=null;this.f=0;this.JX=-1;
this.s={cJ:[[{f:{id:0,name:[24,1,0,1,0],nX:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],nX:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],nX:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],nX:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],nX:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],nX:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],nX:"liq/pleft"}}],[{f:{id:7,name:"Hand",nX:"tools/hand"}}],[{f:{id:8,name:"Zoom In",nX:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",nX:"zoomOut"}}]],keys:[]};
this.JO=new ai(this.s,!1);this.JO.NP(0);this.JO.k(v.E.H,this.TH,this);this.A2=iH.UD();this.zj=null;this._m=[];
this.MY=-1;this.oC=null;this.ape=null;this.hQ=null;this.iT=null;this.Xm=null;var i=d.t("div","flexrow");
this.oU=i;this.n.appendChild(i);i.appendChild(this.JO.n);this.view=new iz(!0);this.view.Oh(100,100);
this.view.k("mousedown",this.MU,this);this.view.k("mousemove",this.bz,this);this.view.k("mouseup",this.f9,this);
this.view.k("zoom",this.W8,this);i.appendChild(this.view.n);var C=d.t("div","form");i.appendChild(C);
this.H0=C;C.style.width="230px";this.Po=[new jp([12,14,0],0,1e3,null,!1,!0),new jp([12,74],0,100,null,!1,!1),new jp([12,84],0,100,null,!1,!1),new em([12,46]),new jp([12,0],0,100,null,!1,!1),new em([24,18,5])];
var m=this.A2.Brsh.v;m.Dmtr.v.val=100;var e=[100,50,100,!1,100,!0];for(var Y=0;Y<this.Po.length;Y++){var z=this.Po[Y];
z.c(e[Y]);if(Y==4)z.hH();z.k(v.E.p,this.aDA,this);C.appendChild(z.n)}var L=this.ahQ=new c1([1,12,2],!0,null,!0);
L.k("click",this.TK,this);C.appendChild(L.n);this.arj=this.zR.bind(this);this.Jr=new k5;this.Jr.n=d.t("div","floatcont");
this.oj=new c1("Menu",!1,null,!0);var l=this.oj.n;l.setAttribute("style","position:absolute; right:13px; top:47px");
d.h_(l,this.acV.bind(this))};jg.LqFy.prototype=new jg;jg.LqFy.prototype.sX=function(){return!0};jg.LqFy.prototype.bR=function(i){this.H0.appendChild(i)};
jg.LqFy.prototype.acV=function(i){if(d.bv(this.Jr.n))return;i.stopPropagation();var C=this.oj.n.getBoundingClientRect();
this.Jr.n.appendChild(this.H0);var m=new eX(v.E.H,!0);m.data={d:v.B.vs,aA:this.Jr,x:C.right+C.width-290,y:C.top+C.height};
this.T(m)};jg.LqFy.prototype.xC=function(i){this.CB=i.S(jD.rb);var C=$.N9.c7(this.A2,i);if(C!=null){this.A2=C;
this.W8();this.Po[0].c(C.Brsh.v.Dmtr.v.val)}else if(i.S(jD.Uj)&&i.S(jD.uA)){var m=this._m;if(i.S(jD.$I)){if(this.MY+1<m.length)this.MY++}else if(this.MY>0)this.MY--;
this.zj.map=m[this.MY].slice(0);this.__(null)}else if(this.f<=6)this.view.xC(i);var e=this.f,z=-1,L=i.S(jD.rb);
if(L&&this.JX==-1){if(e==0)z=1;if(e==4)z=5;if(e==5)z=4;if(z!=-1)this.JX=e}if(!L&&this.JX!=-1){z=this.JX;
this.JX=-1}if(z!=-1){this.f=z;this.JO.NP(this.f)}};jg.LqFy.prototype.TH=function(i){if(i.data.d==v.B.n$){var C=this.f=i.data.f;
this.JO.NP(this.f);this.view.xC(C>6?iz.kC(C-7):new jD)}};jg.LqFy.prototype.aDA=function(i){var C=i.currentTarget,Y=this.Po.indexOf(C),m=this.A2.Brsh.v;
if(Y==0){m.Dmtr.v.val=C.h();this.W8()}this.Po[4].wo(this.Po[3].h());if(Y>2)this.__(null)};jg.LqFy.prototype.zg=function(){var i=this._m;
this.MY++;i[this.MY]=this.zj.map.slice(0);while(i.length>this.MY+1)i.pop();while(i.length>50){i=i.slice(1);
this.MY--}};jg.LqFy.prototype.MU=function(i){this.Xn=this.view.k0();this.ahF=new b5(0,0);this.C4=!0;
window.requestAnimationFrame(this.arj)};jg.LqFy.prototype.bz=function(i){var C=this.view.k0(),m=new b5(C.x-this.Xn.x,C.y-this.Xn.y);
if(this.f==0||this.f==6)this.abD(m);this.Xn=C};jg.LqFy.prototype.f9=function(i){this.zg();this.C4=!1};
jg.LqFy.prototype.zR=function(i){if(this.f!=0&&this.f!=6)this.abD(new b5(0,0));if(this.C4)window.requestAnimationFrame(this.arj)};
jg.LqFy.prototype.abD=function(i){var C=this.zj,m=C.HG/this.oC.m,e=this.Xn,z=this.A2.Brsh.v,L=z.Dmtr.v.val,l=Date.now(),x=C.HG,S=C.bB,k=Math.sqrt(i.x*i.x+i.y*i.y),f=Math.max(1,Math.ceil(k/2)),X=i.x/f,o=i.y/f,A=e.clone(),P=this.f,F=this.Po[1].h()/100,n=this.Po[2].h()/100,R=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],Q=R[P*2],s=R[P*2+1],j=(1-F)*Q+F*s,_=L*m/2;
for(var Y=0;Y<f;Y++){var B=[];A.x+=X;A.y+=o;I.WB.a0O(C.map,x,S,P,A.x*m,A.y*m,_,F,n,X*m,o*m,B,this.CB);
I.WB.amE(x,S,C.map,B,2*j*n)}var N=new j2(0,0,x,S),a=new j2(e.x*m,e.y*m,0,0);a.sW(L*m*.5,L*m*.5);var O=a.clone();
O.offset(i.x*m,i.y*m);a=a.Z0(O);var H=new j2(a.x/m,a.y/m,a.m/m,a.J/m);H=I.C.Ub(H).G_(this.oC);this.Po[5].c(!0);
this.__(H)};jg.LqFy.prototype.W8=function(){var i=eY.Fi(this.A2,null,this.view.h7().U);this.view.DK(i)};
jg.LqFy.prototype.c=function(i,C,m,e,z){m=m.clone();if(C==null)return;if(!e.LJ(m)){var L=m.Z0(e),l=I.R(L.P()*4);
I.fF(C,m,l,L);C=l;m=L;var x=I.R(L.P()*4);I.fF(z,e,x,L);z=x}m.x=m.y=0;this.hQ=C;this.ape=z;this.Xm=C.slice(0);
this.iT=C.slice(0);this.oC=m;this.zj=ef.uU(new Uint8Array(i.LqMe.v).buffer);var S=m.m,k=m.J;if(this.zj.HG/S<.22){this.zj={HG:Math.floor(S/4),bB:Math.floor(k/4)};
this.zj.map=new Float32Array(this.zj.HG*this.zj.bB*2)}this._m=[];this.MY=-1;this.zg();this.__(null);
this.view.Pc(!0);this.W8()};jg.LqFy.prototype.h=function(){var i=ft.TQ("LqFy"),C=new Uint8Array(ef.hz(this.zj)),m=[];
for(var Y=0;Y<C.length;Y++)m.push(C[Y]);i.LqMe.v=m;return i};jg.LqFy.prototype.Oh=function(i,C){this.JO.Oh(i,C);
var m=this.oj.n,e=this.H0;this.oU.appendChild(e);this.oU.appendChild(m);if(i>450&&i-C>200){e.style.marginLeft="1em";
this.oU.removeChild(m);this.view.Oh(i-238-45,C)}else{e.style.marginLeft="";this.oU.removeChild(e);this.view.Oh(i-40,C)}};
jg.LqFy.prototype._=function(){this.JO._();this.ahQ._();for(var Y=0;Y<this.Po.length;Y++)this.Po[Y]._()};
jg.LqFy.prototype.TK=function(){this.zj.map.fill(0);this.zg();this.__(null)};jg.LqFy.prototype.__=function(i){var C=this.oC,m=this.hQ,e=this.Xm,z=this.zj;
if(this.Po[5].h())I.WB.Vd(m,this.iT,C.m,C.J,i,z.map,z.HG,z.bB,0);else this.iT.set(m);if(this.Po[3].M5()){I.fF(this.ape,C,e,C,i?i:C);
I.l.Qv("norm",this.iT,C,e,C,i?i:C,this.Po[4].h()/100)}else I.EP(this.iT,e);this.view.c([{Jw:C,data:e.buffer}])};
jg.GEfc=function(){jg.call(this,"GEfc");this.Jm=0;this.R4=0;this.hQ=null;this.Xm=null;this.oC=null;this.os=null;
this.rx=null;this.tS=0;this.mu=null;this.jE=null;var i=d.t("div","flexrow");this.oU=i;this.n.appendChild(i);
this.view=new iz(null);this.view.Oh(100,100);i.appendChild(this.view.n);this.WU="";this.dv=270;var C=this.KZ=d.t("div","form scrollable");
i.appendChild(C);C.setAttribute("style","width:"+this.dv+"px;");var m=this.kd=d.t("div","form");i.appendChild(m);
m.setAttribute("style","width:230px;  margin:0 10px");this.Sj={};for(var e in a9.names){var z=new jg.GEfc.qZ(e);
z.parent=this;this.Sj[e]=z;z.k(v.E.p,this.a2X,this)}this.LY=!0;this.oj=new c1("Menu",null,null,!0);this.oj.k("click",this.amn,this);
i.appendChild(this.oj.n);this.n5=new c1(">>",null,null,!0);this.n5.k("click",this.a34,this);m.appendChild(this.n5.n);
this.Ua=d.t("div");this.Ua.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
m.appendChild(this.Ua);this.Rs=d.t("div");this.Rs.style.minHeight="14em";this.Rs.style.marginBottom="1em";
m.appendChild(this.Rs);this.hN=d.t("div","lpbody scrollable");this.EG=d.t("div","lpfoot");m.appendChild(this.hN);
m.appendChild(this.EG);this.k("click",this.amx,this);this.hA=[];eD.D$([[5,3],[5,4]],this.hA,this.EG,this.Ji.bind(this))};
jg.GEfc.prototype=new jg;jg.GEfc.prototype.sX=function(){return!0};jg.GEfc.prototype.bR=function(i){this.Ua.appendChild(i)};
jg.GEfc.prototype.P6=function(i,C){this.os=i};jg.GEfc.prototype.a34=function(i){var C=this.KZ.style.display!="none";
this.KZ.style.display=C?"none":"";this.n5._H(C?"<<":">>");this.Oh()};jg.GEfc.prototype.amn=function(i){this.LY=!this.LY;
this.Oh()};jg.GEfc.prototype.Oh=function(i,C){var m=this.KZ.style.display!="none";if(i!=null){this.Jm=i;
this.R4=C;if(i<1e3&&m||i>=1e3&&!m){this.a34();m=!m}this.LY=i>600}else{i=this.Jm;C=this.R4}var e=this.LY?250+(m?this.dv:0):0;
if(d.bv(this.kd)&&!this.LY){this.oU.removeChild(this.KZ);this.oU.removeChild(this.kd)}if(!d.bv(this.kd)&&this.LY){this.oU.appendChild(this.KZ);
this.oU.appendChild(this.kd)}this.KZ.style.height=C+"px";this.view.Oh(i-e,C);this.hN.style.height=C-Math.max(this.Rs.getBoundingClientRect().height,186)-96+"px";
this.oj.n.setAttribute("style","position:absolute; top:46px;  right:"+(e+16)+"px")};jg.GEfc.prototype.auP=function(){var i=i$.Nf.get("img/beach",!0)[0],C=i.Jw,m=this.KZ,e=Math.floor(d.XP()*(this.dv-40)/3),z=~~(e*.7),L=new j2(0,0,e,z),l=I.R(e*z*4),x=l.slice(0),S=Math.round(10*d.XP()),k=new ImageData(new Uint8ClampedArray(x.buffer),e,z);
I.fF(new Uint8Array(i.data),C,l,new j2(Math.round((C.m-e)/2),Math.round((C.J-z)/2),e,z));var f=d.t("canvas"),X=f.getContext("2d");
f.width=e;f.height=z+Math.round(S*1.5);X.font=S+"px sans-serif";this.mu={};d._l(m);var o=this.agJ.bind(this);
for(var Y=0;Y<a9.KE.length;Y++){var A=a9.KE[Y],P=d.t("div");m.appendChild(P);P.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
P.textContent=bC.get(A);for(var F in a9.names){var n=a9.names[F];if(n[0]!=Y)continue;a9.ny(F,{rect:L,buffer:l},a9.TQ(F),{Z:0,r:0,e:0},{Z:255,r:255,e:255},{rect:L,buffer:x},{});
X.fillStyle="black";X.fillRect(0,0,500,500);X.putImageData(k,0,0);var R=bC.get(n[1]);X.fillStyle="white";
X.fillText(R,(e-X.measureText(R).width)/2,z+Math.round(S*1.1));var Q=d.t("div");m.appendChild(Q);Q.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
Q.addEventListener("click",o,!1);var P=d.t("img");Q.appendChild(P);P.setAttribute("src",f.toDataURL());
P.setAttribute("style","width:"+e/d.XP()+"px; margin-bottom:0px;");this.mu[F]=Q}}};jg.GEfc.prototype.agJ=function(i){var C;
for(var m in this.mu)if(this.mu[m]==i.currentTarget)this.WU=m;this.a2X()};jg.GEfc.prototype.Ji=function(i){var C=eD.TO(this.hA,i),m=this.rx.GEfs.v,e=m[this.tS].v;
if(C==0){m.push(JSON.parse(JSON.stringify(m[this.tS])));this.tS=m.length-1}else if(m.length>1){m.splice(this.tS,1);
if(this.tS==m.length)this.tS--}this.hC();this.__()};jg.GEfc.prototype.a2X=function(i){var C=this.WU,m;
if(i==null)m=a9.TQ(C);else m=this.Sj[C].h();this.rx.GEfs.v[this.tS].v=m;this.hC();this.__()};jg.GEfc.prototype.c=function(i,C,m,e,z){var L=bC.get([24,0]);
if(this.mu==null||L!=this.jE)this.auP();this.jE=L;i=this.rx=JSON.parse(JSON.stringify(i));if(i.GEfs==null)i=this.rx={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:i}]}};
var l=i.GEfs.v;for(var Y=0;Y<l.length;Y++)if(l[Y].v.GELv==null)l[Y].v.GELv={t:"bool",v:!0};this.tS=l.length-1;
this.hC();m=m.clone();if(C==null)return;if(!e.LJ(m)&&a9.oe(i).x!=0){var x=m.Z0(e),S=I.R(x.P()*4);I.fF(C,m,S,x);
C=S;m=x}m.x=m.y=0;this.hQ=C;this.Xm=C.slice(0);this.oC=m;this.__();this.view.Pc()};jg.GEfc.prototype.amx=function(i){var C=i.data,Y=C.h6,m=this.rx.GEfs.v;
if(C.w0){m[Y].v.GELv.v=!m[Y].v.GELv.v;this.__()}else this.tS=Y;this.hC()};jg.GEfc.prototype.hC=function(){var i=this.rx.GEfs.v,C=i[this.tS].v,m=C.GEfk.v.GEft,e=this.Rs;
if(a9.names[m]==null){alert("Unsupported gallery filter");d._l(e)}else{this.WU=m;for(var z in this.mu)d.nP(this.mu[z],"selected");
d.uc(this.mu[m],"selected");var L=this.Sj[m];L.c(C);if(e.firstChild!=L.n){d._l(e);e.appendChild(L.n)}}var l=[];
for(var Y=0;Y<i.length;Y++){var x=i[Y].v,S=a9.names[x.GEfk.v.GEft],k=new aR(Y,!0,!0,null,S?S[1]:"Filter",Y==this.tS,x.GELv.v);
k.parent=this;l.push(k.n)}d._l(this.hN);l.reverse();for(var Y=0;Y<l.length;Y++)this.hN.appendChild(l[Y]);
this.Oh()};jg.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.rx))};jg.GEfc.prototype.__=function(i){var C=this.oC,m=this.hQ,e=this.Xm,z=this.WU,L=this.rx,l=this.os;
function x(S){return{Z:S>>>16,r:S>>>8&255,e:S&255}}ft.ny("GEfc",{rect:this.oC,buffer:this.hQ},L,x(l.Dm),x(l.yv),{rect:this.oC,buffer:this.Xm},null);
this.view.c([{Jw:C,data:e.buffer}])};jg.GEfc.prototype._=function(){for(var i in this.Sj)this.Sj[i]._();
eD.xI(this.hA,["lrs/newlayer","lrs/bin"])};jg.GEfc.qZ=function(i){k5.call(this);this.nU=i;this.n=d.t("div");
this.m1={};var C=a9.TQ(i);for(var m in C){var e=null;if(m=="__name"||m=="classID"||m=="GEfk"||m=="GELv"||["FlRs"].indexOf(m)!=-1)continue;
else if(m=="EdgW")e=new jp("Edge Width",1,14);else if(m=="EdgB")e=new jp("Edge Brightness",0,i=="AccE"?50:20);
else if(m=="Smth")e=new jp([19,3,3],1,i=="Stmp"?50:15);else if(m=="ClSz")e=new jp([12,61],3,100);else if(m=="BrdT")e=new jp([7,9],1,20);
else if(m=="HghS")e=new jp([12,64],0,20);else if(m=="HlSz")e=new jp([12,14,0],1,15);else if(m=="Cntr")e=new jp([12,3,0],0,i=="WtrP"?100:50);
else if(m=="Shrp")e=new jp("Sharpness",0,40);else if(m=="SprR")e=new jp("Spray Radius",0,25);else if(m=="LgDr")e=new jp("Light/Dark Balance",0,i=="Stmp"?50:100);
else if(m=="Drkn")e=new jp("Darkness",1,50);else if(m=="Dstr")e=new jp("Distortion",0,20);else if(m=="Scln")e=new jp([12,38],50,200);
else if(m=="Rlf")e=new jp("Relief",0,i=="Ptch"||i=="NtPr"?25:50);else if(m=="ChAm")e=new jp("Thickness",1,7);
else if(m=="Pncl")e=new jp([19,2,5],1,30);else if(m=="StrP")e=new jp("Stroke Pressure",0,15);else if(m=="PprB")e=new jp("Paper Brightness",0,50);
else if(m=="BrsS")e=new jp("Brush Size",0,10);else if(m=="BrsD")e=new jp("Brush Detail",0,10);else if(m=="Txtr")e=new jp([12,67],1,3);
else if(m=="Grn")e=new jp("Grain",0,20);else if(m=="HghA")e=new jp("Highlight Area",0,20);else if(m=="Intn")e=new jp("Intensity",0,10);
else if(m=="Brgh")e=new jp("Glow Brightness",0,i=="WtrP"?100:50);else if(m=="StrS")e=new jp("Stroke Size",1,50);
else if(m=="StDt")e=new jp("Stroke Detail",1,3);else if(m=="Sftn")e=new jp("Softness",0,10);else if(m=="EdgT")e=new jp("Edge Thickness",0,10);
else if(m=="EdgI")e=new jp("Edge Intensity",0,10);else if(m=="Pstr")e=new jp("Posterization",0,6);else if(m=="Dfnt")e=new jp("Definition",0,25);
else if(m=="TxtC")e=new jp("Texture Coverage",0,50);else if(m=="ShdI")e=new jp("Shadow Intensity",0,10);
else if(m=="DrcB")e=new jp("Direction Balance",0,100);else if(m=="Strg")e=new jp([12,64],1,3);else if(m=="Blnc")e=new jp("Balance",0,10);
else if(m=="BlcI")e=new jp("Black Intensity",0,10);else if(m=="WhtI")e=new jp("White Intensity",0,10);
else if(m=="DrkI")e=new jp("Dark Intensity",0,50);else if(m=="LghI")e=new jp("Light Intensity",0,50);
else if(m=="StrW")e=new jp("Stroke Width",3,15);else if(m=="Grns")e=new jp("Graininess",0,i=="NtPr"?20:10);
else if(m=="GlwA")e=new jp("Glow Amount",0,20);else if(m=="ClrA")e=new jp("Clear Amount",0,20);else if(m=="ChrA")e=new jp("Charcoal Area",0,20);
else if(m=="ChlA")e=new jp("Chalk Area",0,20);else if(m=="FrgL")e=new jp("Foreground Level",1,15);else if(m=="BckL")e=new jp("Background Level",1,15);
else if(m=="WhtL")e=new jp("Background Level",0,50);else if(m=="BlcL")e=new jp("Foreground Level",0,50);
else if(m=="ImgB")e=new jp("Image Balance",0,50);else if(m=="Dnst")e=new jp([12,74],0,50);else if(m=="FbrL")e=new jp("Fiber Length",3,50);
else if(m=="CrcS")e=new jp("Crack Spacing",2,100);else if(m=="CrcD")e=new jp("Crack Depth",0,10);else if(m=="CrcB")e=new jp("Crack Brightness",0,10);
else if(m=="TlSz")e=new jp("Tile Size",2,100);else if(m=="GrtW")e=new jp("Grout Width",1,15);else if(m=="LghG")e=new jp("Lighten Grout",0,10);
else if(m=="SqrS")e=new jp("Square Size",0,10);else if(m=="RplS")e=new jp("Ripple Size",1,15);else if(m=="RplM")e=new jp("Ripple Magnitude",0,20);
else if(m=="NmbL")e=new jp("Number of Levels",2,8);else if(m=="EdgS")e=new jp("Edge Simplicity",0,10);
else if(m=="EdgF")e=new jp("Edge Fidelity",1,3);else if(m=="Sz")e=i=="NGlw"?new jp("Glow Size",-24,24):new jp("Brush Size",1,50);
else if(m=="Dtl")e=i=="Chrc"?new jp("Detail",0,5):new jp("Detail",1,15);else if(m=="StrL")e=i=="InkO"?new jp("Stroke Length",1,50):new jp("Stroke Length",0,20);
else if(m=="TxtT")e=new ib([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(m=="BrsT")e=new ib("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(m=="Grnt")e=new ib("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(m=="SDir")e=new ib([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(m=="ScrT")e=new ib([12,62],["Circle","Dot",[10,35]]);
else if(m=="LghD"||m=="LghP")e=new ib("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(m=="Clr")e=new hv("Glow Color");else if(m=="InvT")e=new em([4,11]);else console.log(m);e.k(v.E.p,this.ec,this);
e.parent=this;this.m1[m]=e;this.n.appendChild(e.n)}};jg.GEfc.qZ.prototype=new k5;jg.GEfc.qZ.prototype.ec=function(i){this.T(new eX(v.E.p,!1))};
jg.GEfc.asA="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
jg.GEfc.qZ.prototype.c=function(i){for(var C in this.m1){var m;if(jg.GEfc.asA.indexOf(C)!=-1)m=i[C].v;
else if(C=="TxtT")m=a9.kH.indexOf(i[C].v[C]);else if(C=="BrsT")m=a9.abi.indexOf(i[C].v[C]);else if(C=="LghD")m=a9.gM.indexOf(i[C].v[C]);
else if(C=="LghP")m=a9.Fz.indexOf(i[C].v[C]);else if(C=="Grnt")m=a9.T8.indexOf(i[C].v[C]);else if(C=="ScrT")m=a9.dF.indexOf(i[C].v[C]);
else if(C=="SDir")m=a9.my.indexOf(i[C].v.StrD);this.m1[C].c(m)}};jg.GEfc.qZ.prototype.h=function(){var i=a9.TQ(this.nU);
for(var C in this.m1){var m=this.m1[C].h();if(jg.GEfc.asA.indexOf(C)!=-1)i[C].v=m;else if(C=="TxtT")i[C].v[C]=a9.kH[m];
else if(C=="BrsT")i[C].v[C]=a9.abi[m];else if(C=="LghD")i[C].v[C]=a9.gM[m];else if(C=="LghP")i[C].v[C]=a9.Fz[m];
else if(C=="Grnt")i[C].v[C]=a9.T8[m];else if(C=="ScrT")i[C].v[C]=a9.dF[m];else if(C=="SDir")i[C].v.StrD=a9.my[m]}return i};
jg.GEfc.qZ.prototype._=function(){for(var i in this.m1)this.m1[i]._()};jg["Adobe Camera Raw Filter"]=function(i){jg.call(this,"Adobe Camera Raw Filter");
var C=this.n;this.aqR=i;this.OI=null;this.MG=null;this.Lu=1e3;this.UG=null;this.rZ=null;d.uc(C,"flexrow");
var m=d.t("div"),e=d.t("div","padded");C.appendChild(m);C.appendChild(e);this.Dc=new iz;this.Dc.k("zoom",this.__,this);
m.appendChild(this.Dc.n);this.P8=new dG(225);this.P8.Va(4);e.appendChild(this.P8.n);this.EV=d.t("div");
this.EV.setAttribute("style","width:18em;");e.appendChild(this.EV);this.a1Q=new bd("Hi",!0);this.EV.appendChild(this.a1Q.n);
this.AN=d.t("div","scrollable");this.EV.appendChild(this.AN);this.m1=[new jp("Temperature",-100,100),new jp("Tint",-100,100),new jp([4,3],-4,4,null,!0),new jp([12,3,0],-100,100),new jp([4,4],-100,100),new jp([12,9],-100,100)];
this.A0="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var Y=0;Y<this.m1.length;Y++){var z=this.m1[Y];
z.c(0);z.k(v.E.p,this.__,this);this.AN.appendChild(z.n);if(Y==1||Y==3)this.AN.appendChild(d.t("hr"))}};
jg["Adobe Camera Raw Filter"].prototype=new jg;jg["Adobe Camera Raw Filter"].prototype.sX=function(){return!0};
jg["Adobe Camera Raw Filter"].prototype.bR=function(i){this.EV.appendChild(i)};jg["Adobe Camera Raw Filter"].prototype.P6=function(i,C){this.P8.Iw(fn.st[i.qW]["--text-color"])};
jg["Adobe Camera Raw Filter"].prototype.c=function(i,C,m,e,z){this.rx=i;var L=m.m,l=m.J,x=L*l;this.a1Q.c(L+" x "+l+", "+(L*l/1e6).toFixed(1)+" MPx");
this.oC=m;this.UG=new Float32Array(L*l*3);this.rZ=new Uint8Array(L*l*4);this.rZ.fill(255);if(C instanceof Float32Array)this.OI=C;
else{var S=this.OI=new Float32Array(L*l*3);for(var Y=0;Y<x;Y++){var k=Y*3,f=Y*4;S[k+0]=C[f+0]*(1/255);
S[k+1]=C[f+1]*(1/255);S[k+2]=C[f+2]*(1/255)}}this.MG=[{S2:this.OI,rect:m.clone()}];this.Lu=1e3;var X=this.OI;
while(L>1&&l>1){var o=L,A=o*3;L=L>>>1;l=l>>>1;var P=X,X=new Float32Array(L*l*3);this.MG.push({S2:X,rect:new j2(0,0,L,l)});
for(var F=0;F<l;F++)for(var n=0;n<L;n++){var k=(F*L+n)*3,R=(F*2*o+n*2)*3,Q=R+A;X[k]=.25*(P[R]+P[R+3]+P[R+A]+P[R+A+3]);
X[k+1]=.25*(P[R+1]+P[R+4]+P[R+A+1]+P[R+A+4]);X[k+2]=.25*(P[R+2]+P[R+5]+P[R+A+2]+P[R+A+5])}}var s=this.A0;
for(var Y=0;Y<s.length;Y++){var j=s[Y];this.m1[Y].c(i[j]?i[j].v:0)}this.Dc.c([{Jw:m,data:this.rZ.buffer}]);
this.Dc.Pc();this.__(null)};jg["Adobe Camera Raw Filter"].prototype.h=function(i){if(i){this.__(null,!0);
return this.rZ}return JSON.parse(JSON.stringify(this.rx))};jg["Adobe Camera Raw Filter"].prototype.aou=function(){this.OI=null;
this.UG=null;this.MG=null;this.rZ=null};jg["Adobe Camera Raw Filter"].prototype.__=function(i,C){if(i&&this.m1.indexOf(i.target)!=-1){this.Lu=1e3;
var m=this.A0;for(var Y=0;Y<m.length;Y++){var e=m[Y];this.rx[e]={t:e=="Ex12"?"doub":"long",v:this.m1[Y].h()}}}var z=this.Dc.h7().U,L=0;
while(z*2<=1&&!C){z*=2;L++}if(this.Lu<=L)return;this.Lu=L;var l=this.oC,x=this.avD(this.OI,l,this.UG,this.rx,this.aqR,this.rZ,L);
this.P8.c(x);this.Dc.c([{Jw:l,data:this.rZ.buffer}])};jg["Adobe Camera Raw Filter"].prototype.avD=function(i,C,m,e,z,L,l){var x=i,S=m,k=L,f=C.m,X=C.J,o=l!=0;
if(o){var A=this.MG[l];x=A.S2;f=A.rect.m;X=A.rect.J;S=new Float32Array(f*X*3);k=I.R(f*X*4)}a2(x,f,X,S,e,z);
var P=Date.now(),F=f*X;for(var Y=0;Y<F;Y++){var n=Y*3,R=Y*4;k[R+0]=~~(.5+S[n+0]*255);k[R+1]=~~(.5+S[n+1]*255);
k[R+2]=~~(.5+S[n+2]*255);k[R+3]=255}console.log(Date.now()-P,"integer conversion");P=Date.now();var Q=I.so(k,Math.max(1,Math.floor(F/2e5)));
console.log(Date.now()-P,"histogram done");P=Date.now();if(o){var s=new Uint32Array(k.buffer),j=new Uint32Array(L.buffer),_=C.m,B=C.J;
for(var N=0;N<B;N+=2)for(var a=0;a<_;a+=2){var n=N*_+a,O=s[(N>>>l)*f+(a>>>l)];j[n]=O;j[n+1]=O;j[n+_]=O;
j[n+_+1]=O}console.log(Date.now()-P,"upscale");P=Date.now()}return Q};jg["Adobe Camera Raw Filter"].prototype.Oh=function(i,C){this.aeP=i-248;
this.alu=C;this.Dc.Oh(this.aeP,this.alu);this.AN.style.height=C-236+"px"};jg["Adobe Camera Raw Filter"].prototype._=function(){for(var Y=0;
Y<this.m1.length;Y++)this.m1[Y]._()};jg.VaPo=function(){jg.call(this,"VaPo");this.f=-1;this.nQ=null;
this.WW=!1;this.ps=null;this.jv=null;this.kD=null;this.eD=null;this.g0=null;this.TC=null;this.Sr=null;
this.Q4=null;this.fy=null;this.Jq=null;this.og=null;this._m=[];this.MY=-1;this.g=null;this.s={cJ:[[{f:{id:0,name:"Move",nX:"tools/move"}}],[{f:{id:1,name:"Create Plane",nX:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",nX:"tools/rselect"}}],[{f:{id:3,name:"Stamp",nX:"tools/clone"}}],[{f:{id:4,name:"Brush",nX:"tools/brush"}}],[{f:{id:5,name:"Transform",nX:"tools/transform"}}],[{f:{id:6,name:"Hand",nX:"tools/hand"}}],[{f:{id:7,name:"Zoom In",nX:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",nX:"zoomOut"}}]],keys:[jD.AH,jD.Cl,jD._X,jD.xv,jD.ns,jD.f3,jD.HL,jD.uA]};
this.JO=new ai(this.s,!1);this.JO.k(v.E.H,this.TH,this);this.E0=null;this.oC=null;this.hQ=null;this.ak5=null;
this.Xm=null;this.cP=null;var i=d.t("div","flexrow"),e=0;this.oU=i;this.n.appendChild(i);i.appendChild(this.JO.n);
var C=d.t("div");i.appendChild(C);var top=d.t("div","form");C.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.b0=d.t("span");top.appendChild(this.b0);this.Ez=[[new db([12,80,5],1,1e3)],[new db([7,6],0,30)],[new db([12,14],1,200),new db([12,17],0,100),new db([12,0],0,100),new em([12,75])],[new db([12,14],1,200),new db([12,17],0,100),new db([12,0],0,100),new hv],[new em("Flip"),new em("Flop")],[]];
var m=[100,0,100,100,100,!1,100,100,100,JSON.parse(jt.UL.yr.slice(6)).v];this.Kd=[];for(var Y=0;Y<6;
Y++){var z=d.t("span"),L=this.Ez[Y];this.Kd.push(z);for(var l=0;l<L.length;l++){var x=L[l];x.parent=this;
x.c(m[e++]);x.k(v.E.p,this.a3h,this);z.appendChild(x.n)}}this.dC=d.t("div");this.dC.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.dC);this.view=new iz(!0);this.view.Oh(100,100);this.view.DK("auto");this.view.k("mousedown",this.MU,this);
this.view.k("mousemove",this.bz,this);this.view.k("mouseup",this.f9,this);d.AX(this.view.B2,this.H7.bind(this));
C.appendChild(this.view.n)};jg.VaPo.prototype=new jg;jg.VaPo.prototype.sX=function(){return!0};jg.VaPo.prototype.bR=function(i){this.dC.appendChild(i)};
jg.VaPo.prototype.a3h=function(i){if(i.target==this.Ez[0][0]){var C=this.Wt(),m=i.target.h();for(var Y=0;
Y<this.g.length;Y++)if(this.g[Y].length!=0&&C[Y])C[Y][0]=m;this.ZZ(C)}if(this.f==5){this.E0=this.TU();
this.__(!0)}this.__()};jg.VaPo.prototype.xC=function(i){var C=this.f,m=this.jv;if(C==3||C==4){var e=this.Ez[C-1],z=iH.UD(),L=z.Brsh.v;
L.Dmtr.v.val=e[0].h();L.Hrdn.v.val=e[1].h();z=$.N9.c7(z,i);if(z){L=z.Brsh.v;e[0].c(L.Dmtr.v.val);e[1].c(L.Hrdn.v.val)}this.W8()}if(C==1&&m&&(i.S(jD.nR)||i.S(jD.sk))){m.pop();
m.pop();if(m.length==0)m=this.jv=null;this.__()}function l(f,Y,P){I.fF(f[Y],f[0],P.hQ,P.oC);P.vH(f[0])}this.ps=i;
if(C<6)this.view.xC(i);var x=i.S(jD.Uj);if(x){var S=this.MY,k=0;if(i.S(jD.uA)){if(i.S(jD.$I))k=1;else k=-1}else if(i.S(jD.cL))k=1;
if(k!=0&&C!=5){console.log(this.MY,k,this._m);var f=this._m[this.MY],X=!1;if(f.length==3&&k==-1){l(f,1,this);
X=!0}S+=k;this.MY=Math.max(0,Math.min(this._m.length-1,S));f=this._m[this.MY];if(f.length==3&&k==1){l(f,2,this);
X=!0}this.__(X)}if(i.S(jD.AH)){if(d.Il())g_.aoX(this.pO.bind(this))}if(i.S(jD.pJ)){this.g0=null;this.__()}}else{var o=this.s.keys;
for(var Y=0;Y<o.length;Y++)if(i.S(o[Y]))this.NP(Y)}if(i.S(jD.sk)||i.S(jD.nR)){var A=this.Wt();A=I.WT.asQ(A,this.g);
this.g=[];for(var Y=0;Y<A.length;Y++)this.g[Y]=[];this.ZZ(A);this.__()}};jg.VaPo.prototype.pO=function(i){if(i=="granted")g_.QU(this,this.BY.bind(this))};
jg.VaPo.prototype.BY=function(i,C){if(this.eD==null)this.eD=[0,0];if(this.f==5)this.NP(0);this.NP(5,{Jg:i,TD:C})};
jg.VaPo.prototype.TH=function(i){if(i.data.d==v.B.n$){this.NP(i.data.f)}};jg.VaPo.prototype.a7p=function(i){var C=this.view.k0(i),m=I.WT.yx(this.Wt(),this.g),e=1e9,z=0;
for(var Y=0;Y<m.length;Y++){var L=m[Y][0],l=C.x-L[0],x=C.y-L[1],S=Math.sqrt(l*l+x*x);if(S<e){e=S;z=Y}}if(e>4*d.XP()/this.view.h7().U)return null;
return m[z]};jg.VaPo.prototype.H7=function(i){var C=this.f,m=this.jv;if(C<2&&!this.WW){var e=this.nQ=this.a7p(i),z=this.Wt(),L="auto";
if(C==0&&I.WT.Zq(z,e)){var l=z[e[1]][1][e[2]],x=l[5+{1:0,5:1,7:2,3:3}[e[3]]],S=x[0],k=x[1];L=hG.ajh(S[1]-k[1],-S[0]+k[0])}if(I.WT.adl(z,e))L="crosshair";
this.view.DK(L)}if(m){var f=this.view.k0(i),X=m.slice(0);m[m.length-2]=f.x;m[m.length-1]=f.y;this.__()}this.W8(i);
if(C==5&&!this.WW&&this.Ci){var f=this.view.k0(i),z=this.Wt(),o=I.WT.OZ(z,f.x,f.y,this._c());if(o){var A=new b5(o[2][0],o[2][1]),P=I.WT.yd(z,z[o[0]][1][o[1]],this._c()),F=P[1],n=I.D.v6(P[0],F),R=[F.x+F.m/2,F.y+F.J/2];
I.D.i(n,R);var Q=f.x-R[0],s=f.y-R[1],j=this.Ci.zE(A,this.view.h7().U,null,null,Math.atan2(-s,-Q));this.view.DK(j?j:"default")}}};
jg.VaPo.prototype.W8=function(i){var C=this.f,m=this.ps;if((C==3||C==4)&&!this.WW){var e=i?this.view.k0(i):this.pz,z=this.Wt();
this.pz=e;if(e==null)return;var L=I.WT.OZ(z,e.x,e.y,this._c());if(L){if(C==3&&this.og&&this.Ez[2][3].h()){var l=new b5(L[2][0],L[2][1]);
this.Jq=l._3(this.og);this.__()}if(C==3&&(this.Jq==null||m&&(m.S(jD.rb)||m.S(jD.WP)))){if(this.E0){this.cP=null;
this.vH(this.E0);this.__(!0,this.E0)}return}this.aec(L,this.E0)}}};jg.VaPo.prototype._c=function(){return[this.oC.m/2,this.oC.J/2]};
jg.VaPo.prototype.MU=function(i){this.WW=!0;var C=this.f,m=this.jv,e=this.Wt(),z=this.ps,L=this.nQ=this.a7p(null),l=this.view.k0(),x=I.WT.OZ(e,l.x,l.y,this._c()),S=x?new b5(x[2][0],x[2][1]):null;
if(I.WT.adl(e,L)){var k=e[L[1]][1][L[2]];e.splice(L[1],1);this.g.splice(L[1],1);m=I.WT.aox(k);var f=-1,l=L[0];
for(var Y=0;Y<8;Y+=2){var X=m[Y]-l[0],o=m[Y+1]-l[1];if(X*X+o*o<1e-5)f=Y}f=f+2&7;m=this.jv=m.slice(f).concat(m.slice(0,f));
this.ZZ(e)}else if(I.WT.Zq(e,L)){if(C==1||z&&z.S(jD.Uj)){e=I.WT.a51(e,L,this._c());this.ZZ(e);L[2]=e[L[1]][1].length-1;
L[3]=8+(L[3]+4&7);this.g[L[1]].push(L[2]);this.ZZ(e,!0);this.NP(0)}else this.ZZ(this.Wt(e))}else if(C==0){var A=[];
for(var Y=0;Y<e.length;Y++)A.push([]);if(x){if(z&&z.S(jD.$I))A=this.g;var P=A[x[0]].indexOf(x[1]);if(P==-1)A[x[0]].push(x[1]);
else A[x[0]].splice(P,1)}this.g=A;this.ZZ(e,!0);this.__()}else if(C==2){if(x){var F=this.g0;if(F&&F.Xp(S)){if(z)if(z.S(jD.rb)||z.S(jD.Uj)){this.NP(5);
this.MU(i);return}this.TC=new b5(S.x-F.x,S.y-F.y)}else{this.kD=x[2].concat(x[2]);this.eD=x}}}else if(C==3||C==4){if(C==3){if(z&&(z.S(jD.rb)||z.S(jD.WP))){if(x){this.Jq=S;
this.Q4=S.clone();this.og=null;this.fy=x;this.__()}else alert("You must click into a plane");this.WW=!1;
return}else if(this.Jq==null){alert(bC.get([15,7,0]));this.WW=!1;return}else if(x){var n=this.og=S._3(this.Jq)}}if(x){this.aec(x)}}else if(C==5){if(x){var R=new b5(x[2][0],x[2][1]),Q=this.Ci.k7({q:this.view.h7()},{},z,R)}}};
jg.VaPo.prototype.aec=function(i,C){var m=this.cP;if(m==null)this.cP=m=I.R(this.oC.P()*4);else m.fill(0);
var e=this.f;this.eD=i;var z=this.Ez[e-1],L=I.a4L.anC(z[0].h(),z[1].h()/100,1),l=I.R(L[1].P()*4);I.uC(L[0],l,3);
if(e==4){var x=I.I.oq(z[3].h());I.eS(l,Math.round(x.e)<<16|Math.round(x.r)<<8|Math.round(x.Z)<<0,4278190080)}this.Sr={a8a:L[0],Jg:l,TD:L[1]};
var S=this.E0=this.Vc(i[2],i[2]),k=C?C.Z0(S):S;this.vH(k);this.__(!0,k)};jg.VaPo.prototype.bz=function(i){var C=this.nQ,m=this.f,e=this.Wt();
if(m==0&&I.WT.Zq(e,C)){e=I.WT.az9(e,C,this.view.k0());this.ZZ(e,!0);this.__()}var z=this.TC;if(m==2&&this.WW&&(this.kD||z)){var L=this.view.k0(),l=I.WT.OZ(e,L.x,L.y,this._c());
if(l){this.eD=l;if(z){this.g0.x=l[2][0]-z.x;this.g0.y=l[2][1]-z.y}else{this.kD=this.kD.slice(0,2).concat(l[2]);
this.g0=I.C.Ve(this.kD)}this.__()}}if((m==3||m==4)&&this.WW){var L=this.view.k0(),l=I.WT.OZ(e,L.x,L.y,this._c());
if(l){if(m==3){var x=this.og;this.Jq=new b5(l[2][0]-x.x,l[2][1]-x.y)}var S=this.Vc(this.eD[2],l[2]);
this.E0=this.E0.Z0(S);this.eD=l;this.vH(S);this.__(!0,S)}}if(m==5&&this.WW){var L=this.view.k0(),l=I.WT.OZ(e,L.x,L.y,this._c(),this.eD);
if(l){var k=new b5(l[2][0],l[2][1]);this.Ci.ct({q:this.view.h7()},{},this.ps,k);this.eD=l;var S=this.E0;
if(S)this.vH(S);else S=new j2;this.E0=this.TU(null,null,!0);this.__(!0,S.Z0(this.E0))}}};jg.VaPo.prototype.Vc=function(i,C){i=new b5(i[0],i[1]);
C=new b5(C[0],C[1]);var m=Math.max(1e-5,b5.qM(i,C)),e=this.Sr.TD.m*.2,z=new j2;for(var L=0;L<m;L+=e){var l=1-L/m,x=l*i.x+(1-l)*C.x,S=l*i.y+(1-l)*C.y,k=this.Sr.TD.clone();
k.x=Math.round(x-k.m/2);k.y=Math.round(S-k.J/2);if(this.f==3){var f=this.og;if(f==null)f=new b5(x,S)._3(this.Jq);
var X=this.g0=k.clone();X.x=Math.round(X.x-f.x);X.y=Math.round(X.y-f.y);var o=this.Sr.a8a;this.Sr=this.a89(this.fy);
this.g0=null;I.z8(o,this.Sr.Jg);this.Sr.a8a=o}var A=this.TU(this.cP,k);z=z.Z0(A)}return z};jg.VaPo.prototype.f9=function(i){var C=this.nQ;
if(C&&C[3]>=8){var m=I.WT.ae9(this.Wt(),C,this._c());this.ZZ(m,!0);this.__();alert("new plane added")}var e=this.f,z=this.jv;
if(z||e==1){var L=this.view.k0();if(z==null)z=this.jv=[L.x,L.y];if(z.length==8&&hG.e7(z)){var m=this.Wt();
m.push([100,[I.WT.a0p(z,this._c())]]);this.g.push([0]);this.ZZ(m,!0);z=this.jv=null;this.NP(0);this.__()}else if(z.length<8){z.push(L.x,L.y);
if(z.length==8&&!hG.e7(z)){var l=z[0],x=z[1];z[0]=z[4];z[1]=z[5];z[4]=l;z[5]=x}}}var S=this.kD;if(e==2&&S&&S[0]==S[2]&&S[1]==S[3]){this.g0=null;
this.__()}if((e==3||e==4)&&this.WW){if(e==3&&!this.Ez[2][3].h()&&this.Q4){this.Jq=this.Q4.clone();this.__()}this.ZZ();
this.cP=null}if(!this.Ez[2][3].h())this.og=null;this.WW=!1;this.TC=null;this.kD=null};jg.VaPo.prototype.NP=function(i,C){if(i==this.f)return;
var m=this.E0,z=6;if(this.f==5){this.ZZ();this.vH(m);this.Ci=null;this.__()}if(this.f==3||this.f==4){this.cP=null;
if(m)this.vH(m);this.__(!0,m)}if(i==5){if(C==null&&this.g0==null){alert("Select the area to be transformed");
return}this.azG(C)}if(i>1){var e=this.Wt();this.wy();this.ZZ(e,!0);this.__()}this.view.xC(i>=z?iz.kC(i-z):new jD);
if(i<z)this.view.DK("auto");this.f=i;this.JO.NP(i);d._l(this.b0);var L={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[i];
this.b0.appendChild(this.Kd[L])};jg.VaPo.prototype.Wt=function(){var Y=this.MY,i=this._m;while(i[Y].length==3)Y--;
var C=i[Y];this.g=JSON.parse(C[1]);return JSON.parse(C[0])};jg.VaPo.prototype.ZZ=function(i,C){if(i==null&&this.E0==null)return;
var m=this._m,e=this.MY,Y=e;while(Y>=0&&m[Y].length==3)Y--;if(C==null)this.MY=e=e+1;if(i!=null)m[C?Y:e]=[JSON.stringify(i),JSON.stringify(this.g)];
else{var z=this.oC,L=this.E0,l=I.R(L.P()*4),x=I.R(L.P()*4);m[e]=[L,l,x];I.fF(this.hQ,z,l,L);if(this.cP)I.l.Qv("norm",this.cP,z,this.hQ,z,z,this.akb());
else this.TU(this.hQ);I.fF(this.hQ,z,x,L);this.E0=null}while(m.length!=e+1)m.pop()};jg.VaPo.prototype.akb=function(){return this.Ez[this.f-1][2].h()/100};
jg.VaPo.prototype.wy=function(i,C){if(i==null)i=this.Wt();this.g=[];for(var Y=0;Y<i.length;Y++){var m=[];
this.g.push(m);if(C)for(var e=0;e<i[Y][1].length;e++)m.push(e)}};jg.VaPo.prototype.c=function(i,C,m,e,z,L){var l=JSON.parse(JSON.stringify(L[2].WT));
this.MY=-1;this.wy(l);this.ZZ(l);var x=I.R(e.P()*4);I.fF(C,m,x,e);this.aDd=new j2;this.oC=e;this.ak5=z;
this.hQ=x;this.Xm=z.slice(0);this.vH(e);this.__(!0);this.view.Pc();this.NP(0)};jg.VaPo.prototype.azG=function(i){this.Sr=i?i:this.a89();
var C=I.C.Ym(this.Sr.TD).j;if(i){var m=this.Wt(),e=I.WT.yd(m,m[0][1][0],this._c()),z=e[1],L=Math.min(z.m/i.TD.m,z.J/i.TD.J)*.9;
if(L<1)I.C.i(C,new hN(L,0,0,L,0,0),C)}this.Ci=new hG(C,!0,!0);this.g0=null;this.E0=this.TU();this.__(!0)};
jg.VaPo.prototype.a89=function(i){var C=this.oC,m=I.C.Ub(this.g0),e=this.Wt(),z=I.R(m.P()*4);if(i==null)i=this.eD;
var L=e[i[0]][1],l=I.WT.Pj(e[i[0]][1],i[1],m,this._c());for(var x=0;x<l.length;x++){var S=L[l[x]],k=I.WT.yd(e,S,this._c()),f=k[0],X=k[1],o=X.G_(m);
if(o.bs())continue;o=I.C.Ub(o);var A=I.R(o.P()*4),P=I.D.v6(f,X);P=I.D.oW([1/C.m,0,0,0,1/C.J,0,0,0],P);
P=I.D.Fb(P);I.D.drawImage(P,this.Xm,C.m,C.J,A,o);I.fF(A,o,z,m)}var F=this.Ez[1][0].h(),n=Math.round(F*1.4),R=m.clone();
R.sW(-n,-n);var Q=I.R(R.P());Q.fill(255);var s=I.R(m.P());I.Vo(Q,R,s,m);var j=I.R(m.P());I.Zo.MO(s,j,m,F);
I.Ud(z,s,3);I.CX.G_(s,j,j);I.uC(j,z,3);return{Jg:z,TD:m}};jg.VaPo.prototype.vH=function(i,C){var m=this.oC;
I.fF(this.ak5,m,this.Xm,m,i);I.l.Qv("norm",this.hQ,m,this.Xm,m,i,1);if(this.cP)I.l.Qv("norm",this.cP,m,this.Xm,m,i,this.akb())};
jg.VaPo.prototype.TU=function(i,C,m){var e=this.Sr,z=e.TD,L=this.oC,l,x=C?I.C.Ym(C).j:this.Ci.yx(),S=I.C.OO(x),l=I.D.v6(x,z),k=this.Ez[4],f=new hN;
if(k[0].h()){f.W=-1;f.W_=2*z.x+z.m}if(k[1].h()){f.o6=-1;f.Rj=2*z.y+z.J}l=I.D.oW(l,I.D.fL(f));function X(p,y){p.beginPath();
p.moveTo(y[0],y[1]);for(var Y=1;Y<4;Y++)p.lineTo(y[Y*2],y[Y*2+1]);p.closePath()}var o=this.Wt(),A=I.WT.Pj(o[this.eD[0]][1],this.eD[1],S,this._c()),P=o[this.eD[0]][1],F=new j2;
for(var n=0;n<A.length;n++){var R=P[A[n]],Q=I.WT.yd(o,R,this._c()),s=Q[0],j=Q[1],_=j.G_(S);if(this.g0)_=_.G_(this.g0);
if(_.bs())continue;var B=I.D.v6(s,j),N=I.C.Ym(_).j;I.D.i(B,N);var a=x.slice(0);I.D.i(B,a);var O=I.C.Ve(a).G_(I.C.Ve(N)),H=O.m,q=O.J;
if(O.bs())continue;B=I.D.oW(I.D.oW(B,l),[z.m,0,z.x,0,z.J,z.y,0,0]);var h=I.R(O.P()*4);I.D.drawImage(B,e.Jg,z.m,z.J,h,O,m);
if(_.P()!=S.P()){var D=I.BF(H,q);D.save();D.clearRect(0,0,H,q);D.translate(-O.x,-O.y);X(D,N);D.clip();
X(D,a);D.fill();D.restore();var T=new Uint8Array(D.getImageData(0,0,H,q).data.buffer);for(var Y=3;Y<h.length;
Y+=4)if(T[Y]<h[Y])h[Y]=T[Y]}I.l.Qv("norm",h,O,i?i:this.Xm,L,O,1);F=F.Z0(O)}return F};jg.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.Wt()))};
jg.VaPo.prototype.aje=function(){if(this.f==5)this.NP(0);var i=new j2,C=this._m;for(var Y=0;Y<=this.MY;
Y++)if(C[Y].length==3)i=i.Z0(C[Y][0]);var m=I.R(i.P()*4);I.fF(this.hQ,this.oC,m,i);return[m,i]};jg.VaPo.prototype.Oh=function(i,C){this.JO.Oh(i,C);
this.view.Oh(i-40,C-30)};jg.VaPo.prototype._=function(){this.JO._();for(var Y=0;Y<this.Ez.length;Y++)for(var i=0;
i<this.Ez[Y].length;i++)this.Ez[Y][i]._()};jg.VaPo.prototype.__=function(i,C){var m=this.oC,e=[],z=[],L=[],l=this.Wt(),x=I.WT.yx(l,this.g),S=0,k=null,n=null,R=null,Q=null;
for(var Y=0;Y<x.length;Y++)L.push(x[Y][0][0],x[Y][0][1]);for(var Y=0;Y<l.length;Y++){var f=this.g[Y].length;
S+=f;if(f!=0)k=[Y,this.g[Y][0]]}var X=this.Ez[0][0];X.wo(S!=0);if(S!=0)X.c(Math.round(l[k[0]][0]));if(S==1){var o=l[k[0]][1]}var A=[];
if(this.g0&&l[this.eD[0]])A=I.WT.Pj(l[this.eD[0]][1],this.eD[1],this.g0,this._c());var P=[];if(this.Ci){P=this.Ci.a8J();
P[4]=this.Ci.UY()}var F=[];if(this.Ci&&l[this.eD[0]])F=I.WT.Pj(l[this.eD[0]][1],this.eD[1],I.C.Ve(this.Ci.yx()),this._c());
for(var s=0;s<l.length;s++){var j=l[s][0],o=l[s][1],_=this.g[s];for(var B=0;B<o.length;B++){var k=o[B],N=I.WT.yd(l,k,this._c()),a=N[0],m=N[1],O=I.D.v6(a,m);
if(m.bs()){if(R==null)R={G:[],j:[]};I.C.concat(R,{G:["M","L","L","L","Z"],j:a});continue}var H=I.C.Ym(m),q=H.j,h=H.G,D=this.Jq;
if(D&&m.Xp(D)&&this.fy&&this.fy[0]==s){n=[D.x,D.y];I.D.i(O,n)}if(A.indexOf(B)!=-1){var T=this.g0.G_(m);
if(s==this.eD[0]&&!T.bs()){if(Q==null)Q={j:[],G:[]};var p=I.C.Ym(T);I.D.i(O,p.j);I.C.concat(Q,p)}}if(F.indexOf(B)!=-1&&s==this.eD[0]){var y=[];
for(var Y=0;Y<P.length;Y++)if(m.Xp(P[Y]))y.push(P[Y].x,P[Y].y);if(y.length!=0){I.D.i(O,y);L=L.concat(y)}}if(_&&_.indexOf(B)!=-1){var b=Math.ceil(m.x/j)*j,g=m.x+m.m,u=Math.ceil(m.y/j)*j,t=m.y+m.J;
for(var V=b;V<g;V+=j){q.push(V,m.y,V,t);h.push("M","L")}for(var c=u;c<t;c+=j){q.push(m.x,c,g,c);h.push("M","L")}}I.D.i(O,q);
e=e.concat(h);z=z.concat(q)}if(n&&this.f==3){var V=n[0],c=n[1],E=10/this.view.h7().U;z.push(V-E,c,V+E,c);
z.push(V,c-E,V,c+E);e.push("M","L","M","L")}}var a=this.jv,m=this.oC;if(a){var Z=["M"];for(var Y=0;Y<a.length-2;
Y+=2)Z.push("L");Z.push("Z");var G=$.lx.Aw(a,m.m/2,m.J/2);if(isNaN(G)||G==Infinity||G==-Infinity||!hG.e7(a)){if(R==null)R={G:[],j:[]};
I.C.concat(R,{G:Z,j:a})}else{z=z.concat(a);e=e.concat(Z)}}var J={tp:{G:e,j:z},aD9:R,aoO:Q,jr:L,fw:null};
if(i){this.view.c([{Jw:m,data:this.Xm.buffer}],null,J,C)}else this.view.acB(J)};jg.blnc=function(){jg.call(this);
var i=this.n;this.rc=null;this.Kt=new ib([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.Kt.k(v.E.p,this.__,this);
i.appendChild(this.Kt.n);this.Ih=[];for(var Y=0;Y<3;Y++){var C=new jp(["VAR0 - VAR1",fp.arg[Y],fp.HO[Y]],-100,100);
C.k(v.E.p,this.Lb,this);this.Ih.push(C);i.appendChild(C.n)}this.eL=new em([13,4]);this.eL.k(v.E.p,this.Lb,this);
i.appendChild(this.eL.n)};jg.blnc.prototype=new jg;jg.blnc.prototype._=function(){this.Kt._();for(var Y=0;
Y<3;Y++)this.Ih[Y]._();this.eL._()};jg.blnc.prototype.c=function(i){this.rc=JSON.parse(JSON.stringify(i));
this.__()};jg.blnc.prototype.h=function(i){var C=["ShdL","MdtL","HghL"],m=this.rc[C[this.Kt.h()]].v;
for(var Y=0;Y<3;Y++)m[Y].v=this.Ih[Y].h();this.rc.PrsL.v=this.eL.h();return JSON.parse(JSON.stringify(this.rc))};
jg.blnc.prototype.__=function(i){var C=["ShdL","MdtL","HghL"],m=this.rc[C[this.Kt.h()]].v;for(var Y=0;
Y<3;Y++)this.Ih[Y].c(m[Y].v);this.eL.c(this.rc.PrsL.v)};jg.brit=function(){jg.call(this,"brit");this.rL.push(new jp([12,2],-150,150,""));
this.rL.push(new jp([12,3,0],-100,100,""));this.rL.push(new em([12,3,1]));this.oG()};jg.brit.prototype=new jg;
jg.curv=function(){jg.call(this);this.value=null;this.KW=null;this.os=null;var i=this.n;this.O9=new ib("Preset",["basic","advanced"]);
this.O9.k(v.E.p,this.at8,this);i.appendChild(this.O9.n);d._Z(i);this.EK=new ib([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.EK.k(v.E.p,this.ZT,this);i.appendChild(this.EK.n);this.OD=new ib(null,["Spline","Sketch"]);this.OD.k(v.E.p,this.at8,this);
i.appendChild(this.OD.n);this.x0=new hr;this.x0.parent=this;this.x0.k(v.E.p,this.qD,this);i.appendChild(this.x0.n);
d._Z(i);this.vT=new a_;this.vT.k(v.E.p,this.Zj,this);i.appendChild(this.vT.n);this.lJ=null;this.aaj=0;
this.av=0;d._Z(i);this.S3=new as("Sample from image",iw.XA(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.S3.k(v.E.p,this.y0,this);this.S3.n.style.marginRight="0";i.appendChild(this.S3.n)};jg.curv.prototype=new jg;
jg.curv.prototype.P6=function(i,C){if(C==dm.cX||C==dm.nM){var m=i.tb,e=["Default"];for(var Y=0;Y<m.length;
Y++)e.push(m[Y].presetFileName.v);e.push("Custom");this.O9.bD(e,[1,m.length,1]);this.os=i}};jg.curv.prototype.Oh=function(i,C){this.vT.Oh(i,C)};
jg.curv.prototype._=function(){this.EK._();this.vT._()};jg.curv.prototype.k1=function(){this.O9.c(this.os.tb.length+1)};
jg.curv.prototype.at8=function(i){if(i.target==this.O9){var C=this.O9.h(),m=this.os.tb,e;if(C==0)e=ft.TQ("curv");
else if(C-1<m.length)e=JSON.parse(JSON.stringify(m[C-1]));else return;this.c(e);this.Lb();return}this.k1();
var z=aA.t1(this.value,0),L=z.length==256?1:0,l=this.OD.h();if(L==l)return;var e=ft.TQ("curv");if(l==1){var x=[];
for(var Y=0;Y<256;Y++)x.push(Y);aA.gH(e,0,x)}this.c(e);this.Lb()};jg.curv.prototype.Zj=function(){this.k1();
aA.gH(this.value,this.EK.h(),this.vT.h());this.Lb()};jg.curv.prototype.ZT=function(){var i=this.EK.h(),C=aA.t1(this.value,i),m=C.length==256?1:0;
this.OD.c(m);if(this.KW)this.vT.Sw(this.KW[i],this.KW[4]*[1,.33,.33,.33][i],["#ccc","#fcc","#cfc","#ccf"][i]);
this.vT.c(C)};jg.curv.prototype.IM=function(){return!0};jg.curv.prototype.k7=function(i,C,m,e,z){var L=this.value;
this.value=ft.TQ("curv");this.Lb();var l=$.U3.bl(i,z,1,null,!0),x=this.lJ=[l>>>16&255,l>>>8&255,l&255];
this.aaj=z.y;var S=this.S3.h().indexOf(!0);if(S==0){var k=(x[0]+x[1]+x[2])/3,f=this.EK.h(),X=aA.t1(L,f),o=f==0?k:x[f-1],A=-1;
for(var Y=0;Y<X.length;Y++)if(X[Y].v.Hrzn.v==o)A=Y;if(A==-1){var P=JSON.parse(JSON.stringify(X[0]));
P.v.Hrzn.v=o;P.v.Vrtc.v=o;X.push(P);X.sort(function(F,n){return F.v.Hrzn.v-n.v.Hrzn.v});aA.gH(L,f,X);
this.av=X.indexOf(P)}else this.av=A}this.c(L);this.Lb()};jg.curv.prototype.ct=function(i,C,m,e,z){if(this.lJ==null)return;
if(this.S3.h().indexOf(!0)==0){var L=this.value,l=this.EK.h(),x=aA.t1(L,l),S=x[this.av];S.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(S.v.Hrzn.v+(this.aaj-z.y))));
aA.gH(L,l,x);this.c(L);this.Lb()}};jg.curv.prototype.$d=function(i,C,m,e,z){var L=this.value,l=this.lJ,x=(l[0]+l[1]+l[2])/3,S=this.S3.h().indexOf(!0)-1;
if(S<=-1){}else for(var Y=0;Y<3;Y++){var k=aA.t1(L,1+Y);if(S==0)k[0].v.Hrzn.v=l[Y];if(S==1){var f=Math.log(l[Y]/255)/Math.log(x/255),X=Math.min(999,Math.max(10,Math.round(100*f)));
if(k.length==2)k.splice(1,0,JSON.parse(JSON.stringify(k[0])));k[1].v.Hrzn.v=127-Math.log(X/100)*127;
k[1].v.Vrtc.v=127}if(S==2)k[k.length-1].v.Hrzn.v=l[Y];aA.gH(L,1+Y,k)}this.c(L);this.Lb();this.k1();this.lJ=null};
jg.curv.prototype.c=function(i){this.value=i;this.ZT()};jg.curv.prototype.Sw=function(i){this.KW=i;this.ZT()};
jg.curv.prototype.h=function(i){return JSON.parse(JSON.stringify(this.value))};jg.curv.prototype.qD=function(){var i=this.x0.h(),C=this.KW,m=this.value,e=I.avn(i,C);
for(var Y=0;Y<4;Y++){var z=e[Y][0],L=e[Y][1],l=e[Y][2],x=[I.$l.$z(z,0,!0),I.$l.$z(L,255,!0)];if(l!=null)x.splice(1,0,I.$l.$z(128,l,!0));
aA.gH(m,Y,x)}this.ZT();this.Lb()};jg.expA=function(){jg.call(this,"expA");this.rL.push(new jp([12,5],-20,20,null,2,!0));
this.rL.push(new jp([12,6],-.5,.5,null,2));this.rL.push(new jp([12,7],.01,9.99,null,2,!0));this.oG()};
jg.expA.prototype=new jg;jg.expA.prototype.rV=function(i,C){C[0]=i.Exps.v;C[1]=i.Ofst?i.Ofst.v:0;C[2]=i.gammaCorrection?i.gammaCorrection.v:1};
jg.expA.prototype.Ll=function(i,C){i.Exps={t:"doub",v:C[0]};i.Ofst={t:"doub",v:C[1]};i.gammaCorrection={t:"doub",v:C[2]}};
jg.grdm=function(){jg.call(this,"grdm");this.rL.push(new jv(!0,null,!0));this.rL.push(new em([12,23,0]));
this.oG()};jg.grdm.prototype=new jg;jg.grdm.prototype.rV=function(i,C){C[0]=i.Grad.v;C[1]=i.Rvrs?i.Rvrs.v:!1};
jg.grdm.prototype.Ll=function(i,C){i.Grad.v=C[0];i.Rvrs={t:"bool",v:C[1]}};jg.grdm.prototype.P6=function(i,C){this.rL[0].ef(i.Dm,i.yv);
if(C==dm.cX||C==dm.li||C==dm.AU)this.rL[0].dp(i.Wc)};jg.selc=function(){jg.call(this);var i=this.n;this.I8=[];
this.hK=null;this.Kt=new ib([12,82],fp.s$.concat([[13,1,8],[13,1,13],[13,1,10]]));this.Kt.k(v.E.p,this.ec,this);
i.appendChild(this.Kt.n);d._Z(i);for(var Y=0;Y<4;Y++){var C=new jp(fp.arg[Y],-100,100,"%");C.k(v.E.p,this.ec,this);
this.I8.push(C);i.appendChild(C.n)}this.YE=new em([13,3]);i.appendChild(this.YE.n);this.YE.k(v.E.p,this.ec,this)};
jg.selc.prototype=new jg;jg.selc.prototype._=function(){this.Kt._();this.YE._();for(var Y=0;Y<4;Y++)this.I8[Y]._()};
jg.selc.prototype.c=function(i){this.hK=JSON.parse(JSON.stringify(i));this.__()};jg.selc.prototype.h=function(i){return JSON.parse(JSON.stringify(this.hK))};
jg.selc.prototype.ec=function(i){if(i.target!=this.Kt){var C=this.hK,m=[];for(var Y=0;Y<4;Y++)m[Y]=this.I8[Y].h();
jm.gH(C,this.Kt.h(),m);C.Mthd={t:"enum",v:{CrcM:this.YE.h()?"Absl":"Rltv"}}}this.__();this.Lb()};jg.selc.prototype.__=function(){var i=this.hK,C=jm.t1(i,this.Kt.h());
for(var Y=0;Y<4;Y++)this.I8[Y].c(C[Y]);this.YE.c(i.Mthd?i.Mthd.v.CrcM=="Absl":!1)};jg.blwh=function(){jg.call(this,"blwh");
this.rL.push(new em([12,11]));this.rL.push(new hv(!0));for(var Y=0;Y<6;Y++)this.rL.push(new jp(fp.s$[Y],-200,300));
this.oG()};jg.blwh.prototype=new jg;jg.blwh.prototype.rV=function(i,C){C[0]=i.useTint.v;C[1]=i.tintColor.v;
var m="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)C[2+Y]=i[m[Y]].v};jg.blwh.prototype.Ll=function(i,C){i.useTint.v=C[0];
i.tintColor.v=C[1];var m="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)i[m[Y]].v=C[2+Y]};
jg.hue2=function(){jg.call(this);this.value=null;this.lO=null;this.aeq=null;this.y6=[[0,0,0],[0,50,0]];
var i=this.n;this.S3=new as(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.S3.k(v.E.p,this.azt,this);this.S3.k(v.E.p,this.y0,this);i.appendChild(this.S3.n);var C=this.rL=[new ib([12,12],["Master"].concat(fp.s$)),new jp([12,8],-180,180),new jp([12,9],-100,100),new jp([12,10],-100,100),new em([12,11])];
for(var Y=0;Y<C.length;Y++){var m=C[Y];m.k(v.E.p,Y==0?this.ZT:this.a7h,this);i.appendChild(m.n)}this.Kt=C[0];
this.ls=C[1];this.gw=C[2];this.i$=C[3];this.xG=C[4];this.lI=new as("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.lI.k(v.E.p,this.azt,this);this.lI.k(v.E.p,this.y0,this);this.lI.n.style.marginLeft="20px";i.appendChild(this.lI.n);
this.MP=d.t("div");i.appendChild(this.MP);this.gW=this.Pd.bind(this);this.H$=this.I7.bind(this);this.B2=d.t("canvas");
this.Hs=this.B2.getContext("2d");this.Om=null;d.o$(this.B2);d.Ay(this.B2,282,18);i.appendChild(this.B2);
d.h_(this.B2,this.hk.bind(this))};jg.hue2.prototype=new jg;jg.hue2.prototype.Oh=function(i,C){d.Ay(this.B2,Math.round(i),18);
if(this.value)this.ZT()};jg.hue2.prototype.azt=function(i){var C=i.target.h().indexOf(!0);if(C==-1)return;
if(i.target==this.S3)this.lI.c([!1,!1,!1]);else this.S3.c([!1,!1,!1])};jg.hue2.prototype.hk=function(i){if(this.Kt.h()==0||this.xG.h())return;
var C=d.CV(i,this.B2).x/(this.B2.width/d.XP()),L=1e6;function m(X,o,A){return X<o&&o<A||A<X&&(X<o||o<A)}var e=this.XF(),z=-1;
for(var Y=0;Y<4;Y++){var l=Math.abs(C-(e[Y]+Y*1e-5));if(l<L){L=l;z=Y}}if(L>.025){z=-1;var x=e[0],S=e[1],k=e[2],f=e[3];
if(m(x,C,S))z=4;if(m(S,C,k))z=5;if(m(k,C,f))z=6}if(z==-1)return;this.Om=z;d.AX(document.body,this.gW);
d.xd(document.body,this.H$)};jg.hue2.prototype.Pd=function(i){var C=d.CV(i,this.B2).x/(this.B2.width/d.XP()),m=this.XF(),e=this.Om;
for(var Y=1;Y<4;Y++)if(m[Y]<m[Y-1]){m[Y]+=1}if(e<4){var z=1e6,L=0;for(var Y=-20;Y<20;Y++){var l=Math.abs(m[e]-(C+Y));
if(l<z){z=l;L=Y}}C+=L;m[e]=C;for(var Y=e+1;Y<4;Y++)if(m[Y]<m[Y-1]){m[Y]=m[Y-1]}for(var Y=e-1;Y>=0;Y--)if(m[Y]>m[Y+1]){m[Y]=m[Y+1]}}else{var x=C-(m[e-4]+m[e-3])/2;
if(x<-.5)x+=1;if(e==4){m[0]+=x;m[1]+=x;m[2]=Math.max(m[1],m[2]);m[3]=Math.max(m[1],m[3])}if(e==5)for(var Y=0;
Y<4;Y++)m[Y]+=x;if(e==6){m[2]+=x;m[3]+=x;m[0]=Math.min(m[0],m[2]);m[1]=Math.min(m[1],m[2])}}for(var Y=1;
Y<4;Y++)if(m[Y]<m[Y-1])throw"e";this.axV(m);this.ZT();this.Lb()};jg.hue2.prototype.I7=function(i){d.nz(document.body,this.gW);
d.uh(document.body,this.H$)};jg.hue2.prototype._=function(){for(var Y=0;Y<this.rL.length;Y++)this.rL[Y]._()};
jg.hue2.prototype.a7h=function(i){var C=this.value.Clrz.v=this.xG.h();if(C)this.Kt.c(0);if(i&&i.target==this.xG){var m=C?1:0;
this.y6[1-m]=jK.t1(this.value,0);var e=this.y6[m];jK.gH(this.value,0,e);if(this.Kt.h()==0){this.ls.c(e[0]);
this.gw.c(e[1]);this.i$.c(e[2])}}var z=this.Kt.h(),L=jK.t1(this.value,z),e=z==0?L:L.Ih;e[0]=this.ls.h();
var l=this.gw.h();e[1]=C?Math.max(0,l):l;e[2]=this.i$.h();jK.gH(this.value,z,L);this.ZT();this.Lb()};
jg.hue2.prototype.ZT=function(){var i=this.Kt.h(),C=this.value.Clrz?this.value.Clrz.v:!1;this.xG.c(C);
this.Kt.wo(!C);this.lI.wo(!C&&i!=0);var m=jK.t1(this.value,i),e=i==0?m:m.Ih;this.ls.c(e[0]);this.gw.c(e[1]);
this.i$.c(e[2]);var z=this.B2.width,L=this.B2.height,l=this.Hs;l.clearRect(0,0,z,L);if(C||i==0){this.MP.innerHTML="";
return}var x=m.kl;this.MP.innerHTML=x[0]+"\xB0 / "+x[1]+"\xB0<span style=\"float:right\">"+x[2]+"\xB0 \\ "+x[3]+"\xB0</span>";
var S=I.R(z*4);hZ.a2Z(S,1,z,-1,.5);var k=new ImageData(new Uint8ClampedArray(S.buffer),z,1),f=Math.round(L/4);
for(var Y=0;Y<f;Y++)l.putImageData(k,0,Y);function X(R,Q,s){l.fillStyle=s;var j=f*2;if(R<=Q)l.fillRect(R*z,j,(Q-R)*z,f);
else{l.fillRect(0,j,Q*z,f);l.fillRect(R*z,j,(1-R)*z,f)}}var o=this.XF();X(o[0],o[1],"#888888");X(o[1],o[2],"#cccccc");
X(o[2],o[3],"#888888");l.fillStyle="#ffffff";l.lineWidth=1;l.beginPath();var A=f+.5,P=4*f+.5;for(var Y=0;
Y<4;Y++){var F=Math.floor(z*o[Y])+.5,n=(Y<2?-1:1)*f*(Y==1||Y==2?1:2);l.moveTo(F,A);l.lineTo(F,P);l.lineTo(F+n,P);
l.lineTo(F+n,f+f+.5);l.closePath()}l.fill();l.stroke()};jg.hue2.prototype.XF=function(){var i=this.Kt.h(),C=jK.t1(this.value,i).kl;
for(var Y=0;Y<4;Y++)C[Y]=(1000.5+C[Y]/360)%1;return C};jg.hue2.prototype.axV=function(i){var C=this.Kt.h(),m=jK.t1(this.value,C);
for(var Y=0;Y<4;Y++)m.kl[Y]=Math.round(36e3+(i[Y]-.5)*360)%360;jK.gH(this.value,C,m)};jg.hue2.prototype.IM=function(){return!0};
jg.hue2.prototype.a2h=function(){var i=this.S3.h().indexOf(!0),C=this.lI.h().indexOf(!0);return i!=-1?i:C!=-1?C+1:-1};
jg.hue2.prototype.k7=function(i,C,m,e,z){var L=this.a2h();if(L==-1)return;var l=this.value;this.value=ft.TQ("hue2");
this.Lb();var x=$.U3.bl(i,z,1,null,!0);this.c(l);var S=[x>>>16&255,x>>>8&255,x&255],k=I.wK(S[0]/255,S[1]/255,S[2]/255);
if(L==0){this.Kt.c(1+Math.round(k.bB*6)%6)}else{var f=this.XF(),X=.5+k.bB,o=1/12,A=f[1],P=f[2];if(P<A){P++;
if(X<A&&X+1-P<A-X)X++}var F=A<=X&&X<=P;if(L==1){A=X-o/2;P=X+o/2}else if(L==2&&!F){A=Math.min(X,A);P=Math.max(X,P)}else if(L==3&&F){if(X-A<P-X)A=X;
else P=X}f=[A-o,A,P,P+o];this.axV(f)}this.Lb();this.lO=z.x;this.aeq=this.gw.h()};jg.hue2.prototype.ct=function(i,C,m,e,z){var L=this.a2h();
if(L==-1)return;if(L==0){if(this.lO!=null){var l=z.x-this.lO;l=Math.max(-100,Math.min(100,this.aeq+.5*l));
this.gw.c(l);this.a7h()}}};jg.hue2.prototype.$d=function(i,C,m,e,z){this.lO=null};jg.hue2.prototype.c=function(i){this.value=JSON.parse(JSON.stringify(i));
var C=this.value.Clrz?this.value.Clrz.v:!1;this.y6[C?1:0]=jK.t1(this.value,0);this.ZT()};jg.hue2.prototype.h=function(i){return JSON.parse(JSON.stringify(this.value))};
jg.levl=function(){function i(){jg.call(this);this.value=null;this.KW=null;this.kF=[new b5(0,0),new b5(0,0),new b5(0,0),new b5(0,0),new b5(0,0)];
this.Aq=-1;this.gW=this.Pd.bind(this);this.H$=this.I7.bind(this);var C=this.n;this.EK=new ib([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.EK.k(v.E.p,this.ZT,this);C.appendChild(this.EK.n);this.x0=new hr;this.x0.parent=this;this.x0.k(v.E.p,this.qD,this);
C.appendChild(this.x0.n);var m=d.t("div","");C.appendChild(m);var e=d.t("div","");C.appendChild(e);this.B2=d.t("canvas");
m.appendChild(this.B2);this.Hs=this.B2.getContext("2d");this.Eb=new b5(256,120);this.B2.setAttribute("style","display:block");
d.o$(this.B2);d.h_(this.B2,this.hk.bind(this));this.$W=d.t("canvas","");e.appendChild(this.$W);this.tE=this.$W.getContext("2d");
this.gf=new b5(this.Eb.x,40);this.$W.setAttribute("style","display:block");d.o$(this.$W);d.h_(this.$W,this.aBX.bind(this));
var z=this.tn=[];for(var Y=0;Y<5;Y++){var L=new kz(null,null,3);z.push(L);L.k(v.E.p,this.afM,this);(Y<2||Y==4?m:e).appendChild(L.n)}m.appendChild(z[1].n);
this.S3=new as("Sample from image",iw.XA(["#000000","#888888","#ffffff"]),!0,null,!0);this.S3.k(v.E.p,this.y0,this);
C.appendChild(this.S3.n);this.Oh(250,100)}i.prototype=new jg;i.prototype.qD=function(){var C=this.x0.h(),m=this.KW,e=this.value,z=I.avn(C,m);
for(var Y=0;Y<4;Y++){var L=z[Y][0],l=z[Y][1],x=z[Y][2],S=[I.$l.$z(L,0,!0),I.$l.$z(l,255,!0)];if(x!=null)S.splice(1,0,I.$l.$z(128,x,!0));
var k=[~~L,~~l,0,255,x==null?100:~~(100+.75*100*(x-128)/128)];ao.gH(e,Y,k)}this.ZT();this.Lb()};i.prototype.Oh=function(C,m){C+=6;
this.Eb.x=this.gf.x=C;d.Ay(this.B2,C,this.Eb.y,this.Hs);d.Ay(this.$W,C,this.gf.y,this.tE);var e=this.tn;
e[3].n.setAttribute("style","margin-left: "+(C-104)+"px");e[4].n.setAttribute("style","margin: 0 "+(C/2-74)+"px");
if(this.value)this.ZT()};i.prototype._=function(){this.EK._()};i.prototype.afM=function(C){var m=[];
for(var Y=0;Y<5;Y++){var e=255,z=1;if(Y==4){e=999;z=100}var L=parseFloat(this.tn[Y].h());m[Y]=Math.max(0,Math.min(e,L*z))}ao.gH(this.value,this.EK.h(),m);
this.ZT();this.Lb()};i.prototype.ZT=function(C){var m=this.Eb.x,e=this.Eb.y,z=this.EK.h(),L=this.Hs;
L.clearRect(0,0,m,e);L.fillStyle="#cccccc";L.fillRect(8,8,m-16,e-16-8);if(this.KW){var l=this.KW[0].slice(0),P=0;
if(z==0){l.fill(0);var x=JSON.parse(JSON.stringify(this.value));ao.gH(x,0,[0,255,0,255,100]);var S=fp.QV("levl",x),k=[S.$C,S.ry,S.Vq];
for(var f=0;f<3;f++){var X=this.KW[1+f],o=k[f];for(var Y=0;Y<256;Y++)l[o[Y]]+=X[Y]}}var A=z==0?l:this.KW[z];
for(var Y=0;Y<A.length;Y++)P+=A[Y];L.fillStyle="#333333";L.beginPath();L.moveTo(8,e-16);for(var Y=0;
Y<256;Y++){var F=55*A[Y]/P;L.lineTo(8+Y/256*(m-16),Math.max(8,e-16-e*F))}L.lineTo(m-8,e-16);L.closePath();
L.fill()}var n=ao.t1(this.value,z);for(var Y=0;Y<5;Y++)this.tn[Y].c(n[Y]/(Y==4?100:1));this.kF[0].zy(8+n[0]/255*(m-16),e-14);
this.kF[1].zy(8+n[1]/255*(m-16),e-14);var R=Math.log(n[4]/100)/Math.log(9.99);R=.5-R/2;this.kF[4].zy(this.kF[0].x+R*(this.kF[1].x-this.kF[0].x),e-14);
this.Tc(L,this.kF[0],"#000000");this.Tc(L,this.kF[1],"#ffffff");this.Tc(L,this.kF[4],"#777777");var m=this.gf.x,e=this.gf.y;
L=this.tE;L.clearRect(0,0,m,e);var Q=L.createLinearGradient(0,0,m-16,0);Q.addColorStop(0,"black");Q.addColorStop(1,"white");
L.fillStyle=Q;L.fillRect(8,8,m-16,16);this.kF[2].zy(8+n[2]/255*(m-16),e-14);this.kF[3].zy(8+n[3]/255*(m-16),e-14);
this.Tc(L,this.kF[2],"#000000");this.Tc(L,this.kF[3],"#ffffff")};i.prototype.Tc=function(C,m,e){C.fillStyle=e;
C.fillRect(m.x-5,m.y,10,10)};i.prototype.hk=function(C){var m=d.CV(C,this.B2),e=this.axb([0,1,4],m);
if(e!=-1)this.Aq=e;this.avJ()};i.prototype.aBX=function(C){var m=d.CV(C,this.$W),e=this.axb([2,3],m);
if(e!=-1)this.Aq=e;this.avJ()};i.prototype.axb=function(C,m){var e=-1,z=1e9;for(var Y=0;Y<C.length;Y++){var L=Math.abs(this.kF[C[Y]].x-m.x);
if(L<z){z=L;e=C[Y]}}return z<16?e:-1};i.prototype.avJ=function(C){if(this.Aq==-1)return;d.AX(document.body,this.gW);
d.xd(document.body,this.H$)};i.prototype.Pd=function(C){var m=ao.t1(this.value,this.EK.h()),e=d.CV(C,this.Aq==2&&this.Aq==3?this.$W:this.B2),z=255*(e.x-8)/(this.Eb.x-16);
z=Math.max(0,Math.min(255,z));if(this.Aq==0)z=Math.min(z,m[1]-2);if(this.Aq==1)z=Math.max(z,m[0]+2);
if(this.Aq!=4)m[this.Aq]=Math.round(z);else{var L=(z-m[0])/(m[1]-m[0]);L=1-2*L;L=Math.pow(9.99,L);m[4]=Math.min(999,Math.max(10,Math.round(L*100)))}ao.gH(this.value,this.EK.h(),m);
this.ZT();this.Lb()};i.prototype.I7=function(C){d.nz(document.body,this.gW);d.uh(document.body,this.H$);
this.Aq=-1};i.prototype.IM=function(){return!0};i.prototype.$d=function(C,m,e,z,L){var l=this.value,x=this.S3.h().indexOf(!0);
if(x==-1)return;this.value=ft.TQ("levl");this.Lb();var S=$.U3.bl(C,L,1,null,!0),k=[S>>>16&255,S>>>8&255,S&255];
for(var Y=0;Y<3;Y++){var f=ao.t1(l,1+Y);if(x==0)f[0]=k[Y];if(x==1){var X=Math.log(k[Y]/255)/Math.log((k[0]+k[1]+k[2])*.333/255);
f[4]=Math.min(999,Math.max(10,Math.round(100*X)))}if(x==2)f[1]=k[Y];ao.gH(l,1+Y,f)}this.c(l);this.Lb()};
i.prototype.c=function(C){this.value=C;this.ZT()};i.prototype.Sw=function(C){this.KW=C;this.ZT()};i.prototype.h=function(C){return JSON.parse(JSON.stringify(this.value))};
return i}();jg.phfl=function(){jg.call(this,"phfl");this.rL.push(new hv);this.rL.push(new jp([12,74],0,100,"%"));
this.rL.push(new em([13,4]));this.oG()};jg.phfl.prototype=new jg;jg.phfl.prototype.rV=function(i,C){C[0]=i.Clr.v;
C[1]=i.Dnst.v;C[2]=i.PrsL.v};jg.phfl.prototype.Ll=function(i,C){var m=I.I.oq(C[0]),e=i.Clr.v,z=I.ao(m.Z,m.r,m.e);
e.Lmnc.v=z.nJ;e.A.v=z.W;e.B.v=z.e;i.Dnst.v=C[1];i.PrsL.v=C[2]};jg.vibA=function(){jg.call(this,"vibA");
this.rL.push(new jp([12,13],-100,100,null));this.rL.push(new jp([12,9],-100,100,null));this.oG()};jg.vibA.prototype=new jg;
jg.vibA.prototype.rV=function(i,C){C[0]=i.vibrance?i.vibrance.v:0;C[1]=i.Strt?i.Strt.v:0};jg.vibA.prototype.Ll=function(i,C){i.vibrance.v=C[0];
i.Strt.v=C[1]};jg.thrs=function(){jg.call(this,"thrs");this.rL.push(new jp([4,13],1,255,null));this.oG()};
jg.thrs.prototype=new jg;jg.thrs.prototype.rV=function(i,C){C[0]=i.Lvl.v};jg.thrs.prototype.Ll=function(i,C){i.Lvl.v=C[0]};
jg.mixr=function(){jg.call(this);var i=this.n;this.I8=[];this.hK=null;this.Kt=new ib([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aoT=!1;this.Kt.k(v.E.p,this.ec,this);i.appendChild(this.Kt.n);d._Z(i);this.bg=new em([12,60]);i.appendChild(this.bg.n);
this.bg.k(v.E.p,this.ec,this);for(var Y=0;Y<4;Y++){var C=new jp([[13,1,1],[13,1,4],[13,1,5],[13,2]][Y],-200,200,"%");
C.k(v.E.p,this.ec,this);this.I8.push(C);i.appendChild(C.n)}};jg.mixr.prototype=new jg;jg.mixr.prototype._=function(){this.Kt._();
this.bg._();for(var Y=0;Y<4;Y++)this.I8[Y]._()};jg.mixr.prototype.c=function(i){this.hK=JSON.parse(JSON.stringify(i));
this.__()};jg.mixr.prototype.h=function(i){return JSON.parse(JSON.stringify(this.hK))};jg.mixr.prototype.ec=function(i){if(i.target!=this.Kt){var C=fp.kY(this.hK);
if(i.target==this.bg){C.bg=this.bg.h();if(C.bg)C.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else C.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var m=(C.bg?0:this.Kt.h())*5,Y=this.I8.indexOf(i.target);
C.b[m+(Y<3?Y:4)]=i.target.h()}this.hK=fp.akr(C)}this.__();this.Lb()};jg.mixr.prototype.__=function(){var i=fp.kY(this.hK);
if(i.bg!=this.aoT)this.Kt.bD(i.bg?[[13,1,7]]:fp.HO);this.aoT=i.bg;this.bg.c(i.bg);var C=(i.bg?0:this.Kt.h())*5;
for(var Y=0;Y<4;Y++)this.I8[Y].c(i.b[C+(Y<3?Y:4)])};jg.post=function(){jg.call(this,"post");this.rL.push(new jp([4,1],2,255,null));
this.oG()};jg.post.prototype=new jg;jg.post.prototype.rV=function(i,C){C[0]=i.Lvls.v};jg.post.prototype.Ll=function(i,C){i.Lvls.v=C[0]};
jg.clrL=function(){jg.call(this,"clrL");this.rL.push(new iX("LUTs"));this.oG()};jg.clrL.prototype=new jg;
jg.clrL.prototype.rV=function(i,C){C[0]=i};jg.clrL.prototype.Ll=function(i,C){var m=C[0];for(var e in m)i[e]=m[e]};
jg.clrL.prototype.P6=function(i,C){if(C==dm.cX||C==dm.K1)this.rL[0].dp(i.a0n)};jg.rplc=function(){jg.call(this,"rplc");
this.rL.push(new jp([12,92],0,200));this.rL.push(new hv);this.rL.push(new jp([12,8],-180,180));this.rL.push(new jp([12,9],-100,100));
this.rL.push(new jp([12,10],-100,100));this.oG()};jg.rplc.prototype=new jg;jg.rplc.prototype.rV=function(i,C){C[0]=i.Fzns.v;
C[1]=i.Mxm.v;C[2]=i.H.v;C[3]=i.Strt.v;C[4]=i.Lght.v};jg.rplc.prototype.Ll=function(i,C){function m(z,L){L.Lmnc.v=z.nJ;
L.A.v=z.W;L.B.v=z.e}i.Fzns.v=C[0];i.H.v=C[2];i.Strt.v=C[3];i.Lght.v=C[4];var e=I.I.oq(C[1]),z=I.ao(e.Z,e.r,e.e);
m(z,i.Mnm.v);m(z,i.Mxm.v)};jg.fade=function(){jg.call(this,"fade");this.rL.push(new jp([12,0],0,100,"%"));
this.rL.push(new ib([12,19,0],aw.jI,aw._g));this.oG()};jg.fade.prototype=new jg;jg.fade.prototype.rV=function(i,C){C[0]=i.Opct.v.val;
C[1]=aw.W5.indexOf(i.Md.v.BlnM)};jg.fade.prototype.Ll=function(i,C){i.Opct.v.val=C[0];i.Md.v.BlnM=aw.W5[C[1]]};
jg.aply=function(){var i=aw.W5.concat(["Add","Sbtr"]);i.splice(21,1);var C=aw.jI.concat([[15,10,28],[15,10,21]]);
C.splice(21,1);var m=aw._g.slice(0);m[4]--;function e(){jg.call(this,"aply");this.rL.push(new ib([0,3],[]));
this.rL.push(new ib([12,4],["RGB"].concat(fp.HO).concat(["Transparency"])));this.rL.push(new em([4,11]));
this.rL.push(new ib([12,19,0],C,m));this.rL.push(new jp([12,0],0,100,"%"));this.rL.push(new db([12,38],1,2,null,2));
this.rL.push(new db([12,6],-255,255));this.rL.push(new em([13,5]));this.oG([2]);this.R_=null}e.prototype=new jg;
e.prototype.rV=function(z,L,l){if(l){var x=l[2].M,S=this.R_=[];for(var Y=0;Y<x.length;Y++){var k=x[Y].getName();
S.push(k.length<30?k:k.slice(0,27)+"...")}S.reverse();this.rL[0].bD([[5,7]].concat(S),[1,S.length])}else var S=this.R_;
z=z.With.v;var f=z.T.v;L[0]=f[1].t=="name"?1+S.indexOf(f[1].v.val):0;L[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(f[0].v.enum);
L[2]=z.Invr.v;var X=z.Clcl.v.Clcn;L[3]=i.indexOf(X);L[4]=z.Opct.v.val;L[5]=z.Scl.v;L[6]=z.Ofst.v;L[7]=z.PrsT.v};
e.prototype.Ll=function(z,L){z=z.With.v;var l=z.T.v;if(L[0]==0)l[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else l[1]={t:"name",v:{classID:"Lyr",val:this.R_[L[0]-1]}};l[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][L[1]];
z.Invr.v=L[2];var x=z.Clcl.v.Clcn=i[L[3]];z.Opct.v.val=L[4];z.Scl.v=L[5];z.Ofst.v=L[6];z.PrsT.v=L[7];
var S=x=="Add"||x=="Sbtr";this.rL[5].wo(S);this.rL[6].wo(S)};return e}();jg.matc=function(){var i,C,m=0;
function e(){jg.call(this,"matc");this.rL.push(new jp("Luminance",1,200));this.rL.push(new jp("Color Intensity",1,200));
this.rL.push(new jp([2,11],0,100,"%"));this.rL.push(new em("Neutralize"));this.rL.push(new ib([12,70],[]));
this.rL.push(new ib([0,3],[]));this.oG([2])}function z(L,l){L.rL[5].bD([[5,7]].concat(l),[1,l.length])}e.prototype=new jg;
e.prototype.rV=function(L,l,x){m=0;l[0]=L.Lght.v;l[1]=L.ClrR.v;l[2]=L.Fade.v;l[3]=L.neutralizeColor?L.neutralizeColor.v:!1;
l[4]=l[5]=0;var S=L.Srce;if(S)S=S.v;if(x){i=[];C=[];var k=x[2],f=x[3];for(var Y=0;Y<f.length;Y++){var X=f[Y];
i.push(X.name);var o=X.M,A=[];C.push(A);for(var P=0;P<o.length;P++)A.push(o[P].getName());A.reverse()}this.rL[4].bD([[13,1,0]].concat(i),[1,i.length]);
var F=f.indexOf(k);if(S)F=i.indexOf(S[1].v.val);z(this,C[F])}if(S){var n=i.indexOf(S[1].v.val);l[3]=m=1+n;
if(S[0].t=="name")l[4]=1+C[n].indexOf(S[0].v.val)}};e.prototype.Ll=function(L,l){L.Lght.v=l[0];L.ClrR.v=l[1];
L.Fade.v=l[2];L.neutralizeColor.v=l[3];if(l[4]==0){L.noReference={t:"bool",v:!0};delete L.Srce}else{if(l[4]!=m){m=l[4];
z(this,C[l[4]-1])}delete L.noReference;var x={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},S=C[l[4]-1];
if(l[5]!=0)x={t:"name",v:{classID:"Lyr",val:S[l[5]-1]}};L.Srce={t:"obj ",v:[x,{t:"name",v:{classID:"Dcmn",val:i[l[4]-1]}}]}}};
return e}();function by(i,C){k5.call(this);if(i==null)return;this.id=C;this.jW=i;this.jz=null;this.n=d.t("div","window "+C);
this.a4A=null;this.GC=d.t("div","whead");this.aeC=d.t("span","wname");this.GC.appendChild(this.aeC);
this.avX=!1;this.n.appendChild(this.GC);this.Gw=this.a0k.bind(this);this.km=this.ax7.bind(this);this.vE=this.avT.bind(this);
d.o$(this.GC);d.h_(this.GC,this.Gw);this.a6O=d.t("span","cross gsicon");this.GC.appendChild(this.a6O);
by.prototype._.call(this);d.xd(this.a6O,this.atc.bind(this));this.body=d.t("div","body");this.n.appendChild(this.body)}by.prototype=new k5;
by.prototype._$=function(){return!1};by.prototype.IM=function(){return!1};by.prototype._=function(){if(this.jW==null)return;
this.aeC.textContent=bC.get(this.jW)};by.prototype.k7=function(i,C,m,e,z){};by.prototype.SB=function(i,C,m,e,z){};
by.prototype.ct=function(i,C,m,e,z){};by.prototype.$d=function(i,C,m,e,z){};by.prototype.mq=function(i,C,m,e,z){};
by.prototype.xC=function(i,C,m,e){if(e.S(jD.RX)&&this.f5)this.f5();if(e.S(jD.Uj)){var z=new eX(v.E.v);
z.W0=!0;$._q.a76(e,z);if(z.data)C.T(z)}};by.prototype.Xu=function(i){return!1};by.prototype.cd=function(i,C){return!0};
by.prototype.bw=function(i,C,m,e){};by.prototype.P6=function(i,C){};by.prototype.Ck=function(i,C){return null};
by.prototype.a1X=function(i){return this.a4A};by.prototype.Oh=function(){};by.prototype.close=function(){this.T(new eX(v.E.ek))};
by.prototype.a0k=function(i){this.jz=d.CV(i,this.n);d.AX(window,this.km);d.xd(window,this.vE)};by.prototype.ax7=function(i){var C=this.n.parentNode,m=d.CV(i,C),e=Math.round(m.x-this.jz.x),z=C.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(m.y-this.jz.y)));
this.a4A=new b5(e,z);this.n.style.left=e+"px";this.n.style.top=z+"px"};by.prototype.avT=function(i){d.nz(window,this.km);
d.uh(window,this.vE)};by.prototype.atc=function(i){if(this.avX){this.f5();return}this.T(new eX("closebtn"));
this.close()};function al(){by.call(this,"About Photopea","aboutpp");var i=d.t("div","flexrow");this.body.appendChild(i);
var C=this.aoW=d.t("img");i.appendChild(C);this.body.setAttribute("style","margin:0; padding:0");var m=this.Kd=d.t("div");
m.innerHTML=al.lA;i.appendChild(m);var e=this.ju=d.t("span");e.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(e)}al.prototype=new by;al.prototype.Ck=function(i,C){return new b5(0,0)};al.prototype.Oh=function(i,C){var m=this.aoW,e=this.Kd,z=this.ju,L=(i+C-42-42)/110;
L=Math.sqrt((i-42)*(C-42))/50;m.setAttribute("style","width:"+i/2+"px; height:"+C+"px; display:block; object-fit:cover;");
e.setAttribute("style","width:"+(i/2-42)+"px; height:"+(C-42)+"px; padding:20px; font-size:"+L+"px;");
z.setAttribute("style","position:absolute;  bottom:10px; right:"+(i/2+10)+"px")};al.prototype._=function(){};
al.prototype.bw=function(i,C,m,e){this.aoW.setAttribute("src","promo/ivan_pp.webp")};al.lA="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function hz(){by.call(this,[0,13,0],"account");this.EV=d.t("div","form scrollable");this.body.appendChild(this.EV);
this.body.style.padding="0";this.yZ=[new hz.mv,new hz.BD("::privacy.html"),new hz.BD(hz.a7G)];for(var Y=0;
Y<this.yZ.length;Y++)this.yZ[Y].parent=this;this.k("showpage",this.aii,this)}hz.prototype=new by;hz.prototype.cd=function(i,C){var m=navigator.onLine;
if(!m)alert("Go online first");return m};hz.prototype.Oh=function(i,C){this.EV.setAttribute("style","width:"+Math.min(i-40,740)+"px;  height:"+(C-38)+"px;  padding:1.5em;");
this.yZ[0].Oh(i,C)};hz.prototype.Ck=function(i,C){return new b5(Math.max(0,Math.min(150,(i-740)/2)),Math.max(0,Math.min(100,(C-500)/2)))};
hz.prototype.aii=function(i){d._l(this.EV);this.EV.scrollTop=0;this.EV.appendChild(this.yZ[i.data.h6].n)};
hz.prototype._=function(){by.prototype._.call(this);for(var Y=0;Y<this.yZ.length;Y++)this.yZ[Y]._()};
hz.prototype.bw=function(i,C,m){if(!navigator.onLine)return;d._l(this.EV);var e=this.yZ[0];this.EV.appendChild(e.n);
e.bw();this._()};hz.prototype.P6=function(i,C){this.bw(null,null,null)};hz.mv=function(){k5.call(this);
this.n=d.t("div");var i=this.n,x,S,f="font-size:1.25em;",X="text-align:center;",A="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",P="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",F="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",R=12;
this.C_=d.t("div");i.appendChild(this.C_);this.Uh=new c1([0,11],!1,null,!0);this.Uh.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Uh.k("click",this.TB,this);i.appendChild(this.Uh.n);this.dm=new c1([0,13,1],!1,null,!0);this.dm.k("click",this.auy,this);
i.appendChild(this.dm.n);this.jg=new c1("Business Terms",!1,null,!0);this.jg.k("click",this.adn,this);
i.appendChild(this.jg.n);var C=d.t("div");C.style.margin="20px 0";i.appendChild(C);var m=["Account Types","Go Premium","Team Settings","Distributors"],e=this.JM=[],z=this.a7s=[],L=this.eo=d.t("div");
i.appendChild(L);for(var Y=0;Y<m.length;Y++){var l=d.t("span");l.textContent=m[Y];C.appendChild(l);e.push(l);
l.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
l.addEventListener("click",this.pT.bind(this));z.push(d.t("div"))}this.pT(0);var k=this.aqJ="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
i=z[0];var S=d.t("table"),o="style=\" "+X+f+" padding-bottom:20px;\"";S.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+F+">\t\t\t\t\t<div "+o+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+F+">\t\t\t\t\t<div "+o+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+P+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
i.appendChild(S);var l=new c1("Go Premium");l.n.setAttribute("style",k+"padding:10px 0;");l.k("click",function(j){this.pT(1)},this);
S.children[0].children[1].children[1].appendChild(l.n);this.Nt=d.t("div");i.appendChild(this.Nt);i=z[1];
var n=this.aDZ=[[10,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.NT=[];for(var Y=0;Y<n.length;Y++)this.NT.push(new c1("Buy: $"+n[Y][0],!1,null,!0));for(var Y=0;
Y<this.NT.length;Y++){this.NT[Y].k("click",this.azb,this)}this.p3=new c1("...",!0);this.p3.n.setAttribute("style",k);
i.appendChild(this.p3.n);S=this.ayU(4,["Single user",this.NT[0],this.NT[1],this.NT[2],"Team of 5",this.NT[3],this.NT[4],this.NT[5],"Team of 20",this.NT[6],this.NT[7],this.NT[8],"Team of 50",this.NT[9],this.NT[10],this.NT[11]]);
i.appendChild(S);this.a4o=new em("I accept",!0,"");i.appendChild(this.a4o.n);this.RF=new c1([0,13,1],!1,null,!0);
this.RF.k("click",this.auy,this);i.appendChild(this.RF.n);this.Qf=new c1("I have a key",!1,null,!0);
this.Qf.n.setAttribute("style",k+" float:right; width:inherit;");this.Qf.k("click",this.azb,this);i.appendChild(this.Qf.n);
i=z[2];this.$h=new gT;this.$h.parent=this;this.$h.k(v.E.p,this.ag,this);i.appendChild(this.$h.n);i=z[3];
this.Xs=new c1("...",!0);this.Xs.n.setAttribute("style",k);i.appendChild(this.Xs.n);S=this.ayU(3,["1000 views/mo",this.NT[R++],this.NT[R++],this.NT[R++],"5000 views/mo",this.NT[R++],this.NT[R++],this.NT[R++],"20000 views/mo",this.NT[R++],this.NT[R++],this.NT[R++]]);
i.appendChild(S);var Q=d.t("p");Q.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
i.appendChild(Q);this.rY=new kz("Domain name (e.g. domain.com)",null,14);i.appendChild(this.rY.n);var s=new c1("Save Domain Settings",!1,null,!0);
s.vG();i.appendChild(s.n);s.k("click",this.ack,this)};hz.mv.prototype=new k5;hz.mv.prototype.pT=function(i){var C=typeof i=="number"?i:this.JM.indexOf(i.target);
for(var Y=0;Y<4;Y++)this.JM[Y].style.opacity=.6;this.JM[C].style.opacity=1;d._l(this.eo);this.eo.appendChild(this.a7s[C])};
hz.mv.prototype.Oh=function(i,C){var m=i<600?"d":" days",e=["30 days","90 days","365 days"];if(i<600)e=["30d","90d","365d"];
var z=this.aDZ;for(var Y=0;Y<z.length;Y++){this.NT[Y]._H("<span>"+e[Y%3]+": <sup>$</sup><big><b>"+z[Y][0]+"</b></big>"+"</span>");
this.NT[Y].n.setAttribute("style",this.aqJ)}};hz.mv.prototype.auy=function(i){var C=new eX("showpage",!0);
C.data={h6:1};this.T(C)};hz.mv.prototype.adn=function(i){var C=new eX("showpage",!0);C.data={h6:2};this.T(C)};
hz.mv.prototype._=function(){this.Uh._H(a8.Vi()?bC.get([0,11]):bC.get([0,10]));this.RF._();this.dm._();
this.jg._()};hz.mv.prototype.ap8=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.Z8,link:"https://www.photopea.com/api/accounts#"+(i.target==this.a78?"teams":"distributors")};
this.T(C)};hz.mv.prototype.am4=function(i){var C=i.currentTarget==this.a2S;this.a2S.c(C);this.atU.c(!C)};
hz.mv.prototype.adb=function(i){var C=this.a2S.h(),m=this.asi.h().trim().toLowerCase(),e=this.abh.value.trim().toLowerCase();
if(m.length>60){alert("Too long email address");return}if(e.length>600){alert("Too many team members");
return}e=e.split(",").join(" ").trim();e=e.replace(/\s+/g," ");if(e=="")e=[];else e=e.split(" ");var z=a8.h0();
if(z==null)z={};if(z.acc==null)z.acc={};z.acc.team={jin:C,ldr:m,mmb:e};a8.Z1(z,this.ag.bind(this));alert("Saved!");
this.bw()};hz.mv.prototype.ack=function(i){var C=this.rY.h().trim();if(!a8.Vi()){alert("You have to log in first.");
return}if(a8.Um()==0){alert("Order a distributor account first.");return}var m=a8.h0();if(m==null)m={};
if(m.acc==null)m.acc={};if(C=="")delete m.acc.dname;else m.acc.dname=C;a8.Z1(m,this.ag.bind(this));alert("Saved!");
this.bw()};hz.mv.prototype.agM=function(i){var C=a8.Op(),Y=this.v2,m=a8.h0();if(m==null)m={};if(m.acc==null)m.acc={};
m.acc.bto=i;a8.Z1(m,function(){});var e=hz.an7(i.split("\n"),C.pmnts[Y]);g_.save(e,"photopea_invoice.pdf")};
hz.mv.prototype.a9S=function(i){var C=a8.Op(),m=a8.h0(),e=m.acc?m.acc.bto:null;if(e==null)e=C.name+"\n"+C.email;
var Y=-1,z=i.target.n.parentNode;while((z=z.previousSibling)!=null)Y++;this.v2=Y;var L=new eX(v.E.H,!0);
L.data={d:v.B.c6,pw:"billto",GZ:e,G$:this.agM.bind(this)};this.T(L)};hz.mv.prototype.bw=function(){this.C_.innerHTML="";
d._l(this.Nt);if(a8.Vi()){var i=a8.Op(),C=i.pmnts;if(i==null)return;this.C_.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+i.name+"</span> "+i.email+" <br/>";
if(C){var m="<h2>Payments</h2>";for(var Y=0;Y<C.length;Y++){var e=C[Y],z=new Date(e[0]*1e3);m+="<div style=\"font-size:1.2em\">"+z.getDate()+". "+(z.getMonth()+1)+". "+z.getFullYear()+" - "+hz.aew(e)+"</div>"}this.Nt.innerHTML=m;
for(var Y=0;Y<C.length;Y++){var L=new c1("Get Invoice",!1,null,!0);L.n.setAttribute("style","float:right");
L.k("click",this.a9S,this);this.Nt.children[Y+1].appendChild(L.n)}}}else{}var l=a8.Vi()&&a8.md();this.p3.n.style.display=l?"block":"none";
if(l){var x,S,k=l;if(k[0]==0){x=a8.aQ(k[1])-Date.now()*(1/1e3);S=k[1][2]==1?"Single User":"Team Of "+k[1][2]}else{x=k[1][1]-Date.now()*(1/1e3);
S="Member of \""+k[1][0]+"\""}this.p3._H("Premium active for "+Math.round(x/(60*60*24))+" more days! ("+S+")")}var f=a8.Vi()&&a8.Um()*1e3>Date.now();
this.Xs.n.style.display=f?"block":"none";if(f){var x=a8.Um()-Date.now()/1e3;this.Xs._H("Distributor active for "+Math.round(x/(60*60*24))+" more days!")}var X=a8.h0();
this.$h.bw();if(X&&X.acc&&X.acc.dname)this.rY.c(X.acc.dname);else this.rY.c("")};hz.mv.prototype.ayU=function(i,C){var m=d.t("table");
if(!0){var e="<table><tr>";for(var Y=0;Y<i;Y++)e+="<th>"+C[Y*4]+"</th>";e+="</tr></table>";m.innerHTML=e;
for(var Y=0;Y<3;Y++){var z=d.t("tr"),L;m.appendChild(z);for(var l=0;l<i;l++){L=d.t("td");L.style.width=Math.round(100/i)+"%";
z.appendChild(L);L.appendChild(C[l*4+1+Y].n)}}}return m};hz.mv.prototype.azb=function(i){var C=this.NT.indexOf(i.currentTarget),e=30,z=1;
if(!a8.Vi()){this.TB();return}if(this.a4o.h()==!1&&C<12){alert("You must accept Terms of Service");return}var m=a8.Vi()&&a8.md();
if(C!=-1){var L=this.aDZ[C];e=L[1];z=L[2]}if(m&&z<1e3){alert("You already have premium.");return}console.log(L,e,z);
if(C==-1){var l=prompt("Please enter your key");if(l!=null){a8.anK(l,this.ag.bind(this));this.Rx()}return}if(e==30&&z==1){var x=confirm("You can have 90 days for $15. Do you still want a 30 days version for $10?");
if(!x)return}a8.order(e,z,this.ag.bind(this));this.Rx()};hz.mv.prototype.ag=function(i){this.bw();this.Rx()};
hz.mv.prototype.TB=function(i){if(a8.Vi()){a8.au5();this.Rx();this.bw(null,null,null)}else a8.TB(this.abO.bind(this))};
hz.mv.prototype.abO=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.ako};this.T(i)};hz.mv.prototype.Rx=function(){var i=new eX(v.E.H,!0);
i.data={d:v.B.aua};this.T(i)};hz.BD=function(i){k5.call(this);this.n=d.t("div");var C=this.n,m=this.awo=new c1([0,13,2],!1,null,!0),e;
m.k("click",this.a7i,this);C.appendChild(m.n);if(i.startsWith("::")){e=d.t("iframe");e.setAttribute("style","width:100%;height:1700px; background-color:white;");
e.setAttribute("src",i.slice(2))}else{e=d.t("div");e.innerHTML=i}C.appendChild(e)};hz.BD.prototype=new k5;
hz.BD.prototype.a7i=function(i){var C=new eX("showpage",!0);C.data={h6:0};this.T(C)};hz.BD.prototype._=function(){this.awo._()};
hz.a7G="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
hz.aew=function(i){var C=i[1]+" days, ";if(i[2]<1e3)return"Photopea Premium ("+C+i[2]+" user"+(i[2]==1?"":"s")+")";
else return"Photopea Distributor ("+C+i[2]+" views/month)"};hz.an7=function(i,C){i=["Bill To:"].concat(i);
var m=new ToPDF,e=595,z=842,L=40,l=18,x=12,S=500,k=100,f=400,F=0;function X(H,q,h,D,T){A.font.Tf=T?"Helvetica-Bold":"Helvetica";
A.ctm=[1,0,0,1,q,h];A.font.Tfs=D?D:x;m.PutText(A,H,0)}function o(H,q,h,D){for(var Y=0;Y<H.length;Y++){X(H[Y],q,h-Y*D,null,Y==0)}}var A=UDOC.getState();
m.StartPage(0,0,e,z);X("INVOICE",e-L-140,z-L-30,30,!0);o(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],L,z-L-40,l);
var P=new Date(C[0]*1e3);o(["Date: "+P.getDate()+". "+(P.getMonth()+1)+". "+P.getFullYear(),"Transaction ID: "+C[4]],e-L-140,z-L-40-l*2,l);
var n=i.join("");for(var Y=0;Y<n.length;Y++)F=Math.max(F,n.charCodeAt(Y));if(F>256){var R=4,Q=d.t("canvas"),s=Q.getContext("2d"),j=0;
s.font=x*R+"px sans-serif";for(var Y=0;Y<i.length;Y++)j=Math.max(j,s.measureText(i[Y]).width);var _=Math.round(j)+20,B=i.length*R*l+20;
Q.width=_;Q.height=B;s.font=x*R+"px sans-serif";for(var Y=0;Y<i.length;Y++){s.font=(Y==0?"bold ":"")+x*R+"px sans-serif";
s.fillText(i[Y],10,(Y+1)*R*l)}document.body.appendChild(Q);var N=new Uint8Array(s.getImageData(0,0,_,B).data.buffer);
A.ctm=[_/R,0,0,B/R,L-10/R,z-L-40-100-B/R];m.PutImage(A,N,_,B);A.ctm=[1,0,0,1,0,0]}else o(i,L,z-L-40-100,l);
A.colr=[.8,.8,.8];A.pth={cmds:["M","L","L","L","Z"],crds:[L,S,e-L,S,e-L,S-l,L,S-l]};m.Fill(A);A.colr=[0,0,0];
var a=[L,S,e-L,S,L,S-l,e-L,S-l,L,S-k,e-L,S-k,L,S,L,S-k,e-L,S,e-L,S-k,f,S,f,S-k],O=[];for(var Y=0;Y<a.length;
Y+=4)O.push("M","L");A.pth={cmds:O,crds:a};m.Stroke(A);X("Order details",L+4,S-14);X(hz.aew(C),L+4,S-l-14);
X("TOTAL:",L+4,S-k-14,null,!0);X("Price",e-L-50,S-14);X(C[3]+" USD",e-L-60,S-l-14);X(C[3]+" USD",e-L-60,S-k-14,null,!0);
X("www.Photopea.com",L,L);X("support@photopea.com",e-L-130,L);m.ShowPage();m.Done();return m.buffer};
function fg(){by.call(this,[11,14],"addguides");this.uS;this.os={Cv:{d5:0}};this.eK=null;var i=d.t("div","form");
this.body.appendChild(i);this.QM=[];this.ms=new iw(null,["Hi"]);i.appendChild(this.ms.n);d._Z(i);this.ms.k(v.E.p,this.PT,this);
this.rw=new kz([22,4,0],null,16);this.rw.k(v.E.p,this.s1,this);this.ap=new kz([22,4,1],null,16);this.ap.k(v.E.p,this.s1,this);
this.tG=new ib(null,I.up._Y);this.tG.k(v.E.p,this.s1,this);i.appendChild(this.rw.n);i.appendChild(this.tG.n);
d._Z(i);i.appendChild(this.ap.n);this.uH=d.KN(this,i);this.k("closebtn",this.Gx,this)}fg.prototype=new by;
fg.prototype.cd=function(i,C){return i!=null};fg.prototype._$=function(){return!0};fg.prototype._=function(){by.prototype._.call(this);
this.rw._();this.ap._();this.tG._();this.uH._()};fg.prototype.P6=function(i,C){var m=i.Cv.d5;this.os.Cv.d5=m;
this.tG.c(m)};fg.prototype.bw=function(i,C){this.uS=i;this.eK=JSON.stringify(i.pR());this.QM=[-1];var m=["Global"],e=i.root.children,z=i.sq();
for(var Y=0;Y<e.length;Y++){var L=e[Y].a;if(L.add.artb){m.push(L.getName());this.QM.push(e[Y].index)}}this.ms.bD(m);
this.ms.c(this.QM.indexOf(z));this.PT()};fg.prototype.PT=function(){var i=this.uS,C=i.pR(),m=this.QM[this.ms.h()],e=[0,0];
if(m!=-1){var z=i.M[m].d3();e=[z.x,z.y]}var L=function(l,x,i,S,k){var f=l[0],X=[];for(var Y=0;Y<f.length;
Y++)if(l[1][Y]==m&&f[Y][0]==x)X.push(I.up.Rd(f[Y][1]-e[x],i.lC,S,k));X.sort(function(o,A){return o-A});
return X.join(", ")};this.rw.c(L(C,1,i,this.os,i.J));this.ap.c(L(C,0,i,this.os,i.m))};fg.prototype.s1=function(i){if(i&&i.currentTarget==this.tG)this.os.Cv.d5=this.tG.h();
else{var C=this.al2(),m=this.uS;m.Kq(C);m.Qq=!0}this.PT()};fg.prototype.al2=function(){var i=this.uS,C=i.pR(),m=this.QM[this.ms.h()],e=[0,0];
if(m!=-1){var z=i.M[m].d3();e=[z.x,z.y]}var L=[];for(var l=0;l<2;l++){var x=l==0?this.ap:this.rw,S=l==0?i.m:i.J,k=x.h().replace(/,/g," ").replace(/  +/g," ").trim(),f=k==""?[]:k.split(" ");
for(var Y=0;Y<f.length;Y++)L.push([l,I.up.atv(f[Y],i.lC,this.os,S)+e[l]])}for(var Y=0;Y<C[0].length;
Y++)if(C[1][Y]==m){C[0].splice(Y,1);C[1].splice(Y,1);Y--}for(var Y=0;Y<L.length;Y++){C[0].push(L[Y]);
C[1].push(m)}return C};fg.prototype.Gx=function(i){var C=this.uS;C.Kq(JSON.parse(this.eK));C.Qq=!0;this.uS=null};
fg.prototype.f5=function(i){this.s1(i);var C=new eX(v.E.v,!0);C.f=$.z_;C.data={d:"gids",rS:JSON.parse(this.eK),Y$:this.uS.pR()};
this.uS=null;this.close();this.T(C)};function f6(i){by.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[i],i);
this.os=null;this.uS=null;var C=d.t("div","form");this.body.appendChild(C);C.setAttribute("style","width:300px");
this.P7=new az("Source Images",!0,!0);C.appendChild(this.P7.n);this.Hm=new ib([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.US=new em("Order images by name");this.US.c(!0);var m=this.aCz=i$.am();for(var Y=0;Y<m.length;Y++)if(i$.AL(m[Y]).yC){m.splice(Y,1);
Y--}m.push("SVG","PDF");this.y1=new ib([12,50],m);this.WS=new cR;this.y1.k(v.E.p,this.uf,this);this.Zv=new ib("Action Set",[]);
this.Zv.k(v.E.p,this.P6,this);this.U7=new ib("Action",[]);if(i=="pdfpres"){C.appendChild(this.Hm.n);
C.appendChild(this.US.n)}else{if(i=="batch"){C.appendChild(this.Zv.n);d._Z(C);C.appendChild(this.U7.n);
d.PG(C)}C.appendChild(this.y1.n);C.appendChild(this.WS.n)}var e=["VAR0 PDF",[1,8]];if(i=="cformat")e="Convert Images";
if(i=="batch")e="Process Images";if(i=="mockups")e="Generate";var z=new c1(e,!0,null,!0);z.k("click",this.LU,this);
C.appendChild(z.n);this.uf()}f6.prototype=new by;f6.prototype.uf=function(i){var C=this.aCz[this.y1.h()];
this.WS.Dk(C)};f6.prototype.LU=function(i){var C=this.P7.h(),m=[],L=595,l=842,P;for(var e in C)m.push(e);
if(m.length==0){alert("No images selected");return}if(this.US.h())m.sort();var z=this.Hm.h(),x=new ToPDF,S=UDOC.getState(),k=this.aCz[this.y1.h()],f=i$.AL(k),X=this.WS.h(),o={},A=this.uS;
if(this.id=="mockups"){if(A==null){alert("Open a document with smart objects");return}var F=A.M[A.g[0]];
if(F.add.SoLd==null){F=null;for(var Y=0;Y<A.M.length;Y++)if(A.M[Y].add.SoLd)F=A.M[Y];if(F==null){alert("There are no smart objects in a current document.");
return}}A.g=[A.M.indexOf(F)];P=F.add.SoLd.Sz.v}for(var n=0;n<m.length;n++){var e=m[n],R=C[e],Q=R[0]==255,s=i$.ra(R.buffer),j=i$.AL(s),_=[{Jw:new j2,data:new ArrayBuffer(0)}],B=null;
if(s=="psd"&&!f.yC)_=gZ.anc(R.buffer);else if(j.yC){B=new ei("file.psd");j.pX(R.buffer,B);B.JJ();if(!f.yC){if(B.qK)b7.LL(B,this.os.FV,this);
B.Y();B.um();_=[{Jw:new j2(0,0,B.m,B.J),data:B.I6().buffer}]}}else _=j.pX(R.buffer);if(this.id=="batch"){var N=new eX(v.E.H,!0),a=this.os,O=a.ai,H=O[this.Zv.h()];
for(var Y=0;Y<_.length;Y++){B=i$.Jd(e,[_[Y]]);N.data={d:v.B.D7,n4:B};this.T(N);if(B.M.length==3)B.g=[1];
h3.a9o(B,O,H.eo[this.U7.h()].jj,H.jj,this);B.Y();B.um();_[Y].Jw=new j2(0,0,B.m,B.J);_[Y].data=B.I6().buffer;
N.data={d:v.B.P4,N7:B};this.T(N)}}if(this.id=="mockups"){var N=new eX(v.E.HW,!0);N.data={o0:"placedLayerEditContents",t6:{classID:"placedLayerEditContents"}};
this.T(N);var q=new Uint8Array(_[0].data),h=_[0].Jw,D=$.V.eX([q,h],new hN(P.Wdth.v/h.m,0,0,P.Hght.v/h.J,0,0)),T=new eX(v.E.v,!0);
T.f=$.bH;T.data={d:cc.dt,JK:{buffer:D.buffer,rect:D.rect}};this.T(T);var N=new eX(v.E.H,!0);N.data={d:v.B.pt};
this.T(N);N.data={d:v.B.P4};this.T(N);_=[{data:A.I6().buffer,Jw:new j2(0,0,A.m,A.J)}];T.data={d:"h_stepbck"};
T.f=$.Z9;this.T(T)}var p=_[0].Jw,y=new Uint8Array(_[0].data),b=p.m,g=p.J;if(this.id=="pdfpres"){var u=[[595,842],[842,595],[595,595],[595,0]][z];
if(z==3)u[1]=Math.round(u[0]*g/b);var L=u[0],l=u[1],t=Math.min(L/b,l/g);x.StartPage(0,0,L,l);S.ctm=[b*t,0,0,g*t,(L-b*t)/2,(l-g*t)/2];
x.PutImage(S,Q?R:y,b,g);x.ShowPage()}else{var V=e.split("."),c;V.pop();V.push(k.toLowerCase());if(f.yC)c=f.B3(B,B.m,B.J,X,this.os);
else{var E=[];for(var Y=0;Y<_.length;Y++){var Z=_[Y],G=Z.CJ,J=0;if(G){G=G.split(",");if(G[1])J=parseInt(G[1])}E.push([Z.data,J,Z.lC,Z.tr,null,Z.H1])}c=f.B3(E,b,g,X)}o[V.join(".")]=new Uint8Array(c)}}if(this.id=="pdfpres"){x.Done();
g_.save(x.buffer,"file.pdf")}else{g_.save(UZIP.encode(o),"images.zip")}};f6.prototype.bw=function(i,C,m,e){this.uS=i};
f6.prototype.P6=function(i,C){if(C!=null){this.os=i;var m=i.ai,e=[];for(var Y=0;Y<m.length;Y++)e.push(m[Y].jj);
this.Zv.bD(e)}else i=this.os;var m=i.ai.length==0?[]:i.ai[this.Zv.h()].eo,e=[];for(var Y=0;Y<m.length;
Y++)e.push(m[Y].jj);this.U7.bD(e)};f6.prototype._=function(){by.prototype._.call(this);this.P7._();this.Hm._();
this.US._()};function jl(i){var C=ft.names[i];if(C==null)C=fp.names[i];if(i=="aply")C=[2,12];if(i=="fade")C=[2,11];
if(i=="matc")C=[4,18];if(i=="blendOptions")C=[14,10];by.call(this,C,"afw_"+i);this.L0=i;this.dh=null;
this.eO=null;this.vT=new jg[i];this.vT.k(v.E.p,this.Lb,this);this.vT.parent=this;this.body.appendChild(this.vT.n);
this.Gq=new em([24,18,5]);this.Gq.c(!0);this.Gq.k(v.E.p,this.Lb,this);this.E1=new c1([1,12,2],!0,null,!0);
this.E1.k("click",this.TK,this);this.uH=d.KN(this);if(this.Px())this.vT.bR(this.uH.n);else{d.uc(this.vT.n,"form");
d.uc(this.body,"flexrow");this.vT.n.setAttribute("style","width:312px");var m=d.t("div");this.body.appendChild(m);
m.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");m.appendChild(this.uH.n);m.appendChild(this.E1.n);
m.appendChild(this.Gq.n)}this.k("closebtn",this.D2,this)}jl.prototype=new by;jl.prototype._$=function(){return!0};
jl.prototype.Px=function(){return this.vT!=null&&this.vT.sX()};jl.prototype.Ck=function(){return this.Px()?new b5(0,0):by.prototype.Ck()};
jl.prototype.Xu=function(i){return this.vT.Xu(i)};jl.prototype.IM=function(){return this.vT.IM()};jl.prototype.k7=function(i,C,m,e,z){this.vT.k7(i,C,m,e,z)};
jl.prototype.ct=function(i,C,m,e,z){this.vT.ct(i,C,m,e,z)};jl.prototype.$d=function(i,C,m,e,z){this.vT.$d(i,C,m,e,z)};
jl.prototype.cd=function(i,C){if(this.L0=="fade")return jl.apY(i);return!0};jl.prototype.TK=function(i){this.vT.c(ft.TQ(this.L0));
this.Lb()};jl.prototype.Lb=function(i){this.gK({d:"edit",qg:this.vT.h(),qk:!this.Gq.h()})};jl.prototype.D2=function(i){this.gK({d:"cancel"})};
jl.prototype.f5=function(i){if(!this.Gq.h()){this.Gq.c(!0);this.Lb()}this.eO=this.vT.h();if(this.Px())this.Lb();
this.gK({d:"confirm"});this.close()};jl.prototype._=function(){by.prototype._.call(this);this.Gq._();
if(this.vT)this.vT._();this.uH._()};jl.prototype.P6=function(i,C){if(this.vT)this.vT.P6(i,C)};jl.prototype.xC=function(i,C,m,e){if(this.Px())this.vT.xC(e);
else by.prototype.xC.call(this,i,C,m,e)};jl.prototype.bw=function(i,C,m,e){this.dh=C.dh;var z=i.add.lnk2?i.add.lnk2:[],L,l,x=new j2(0,0,i.m,i.J),S=i.M[i.g[0]],f=null;
L=S.buffer;l=S.rect;var k=i.u&&this.L0=="LqFy"&&C.dh==null;if(k){l=i.u.rect.clone();L=I.R(l.P()*4);I.fF(S.buffer,S.rect,L,l)}if(this.Px()){f=i.I6(i.g[0]-1);
if(k){var X=I.R(l.P()*4);I.fF(f,x,X,l);x=l.clone();f=X}}var o=ft.TQ(this.L0),A=[z,i.T3,i,m];if(C.dh==null){this.vT.c(o,L,l,x,f,A);
if(fp.names[this.L0]){if(e.S(jD.rb)&&this.eO)this.vT.c(this.eO);var P=$.q7.getData(i),F=I.so(P[0].Jg);
this.vT.Sw(F)}}else{var n=!1,S=i.M[this.dh.a];if(S.k_()){var R=S.x6(i);L=R.buffer;l=R.rect;var Q=S.add.SoLd.filterFX.v.filterFXList.v;
if(Q[this.dh.index]){var s=Q[this.dh.index].v;this.vT.c(this.L0=="blendOptions"?s.blendOptions.v:s.Fltr.v,L,l,x,f,A);
this.vT.Sw(I.so(L));n=!0}}if(!n){this.vT.c(o,L,l,x,f,A);this.vT.Sw(I.so(L))}}if(!this.Px()){this.Lb();
var j=this.vT;if(j&&j.rL&&j.rL[0]&&j.rL[0].CQ&&Math.min(window.innerWidth,window.innerHeight)>500)j.rL[0].CQ()}};
jl.prototype.gK=function(i){var C=new eX(v.E.v,!0);i.L0=this.L0;i.dh=this.dh;if(this.L0=="VaPo"){i.b=this.vT.h();
i.FY=this.vT.aje()}C.data=i;C.f=ft.names[this.L0]||this.dh?$.uz:$.vR;C.W0=!0;this.T(C)};jl.prototype.Oh=function(i,C){if(!this.vT.sX()){}else{this.body.style.padding="0";
this.vT.Oh(i,C)}};jl.apY=function(i){if(i==null)return!1;var C=i.$K();if(C==null||!(C.data instanceof Array)||C.data.length!=i.g.length)return!1;
for(var Y=0;Y<C.data.length;Y++){var m=C.data[Y];if(m.a<0&&i.T3[-1-m.a])return!0;if(m.a==null||i.M[m.a]==null||i.M[m.a].ii!=m.F$)return!1;
if(i.g.indexOf(m.a)==-1)return!1}return!0};function br(){by.call(this,[11,0],"camera");this.data=null;
this.rv=new b5(1,1);this.afy=[];var i=d.t("div","form hbar");this.body.appendChild(i);this.a4a=new ib(null,[]);
this.wd=new ib([21,0],[[21,2],[21,1]]);i.appendChild(this.wd.n);this.nC=new ib(null,[]);this.nC.k(v.E.p,this.abu,this);
i.appendChild(this.nC.n);this.hm=new c1([11,0],!1,null,!0);this.hm.k("click",this.afR,this);i.appendChild(this.hm.n);
this.AJ=new bd("");i.appendChild(this.AJ.n);this.stream=null;this.oL=d.t("video","");this.oL.setAttribute("autoplay","true");
this.body.appendChild(this.oL);this.aq1=this.a1S.bind(this);this.aiE=this.aDi.bind(this);this.aD3=this.ajl.bind(this);
this.k("closebtn",this.a69,this)}br.prototype=new by;br.prototype._=function(){by.prototype._.call(this);
this.wd._();this.hm._();this.Oh(this.HG,this.bB)};br.prototype.I6=function(){var i=this.oL.videoWidth,C=this.oL.videoHeight,m=d.t("canvas","");
m.width=i;m.height=C;var e=m.getContext("2d");e.drawImage(this.oL,0,0,i,C);var z=e.getImageData(0,0,i,C);
return{Jw:new j2(0,0,i,C),data:z.data.buffer}};br.prototype.afR=function(i){if(this.wd.h()==0)this.adr();
else this.a1x()};br.prototype.a1x=function(){var i=this.I6(),C={buffer:new Uint8Array(i.data),rect:i.Jw},m=new eX(v.E.v,!0);
m.W0=!0;m.f=$.bH;m.data={d:cc.dt,JK:C};this.T(m);alert(bC.get([21,4]))};br.prototype.adr=function(){var i=this.I6(),C=i$.Jd("camera",[i]),m=new eX(v.E.H,!0);
m.data={d:v.B.D7,n4:C};this.T(m);alert(bC.get([21,5]))};br.prototype.bw=function(i,C,m){navigator.mediaDevices.enumerateDevices().then(this.aBk.bind(this))};
br.prototype.aBk=function(i){var C=this.afy=[],m=[];for(var Y=0;Y<i.length;Y++)if(i[Y].kind=="videoinput"){C.push(i[Y]);
m.push("Camera "+C.length)}this.nC.bD(m);this.nC.c(0);this.abu()};br.prototype.abu=function(i){this.a69();
var C={video:{deviceId:this.afy[this.nC.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(C).then(this.aq1).catch(this.aiE);
else navigator.webkitGetUserMedia(C,this.aq1,this.aiE)};br.prototype.a1S=function(i){this.stream=i;this.oL.srcObject=i;
this.oL.addEventListener("loadedmetadata",this.aD3,!1)};br.prototype.ajl=function(i){this.oL.play();
this.Oh(this.HG,this.bB)};br.prototype.Ck=function(i,C){return new b5(0,0)};br.prototype.Oh=function(i,C){var m=this.oL.videoWidth,e=this.oL.videoHeight;
this.AJ.c(m+" x "+e+" px");this.AJ.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.rv.zy(m,e);this.HG=i;this.bB=C;var z=i-28,L=C-28-30,l=this.rv.x/this.rv.y;if(z/L>l)z=L*l;else L=z/l;
this.oL.setAttribute("style","display: block; width: "+Math.round(z)+"px; height:"+Math.round(L)+"px;")};
br.prototype.aDi=function(i){console.log("error",i);alert(bC.get([21,6]));this.close()};br.prototype.a69=function(i){if(this.stream!=null){var C=this.stream.getTracks();
for(var Y=0;Y<C.length;Y++)C[Y].stop();this.stream=null}};function aI(){by.call(this,[7,8],"crange");
this.uS=null;this.gJ={nJ:73,W:4.45,e:4};this.aW={nJ:73,W:4.45,e:4};this.body.style.width="20em";this.px=new ib([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.px.k(v.E.p,this.a3l,this);this.body.appendChild(this.px.n);this.lA=d.t("div","form");this.body.appendChild(this.lA);
var i=this.a55=2,C=this.ea=[new jp([12,92],0,200),new iw([12,36],[[18,0],"\uFF0B","-"]),new jp([12,92],0,100,"%"),new db("Min",0,255),new db("Max",0,255)];
C[0].c(40);C[i].c(40);for(var Y=0;Y<C.length;Y++){C[Y].k(v.E.p,this.__,this);C[Y].parent=this}this.B2=d.t("canvas");
this.body.appendChild(this.B2);this.uH=d.KN(this,this.body)}aI.prototype=new by;aI.prototype.cd=function(i,C){return i!=null};
aI.prototype.IM=function(){return!0};aI.prototype._$=function(){return!0};aI.prototype.a3l=function(i){var C=this.px.h(),m=this.ea,e=this.lA,z=0,L=m.length,l=this.a55;
if(C==0)L=l;else{z=l;m[z+1].c([0,100,190][C-1]);m[z+1].wo(C!=1);m[z+2].c([60,150,255][C-1]);m[z+2].wo(C!=3)}d._l(e);
for(var Y=z;Y<L;Y++){e.appendChild(m[Y].n)}this.__()};aI.prototype._=function(){by.prototype._.call(this);
this.uH._();this.px._();for(var Y=0;Y<this.ea.length;Y++)this.ea[Y]._()};aI.prototype.k7=function(i,C,m,e,z){var L=i.q.yy(z.x,z.y);
this.a4u(L.x,L.y)};aI.prototype.a4u=function(i,C){var m=Math.min,e=Math.max,z=this.uS,L=e(0,m(z.m-1,Math.floor(i))),l=e(0,m(z.J-1,Math.floor(C))),x=z.I6(),S=(l*z.m+L)*4,k=x[S],f=x[S+1],X=x[S+2],o=I.ao(k,f,X),A=this.ea[1].h(),P=this.gJ,F=this.aW;
if(A==0){this.gJ=JSON.parse(JSON.stringify(o));this.aW=o}else if(A==1){P.nJ=m(P.nJ,o.nJ);P.W=m(P.W,o.W);
P.e=m(P.e,o.e);F.nJ=e(F.nJ,o.nJ);F.W=e(F.W,o.W);F.e=e(F.e,o.e)}else if(A==2){var n=(P.nJ+F.nJ)/2,R=(P.W+F.W)/2,Q=(P.e+F.e)/2;
if(o.nJ<n)P.nJ=e(P.nJ,o.nJ+10);else F.nJ=m(F.nJ,o.nJ-10);if(o.W<R)P.W=e(P.W,o.W+1);else F.W=m(F.W,o.W-1);
if(o.e<Q)P.e=e(P.e,o.e+1);else F.e=m(F.e,o.e-1)}this.__()};aI.prototype.f5=function(i){var C=this.px.h(),m=this.ea,e={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(C==0){var z=this.gJ,L=this.aW;e.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:z.nJ},A:{t:"doub",v:z.W},B:{t:"doub",v:z.e}}};
e.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:L.nJ},A:{t:"doub",v:L.W},B:{t:"doub",v:L.e}}};e.Fzns={t:"long",v:m[0].h()}}else{C--;
var l=["shadows","midtones","highlights"][C];e.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][C]}};if(0<C)e[l+"LowerLimit"]={t:"long",v:m[3].h()};
if(C<2)e[l+"UpperLimit"]={t:"long",v:m[4].h()};e[l+"Fuzziness"]={t:"long",v:m[2].h()}}this.close();var x=new eX(v.E.HW,!0);
x.data={o0:"colorRange",t6:e};this.T(x)};aI.prototype.bw=function(i,C){this.uS=i;this.a4u(0,0);this.a3l()};
aI.prototype.__=function(){var i=this.uS,C=this.px.h(),m=this.gJ,e=this.aW,z=this.ea,L=z[0].h()/200,l=!1;
if(C>0){m=z[3].h();e=z[4].h();if(m>=e)m=e-1;l=!0;L=z[2].h()/100}var x=$.Z3.uW(i,m,e,L,l),S=x.rect,k=x.channel,f=this.B2,X=f.getContext("2d"),o=Math.floor(230*d.XP()),A=Math.floor(o*(S.J/S.m));
f.width=o;f.height=A;d.n9(f,o,A);var P=I.R(k.length*4);I.eS(P,4294967295);for(var Y=0;Y<3;Y++)I.uC(k,P,Y);
var F=$.V.eX([P,S],new hN(o/S.m,0,0,A/S.J,0,0)),n=F.rect,R=new ImageData(new Uint8ClampedArray(F.buffer.buffer),n.m,n.J);
X.putImageData(R,0,0)};function kE(){by.call(this,[12,76,1],"createshape");this.CT=null;var i=d.t("div","form");
i.setAttribute("style","width:20em");this.body.appendChild(i);this.xj=new ap(!0,!0,null,!0,!0);this.xj.c(new b5(100,100));
i.appendChild(this.xj.n);this.Lx=new em([19,5,3]);i.appendChild(this.Lx.n);this.uH=d.KN(this,i)}kE.prototype=new by;
kE.prototype.f5=function(i){var C=this.xj.h();this.CT.al7(this.CT.apB,C.x,C.y,this.Lx.h());this.close()};
kE.prototype._=function(){if(this.CT)this.jW=bC.get([5,3])+": "+bC.get(this.CT.aC1);by.prototype._.call(this);
this.uH._();this.xj._();this.Lx._()};kE.prototype.bw=function(i,C){this.CT=C;this._();this.xj.c(this.xj.h(),i.lC)};
function hp(){by.call(this,[11,1],"colorpicker");this.o8=null;this.Uw=null;this.Rr=null;this.DB=!1;this.dG=!1;
this.ae$=[.9642,1,.8249];var i=d.t("div","flexrow"),l,x;this.body.appendChild(i);this.HI=new hZ(256,!0);
this.HI.k(v.E.p,this.ed,this);i.appendChild(this.HI.n);var C=d.t("div","form");C.setAttribute("style","width:14.5em; margin-left:1em;");
i.appendChild(C);var m=d.t("div","flexrow");C.appendChild(m);var e=d.t("div");m.appendChild(e);e.style="width:95px; margin-right:14px";
this.af5=d.t("div","full");e.appendChild(this.af5);this.aCd=d.t("div","full");e.appendChild(this.aCd);
var e=d.t("col");m.appendChild(e);e.style.width="80px";this.uH=d.KN(this,e);var m=d.t("div","flexrow");
C.appendChild(m);var z=d.t("div"),L=d.t("div");m.appendChild(z);m.appendChild(L);z.style=L.style="margin-left:14px; max-width:80px;";
l=["H","S","B"];x=z;this.E9=[];for(var Y=0;Y<3;Y++){var S=0,k=360,f="\xB0";if(Y!=0){k=100;f="%"}var X=new db(l[Y],S,k,f,0,!1,!0);
this.E9.push(X);X.k(v.E.p,this.azm,this);x.appendChild(X.n);if(Y==2)X.n.style.marginBottom="8px"}l=["R","G","B"];
x=z;this.PE=[];for(var Y=0;Y<3;Y++){var X=new db(l[Y],0,255,null,0,!1,!0);this.PE.push(X);X.k(v.E.p,this.aAu,this);
x.appendChild(X.n)}l=["L","a","b"];x=L;this.D0=[];for(var Y=0;Y<3;Y++){var S=[0,-128,-128][Y],k=[100,127,127][Y],X=new db(l[Y],S,k,null,0,!1,!0);
X.c(0);this.D0.push(X);X.k(v.E.p,this.alZ,this);x.appendChild(X.n);if(Y==2)X.n.style.marginBottom="8px"}l=["C","M","Y","K"];
x=L;this.oT=[];for(var Y=0;Y<4;Y++){var X=new db(l[Y],0,100,"%",0,!1,!0);X.c(0);this.oT.push(X);X.k(v.E.p,this.ae7,this);
x.appendChild(X.n);if(Y==3)X.n.style.marginBottom="8px"}this.rw=new kz("#",null,4.5);this.rw.k(v.E.p,this.yi,this);
z.appendChild(this.rw.n);this.rw.n.style.marginRight="0";this.fX=d.t("input","fitem");this.fX.setAttribute("type","color");
this.fX.setAttribute("style","width:59px;  margin-left:19px;");this.fX.addEventListener("change",this.yi.bind(this),!1);
this.cx=new eG(9);this.cx.k(v.E.p,this.yi,this);C.appendChild(this.cx.n);this.k("closebtn",this.D2,this);
this.eY=!1}hp.prototype=new by;hp.prototype.IM=function(){return!0};hp.prototype.Ck=function(i,C){if(Math.min(i,C)>500)return null;
return new b5(Math.max(0,Math.min(150,(i-484)/2)),Math.max(0,Math.min(150,(C-316)/2)))};hp.prototype.Oh=function(i,C){this.HI.Oh(Math.min(256,i-226),C)};
hp.prototype._=function(i,C){by.prototype._.call(this);for(var Y=0;Y<3;Y++){this.PE[Y]._();this.E9[Y]._();
this.D0[Y]._()}for(var Y=0;Y<4;Y++)this.oT[Y]._();this.uH._()};hp.prototype.ed=function(i){this.Uw=this.HI.h();
this.update()};hp.prototype.k7=function(i,C,m,e,z){this.eY=!0;this.axs(i,z)};hp.prototype.ct=function(i,C,m,e,z){if(!this.eY)return;
this.axs(i,z)};hp.prototype.$d=function(i,C,m,e,z){this.eY=!1};hp.prototype.axs=function(i,C){var m=$.U3.bl(i,C,1),e=m&255,z=m>>8&255,L=m>>16&255;
this.Uw={Z:L/255,r:z/255,e:e/255};this.update()};hp.prototype.aAu=function(i){var C=this.PE,m=this.uI(parseInt(C[0].h())),e=this.uI(parseInt(C[1].h())),z=this.uI(parseInt(C[2].h()));
this.Uw={Z:m/255,r:e/255,e:z/255};this.update()};hp.prototype.azm=function(i){var C=this.E9,m=this.R9(parseInt(C[0].h())/360),e=this.R9(parseInt(C[1].h())/100),z=this.R9(parseInt(C[2].h())/100);
this.Uw=I.Aj(m,e,z);this.update()};hp.prototype.ae7=function(i){var C=this.oT,m=[];for(var Y=0;Y<4;Y++){var e=this.a53(parseInt(C[Y].h()));
C[Y].c(e);m.push(e/100)}var z=I.gO(m);this.Uw={Z:z[0],r:z[1],e:z[2]};this.update(!0)};hp.prototype.alZ=function(i){var C=this.D0,m=parseInt(C[0].h()),e=parseInt(C[1].h()),z=parseInt(C[2].h()),L=I.xQ(m,e,z);
this.Uw={Z:L.Z/255,r:L.r/255,e:L.e/255};this.update()};hp.prototype.yi=function(i){var C;if(i.currentTarget==this.cx)C=this.cx.h();
else{C=i.currentTarget==this.rw?this.rw.h():this.fX.value;if(C.charAt(0)=="#")C=C.slice(1);if(C.length==3)C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2];
C=I.az5(C)}this.Uw={Z:(C>>16&255)/255,r:(C>>8&255)/255,e:(C&255)/255};this.update()};hp.prototype.Pq=function(i){var C=i.Z,m=i.r,e=i.e;
return Math.round(C*255)<<16|Math.round(m*255)<<8|Math.round(e*255)};hp.prototype.f5=function(i){this.a2t();
var C=this.Pq(this.Uw);this.Rr(C);this.close();this.dG=!1;this.Uw=null};hp.prototype.D2=function(i){this.a2t();
if(this.DB)this.Rr(this.Pq(this.o8));this.dG=!1;this.Uw=null};hp.prototype.a2t=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.a1h};this.T(C)};hp.prototype.P6=function(i,C){var m=ca.EO(i,C);if(m!=null)this.cx.c(m);
if(C!=dm.li)return;if(this.Uw!=null){this.Uw={Z:(m>>16&255)/255,r:(m>>8&255)/255,e:(m>>0&255)/255};this.update()}};
hp.prototype.bw=function(i,C){var m=C.GN,e={Z:(m>>16&255)/255,r:(m>>8&255)/255,e:(m>>0&255)/255};if(this.Uw==null){var z=new eX(v.E.H,!0);
z.data={d:v.B.TF,uu:"crosshair",push:!0};this.T(z);this.eY=!1;this.Rr=C.Fu;this.DB=!1;this.dG=C.YU;this.o8=JSON.parse(JSON.stringify(e));
this.aCd.setAttribute("style","height:2.3em;background-color:#"+I.dP(m)+";")}this.Uw=e;this.update()};
hp.prototype.update=function(i){var C=this.Uw,m=this.Pq(C);this.rw.c(I.dP(m));this.fX.value="#"+I.dP(m);
this.af5.setAttribute("style","height:2.3em;background-color:#"+I.dP(m)+";");var e=this.PE;e[0].c(Math.round(C.Z*255));
e[1].c(Math.round(C.r*255));e[2].c(Math.round(C.e*255));var z=I.wK(C.Z,C.r,C.e);e=this.E9;e[0].c(Math.round(z.bB*360));
e[1].c(Math.round(z.ve*100));e[2].c(Math.round(z.qg*100));var L=I.ao(C.Z*255,C.r*255,C.e*255,this.ae$);
e=this.D0;e[0].c(Math.round(L.nJ));e[1].c(Math.round(L.W));e[2].c(Math.round(L.e));if(i==null){var l=I.uy([C.Z,C.r,C.e]);
e=this.oT;e[0].c(Math.round(l[0]*100));e[1].c(Math.round(l[1]*100));e[2].c(Math.round(l[2]*100));e[3].c(Math.round(l[3]*100))}this.HI.c(C);
if(this.dG){this.Rr(this.Pq(this.Uw));this.DB=!0}};hp.prototype.a53=function(i){return Math.max(0,Math.min(100,i))};
hp.prototype.uI=function(i){return Math.max(0,Math.min(255,i))};hp.prototype.R9=function(i){return Math.max(0,Math.min(1,i))};
function j_(){by.call(this,[11,2],"contoureditor");this.asc=null;this.LC=null;this.response=null;this.I5=d.t("div","cell");
this.body.appendChild(this.I5);this.M9=d.t("div","cell padded");this.body.appendChild(this.M9);var i=d.t("div","bordered padded vmargin");
this.I5.appendChild(i);this.vT=new a_(null,null,!0);this.vT.k(v.E.p,this.Zj,this);i.appendChild(this.vT.n);
this.uH=d.KN(this,this.M9);this.k("closebtn",this.Vw,this)}j_.prototype=new by;j_.prototype.f5=function(){this.close()};
j_.prototype._=function(){by.prototype._.call(this);this.uH._();this.vT._()};j_.prototype.Zj=function(i){this.LC.Crv.v=this.vT.h();
this.response(this.LC)};j_.prototype.Vw=function(i){this.response(this.asc)};j_.prototype.bw=function(i,C){this.asc=JSON.parse(JSON.stringify(C.eo));
this.LC=C.eo;this.response=C.response;this.vT.c(this.LC.Crv.v)};function f4(){by.call(this,[11,4],"duplinto");
this.N7=null;this.V7=null;this.Zt=null;var i=d.t("div","form");i.setAttribute("style","max-width:26em");
this.body.appendChild(i);this.qU=new ib([12,43],["abc","def"]);this.qU.k(v.E.p,this.ec,this);i.appendChild(this.qU.n);
d._Z(i);this.nI=new ib([1,16,0],["abc","def"]);this.nI.k(v.E.p,this.ec,this);i.appendChild(this.nI.n);
d._Z(i);this.K6=new kz([12,48],null,14);i.appendChild(this.K6.n);this.uH=d.KN(this,i)}f4.prototype=new by;
f4.prototype._$=function(){return!0};f4.prototype._=function(){by.prototype._.call(this);this.uH._();
this.qU._();this.K6._()};f4.prototype.ec=function(i){if(i&&i.target==this.nI)return;var C=this.qU.h(),m=this.V7[C],e=this.N7,z=m!=null&&m.add.artd!=null;
for(var Y=0;Y<e.g.length;Y++)if(e.M[e.g[Y]].add.artb)z=!1;this.K6.wo(C==this.V7.length);this.nI.wo(z);
if(z){var L=m.root.children,l=[],x=this.Zt=[];for(var Y=0;Y<L.length;Y++){var S=L[Y].a;if(S.add.artb)l.push(S.getName());
x.push(L[Y].index)}this.nI.bD(l);this.nI.c(0)}else this.Zt=null};f4.prototype.bw=function(i,C,m){this.N7=i;
this.V7=m;this.K6.c(i.g.length==0?"Layer":i.M[i.g[0]].getName());var e=[];for(var Y=0;Y<m.length;Y++){var z=m[Y].name;
e.push(z.length<30?z:z.slice(0,27)+"...")}e.push([11,7]);this.qU.bD(e);this.qU.c(m.indexOf(i));this.ec(null)};
f4.prototype.f5=function(i){var C=this.qU.h();if(C==this.V7.length){var m=new ei(this.K6.h()+".psd"),e=this.N7.m,z=this.N7.J,L=this.N7.sq();
if(L!=-1){var l=this.N7.M[L].d3();e=l.m;z=l.J}m.m=e;m.J=z;m.buffer=I.R(m.m*m.J*4);var x=m.Sv();x.yY("Background");
m.Bf([x]);var S=new eX(v.E.H,!0);S.W0=!0;S.data={d:v.B.D7,n4:m};this.T(S)}var f=this.N7.gV(null,this.N7!=this.V7[C]),S=new eX(v.E.v,!0);
S.data={d:cc.sz,M:f,Ff:this.N7,CH:this.V7[C]};if(this.Zt)S.data.kV=this.Zt[this.nI.h()];S.f=$.bH;S.W0=!0;
this.T(S);this.close()};function ck(){by.call(this,[1,9],"eassets");this.os=null;this.R6=null;var i=this.body;
d.uc(i,"form");i.style.width="32em";this.px=new iw(null,["Layers","Combinations"]);this.px.k(v.E.p,this.PT,this);
i.appendChild(this.px.n);d.PG(i);this.rU=d.t("span");i.appendChild(this.rU);this.KB=d.t("div");i.appendChild(this.KB);
var C=d.t("div"),m=d.t("div","flexrow");this.a00=[C,m];this.Fj=[new em("Only layers / folders, whose name starts with \"-e-\""),new em("Remove parts outside the canvas"),new em("Trim transparent parts")];
for(var Y=0;Y<3;Y++){var e=this.Fj[Y];e.c(!0);e.k(v.E.p,this.PT,this);C.appendChild(e.n);d._Z(C)}this.YM=new as([12,14,0],["1x","2x","3x","4x"]);
this.YM.c([!0,!1,!1,!1]);C.appendChild(this.YM.n);var z=d.t("div");m.appendChild(z);var L=d.t("img");
L.setAttribute("src","img/nft.png");L.style.width="150px";m.appendChild(L);var l=d.t("span");l.textContent="File Names:";
z.appendChild(l);this.fU=new as(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
z.appendChild(this.fU.n);this.fU.c([!0,!1,!1]);d.PG(i);this.V9=["PNG","JPG","SVG","TIFF","TGA"];this.EX=new ib([12,50],this.V9);
this.EX.k(v.E.p,this.uf,this);i.appendChild(this.EX.n);this.WS=new cR;i.appendChild(this.WS.n);this.uH=new c1([1,9],!0,null,!0);
this.uH.k("click",this.f5,this);i.appendChild(this.uH.n);this.k("closebtn",this.Gk,this)}ck.prototype=new by;
ck.prototype.uf=function(i){this.WS.Dk(this.V9[this.EX.h()],!1,!1,!1,this.R6.Io()!=null)};ck.prototype.Gk=function(i){this.R6=null};
ck.prototype._=function(){by.prototype._.call(this);this.EX._();this.YM._();this.uH._();this.WS._()};
ck.prototype.bw=function(i,C,m){this.R6=i;this.PT()};ck.prototype.PT=function(i){var C=this.px.h(),m;
d._l(this.KB);this.KB.appendChild(this.a00[C]);if(C==0){var e=this.ajS();m=e.length+" exportable layers"}else{var e=this.a2v();
m=e[1]+" combinations ("+e[0].join(" \xD7 ")+")"}this.rU.textContent="- - - "+m;this.uf(null)};ck.prototype.ajS=function(){var i=this.Fj[0].h(),C=[],m=this.R6;
for(var Y=0;Y<m.M.length;Y++){var e=m.M[Y],z=e.getName();if(!i&&!e.yJ()&&!e.rect.bs()||z.startsWith("-e"))C.push(Y)}return C};
ck.prototype.a2v=function(){var i=this.R6,C=i.root.children,m=[],e=1,z=[];for(var Y=0;Y<C.length;Y++){var L=C[Y],l=L.a;
if(l.yJ()){var x=L.children.length;m.push(x);e*=x;z.push(L.index)}l}return[m,e,z]};ck.prototype.P6=function(i,C){this.os=i};
ck.prototype.f5=function(i){var C=this.R6,m=this.px.h(),e=[this.V9[this.EX.h()]],z=[this.WS.h()],L={};
if(m==0){var l=this.YM.h(),x={},S=this.ajS();if(S.length==0){alert("No layers to export.");return}var k=[this.Fj[1].h(),this.Fj[2].h()];
for(var Y=0;Y<S.length;Y++){var f=S[Y],X=C.M[f],o=X.getName();if(x[o]!=null){x[o]++;o+=" "+x[o]}else x[o]=1;
var A=X.gF();X.fJ(!0);for(var P=0;P<l.length;P++){if(!l[P])continue;var F=P+1,n=$.a8.aAk(C,e,F,this.os,f,z,k);
for(var R=0;R<e.length;R++){var Q=e[R],s=o.slice(o.startsWith("-e-")?3:0)+(F==1?"":"@"+F+"x")+"."+Q.toLowerCase();
if(n[R])L[s]=new Uint8Array(n[R])}}X.fJ(A)}}else{var A=[];for(var Y=0;Y<C.M.length;Y++)A.push(C.M[Y].gF());
var j=this.a2v(),_=j[0],S=j[2],B=[];function N(q,f,h,D){if(f==q.length){D.push(h.slice(0));return}var T=q[f];
for(var Y=0;Y<T;Y++){h.push(Y);N(q,f+1,h,D);h.pop(Y)}}N(_,0,[],B);var a=this.fU.h().indexOf(!0);this.YV=[B,L,S,e,z,A,a,this.ahP.bind(this),0,0];
this.ahP();return}var O=UZIP.encode(L),H=new eX(v.E.H,!0);H.data={d:v.B.SQ,data:O,name:"assets.zip"};
this.T(H)};ck.prototype.ahP=function(){var i=this.YV,C=i[0],m=i[1],e=this.R6,z=i[2],L=i[3],l=i[4],x=i[5],S=i[6],k=i[7],f=0;
while(C.length!=0&&f<1e3){var X=Date.now(),o=C.shift(),A=[];for(var Y=0;Y<o.length;Y++){var P=e.root.zD(z[Y]);
for(var F=0;F<P.children.length;F++)P.children[F].a.fJ(!1);var n=P.children[o[Y]].a;A.push(S==2?n.getName():P.a.getName()+o[Y]);
n.fJ(!0)}e.Y();e.um();var R=(S==0?o:A).join("-")+"."+L[0].toLowerCase();m[R]=new Uint8Array(i$.Nn(e,L[0],e.m,e.J,l[0],this.os));
i[8]++;i[9]+=m[R].length;f+=Date.now()-X}if(C.length!=0){alert(i[8]+" done, "+b3.WF(i[9])+".",800);setTimeout(k,35);
return}for(var Y=0;Y<e.M.length;Y++)e.M[Y].fJ(x[Y]);e.Y();var Q=UZIP.encode(m),s=new eX(v.E.H,!0);s.data={d:v.B.SQ,data:Q,name:"assets.zip"};
this.T(s)};function aF(){by.call(this,"Export Color Lookup Tables","exlut");this.os=null;this.R6=null;
var i=d.t("div","form");i.setAttribute("style","width:20em");this.body.appendChild(i);this.Fj=[new db("Grid Points",1,256),new iw([12,50],[".CUBE"])];
var C=[16,0];for(var Y=0;Y<this.Fj.length;Y++){var m=this.Fj[Y];m.c(C[Y]);m.parent=this;m.k(v.E.p,this.PT,this);
i.appendChild(m.n);d._Z(i)}this.uH=d.KN(this,i);this.k("closebtn",this.Gk,this)}aF.prototype=new by;
aF.prototype.cd=function(i,C){if(Math.min(i.m,i.J)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(i.M.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};aF.prototype.Gk=function(i){this.R6=null};aF.prototype.P6=function(i,C){this.os=i};
aF.prototype.bw=function(i,C,m){this.R6=i};aF.prototype.f5=function(){var i=this.R6,C=this.Fj[0].h(),m=[],e=new j2(0,0,i.m,i.J),z=I.R(C*C*4),L=z.slice(0),l=new j2(i.m-C>>>1,i.J-C>>>1,C,C),x=i.M[0],S=x.buffer,k=x.rect;
x.rect=l;x.buffer=z;for(var f=0;f<C;f++){this.a5F(C,f,z);x.Y(l);i.Y(l);var X=i.I6();I.fF(X,e,L,l);for(var o=0;
o<C;o++)for(var A=0;A<C;A++){var P=o*C+A<<2;m.push(L[P]/255,L[P+1]/255,L[P+2]/255)}}var F=gb.atD(m,C,i.name);
g_.save(F,i.name.split(".")[0]+".CUBE");x.buffer=S;x.rect=k;x.Y();i.Y()};aF.prototype.a5F=function(i,C,m){var e=255/(i-1),z=Math.round(C*e);
for(var L=0;L<i;L++)for(var l=0;l<i;l++){var x=L*i+l<<2;m[x]=Math.round(l*e);m[x+1]=Math.round(L*e);
m[x+2]=z;m[x+3]=255}};aF.prototype._=function(){by.prototype._.call(this);for(var Y=0;Y<this.Fj.length;
Y++)this.Fj[Y]._();this.uH._()};function eN(){by.call(this,[1,14],"finfo");this.pB=null;this.zj=null;
this.kq=null;this.EV=d.t("div","form scrollable label12");this.EV.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.EV);var i=d.t("div","form");this.body.appendChild(i);this.Vv=new ib(null,["Hello"]);
i.appendChild(this.Vv.n);this.awm=new c1("Add Parameter",!1,null,!0);i.appendChild(this.awm.n);this.awm.k("click",this.a1,this);
this.Fd=new c1("=== S A V E ===",!1,null,!0);i.appendChild(this.Fd.n);this.Fd.k("click",this.Ja,this);
this.a9_=""}eN.prototype=new by;eN.prototype.Ck=function(i,C){return i<450||C<450?new b5(0,0):new b5(150,100)};
eN.prototype.a1=function(i){if(this.kq.length==0)return;var C=this.kq[this.Vv.h()],m=this.Wy();m[C]=kB.VE[C][0];
this.oi(m);this.zj[C].n.scrollIntoView();this.zj[C].CQ()};eN.prototype.hq=function(i){var C=this.Wy();
delete C[i.currentTarget.a8p];this.oi(C)};eN.prototype.Ja=function(i){var C=this.Wy(),m=this.pB,e=!0;
for(var z in m)if(JSON.stringify(m[z])!=JSON.stringify(C[z]))e=!1;for(var z in C)if(JSON.stringify(m[z])!=JSON.stringify(C[z]))e=!1;
if(e)return;var L=new eX(v.E.v,!0);L.f=$.bH;L.data={d:cc.jU,ul:C};this.T(L);this.pB=C;this.oi(C)};eN.a5b=function(i){function C(z){var L=z.toLowerCase();
return z==L}var m=i.split(":").pop();for(var e=1;e<m.length-1;e++){if(m[e]==m[e].toUpperCase()&&(C(m[e+1])||C(m[e-1]))){m=m.slice(0,e)+" "+m.slice(e);
e++}}return m};eN.prototype.bw=function(i,C){this.pB=i.tr;this.oi(i.tr)};eN.prototype.oi=function(i){var C=this.EV,z=0;
d._l(C);var m=this.zj={},e=["tiff","exif","exif:GPS"],L=this.kq=[],l=[];for(var x in kB.VE){var S=eN.a5b(x),k=0,f=15,X=null;
if(i[x]==null){if(kB.VE[x].length!=1||x=="photoshop:Credit"||x=="photoshop:Source"){L.push(x);l.push(S)}continue}for(var Y=0;
Y<e.length;Y++)if(x.startsWith(e[Y]))k=Y;if(k!=z){d.PG(C);z=k}if(x=="tiff:ImageDescription"||x=="dc:Keywords"){f=18.5;
X=3}var o=new kz(S,null,f,X);m[x]=o;var A=i[x];if(A instanceof Array)A=A[1]==0?"---":A[0]+"/"+A[1];var P=new c1("\u2716",null,bC.get([5,4]));
C.appendChild(P.n);P.k("click",this.hq,this);P.a8p=x;o.c(A);C.appendChild(o.n);d._Z(C);if(x=="exif:GPSLongitude"&&i["exif:GPSLatitude"]){this.a9_=eN.awH(i["exif:GPSLatitude"])+","+eN.awH(i["exif:GPSLongitude"]);
var F=new c1("Show on map",!1,null,!0);C.appendChild(F.n);d._Z(C);F.k("click",this.a4h,this)}}this.Vv.bD(l);
this.Vv.c(0)};eN.prototype.Wy=function(){var i=this.zj,C=kB.VE,m={};for(var e in C){var z=C[e][0],L=typeof z;
if(z==null||i[e]==null)continue;var l=i[e].h(),x="The value of \""+eN.a5b(e)+"\" must ";if(L=="number"){l=parseFloat(l);
if(isNaN(l)){alert(x+"be a number.");l=z}}else if(z instanceof Array&&z.length==2){if(l.indexOf("/")==-1){alert(x+"be a fraction.");
l=z.slice(0)}else{l=l.split("/").map(parseFloat);if(isNaN(l[0])||isNaN(l[1])){l=z.slice(0)}}}m[e]=l}return m};
eN.awH=function(i){var C=i.length,m=i.slice(0,C-1).split(",").map(parseFloat),e=i.slice(C-1),z=m[0]+m[1]/60+m[2]/3600;
if(e!="N"&&e!="E")z=-z;return z};eN.prototype.a4h=function(i){window.open("https://maps.google.com?q="+this.a9_,"Map")};
function kh(){by.call(this,[11,5],"gradienteditor");this.o8=null;this.Uw=null;this.po=null;this.Rr=null;
this.DB=!1;this.dG=!1;this.T4=null;this.Pk=null;this.vb=-1;this.pp=-1;this.WM=0;this.gW=this.Pd.bind(this);
this.H$=this.I7.bind(this);this.B2=d.t("canvas");this.Hs=this.B2.getContext("2d");this.B2.setAttribute("style","display:block");
this.Mx=null;d.o$(this.B2);d.h_(this.B2,this.hk.bind(this));this.vF=d.t("div","form");this.Fg=d.t("div");
this.Ah=d.t("div","form");this.Wz=d.t("div");this.jT=new ib([12,44],[[15,10,0],[24,6]]);this.jT.k(v.E.p,this.lr,this);
this.body.appendChild(this.jT.n);d.PG(this.body);var i=this.vF;this.JH=new db([19,3,3],0,100,"%");this.JH.k(v.E.p,this.lr,this);
this.JH.parent=this;i.appendChild(this.JH.n);d._Z(i);this.Ry=new bd([12,0]);i.appendChild(this.Ry.n);
this.gE=d.t("div","bordered padded noalign");i.appendChild(this.gE);this.Hh=new db([12,0],0,100,"%");
this.Hh.parent=this;this.Hh.k(v.E.p,this.lr,this);this.gE.appendChild(this.Hh.n);this._1=new db([12,40],0,100,"%");
this._1.parent=this;this._1.k(v.E.p,this.lr,this);this.gE.appendChild(this._1.n);this.ZI=new c1([5,4],!1,null,!0);
this.ZI.k("click",this.ank,this);this.gE.appendChild(this.ZI.n);i.appendChild(this.Fg);this.ahu=new bd([13,0]);
i.appendChild(this.ahu.n);this.zG=d.t("div","bordered padded noalign");i.appendChild(this.zG);this.xX=new ib([12,44],[[12,45],[12,46],[12,47]]);
this.xX.k(v.E.p,this.lr,this);this.zG.appendChild(this.xX.n);this.G1=new hv(!0);this.G1.parent=this;
this.G1.k(v.E.p,this.lr,this);this.zG.appendChild(this.G1.n);this.Yx=new db([12,40],0,100,"%");this.Yx.parent=this;
this.Yx.k(v.E.p,this.lr,this);this.zG.appendChild(this.Yx.n);this.wP=new c1([5,4],!1,null,!0);this.wP.k("click",this.aiH,this);
this.zG.appendChild(this.wP.n);var i=this.Ah;this.hY=new db("Roughness",0,100,"%");this.hY.k(v.E.p,this.lr,this);
this.hY.parent=this;i.appendChild(this.hY.n);i.appendChild(this.Wz);this.b9=new c1([25,1,2],!1,null,!0);
this.b9.k("click",this.lr,this);i.appendChild(this.b9.n);this.uH=d.KN(this);this.k("closebtn",this.D2,this)}kh.prototype=new by;
kh.prototype.D2=function(i){if(this.DB)this.Rr(this.o8)};kh.prototype._=function(){by.prototype._.call(this);
this.uH._();this.JH._();this.Ry._();this.ahu._();this.ZI._();this.wP._();this.Hh._();this._1._();this.xX._();
this.Yx._();this.b9._()};kh.prototype.P6=function(i,C){this.po=i};kh.prototype.bw=function(i,C){this.Uw=JSON.parse(JSON.stringify(C.I));
this.o8=JSON.parse(JSON.stringify(C.I));this.T4=this.Pk=null;this.Rr=C.Fu;this.DB=!1;this.dG=C.YU;this.ZT();
this.i2()};kh.prototype.f5=function(i){var C=this.Uw;this.Rr(C);this.close()};kh.prototype.Xu=function(i){return i==jD.nR||i==jD.sk};
kh.prototype.xC=function(i,C,m,e){if(e.S(jD.nR)||e.S(jD.sk)){if(this.Pk)this.ank();if(this.T4)this.aiH()}};
kh.prototype.ank=function(i){var C=this.Uw.Trns.v;if(this.Pk==null||C.length==1)return;C.splice(C.indexOf(this.Pk),1);
this.Pk=null;this.ZT();this.i2()};kh.prototype.aiH=function(i){var C=this.Uw.Clrs.v;if(this.T4==null||C.length==1)return;
C.splice(C.indexOf(this.T4),1);this.T4=null;this.ZT();this.i2()};kh.prototype.ZT=function(){var i=this.B2,C=this.Hs,m=d.XP();
i.width=Math.floor(410*m);i.height=Math.floor(70*m);d.n9(i,i.width,i.height);i.style.marginTop="8px";
this.Mx=new j2(0,0,Math.floor(380*m),Math.floor(32*m));this.Mx.x=Math.floor((i.width-this.Mx.m)/2);this.Mx.y=Math.floor((i.height-this.Mx.J)/2);
var e=this.Mx,z=e.m,L=e.J,l=e.x,x=e.y,S=new j2(0,0,z,L),k=C.getImageData(0,0,z,L),f=new Uint8Array(k.data.buffer);
I.EC(f,z,L,8);var X=I.R(z*L*4);I.I.oV(this.Uw,X,S,[1/z,0,0,1/L],z/2,L/2,!1,0,this.po.Dm,this.po.yv);
I.l.Qv("norm",X,e,f,e,e,1);C.clearRect(0,0,i.width,i.height);C.putImageData(k,l,x);var o=this.Uw;if(o.Clrs){var A=o.Trns.v,P=o.Clrs.v,F=I.I.uJ(o,this.po.Dm,this.po.yv),n=Math.round(6*d.XP()),R=Math.round(14*d.XP()),Q=this.Pk?this.Pk.v:null,s=this.T4?this.T4.v:null;
for(var Y=0;Y<A.length;Y++){var j=A[Y].v,_=Math.round(255-255*j.Opct.v.val/100);if((j==Q||A[Y-1]&&A[Y-1].v==Q||Y==this.pp)&&Y!=0){C.fillStyle="#000000";
C.fillRect(l-3+z*(A[Y-1].v.Lctn.v+(j.Lctn.v-A[Y-1].v.Lctn.v)*j.Mdpn.v/100)/4096,x-6-2,6,6)}if(j==Q){C.fillStyle="#ffffff";
C.fillRect(l-n+z*(j.Lctn.v/4096)-2,x-2-R-2,2*n+4,R+4)}C.fillStyle="rgb("+_+","+_+","+_+")";C.fillRect(l-n+z*(j.Lctn.v/4096),x-2-R,2*n,R)}for(var Y=0;
Y<P.length;Y++){var B=P[Y].v,N=F[0][Y][0];if((B==s||P[Y-1]&&P[Y-1].v==s||Y==this.vb)&&Y!=0){C.fillStyle="#000000";
C.fillRect(l-3+z*(P[Y-1].v.Lctn.v+(B.Lctn.v-P[Y-1].v.Lctn.v)*B.Mdpn.v/100)/4096,x+L+2,6,6)}if(B==s){C.fillStyle="#ffffff";
C.fillRect(l-n+z*(B.Lctn.v/4096)-2,x+L+2-2,2*n+4,R+4)}C.fillStyle="rgb("+Math.round(N.Z)+", "+Math.round(N.r)+","+Math.round(N.e)+")";
C.fillRect(l-n+z*(B.Lctn.v/4096),x+L+2,2*n,R)}}if(this.dG){this.Rr(this.Uw);this.DB=!0}};kh.prototype.i2=function(){var i=this.Uw,C=i.Clrs?0:1;
this.jT.c(C);if(d.bv(this.vF))this.body.removeChild(this.vF);if(d.bv(this.Ah))this.body.removeChild(this.Ah);
(C==0?this.Fg:this.Wz).appendChild(this.B2);if(C==0){this.body.appendChild(this.vF);this.JH.c(Math.round(100*i.Intr.v/4096));
var m=i.Trns.v,e=i.Clrs.v,z=this.Pk!=null,L=this.pp!=-1;this.Hh.wo(z);this._1.wo(z||L);this.ZI.wo(z);
if(z){this.gE.setAttribute("style","");var l=this.Pk.v;this._1.c(Math.round(100*l.Lctn.v/4096));this.Hh.c(l.Opct.v.val)}if(L)this._1.c(m[this.pp].v.Mdpn.v);
var z=this.T4!=null,L=this.vb!=-1;this.xX.wo(z);this.G1.wo(z);this.Yx.wo(z||L);this.wP.wo(z);if(z){this.zG.setAttribute("style","");
var x=this.T4.v;this.Yx.c(Math.round(100*x.Lctn.v/4096));var S=x.Type.v.Clry;this.xX.c(["FrgC","BckC","UsrS"].indexOf(S));
if(S=="FrgC")this.G1.Iw(this.po.Dm);if(S=="BckC")this.G1.Iw(this.po.yv);if(S=="UsrS")this.G1.c(x.Clr.v)}if(L)this.Yx.c(e[this.vb].v.Mdpn.v)}else{this.body.appendChild(this.Ah);
this.hY.c(Math.round(100*i.Smth.v/4096))}this.body.appendChild(this.uH.n)};kh.prototype.lr=function(i){var C=this.Uw,m=C.Clrs?0:1;
if(i.target==this.jT){var e=m==0?JSON.parse(jt.UL.akw).v:ft.TQ("grdm").Grad.v;this.Uw=e;this.i2();this.ZT();
return}if(m==0){C.Intr.v=Math.round(4096*this.JH.h()/100);var z=C.Trns.v,L=C.Clrs.v;if(this.Pk!=null){var l=this.Pk.v;
l.Lctn.v=Math.round(4096*(this._1.h()/100));l.Opct.v.val=this.Hh.h()}if(this.T4!=null){var x=this.T4.v;
x.Lctn.v=Math.round(4096*(this.Yx.h()/100));if(i.target==this.G1)this.xX.c(2);var S=this.xX.h();x.Type.v.Clry=["FrgC","BckC","UsrS"][S];
if(S==2)x.Clr={t:"Objc",v:this.G1.h()};else if(x.Clr)delete x.Clr}if(this.pp!=-1)z[this.pp].v.Mdpn.v=this._1.h();
if(this.vb!=-1)L[this.vb].v.Mdpn.v=this.Yx.h()}else{C.Smth.v=Math.round(4096*this.hY.h()/100);if(i.target==this.b9)C.RndS.v=Math.floor(Math.random()*4294967295)}this.ZT()};
kh.prototype.hk=function(i){var C=d.CV(i,this.B2),m=this.Mx,e=(C.x*d.XP()-m.x)/m.m,z=(C.y*d.XP()-m.y)/m.J,L=this.Uw.Trns.v,l=this.Uw.Clrs.v,x=null,S=null,k=-1,f=-1;
if(z<1)for(var Y=0;Y<L.length;Y++){var X=L[Y].v;if(Math.abs(X.Lctn.v/4096-e)<.02)x=L[Y];if(Y>0)if(Math.abs((L[Y-1].v.Lctn.v+(X.Lctn.v-L[Y-1].v.Lctn.v)*X.Mdpn.v/100)/4096-e)<.01)k=Y}if(z>0)for(var Y=0;
Y<l.length;Y++){var o=l[Y].v;if(Math.abs(o.Lctn.v/4096-e)<.02)S=l[Y];if(Y>0)if(Math.abs((l[Y-1].v.Lctn.v+(o.Lctn.v-l[Y-1].v.Lctn.v)*o.Mdpn.v/100)/4096-e)<.01)f=Y}if(S==null&&x==null&&k==-1&&f==-1){if(z<0){var X={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
X.v.Lctn.v=Math.round(e*4096);L.push(X);L.sort(this.KI);x=X}if(z>1){var l=this.Uw.Clrs.v,A=I.I.uJ(this.Uw,this.po.Dm,this.po.yv),P=I.I.a$(this.Uw,A,e),o={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:I.I.$q({Z:P&255,r:P>>8&255,e:P>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
o.v.Lctn.v=Math.round(e*4096);l.push(o);l.sort(this.KI);S=o}}if(S!=null)f=-1;if(x!=null)k=-1;if(S!=null||x!=null||k>-1||f>-1){this.Pk=x;
this.T4=S;this.pp=k;this.vb=f;this.i2();this.ZT();d.AX(window,this.gW);d.xd(window,this.H$)}};kh.prototype.Pd=function(i){var C=d.CV(i,this.B2),m=this.Mx,e=(C.x*d.XP()-m.x)/m.m,z=(C.y*d.XP()-m.y)/m.J;
e=Math.max(0,Math.min(1,e));var L=this.Uw.Trns.v,l=this.Uw.Clrs.v;if(this.Pk!=null){var x=this.Pk.v;
x.Lctn.v=Math.round(4096*e);var S=L.indexOf(this.Pk);if(S!=-1&&z<-1&&L.length>1)L.splice(S,1);if(S==-1&&z>-1)L.push(this.Pk);
L.sort(this.KI)}if(this.T4!=null){var k=this.T4.v;k.Lctn.v=Math.round(4096*e);var f=l.indexOf(this.T4);
if(f!=-1&&z>2&&l.length>1)l.splice(f,1);if(f==-1&&z<2)l.push(this.T4);l.sort(this.KI)}if(this.pp>-1){var x=L[this.pp].v;
x.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(e*4096-L[this.pp-1].v.Lctn.v)/(x.Lctn.v-L[this.pp-1].v.Lctn.v))))}if(this.vb>-1){var k=l[this.vb].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(e*4096-l[this.vb-1].v.Lctn.v)/(k.Lctn.v-l[this.vb-1].v.Lctn.v))))}if(this.Pk!=null||this.T4!=null||this.pp>-1||this.vb>-1){this.i2();
this.ZT()}};kh.prototype.I7=function(i){d.nz(window,this.gW);d.uh(window,this.H$);if(Date.now()-this.WM<300){if(this.vb!=-1||this.pp!=-1){var C=(this.vb!=-1?this.Uw.Clrs.v[this.vb]:this.Uw.Trns.v[this.pp]).v;
C.Mdpn.v=50;this.i2();this.ZT()}else if(this.T4!=null)this.G1.YB()}this.WM=Date.now()};kh.prototype.KI=function(i,C){return i.v.Lctn.v-C.v.Lctn.v};
function c0(i){by.call(this,i=="isize"?[11,10]:[11,3],i);this.a0o=i;var C=d.t("div","form");C.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(C);var m=i=="csize";this.aBN=new bd("Hi");C.appendChild(this.aBN.n);d._Z(C);this.xj=new ap(!0,!0,m,m,!0);
if(m)this.xj.abv(!1);C.appendChild(this.xj.n);this.J3=new em([12,25,3]);this.J3.c(!0);this.J3.k(v.E.p,this.aq$,this);
this.OD=new ib(null,[[12,14,2],[12,14,3],[12,14,4]]);this.OD.c(1);this.Gs=new jH([12,23,2],41);this.Gs.c(4);
if(i=="isize"){C.appendChild(this.J3.n);C.appendChild(this.OD.n)}else C.appendChild(this.Gs.n);this.uH=d.KN(this,this.body)}c0.prototype=new by;
c0.prototype.cd=function(i,C){return i!=null};c0.prototype._$=function(){return!0};c0.prototype.Xu=function(i){return this.a0o=="isize"?!1:[jD.O1,jD.zq,jD.vx,jD.h$].indexOf(i)!=-1};
c0.prototype.xC=function(i,C,m,e){if(e.S(jD.RX))this.f5();this.Gs.at_(e.PD())};c0.prototype._=function(){by.prototype._.call(this);
this.xj._();this.J3._();this.OD._();this.Gs._();this.uH._()};c0.prototype.f5=function(i){var C=this.xj.h(),m=C.x,e=C.y,z=new eX(v.E.HW,!0),L=this.xj.x9.h();
if(this.a0o=="csize"){if(L){var l=this.xj.tY,x=this.xj.rx;m=x.x-l.x;e=x.y-l.y}z.data=$.lx.aB7(m,e,this.Gs.h(),L)}else{var S=this.OD.h();
if(!this.J3.h())S=null;z.data=$.lx.anv(m,e,this.xj.$u(),S)}this.close();this.T(z)};c0.prototype.bw=function(i,C){this.xj.c(new b5(i.m,i.J),i.lC);
this.xj.CQ();this.aBN.c(bC.get(this.jW)+": "+(i.m*i.J/1e6).toFixed(2)+" MPx")};c0.prototype.aq$=function(i){var C=this.J3.h(),m=this.xj,e=this.OD;
if(C)e.WN();else e.hH();m.ad5(C)};function aX(){by.call(this,"Import RAW","importraw");var i=d.t("div","flexrow"),C=d.t("div");
C.setAttribute("style","margin-bottom: 1em");this.body.appendChild(i);this.body.appendChild(C);var m=d.t("div","form");
m.setAttribute("style","width:18em");i.appendChild(m);var e=d.t("div","form");e.setAttribute("style","width:15em");
i.appendChild(e);this.CT=null;this.xT=null;this.W1=null;this.nf=null;this.a6h=[];var z=[];for(var Y=0;
Y<aX.K$.length;Y++)z.push(aX.K$[Y]+" Bits");var L=this.YV=[new ap(!0,null,null,!0),new db([12,72],1,8),new em("Last one is Transparency"),new iw([12,34],z),new iw("Byte Order",["12-34","34-12"]),new ib("Guesses",[])];
for(var Y=0;Y<L.length;Y++){var l=L[Y];l.parent=this;l.k(v.E.p,Y==5?this.ajI:this.ec,this);var x=Y==0?m:Y==5?C:e;
x.appendChild(l.n)}this.B2=d.t("canvas");this.Hs=this.B2.getContext("2d");this.body.appendChild(this.B2);
this.uH=d.KN(this,this.body)}aX.prototype=new by;aX.prototype._=function(){by.prototype._.call(this);
var i=this.YV;this.uH._();for(var Y=0;Y<i.length;Y++)i[Y]._()};aX.prototype.f5=function(i){this.close();
var C=this.YV[0].h(),m=i$.Jd(this.xT,[{data:this.W1,Jw:new j2(0,0,C.x,C.y)}]);if(this.nf)m.T3=this.nf;
var e=new eX(v.E.H,!0);e.data={d:!0?v.B.D7:v.B.Tm,n4:m};this.T(e)};aX.K$=[8,16];aX.prototype.bw=function(i,C){this.CT=new Uint8Array(C.Sk);
this.xT=C.VO;var m=this.CT.length,e=[1,3,4],z=0,L=0,l=1,x=1,S=this.a6h=[],k=Math.round(Math.sqrt(m)*2);
k=Math.max(k,4e3);for(var f=0;f<3;f++){for(var X=0;X<2;X++){var o=aX.K$[X],A=e[f],P=A*o,F=Math.round(m*8/P);
if(F!=m*8/P)continue;for(var n=0;n<=k;n++)for(var R=0;R<=k;R++)if(n*R==F){var Q=0;if(n==R)Q+=64;if(Math.round(n/100)==n/100&&Math.round(R/100)==R/100)Q+=32;
if(Math.round(n/10)==n/10&&Math.round(R/10)==R/10)Q+=16;if(Math.round(n/2)==n/2&&Math.round(R/2)==R/2)Q+=8;
S.push([n,R,A,o,Q])}}}var s=function(N,a){if(a[4]!=N[4])return a[4]-N[4];var O=Math.max(N[0],N[1])/Math.min(N[0],N[1]),H=Math.max(a[0],a[1])/Math.min(a[0],a[1]);
if(O!=H)return O-H;return a[0]-N[0]};S.sort(s);var j=this.YV,_=[];for(var Y=0;Y<S.length;Y++){var B=S[Y];
_.push(B[0]+" x "+B[1]+", "+B[2]+"ch, "+B[3]+"-bit")}j[5].bD(_);j[5].c(0);this.ajI(null)};aX.prototype.ajI=function(i){var C=this.YV,m=this.a6h[this.YV[5].h()];
C[0].c(new b5(m[0],m[1]),72);C[1].c(m[2]);C[3].c(aX.K$.indexOf(m[3]));this.ec()};aX.prototype.ec=function(i){var C=this.YV,m=C[0].h(),e=m.x,z=m.y,L=aX.K$[C[3].h()],l=this.CT;
if(L==16&&C[4].h()==1){l=l.slice(0);for(var Y=0;Y<l.length;Y+=2){var x=l[Y];l[Y]=l[Y+1];l[Y+1]=x}}var S=this.W1=this.pX(l,e,z,C[1].h(),L,C[2].h()),k=this.B2,f=this.Hs,X=[S,new j2(0,0,e,z)];
I.aq(X);for(var Y=0;Y<X.length;Y+=2)if(X[Y+1].J<300){S=X[Y];e=X[Y+1].m;z=X[Y+1].J;break}k.width=e;k.height=z;
d.n9(k,e,z);var o=new ImageData(new Uint8ClampedArray(S.buffer),e,z);f.putImageData(o,0,0)};aX.prototype.pX=function(i,C,m,e,z,L){this.nf=null;
var l=[],x=C*m;for(var S=0;S<e;S++){var k=I.R(x);l.push(k);if(z==8)for(var Y=0;Y<x;Y++)k[Y]=i[Y*e+S];
else if(z==16)for(var Y=0;Y<x;Y++)k[Y]=Math.round((i[(Y*e+S)*2]<<8|i[(Y*e+S)*2+1])*(255/65535))}var f=I.R(x*4);
new Uint32Array(f.buffer).fill(4278190080);if(L){I.uC(l.pop(),f,3);e--}if(e==0){}else if(e==1)I.uM(l[0],f);
else{I.uC(l[0],f,0);I.uC(l[1],f,1);if(e>2){I.uC(l[2],f,2);if(e>3){this.nf=[];for(var Y=3;Y<e;Y++){var X=new cc.o7;
X.name="Alpha "+(Y-2);X.rect=new j2(0,0,C,m);X.channel=l[Y];this.nf.push(X)}}}}return f};function cA(i,C,m){k5.call(this);
this.n=d.t("div","");this.W5=i;this.as=null;this.oA=C==null?!1:C;this.Uq=null;this.Wd=m;this.Mw=[];this.eQ=[];
this.h4=[];this.wO=[];this.uB=0;this.as=this.a2C(cA.wO[i]);this.oG();this.Oy=null;this.agm;this.adt}cA.prototype=new k5;
cA.prototype.k7=function(i,C,m,e,z){this.Oy=z;this.agm=JSON.parse(JSON.stringify(this.Uq));if(this.as.lagl)this.adt=this.as.lagl.h()[0]};
cA.prototype.ct=function(i,C,m,e,z){var L=this.Oy,l=this.W5,x=this.agm;if(L==null)return;var S=(z.x-L.x)/i.q.U,k=(z.y-L.y)/i.q.U;
if(l=="GrFl"){var f=JSON.parse(JSON.stringify(x.Ofst.v));f.Hrzn.v.val+=S*.5;f.Vrtc.v.val+=k*.5;this.as.Ofst.c(f,!0)}if(l=="patternFill"){var f=JSON.parse(JSON.stringify(x.phase.v));
f.Hrzn.v+=S;f.Vrtc.v+=k;this.as.phase.c(f,!0)}if(l=="DrSh"||l=="IrSh"||l=="ChFX"){var X=x.Dstn.v.val,o=this.adt*Math.PI/180,A=-Math.cos(o)*X+S,P=Math.sin(o)*X+k;
this.as.Dstn.c(Math.sqrt(A*A+P*P),!0);this.as.lagl.c([Math.atan2(P,-A)*180/Math.PI],!0)}};cA.prototype.$d=function(i,C,m,e,z){this.Oy=null};
cA.prototype.aug=function(){for(var Y=0;Y<this.wO.length;Y++){d.nP(this.wO[Y],"selected");if(this.h4[Y]instanceof em)this.h4[Y].c(!1)}};
cA.prototype.amR=function(i){var C=this.ayz.bind(this);for(var Y=0;Y<this.h4.length;Y++){var m=d.t("div","listitem");
this.wO.push(m);if(Y>0)m.textContent="\u2003";m.appendChild(this.h4[Y].n);if(jt.adQ.indexOf(this.W5)!=-1){var e=new c1("+");
e.vG();e.n.style.float="right";m.appendChild(e.n);var z=new c1("\u2B0D");z.vG();z.n.style.float="right";
z.n.style["margin-right"]="2px";m.appendChild(z.n)}m.addEventListener("click",C,!1);i.appendChild(m)}};
cA.zS=function(i,C){var m=C.getBoundingClientRect();return(i.clientY-m.top)/m.height};cA.prototype.ayz=function(i){var C=i.target.tagName.toLowerCase();
if(C=="input"){return}if(C=="button"){var m=new eX(v.E.v,!0),e=i.target.textContent=="+",z=e?0:cA.zS(i,i.target)<.5?-1:1;
if(e)m.data={d:"st_dupsingle",a:this.parent.data.a,dA:this.Wd};else m.data={d:"st_movsingle",a:this.parent.data.a,dA:this.Wd,aC8:z};
m.f=$.$Z;m.W0=!0;this.T(m);m=new eX("redrawall",!0);m.data={aC8:z};this.T(m);return}d.Vw(i);this.UB();
this.uB=this.wO.indexOf(i.currentTarget);this.T(new eX("showme"))};cA.prototype.UB=function(){if(this.as.enab&&this.as.enab.h()==!1)this.gK({IG:"enab",b:!0})};
cA.prototype.amL=function(){var i=this.wO[this.uB];if(i)d.uc(i,"selected");return this.eQ[this.uB]};
cA.prototype.a2C=function(i){var C={};for(var Y=0;Y<i.length;Y++){var m=i[Y],e=null;if(m=="----")e={n:d.t("hr")};
if(m=="\n")e={n:d.t("br")};if(m=="blOptions")e=new bd([14,10]);if(m=="brst")e=new as([12,72],["R","G","B"]);
if(m=="knko")e=new ib("Knockout",[[13,1,0],"Shallow","Deep"]);if(m=="enab")e=new em(jt.names[jt.order.indexOf(this.W5)]);
if(m=="lrMd"||m=="Md")e=new ib([12,19,0],aw.jI,aw._g);if(m=="Opct")e=new dd([12,0],0,100,"%");if(m=="iOpa")e=new dd([12,26],0,100,"%");
if(m=="blIf")e=new he;if(m=="ShdN")e=new dd([12,68],0,100,"%");var z=this.W5=="St3D"&&m=="lagl";if(m=="lagl"||m=="Angl")e=new jZ(z?"Light":[12,15],this.W5=="ebbl"||z);
if(m=="uglg")e=new em([12,27]);if(m=="Dstn")e=new dd([12,28],0,200,"px");if(m=="Ckmt")e=new dd([12,29],0,100,"%");
if(m=="Srnk")e=new dd("Shrink",0,100,"%");if(m=="Drkn")e=new dd("Darken",0,100,"%");if(m=="blur")e=new dd([12,14,0],0,200,"px");
if(m=="TrnS"||m=="MpgS")e=new i3([12,21]);if(m=="Nose")e=new dd([12,30],0,100,"%");if(m=="layerConceals")e=new em([12,31]);
if(m=="Cntn")e=new em([12,25,4]);if(m=="AntA"||m=="antialiasGloss")e=new em([12,25,1]);if(m=="GlwT")e=new ib([12,32],jt.Ys.names);
if(m=="glwS")e=new ib([12,70],jt.Ys.afa);if(m=="Inpr")e=new dd([12,12],1,100,"%");if(m=="bvlS")e=new ib([12,22],jt.ci.style);
if(m=="bvlT")e=new ib([12,32],jt.ci.avM);if(m=="bvlD")e=new ib(null,jt.ci.dir);if(m=="srgR")e=new dd([12,34],0,1e3,"%");
if(m=="Sftn")e=new dd([12,35],0,20,"px");if(m=="Lald")e=C.lagl;if(m=="hglM"||m=="sdwM")e=new ib([12,36],aw.jI,aw._g);
if(m=="hglC"||m=="sdwC")e=new hv;if(m=="hglO"||m=="sdwO")e=new dd([12,0],0,100,"%");if(m=="Invr"||m=="InvT")e=new em([4,11]);
if(m=="overprint")e=new em("Overprint");if(m=="Sz")e=new dd([12,14,0],1,200,"px");if(m=="Styl")e=new ib([12,40],jt.stroke.names);
if(m=="PntT")e=new ib([12,66],jt.stroke.aD1);if(m=="Clr")e=new hv(!0);if(m=="Grad"){e=new jv(!0,[12,37],!0);
e.c(JSON.parse(jt.UL.a4O).v)}if(m=="Rvrs")e=new em([12,23,0]);if(m=="Dthr")e=new em([12,23,3]);if(m=="Type")e=new ib([12,22],jt.I.names.slice(0,this.W5=="FrFX"?6:5));
if(m=="Ptrn")e=new cO([12,62]);if(m=="Scl")e=new dd([12,38],5,500,"%",0,!0);if(m=="Algn")e=new em([12,39]);
if(m=="Ofst")e=new de(!0);if(m=="phase")e=new de(!1);if(m=="useShape")e=new em([12,21]);if(m=="useTexture")e=new em([12,67]);
if(m=="textureDepth")e=new dd([12,34],-300,300,"%");var L=m=="----"||m=="\n"?m+Y:m;if(e!=null)C[L]=e}return C};
cA.prototype.alc=function(i){var C=this.eQ[this.uB];for(var Y=0;Y<i.length;Y++){var m=this.as[i[Y]];
if(m&&C.contains(m.n))C.removeChild(m.n)}};cA.prototype.adm=function(i){var C=this.eQ[this.uB];for(var Y=0;
Y<i.length;Y++){var m=this.as[i[Y]];if(m&&!C.contains(m.n))C.appendChild(m.n)}};cA.prototype.P6=function(i,C){if(this.as==null)return;
var m=C==dm.cX;if(this.as.Grad){this.as.Grad.ef(i.Dm,i.yv);if(m||C==dm.li||C==dm.AU)this.as.Grad.dp(i.Wc)}if(this.as.Ptrn){if(m||C==dm.nZ)this.as.Ptrn.dp(i.VN)}if(this.as.TrnS){if(m||C==dm.ij)this.as.TrnS.dp(i.Y7)}if(this.as.MpgS){if(m||C==dm.ij)this.as.MpgS.dp(i.Y7)}};
cA.prototype._=function(){for(var Y=0;Y<this.Mw.length;Y++)this.Mw[Y]._();for(var i in this.as)if(this.as[i]instanceof k5)this.as[i]._()};
cA.prototype.oG=function(){for(var i in this.as){var C=this.as[i];C.parent=this;if(C instanceof k5)C.k(v.E.p,this.apw,this);
if(this.eQ.length==0||i=="useShape"||i=="useTexture"){var m=new bd(C.av_()),e=d.t("div","bordered padded");
if(this.oA==!1){e.appendChild(m.n);e.appendChild(d.t("hr",""))}this.Mw.push(m);this.eQ.push(e);this.h4.push(C)}else this.eQ[this.eQ.length-1].appendChild(C.n)}};
cA.prototype.update=function(i,C){if(this.as==null)return;this.Uq=JSON.parse(JSON.stringify(C));for(var m in C){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(m)!=-1)this.as[m].c(C[m].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(m)!=-1){this.as[m].c(C[m].v,i)}if(["Md","hglM","sdwM"].indexOf(m)!=-1)this.as[m].c(aw.W5.indexOf(C[m].v.BlnM));
if(m=="lrMd"){var e=(C.yJ?[[15,10,27]]:[]).concat(aw.jI),z=(C.yJ?[1]:[]).concat(aw._g);this.as[m].bD(e,z);
this.as[m].c(C[m].v)}if(m=="Angl")this.as[m].c([C[m].v.val]);if(m=="lagl"){var L=C.uglg&&C.uglg.v?i.Ju():C.lagl.v.val;
this.as[m].c([L])}if(m=="Lald"){var L=C.uglg&&C.uglg.v?i.JL():C.Lald.v.val;this.as[m].c([null,L])}if(m=="Type")this.as[m].c(jt.I.types.indexOf(C.Type.v.GrdT));
if(m=="Styl")this.as[m].c(jt.stroke.types.indexOf(C.Styl.v.FStl));if(m=="PntT"){var l=jt.stroke.Nw.indexOf(C.PntT.v.FrFl);
this.as[m].c(l);if(!this.oA){this.alc(jt.pb.concat(jt.It.concat(jt.dH)));this.adm([jt.pb,jt.It,jt.dH][l])}}if(m=="GlwT")this.as[m].c(jt.Ys.types.indexOf(C.GlwT.v.BETE));
if(m=="glwS")this.as[m].c(jt.Ys.aqQ.indexOf(C.glwS.v.IGSr));if(m=="bvlS")this.as[m].c(jt.ci.types.indexOf(C.bvlS.v.BESl));
if(m=="bvlT")this.as[m].c(jt.ci.a8o.indexOf(C.bvlT.v.bvlT));if(m=="bvlD")this.as[m].c(["In","Out"].indexOf(C.bvlD.v.BESs))}};
cA.prototype.apw=function(i){for(var C in this.as){if(this.as[C]!=i.target)continue;var m=null,e=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(C)!=-1)m={type:"#Prc",val:i.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(C)!=-1)m={type:"#Pxl",val:i.target.h()};if(["Angl","lagl"].indexOf(C)!=-1)m={type:"#Ang",val:i.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(C)!=-1)m=i.target.h();
if(["Md","hglM","sdwM"].indexOf(C)!=-1)m={BlnM:aw.W5[i.target.h()]};if(C=="uglg"){m=i.target.h();e=!0}if(C=="PntT"){m={FrFl:jt.stroke.Nw[i.target.h()]};
e=!0}if(C=="Lald")m={type:"#Ang",val:i.target.h()[1]};if(C=="Type")m={GrdT:jt.I.types[i.target.h()]};
if(C=="Styl")m={FStl:jt.stroke.types[i.target.h()]};if(C=="GlwT")m={BETE:jt.Ys.types[i.target.h()]};
if(C=="glwS")m={IGSr:jt.Ys.aqQ[i.target.h()]};if(C=="bvlS")m={BESl:jt.ci.types[i.target.h()]};if(C=="bvlT")m={bvlT:jt.ci.a8o[i.target.h()]};
if(C=="bvlD")m={BESs:["In","Out"][i.target.h()]};this.gK({IG:C,b:m});if(e){if(this.oA)this.update(null,this.Uq);
else{var z=this.parent,L=z.n4,l=this.Wd,x=L.M[z.data.a].add.lmfx[jt.m8[l[0]]].v[l[1]].v;this.update(L,x)}}}};
cA.prototype.gK=function(i){if(this.Uq&&this.Uq[i.IG])this.Uq[i.IG].v=i.b;if(this.oA){this.T(new eX(v.E.p))}else{i.d="changeprop";
i.a=this.parent.data.a;i.h6=this.Wd;var C=new eX(v.E.v,!0);C.data=i;C.f=$.$Z;C.W0=!0;this.T(C);this.T(new eX("afterchange",!0))}};
cA.prototype.h=function(){return JSON.parse(JSON.stringify(this.Uq))};cA.wO={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(jt.pb),GrFl:["enab","Md","Opct"].concat(jt.It),patternFill:["enab","Md","Opct"].concat(jt.dH),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(jt.pb.concat(jt.It.concat(jt.dH)))};
function ih(){by.call(this,[11,6],"layerstyle");this.arP=-1;this.data={};this.n4=null;this.os=null;this.Ef=[];
this.ki=[];d.uc(this.body,"flexrow");this.I5=d.t("div","bordered");this.I5.setAttribute("style","min-width:13em;");
this.body.appendChild(this.I5);this.af=d.t("div","");this.af.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.af);this.M9=d.t("div","form");this.M9.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.M9);this.uH=d.KN(this,this.M9);this.W9=new c1([12,87],!0,null,!0);this.W9.k("click",this.a02,this);
this.M9.appendChild(this.W9.n);this.L3=new a0;this.L3.parent=this;this.L3.k(v.E.p,this.a3j,this);this.M9.appendChild(this.L3.n);
this.k("closebtn",this.D2,this);this.k("redrawall",this.arM,this)}ih.prototype=new by;ih.prototype._$=function(){return!0};
ih.prototype.IM=function(){return!0};ih.prototype.k7=function(i,C,m,e,z){var L=this.lL();if(L)L.k7(i,C,m,e,z)};
ih.prototype.ct=function(i,C,m,e,z){var L=this.lL();if(L)L.ct(i,C,m,e,z)};ih.prototype.$d=function(i,C,m,e,z){var L=this.lL();
if(L)L.$d(i,C,m,e,z)};ih.prototype.lL=function(i){if(i==null)i=this.data.index;return i==null?null:i==0?this.Ef[0]:this.ki[i[0]][i[1]]};
ih.prototype.a3j=function(i){var C=this.L3.h();this.gK({d:"setstl",b:C.b2});this.arM(null)};ih.prototype.a02=function(i){var C=this.n4,m=this.data.a;
if(m==null)m=C.g[0];var e=this.n4.M[m],z=k4.awv(e),L=new eX(v.E.H,!0);L.data={d:v.B.Mc,hl:"add",N5:dm.nx,mb:[JSON.parse(JSON.stringify(z))]};
this.T(L)};ih.prototype.azy=function(i){this.data.index=i.currentTarget.Wd;this.xp(i.currentTarget.Wd)};
ih.prototype.arM=function(i){this.bw(this.n4,this.data)};ih.prototype.xp=function(i,C){d._l(this.af);
for(var Y=0;Y<this.Ef.length;Y++)this.Ef[Y].aug();var m=this.lL(i);this.af.appendChild(m.amL());if(C)m.UB();
var e=this.n4;if(e){var z=e.M[this.data.a];this.Ef[0].update(e,$.w2.ia(e,z));var L=z.add.lmfx;if(L==null)return;
for(var Y=0;Y<jt.order.length;Y++){var l=L[jt.m8[Y]].v;for(var x=0;x<l.length;x++)this.ki[Y][x].update(e,l[x].v)}}if(C)m.UB()};
ih.prototype._=function(){by.prototype._.call(this);this.W9._();this.L3._();this.uH._();for(var Y=0;
Y<this.Ef.length;Y++)this.Ef[Y]._()};ih.prototype.bw=function(i,C){var m=C.a==null;this.data.a=C.a;this.data.index=C.index;
C=this.data;this.n4=i;if(m)C.a=i.g.length==0?i.M.length-1:i.g[0];d._l(this.I5);var e=i.M[C.a].add.lmfx;
this.sM();this.Ef=[new cA("bops",!1,0)];this.ki=[];for(var Y=0;Y<jt.order.length;Y++){this.ki.push([]);
var z=e==null?[]:e[jt.m8[Y]].v;for(var L=0;L<z.length;L++){var l=new cA(jt.order[Y],!1,[Y,L]);this.Ef.push(l);
this.ki[Y].push(l)}if(z.length==0){var l=new cA(jt.order[Y],!1,[Y,0]);this.Ef.push(l);this.ki[Y].push(l)}}this._();
this.a0N(this.os,dm.cX);for(var Y=0;Y<this.Ef.length;Y++){this.Ef[Y].parent=this;this.Ef[Y].amR(this.I5);
this.Ef[Y].k("showme",this.azy,this)}if(C.index==null||C.index==0||!m&&e[jt.m8[C.index[0]]].v.length==0){this.xp(0)}else this.xp(C.index,m);
this.k("afterchange",this.sM,this)};ih.prototype.sM=function(i){var C=this.n4,m=this.data.a;if(m==null)m=C.g[0];
var e=this.n4.M[m],z=k4.awv(e);this.L3.c(z,C.add.Patt?C.add.Patt:[],C.Ju(),C.JL())};ih.prototype.P6=function(i,C){this.os=i;
this.a0N(i,C);if(C==dm.nx||C==dm.cX){this.L3.dp([i.Qb,i.VN])}if(C==dm.Tl){}};ih.prototype.a0N=function(i,C){for(var Y=0;
Y<this.Ef.length;Y++)this.Ef[Y].P6(i,C)};ih.prototype.D2=function(i){this.gK({d:"cancel"})};ih.prototype.f5=function(i){this.gK({d:"confirm"});
this.close()};ih.prototype.gK=function(i){i.a=this.data.a;var C=new eX(v.E.v,!0);C.data=i;C.f=$.$Z;C.W0=!0;
this.T(C);this.sM()};ih.apM=function(){var i=function(C){if(C==null||C.g.length==0)return{w:!1};var m=C.M[C.g[0]];
return{w:m.add.lmfx!=null}};return{name:[11,6],mL:!0,sub:[{name:[5,1],w:i},{name:[5,2]},{name:[2,2],w:i}]}};
ih.avu=function(){return{sub:[{K:v.E.v,f:$.$Z,A:{d:"st_copy"}},{K:v.E.v,f:$.$Z,A:{d:"st_paste"}},{K:v.E.v,f:$.$Z,A:{d:"st_clear"}}]}};
ih.kw=function(i){var C=[{name:[14,10],mL:!0}];for(var Y=0;Y<jt.names.length;Y++)C.push({name:jt.names[Y]});
if(i){C[C.length-1].mL=!0;C.push(ih.apM());C.push({name:[6,30,1],w:function(m){return{w:m!=null&&m.g.length!=0&&m.M[m.g[0]].cG()}}});
C.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(m){return{w:m!=null&&m.g.length!=0&&m.M[m.g[0]].add.lmfx!=null}}})}return C};
ih.v5=function(i){var C=[{K:v.E.H,A:{d:v.B.c6,pw:"layerstyle"}}];for(var Y=0;Y<jt.names.length;Y++)C.push({K:v.E.H,A:{d:v.B.c6,pw:"layerstyle",index:[Y,0]}});
if(i){C.push(ih.avu());C.push({K:v.E.H,A:{d:v.B.c6,pw:"scaleeffects",GZ:100,Jo:{K:v.E.v,f:$.$Z,A:{d:"scaleeffects"}}}});
var m={classID:"Mk",null:h3.Ei("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
C.push({K:v.E.HW,A:{o0:"make",t6:m}})}return C};ih.ay7=function(i){var C=[];if(i)C.push({name:[6,48,0,0],HT:!0},{name:[6,48,0,1],HT:!0},{name:[6,48,0,2],HT:!0,mL:!0});
for(var m in fp.names)C.push({name:fp.names[m],mL:fp.azL.indexOf(m)!=-1,HT:jg[m]!=null});return C};ih.i6=function(i){var C=[];
if(i){C.push({K:v.E.v,f:$.C0,A:{d:"newfill",rp:0}});for(var Y=1;Y<3;Y++)C.push({K:v.E.HW,A:$.P0.WA(Y)})}for(var m in fp.names){var e=ft.TQ(m);
if(e==null)e={};for(var z in fp.TX)if(fp.TX[z]==m)e.classID=z;var L={o0:"make",t6:{classID:"Mk",null:h3.Ei("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:e}}}}};
C.push({K:v.E.HW,A:L})}return C};function ji(){by.call(this,"Merge Channels","mergechannels");this.UO=null;
var i=d.t("div","form");this.body.appendChild(i);this.YV=[];for(var Y=0;Y<3;Y++){var C=new ib(fp.HO[Y],[]);
this.YV.push(C);i.appendChild(C.n);d._Z(i)}this.uH=d.KN(this,i)}ji.prototype=new by;ji.prototype._=function(){by.prototype._.call(this);
this.uH._();for(var Y=0;Y<3;Y++)this.YV[Y]._()};ji.prototype.bw=function(i,C,m,e){this.UO=m;var z=[];
for(var Y=0;Y<m.length;Y++)z.push(m[Y].name);for(var Y=0;Y<3;Y++){var L=this.YV[Y];L.bD(z);L.c(Math.min(Y,m.length-1))}};
ji.prototype.f5=function(i){var C=this.UO,m=C[0],e=new eX(v.E.HW,!0);e.data=ei.sf(m.m,m.J,m.lC,"Merged Document","Wht",!1);
this.T(e);var z=[];for(var Y=0;Y<3;Y++)z.push(C[this.YV[Y].h()].I6());var m=C[C.length-1],L=m.M[0],l=L.buffer;
for(var Y=0;Y<l.length;Y+=4){l[Y]=z[0][Y];l[Y+1]=z[1][Y];l[Y+2]=z[2][Y]}L.Y();m.Y();this.close()};function dT(){by.call(this,[1,10],"script");
var i=d.t("div","form");i.setAttribute("style","width:44em");this.body.appendChild(i);this.os=null;this.ZE=[];
this.fY=[];this.aDS;var C=this.Fd=new c1([1,2],!1,null,!0);C.k("click",this.Ja,this);i.appendChild(C.n);
var m=new c1("JS Reference",!1,null,!0);m.k("click",this.a2B,this);i.appendChild(m.n);i.appendChild(new bd("Demos:").n);
this.axz=[];var e=dT.iA;for(var Y=0;Y<e.length;Y++){var z=new c1(e[Y].zm,!1,null,!0);this.axz.push(z);
i.appendChild(z.n);z.k("click",this.ajK,this)}this.oy=d.t("textarea");d.xq(this.oy);this.oy.setAttribute("rows",16);
this.oy.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");i.appendChild(this.oy);
var L=new c1("Run",!0,null,!0);L.k("click",this.f5,this);i.appendChild(L.n);this.uY=d.t("div");i.appendChild(this.uY)}dT.prototype=new by;
dT.prototype._=function(){this.Fd._()};dT.prototype.Ja=function(){var i=this.aDS;if(i==null)i="script.jsx";
var C=new eX(v.E.H,!0);C.data={d:v.B.c6,pw:"namewindow",GZ:i.slice(0,i.length-4),G$:this.a8n.bind(this)};
this.T(C)};dT.prototype.a8n=function(i){var C=this.oy.value,m=W.x5(C),e=new eX(v.E.H,!0);e.data={d:v.B.hf,Sk:m.buffer,T_:i+".jsx",apf:!0};
this.T(e)};dT.prototype.ayG=function(i){var Y=this.ZE.indexOf(i.target),C=this.aDS=this.fY[Y],m=this.os.sR.kB[C],e=new Uint8Array(m),z=W.U8(e,0,e.length);
this.oy.value=z};dT.prototype.bw=function(i,C,m){this.oy.value=dT.iA[0].IU;this.ald()};dT.prototype.ald=function(){var i=this.os.sR,C=this.uY;
d._l(C);this.ZE=[];this.fY=[];C.textContent="Saved scripts: ";for(var m in i.kB){if(m.endsWith(".jsx")){var e=new c1(m,!1,null,!0);
this.ZE.push(e);this.fY.push(m);e.k("click",this.ayG,this);C.appendChild(e.n)}}};dT.prototype.P6=function(i,C){this.os=i;
if(C==dm.bK)this.ald()};dT.prototype.a2B=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.Z8,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.T(C)};dT.prototype.f5=function(i){var C=this.oy.value,m=this.os.sR.kB;C=dT.aln(C,m);var e=new eX(v.E.H,!0);
e.data={d:v.B._i,QC:C};this.T(e)};dT.aln=function(i,C){var m=i.split("\n");for(var Y=0;Y<m.length;Y++){var e=m[Y].trim();
if(e.startsWith("#include")){var z=e.slice(e.indexOf("\"")+1,e.lastIndexOf("\"")),L=C[z];if(L==null)alert("\""+z+"\" not found in the Local Storage");
m[Y]=dT.aln(W.U8(new Uint8Array(L)),C)}}return m.join("\n")};dT.prototype.ajK=function(i){var C=this.axz.indexOf(i.currentTarget);
this.oy.value=dT.iA[C].IU};dT.iA=[{zm:"Hello",IU:"\nalert(\"Hello Photopea!\");\n"},{zm:"Process Layers",IU:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{zm:"Clone Layers",IU:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ep(){by.call(this,[11,7],"newproject");this.data=null;this.UO=null;this.d6=0;var i=d.t("div","flexrow");
this.lA=i;this.body.appendChild(i);var C=d.t("div","form");this.EV=C;i.appendChild(C);this.K6=new kz([12,48],null,10);
C.appendChild(this.K6.n);d._Z(C);this.xj=new ap(!0,null,null,null,!0);this.xj.c(new b5(1280,720),72);
this.xj.ad5(!0,!0);this.xj.k(v.E.p,this.ER,this);C.appendChild(this.xj.n);this.EZ=new aq;this.EZ.parent=this;
C.appendChild(this.EZ.n);this.T7=new c1("\u02C5",null,[0,14],!0);this.T7.k("click",this.QZ,this);C.appendChild(this.T7.n);
var m=this.m0=d.t("span");C.appendChild(m);m.style.display="none";this.a0Y=new ib([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
m.appendChild(this.a0Y.n);this.$X=new em([1,16,1]);m.appendChild(this.$X.n);this.uH=new c1([12,49],!0,null,!0);
this.uH.k("click",this.f5,this);C.appendChild(this.uH.n);var e=ep.CT,z=[];for(var Y=0;Y<e.length;Y++)z.push(e[Y].name);
this.A_=new iw(null,z);this.A_.k(v.E.p,this.aAO,this);C.appendChild(this.A_.n);this.A_.n.style["margin-top"]="1em";
this.$o=new gL(!0);this.$o.k(v.E.p,this.ajm,this);C.appendChild(this.$o.n);this.aAO();this.HP=new j4;
this.HP.parent=this;this.HP.n.setAttribute("style","margin-left:1em");this.HP.k("tempready",this.am$,this)}ep.prototype=new by;
ep.prototype.QZ=function(i){var C=this.m0,m=C.style.display!="none";C.style.display=m?"none":"";this.T7._H(m?"\u02C5":"\u02C4");
this.Oh(this.HG,this.bB)};ep.prototype.P6=function(i,C){this.HP.P6(i)};ep.prototype.Ck=function(i,C){return new b5(Math.max(0,Math.min(70,(i-690)/2)),i>C?Math.max(0,Math.min(50,(C-400)/2)):0)};
ep.prototype.Oh=function(i,C){this.HG=i;this.bB=C;this.EV.setAttribute("style","width:"+Math.min(i-24,338)+"px");
this.$o.n.style.height=C-248-(this.m0.style.display=="none"?0:28)+"px";var m=this.HP.n,e=m.parentNode;
if(i<500){if(e!=null)this.lA.removeChild(m)}else{if(e==null)this.lA.appendChild(m);this.HP.Oh(i-378,C-28)}};
ep.prototype.ER=function(){this.HP.c(this.xj.h())};ep.prototype.ajm=function(i){var C=this.$o.h()[0],m=ep.CT[this.A_.h()].Ih[C],e=m[4];
if(e==0)e=72;var z=m[1],L=m[2],l=["px","%","mm","in"].indexOf(m[3]),x=[1,1,25.4/e,1/e][l];z/=x;L/=x;
this.xj.c(new b5(Math.round(z),Math.round(L)),e);this.xj.aAT(l);this.ER();if(Date.now()-this.d6<300)this.f5();
this.d6=Date.now()};ep.prototype.aAO=function(i){var C=ep.CT[this.A_.h()].Ih,m=[],e=[],z=Math.round(106*d.XP()),L=Math.round(106*d.XP()),l=0;
for(var Y=0;Y<C.length;Y++)l=Math.max(l,C[Y][1],C[Y][2]);for(var Y=0;Y<C.length;Y++){var x=C[Y],S=x[1]+" x "+x[2]+" "+x[3];
if(x[3]=="in")S=(x[1]*25.4).toFixed(0)+" x "+(x[2]*25.4).toFixed(0)+" mm";if(x[3]=="mm")S=(x[1]/25.4).toFixed(1)+" x "+(x[2]/25.4).toFixed(1)+" in";
if(x[4])S=S+" @ "+x[4]+" ppi";e.push(S);m.push(ep.lU(x,z,L,l))}this.$o.Tu(m,e,z,L)};ep.lU=function(i,C,m,e){var z=d.t("canvas",""),L=z.getContext("2d");
z.width=C;z.height=m;var l=Math.round(C/8),x=Math.floor(11*d.XP()),S=i[1],k=i[2];L.fillStyle="#000000";
L.font=Math.round(x*.9)+"px \"Open Sans\", Sans-Serif";var f=S+" x "+k+" "+i[3],X=L.measureText(f);L.fillText(f,Math.round((C-X.width)/2),m-Math.round(l/2));
if(i[0]!=null){L.font="bold "+x+"px \"Open Sans\", Sans-Serif";var f=i[0],X=L.measureText(f);L.fillText(f,Math.round((C-X.width)/2),m-Math.round(l/2)-Math.round(x*1.3))}m-=Math.round(2.5*x);
var o=Math.min((C-l)/S,(m-l)/k);o*=.5+.5*(Math.max(S,k)/e);var A=(C-S*o)/2,P=(m-k*o)/2;L.strokeRect(Math.round(A)+.5,Math.round(P)+.5,Math.round(S*o),Math.round(k*o));
return z.toDataURL()};ep.prototype._=function(){by.prototype._.call(this);this.xj._();this.K6._();this.EZ._();
this.uH._();this.K6.c(bC.get([11,7]));this.A_._();this.$X._();this.T7._();this.HP._()};ep.prototype.f5=function(i){var C=this.xj.h(),m=C.x,e=C.y;
this.close();var z=this.EZ.h(),L=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a0Y.h()],l=new eX(v.E.HW,!0);
l.data=ei.sf(m,e,this.xj.$u(),this.K6.h(),["Wht","Blck","Trns","Clr"][z[0]],this.$X.h(),z[1],L);this.T(l);
this.a97()};ep.prototype.am$=function(i){var C=i.data.n4;C.lC=this.xj.$u();var m=new eX(v.E.H,!0);m.data={d:v.B.D7,n4:C};
this.T(m);this.close();this.a97()};ep.prototype.a97=function(){var i=this.UO[this.UO.length-1],C=this.data.ax4;
if(C)an.vl(function(){var m=new XMLHttpRequest,e="https://www.googleapis.com/drive/v3/files?"+an.LM();
m.open("POST",e,!0);m.setRequestHeader("Content-Type","application/json");m.addEventListener("load",function(z){var L=JSON.parse(z.target.response);
i.tT={file:L,bX:"psd"};alert(i.name+" created in Google Drive")});m.send(JSON.stringify({name:i.name,aay:[C]}))})};
ep.prototype.bw=function(i,C,m,e){this.UO=m;if(i!=null&&i.u!=null){var z=new j2(0,0,i.m,i.J).G_(i.u.rect);
this.xj.c(new b5(z.m,z.J))}this.data=C;this.ER();if(d.Il())g_.aoX(this.pO.bind(this))};ep.prototype.pO=function(i){if(i=="granted")g_.QU(this,this.BY.bind(this))};
ep.prototype.BY=function(i,C){this.xj.c(new b5(C.m,C.J))};ep.CT=[{name:"Social",Ih:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Ih:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Ih:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Ih:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Ih:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Ih:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",Ih:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fi(i,C,m){by.call(this,C,"sel_"+i);this.d=i;var e=d.t("div","form");this.body.appendChild(e);
this.K6=new db(C,0,255,null,0,!1,!0);e.appendChild(this.K6.n);this.K6.c(1);var z=d.t("span");z.textContent=m;
e.appendChild(z);d._Z(e);this.ab9=new em("Apply at canvas bounds");if(i!="border")e.appendChild(this.ab9.n);
this.uH=d.KN(this,e)}fi.prototype=new by;fi.prototype.cd=function(i,C){if(i==null)return;if(i.u==null)alert("No selection!");
return i.u!=null};fi.prototype.f5=function(i){var C=new eX(v.E.HW,!0);C.data=$.Z3.th(this.d,this.K6.h(),this.ab9.h());
C.W0=!0;this.T(C);this.close()};fi.prototype._=function(){by.prototype._.call(this);this.uH._();if(this.K6)this.K6._()};
fi.prototype.bw=function(i,C){this.K6.CQ()};function f8(i,C,m,e,z,L){by.call(this,m,C);this.ajF=L;this.dG=z;
this.CT=null;this.EV=d.t("div","form");this.body.appendChild(this.EV);this.a8V=d.t("div");this.EV.appendChild(this.a8V);
var l=500;if(e){var x=e.split(",");e=x[0];if(x[1])l=parseFloat(x[1])}this.K6=i==0?new kz(m,null,10):i==1?new dd(m,0,l,e,1):new kz(m,null,24,5);
this.K6.k(v.E.p,this.Vz,this);this.EV.appendChild(this.K6.n);this.uH=d.KN(this,this.EV);this.k("closebtn",this.D2,this)}f8.prototype=new by;
f8.prototype.Ck=function(i,C){return new b5(Math.max(0,Math.min(150,(i-250)/2)),Math.max(0,Math.min(150,(C-120)/2)))};
f8.prototype._$=function(){return this.ajF};f8.prototype.Vz=function(i){var C=this.K6.h();if(this.dG)this._R(C)};
f8.prototype.D2=function(i){if(this.dG)this._R("cancel")};f8.prototype.f5=function(i){if(this.dG)this._R("confirm");
else this._R(this.K6.h());this.close()};f8.prototype._R=function(i){if(this.CT.G$)this.CT.G$(i);else if(this.CT.Jo){var C=this.CT.Jo,m=new eX(C.K,!0);
m.f=C.f;m.data=C.A;m.data.b=i;m.W0=!0;this.T(m)}};f8.prototype._=function(){by.prototype._.call(this);
this.uH._();if(this.K6)this.K6._()};f8.prototype.bw=function(i,C){this.CT=C;this.K6.c(C.GZ);this.K6.CQ();
this.a8V.innerHTML=C.a0W?C.a0W:"";this.Vz(null)};function ig(){by.call(this,[1,5],"open_from_url");this.v2=null;
var i=d.t("div","form");this.body.appendChild(i);this.nl=new kz("URL",null,22);i.appendChild(this.nl.n);
d._Z(i);this.AK=new iw([21,0],[[21,2],[21,1]]);i.appendChild(this.AK.n);this.uH=d.KN(this,i)}ig.prototype=new by;
ig.prototype._=function(){by.prototype._.call(this);this.uH._();this.AK._()};ig.prototype.bw=function(i,C,m){this.nl.CQ();
this.v2=null;if(i&&m.indexOf(i)!=-1)this.v2=m.indexOf(i)};ig.prototype.f5=function(i){var C=new eX(v.E.H,!0),m=this.nl.h();
C.data={d:v.B.Df,N5:{url:m,oH:!0,v2:this.AK.h()==1?this.v2:null}};this.T(C);this.close()};function js(){by.call(this,[12,79],"preferences");
this.os=null;var i=d.t("div","form");this.body.appendChild(i);this.wO=[new em([8,2]),new hv,new em([8,4]),new hv,new ib([12,80,3],[[12,93,3],[12,80,4]]),new dd([12,80,5],.02,100,null,2),new ib(null,I.up._Y),new ib([12,80,6],I.up._Y),new em("Remind me to save"),new em("Glass Menus"),new dd("Cursor Offset",0,200)];
for(var Y=0;Y<this.wO.length;Y++){var C=this.wO[Y];C.parent=this;C.k(v.E.p,this.s1,this);if(Y==8)continue;
i.appendChild(C.n);if(Y!=0&&Y!=2&&Y!=3&&Y!=5)d._Z(i)}}js.prototype=new by;js.prototype._=function(){by.prototype._.call(this);
for(var Y=0;Y<this.wO.length;Y++)this.wO[Y]._()};js.prototype.bw=function(i,C,m){};js.prototype.P6=function(i,C){this.os=i;
var m=i.Cv;this.wO[0].c(m.Nb);this.wO[1].Iw(m.Gi);this.wO[2].c(m.mH);this.wO[3].Iw(m.He);this.wO[4].c(m.i1);
this.wO[5].c(m.I0);this.wO[6].c(m.oB);this.wO[7].c(m.d5);this.wO[8].c(i.gY==1);var z=window.locStor.getItem("__glm");
this.wO[9].c(z=="1");this.wO[10].c(i.Xo)};js.prototype.s1=function(i){var C=this.wO;if(i.target==C[8])this.os.gY=1-this.os.gY;
var m=JSON.parse(JSON.stringify(this.os.Cv));m.Nb=C[0].h();m.Gi=C[1].qH();m.mH=C[2].h();m.He=C[3].qH();
m.i1=C[4].h();m.I0=C[5].h();m.oB=C[6].h();m.d5=C[7].h();window.locStor.setItem("__glm",C[9].h()?"1":"0");
this.os.Xo=C[10].h();var e=new eX(v.E.H,!0);e.data={d:v.B.Mc,N5:dm.Yb,yu:m};this.T(e)};function b3(){by.call(this,[11,8],"saveforweb");
this.a49="";this.k("closebtn",function(){this.Fy.eT()},this);this.n4=null;this.Oa=null;this.afW=null;
this.os=null;d.uc(this.body,"flexrow");this.body.style.padding="0";var i=d.t("div");i.setAttribute("style","position:relative;");
var C=d.t("div");this.body.appendChild(i);this.body.appendChild(C);this.zG=d.t("div","imgcont");i.appendChild(this.zG);
this.Fy=new iz;this.Fy.Oh(512,512);var m=this.Y1=d.t("video");m.setAttribute("controls","");m.setAttribute("preload","auto");
m.setAttribute("loop","");this.FO=d.t("div");this.FO.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
i.appendChild(this.FO);var e=this.EV=d.t("div","form cell");e.setAttribute("style","width:195px; padding:9px 13px;");
C.appendChild(e);this.fU=new kz([12,48],null,7.6);this.fU.AF();e.appendChild(this.fU.n);var z=i$.am();
z[z.indexOf("WEBP")]="webP";this.y4=new ib([12,50],z);this.y4.n.style.marginRight="0";this.y4.AF();e.appendChild(this.y4.n);
this.y4.k(v.E.p,this.PT,this);d._Z(e);this.xj=new ap(!0,!0,!1,!0);this.xj.AF();this.xj.k(v.E.p,this.PT,this);
this.xj.gR.n.style.paddingBottom="8px";e.appendChild(this.xj.n);this.WS=new cR;this.WS.k(v.E.p,this.PT,this);
e.appendChild(this.WS.n);this.Av=new c1([1,2],!0,null,!0);this.Av.k("click",this.f5,this);e.appendChild(this.Av.n)}b3.prototype=new by;
b3.prototype.cd=function(i,C){return i!=null};b3.prototype._=function(){by.prototype._.call(this);this.xj._();
this.fU._();this.y4._();this.WS._();this.Av._()};b3.prototype.f5=function(i){var C=this.fU.h().trim(),m=i$.am()[this.y4.h()],e=m=="JPG"||m=="PNG"||m=="GIF"||m=="SVG",z=i$.AL(m),L="."+m.toLowerCase(),l=this.Oa,x=C+L,S=this.n4,k=S.xE,f=this.WS.h();
if(S.Io())f.pop();if(k.length!=0&&e&&f.pop()){var X="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",o=[],A={},P=new j2(0,0,S.m,S.J),F=S.I6();
for(var Y=0;Y<k.length;Y++)o.push($.FD.Tw(k,Y));o.reverse();var n=I.rect.abn([0,0,S.m,S.J],o);for(var Y=0;
Y<n.length;Y++){var R=n[Y],Q=new j2(R[0],R[1],R[2]-R[0],R[3]-R[1]),s=R.length==5?k[R[4]].v:null,j=I.R(Q.P()*4);
I.fF(F,P,j,Q);var _="img/img"+(Y+1)+L;A[_]=new Uint8Array(z.B3([[j.buffer,0,S.lC,S.tr]],Q.m,Q.J,f));
X+="<div style=\"background-image:url('"+_+"'); left:"+Q.x+"px; top:"+Q.y+"px; width:"+Q.m+"px; height:"+Q.J+"px\">";
if(s&&s.url.v!="")X+="\n\t<a href=\""+s.url.v+"\" target=\""+s.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
X+="</div>\n"}X+="</body>\n</html>\n";var B=I.R(Math.round(X.length*1.5)),N=W.ab(X,B,0);A["index.html"]=B.slice(0,N);
l=UZIP.encode(A);x=C+".zip"}else if(S.add.artd&&S.add.artd.Cnt.v>1&&e&&f.pop()){var A={},P=new j2(0,0,S.m,S.J),F=S.I6(),a=S.root.children;
for(var Y=0;Y<a.length;Y++){var O=a[Y].a,q;if(O.add.artb==null||!O.gF())continue;var H=O.d3();if(m=="SVG")q=new Uint8Array(z.B3(S,H.m,H.J,f,this.os,Y));
else{var h=I.R(H.P()*4);I.fF(F,P,h,H);q=new Uint8Array(z.B3([[h.buffer,0,S.lC,S.tr]],H.m,H.J,f))}A[O.getName()+L]=q}l=UZIP.encode(A);
x=C+".zip"}var D=function(){if(S.KK)g_.BP("act=1&id="+S.KK);this.Fy.eT();this.close();var p=new eX(v.E.H,!0);
p.data={d:v.B.SQ,data:l,name:x};this.T(p)}.bind(this);if(!this.os.rJ||a8.md()){D();return}if(hQ.Y0==0){hQ.bI(D);
return}var T=hQ.qN()!=0;D();var p=new eX(v.E.H,!0),y=ch.wq("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),b=ch.wq(";QJXQ_*II9"),g=function(){p.data={d:v.B.c6,pw:"account"};
this.T(p)}.bind(this);if(T){y=ch.wq("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
g=function(){};b=null}p.data={d:v.B.c6,pw:ch.On,b:y,G$:g,a5u:b};if(Math.random()<.1||T)this.T(p)};b3.prototype.bw=function(i,C){if(C.Kp!=null)this.y4.c(C.Kp);
this.n4=i;var m=this.n4.name,e=m.lastIndexOf("."),m=e==-1?m:m.slice(0,e);this.fU.c(m);var z=i.m+","+i.J;
if(z!=this.a49){this.a49=z;this.xj.c(new b5(i.m,i.J),i.lC)}this.WS.aCZ();if(C.a4c){this.xj.aAT(3);this.WS.K4.PDF[2].iq.c(!0)}this.PT(null,!0)};
b3.prototype.ayA=function(i,C){return i<C&&i<660};b3.prototype.Ck=function(i,C){return this.ayA(i,C)?new b5(0,0):new b5(Math.max(0,Math.min(150,(i-770)/2)),Math.max(0,Math.min(150,(C-590)/2)))};
b3.prototype.Oh=function(i,C,m){this.HG=i;this.bB=C;if(this.n4==null)return;var e=this.Av.n,z=this.ayA(i,C),L,l,o="<span style=\"width:",A="display:inline-block; text-align:right;\">";
if(z){var x=this.EV.getBoundingClientRect().height;L=i;l=C-Math.max(x,252);d.nP(this.body,"flexrow")}else{L=Math.min(512,i-195-2*13);
l=Math.min(512,C-24);d.uc(this.body,"flexrow")}var S=z?i-2*13:195;this.EV.style.width=S+"px";this.fU.Kj.style.width=S-77+"px";
this.xj.Oh(S);var k=i$.am()[this.y4.h()],f=i$.AL(k);if(f.yC||f.qk)this.zG.firstChild.setAttribute("style","display:block; width:"+L+"px; height:"+l+"px;");
else{this.Fy.Oh(L,l);this.Y1.width=L;this.Y1.height=l}var X=this.Oa.byteLength,P=o+64+"px;"+A+b3.WF(X)+"</span>";
if(L>400)P+=o+90+"px; opacity:"+.5+";"+A+X.toLocaleString()+" B</span>";this.FO.innerHTML=P;if(m)setTimeout(function(){this.Oh(this.HG,this.bB)}.bind(this),20)};
b3.WF=function(i){var C=i.toString(2),m=0;while(m+10<C.length)m+=10;var e=(i/Math.pow(2,m)).toFixed(1);
if(e.endsWith(".0"))e=e.slice(0,-2);var z="B KB MB GB TB PB".split(" ")[Math.floor(m/10)];return e+" "+z};
b3.prototype.P6=function(i,C){this.os=i};b3.prototype.PT=async function(i,C){var m=this.n4,e=this.xj.h(),z=e.x,L=e.y,l=this.y4.h(),x=i$.am()[l],S=i$.pL(m)[0].length,k=["GIF","PNG","WEBP","MP4"].indexOf(x)!=-1&&S>1,R="";
if(k&&x!="MP4"&&C&&(S>4&&z*L>1024*1024||z*L*S>800*800*50)){var f=1;while(Math.max(z>>>f,L>>>f)>800)f++;
var X=window.confirm("Your animation is large ("+z+" x "+L+" px). Press \"OK\" to scale it to "+(100>>>f)+"%. Press \"Cancel\" to keep the size.");
if(X){this.xj.c(new b5(z>>>f,L>>>f),null,!0);z=z>>>f;L=L>>>f}}var o=m.add.artd,A=o!=null&&o.Cnt.v>1,P=m.Io();
this.WS.Dk(x,k,m.xE.length!=0,A,P!=null);var F=window.locStor.getItem("sfwPrms");if(F==null)F={};else{F=JSON.parse(F);
if(F.MP4&&F.MP4[0]==100)F.MP4[0]=50}var n=this.WS.h();if(i&&i.target==this.WS){F[x]=n;window.locStor.setItem("sfwPrms",JSON.stringify(F))}else if(F[x]){this.WS.c(F[x],!0);
n=this.WS.h()}this.Oa=await i$.Nn(m,x,z,L,n,this.os);if(this.Oa==null){this.n4=null;return}d._l(this.zG);
this.Fy.eT();var Q=i$.AL(x);if(Q.qk){this.zG.innerHTML="<div></div>"}else if(Q.yC){var s=z,j=L,_;if(x=="PDF"||x=="AI"){_=URL.createObjectURL(new Blob([this.Oa],{type:"application/pdf"}))}else{_=URL.createObjectURL(new Blob([this.Oa],{type:"image/svg+xml"}))}this.zG.innerHTML="<iframe src=\""+_+"\"></iframe>"}else if(x=="MP4"){var _=URL.createObjectURL(new Blob([this.Oa]));
this.Y1.setAttribute("src",_);this.zG.appendChild(this.Y1)}else{var B=this.afW=Q.pX(this.Oa),N=B[0],a=N.Jw,s=a.m,j=a.J;
if(N.H1){var O=ICC.R(N.H1.buffer),H=17,q=ICC.U.sampleLUT(O,H);for(var Y=0;Y<B.length;Y++){var h=new Uint8Array(B[Y].data);
ICC.U.applyLUT(q,H,h,h)}}this.Fy.c(B,B.length>1?n[n.length-3]:0);this.zG.appendChild(this.Fy.n);R="background: rgba(0,0,0,0);"}this.zG.setAttribute("style","display:block; "+(Q.qk?"background:rgba(0,0,0,0);":"background-size:"+16/d.XP()+"px;")+R);
this.Oh(this.HG,this.bB,C)};function cK(){by.call(this,[11,13],"shortcuts");this.os=null;var i=this.lA=d.t("div","scrollable");
i.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(i);
this.mJ()}cK.prototype=new by;cK.prototype._=function(){by.prototype._.call(this);this.mJ()};cK.prototype.P6=function(i,C){this.os=i};
cK.prototype.bw=function(i,C,m,e){if(d.bv(this.n))this.mJ()};cK.prototype.mJ=function(){var i="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",C="",m=jD,e=m.Uj,z=m.$I,L=m.rb;
C+="<h2 style=\"margin-top:0;\">Main Menu</h2>";C+=i;C+=this.oY([[0,0],"---",[1,0],[e,m.Lz],[1,2],[e,m.xv],[1,3],[z,e,m.xv],[1,8],[L,z,e,m.xv],[0,1],"---",[2,0],[z,e,m.uA],[2,1],[e,m.uA],[5,0],[e,m.gA],[5,1],[e,m.Cl],[5,2],[e,m.AH],[2,2],"Delete",[2,3],[L,m.sk],[10,16],[L,e,m.f3],[12,79],[e,m.WP],[3],"---",[4,1],[e,m.nJ],[4,2],[e,m._X],[4,5],[e,m.wA],[4,11],[e,m.k$],[0,3],"---",[6,13],[z,e,m.Rf],[6,49,0],[e,m.NI],[6,6,0],[L,e,m.yM],[6,9],[e,m.yM],[6,10],[e,m.E],[0,5],"---",[7,0],[e,m.B],[7,1],[e,m.pJ],[7,2],[z,e,m.k$],[0,7],"---",[8,0],[e,m.Ek],[8,1],[e,m.Mn],[8,3],[e,m.eB],[8,2],[e,m.Ro],[8,4],[e,m.Tp],[11,13],"?"]);
C+="</div>";C+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";C+=i;C+=this.oY(["Vertical scroll","Wheel","Horizontal scroll",[e,"Wheel"],"Zooming",[L,"Wheel"]]);
C+="</div>";C+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
C+=i;C+=this.oY([[10,11],[e],[10,7],"Space",[10,17],[e,m.uE]]);C+="</div>";C+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
C+=i;var l=[],x=this.os;if(x==null)return;var S=x.s;for(var Y=0;Y<S.cJ.length;Y++){var k=S.cJ[Y],f=S.keys[Y];
for(var X=0;X<k.length;X++)l.push(k[X].f.name,f?f.zm:null)}l=l.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[e,m.LQ]]);
C+=this.oY(l);C+="</div>";this.lA.innerHTML=C};cK.prototype.oY=function(i){var C="",m=!0;for(var Y=0;
Y<i.length;Y+=2){var e=i[Y],z=jD.NU(i[Y+1]);if(z==null){m=!1;continue}var L=d._N(bC.get(e));if(z=="---"){if(!m)C+="<br/>";
C+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+L+"</div>"}else C+="<div>"+L+" <span style=\"float:right; font-weight:bold;\">"+z+"</span> </div>";
m=!1}return C};function aS(){by.call(this,[8,11,1],"soptions");this.rx=null;var i=d.t("div","form");
i.style.width="20em";this.body.appendChild(i);this.AD={Nm:[12,48],url:"URL",null:[12,71]};this.wO={};
for(var C in this.AD){var m=new kz(this.AD[C],null,15);this.wO[C]=m;i.appendChild(m.n)}this.a5f=new bd([12,14,0]);
i.appendChild(this.a5f.n);this.IS=new er(0,!0);i.appendChild(this.IS.n);this.uH=d.KN(this,i)}aS.prototype=new by;
aS.prototype.bw=function(i,C,m){var e=C.b;this.rx=JSON.stringify(e);for(var z in this.AD){if(e[z])this.wO[z].c(e[z].v)}var L=e.bounds.v,l=L.Left.v,x=L.Top.v;
this.IS.c([l,x,L.Rght.v-l,L.Btom.v-x])};aS.prototype.f5=function(i){var C=JSON.parse(this.rx);for(var m in this.AD){var e=this.wO[m].h();
C[m]={t:"TEXT",v:e}}var z=this.IS.h();console.log(z);var L=C.bounds.v,l=z[0],x=z[1];L.Left.v=l;L.Top.v=x;
L.Rght.v=l+z[2];L.Btom.v=x+z[3];var S=new eX(v.E.v,!0);S.f=$.$r;S.data=C;S.W0=!0;this.T(S);this.close()};
aS.prototype._=function(){by.prototype._.call(this);this.uH._();this.a5f._();this.IS._()};function ae(){by.call(this,[2,3],"fill");
this.os=null;this.uS=null;var i=d.t("div","form padded");i.style.width="22em";this.body.appendChild(i);
this.WI="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.t5=new ib([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.t5.k(v.E.p,this.acR,this);i.appendChild(this.t5.n);this.zG=d.t("span");i.appendChild(this.zG);this.yr=new hv;
this.yr.parent=this;this.yr.Iw(0);this.bh=new cO;this.bh.parent=this;this.J_=new ib([12,19,0],aw.jI,aw._g);
i.appendChild(this.J_.n);this.FS=new dd([12,0],0,100,"%",0,!1);this.FS.c(100);i.appendChild(this.FS.n);
this.PP=new em([13,5]);this.PP.c(!1);i.appendChild(this.PP.n);this.uH=d.KN(this,this.body)}ae.prototype=new by;
ae.prototype.cd=function(i,C){return i!=null};ae.prototype._$=function(){return!0};ae.prototype.acR=function(){var i=this.t5.h(),C=this.yr.n,m=this.bh.n,e=this.zG;
if(i==2)e.appendChild(C);else if(e.contains(C))e.removeChild(C);if(i==7)e.appendChild(m);else if(e.contains(m))e.removeChild(m)};
ae.prototype._=function(){by.prototype._.call(this);this.t5._();this.J_._();this.FS._();this.PP._();
this.uH._()};ae.prototype.f5=function(i){if(!this.uS.KT())return;var C=new eX(v.E.HW,!0),m=this.t5.h();
C.data=$.N9.WA(this.WI[m],aw.Az[this.J_.h()],this.FS.h()/100,this.yr.h(),this.PP.h(),this.bh.h());this.close();
this.T(C)};ae.prototype.bw=function(i,C){this.uS=i};ae.prototype.P6=function(i,C){this.os=i;if(C==dm.cX||C==dm.nZ){this.bh.dp(i.VN);
this.bh.c({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function bD(){by.call(this,[14,9],"stroke");this.os=null;this.EV=d.t("div","form");this.EV.setAttribute("style","width:24em");
this.body.appendChild(this.EV);this.vB=new cA("FrFX",!0);this.vB.parent=this;var i=["Sz","Styl","Md","Opct"].concat(jt.pb);
for(var Y=0;Y<i.length;Y++){var C=this.vB.as[i[Y]].n;this.EV.appendChild(C)}this.Bi=!1;this.uH=d.KN(this,this.body)}bD.prototype=new by;
bD.prototype.cd=function(i,C){return i!=null};bD.prototype._$=function(){return!0};bD.prototype._=function(){by.prototype._.call(this);
this.uH._();this.vB._()};bD.prototype.f5=function(i){var C=this.vB.h(),m={classID:"Strk"};m.Md=C.Md;
m.Opct=C.Opct;m.Clr=C.Clr;m.Wdth={t:"long",v:C.Sz.v.val};var e=jt.stroke.types.indexOf(C.Styl.v.FStl);
m.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][e]}};var z=new eX(v.E.HW,!0);z.data={o0:"stroke",t6:m};
this.close();this.T(z)};bD.prototype.bw=function(i,C){if(!this.Bi){var m=jt.qx[jt.order.indexOf("FrFX")];
m=JSON.parse(m);this.vB.update(i,m);this.Bi=!0}var m=this.vB.h(),e=this.os.Dm;m.Clr.v=I.I.$q({Z:e>>16&255,r:e>>8&255,e:e&255});
this.vB.update(i,m)};bD.prototype.P6=function(i,C){this.os=i};function et(){by.call(this,[11,9],"textwarp");
this.wO=new hW;this.wO.k(v.E.p,this.Lb,this);this.wO.parent=this;this.EV=d.t("div","form");this.EV.setAttribute("style","width:20em");
this.body.appendChild(this.EV);this.EV.appendChild(this.wO.BS.n);this.EV.appendChild(this.wO.gs.n);this.EV.appendChild(this.wO.vw.n);
this.EV.appendChild(this.wO.FT.n);this.EV.appendChild(this.wO.WO.n);this.uH=d.KN(this,this.EV);this.k("closebtn",this.D2,this)}et.prototype=new by;
et.prototype._$=function(){return!0};et.prototype._=function(){by.prototype._.call(this);this.uH._();
this.wO._()};et.prototype.Lb=function(i){var C=this.wO.h();this._R({d:"warp",lu:C})};et.prototype._R=function(i){var C=new eX(v.E.v,!0);
C.f=$.ck;C.data=i;C.W0=!0;this.T(C)};et.prototype.D2=function(i){this._R({d:"warpCancel"})};et.prototype.f5=function(i){this._R({d:"warpConfirm"});
this.close()};et.prototype.bw=function(i,C){var m=i.M[i.g[0]];this.wO.c(m.add.TySh.ZM)};function eW(){by.call(this,[11,12,0],"trim");
var i=this.EV=d.t("div","form");this.EV.setAttribute("style","width:22em");this.body.appendChild(this.EV);
var C=new bd("Color To Trim:");i.appendChild(C.n);this.px=new as(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.px.c([!0]);this.EV.appendChild(this.px.n);var C=new bd("Sides:");i.appendChild(C.n);this.Pv=new as(null,["Top","Left","Bottom","Right"]);
this.Pv.c([!0,!0,!0,!0]);this.EV.appendChild(this.Pv.n);this.uH=d.KN(this,this.body)}eW.prototype=new by;
eW.prototype.cd=function(i,C){return i!=null};eW.prototype._$=function(){return!0};eW.prototype._=function(){by.prototype._.call(this);
this.px._();this.Pv._();this.uH._()};eW.prototype.f5=function(i){var C=this.px.h().indexOf(!0),m=this.Pv.h(),e=new eX(v.E.HW,!0);
e.data=$.lx.Jh(C,m);this.close();this.T(e)};function go(){by.call(this,"Raw Photopea","rawpea");this.W1=null;
this.QN=null;this.body.style.padding="0";var i=this.w3=new jg["Adobe Camera Raw Filter"](!0),C="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(i.n);this.uH=new c1([1,0],!0,null,!0);this.uH.k("click",this.f5,this);this.cN=new c1(C+" JPG",!0,null,!0);
this.cN.k("click",this.awb,this);this.cN.n.style.marginTop="6px";i.bR(this.uH.n);i.bR(this.cN.n)}go.prototype=new by;
go.prototype.Ck=function(){return new b5(0,0)};go.prototype.Oh=function(i,C){this.w3.Oh(i,C)};go.prototype._=function(){by.prototype._.call(this);
this.w3._()};go.prototype.awb=function(i){var C=this.W1,m=this.QN,e=i$.AL("JPG").B3([[this.w3.h(!0).buffer]],m.w5,m.SG,[85]),z=new eX(v.E.H,!0);
z.data={d:v.B.SQ,data:e,name:"photo.jpg"};this.T(z)};go.prototype.f5=function(i){var C=this.W1,m=this.QN,e=kB.Ti(C),C={Jw:new j2(0,0,m.w5,m.SG),data:this.w3.h(!0).buffer,tr:e},z=i$.Jd("Raw Photo",[C]),L=new eX(v.E.H,!0);
L.data={d:v.B.D7,n4:z};this.T(L);this.Zi();this.close()};go.prototype.Zi=function(){this.W1=null;this.QN=null;
this.w3.aou()};go.prototype.bw=function(i,C,m,e){this.W1=C.FY;var z=this.QN=I.raw.adV(this.W1),L=I.raw.aDQ(C.FY),l=h6.acz(L);
I.raw.XZ(z.S2,z.S2,C.FY,[l.kX,l.qC]);var x=ft.TQ("Adobe Camera Raw Filter");this.w3.c(x,z.S2,new j2(0,0,z.w5,z.SG))};
function km(i){by.call(this,i?[11,11,0]:[11,11,1],i?"vbitmap":"rcolors");this.CT=null;this.CR=null;this.fg=null;
this.RZ=null;this.p5=null;this.aDm=null;this.R6=null;this.YV="";this.vn=i;this.gP=this.ZT.bind(this);
this.ro=!1;this.body.style.padding="0";this.EV=d.t("div","form hbar padded");this.body.appendChild(this.EV);
var C=this.Ax={cnum:new db([12,82],2,50,null),nois:new em([12,81]),mode:new ib(null,["Cartoon","Photo"]),segm:new em("Segmentize"),cbok:new em("Coloring book"),poly:new em("Polygon"),merg:new em("Merge colors"),polE:new db("Roughness",2,30,null),dthr:new em([12,23,3]),ok:d.KN(this,null,!1)},L=16;
for(var m in C){var e=C[m];e.parent=this;if(m!="ok")e.k(v.E.p,this.ZT,this)}var z=this.Gd=d.t("div","flexrow");
this.body.appendChild(z);z.setAttribute("style","background-color:var(--bg-canvas)");this.Ej=new iz;
this.Ej.k("viewchange",this.M_,this);this.mK=new iz;this.B2=d.t("canvas");this.B2.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.Hs=this.B2.getContext("2d");var l=I.R(16*16*4);I.EC(l,L,L,8);this.iX=I.scale._2(l,L,L);this.Ej.ale(this.B2);
this.Ej.ik(this.mK);this.mK.ik(this.Ej);z.appendChild(this.Ej.n);if(i)z.appendChild(this.B2);else z.appendChild(this.mK.n)}km.prototype=new by;
km.prototype.Ck=function(){return new b5(0,0)};km.prototype._$=function(){return!0};km.prototype.Oh=function(i,C){this.HG=i;
this.bB=C;C=C-44;if(i<600)C-=29;if(this.CT==null)return;var m=this.CT.Jw,e=hf.aAZ(i,C,m.m,m.J);if(e==1)C-=3;
if(e==0){i=Math.floor(i/2);d.uc(this.Gd,"flexrow")}else{C=Math.floor(C/2);d.nP(this.Gd,"flexrow")}d.Ay(this.B2,i,C);
this.Ej.Oh(i,C);if(this.vn)this.M_();else this.mK.Oh(i,C)};km.prototype.xC=function(i,C,m,e){this.Ej.xC(e)};
km.prototype._=function(){by.prototype._.call(this);for(var i in this.Ax)this.Ax[i]._()};km.prototype.bw=function(i,C){this.R6=i;
this.p5=null;var m=i.M[i.g[0]],e=I.kg.akB(m.buffer.buffer,m.rect.m,m.rect.J).aCM,z=e/((m.rect.m-2)*(m.rect.J-2)),L=this.Ax;
L.cnum.c(20);L.nois.c(z<.75);L.mode.c(z<.75?1:0);L.segm.c(!1);L.cbok.c(!1);L.poly.c(!1);L.merg.c(!0);
L.polE.c(1);L.dthr.c(!1);var l=m.rect.clone();l.x=l.y=0;this.CT={Jw:l,data:m.buffer.buffer.slice(0)};
this.CR=null;this.Oh(this.HG,this.bB);this.Ej.c([this.CT]);this.Ej.Pc();this.ro=!0;setTimeout(this.gP,20)};
km.prototype.ZT=function(){var i=!0,C=Date.now(),m=this.CT,e=this.Ax,z=e.cnum.h(),L=e.nois.h(),l=e.mode.h(),x=e.segm.h(),S=e.cbok.h(),k=e.poly.h(),f=e.merg.h(),X=e.polE.h(),H=null;
if(l==0)x=k=S=!1;var o=e.dthr.h(),A=["cnum","nois","mode"];if(l==1){A.push("cbok");if(this.vn){A.push("poly");
if(k)A.push("polE")}}if(this.vn)A.push("merg");else A.push("dthr");A.push("ok");d._l(this.EV);for(var Y=0;
Y<A.length;Y++)this.EV.appendChild(e[A[Y]].n);if(i)console.log("---------------------------------------");
var P=L||x,F=L+","+x;if(P&&(this.CR==null||this.YV!=F)){this.YV=F;var n=new Uint8Array(m.data),R=m.Jw.m,Q=m.Jw.J;
if(L){if(this.p5==null){this.p5=n.slice(0);I.Lc.xe=35;I.Lc._j(this.p5,this.p5,R,Q,15,1);if(i){console.log("denoise",Date.now()-C);
C=Date.now()}}n=this.p5.slice(0)}else n=n.slice(0);if(x){var s=I.kg.kG(n,R,Q,40,10),j=s.WP,_=new Uint8Array(j*4);
for(var Y=0;Y<j;Y++){var B=Y*4,N=Y*6,a=1/s.Np[N+5];_[B]=s.Np[N]*a;_[B+1]=s.Np[N+1]*a;_[B+2]=s.Np[N+2]*a}for(var Y=0;
Y<n.length;Y+=4){var O=s.sD[Y>>>2]*4;n[Y]=_[O];n[Y+1]=_[O+1];n[Y+2]=_[O+2]}if(i){console.log("segm",Date.now()-C);
C=Date.now()}}this.CR={Jw:m.Jw.clone(),data:n.buffer}}if(P)m=this.CR;var n=new Uint8Array(m.data),R=m.Jw.m,Q=m.Jw.J;
for(var Y=0;Y<n.length;Y+=4){if(n[Y+3]<10)n[Y]=n[Y+1]=n[Y+2]=n[Y+3]=0}if(l==0){H=I.kg.aaO(n,R,Q,z,P?.1:2e-4);
if(i){console.log("quantize",Date.now()-C);C=Date.now()}}if(l!=0||H&&H.ri.length<2){H=a9.a0c(n.buffer,z,R,Q,null,S)}if(this.vn){var q=H.sD.slice(0);
for(var Y=0;Y<q.length;Y++)q[Y]++;var h=new Uint8Array((R+2)*(Q+2));I.Vo(q,new j2(1,1,R,Q),h,new j2(0,0,R+2,Q+2));
if(!k){var D=Math.round((R+2)*(Q+2)/1e4),T=gu.if(h.slice(0),R+2,Q+2,Math.min(12,D)),p=gu.bM(T);if(i){console.log("trace smooth",Date.now()-C);
C=Date.now()}}else{var p=I.C.auv(h,R+2,Q+2,X,i)}var y=p.length,b=new hN(1,0,0,1,-1,-1);for(var Y=0;Y<y;
Y++)I.C.i(p[Y].path.j,b,p[Y].path.j);this.RZ=p;this.fg=H;for(var Y=0;Y<y;Y++){var g=p[Y];for(var u=Y+1;
u<y;u++){var t=p[u];if(t.parent==Y&&H.ri[t.color-1].est.q[3]<.05){var V=t.path.G.slice(1),c=V.pop();
if(c!="Z")V.push(c);V.reverse();V=["M"].concat(V);if(c=="Z")V.push("Z");var E=[],T=t.path.j.length;for(var Z=0;
Z<T;Z+=2){E[Z]=t.path.j[T-2-Z];E[Z+1]=t.path.j[T-2-Z+1]}I.C.concat(g.path,{j:E,G:V})}}}if(i){console.log("finding holes",Date.now()-C);
C=Date.now()}for(var Y=0;Y<p.length;Y++){var G=p[Y];if(G.parent!=-1){var J=p[G.parent];G.parent=J;if(J.d2==null)J.d2=[];
J.d2.push(G)}G.depth=G.parent==-1?0:G.parent.depth+1}if(f){function K(gh,r){var ga={},d5=0,fu=0;for(var Y=0;
Y<gh.length;Y++){var w=gh[Y].color,Z="c"+w;if(w==r)throw w;if(ga[Z]==null)ga[Z]=0;ga[Z]++;if(ga[Z]>d5){d5=ga[Z];
fu=w}}return fu}var M=[],U=[],r=-1,dS=!0;for(var Y=0;Y<p.length;Y++)if(p[Y].parent==-1)U.push(p[Y]);
while(U.length!=0){var w=K(U,r);r=w;for(var Y=0;Y<U.length;Y++)if(U[Y].color==w){var di=U[Y];M.push(di);
U.splice(Y,1);Y--;if(di.d2)for(var u=0;u<di.d2.length;u++){U.push(di.d2[u]);if(di.d2[u].color!=w)dS=!1}}}if(dS)p=M;
else{var eM=[];for(var j5=0;j5<500;j5++){var ds=[],T=eM[j5-1];eM.push(ds);for(var Y=0;Y<p.length;Y++){var G=p[Y],J=G.parent;
if(j5==0&&J==-1||j5!=0&&T.indexOf(J)!=-1){ds.push(G);p.splice(Y,1);Y--}}ds.sort(function(gh,ga){return gh.color-ga.color});
if(p.length==0)break}for(var Y=0;Y<eM.length;Y++)p=p.concat(eM[Y])}}else{var M=[],ba=[];while(p.length!=0){ba.push(p.shift());
while(ba.length!=0){var gH=ba.pop();M.push(gH);if(gH.d2)for(var Y=0;Y<gH.d2.length;Y++){var G=gH.d2[Y];
p.splice(p.indexOf(G),1);ba.push(G)}}}p=M}this.RZ=p;for(var Y=0;Y<p.length;Y++){var g=p[Y],ir=H.ri[g.color-1].est.q;
if(ir[3]<=.05){p.splice(Y,1);Y--;continue}}for(var Y=1;Y<p.length;Y++){var iP=p[Y-1],g=p[Y];if(iP.color==g.color&&(f||iP.parent==g.parent&&iP.depth>=2)){I.C.concat(iP.path,g.path);
p.splice(Y,1);Y--;continue}}if(i){console.log("reordering layers",Date.now()-C,y,p.length);C=Date.now()}this.M_()}else{var iy=new Uint32Array(R*Q),iG=R*Q,eg=this.aDm=new Uint8Array(iy.buffer);
if(o){var du=[];for(var Y=0;Y<H.ri.length;Y++)du.push(H.ri[Y].est.rgba);var O=I.R(R*Q);UPNG.encode.dither(new Uint8Array(m.data),R,Q,du,eg,O)}else{for(var Y=0;
Y<iG;Y++){var w=H.ri[H.sD[Y]];iy[Y]=w.est.rgba}}this.mK.c([{Jw:m.Jw,data:iy.buffer}]);if(this.ro){this.mK.Pc();
this.ro=!1}}};km.prototype.M_=function(i){if(this.RZ==null)return;var C=this.CT.Jw.m,m=this.CT.Jw.J,e=this.RZ,z=this.fg.ri,L=this.B2,l=this.Hs,x=this.Ej.h7();
l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,L.width,L.height);l.translate(L.width/2,L.height/2);l.scale(x.U,x.U);
l.translate(x.F.x/x.U-C/2,x.F.y/x.U-m/2);l.scale(1/x.U,1/x.U);l.fillStyle=this.iX;l.fillRect(0,0,C*x.U,m*x.U);
l.scale(x.U,x.U);var S=[];for(var Y=0;Y<z.length;Y++){var k=z[Y].est.q;S.push({Z:Math.round(255*k[0]),r:Math.round(255*k[1]),e:Math.round(255*k[2]),W:Math.round(255*k[3])})}for(var Y=0;
Y<e.length;Y++){var f=e[Y],k=S[f.color-1];if(k.W==0)continue;l.fillStyle="rgba("+k.Z+","+k.r+","+k.e+","+k.W/255+")";
l.beginPath();Typr.U.pathToContext({crds:f.path.j,cmds:f.path.G},l);l.fill()}};km.prototype.f5=function(i){var C=this.R6,m=C.g[0],e=C.M[m],z=new eX(v.E.v,!0);
z.W0=!0;z.f=$.bH;if(this.vn){var L=this.RZ,l=L.length==1,x=C.M.slice(0,m);if(!l)x.push(C.b$());for(var Y=0;
Y<L.length;Y++){var S=L[Y],f=this.fg.ri[S.color-1].est.q;I.C.i(S.path.j,new hN(1,0,0,1,e.rect.x,e.rect.y),S.path.j);
var X=C.Sv();X.yY("Path "+Y);x.push(X);X.opacity=Math.round(f[3]*255);X.de|=16;X.add.SoCo={classID:"null",Clr:{t:"Objc",v:I.I.$q({Z:255*f[0],r:255*f[1],e:255*f[2]})}};
X.add.vmsk=new cc.hF;X.add.vstk=jt.lc.TQ(!0);X.add.vmsk.$=I.C.aZ(S.path,!1);X.add.vogk=[];X.tO();X.rH(C)}var o=x[x.length-1];
if(!l){var X=C.Sv();X.yY(e.getName());X.add.lsct=aU.AY;X.fn="pass";X.de=24;x.push(X);o=X}var A=e.add.lmfx;
if(A)o.add.lmfx=JSON.parse(JSON.stringify(A));for(var Y=m+1;Y<C.M.length;Y++)x.push(C.M[Y]);z.data={d:cc.cb,JF:x,sU:[m+L.length+(l?-1:1)],jj:[11,11,0]}}else{var x=C.M.slice(0),X=C.Sv();
X.yY(e.getName());x.splice(C.g[0]+1,0,X);X.rect=e.rect.clone();X.buffer=this.aDm;X.Y();z.data={d:cc.cb,JF:x,sU:[C.g[0]+1],jj:[11,11,1]}}this.T(z);
this.close()};function hf(i){by.call(this,[[7,11],[7,13]][i],["redge","magiccut"][i]);this.px=i;this.CT={};
this.lX=null;this.p7=null;this.R6=null;this.ps=null;this.Is=null;this.body.style.padding="0";this._m=[];
this.MY=-1;this.EV=d.t("div","form hbar padded");this.body.appendChild(this.EV);this.ms=new bc;this.ms.parent=this;
this.ms.k(v.E.p,this.W8,this);this.EV.appendChild(this.ms.n);var C=i==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
C=C.concat("tools/hand","zoomIn","zoomOut");var m=i==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.eV=new cb(null,C,m,28);this.eV.k(v.E.p,this.xC,this);this.EV.appendChild(this.eV.n);this.nY=new db([7,9],0,50,null);
this.nY.parent=this;this.nY.k(v.E.p,[this.alp,this.ZT][i],this);this.EV.appendChild(this.nY.n);var e=this.ag9=new c1([2,2],!1,null,!0);
e.k("click",this.Zi,this);this.EV.appendChild(e.n);var z=this.Wl=d.t("span","form");this.EV.appendChild(z);
var L=this.adq=new c1([12,90],!1,null,!0);L.k("click",function(S){alert(i==0?bC.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
z.appendChild(L.n);var l=new c1("Tutorial",!1,null,!0);l.k("click",this.ai8,this);z.appendChild(l.n);
this.re=new cb([12,46],["checker","#ffffff","#000000"]);this.re.k(v.E.p,this.aiY,this);z.appendChild(this.re.n);
this.dY=new ib(null,[[6,13],[6,2],[17,2]]);z.appendChild(this.dY.n);this.uH=d.KN(this,z,!1);var x=this.Gd=d.t("div","flexrow");
this.body.appendChild(x);this.B0=new iz(!0);this.nS=new iz;this.B0.ik(this.nS);this.nS.ik(this.B0);this.B0.k("mousedown",this.MU,this);
this.B0.k("mousemove",this.bz,this);this.B0.k("mouseup",this.f9,this);this.B0.k("zoom",this.W8,this);
this.nS.k("zoom",this.W8,this);x.appendChild(this.B0.n);x.appendChild(this.nS.n)}hf.prototype=new by;
hf.prototype.cd=function(i,C){var m=i!=null&&!i.M[i.g[0]].rect.bs();if(!m)alert("The layer is empty.");
return m};hf.prototype.Ck=function(){return new b5(0,0)};hf.prototype._$=function(){return!0};hf.prototype.Oh=function(i,C){this.HG=i;
this.bB=C;C=C-12-33;if(i<900){this.Wl.setAttribute("style","display:block;  text-align:right;");C-=29}else{this.Wl.setAttribute("style","position:absolute;  right:0px")}this.re._H(i<440?null:[12,46]);
this.nY._H(i<470?null:[7,9]);var m=this.CT.rect;if(m){var e=hf.aAZ(i,C,m.m,m.J);if(e==0){i=Math.floor(i/2);
d.uc(this.Gd,"flexrow")}else{C=Math.floor(C/2);d.nP(this.Gd,"flexrow")}this.B0.Oh(i,C);this.nS.Oh(i,C)}};
hf.aAZ=function(i,C,m,e){var z=i/2,L=C/2,l=Math.min(z/m,C/e),x=Math.min(i/m,L/e);return l>x?0:1};hf.prototype._=function(){by.prototype._.call(this);
this.ms._();this.nY._();this.uH._();this.re._();this.dY._();this.ag9._();this.adq._()};hf.prototype.ai8=function(i){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.px],"_blank")};
hf.prototype.P6=function(i,C){this.p7=i;if(C==dm.go||C==dm.cX){this.ms.dp(i.iy);this.ms.c(iH.UD(),i.iy.fT,i.iy.bh)}};
hf.prototype.xC=function(i,C,m,e){var z=this.eV.h();if(e==null){this.B0.xC(iz.kC(z-3));return}this.ps=e;
var L=$.N9.c7(this.ms.h(),e);if(L!=null){this.ms.c(L);this.W8()}else if(e.S(jD.Uj)&&e.S(jD.uA)){var l=this._m,x=0;
if(e.S(jD.$I)){if(this.MY+1<l.length)x=1}else if(this.MY>0)x=-1;if(x!=0){this.MY+=x;var S=this.MY,k=this.CT;
if(x==1)I.fF(l[S][2],l[S][0],k.hy,k.rect);else I.fF(l[S+1][1],l[S+1][0],k.hy,k.rect);k.pH=k.rect;this.ZT()}}else if(z<3)this.B0.xC(e)};
hf.prototype.zg=function(i){var C=this.CT,m=this._m,e=I.R(i.P()*4);I.fF(C.ax,C.rect,e,i);C.ax=null;var z=I.R(i.P()*4);
I.fF(C.hy,C.rect,z,i);this.MY++;m[this.MY]=[i.clone(),e,z];while(m.length>this.MY+1)m.pop();while(m.length>50){m=m.slice(1);
this.MY--}};hf.prototype.W8=function(){var i=this.p7,C=eY.Fi(this.ms.h(),i.iy.fT,this.B0.h7().U);this.B0.DK(C)};
hf.prototype.MU=function(i){var C=this.p7,m=this.CT,e=this.ps,z=this.ms.h(),L=this.B0.k0(),l=[16777215,8421504,0][this.eV.h()];
this.lX=new eY(z,C.iy.fT,C.iy.bh,{Hh:1,YR:!0},l,C.yv,m.rect);m.ax=m.hy.slice(0);if(e!=null&&e.S(jD.$I)&&this.Is){this.lX.moveTo(this.Is.x,this.Is.y);
this.lX.lineTo(L.x,L.y)}else this.lX.moveTo(L.x,L.y);this.ahs()};hf.prototype.bz=function(i){var C=this.CT,m=this.B0.k0();
this.lX.lineTo(m.x,m.y);this.ahs()};hf.prototype.f9=function(i){this.Is=this.B0.k0();this.zg(this.lX.HK());
this.ZT()};hf.prototype.ahs=function(){var i=this.CT,C=this.lX,m=C.q1();if(m.bs())return;i.pH=m;I.l.Qv("norm",C.yN(),C.S8(),i.hy,i.rect,m,1);
this.age()};hf.prototype.Zi=function(i){var C=this.CT;C.ax=C.hy.slice(0);C.pH=C.rect;I.eS(C.hy,[4278190080,4292730333][this.px]);
this.zg(C.rect);this.ZT()};hf.prototype.bw=function(i,C){this.R6=i;var m=i.M[i.g[0]],e=m.rect.clone(),z=e.m,L=e.J,S;
this.nY.c(this.px==0?3:z*L<3e6?3:0);this.eV.c(i.u==null?0:1);this.nY.hH();if(this.px==0&&i.u!=null||this.px==1)this.nY.WN();
var l=this.px,x=I.R(e.P());if(l==0&&i.u){I.Vo(i.u.channel,i.u.rect,x,e);var k=I.R(e.P());for(var f=0;
f<L;f++)for(var X=0;X<z;X++){var Y=f*z+X,o=x[Y];if(X>0&&x[Y-1]!=o||X<z-1&&x[Y+1]!=o||f>0&&x[Y-z]!=o||f<L-1&&x[Y+z]!=o)k[Y]=255}S=I.style.bt(k,S,z,L)}else{S=new Float32Array(e.P());
S.fill(1e9)}e.x=e.y=0;this.CT={rect:e,S2:m.buffer,Ii:x,va:S,YN:I.R(e.P()*4),Ee:I.R(e.P()*4),hy:I.R(e.P()*4),ax:null,OS:null,pH:e,atL:{}};
if(l==0)this.alp();else{this.CT.atL=$.Jj.a6K(i);var A=this.CT.hy;I.eS(A,4287137928);var P=I.fs.getSelection(m.buffer,z,L),F=Math.round(z/60),n=Math.round(.7*L);
for(var f=0;f<L;f++)for(var X=0;X<z;X++){var R=(f*z+X)*4,Q=P[R>>>2];Q=Q>128?255:128;if(f<F||f<n&&(X<F||X>z-1-F))Q=0;
A[R]=A[R+1]=A[R+2]=Q}this.ZT()}this._m=[1];this.MY=0;var s=this.ms.h();s.Brsh.v.Dmtr.v.val=Math.round(e.m/(l==0?10:20));
this.ms.c(s);this.W8();this.Oh(this.HG,this.bB);this.B0.Pc()};hf.prototype.alp=function(){var i=this.CT,C=i.rect.P(),m=this.nY.h(),e=i.Ii.slice(0);
for(var Y=0;Y<C;Y++)if(i.va[Y]<m)e[Y]=128;I.eS(i.hy,4294967295);I.uC(e,i.hy,0);I.uC(e,i.hy,1);I.uC(e,i.hy,2);
i.pH=i.rect;this.ZT()};hf.prototype.ZT=function(){var i=this.CT,z,x,S=0,k=0,f=0;this.age();var C=i.rect,m=C.m,e=C.J,L=I.R(C.P()),l=i.S2;
I.Ud(i.hy,L,0);for(var Y=0;Y<L.length;Y++){if(l[(Y<<2)+3]!=255)continue;var X=L[Y];if(X==0)S++;else if(X==255)k++;
else f++}if(S*k*f!=0){if(this.px==0)x=I.ga.ga(C,l,L);else{var o=this.eV.h();for(var A=1;A<e;A++)for(var P=1;
P<m;P++){var Y=A*m+P,F=L[Y],n=L[Y-1];if(F==0&&n==255||F==255&&n==0){z="The Red and Green should never touch! Erase it with Grey.";
break}}var R=Date.now(),Q=this.CT.atL;I.EP(L,Q.L6);$.Jj.qf(Q,!0,this.R6);var s=Math.ceil(this.nY.h()/2);
if(s==0){x=l.slice(0);I.uC(Q.u,x,3)}else{var j=Q.u.slice(0),_=Q.u.slice(0);for(var B=0;B<s;B++){for(var A=1;
A<e-1;A++)for(var P=1;P<m-1;P++){var Y=A*C.m+P,N=j[Y];if(j[Y-m]!=N||j[Y-1]!=N||j[Y+1]!=N||j[Y+m]!=N)_[Y]=128;
else _[Y]=N}var a=j;j=_;_=a}for(var A=0;A<e;A++)for(var P=0;P<m;P++){var Y=A*m+P;if(L[Y]==0||L[Y]==255)j[Y]=L[Y]}x=I.ga.ga(C,l,j,20,!1)}}}else{x=l.slice(0);
I.uC(L,x,3)}for(var Y=3;Y<x.length;Y+=4)if(x[Y]>l[Y])x[Y]=l[Y];if(C.LJ(i.rect))i.OS=x;else I.fF(x,C,i.OS,i.rect);
this.aiY();if(z)alert(z,4e3)};hf.prototype.age=function(i){var C=this.CT,m=C.pH;I.fF(C.S2,C.rect,C.YN,C.rect,m,!0);
var e=C.hy,z=C.rect,L=Date.now();if(this.px==1){var l=new Uint32Array(256);l[0]=4278190335;l[255]=4278255360;
var x=I.R(m.P()*4),S=m.P();I.fF(e,z,x,m);e=x;z=m;var k=new Uint32Array(e.buffer);for(var Y=0;Y<S;Y++)k[Y]=l[k[Y]&255]}console.log(Date.now()-L);
I.l.Qv("norm",e,z,C.YN,C.rect,m,.3);this.B0.c([{Jw:C.rect,data:C.YN.buffer}],null,null,m)};hf.prototype.aiY=function(i){var C=this.CT;
I.eS(C.Ee,[0,4294967295,4278190080][this.re.h()]);I.l.Qv("norm",C.OS,C.rect,C.Ee,C.rect,C.rect,1);this.nS.c([{Jw:C.rect,data:C.Ee.buffer}])};
hf.prototype.f5=function(i){var C=this.R6,m=this.CT,e=this.dY.h(),z=C.M[C.g[0]],L=new eX(v.E.v,!0);L.W0=!0;
var l=z.rect.clone();if(e==0&&z.gF()||e!=0&&!z.gF()){L.f=$.bH;L.data={d:cc.at,a:C.g[0]};this.T(L)}if(C.u!=null){L.f=$.iH;
L.data={d:"fromAction",bG:$.Z3.BT()};this.T(L)}if(e==0){var x=C.M.slice(0),S=C.Sv();S.yY(z.getName());
x.splice(C.g[0]+1,0,S);S.rect=l;S.buffer=m.OS;S.Y();L.f=$.bH;L.data={d:cc.cb,JF:x,sU:[C.g[0]+1],jj:[7,11]};
this.T(L)}if(e==1){var f=z.Re();L.f=$.bH;L.data={d:cc.XE,agT:!0};this.T(L);var X=z.Re();X.channel=I.R(l.P());
X.rect=l;X.color=0;X.kL=!0;I.Ud(m.OS,X.channel,3);if(f){var o=X.oW(f);X.rect=o.rect;X.channel=o.channel;
X.color=o.color}X.gv();z.rH()}if(e==2){var A={rect:l,channel:I.R(l.P())};I.Ud(m.OS,A.channel,3);L.f=$.iH;
L.data={d:"setsel",u:A,jj:this.jW};this.T(L)}this.close()};function hR(){by.call(this,[1,13],"locstor");
this.os=null;this.Nq=[];var i=this.body,C=d.t("p");C.textContent="These files are loaded every time you start Photopea.";
i.appendChild(C);this.aaE=0;this.F0=d.t("span");i.appendChild(this.F0);this.F0.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var m=d.t("span","form");i.appendChild(m);this.hq=new c1([5,4],!1,null,!0);this.hq.k("click",this.Of,this);
m.appendChild(this.hq.n);this.KX=new c1("Get all as ZIP",!1,null,!0);this.KX.k("click",this.Ja,this);
m.appendChild(this.KX.n);this.oz=new gL(!0);this.oz.parent=this;this.oz.Va(1);i.appendChild(this.oz.n);
this.oz.n.setAttribute("style","width: 40em; height: 25em")}hR.prototype=new by;hR.prototype._=function(){by.prototype._.call(this);
this.F0.textContent=bC.get([13,2])+": "+b3.WF(this.aaE);this.hq._()};hR.prototype.P6=function(i,C){this.os=i;
if(C==dm.bK)this.bw()};hR.prototype.bw=function(i,C){var m=this.os.sR.kB,S=0;this.Nq=[];for(var e in m)this.Nq.push(e);
this.Nq.sort(function(f,X){f=f.split(".");X=X.split(".");return f[1]==X[1]?f[0]<X[0]?-1:1:f[1]<X[1]?-1:1});
var z=Math.floor(100*d.XP()),L=Math.floor(16*d.XP()),l=[],x=[];for(var Y=0;Y<this.Nq.length;Y++){var e=this.Nq[Y],k=hR.lU(e,m[e],z,L);
l.push(k);x.push(e);S+=m[e].byteLength}this.oz.Tu(l,x,z,L);this.aaE=S;this._()};hR.prototype.Of=function(i){var C=this.oz.h();
if(C.length==0){alert("Select a file first.");return}this.oz.c([]);var m=this.os.sR.kB;for(var Y=0;Y<C.length;
Y++)delete m[this.Nq[C[Y]]];var e=new eX(v.E.H,!0);e.data={d:v.B.Mc,N5:dm.bK};this.T(e)};hR.prototype.Ja=function(i){var C=this.os.sR.kB,m={};
for(var e in C)m[e]=new Uint8Array(C[e]);var z=UZIP.encode(m);g_.save(z,"resources.zip")};hR.lU=function(i,C,m,e){var z=d.t("canvas"),x=0;
z.width=m;z.height=e;var L=z.getContext("2d"),l=i.split(".").pop().toLowerCase();for(var Y=0;Y<l.length;
Y++)x+=l.charCodeAt(Y)*613<<8*Y;L.fillStyle="#"+I.dP(x&16777215);L.fillRect(0,0,20,e);var S=Math.floor(14*d.XP());
L.fillStyle="#000000";L.font="bold "+S+"px sans-serif";var k=(e-S)/2,f=b3.WF(C.byteLength),X=L.measureText(f);
L.fillText(f,m-12-X.width,e-k);return z.toDataURL()};function be(){by.call(this,[1,15],"pmanager");this.os=null;
this.Pl=new ib([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.Pl.k(v.E.p,this.bw,this);
this.body.appendChild(this.Pl.n);var i=d.t("div","flexrow");this.body.appendChild(i);var C=this.any=d.t("div");
i.appendChild(C);var m=d.t("div","form");i.appendChild(m);m.setAttribute("style","width:140px; margin-left:12px");
this.a8c=[dm.go,dm.AU,dm.nZ,dm.nx,dm.Tl,dm.ij];this.ZE=[new bc,new jv,new cO,new a0,new aO,new i3];for(var Y=0;
Y<this.ZE.length;Y++)this.ZE[Y].parent=this;this.xK=[];for(var Y=0;Y<4;Y++){var e=new c1("Hello",!0,null,!0);
e.k("click",this.Ac,this);this.xK.push(e);m.appendChild(e.n)}this.bw()}be.prototype=new by;be.prototype.Xu=function(i){return i==jD.nR||i==jD.sk};
be.prototype.Ac=function(i){var Y=this.xK.indexOf(i.target);this.ZE[this.Pl.h()].X4(Y)};be.prototype._=function(){by.prototype._.call(this);
this.Pl._();for(var Y=0;Y<this.ZE.length;Y++)this.ZE[Y]._();var i=this.xK,C=this.Pl.h(),m=dm.Gh[this.a8c[C]],e=m[0].toUpperCase();
i[0]._H([[23,6],"."+e]);i[1]._H(["VAR0 ."+e,[1,8]]);i[2]._H([6,37]);i[3]._H([5,4])};be.prototype.P6=function(i,C){this.os=i;
this.bw()};be.prototype.bw=function(i,C){if(!d.bv(this.n))return;this._();d._l(this.any);this.any.appendChild(this.ZE[this.Pl.h()].R2);
var m=this.ZE,e=this.os;if(e==null)return;m[0].dp(e.iy);m[1].ef(e.Dm,e.yv);m[1].dp(e.Wc);m[2].dp(e.VN);
m[3].dp([e.Qb,e.VN]);m[4].dp(e.Qu);m[5].dp(e.Y7)};function bH(i,C,m){by.call(this,C,"cwindow");this.ac$=new b5(m[0],m[1]-33);
this.EV=d.t("div","form");this.EV.setAttribute("style","width:"+(m[2]-m[0])+"px; height:"+(m[3]-m[1])+"px");
this.body.appendChild(this.EV)}bH.prototype=new by;bH.prototype.Ck=function(i,C){return this.ac$.clone()};
function ju(i){var C=ju.afi(i);by.call(this,C,"res"+i);var m=this.atK.bind(this);window.addEventListener("message",function(z){if(typeof z.data=="string"&&z.data.startsWith("--et ")){console.log(z.data);
var L=this.afI=z.data.slice(5).split(",");L[0]=parseFloat(L[0]);a8.yI(L[0],L[1],m)}}.bind(this));this.fU=C;
this.jT=i;this.aBA=null;this.tv=null;this.Rb=0;this.IL=null;this.tX=null;this.afI=null;this.os=null;
this.body.setAttribute("style","padding:0");this.mk=new c1("",null,null,!0);this.body.appendChild(this.mk.n);
this.mk.k("click",this.Y6,this);this.mk.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.WW=new c1("\u25BC",null,null,!0);this.WW.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.WW.k("click",this.aw6,this);this.body.appendChild(this.WW.n);this.eI=d.t("span","form");this.body.appendChild(this.eI);
this.xK=[];for(var Y=0;Y<9;Y++){var e=new c1(ju.afi(Y));this.xK.push(e);if(Y==i)e.c(!0);this.eI.appendChild(e.n);
e.k("click",this.aE2,this)}this.Ct=new c1([5,3],null,null,!0);this.Ct.k("click",this.a8S,this);this.a9i=new c1("Upload Current Document as a Template",null,null,!0);
this.a9i.k("click",this.aDR,this);this.aX=new kz("Creator / Brand name");this.Av=new c1([1,2],null,null,!0);
this.Av.k("click",this.Ja,this);this.K_=d.t("iframe","scrollable");this.K_.setAttribute("style","border:none; margin:0; padding:0;");
this.oD=d.t("div","form scrollable padded");this.vT=new co(i);this.vT.k("back",this.Zi,this);this.vT.k("save",this.ate,this);
this.body.appendChild(this.K_)}ju.prototype=new by;ju.afi=function(i){var C;if(i==0)C=[25,0];else if(i==1)C="Plugins";
else for(var m in dm.Gh)if(dm.Gh[m][4]==i)C=dm.Gh[m][3];return C};ju.prototype.aw6=function(i){this.eI.style.display=this.eI.style.display=="none"?"":"none"};
ju.prototype.aE2=function(i){var Y=this.xK.indexOf(i.target);if(Y==this.jT)return;this.close();var C=new eX(v.E.H,!0);
C.data={d:v.B.c6,pw:"res"+Y};this.T(C)};ju.prototype.atK=function(i){this.Y6();this.tX=JSON.parse(i.target.response);
this.g9()};ju.prototype.Ck=function(i,C){return new b5(0,0)};ju.prototype.Oh=function(i,C){this.HG=i;
this.bB=C;this.uS=null;C=C-4;i=i;var m=i>820,e="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",z="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.eI.setAttribute("style",m?e:z);this.eI.style.marginTop=(m?-31:0)+"px";this.WW.n.style.display=m?"none":"";
var L=this.oD;L.style.width=i-12+"px";L.style.height=C-12+"px";var L=this.vT.n;L.style.width=i-12+"px";
L.style.height=C-12+"px";var L=this.K_;L.style.width=i+"px";L.style.height=C+"px";this.Uv()};ju.prototype.P6=function(i,C){this.os=i};
ju.prototype._=function(){by.prototype._.call(this);for(var Y=0;Y<this.xK.length;Y++)this.xK[Y]._();
this.Ct._()};ju.prototype.bw=function(i,C,m,e){this.uS=i;this.Y6(null,!1)};ju.prototype.Y6=function(i,C){var m=C!=null?C:d.bv(this.K_);
if(m){if(!a8.Vi()){alert("You need to log in first!");return}var e=a8.h0();this.tv=e.tpl?e.tpl.list:[];
this.aX.c(e.tpl&&e.tpl.brnd?e.tpl.brnd:"");this.Uv()}else{this.K_.setAttribute("src","");this.K_.setAttribute("src","templates/?type="+this.jT+"&rsrc="+this.os.mb.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(m?this.oD:this.K_);var z=bC.get(this.fU);this.mk._H(m?"All "+z:"Add "+z)};ju.prototype.Uv=function(){var i=bC.get(this.fU),C=this.tv,m=this.jT,x=450;
if(C==null)return;var e=this.oD;d._l(e);var z=d.t("h1");e.appendChild(z);z.textContent="Share your "+i+" with the world!";
var L=d.t("ul");e.appendChild(L);var l=d.t("li");L.appendChild(l);l.textContent="By publishing your "+i+", you agree to let others use them for all kinds of purposes, even commercially.";
e.appendChild(this.Ct.n);if(m==0)e.appendChild(this.a9i.n);d._Z(e);e.appendChild(this.aX.n);e.appendChild(this.Av.n);
d._Z(e);x=(this.HG-20)/Math.max(1,Math.floor(this.HG/x))-42;var S="display:inline-block; width:"+x+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var Y=C.length-1;Y>=0;Y--){var k=C[Y];if(k.type==null)k.type=0;if(k.type!=m)continue;var f=d.t("div");
e.appendChild(f);f.setAttribute("style",S);var X=d.t("img");f.appendChild(X);X.setAttribute("src",k.thmb);
X.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var o=d.t("h3");f.appendChild(o);o.textContent=k.name;o.setAttribute("style","margin:0 0 10px 0");var A=d.t("p");
f.appendChild(A);A.textContent=k.desc;A.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var P=0;P<2;P++){var F=new c1(P==0?"Edit":"Delete",null,null,!0);F.avP=Y;F.g9=P==0;F.k("click",this.aDf,this);
f.appendChild(F.n)}}};ju.prototype.aDR=function(i){if(this.uS==null){alert("No document opened.");return}var C=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!C)return;var m=new eX(v.E.H,!0);m.data={d:v.B.KU,Kp:"psd",rQ:this.ak8.bind(this)};this.T(m)};ju.prototype.ak8=function(i){this.aq8=i;
var C=new eX(v.E.H,!0);C.data={d:v.B.KU,Kp:"jpg",rQ:this.aci.bind(this),a8G:1400};this.T(C)};ju.prototype.aci=function(i){this.IL={type:0,catg:0,desc:"",file:this.aq8,name:this.uS.name.split(".")[0],thmb:i,publ:!0,utme:""};
this.g9()};ju.prototype.a8S=function(i){this.IL={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.g9()};ju.prototype.aDf=function(i){this.Rb=i.target.avP;if(!i.target.g9){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.tv.splice(this.Rb,1);this.Ja();this.Uv();return}this.g9()};ju.prototype.g9=function(){if(d.bv(this.oD))this.body.removeChild(this.oD);
this.body.appendChild(this.vT.n);var i=this.IL?this.IL:this.tX?this.tX:this.tv[this.Rb];if(i.type==null)i.type=0;
this.vT.c(i)};ju.prototype.ate=function(i){var C=this.vT.h();if(this.IL)this.tv.push(C);else if(this.tX){var m=this.afI;
a8.yI(m[0],m[1],this.Zi.bind(this),JSON.stringify(C));return}else this.tv[this.Rb]=C;this.Ja();this.Zi()};
ju.prototype.Zi=function(){var i=this.tX;this.IL=null;this.tX=null;this.body.removeChild(this.vT.n);
this.body.appendChild(this.oD);this.Uv();if(i)this.Y6()};ju.prototype.Ja=function(){var i=a8.h0();if(this.tv.length==0)delete i.tpl;
else{i.tpl={list:JSON.parse(JSON.stringify(this.tv))};var C=this.aX.h().trim();if(C!="")i.tpl.brnd=C}a8.Z1(i,function(){alert("Saved.")})};
function cQ(){by.call(this,"Make Selection","makesel");this.os=null;var i=d.t("div","form");this.body.appendChild(i);
this.Tz=new em([12,25,1]);this.Tz.c(!0);i.appendChild(this.Tz.n);d._Z(i);this.zJ=new bh(!0);i.appendChild(this.zJ.n);
this.uH=d.KN(this,this.body)}cQ.prototype=new by;cQ.prototype._=function(){by.prototype._.call(this);
this.zJ._();this.Tz._();this.uH._()};cQ.prototype.f5=function(i){var C=new eX(v.E.v,!0);C.f=$.iH;C.data={d:"frompath",BR:[null,0,this.zJ.h(),this.Tz.h()]};
this.close();this.T(C)};function ar(){by.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.uS=null;this.UL=null;
this.Wj=null;var i=this.ak6=d.t("div","form");i.setAttribute("style","width:20em");this.body.appendChild(i);
this.y1=new iw([12,50],["PSD","PSB"]);this.y1.k(v.E.p,this.PT,this);i.appendChild(this.y1.n);d.PG(i);
var C=new bd("Minify the file");i.appendChild(C.n);d._Z(i);var m=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.ZD=[];for(var Y=0;Y<m.length;Y++){var e=new em(m[Y]);this.ZD.push(e);i.appendChild(e.n);e.k(v.E.p,this.PT,this)}d.PG(i);
this.Ib=new bd("aa.psd");this.ky=new bd("10 kB");i.appendChild(this.ky.n);this.aiB=new bd("1000 B");
i.appendChild(this.aiB.n);this.uH=new c1([1,2],!0,null,!0);this.uH.k("click",this.f5,this);i.appendChild(this.uH.n);
this.yj=new c1(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.yj.k("click",this.f5,this);i.appendChild(this.yj.n);
this.k("closebtn",this.D2,this)}ar.prototype=new by;ar.prototype.bw=function(i,C,m,e){var z=d.bv(this.yj.n),L=i.tT!=null&&i.tT.bX=="psd";
if(L&&!z)this.ak6.appendChild(this.yj.n);if(!L&&z)this.ak6.removeChild(this.yj.n);for(var Y=0;Y<this.ZD.length;
Y++)this.ZD[Y].c(!1);this.uS=i;this.PT()};ar.prototype.f5=function(i){if(i.target==this.uH)g_.save(this.UL,this.Wj);
else{if(this.ZD[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}c8.alX(this.uS,this.UL)}};
ar.prototype.D2=function(){this.uS=null;this.UL=null};ar.prototype.PT=function(){var i=this.uS,C=[!1,!1,!1,!1];
for(var Y=0;Y<3;Y++)C[Y]=this.ZD[Y].h();var m=this.ZD[3].h(),e=C[3]=this.y1.h()==1,z=i.name.slice(0,i.name.length-3),L=this.UL=i$.AL("PSD").B3(i,0,0,C),k7=this.Wj=z+"ps"+(e?"b":"d");
if(m){var l={};l[k7]=new Uint8Array(L);L=this.UL=UZIP.encode(l);k7=this.Wj=z+"zip"}this.Ib.c(k7);this.ky.c(b3.WF(L.byteLength));
this.ky.n.style["font-size"]="2em";this.aiB.c(" \u2001 "+L.byteLength+" B");this.uH._H(bC.get([1,2])+" \""+k7+"\"")};
ar.prototype._=function(){by.prototype._.call(this);this.y1._();this.uH._();this.yj._()};function gn(){by.call(this,"Confirm","confirm");
this.G$=null;var i=d.t("div");i.setAttribute("style","margin-bottom:1em");this.body.appendChild(i);this.K6=d.t("div");
this.K6.textContent="Hello";i.appendChild(this.K6);this.uH=d.KN(this,this.body)}gn.prototype=new by;
gn.prototype.f5=function(i){if(this.G$==null)return;console.log("okconfirm");this.close();this.G$();
this.G$=null};gn.prototype._=function(){by.prototype._.call(this);this.uH._()};gn.prototype.bw=function(i,C){if(C.am1)this.K6.innerHTML=C.b;
else this.K6.textContent=C.b;if(C.a5u)this.uH._H(C.a5u);this.G$=C.G$;this.uH.n.focus();if(C.am1!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.avX=C.am1!=null};gn.prototype.Ck=function(i,C){return new b5(Math.max(0,(i-500)/2),Math.max(0,Math.min(60,(C-100)/2)))};
gn.prototype.Oh=function(i,C){this.K6.style.width=i-30+"px"};function ie(){by.call(this,[1,16,2],"newartb");
this.px=0;this.B$=null;var i=d.t("div","form");i.style.width="260px";this.body.appendChild(i);this.oz=new ap;
i.appendChild(this.oz.n);this.uH=d.KN(this,i)}ie.prototype=new by;ie.prototype.cd=function(i,C){return i!=null};
ie.prototype.f5=function(i){var C=this.oz.h();this.B$.m=C.x;this.B$.J=C.y;var m=new eX(v.E.v,!0);m.f=$.h9;
m.data={a2O:this.B$,VU:this.px};this.T(m);this.close()};ie.prototype._=function(){by.prototype._.call(this);
this.oz._();this.uH._()};ie.prototype.bw=function(i,C){this.px=C.VU;var m=new j2(0,0,i.m,i.J);if(i.g.length!=0){var e=i.M[i.g[0]];
if(e.add.artb){m=e.d3();m.x+=m.m+100}if(C.VU==1)m=$.V.S8(i)}this.B$=m;this.oz.c(new b5(m.m,m.J))};function dD(){by.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.Lu=null;this.k("closebtn",this.Gx,this);this.k("canclose",this.Gx,this)}dD.prototype=new by;
dD.prototype.P6=function(i,C){if(this.Lu)this.Lu.P6(i,C)};dD.prototype.Ck=function(i,C){return new b5(Math.max(0,Math.min(150,(i-980)/2)),Math.max(0,Math.min(150,(C-590)/2)))};
dD.prototype.Oh=function(i,C){this.HG=i;this.bB=C;i=Math.min(i,980);C=Math.min(C,590);if(this.Lu)this.Lu.Oh(i,C)};
dD.prototype._=function(){by.prototype._.call(this);if(this.Lu)this.Lu._()};dD.prototype.bw=function(i,C,m,e){this.jW=C.VU==0?"Open from Storage":"Save to Storage";
this._();if(this.Lu==null){this.Lu=new fo;this.Lu.parent=this;this.body.appendChild(this.Lu.n);this._();
this.Oh(this.HG,this.bB)}Storage.Va(C.VU,i?i.name:"");fo.JN(this.Lu)};dD.prototype.Gx=function(i){Storage.Va(0);
fo.IH();if(i.type=="canclose")this.close()};function bM(){by.call(this,[2,14],"varsdats");var i=this.EV=d.t("div","form");
i.setAttribute("style","width:300px");this.body.appendChild(i);this.uS=null;this.Jt=0;this.os=null;this.wB=new iw(null,[[2,14],"Data Sets",[1,8]]);
this.wB.k(v.E.p,this.a21,this);this.Mb=new bM.Ov;this.QS=new bM.xB;this.Kg=new bM.ke;this.QS.k("activate",this.zv,this);
this.Kg.k("export",this.LU,this);this.uH=d.KN(this)}bM.prototype=new by;bM.prototype.a21=function(i){var C=this.wB.h(),m=this.EV;
d._l(m);m.appendChild(this.wB.n);d.PG(m);m.appendChild([this.Mb,this.QS,this.Kg][C].n);m.appendChild(this.uH.n)};
bM.prototype.f5=function(i){var C=new eX(v.E.v,!0);C.f=$.bH;C.data={d:cc.St,b:JSON.stringify([this.Mb.h(),this.QS.h()])};
this.T(C);this.close()};bM.prototype._=function(){by.prototype._.call(this);this.uH._();this.Kg._()};
bM.prototype.bw=function(i,C){this.uS=i;if(i==null)return;this.Mb.bw(i,C);this.QS.bw(i,C);this.wB.c(0);
this.a21();this.Jt=0};bM.prototype.P6=function(i,C){this.os=i};bM.prototype.LU=function(i){var C=this.Mb.h(),m=this.QS.h(),e=this.Kg.h();
if(C.length==0){alert("There are no variables.");return}if(m.length==0){alert("There are no data sets.");
return}var z=i$.avz(this.uS,C,m,this.QS.a2k(),e[0],e[1],e[2],this.os,this);if(z!=null)g_.save(z,"images.zip")};
bM.prototype.zv=function(i){var C=this.QS.g,m=this.Mb.h(),e=this.QS.h();if(m.length==0){alert("There are no variables.");
return}if(e.length==0){alert("There are no data sets.");return}this.dE();this.Jt+=i$.Hu(this.uS,this,m,e,this.QS.a2k(),C)};
bM.prototype.dE=function(){var i=new eX(v.E.v,!0);i.f=$.Z9;i.data={d:"h_stepbck"};while(this.Jt>0){this.T(i);
this.Jt--}};bM.ke=function(){k5.call(this);var i=this.n=d.t("div");this.qF=new kz("Variable for file names");
i.appendChild(this.qF.n);d.PG(i);this.EX=["JPG","PNG","PDF"];this.y1=new iw([12,50],this.EX);this.y1.k(v.E.p,this.ajP,this);
i.appendChild(this.y1.n);this.WS=new cR;i.appendChild(this.WS.n);this.ajP();this.KX=new c1("Export all items",!0,null,!0);
this.KX.k("click",this.LU,this);i.appendChild(this.KX.n)};bM.ke.prototype=new k5;bM.ke.prototype._=function(i){this.qF._();
this.y1._();this.KX._();this.WS._()};bM.ke.prototype.ajP=function(i){var C=this.EX[this.y1.h()];this.WS.Dk(C)};
bM.ke.prototype.LU=function(i){this.T(new eX("export"))};bM.ke.prototype.h=function(){var i=this.EX[this.y1.h()];
return[i,this.WS.h(),this.qF.h().trim()]};bM.xB=function(){k5.call(this);this.br=null;this.sv=[];this.g=0;
var i=this.n=d.t("div","form");this.GD=new az("Import a CSV file");i.appendChild(this.GD.n);this.GD.k(v.E.p,this.ayO,this);
this.uY=d.t("div","scrollable");this.uY.setAttribute("style","overflow:scroll;  height:234px;");i.appendChild(this.uY);
this.afE=new az("Source Images",!0);i.appendChild(this.afE.n)};bM.xB.prototype=new k5;bM.xB.prototype.ayO=function(i){var C=this.GD.h();
for(var m in C){C=C[m];break}this.br=ak.uU(W.U8(C));this.__()};bM.xB.prototype.a2k=function(){return this.afE.h()};
bM.xB.prototype.bw=function(i,C){var m=this.br=JSON.parse(JSON.stringify(i.yp));this.__()};bM.xB.prototype.h=function(){return this.br};
bM.xB.prototype.__=function(){var i=this.QQ.bind(this),C=this.br,e="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.sv=[];var m=d.t("table");m.setAttribute("style","border-collapse: collapse;");for(var Y=0;Y<C.length;
Y++){var z=d.t("tr"),L=C[Y],l=Y==0?"th":"td";m.appendChild(z);var x=d.t(l);z.appendChild(x);x.setAttribute("style",e+"cursor:pointer;");
if(Y!=0)x.textContent="\u2713";this.sv.push(x);x.addEventListener("click",i,!1);for(var S=0;S<L.length;
S++){var x=d.t(l);x.textContent=L[S];z.appendChild(x);x.setAttribute("style",e);x.setAttribute("title",L[S])}}d._l(this.uY);
this.uY.appendChild(m)};bM.xB.prototype.QQ=function(i){this.g=this.sv.indexOf(i.currentTarget);this.T(new eX("activate"))};
bM.Ov=function(){k5.call(this);var i=this.n=d.t("div","form marged");this.Kv=null;this.P5=[];this.fY=[];
this.nD=null;this.Xv=new ib([0,3],[]);this.Xv.k(v.E.p,this.acA,this);i.appendChild(this.Xv.n);this.y9=[];
var C=["Visibility","Text Content","Pixel Content"];for(var Y=0;Y<C.length;Y++){d.PG(i);var m=new em(C[Y]);
m.k(v.E.p,this.ec,this);i.appendChild(m.n);d._Z(i);var e=new kz("Variable Name");e.k(v.E.p,this.ec,this);
i.appendChild(e.n);this.y9.push(m,e)}};bM.Ov.prototype=new k5;bM.Ov.prototype.ec=function(i){var C=this.Xv.h(),m=this.nD[C],e=this.P5[C],z=this.Kv["l"+m],L=this.y9;
if(z==null)this.Kv["l"+m]=z=[];while(z.length!=0)z.pop();for(var Y=0;Y<3;Y++){var l=L[2*Y+1].h();if(!L[2*Y].h())continue;
var x={varName:l,trait:["visibility","textcontent","fileref"][Y]};z.push(x);if(Y==2){x.align="center";
x.clip="false";x.placementMethod="fit";x.valign="middle"}}if(z.length==0)delete this.Kv["l"+m];this.bw()};
bM.Ov.prototype.acA=function(i){var C=this.Xv.h(),m=this.nD[C],e=this.P5[C],z=this.Kv["l"+m],L=this.y9;
if(z==null)z=[];for(var Y=0;Y<3;Y++){var l=Y==0||Y==1&&e==0||Y==2&&e==1;L[2*Y].wo(l);L[2*Y].c(!1);L[2*Y+1].wo(l);
L[2*Y+1].c("")}for(var Y=0;Y<z.length;Y++){var x=z[Y],S=x.trait,k=["visibility","textcontent","fileref"].indexOf(S);
L[k*2].c(!0);L[k*2+1].c(x.varName)}};bM.Ov.prototype.bw=function(i,C){if(i){var m=JSON.parse(JSON.stringify(i.ut)),e=this.Kv={};
for(var Y=0;Y<m.length;Y++){var z=m[Y],L=z.docRef;L="l"+L.slice(4,L.length-2);if(e[L]==null)e[L]=[];
e[L].push(z)}this.nD=[];this.P5=[];this.fY=[];for(var Y=i.M.length-1;Y>=0;Y--){var l=i.M[Y],L=l.add.lyid;
if(l.getName()=="</Layer group>")continue;this.nD.push(L);this.P5.push(l.add.TySh?0:1);this.fY.push(l.getName())}}var x=[],S=this.fY;
for(var Y=0;Y<S.length;Y++){x.push(S[Y]+(this.Kv["l"+this.nD[Y]]?" *":""))}var k=this.Xv.h();this.Xv.bD(x);
this.Xv.c(k);this.acA()};bM.Ov.prototype.h=function(){var i=this.Kv,C=[];for(var m in i){var e=i[m];
for(var z=0;z<e.length;z++){e[z].docRef="id('"+m.slice(1)+"')";C.push(e[z])}}return C};function j3(){by.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.W$=!1;var i=this.Du=[],C=d.t("div","form");C.setAttribute("style","width:20em");this.body.appendChild(C);
for(var Y=0;Y<2;Y++){var m=new em([22,4,2+Y]);C.appendChild(m.n);d._Z(C);var e=new iw(null,[["N equal parts"],["N pixels per part"]]);
C.appendChild(e.n);d._Z(C);var z=new db("N",0,1e3);z.c(4);z.parent=this;C.appendChild(z.n);d._Z(C);if(Y==0)d.PG(C);
i.push(m,e,z)}for(var Y=0;Y<i.length;Y++)i[Y].k(v.E.p,this.OL,this);i.push(d.KN(this,C));this.k("closebtn",this.dE,this)}j3.prototype=new by;
j3.prototype.dE=function(){if(this.W$){var i=new eX(v.E.v,!0);i.f=$.Z9;i.data={d:"h_stepbck"};this.T(i)}};
j3.prototype.OL=function(i){this.dE();this.W$=!0;var C=[];for(var Y=0;Y<6;Y++)C.push(this.Du[Y].h());
var m={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var e=0;e<2;e++){if(!C[e*3])continue;var z=C[e*3+1],L=C[e*3+2];m[["slices","pixels"][z]+["Across","Down"][e]]={t:"long",v:L}}var l=new eX(v.E.HW,!0);
l.data={o0:"divide",t6:m};this.T(l)};j3.prototype.f5=function(i){this.close()};j3.prototype._=function(){by.prototype._.call(this);
var i=this.Du;for(var Y=0;Y<i.length;Y++)i[Y]._()};j3.prototype.bw=function(i,C){this.W$=!1};function eo(){by.call(this,"Stroke Path","strokepath");
this.os=null;this.e9=null;this.bf=null;this.uH=null;this.R1=[$.nV,$.go,$.sc,$.Wu,$.vZ,$.YY,$.Fm,$.hE,$.vU,$.QR,$._u,$.Hl,$.GP,$.FE,$._T]}eo.prototype=new by;
eo.prototype._=function(){by.prototype._.call(this);if(this.uH){this.e9._();this.uH._()}};eo.prototype.f5=function(i){var C=this.R1[this.e9.h()],m=null;
for(var e in $.zB)if($.zB[e]==C)m=e;var z=new eX(v.E.HW,!0);z.data=$.SY.wI(m,this.bf.h());this.close();
this.T(z)};eo.prototype.P6=function(i,C){if(this.os==null){var m=[];for(var Y=0;Y<this.R1.length;++Y){m.push(i.s.map[this.R1[Y]].f.name)}var e=d.t("div","form");
this.body.appendChild(e);this.e9=new ib("Tool",m);this.e9.c(1);e.appendChild(this.e9.n);this.bf=new em("Simulate Pressure");
d._Z(e);e.appendChild(this.bf.n);this.uH=d.KN(this,this.body)}this.os=i};function cf(){by.call(this,[1,18],"linkview");
d.uc(this.body,"form");var i=this.Ax=[new kz(null,null,17),new c1([5,1],!1,null,!0),new c1([1,0],!1,null,!0)];
for(var Y=0;Y<3;Y++){var C=i[Y];this.body.appendChild(C.n);if(Y!=0)C.k("click",this.a1Z,this);if(Y==0)d._Z(this.body)}}cf.prototype=new by;
cf.prototype.bw=function(i,C){var m=C.au_;if(m.startsWith("https://"))m=m.slice(8);this.Ax[0].c(m)};
cf.prototype.a1Z=function(i){var C=this.Ax,m=C[0].h(),e=i.target==this.Ax[1];if(e){navigator.clipboard.writeText(m);
alert("Copied to a clipboard!")}else window.open("https://"+m,"Shared")};function f0(i){by.call(this,i==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][i]);
this.N7=null;this.V7=null;this.a9D=i;var C=d.t("div","form label8");C.setAttribute("style","max-width:26em");
this.body.appendChild(C);this.qU=new ib("Document",["abc","def"]);this.qU.k(v.E.p,this.ec,this);C.appendChild(this.qU.n);
d._Z(C);this.EK=new ib([12,4],["abc","def"]);this.EK.k(v.E.p,this.ec,this);C.appendChild(this.EK.n);
this.ajW=new em([4,11]);this.K6=new kz([12,48]);this.K6.c("Alpha");if(i==0){}else{C.appendChild(this.K6.n)}this.IV=new bh(!0);
C.appendChild(this.IV.n);this.uH=d.KN(this,C)}f0.prototype=new by;f0.prototype._$=function(){return!0};
f0.prototype._=function(){by.prototype._.call(this);this.uH._();this.qU._();this.EK._();this.K6._();
this.ajW._();this.IV._()};f0.prototype.ec=function(i){var C=this.a9D;if(i==null||i==this.qU){var m=this.qU.h(),e=this.V7[m],z=[];
if(C==0)z.push(e.M[e.g[0]].getName()+" Transparency");else z.push([5,3]);for(var Y=0;Y<e.T3.length;Y++)z.push(e.T3[Y].name);
this.EK.bD(z)}if(C==0)return;var L=this.EK.h();this.K6.wo(L==0);this.IV.wo(L!=0)};f0.prototype.bw=function(i,C,m){this.N7=i;
this.V7=m;var e=[];for(var Y=0;Y<m.length;Y++){var z=m[Y].name;e.push(z.length<30?z:z.slice(0,27)+"...")}this.qU.bD(e);
this.qU.c(m.indexOf(i));this.ec(null)};f0.prototype.f5=function(i){var C=this.a9D,m=this.EK.h(),e=this.qU.h(),z=this.V7[e],L=this.IV.h(),l;
if(m==0){l=new eX(v.E.HW,!0);if(C==0)l.data=$.Z3.vz(L,"Trsp",z.M[z.g[0]].getName());else l.data={o0:"duplicate",t6:{classID:"null",Nm:{t:"TEXT",v:this.K6.h()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{l=new eX(v.E.v,!0);
if(C==0){l.f=$.iH;l.data={d:"fromchannel",BR:[-4-m,0,L]}}else{l.f=$.bH;l.data={d:cc.kP,Tt:"seltochannel",BR:[m-1,L]}}}this.close();
this.T(l)};function b0(i,C,m,e){k5.call(this);this.name=i;this.anh=m;this.cp=e;this.As=d.t("div","");
this.As.setAttribute("draggable","true");this.wF=d.t("div","pbody");this.Lj=new c1("",!1,"");this.Lj.parent=this;
this.am3=d.t("span","cross gsicon");this.cs=d.t("span","label");var z=this.atx.bind(this);this.As.addEventListener("mousedown",this.ajk.bind(this),!1);
this.As.addEventListener("contextmenu",z,!1);this.Lj.n.addEventListener("contextmenu",z,!1);this.am3.addEventListener("mousedown",this.Gk.bind(this),!1);
this.As.appendChild(this.cs);if(C)this.As.appendChild(this.am3);this.hb=!1;this.cs.textContent=i}b0.prototype=new k5;
b0.prototype.Ad=function(){return null};b0.prototype._=function(){var i=bC.get(this.name),C=!1,m=this.HG==0?22:Math.round(2+this.HG/50);
if(i.endsWith(" *")){C=!0;i=i.slice(0,i.length-2);m-=2}var e=i.length>m;this.cs.textContent=e?i.slice(0,m-2):i;
if(e)for(var z=0;z<2;z++){var L=d.t("span");L.textContent=i.charAt(m-2+z);L.setAttribute("style","opacity:"+(.6-z*.4));
this.cs.appendChild(L)}if(C){var L=d.t("span");L.textContent=" *";this.cs.appendChild(L)}var l=i.split(" "),x=l.length==2?l[0].substring(0,2)+l[1][0]:i.substring(0,3);
if(x.charCodeAt(0)>=11776)x=x.substring(0,1);var S=this.anh;if(S==null)this.Lj._H(x,i);else{var k;if(S.startsWith("---"))k="<img src=\""+PIMG[S.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(S.startsWith("==="))k="<img src=\""+S.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(S.indexOf("\"")==-1)k="<img src=\""+S+"\" alt=\""+d._N(i).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Lj._H(k,i)}};b0.prototype.enable=function(){this.wF.className="pbody"};b0.prototype.disable=function(){this.wF.className="pbody disabled"};
b0.prototype.P6=function(i,C){};b0.prototype.bw=function(i,C,m){};b0.prototype.jB=function(i){};b0.prototype.Oh=function(i,C){};
b0.prototype._n=function(i){this.name=i;this._()};b0.prototype.tx=function(){};b0.prototype.ajk=function(i){if(i.button==0)this.T(new eX("select",!1));
if(i.button==1)this.mr()};b0.prototype.atx=function(i){d.Vw(i);if(this.cp!=null&&isNaN(this.cp))return;
var C=d.CV(i,document.body),m=this.p2;if(m==null){m=this.p2=new gw([{name:[1,12,0]}]);this.p2.k("select",this.Gk,this)}m.update(null);
m._();m.parent=this;var e=new eX(v.E.H,!0);e.data={d:v.B.vs,aA:m,x:C.x+1,y:C.y+1};this.T(e)};b0.prototype.mr=function(){this.Gk({})};
b0.prototype.Gk=function(i){if(i.stopPropagation)i.stopPropagation();if(this.cp!=null&&!isNaN(this.cp)){var C=new eX(v.E.H,!0);
C.data={d:v.B.E_,aA:this.p2};this.T(C);C.data={d:v.B.Mc,N5:dm.r3,b:parseFloat(this.cp),hl:"del"};this.T(C)}else if(this.arx())this.T(new eX(v.E.ek,!1))};
b0.prototype.arx=function(i){return!0};b0.prototype.k7=function(i,C,m,e,z){};b0.prototype.ct=function(i,C,m,e,z){};
b0.prototype.$d=function(i,C,m,e,z){};b0.J2=function(i,C,m){if(i.childElementCount!=0)return;var e=i.textContent;
this.Ny=this.apK.bind(this);this.axK=this.a3y.bind(this);this.LD=C;this.ant=m;this.Qe=i;this.as4=e;var z=d.t("input","");
z.setAttribute("type","text");z.setAttribute("size","10");z.setAttribute("value",e);d._l(i);i.appendChild(z);
z.select();z.focus();d.xq(i);i.addEventListener("keyup",this.Ny,!1);document.body.addEventListener("mousedown",this.axK,!1)};
b0.J2.prototype.apK=function(i){var C=jD.fG,m=C(i.code,jD.RX);if(C(i.code,jD.pn)||m)this.arE(m)};b0.J2.prototype.a3y=function(i){var C=i.target;
if(C.tagName&&C.tagName.toLowerCase()=="input")return;this.arE(!0)};b0.J2.prototype.arE=function(i){var C=this.Qe,m=C.firstChild.value;
C.removeEventListener("keyup",this.Ny);document.body.removeEventListener("mousedown",this.axK);if(this.ant||i&&m!=""&&m!=this.as4){this.LD(m)}else{d._l(C);
C.textContent=this.as4}};b0.eB={Z9:"0",arq:"1",bH:"2",axW:"3",aeJ:"4",qa:"5",CSS:"6",go:"7",a63:"8",aqn:"9",asm:"10",ath:"11",a74:"12",li:"13",tM:"14",aDH:"15",a0A:"16",ou:"17",a0x:"18",arz:"19",ai3:"20",nx:"21",ad3:"22",amD:"23",auz:"24",aso:"25"};
function kk(){b0.call(this,[9,9],!1,"---panels/actions",b0.eB.ath);this.os=null;this.rR=[0,0]}kk.prototype=new b0("");
kk.prototype.M1=function(){if(!d.bv(this.wF)||this.Y2)return;this.Y2=d.t("div","padded scrollable");
this.Y2.setAttribute("style","width:260px;  height:260px");this.wF.appendChild(this.Y2);this.k(v.E.p,this.Vz,this);
this.EG=d.t("div","lpfoot");this.wF.appendChild(this.EG);this.ZE=[];var i="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",C="</svg>",m=i+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+C,e=i+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+C;
this.aAl=i+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+C;this.agn=i+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+C;
var z=[this.aAl,e,"lrs/folder","lrs/newlayer","lrs/bin",m],L=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var Y=0;Y<z.length;Y++){var l=z[Y];if(1<Y&&Y!=z.length-1)l="<img src=\""+PIMG[z[Y]]+"\" class=\"miniscale gsicon\" />";
var x=new c1(l,!1,L[Y]);x.k("click",this.apU,this);this.EG.appendChild(x.n);this.ZE.push(x)}this.__()};
kk.prototype._=function(){b0.prototype._.call(this);if(this.Y2==null)return;for(var Y=0;Y<this.ZE.length;
Y++)this.ZE[Y]._()};kk.prototype.apU=function(i){var Y=this.ZE.indexOf(i.currentTarget),C=this.rR,m=this.os,e=m.ai;
if(Y==0){var z,L=m.Tj;if(e.length==0){alert("Create an Action Set first.");return}if(C.length<2){alert("Select a target action first.");
return}if(L==null){z=this.agn;L=this.rR}else{z=this.aAl;L=null}this.ZE[0]._H(z);m.Tj=L}else if(Y==1)this.avK();
else if(Y==2||Y==3){var l={jj:"Action Set "+e.length,eo:[],exp:!0};if(Y==2||e.length==0){C=[e.length];
e.push(l)}if(Y==3){var x=e[C[0]].eo;C=[C[0],x.length];x.push({jj:"Action "+x.length,color:0,eo:[],asZ:!1,shift:!1,exp:!0,h6:x.length})}this.rR=C;
this.__()}else if(Y==4){var S;if(C.length==1)S=e;else if(C.length==2)S=e[C[0]].eo;else S=e[C[0]].eo[C[1]].eo;
var k=C.length-1;S.splice(C[k],1);if(S.length==0)C.pop();else while(C[k]>=S.length)C[k]--;if(C.length==0)C.push(0);
this.__()}else if(Y==5){if(e.length==0){alert("No Actions Present.");return}var f=new eX(v.E.H,!0);f.data={d:v.B.W6,arZ:dm.v,dA:C[0]};
this.T(f)}};kk.prototype.Vz=function(i){var C=this.os.ai,m=i.data.d,e=i.data.E4;if(m=="sel")this.rR=e;
if(m=="fold"){if(e.length==1)C[e[0]].exp=!C[e[0]].exp;else C[e[0]].eo[e[1]].exp=!C[e[0]].eo[e[1]].exp}if(m=="enab"){var z=C[e[0]].eo[e[1]].eo[e[2]];
z.w=!z.w}if(m=="nchange"){if(e.length==1)C[e[0]].jj=i.data.TA;else C[e[0]].eo[e[1]].jj=i.data.TA}this.__()};
kk.prototype.bw=kk.prototype.tx=function(){this.M1()};kk.prototype.P6=function(i,C){this.os=i;if(this.Y2==null)return;
if(C==dm.v||C==dm.cX)this.__()};kk.prototype.__=function(){if(this.os==null)return;d._l(this.Y2);var i=this.os.ai;
if(i.length==0)return;var C=JSON.stringify(this.rR);for(var Y=0;Y<i.length;Y++){var m=i[Y],e=new kk.Yc([Y],C,m.exp,m.jj.split("=").pop());
e.parent=this;this.Y2.appendChild(e.n);if(!m.exp)continue;for(var z=0;z<m.eo.length;z++){var L=m.eo[z],e=new kk.Yc([Y,z],C,L.exp,L.jj.split("=").pop());
e.parent=this;this.Y2.appendChild(e.n);if(!L.exp)continue;for(var l=0;l<L.eo.length;l++){var x=L.eo[l],e=new kk.Yc([Y,z,l],C,null,bC.get(h3.ahW(x)),x.w);
e.parent=this;this.Y2.appendChild(e.n)}}}};kk.prototype.avK=function(){var i=this.os.ai,C=this.rR;if(i.length==0){alert("No Actions Present");
return}if(C.length==1){alert("Select an Action first");return}if(this.os.Tj!=null){alert("You can not apply actions while recording actions");
return}if(C.length==1)C.push(0);var m=i[C[0]],e=m.eo[C[1]],z=new eX(v.E.H,!0);z.data={d:v.B.bF,BR:[e.jj,m.jj]};
this.T(z)};kk.Yc=function(i,C,m,e,z){k5.call(this);this.E4=i;var L=this.E4.length-1;this.n=d.t("div","layeritem"+(JSON.stringify(i)==C?" selected":""));
this.GC=d.t("div","head");this.n.appendChild(this.GC);this.GC.setAttribute("style","height:24px");this.qV=d.t("div","headL");
this.GC.appendChild(this.qV);if(L!=0){var l=d.t("div");l.style.width=L*20+"px";this.qV.appendChild(l)}if(m!=null){var x=this.a3X=d.t("div",m?"open":"closed");
this.qV.appendChild(x)}else{var S=this.a8N=d.t("div","cmark");S.setAttribute("style","background-size:12px 12px; opacity:"+(z?1:.3));
this.qV.appendChild(S)}if(L==0){var k=d.t("div","folder");this.qV.appendChild(k)}var f=this.cs=d.t("div","label");
f.textContent=e;this.qV.appendChild(f);this.n.addEventListener("mouseup",this.zv.bind(this),!1)};kk.Yc.prototype=new k5;
kk.Yc.prototype.zv=function(i){if(i.detail==1&&i.target.tagName.toLowerCase()!="input"){var C="sel";
if(i.target==this.a3X)C="fold";if(i.target==this.a8N)C="enab";var m=new eX(v.E.p,!0);m.data={d:C,E4:this.E4};
this.T(m)}else if(this.E4.length<3)var e=new b0.J2(this.cs,this.LD.bind(this))};kk.Yc.prototype.LD=function(i){var C=new eX(v.E.p,!0);
C.data={d:"nchange",TA:i,E4:this.E4};this.T(C)};function fG(){b0.call(this,[3],!1,"---lrs/adj",b0.eB.a0x)}fG.prototype=new b0("");
fG.prototype.M1=function(){if(!d.bv(this.wF)||this.ZE)return;this.wF.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.ZE=[];var Y=0;for(var i in fp.names){var C=new c1("<img src=\""+PIMG["adj/"+i]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,fp.names[i]);
C.k("click",this.SZ,this);this.ZE.push(C);this.wF.appendChild(C.n);if(Y==4||Y==10)d._Z(this.wF);Y++}this._()};
fG.prototype.bw=function(){this.M1()};fG.prototype.tx=function(){this.M1()};fG.prototype._=function(){b0.prototype._.call(this);
if(this.ZE==null)return;for(var Y=0;Y<this.ZE.length;Y++)this.ZE[Y]._()};fG.prototype.SZ=function(i){var C=this.ZE.indexOf(i.target),m=ih.i6()[C],e=new eX(m.K,!0);
e.data=m.A;this.T(e)};function cs(){b0.call(this,[12,22],!1,null,b0.eB.nx);this.Y2=d.t("div","padded");
this.os=null;this.wF.appendChild(this.Y2);this.L3=new a0(null,17.7,10);this.L3.parent=this;this.L3.k(v.E.p,this.OL,this);
this.Y2.appendChild(this.L3.R2)}cs.prototype=new b0("");cs.prototype.OL=function(i){var C=this.L3.h(),m=new eX(v.E.v,!0);
m.data={d:"setstl",b:C.b2};m.f=$.$Z;this.T(m);m.data={d:"confirm"};this.T(m)};cs.prototype.P6=function(i,C){this.os=i;
this.__()};cs.prototype.__=function(){var i=this.os;if(i==null)return;this.L3.dp([i.Qb,i.VN]);this.L3.Oh()};
cs.prototype.bw=function(){this.__()};cs.prototype.tx=function(){this.__()};var jr=function(){function i(){b0.call(this,[9,3],!1,"---panels/brush",b0.eB.go);
this.nE=null;this.os=null}i.prototype=new b0("");i.prototype.M1=function(){var z=d.t("div","");this.wF.appendChild(z);
this.I5=d.t("div","bordered cell");this.I5.setAttribute("style","width:10em; height:28.5em;");z.appendChild(this.I5);
this.wO=[];this.ye=null;this._S=[];var L=this.azh.bind(this);this.Ef=[new m("basic"),new m("useTipDynamics"),new m("useScatter"),new m("useColorDynamics"),new m("usePaintDynamics")];
for(var Y=0;Y<this.Ef.length;Y++){var l=d.t("div","listitem"),x=this.Ef[Y],k=null;x.parent=this;x.k("brushchange",this.a7d,this);
var S=x.pM;if(Y==0){this.ye=new bd(S);l.appendChild(this.ye.n)}else{k=new em(S,!1);k.k(v.E.p,this.arH,this);
l.appendChild(k.n)}this._S.push(k);this.I5.appendChild(l);this.wO.push(l);l.addEventListener("click",L,!1)}this.af=d.t("div","cell padded");
z.appendChild(this.af);this.setItem(0);this.B2=d.t("canvas");this.B2.height=10;z.appendChild(this.B2);
this.Hs=this.B2.getContext("2d");this.ZT()};i.prototype.Oh=function(z,L){if(this.HG==z)return;this.HG=z;
this.bB=L;this.ZT()};i.prototype.tx=function(){if(!d.bv(this.wF))return;if(this.I5){this.ZT();return}this.M1();
this._();this.P6(this.os,dm.cX)};i.prototype._=function(){b0.prototype._.call(this);if(this.I5==null)return;
this.ye._();for(var Y=1;Y<this._S.length;Y++)this._S[Y]._();for(var Y=0;Y<this.Ef.length;Y++)this.Ef[Y]._()};
i.prototype.a7d=function(z){var L=this.Ef.indexOf(z.currentTarget),l=JSON.parse(JSON.stringify(this.Ef[L].nE)),x=new eX(v.E.H,!0);
x.data={d:v.B.Mc,N5:dm.Vy,nE:l};this.T(x)};i.prototype.arH=function(z){this.a3C(this._S.indexOf(z.currentTarget),z.currentTarget.M5())};
i.prototype.azh=function(z){var Y=this.wO.indexOf(z.currentTarget);if(z.target.tagName.toLowerCase()=="input")return;
if(this._S[Y]&&!this._S[Y].M5()){this._S[Y].vG();this.a3C(Y,!0)}this.setItem(Y)};i.prototype.a3C=function(z,L){this.Ef[z].a64(L)};
i.prototype.setItem=function(z){for(var Y=0;Y<this.Ef.length;Y++)this.wO[Y].className="listitem";if(this.af.firstChild)this.af.removeChild(this.af.firstChild);
this.wO[z].className="listitem selected";this.af.appendChild(this.Ef[z].n)};i.prototype.P6=function(z,L){this.os=z;
if(this.I5==null)return;for(var Y=0;Y<this.Ef.length;Y++)this.Ef[Y].P6(z,L);if(L==dm.Vy||L==dm.cX){this.nE=z.iy.n_;
this.ZT()}if(L==dm.li)this.ZT()};i.prototype.ZT=function(){if(this.nE)this.enable();else{this.disable();
return}if(!d.bv(this.wF))return;var z=this.os;for(var Y=0;Y<this.Ef.length;Y++){this.Ef[Y].c(this.nE);
if(this._S[Y])this._S[Y].c(this.Ef[Y].M5())}var L=JSON.parse(JSON.stringify(this.nE));L.Brsh.v.Dmtr.v.val=Math.min(L.Brsh.v.Dmtr.v.val,50);
d.Ay(this.B2,this.HG,80);var l=new j2(0,0,this.B2.width,this.B2.height),x=this.os.iy,S=new eY(L,x?x.fT:null,x?x.bh:null,{Hh:1},z.Dm,z.yv,l,null,0),k=l.J/2,f=l.m-k*2;
S.moveTo(k,k);for(var Y=0;Y<=f;Y+=10)S.lineTo(k+Y,k+20*Math.sin(2*Math.PI*Y/f));S.finish();var X=this.Hs.createImageData(l.m,l.J);
I.fF(S.yN(),S.S8(),X.data,l);this.Hs.putImageData(X,0,0)};function C(z){k5.call(this);z=z.split(".")[0];
this.qy=z;var L=this.n=d.t("span"),l=["Off","Fade"];l.push(z=="angleDynamics"?"Direction":"Pen Pressure");
var x=this.Pl=new ib("Control",l);x.k(v.E.p,this.ec,this);L.appendChild(x.n);var S=this.aE5=new db(null,0,100,null,null,null,!0);
S.c(50);S.k(v.E.p,this.ec,this)}C.prototype=new k5;C.prototype.c=function(z){z=z<2?z:2;this.Pl.c(z);
this.__()};C.prototype.h=function(){var z=this.Pl.h(),L=this.qy;z=z<=1?z:L=="angleDynamics"?6:2;return z};
C.prototype.ec=function(z){this.__();z.target=z.currentTarget=this;this.T(z)};C.prototype.__=function(z){this.aE5.wo(this.Pl.h()==1)};
function m(z){k5.call(this);this.n=d.t("div");this.nE=null;var L=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(z);
this.pM=[[15,0],[15,1],[15,2],[15,3],"Transfer"][L];this.px=z;this.as={};this.ave=null;var l=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][L];
for(var Y=0;Y<l.length;Y++){var x=l[Y],S;if(x=="--br"){S=new bc;this.n.appendChild(S.R2.firstChild)}else if(x=="Brsh.Dmtr")S=new jp([12,14,0],1,1e3," px",0,!0);
else if(x=="Brsh.Angl")S=new jp([12,15],0,359," \xB0");else if(x=="Brsh.Rndn")S=new jp([12,16],0,100," %");
else if(x=="Brsh.Hrdn")S=new jp([12,17],0,100," %");else if(x=="Brsh.Spcn")S=new jp([12,18],1,300," %");
else if(x=="szVr.jitter")S=new jp([15,4,0],0,100,"%");else if(x=="minimumDiameter")S=new jp([15,4,1],0,100,"%");
else if(x=="angleDynamics.jitter")S=new jp([15,4,2],0,100,"%");else if(x.endsWith("bVTy"))S=new C(x);
else if(x.endsWith("fStp"))S=new db(null,0,100,null,null,null,!0);else if(x=="roundnessDynamics.jitter")S=new jp([15,4,3],0,100,"%");
else if(x=="minimumRoundness")S=new jp([15,4,4],1,100,"%");else if(x=="scatterDynamics.jitter")S=new jp([15,5,0],0,1e3," %");
else if(x=="Cnt")S=new jp([15,5,1],1,20);else if(x=="countDynamics.jitter")S=new jp([15,5,2],0,100," %");
else if(x=="clVr.jitter")S=new jp([15,6,0],0,100," %");else if(x=="H")S=new jp([15,6,1],0,100," %");
else if(x=="Strt")S=new jp([15,6,2],0,100," %");else if(x=="Brgh")S=new jp([15,6,3],0,100," %");else if(x=="opVr.jitter")S=new jp("Opacity Jitter",0,100," %");
else if(x=="prVr.jitter")S=new jp("Flow Jitter",0,100," %");else throw x;this.as[x]=S;S.parent=this;
S.k(v.E.p,this.ec,this)}}m.prototype=new k5;m.prototype.afL=function(){this.T(new eX("brushchange"))};
m.prototype.c=function(z){this.nE=JSON.parse(JSON.stringify(z));this.n.className=this.M5()?"":"disabled";
this.ZT()};m.prototype._=function(){for(var z in this.as)this.as[z]._()};m.prototype.M5=function(){return!0};
m.prototype.P6=function(z,L){if(L==dm.go||L==dm.cX){var l=this.as["--br"];if(l)l.dp(z.iy)}};m.prototype.ec=function(z){var L=z.target,l=this.as,x;
for(var S in l)if(l[S]==L)x=S;if(x=="--br"){var k=new eX(v.E.H,!0);k.data={d:v.B.Mc,N5:dm.Vy,nE:L.h()};
this.T(k)}else{var f=e(this.nE,x),X=L.h();if(f){if(x.endsWith("bVTy")||x.endsWith("fStp")||x=="Cnt")f.v=X;
else f.v.val=X;this.afL()}}};m.prototype.ZT=function(){var z=this.nE,L=z.Brsh.v.classID,l=this.as,x=L!=this.ave;
this.ave=L;if(x){d._l(this.n);for(var S in l){if(L!="computedBrush"&&L!="sampledBrush"&&S=="Brsh.Rndn")continue;
if(L!="computedBrush"&&S=="Brsh.Hrdn")continue;var k=l[S],f=k.n;if(S=="--br"){f=k.EJ.n;f.style.width="auto"}this.n.appendChild(f)}}for(var S in l){if(S=="--br")continue;
var X=e(z,S),o;if(X){if(S.endsWith("bVTy")||S.endsWith("fStp")||S=="Cnt")o=X.v;else o=X.v.val;l[S].c(o);
if(S.endsWith("fStp"))l[S].wo(e(z,S.split(".")[0]+".bVTy").v==1)}}};m.prototype.M5=function(){var z=this.px;
return z=="basic"?!0:this.nE[z].v};m.prototype.a64=function(z){var L=this.px;if(L=="basic")return;this.nE[L].v=z;
iH.uI.ags(this.nE);this.afL()};function e(z,L){var l=L.split(".");z=z[l[0]];for(var Y=1;Y<l.length;Y++){if(z==null)return z;
z=z.v[l[Y]]}return z}return i}();function hF(){b0.call(this,[9,0],!1,"---panels/history",b0.eB.Z9);this.wF.setAttribute("style","min-width:200px;");
this.oU=d.t("div","hpbody scrollable");this.oU.style.height="160px";this.wF.appendChild(this.oU);this.a3e=-1;
this.cC=[];this.jX="";this.Hd=new gw([{name:"Clear History"}],[{K:v.E.v,f:$.Z9,A:{d:"h_clear"}}])}hF.prototype=new b0("");
hF.prototype.Ad=function(){return this.Hd};hF.prototype.Oh=function(i,C){this.tx()};hF.prototype.bw=function(i){if(i==null){d._l(this.oU);
this.jX="";return}d._l(this.oU);var C=0;for(var Y=0;Y<i.history.length;Y++)if(Y<=i.f0&&!i.history[Y].Zw)C=Y;
for(var Y=0;Y<i.history.length;Y++){var m=i.history[Y];if(m.Zw)continue;var e=new hb(m,Y,C);e.parent=this;
this.oU.appendChild(e.n);this.cC.push(e)}if(i.f0==i.history.length-1)this.tx()};hF.prototype.tx=function(){this.oU.scrollTop=this.oU.scrollHeight};
hF.prototype._=function(){b0.prototype._.call(this);for(var Y=0;Y<this.cC.length;Y++)this.cC[Y]._()};
function hb(i,Y,C){k5.call(this);this.index=Y;this.n=d.t("div",Y==C?"listitem selected":"listitem");
this.fU=i.name;this._();if(Y>C)this.n.style.opacity=.4;this.n.addEventListener("click",this.k7.bind(this),!1)}hb.prototype=new k5;
hb.prototype._=function(){this.n.textContent=bC.get(this.fU)};hb.prototype.k7=function(i){if(this.index==this.parent.a3e)return;
this.gK({d:"h_itemchange",index:this.index})};hb.prototype.gK=function(i){var C=new eX(v.E.v,!0);C.data=i;
C.f=$.Z9;this.T(C)};function dL(){b0.call(this,[9,10],!1,"---panels/histogram",b0.eB.aeJ);var i=d.t("div","padded");
this.wF.appendChild(i);this.P8=new dG(256,!0);i.appendChild(this.P8.n);this.uS=null}dL.prototype=new b0("");
dL.prototype.bw=function(i){this.uS=i;this.__()};dL.prototype.__=function(){var i=this.uS;if(!d.bv(this.wF))return;
if(i==null||i.g.length==0){this.P8.c(I.so(I.R(4)));return}var C=i.I6(),m=new j2(0,0,i.m,i.J),e=m.P();
if(i.u){var z=i.u.rect,L=I.R(z.P()*4);I.fF(C,m,L,z);I.z8(i.u.channel,L);C=L;m=z;var l=i.u.channel;e=0;
for(var Y=0;Y<l.length;Y++)e+=l[Y];e=Math.round(e/255)}var x=I.so(C);x[0][255]+=3*(e-x[5]);for(var Y=1;
Y<4;Y++)x[Y][255]+=e-x[5];this.P8.c(x,e)};dL.prototype.P6=function(i,C){this.P8.Iw(fn.st[i.qW]["--text-color"])};
dL.prototype._=function(){b0.prototype._.call(this);this.P8._()};dL.prototype.tx=function(){this.__()};
function ca(){b0.call(this,[9,8],!1,"---adj/clrL",b0.eB.arq);this.Y2=d.t("div","padded");this.wF.appendChild(this.Y2);
this.Rl=new eG(10);this.Y2.appendChild(this.Rl.n);this.NQ=new iU;this.NQ.parent=this;this.Y2.appendChild(this.NQ.R2);
this.NQ.R2.style.marginTop="6px";this.Rl.k(v.E.p,this.agZ,this);this.NQ.k(v.E.p,this.agZ,this)}ca.prototype=new b0("");
ca.prototype.agZ=function(i){var C;if(i.target==this.Rl)C=this.Rl.h();else{var m=this.NQ.h();C=Math.round(m.Z)<<16|Math.round(m.r)<<8|Math.round(m.e)}var e=new eX(v.E.H,!0);
e.data={d:v.B.Mc,N5:dm.li,Tt:0,b:C};this.T(e)};ca.EO=function(i,C){var m=C==dm.cX,e=i.ZF,z=i.Co,L=z.strokeStyleContent.v,l=null;
if((C==dm.w4||m)&&e.C9==1){l=I.I.oq(e.Zc.Clr.v);l=l.Z<<16|l.r<<8|l.e}if((C==dm.$w||m)&&z.strokeEnabled.v&&L.classID=="solidColorLayer"){l=I.I.oq(L.Clr.v);
l=l.Z<<16|l.r<<8|l.e}if(C==dm.li||m)l=i.Dm;return l};ca.prototype.P6=function(i,C){var m=i.Dm,e=C==dm.cX,z=ca.EO(i,C);
if(z!=null){this.Rl.c(z);this.NQ.c({Z:z>>>16&255,r:z>>>8&255,e:z>>>0&255,iQ:"Color #"+I.dP(z)})}if(C==dm.Pe||e){var L=i.aqi;
this.NQ.dp(L)}};function eD(){b0.call(this,[12,72],!1,"---adj/mixr",b0.eB.a0A);this.ux=null;this.M6=null;
this.oU=d.t("div","lpbody scrollable");this.oU.style.marginTop="4px";this.EG=d.t("div","lpfoot");this.wF.appendChild(this.oU);
this.wF.appendChild(this.EG);this.bO=[];this.k("click",this.qw,this);this.hA=[];eD.D$([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.hA,this.EG,this.Ji.bind(this),this.iR.bind(this));
this.Hd=new gw([{name:"Merge Channels",HT:!0}],[{K:v.E.H,A:{d:v.B.c6,pw:"mergechannels"}}])}eD.prototype=new b0("");
eD.prototype.Ad=function(){return this.Hd};eD.D$=function(i,C,m,e,z){for(var Y=0;Y<i.length;Y++){var L=new c1("W",!1,i[Y]);
C.push(L);d.h_(L.n,e);m.appendChild(L.n);var l=L.n;l.addEventListener("drop",z,!1);l.addEventListener("dragover",function(x){x.preventDefault()},!1);
l.addEventListener("dragenter",d.Vw,!1)}};eD.TO=function(i,C){for(var Y=0;Y<i.length;Y++)if(i[Y].n==C.currentTarget)return Y};
eD.prototype.Ji=function(i){var C=eD.TO(this.hA,i);if(C==0)this.T(aR.EQ(!0,null,i));else{C--;var m=new eX(v.E.HW,!0),e={classID:"null"};
if(C==0)e.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(C==1)e.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else e.null=h3.Ei("Chnl",!0);m.data={o0:["duplicate","make","delete"][C],t6:e};this.T(m)}};eD.prototype.iR=function(i){var C=eD.TO(this.hA,i);
if(C==2){var m=new eX(v.E.HW,!0),e={classID:"null"};e.null=h3.Ei("Chnl",!0);m.data={o0:"duplicate",t6:e};
this.T(m)}else this.Ji(i)};eD.prototype.jq=function(Y){var i=this.bO,C=i[Y];if(C==null){var m=d.t("canvas");
C=m.getContext("2d");i.push(C)}return C};eD.prototype.qw=function(i){var C=this.ux.slice(0),m=i.data.h6,e=C[0]+C[1]+C[2],z=this.M6;
if(-5<m&&m<0){var L=-m-1;if(i.data.w0){if(L==0)C=e==3?[0,0,0]:[1,1,1];else{if(C[L-1]==0)C[L-1]=1;else if(!0)C[L-1]=0}}else{if(L==0)C=[1,1,1];
else{C=[0,0,0];C[L-1]=1}for(var Y=0;Y<z.T3.length;Y++)z.T3[Y].S0=!1;z.Xk=[]}var l=new eX(v.E.v,!0);l.f=$.dq;
l.data={d:"setcls",O:C};this.T(l);return}if(-1<m){var x=z.M[m],S=x.ii==1?x.Re():x.x6(z).X;if(i.data.w0)S.S0=!S.S0;
else{for(var Y=0;Y<z.T3.length;Y++)z.T3[Y].S0=!1;z.Xk=[]}}else{var f=-m-5,S=z.T3[f];if(i.data.w0)S.S0=!S.S0;
else{for(var Y=0;Y<z.T3.length;Y++)z.T3[Y].S0=!1;S.S0=!0;z.Xk=[f];if(e!=0){var l=new eX(v.E.v,!0);l.f=$.dq;
l.data={d:"setcls",O:[0,0,0]};this.T(l)}}}z.Qq=z.sa=!0};eD.prototype.tx=function(){this.PT()};eD.prototype.bw=function(i){this.M6=i;
this.PT()};eD.prototype.PT=function(){var i=this.M6,C=this.oU,A=4;d._l(C);if(i==null||!d.bv(C))return;
var m=i.m,e=i.J,z=new j2(0,0,m,e),L=this.ux=i.q.O.slice(0),l=L[0]+L[1]+L[2],x=Math.round(34*d.XP()),S=x;
if(m>e)S=Math.round(S*e/m);else x=Math.round(x*m/e);var k=["RGB"].concat(fp.HO);for(var Y=0;Y<4;Y++){var f=this.jq(Y);
I.Ch.Tg(f,x,S,z,i.I6(),z,!1,Y==0?null:Y-1);var X=Y==0?l==3:L[Y-1]==1,o=new aR(-1-Y,!0,!0,f,k[Y],X,X);
o.parent=this;C.appendChild(o.n);d.$L(f.canvas)}for(var Y=0;Y<i.g.length;Y++){var P=i.M[i.g[Y]],F=P.ii;
if(F!=1&&F!=3)continue;var n=F==1?P.Re():P.x6(i).X,f=this.jq(A+Y);A++;I.Ch.vM(f,x,S,z,n);var o=new aR(i.g[Y],!0,!0,f,P.getName()+(F==1?"":" Filter")+" Mask",!0,n.S0);
o.parent=this;C.appendChild(o.n);d.$L(f.canvas)}for(var Y=0;Y<i.T3.length;Y++){var n=i.T3[Y],f=this.jq(A+Y);
I.Ch.vM(f,x,S,z,n);var o=new aR(-5-Y,!0,n.name=="Quick Mask",f,n.name,i.Xk.indexOf(Y)!=-1,n.S0,$.bH,{d:cc.kP,Tt:"rnm",h6:Y});
o.parent=this;C.appendChild(o.n);d.$L(f.canvas)}};eD.prototype.Oh=function(i,C){this.oU.style.height=C-30-4+"px";
this.oU.style.width=i+"px"};eD.prototype._=function(){b0.prototype._.call(this);this.PT();eD.xI(this.hA,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
eD.xI=function(i,C,m){var C=iw.XA(C,null,"miniscale");for(var Y=0;Y<i.length;Y++)i[Y]._H(C[Y],m?m[Y]:null)};
function aR(i,C,m,e,z,L,l,x,S){k5.call(this);this.n=d.t("div");this.aaS=i;this.a45=C;this.Hs=e;this.auo=x;
this.aCJ=S;this.GC=d.t("div",L?"head selected":"head");this.GC.setAttribute("style","height: "+40+"px");
var k=d.t("div","headL"),f=d.t("div","headR"),X=15;this.n.appendChild(this.GC);this.GC.appendChild(k);
this.GC.appendChild(f);this.Ot=d.t("div","eye");if(1<d.XP()&&d.XP()<1.5)X=X/d.XP();this.Ot.setAttribute("style","background-size: "+X+"px "+X+"px;");
this.Ot.style.opacity=l?1:.2;if(C)k.appendChild(this.Ot);this.CF=d.t("div","thumb");if(e)this.CF.appendChild(e.canvas);
k.appendChild(this.CF);this.EH=d.t("div","label");if(m)this.EH.style.fontStyle="italic";this.EH.textContent=bC.get(z);
k.appendChild(this.EH);var o=this.GC;o.setAttribute("draggable","true");o.addEventListener("dragstart",function(A){A.stopPropagation();
A.dataTransfer.setData("Text","hello")},!1);o.addEventListener("drop",d.Vw,!1);d.h_(this.GC,this.aCu.bind(this));
if(!m)this.GC.addEventListener("mouseup",this.aw8.bind(this),!1)}aR.prototype=new k5;aR.prototype.LD=function(i){var C=new eX(v.E.v,!0);
C.f=this.auo;C.data=this.aCJ;C.data.name=i;this.T(C)};aR.prototype.aCu=function(i){var C=i.ctrlKey||i.metaKey,m=this.aaS;
if(C&&i.target==this.Hs.canvas){this.T(aR.EQ(this.a45,m,i))}else{var e=new eX("click",!0);e.data={h6:m,w0:i.target==this.Ot,Yu:C};
this.T(e)}};aR.prototype.aw8=function(i){if(i.detail==2&&i.target==this.EH){var C=new b0.J2(this.EH,this.LD.bind(this))}};
aR.EQ=function(i,C,m){var e=0;if(m.shiftKey)e++;if(m.altKey)e+=2;var z=new eX(v.E.v,!0);z.f=$.iH;if(i){if(-5<C&&C<0){z=new eX(v.E.HW,!0);
z.data=$.Z3.vz(e,["RGB","Rd","Grn","Bl"][-1-C])}else z.data={d:"fromchannel",BR:[C,0,e]}}else z.data={d:"frompath",BR:[C,0,e]};
return z};function il(){b0.call(this,[8,9],!1,"---panels/paths",b0.eB.ou);this.ux=null;this.M6=null;
this.oU=d.t("div","lpbody scrollable");this.oU.style.marginTop="4px";this.EG=d.t("div","lpfoot");this.wF.appendChild(this.oU);
this.wF.appendChild(this.EG);this.wF.addEventListener("click",this.au3.bind(this),!1);this.bO=[];this.k("click",this.qw,this);
this.hA=[];eD.D$(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.hA,this.EG,this.Ji.bind(this),this.iR.bind(this))}il.prototype=new b0("");
il.prototype.Ji=function(i,C){var m=eD.TO(this.hA,i),e;if(m<2){if(m==1&&i.altKey){e=new eX(v.E.H,!0);
e.data={d:v.B.c6,pw:"strokepath"}}else{e=new eX(v.E.HW,!0);e.data=$.SY.wI(m==0?null:"PbTl")}}else if(m==2)e=aR.EQ(!1,null,i);
else if(m==3){e=new eX(v.E.HW,!0);e.data={o0:"make",t6:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(m>3){var e=new eX(v.E.v,!0);
e.f=$.iF;e.data={d:"pathedit",Tt:["new","del"][m-4],ajr:C}}this.T(e)};il.prototype.iR=function(i){this.Ji(i,!0)};
il.prototype.jq=function(Y){var i=this.bO,C=i[Y];if(C==null){var m=d.t("canvas");C=m.getContext("2d");
i.push(C)}return C};il.prototype.au3=function(i){if(i.target==this.oU){var C=this.M6;C.ft=[];C.Ep=[];
C.sa=!0;C.Qq=!0}};il.prototype.qw=function(i){var C=i.data.h6,m=this.M6,e=i.data.Yu,z=C,L=m.Ep,l=m.ft;
if(C<0){z=-1-C;L=m.ft;l=m.Ep}if(e){var x=L.indexOf(z);if(x==-1)L.push(z);else L.splice(x,1)}else{while(L.length!=0)L.pop();
while(l.length!=0)l.pop();L.push(z)}m.sa=!0;m.Qq=!0};il.prototype.tx=function(){this.PT()};il.prototype.bw=function(i){this.M6=i;
this.PT()};il.prototype.PT=function(){var i=this.M6,C=this.oU;d._l(C);if(i==null||!d.bv(C))return;var m=i.m,e=i.J,z=new j2(0,0,m,e),L=this.ux=i.q.O.slice(0),l=L[0]+L[1]+L[2],x=Math.round(34*d.XP()),S=x;
if(m>e)S=Math.round(S*e/m);else x=Math.round(x*m/e);var k=i.bM(),f=k[0];for(var Y=0;Y<f.length;Y++){var X=f[Y],o=this.jq(Y);
I.Ch.a8q(o,x,S,z,X.add.vmsk);var A=new aR(X.h6,!1,X.h6>=0,o,X.name,k[1].indexOf(Y)!=-1,!1,$.iF,{d:"pathedit",Tt:"rnm",h6:X.h6});
A.parent=this;C.appendChild(A.n);d.$L(o.canvas)}};il.prototype.Oh=function(i,C){this.oU.style.height=C-30-4+"px";
this.oU.style.width=i+"px"};il.prototype._=function(){b0.prototype._.call(this);this.PT();eD.xI(this.hA,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function ka(i){b0.call(this,[9,i?4:5],!1,"---panels/"+(i?"character":"paragraph"),i?b0.eB.aqn:b0.eB.asm);
this.wF.setAttribute("style","min-width:240px;");this.B6=i;this.D5=null;this.os=null}ka.prototype=new b0("");
ka.prototype.M1=function(){this.D5=new aM;var i=this.D5,C=this.wF;i.parent=this;if(this.B6){var m=d.t("div","marged");
C.appendChild(m);m.appendChild(i.Qh.n);C.appendChild(d.t("hr"));var e=d.t("div","marged");C.appendChild(e);
e.appendChild(i.ac.n);e.appendChild(i._a.n);var z=d.t("div","marged");C.appendChild(z);z.appendChild(i.rr.n);
z.appendChild(i.Rm.n);C.appendChild(d.t("hr"));var L=d.t("div","marged");C.appendChild(L);L.appendChild(i.$n.n);
L.appendChild(i.fP.n);var l=d.t("div","marged");C.appendChild(l);l.appendChild(i.Xw.n);l.appendChild(i.sp.n);
l.appendChild(i.rm.n);C.appendChild(d.t("hr"));var x=d.t("div","marged");C.appendChild(x);x.appendChild(i.TV.n);
x.appendChild(i.Uy.n);x.appendChild(i.Q1.n);x.appendChild(i.LX.n);x.appendChild(i.UA.n);x.appendChild(i.az.n);
x.appendChild(i.Ls.n);x.appendChild(i.TM.n)}else{var m=d.t("div","marged");C.appendChild(m);m.appendChild(i.Ou.n);
m.appendChild(i.j1.n);m.appendChild(i.Bv.n);m.appendChild(i.aex.n);m.appendChild(i.a9Z.n);m.appendChild(i.acP.n);
m.appendChild(i.awl.n);C.appendChild(d.t("hr"));var e=d.t("div","marged");C.appendChild(e);e.appendChild(i.We.n);
e.appendChild(i.YF.n);e.appendChild(i.W4.n);C.appendChild(d.t("hr"));var z=d.t("div","marged");C.appendChild(z);
z.appendChild(i.sH.n);z.appendChild(i.nq.n);z.appendChild(i.vf.n);z.appendChild(i.jx.n)}};ka.prototype.tx=function(){if(!d.bv(this.wF))return;
if(this.D5==null){this.M1();var i=this.os;if(i)this.D5.c(i.c4,i.FV,i.Tf);this.D5._()}};ka.prototype._=function(){b0.prototype._.call(this);
if(this.D5)this.D5._()};ka.prototype.P6=function(i,C){this.os=i;if(C!=dm.cX&&C!=dm.QI&&C!=dm.sY&&C!=dm.jl)return;
if(this.D5)this.D5.c(i.c4,i.FV,i.Tf)};function fc(i){b0.call(this,i?"Character Styles":"Paragraph Styles",!1,null,i?b0.eB.auz:b0.eB.aso);
this.wF.setAttribute("style","min-width:240px;");var C=this.fx=d.t("div","scrollable");this.wF.appendChild(C);
C.setAttribute("style","max-height:400px;");this.Oc=null;this.auZ=null;this.Du=null;this.B6=i?0:1;this.uS=null;
this.os=null;this.aqv=fc.prototype.xW.bind(this)}fc.prototype=new b0("");fc.prototype.bw=function(i,C,m){this.uS=i;
this.os=m;this.PT()};fc.prototype.PT=function(){var i=this.fx,_=null;d._l(i);if(!d.bv(this.wF))return;
var C=this.uS,m=this.os;if(C==null||m==null)return;var e=m.c4,z=this.Oc=[],L={},l=this.auZ=[],x=this.Du=[],S={},k=this.B6,f=k==0?"Style":"Paragraph";
for(var Y=0;Y<C.M.length;Y++){var X=C.M[Y].add.TySh;if(X==null)continue;var o=X.Wg,A=X.i.je(),P=o.ResourceDict.FontSet,F=o.EngineDict[f+"Run"],n=F.RunArray;
for(var R=0;R<n.length;R++){var Q=fc.aed(n[R][f+"Sheet"][k==0?"StyleSheetData":"Properties"],k,P,l,S,A),s=JSON.stringify(Q);
if(L[s]==null){L[s]=!0;z.push(Q)}}}var j=k==0?function(dS,w){return w.FontSize-dS.FontSize}:function(dS,w){return dS.Justify-w.Justify};
z.sort(j);if(k==0){var B=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],N=B.length,a=new Array(N),O=1e9,H=0,b=0;
a.fill(1e9);for(var Y=0;Y<z.length;Y++){var q=z[Y],P=q.FontSize;O=Math.min(O,P);H=Math.max(H,P);var h=q.FillColor.Values;
for(var R=0;R<N;R++){var D=B[R],T=h[1]-D[1],p=h[2]-D[2],y=h[3]-D[3];a[R]=Math.min(a[R],T*T+p*p+y*y)}}for(var R=0;
R<N;R++)if(a[R]>b){b=a[R];_=B[R]}}var g=fc.aed(k==0?e.hU:e.t7,k,e.JR,l,S,1),u=JSON.stringify(g);for(var Y=0;
Y<z.length;Y++){var t=d.t("div");i.appendChild(t);x.push(t);t.addEventListener("click",this.aqv,!1);
var q=z[Y],V=JSON.stringify(q)==u;if(k==0){var c=l[q.Font].Name,E=c.toLowerCase(),Z=E.indexOf("bold")!=-1||E.indexOf("-black")!=-1,G=E.indexOf("italic")!=-1||E.indexOf("oblique")!=-1||E.endsWith("-it"),J=E.indexOf("light")!=-1,P=q.FontSize,h=q.FillColor.Values,K=_;
if(V){K=K.slice(0);for(var R=1;R<4;R++)K[R]*=.8}var M=H==O?.5:(P-O)/(H-O),e=10+16*M,U="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+e+"px; color:"+CSS.IT({Z:h[1]*255,r:h[2]*255,e:h[3]*255})+"; border-bottom:1px solid grey; line-height:"+38+"px; background-color:"+CSS.IT({Z:K[1]*255,r:K[2]*255,e:K[3]*255})+";";
if(Z)U+=" font-weight:bold;";if(G)U+=" font-style:italic;";if(J)U+=" font-weight:lighter;";t.setAttribute("style",U);
var r=d.t("span");t.appendChild(r);r.setAttribute("style","display:inline-block;  width:"+(H>99?50:40)+"px;  text-align:right;  margin-right:5px;");
r.textContent=Math.round(P);r=d.t("span");t.appendChild(r);r.setAttribute("style","display:inline-block;  width:130px; ");
r.textContent=c}}};fc.prototype.xW=function(i){var C=JSON.parse(JSON.stringify(this.os.c4)),Y=this.Du.indexOf(i.currentTarget),m=this.Oc[Y];
for(var e in m)if(e!="Font")C.hU[e]=m[e];e7.Ca(C,this.auZ[m.Font].Name);console.log(C);var z=new eX(v.E.H,!0);
z.data={d:v.B.Mc,N5:dm.QI,c4:C};this.T(z);var z=new eX(v.E.v,!0);z.f=$.ck;z.data={d:"updateStyles"};
this.T(z)};fc.aed=function(i,C,m,e,z,L){var l=C==0?["Font","FontSize","FillColor"]:[],x={};for(var S=0;
S<l.length;S++)x[l[S]]=i[l[S]];if(C==0){if(x.Font!=null){var k=m[x.Font].Name;if(z[k]==null){z[k]=e.length;
e.push(m[x.Font])}x.Font=z[k]}x.FontSize=x.FontSize*L}return x};fc.prototype.tx=function(){if(!d.bv(this.wF))return};
fc.prototype._=function(){b0.prototype._.call(this)};fc.prototype.P6=function(i,C){this.os=i;this.PT()};
function fP(){b0.call(this,[9,13],!1,"---panels/glyphs",b0.eB.arz);this.os=null}fP.prototype=new b0("");
fP.prototype.M1=function(){this.D5=new aM;this.D5.parent=this;this.agR=null;this.a0Z=null;this.Sp=null;
this.af2=null;this.gl=Math.round(290*d.XP());this.yS=45;this.a7O=4;this.a9g=this.__.bind(this);this.aeZ=0;
this.ZH=new ib(null,["Hi","Hello"]);this.ZH.k(v.E.p,this.__,this);var i=this.lV=new c1("-",null,null,!0);
i.k("click",this.ala,this);var C=this.aDE=new c1("+",null,null,!0);C.k("click",this.ala,this);this.EJ=new gL(!1);
this.EJ.k(v.E.p,this.Uk,this);this.EJ.n.style.height=250+"px";var m=this.yQ=d.t("div","form padded");
this.wF.appendChild(m);m.appendChild(this.D5.Qh.n);d._Z(m);m.appendChild(this.ZH.n);m.appendChild(i.n);
m.appendChild(C.n);this.wF.appendChild(this.EJ.n)};fP.prototype.Oh=function(i,C){if(this.HG==i||this.D5==null)return;
this.HG=i;this.gl=Math.floor((i-13)*d.XP());this.yQ.setAttribute("style","width:"+this.gl/d.XP()+"px;");
this.EJ.n.style.height=C-73+"px";this.__()};fP.prototype.Uk=function(i){var C=this.aqb(),m=Math.round(this.gl/C);
C/=d.XP();var e=this.EJ.h()[0]*m*this.a7O,z=this.EJ.aiQ();e+=Math.floor(z.y/C)*m;e+=Math.floor(z.x/C);
var L=this.Sp[this.ZH.h()];if(e>=L.length)return;var l=L[e],x=this.af2[l],S=new eX(v.E.v,!0);S.f=$.ck;
if(x.OG.length==0)S.data={d:"insertGlyph",b:e+1};else S.data={d:"insertText",b:String.fromCodePoint(x.OG[0])};
this.T(S)};fP.prototype.ala=function(i){var C=1.2;if(i.target==this.lV){if(this.yS>20)this.yS/=C}else{if(this.yS<100)this.yS*=C}this.__()};
fP.prototype.tx=function(){this.P6(this.os)};fP.prototype.P6=function(i,C){this.os=i;if(!d.bv(this.wF))return;
if(this.D5==null)this.M1();this.D5.c(i.c4,i.FV,i.Tf);var m=i.c4,e=m.hU.Font,S=0;if(e==null)return;var z=m.JR[e].Name;
if(this.agR==z)return;var e=i.FV.he(z);if(e==null)return;var L=e.maxp.numGlyphs,l=this.af2=new Array(L);
for(var Y=0;Y<L;Y++)l[Y]={OG:[]};var x=Date.now(),k=new Uint8Array(1048575);for(var Y=0;Y<1048575;Y++){var f=Typr.U.codeToGlyph(e,Y);
if(f!=0&&f<L){k[Y]=1;if(l[f].OG.length==0)S++;l[f].OG.push(Y)}}var X=fP.KE,o=[];for(var Y=0;Y<X.length;
Y++)o.push([]);for(var f=1;f<L;f++){o[0].push(f);var A=l[f].OG[0];if(A==null){continue}for(var P=1;P<X.length;
P++){var F=X[P].x4;for(var Y=0;Y<F.length;Y+=2)if(F[Y]<=A&&A<=F[Y+1]){o[P].push(f);break}}}this.Sp=o;
var n=[];for(var Y=0;Y<X.length;Y++)n.push(X[Y].zm+" ("+o[Y].length+")");var R=this.ZH.h();this.ZH.bD(n);
this.ZH.c(R);this.agR=z;this.a0Z=e;this.__()};fP.prototype.aqb=function(i){var C=Math.floor(this.gl/this.yS);
return Math.floor(this.gl/C)};fP.prototype.__=function(i){if(!d.bv(this.wF)||this.Sp==null)return;var C=this.Sp[this.ZH.h()],m=C.length,e=this.a0Z,z=Typr.U,L=this.aqb(),l=L,x=l*.8,S=l*.8/e.head.unitsPerEm,k=[],f=Math.floor(this.gl/L),X=Math.ceil(m/f),o=this.a7O,A=Date.now();
for(var P=0;P<X;P+=o){var F=d.t("canvas"),n=F.getContext("2d");F.width=L*f;F.height=l*o;n.fillStyle="white";
n.fillRect(0,0,f*L,l*o);for(var R=0;R<o;R++){for(var Q=0;Q<f;Q++){var Y=C[(P+R)*f+Q];if(Y==null)break;
var s=z.glyphToPath(e,Y),j=I.C.OO(s.crds);n.fillStyle="#252525";if(j.bs()){var _=e.hmtx,B=[],q=170;for(var N in _)B.push(N);
var a=_[B[0]][Y],O=_[B[1]][Y],H=Math.max(a,O);s={cmds:"M L M L M L".split(" "),crds:[0,0,H,0,0,-q,0,q,H,-q,H,q]};
j.m=H;j.x=0;n.strokeStyle="rgba(0,255,0,1)"}n.beginPath();var h=Q*L+(L-j.m*S)*.5-j.x*S,D=R*l+x;n.translate(h,D);
n.scale(S,-S);z.pathToContext(s,n);n.scale(1/S,-1/S);n.translate(-h,-D);j.bs()?n.stroke():n.fill()}}n.beginPath();
for(var Q=0;Q<f;Q++){var T=Q*L+L+.5;n.moveTo(T,0);n.lineTo(T,l*o)}for(var R=0;R<o;R++){var p=R*l+l+.5;
n.moveTo(0,p);n.lineTo(f*L,p)}n.strokeStyle="rgba(0,0,0,0.3)";n.stroke();k.push(F)}this.EJ.Tu(k,null,L*f,l*o)};
fP.KE=[{zm:"All Glyphs"},{zm:"Basic Latin, Latin 1",x4:[0,127,128,143]},{zm:"Latin Extended-A",x4:[256,383]},{zm:"Latin Extended-B",x4:[384,591]},{zm:"Punctuations",x4:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{zm:"Greek",x4:[880,1023]},{zm:"Cyrillic",x4:[1024,1279]},{zm:"Hebrew",x4:[1424,1535]},{zm:"Arabic",x4:[1536,1791]},{zm:"Emoji",x4:[9728,10095,127744,129535]}];
function hs(){b0.call(this,[13,0],!1,null,b0.eB.li);this.lF=0;this.ai9=0;this.os=null}hs.prototype=new b0("");
hs.prototype.M1=function(){if(!d.bv(this.wF)||this.Ya)return;var i=d.t("div","flexrow padded");this.wF.appendChild(i);
var C=d.t("div");i.appendChild(C);this.Ya=[];for(var Y=0;Y<2;Y++){var m=new hv;this.Ya.push(m);m.k("click",this.abP,this);
C.appendChild(m.n)}this.HI=new hZ(192);console.log("hsb picker");this.HI.k(v.E.p,this.ed,this);this.oO=new h_;
this.oO.parent=this;i.appendChild(this.HI.n);this.P6(this.os,dm.cX)};hs.prototype.abP=function(i){var C=i.currentTarget,m=this.Ya.indexOf(C);
if(m==this.lF){this.oO.YB(m)}else{this.lF=m;this.__()}};hs.prototype.ed=function(i){var C=this.HI.h();
this.HI.c(C);var m=Math.round(C.Z*255)<<16|Math.round(C.r*255)<<8|Math.round(C.e*255),e=new eX(v.E.H,!0);
e.data={d:v.B.Mc,N5:dm.li,Tt:this.lF,b:m};this.T(e);this.ai9=Date.now()};hs.prototype.__=function(){if(this.oO==null)return;
var i=this.os,C=this.lF,m=[i.Dm,i.yv];for(var Y=0;Y<2;Y++){var e=this.Ya[Y],z=e.n.style;e.Iw(m[Y]);if(Y==C)z.filter="drop-shadow(0 0 1px #000000)"}var L=m[C];
if(Date.now()-this.ai9>100)this.HI.c({Z:(L>>>16)/255,r:(L>>>8&255)/255,e:(L&255)/255})};hs.prototype.P6=function(i,C){this.os=i;
if(this.oO==null)return;if(C==dm.cX||C==dm.li){this.oO.abF(i.Dm,i.yv);this.__()}};hs.prototype.bw=function(){this.M1()};
hs.prototype.tx=function(){this.M1();this.__()};function c_(){b0.call(this,"CSS",!1,"---panels/css",b0.eB.CSS);
this.uS=null;var i=d.t("div","padded");this.wF.appendChild(i);this.oy=d.t("textarea");d.xq(this.oy);
i.appendChild(this.oy)}c_.prototype=new b0("");c_.prototype.Oh=function(i,C){if(this.HG==i)return;this.HG=i;
this.oy.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(i-10)+"px; height:"+(C-10)+"px")};
c_.prototype.bw=function(i){this.uS=i;this.__()};c_.prototype.P6=function(i,C){if(C==dm.sY)this.__()};
c_.prototype.__=function(){var i=this.uS;if(i==null||i.g.length==0)return;if(!d.bv(this.wF))return;var C=i.M[i.g[0]],m=CSS.a1v(C,i);
if(m.length!=0)this.oy.value=m.join(";\n")+";";else this.oy.value=""};c_.prototype.tx=function(){this.__()};
function jJ(){b0.call(this,"Text to Image",!1,null,b0.eB.amD);this.uS=null;var i=this.a5p=d.t("div","form padded labfxd");
this.wF.appendChild(i);this.aaK=["512x512","1024x1024"];this.v2=0;this.lS={};this.XS=[];this.yU=[];this.WX=null;
var C=["API Key","Generate"],m=this.Du=[[new bd("Stable Diffusion"),new iw(null,["Our key","Your own key"]),new kz],[new kz("Prompt",null,null,4),new em("Inpaint the selection"),new c1([12,49],!0,null,!0)]];
m[1][0].c("goat riding a bike");for(var Y=0;Y<2;Y++){var e=new c1(C[Y]);this.XS.push(e);i.appendChild(e.n);
e.k("click",this.aB9,this);var z=d.t("div");this.yU.push(z);var L=m[Y];for(var l=0;l<L.length;l++){L[l].parent=this;
z.appendChild(L[l].n);if(Y==0)L[l].k(v.E.p,this.aea,this);if(Y==1&&l==2)L[l].k("click",this.a1O,this)}}d.PG(i);
this.lA=d.t("div");i.appendChild(this.lA);this.P8=d.t("div","scrollable");this.yU[1].appendChild(this.P8);
var x=window.locStor.getItem("dezgo_api_key");if(x){x=x.split(",");m[0][1].c(parseInt(x[0]));m[0][2].c(x[1])}else m[0][2].c("your_api_key");
this.aea();this.aB9(null,1);jJ.aCR=jJ.prototype.aki.bind(this)}jJ.prototype=new b0("");jJ.prototype.a1O=function(){var i=this.Du,C=i[0],m=i[1],e=C[1].h()==0,z=C[2].h().trim(),L=m[0].h().trim(),l=m[1].h(),x=jJ.axm(e,z,L,l?this.uS:null);
if(x==1)d.uc(this.wF,"disabled")};jJ.aCR=null;jJ.Rl=0;jJ.arU=null;jJ.hW=function(i){if(!a8.md()){var C=Math.round((Date.now()-jJ.Rl)/1e3),m=0;
if(C<m){window.confirm("Wait "+(m-C)+" seconds or get a Premium account for the unlimited access. Or enter your own API Key.");
return!1}}if(i&&jJ.ku(i)==null){alert("Your area is too big, we support only smaller areas.");return!1}return!0};
jJ.ku=function(i){var C=i.M[i.g[0]].rect,m=i.u.rect.G_(C),L=7;if(m.P()>1024*1024)return null;var e=m.P()>512*512,z=512*512;
if(e){z=1024*1024;L=15}while(!0){var l=m.clone();l.sW(1,1);l=l.G_(C);if(l.P()>m.P()&&l.P()<=z)m=l;else break}var x=m.m&L;
m.m-=x;m.x+=x>>>1;var S=m.J&L;m.J-=S;m.y+=S>>>1;return m};jJ.axm=function(i,C,m,e,z,L){if(!navigator.onLine){alert("Get online to use this feature.");
return}if(i&&!jJ.hW())return;var l=e?jJ.ku(e).P()>512*512:!0,x,S,k=JSON.parse(ch.cF("l6oGo\"40.m {b$AXcpiCzCUgcaASO6T~&*:G@&*B2=^DdL>PLJJ\\X Xgh ^")),f=ch.cF("CIO PRU,[1=F>;qBxuLN''W\\/^3ev:rEvM}&20'.,c6cli?rzI"),X={};
X[k[0]]=i?f:C;X[k[1]]=k[2];var o={prompt:m,upscale:l?2:1,steps:30,model:e?"stablediffusion_inpaint_2":"stablediffusion_2_1_512px"};
if(L)for(var A in L)o[A]=L[A];var P="https://dezgo.p.rapidapi.com/"+(e==null?"text2image":"inpainting"),F=new XMLHttpRequest;
F.open("POST",P,!0);for(var n in X)F.setRequestHeader(n,X[n]);if(z==null)z=jJ.aCR;F.onload=z;F.responseType="arraybuffer";
if(e==null){F.setRequestHeader("content-type","application/x-www-form-urlencoded");var R=[];for(var A in o)R.push(encodeURIComponent(A)+"="+encodeURIComponent(o[A]));
F.send(R.join("&"));x=S=512}else{var Q=jJ.ku(e),s=e.M[e.g[0]],j=e.u,_=I.R(Q.P()*4);I.fF(s.buffer,s.rect,_,Q);
var B=I.R(Q.P());I.Vo(j.channel,j.rect,B,Q);if(l){console.log("downscaling");var N=I.r_(_,Q);_=N.S2;
var a=I.QL(B,Q);B=a.S2;Q=a.rect}var O=UPNG.encode([_.buffer],Q.m,Q.J);I.round(B);var H=I.R(Q.P()*4);
H.fill(255);I.uM(B,H);var q=UPNG.encode([H.buffer],Q.m,Q.J,null,null,null,!0),h=new FormData;h.append("init_image",new Blob([O],{type:"image/png"}));
h.append("mask_image",new Blob([q],{type:"image/png"}));for(var A in o)h.append(A,o[A]);F.send(h);x=Q.m;
S=Q.J}jJ.arU=[x,S,l,i];return 1};jJ.Sm=function(i){jJ.Rl=Date.now();var C=this.arU,m=C[0],e=C[1],z=C[2],L=C[3],x=30;
if(!L)return;var l=a8.md()?"Premium":"Free",S=Math.max(m*e,512*512),k=(S*6849e-9-1.133)*Math.max(x,10);
if(z==2)k+=S*49278e-9;for(var Y=0;Y<k;Y++)a8.event("dezgo_Dezgo "+l+(i?" "+i:""))};jJ.prototype.aki=function(i){var C=this.Du;
d.nP(this.wF,"disabled");var m={created:Math.round(Date.now()/1e3),data:[{b64_json:i$.m7(i.target.response)}]},e=this.lS,z=C[1][0].h().trim();
if(e[z]==null)e[z]=[];e[z].push(m);jJ.Sm();this.__()};jJ.prototype.aea=function(i){var C=this.Du,m=[C[0][1].h(),C[0][2].h().trim()];
window.locStor.setItem("dezgo_api_key",m.join(","));C[0][2].wo(m[0]==1)};jJ.prototype.aB9=function(i,Y){d._l(this.lA);
if(Y==null)Y=this.XS.indexOf(i.target);for(var C=0;C<2;C++)this.XS[C].c(C==Y);this.lA.appendChild(this.yU[Y])};
jJ.prototype.Oh=function(i,C){if(this.HG==i)return;this.HG=i;this.a5p.style.width=i-16+"px";this.P8.style.height=C-190+"px"};
jJ.prototype.bw=function(i,C){this.uS=i;if(i)this.v2=C.indexOf(i);this.__()};jJ.prototype.P6=function(i,C){};
jJ.prototype._=function(i,C){b0.prototype._.call(this);var m=this.Du,z=" target=\"_blank\" style=\"color:inherit;\">";
for(var Y=0;Y<2;Y++){this.XS[Y]._();for(var e=0;e<m[Y].length;e++)this.Du[Y][e]._()}m[0][0].n.innerHTML="Stable Diffusion - <a href=\"//rapidapi.com/dezgo/api/dezgo\" "+z+"rapidapi.com/dezgo</a>"};
jJ.prototype.__=function(){var i=this.P8,C=this.lS;d._l(i);var m=[];for(var e in C){C[e].sort(function(A,P){return P.created-A.created});
m.push([e,C[e]])}m.sort(function(A,P){return P[1][0].created-A[1][0].created});var z=this.aE3.bind(this),L=this.WX=[[],[]];
for(var Y=0;Y<m.length;Y++){var e=m[Y][0],l=m[Y][1],x=d.t("div");x.textContent=e;i.appendChild(x);for(var S=0;
S<l.length;S++){var k=l[S].data;for(var f=0;f<k.length;f++){var X=k[f].b64_json,o=d.t("img");o.setAttribute("src","data:image/png;base64,"+X);
o.onclick=z;o.style.width=128/d.XP()+"px";o.style.marginRight="4px";o.style.cursor="pointer";i.appendChild(o);
L[0].push(o);L[1].push(k[f])}}}};jJ.prototype.aE3=function(i){var Y=this.WX[0].indexOf(i.target),C=this.WX[1][Y].b64_json,m=i$.yk(C);
g_.Jl({url:"file",v2:this.v2},m,this)};jJ.prototype.tx=function(){this.__()};function f1(){b0.call(this,[9,6],!1,"---panels/info",b0.eB.axW);
this.wF.setAttribute("style","min-width:240px;");this.uS=null;this.os=null;this.V2=null;var i=this.Po=[];
for(var C=0;C<3;C++){var m=d.t("div","marged row");this.wF.appendChild(m);var e=d.t("div","cell");e.setAttribute("style","width:10em");
m.appendChild(e);var z=d.t("div","cell");z.setAttribute("style","width:10em");m.appendChild(z);var L=[8,4,3][C];
for(var Y=0;Y<L;Y++){var l=new bd("");i.push(l);l.c(0);l.n.style.padding="0";var x=Y<(C==1?2:4)?e:z;
x.appendChild(l.n);d._Z(x)}if(C<2)d.PG(this.wF)}this.Tn=i[8];this.EE=i[9];this.gR=i[10];this.rw=i[11];
d.PG(this.wF);this.V2=d.t("div");this.V2.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.wF.appendChild(this.V2)}f1.prototype=new b0("");f1.prototype.ct=function(i,C,m,e,z){if(!d.bv(this.wF)||i==null)return;
var L=i.q.yy(z.x,z.y),l=new b5(Math.floor(L.x),Math.floor(L.y));if(!z.$G){var x=0,S=0,k=0,f=0,X=this.Po;
if(!z.$G&&!i.aoj()&&new j2(0,0,i.m-1,i.J-1).Xp(l)){var o=i.I6(),Y=i.m*l.y+l.x<<2;x=o[Y+0];S=o[Y+1];k=o[Y+2];
f=o[Y+3]}var A=I.uy([x/255,S/255,k/255]);X[0].c("R: "+x);X[1].c("G: "+S);X[2].c("B: "+k);X[3].c("A: "+f);
X[4].c("C: "+Math.round(A[0]*100)+"%");X[5].c("M: "+Math.round(A[1]*100)+"%");X[6].c("Y: "+Math.round(A[2]*100)+"%");
X[7].c("K: "+Math.round(A[3]*100)+"%");var P=I.auf(x,S,k);X[12].c("H: "+Math.round(P.bB*360)+"\xB0");
X[13].c("S: "+Math.round(P.ve*100)+"%");X[14].c("B: "+Math.round(P.e*100/255)+"%")}var F=i.q.U>1?new b5(L.x,L.y):l;
this.Tn.c("X: "+I.up.Rd(F.x,i.lC,m,i.m));this.EE.c("Y: "+I.up.Rd(F.y,i.lC,m,i.J));this.$J()};f1.prototype.$J=function(){var i=this.uS,C=this.os,m=0,e=0;
if(i&&C){if(i.q.Bt){m=i.q.Bt.m;e=i.q.Bt.J}else if(i.u){m=i.u.rect.m;e=i.u.rect.J}m=I.up.Rd(Math.abs(m),i.lC,C,i.m);
e=I.up.Rd(Math.abs(e),i.lC,C,i.J)}this.gR.c(bC.get([12,41]).charAt(0)+": "+m);this.rw.c(bC.get([12,42]).charAt(0)+": "+e)};
f1.prototype._=function(){b0.prototype._.call(this);this.$J()};f1.prototype.tx=function(){this.bw(this.uS,null,this.os)};
f1.prototype.bw=function(i,C,m){this.uS=i;this.os=m;if(!d.bv(this.wF))return;console.log("update");this.$J();
if(i&&i.g.length!=0){var e=i.g[0],z=i.M[e],L=fp.get(z.add)!=null,l=L&&i.g[0]>0;this.V2.innerHTML="";
for(var Y=0;Y<i.cU.length;Y++){var x=i.cU[Y],z=i.q.ip(x.x,x.y),S=$.U3.bl(i,z,1,l?1:2),k={Z:S>>>16&255,r:S>>>8&255,e:S&255},F="<span style=\"display:inline-block; width:25px; text-align:right\">",n="</span>";
if(l){var f=i.g[0];i.g[0]=e-1;var X=$.U3.bl(i,z,1,1),o={Z:X>>>16&255,r:X>>>8&255,e:X&255};i.g[0]=f}var A=d.t("div");
A.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var P="<b>#"+(Y+1)+"</b>",R=[k.Z,k.r,k.e],Q=l?[o.Z,o.r,o.e]:null,s=["R","G","B"];
for(var j=0;j<3;j++)P+="<br/>"+F+s[j]+n+": "+(l?F+Q[j]+n+" /":"")+F+R[j]+n;A.innerHTML=P;this.V2.appendChild(A)}}};
function cp(){b0.call(this,[9,1],!1,"---panels/layers",b0.eB.bH);this.cu=null;this.kW=[];this.n4=null;
this.V7=null;this.GC=d.t("div","lphead");this.oU=d.t("div","lpbody scrollable");this.oU.addEventListener("scroll",this.axl.bind(this),!1);
this.EG=d.t("div","lpfoot");var i=this.aqd=d.t("span");i.setAttribute("style","display:inline-block; height:26px");
this.GC.appendChild(i);this.q9=new ib(null,aw.jI,aw._g);this.q9.k(v.E.p,this.a8d,this);this.GC.appendChild(this.q9.n);
this.UK=new db([12,0],0,100,"%",0);this.UK.k(v.E.p,this.a0G,this);this.UK.parent=this;this.GC.appendChild(this.UK.n);
this.$x=new as([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.$x.k(v.E.p,this.agE,this);this.GC.appendChild(this.$x.n);this.wH=new db([12,26],0,100,"%",0);this.wH.k(v.E.p,this.a9h,this);
this.wH.parent=this;this.GC.appendChild(this.wH.n);this.hA=[];this.D$();this.wF.appendChild(this.GC);
this.wF.appendChild(this.oU);this.oU.addEventListener("dragover",function(z){z.preventDefault()},!1);
this.oU.addEventListener("dragenter",d.Vw,!1);this.oU.addEventListener("drop",this.amy.bind(this),!1);
this.wF.appendChild(this.EG);this.wF.addEventListener("contextmenu",d.Vw,!1);this.k("rclick",this.aa2,this);
var C=function(z,L,Y){return{_t:this.Dr[Y]==1}}.bind(this);this.azP=new gw([{name:[0,6],w:C},{name:[14,10],w:C},{name:[6,57,2],w:C,mL:!0},{name:"Long-tap as a right click",w:C,mL:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{_t:e2.v7==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{_t:e2.v7==1,w:!0}}}]);
this.azP.k("select",this.aph,this);this.Dr=[0,1,1,0];var m=window.locStor;if(m){var e=m.getItem("lpOpt");
if(e){e=JSON.parse(e);this.Dr=e[0];e2.t3=e[1];e2.v7=e[2]}}this.aph()}cp.prototype=new b0("");cp.prototype.iY=function(){if(this.aaq)return;
var i=ih.kw(!0),C=ih.v5(!0);this.aaq=new gw(i,C);var i=[{name:[14,10]},{name:[14,11],mL:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],mL:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(m){return{w:m.M[m.g[0]].add.SoLd!=null}},mL:!0},{name:[6,8],w:cp.a2n},{name:[6,34],w:function(m){var e=m.M[m.g[0]];
return{w:e.add.lmfx!=null&&!e.yJ()}}},{name:[6,40],mL:!0,w:function(m){var e=m.M[m.g[0]];return{w:e.add.TySh!=null}}},{name:"",mL:!0,w:function(m){var e=m.M[m.g[0]],z=e.add.TySh,L=z?z.Wg:null;
return{w:z!=null&&L.Curve==null,rK:bC.get(z&&e7.c$(L)==0?[16,3,1]:[16,3,0])}}},cp.aw3(!1),ih.apM(),{name:[6,12,0],w:function(m){var e=m==null?0:m.g.length;
return{w:e!=0&&(e!=1||m.g[0]!=0),rK:bC.get(e>1||e==1&&m.M[m.g[0]].yJ()?[6,12,0]:[6,10])}}},{name:[6,12,1],mL:!0},{name:[13,0],sub:function(){var m=[];
for(var Y=0;Y<gx.vk.length;Y++)m.push({name:[13,1,Y],Ch:"#"+I.dP(gx.vk[Y])});return m}()}],C=[{K:v.E.H,A:{d:v.B.c6,pw:"layerstyle"}},{K:v.E.v,f:$.iH,A:{d:"fromlayer",BR:[null,0,0]}},{K:v.E.v,f:$.bH,A:{d:cc.Ev}},{K:v.E.H,A:{d:v.B.c6,pw:"duplinto"}},{K:v.E.v,f:$.bH,A:{d:cc.$U}},{K:v.E.HW,A:{o0:"newPlacedLayer"}},{K:v.E.v,f:$.bH,A:{d:cc.o9}},{K:v.E.HW,A:{o0:"rasterizeLayer",t6:{classID:"rasterizeLayer",null:h3.Ei("Lyr",!0)}}},{K:v.E.HW,A:{o0:"rasterizeLayer",t6:{classID:"rasterizeLayer",null:h3.Ei("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:v.E.v,f:$.bH,A:{d:cc.ayR}},{K:v.E.v,f:$.ck,A:{d:"switchPntPrgr"}},{K:v.E.v,f:$.bH,A:{d:cc.nu}},ih.avu(),{K:v.E.HW,A:{o0:"mergeLayersNew",t6:{__name:"Merge Layers",classID:"Mrg2"}}},{K:v.E.HW,A:{o0:"flattenImage"}},{sub:function(){var m=[];
for(var Y=0;Y<8;Y++)m.push({K:v.E.v,f:$.bH,A:{d:cc.Bn,a3M:Y}});return m}()}];this.af=new gw(i,C);var i=[{name:[6,45],w:function(m){var e=m.M[m.g[0]];
return{w:e.x6(m).X==null}}},{name:[6,47]}],C=[{K:v.E.v,f:$.bH,A:{d:cc.gr}},{K:v.E.v,f:$.bH,A:{d:cc.pZ}}];
this.a8b=new gw(i,C);var i=[{name:"enab/disab",w:function(m){return{rK:bC.get(m.M[m.g[0]].Re().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(m){return{w:m.KT(!1,!0)}}}],C=[{K:v.E.v,f:$.bH,A:{d:cc.Q3}},{K:v.E.v,f:$.bH,A:{d:cc.Eh}},{K:v.E.v,f:$.bH,A:{d:cc.Wf}}];
this.axx=new gw(i,C);var i=[{name:"enab/disab",w:function(m){return{rK:bC.get(m.M[m.g[0]].x6(m).X.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],C=[{K:v.E.v,f:$.bH,A:{d:cc.L7}},{K:v.E.v,f:$.bH,A:{d:cc.Hv}}];
this.a0r=new gw(i,C);var i=[{name:"enab/disab",w:function(m){return{rK:bC.get(m.M[m.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],C=[{K:v.E.v,f:$.bH,A:{d:cc.bo}},{K:v.E.v,f:$.bH,A:{d:cc.l9}},{K:v.E.v,f:$.bH,A:{d:cc.lW}}];
this.ahL=new gw(i,C);this.arn=new gw(ih.ay7(!0),ih.i6(!0));this.a6n=new gw(ih.kw(),ih.v5())};cp.prototype.axl=function(i){var C=this.oU.scrollTop-600;
for(var Y=0;Y<this.kW.length;Y++){var m=this.kW[Y],e=m.Fk;if(C<m.Fk)m.a1E();if(m.Fk>C+this.bB+600)break}};
cp.prototype.Ad=function(){return this.azP};cp.prototype.aph=function(i){var C=this.Dr;if(i){var m=i.target.kT(),Y=m[0];
if(Y<4)C[Y]=1-C[Y];else if(Y<6){if(Y==4&&e2.t3-10>=10)e2.t3-=10;if(Y==5&&e2.t3+10<=200)e2.t3+=10;if(this.n4)this.n4.gZ=!0}else{if(Y==6)e2.v7=0;
if(Y==7)e2.v7=1;if(this.n4)this.n4.gZ=!0}var e=window.locStor;if(e)e.setItem("lpOpt",JSON.stringify([C,e2.t3,e2.v7]))}if(C[0]==1)this.apv();
var z=[[{n:this.aqd}],[this.q9,this.UK],[this.$x,this.wH]];for(var Y=0;Y<3;Y++)for(var L=0;L<z[Y].length;
L++)z[Y][L].n.style.display=C[Y]==1?"inline-block":"none";this.Oh(this.HG,this.bB)};cp.prototype.a9X=function(){var i=this.z3;
if(i==null)return!1;if(i.h()){var C=this.GB.h(),m=this.DR[C].h();if(C==0)return m.indexOf(!0)!=-1;if(C==1)return m!=""}return!1};
cp.aw3=function(i){var C=function(e){var z=e!=null&&e.g.length!=0&&e.M[e.g[0]].cy;return{_t:z,w:e!=null&&e.H_(e.g[0]),A:{K:v.E.HW,A:{o0:z?"ungroup":"groupEvent",t6:{classID:z?"Ungr":"GrpL",null:h3.Ei("Lyr",!0)}}}}},m={name:[6,6,0],mL:!0,w:C};
if(i)m.Xt=[jD.rb,jD.Uj,jD.yM];return m};cp.a2n=function(i,C){if(i)for(var Y=0;Y<i.g.length;Y++){var m=i.M[i.g[Y]];
if(m.add.TySh||m.add.SoLd||m.add.SoCo||m.add.GdFl||m.add.PtFl)return{w:!0}}return{w:!1}};cp.prototype.amy=function(i){d.Vw(i);
var C=i.dataTransfer.getData("Text"),m=1,e=0;if(C==""){d.SS(i,this,this.V7.indexOf(this.n4),e+(m>.5?0:1))}else if(C!="--panel"){var C=JSON.parse(C),z=C.rp;
if(z=="l")this.gK({d:cc.dy,source:C.dA,target:e,$N:m})}};cp.prototype.aa2=function(i){var C=this.n4,m=i.data,z;
if(C.g.indexOf(m.a)==-1){var e={d:cc.yL,a:i.target.Qe.index,JI:m.ii};this.gK(e)}if(C.g.indexOf(m.a)==-1)return;
this.iY();if(m.ii==1){z=this.axx}else if(m.ii==2){z=this.ahL}else if(m.ii==3){z=this.a0r}else if(m.ii==4){z=this.a8b}else if(m.ii==5){z=this.aaq}else{z=this.af}z._();
z.update(C);z.parent=this;var L=new eX(v.E.H,!0);L.data={d:v.B.vs,aA:z,x:m.If.x+1,y:m.If.y+1};this.T(L)};
cp.prototype._=function(){b0.prototype._.call(this);this.q9._();this.UK._();this.$x._();this.wH._();
if(this.z3){this.z3._();this.DR[0]._()}if(this.n4)this.bw(this.n4);var i="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Y=0;Y<this.hA.length;Y++){var C=this.hA[Y];C._H(d.W3(i[Y],null,"miniscale"));if(Y==1||Y==3){C.n.style.position="relative";
var m=d.t("img","gsicon");m.setAttribute("src",PIMG["tools/corner"]);m.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
C.n.appendChild(m)}}};cp.prototype.bw=function(i,C){if(i&&!i.gZ)return;if(i==null)d.uc(this.wF,"disabled");
else d.nP(this.wF,"disabled");this.n4=i;this.V7=C;if(this.cu!=null){d._l(this.oU);this.cu=null;this.kW=[]}if(i==null)return;
var m=!1;for(var Y=0;Y<i.T3.length;Y++)if(i.T3[Y].S0)m=!0;this.cu=new gx(i.root,this,i,{GN:0,Vn:!1},{aAY:m,a9E:this.a9X()},this.kW,0,new j2(0,0,i.m,i.J));
if(i.g.length==0||i.M[i.g[0]]==null)d.uc(this.GC,"disabled");else{d.nP(this.GC,"disabled");if(i.g.length==1&&i.Yj){var e=i.g[0];
for(var Y=0;Y<this.kW.length;Y++){var z=this.kW[Y];if(z.Qe.index==e&&z.GC.scrollIntoView)z.GC.scrollIntoView({block:"nearest"})}}var L=i.M[i.g[0]];
if(L.yJ()){this.q9.bD([[15,10,27]].concat(aw.jI),[1].concat(aw._g));var l=aw.Az.indexOf(L.fn);this.q9.c(l+1)}else{this.q9.bD(aw.jI,aw._g);
var l=aw.Az.indexOf(L.fn);this.q9.c(l)}this.UK.c(Math.round(100*L.opacity/255));this.$x.c([L.aG(0),L.aG(1),L.aG(2),L.aG(31)]);
var x=i.XW();this.q9.wo(!x);this.wH.wo(!x);this.UK.wo(!x);this.$x.wo(!(x&&!L.aG(31)));this.wH.c(Math.round(100*(L.add.iOpa!=null?L.add.iOpa/255:1)));
this.hA[2].aqV(bC.get(L.Re()?[6,23]:[6,21]))}this.axl(null)};cp.prototype.Oh=function(i,C){this.HG=i;
this.bB=C;var m=this.GC.getBoundingClientRect().height;if(55<m&&m<56)m=60.2;var e=this.EG.getBoundingClientRect().height,z=C-(m+e+3);
this.oU.style.height=z+"px";this.oU.style.width=i+"px"};cp.prototype.a8d=function(i){this.gK({d:cc.sE,yu:this.q9.h()})};
cp.prototype.a0G=function(i){this.gK({d:cc.kM,yu:Math.round(255*this.UK.h()/100)})};cp.prototype.agE=function(i){this.gK({d:cc.g$,yu:[this.$x.h(),[0,1,2,31]]})};
cp.prototype.a9h=function(i){this.gK({d:cc.uk,yu:Math.round(255*this.wH.h()/100)})};cp.prototype.El=function(i){if(i.target==this.GB)this.apv();
var C=this.z3.h();if(C)d.nP(this.$e,"disabled");else d.uc(this.$e,"disabled");this._();this.n4.gZ=!0;
this.bw(this.n4);this.n4.gZ=!1};cp.prototype.apv=function(){var i=this.$e;if(i==null){var C=this.aqd,m=this.z3=new em([0,6]);
m.k(v.E.p,this.El,this);C.appendChild(m.n);i=this.$e=d.t("span","disabled");C.appendChild(i);this.GB=new ib(null,["Kind",[12,48]],[]);
this.GB.k(v.E.p,this.El,this);var e=this.DR=[new as(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new kz(null,null,8)];
e[0].k(v.E.p,this.El,this);e[1].k("input",this.El,this)}d._l(i);i.appendChild(this.GB.n);i.appendChild(this.DR[this.GB.h()].n)};
cp.prototype.aDB=function(i){this.iY();this.ac9(i,this.arn)};cp.prototype.aCD=function(i){this.iY();
this.ac9(i,this.a6n)};cp.prototype.ac9=function(i,C){var m=i.currentTarget;if(d.bv(C.n))return;i.stopPropagation();
var e=m.getBoundingClientRect();C._();C.update(this.n4);C.parent=this;var z=new eX(v.E.H,!0);z.data={d:v.B.vs,aA:C,x:e.left,y:e.top,a0w:!0};
this.T(z)};cp.prototype.aiO=function(i){this.gK({d:cc.agt})};cp.prototype.a5_=function(i){this.gK({d:this.n4.g.length>1?cc.X6:cc.wf})};
cp.prototype.a3q=function(i){this.gK({d:cc.q3})};cp.prototype.apg=function(i){var C=this.n4;if(C.g.length==0)return;
var m=C.M[C.g[0]],e=m.ii;this.gK({d:e<=0?m.Aa?cc.l9:cc.$U:e==3?cc.Hv:cc.Eh})};cp.prototype.auM=function(i){this.gK({d:cc.en})};
cp.prototype.gK=function(i){var C=new eX(v.E.v,!0);C.data=i;C.f=$.bH;this.T(C)};cp.prototype.D$=function(){var i=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],C=[this.auM,this.aCD,this.aiO,this.aDB,this.a5_,this.a3q,this.apg],m=this.a62.bind(this);
for(var Y=0;Y<i.length;Y++){var e=new c1("W",!1,i[Y]);this.hA.push(e);d.h_(e.n,C[Y].bind(this));this.EG.appendChild(e.n);
if(Y>=i.length-3){var z=e.n;z.addEventListener("drop",m,!1);z.addEventListener("dragover",function(L){L.preventDefault()},!1);
z.addEventListener("dragenter",d.Vw,!1)}}};cp.prototype.a62=function(i){d.Vw(i);var C=0,m=this.hA;while(m[C].n!=i.currentTarget)C++;
m[C].m5();var e=i.dataTransfer.getData("Text");if(e=="")return;var e=JSON.parse(e);if(e.rp=="l"){var z={d:[cc.X6,cc.Ev,cc.$U][C-4]};
if(this.n4.g.indexOf(e.dA)==-1)z.a=e.dA;this.gK(z)}if(C!=6)return;if(e.rp=="sm"||e.rp=="s"){var L=new eX(v.E.v,!0);
L.f=$.$Z;L.data={d:e.rp=="sm"?"st_clear":"st_delsingle",a:e.dA,dA:e.KJ};this.T(L)}if(e.rp=="fm"||e.rp=="f"){this.gK({d:e.rp=="fm"?cc.pZ:cc.jP,src:e.dA,KJ:e.KJ})}if(e.rp=="m"||e.rp=="vm"){this.gK({d:e.rp=="m"?cc.Eh:cc.l9,a:e.dA})}};
function gx(i,C,m,e,z,L,l,x){k5.call(this);this.parent=C;this.Fk=l;this.Qe=i;L.push(this);this.R6=m;
this.uF=e;var S=C.oU,k=i.a,f=m.g.indexOf(i.index)!=-1,P=null;this.GC=d.t("div",f?"head selected":"head");
if(k.add.artb!=null){d.uc(this.GC,"artb");x=k.d3()}var X=this.afx=Math.floor(10+k.aq0/d.XP()),o="height: "+X+"px;";
if(f&&z.aAY)o+="background-color:rgba(255,50,50,0.4);";this.GC.setAttribute("style",o);this.Dc=x;var A=this.amO=this.aDF.bind(this),F=z.a9E&&!this.ade();
if(!F){if(i.depth!=0){S.appendChild(this.GC);l+=X-.3}if(k.cG()||k.k_())if(k.ez()){P=this.apS=d.t("div","lpineck");
S.appendChild(P);if(k.cG()){P.addEventListener("contextmenu",A,!1);var n=new cp.Au(bC.get([12,1]),"sm","layerstyle",i.depth,0,null);
l+=21;n.parent=this;P.appendChild(n.n);var R=k.add.lmfx,Q=R.masterFXSwitch.v;n.fJ(Q);for(var Y=0;Y<jt.order.length;
Y++){var s=R[jt.m8[Y]].v;if(s.length==0)continue;for(var j=0;j<s.length;j++){var n=new cp.Au(bC.get(jt.names[Y]),"s","layerstyle",i.depth,1,[Y,j]);
l+=21;n.fJ(Q&&s[j].v.enab.v);n.parent=this;P.appendChild(n.n)}}}if(k.k_()){var _=k.x6(m).X;if(_)this.wU=d.t("div","thumb");
var n=new cp.Au(bC.get([12,55]),"fm",null,i.depth,0,-1,_?this.wU:null,X);l+=_?X:21;n.parent=this;P.appendChild(n.n);
this.ali=n.n;this.ali.addEventListener("contextmenu",A,!1);var R=k.add.SoLd.filterFX.v,B=R.filterFXList.v,Q=R.enab.v;
n.fJ(Q);for(var Y=B.length-1;Y>=0;Y--){var N=B[Y].v,a=ft.C$(N);if(fp.fO[a])a=fp.fO[a];var O=N.Nm.v;if(ft.names[a])O=bC.get(ft.names[a]);
if(fp.names[a])O=bC.get(fp.names[a]);var H="afw_"+a,n=new cp.Au(O,"f",H,i.depth,1,Y);l+=21;n.fJ(Q&&N.enab.v);
n.parent=this;P.appendChild(n.n)}}}}var q=k.add.lclr;if(q==null)q=0;q=q==0?e.GN:gx.vk[q];this.aDN=q;
if(k.yJ()&&(k.add.lsct==aU.AY||z.a9E)){var h={GN:q,Vn:e.Vn||k.aG(31)};for(var Y=i.children.length-1;
Y>=0;Y--){var D=new gx(i.children[Y],C,m,h,z,L,l,x);l=D.axY}}this.axY=l}gx.prototype=new k5;gx.vk=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
gx.prototype.a1E=function(){if(this.Hj)return;var i=this.Qe,C=i.a,m=this.R6,e=this.uF,X=!0,h=!1;i.lU(m,this.Dc,!0);
var z=d.t("div","headL"),L=d.t("div","headR");this.GC.appendChild(z);this.GC.appendChild(L);var l=this.GC;
l.setAttribute("draggable","true");l.addEventListener("dragstart",this.Q2.bind(this),!1);l.addEventListener("drop",this.lG.bind(this),!1);
l.addEventListener("dragover",this.ei.bind(this),!1);l.addEventListener("dragenter",d.Vw,!1);l.addEventListener("dragleave",this.Ph.bind(this),!1);
var x=[],S=[null,null,null,null],k=C.gF(),f=i;while(f.parent){f=f.parent;k=k&&f.a.gF()}if(C.cy){for(var Y=i.index-1;
Y>=0;Y--){var o=m.M[Y];if(!o.cy){X=o.gF();break}}}var A=C.gF()?k&&X?2:1:0;this.Hj=d.t("div");var P=d.t("div",A==0?"sqr":"eye");
this.Hj.appendChild(P);P.style.opacity=[.12,.33,1][A];var F=d.t("div","space");this.EH=d.t("div","label");
this.EH.setAttribute("style","max-width:calc(100% - "+(96+i.depth*20)+"px); margin-top:"+(this.afx-19)/2+"px;"+(C.kv?"text-decoration:underline;":""));
this.EH.textContent=C.getName();this.VV=d.t("div","lock");this.at2=d.t("div","lrfx");this.PA=d.t("div","arfx");
var n=this.amO,R=this.ad8.bind(this);this.GC.addEventListener("click",R,!1);this.GC.addEventListener("contextmenu",n,!1);
var Q=this.aDN;if(Q!=0){var s=[Q>>16,Q>>8&255,Q&255];for(var Y=0;Y<3;Y++){s[Y]="calc("+s[Y]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.Hj.setAttribute("style","background-color:rgba("+s.join(",")+",1);")}var j=this.aja.bind(this);
this.Hj.addEventListener("mousedown",j,!1);this.Hj.addEventListener("mouseover",j,!1);this.PA.addEventListener("click",this.a0g.bind(this),!1);
x[0]=this.Hj;x[1]=F;x[10]=this.EH;if(C.yJ()){var _=d.t("div","arrow"),B=d.t("div","folder");this.$a(B);
_.addEventListener("click",this.av1.bind(this),!1);x[2]=_;x[3]=B;_.className=C.add.lsct==aU.AY?"open":"closed"}else{this.CF=d.t("div","thumb");
x[5]=this.CF;gx.zV(this.CF,C.OU);this.$a(this.CF);if(fp.get(C.add))d.uc(C.OU.canvas,"gsicon")}var N=C.Re();
if(N){this.Vh=d.t("div","chain");this.Cw=d.t("div","thumb");gx.zV(this.Cw,C.DA,!0);this.Vh.style.opacity=N.hu?1:0;
this.Vh.addEventListener("click",this.a3s.bind(this),!1)}var a=C.Q9()&&C.add.vmsk;if(C.add.vmsk&&!a){this.hT=d.t("div","chain");
this.Mg=d.t("div","thumb");gx.zV(this.Mg,C.zd,!0);this.hT.style.opacity=C.add.vmsk.hu?1:0;this.hT.addEventListener("click",this.aCO.bind(this),!1)}if(C.k_()&&C.ez()&&C.x6(m).X){gx.zV(this.wU,C.un,!1);
this.$a(this.wU);this.wU.addEventListener("click",R,!1);this.wU.addEventListener("contextmenu",n,!1)}if(i.index==m.g[0]){var O=C.ii,H;
if(O<=0)H=this.CF;else if(O==1)H=this.Cw;else if(O==3)H=this.wU;if(H)H.className="thumb active";if(C.Aa&&this.Mg)this.Mg.className="thumb active"}F.setAttribute("style","width:"+Math.max(0,i.depth-1)*18+"px");
var q=C.add.lspf!=null&&C.add.lspf!=0||e.Vn;this.VV.style.opacity=C.aG(31)?1:.5;x[4]=C.cy?d.t("div","clipp"):null;
x[6]=N?this.Vh:null;x[7]=N?this.Cw:null;x[8]=C.add.vmsk&&!a?this.hT:null;x[9]=C.add.vmsk&&!a?this.Mg:null;
var D=C.MW,T=m.g;if(D!=0)for(var Y=0;Y<T.length;Y++)if(m.M[T[Y]].MW==D){h=!0;break}if(h){S[0]=d.t("div",C.mI?"link":"linkX");
S[0].addEventListener("click",this.acb.bind(this),!1)}S[1]=q?this.VV:null;S[2]=C.cG()?this.at2:null;
S[3]=C.cG()||C.k_()?this.PA:null;this.PA.className=C.ez()?"arfx open  gsicon":"arfx closed  gsicon";
var p=x;for(var Y=0;Y<p.length;Y++)if(p[Y])z.appendChild(p[Y]);p=S;for(var Y=0;Y<p.length;Y++)if(p[Y])L.appendChild(p[Y])};
gx.zV=function(i,C,m){var e=C.canvas;d.$L(e);if(m)i.setAttribute("draggable","true");i.appendChild(e);
e.setAttribute("style",e.getAttribute("style")+"; pointer-events:none")};gx.prototype.$a=function(i){d.h_(i,function(C){if(this.parent.Dr[3]==0)return;
d.O5(C);d.xd(document.body,function(){clearTimeout(this.axo)}.bind(this));this.axo=setTimeout(function(){var m=new eX("rclick",!0);
m.data={a:this.Qe.index,ii:this.ii(C),If:d.CV(C,document.body)};this.T(m)}.bind(this),600)}.bind(this))};
gx.zS=function(i,C){var m=C.getBoundingClientRect();return(i.clientY-m.top)/m.height};gx.prototype.Q2=function(i){i.stopPropagation();
var C=i.target==this.Cw?"m":i.target==this.Mg?"vm":"l";i.dataTransfer.setData("Text",JSON.stringify({rp:C,dA:this.Qe.index}))};
gx.prototype.Ph=function(i){d.Vw(i);this.XG()};gx.prototype.lG=function(i){d.Vw(i);this.XG();var C=i.dataTransfer.getData("Text"),m=this.parent.n4,e=gx.zS(i,this.GC),z=this.Qe.index;
if(e>.8){var L=!0,l=m.root.zD(z);while(l.parent!=null){var x=l.parent,S=x.children;if(S.indexOf(l)!=0)L=!1;
l=l.parent}if(L){z=0;e=1}}if(C==""){d.SS(i,this,this.parent.V7.indexOf(m),z+(e>.5?0:1))}else if(C!="--panel"){var C=JSON.parse(C),k=C.rp;
if(k=="l")this.gK({d:cc.dy,source:C.dA,target:z,$N:e});else if(k=="m"||k=="vm")this.gK({d:k=="m"?cc.anY:cc.BK,src:C.dA,_B:z});
else gx.amQ(i,C,this)}};gx.amQ=function(i,C,m,e){var z=C.rp,L=m.Qe.index,l=C.dA;if(z=="s"||z=="sm")m.gK({d:cc.y2,src:l,_B:L,KJ:C.KJ});
if(z=="f"||z=="fm")m.gK({d:cc.awT,src:l,_B:L,KJ:C.KJ,LB:e==null?0:e})};gx.prototype.ei=function(i){d.Vw(i);
var C=gx.zS(i,this.GC),m=this.Qe.a.yJ()&&.5<C&&C<.8;this.XG();var e="inset 0 "+(m?0:C>.5?-3:3)+"px "+(m?"5px black":"0 rgba(0,0,0,0.5)");
this.GC.style.boxShadow=e};gx.prototype.XG=function(i){this.GC.style.boxShadow=""};gx.aB5=-1;gx.Y_=!1;
gx.atG=function(i){gx.Y_=!1;document.body.removeEventListener("mouseup",gx.atG)};gx.prototype.aja=function(i){if(i.button!=0)return;
if(i.type=="mousedown"){gx.Y_=!0;document.body.addEventListener("mouseup",gx.atG,!1)}if(i.type=="mouseover"&&(!gx.Y_||gx.aB5==this.Qe.index))return;
d.Vw(i);this.gK({d:cc.at,a:this.Qe.index});gx.aB5=this.Qe.index};gx.prototype.av1=function(i){d.Vw(i);
this.gK({d:cc.a6V,a:this.Qe.index})};gx.prototype.a3s=function(i){this.gK({d:cc.Wk,a:this.Qe.index})};
gx.prototype.aCO=function(i){this.gK({d:cc.LS,a:this.Qe.index})};gx.PJ=0;gx.prototype.LD=function(i){this.gK({d:cc.DL,a:this.Qe.index,name:i})};
gx.prototype.a0g=function(i){this.gK({d:cc.anp,a:this.Qe.index})};gx.prototype.acb=function(i){this.gK({d:cc.n7,a:this.Qe.index})};
gx.prototype.aDF=function(i){if(i.button!=2&&!d.ao$(i)&&!(i.ctrlKey&&jD.Wa()))return;var C=this.ii(i);
if(C!=3&&i.currentTarget==this.ali)C=4;if(i.target==this.at2||i.currentTarget==this.apS)C=5;var m=new eX("rclick",!0);
m.data={a:this.Qe.index,ii:C,If:d.CV(i,document.body)};this.T(m)};gx.prototype.ii=function(i){var C=i.target,m=C;
return m==this.Mg?2:m==this.Cw?1:m==this.CF?0:m==this.wU?3:-1};gx.prototype.ad8=function(i){var C=i.target,A;
if(C==this.Hj.firstChild||C==this.PA||C==this.Vh||C==this.hT||C.tagName&&C.tagName.toLowerCase()=="input")return;
var m=this.ii(i),e=this.parent.n4,z=this.Qe.index,L=e.M[z];if(C==this.VV){this.gK({d:cc.g$,a:z,yu:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var l=gx.PJ,x=Date.now()-l<300;gx.PJ=Date.now();if(C==this.EH){if(x){this.GC.setAttribute("draggable","false");
var S=new b0.J2(this.EH,this.LD.bind(this))}else this.gK({d:cc.yL,a:z,JI:m,uT:!0});return}if(i.button==0&&x){if(C==this.EH)return;
var k=new eX(v.E.v,!0),f=new eX(v.E.H,!0),X=new eX(v.E.HW,!0);if(m==0&&L.add.SoCo){var o=I.I.oq(L.add.SoCo.Clr.v);
f.data={d:v.B.c6,pw:"colorpicker",GN:o.Z<<16|o.r<<8|o.e,Fu:function(n){var R=I.I.$q({e:n&255,r:n>>>8&255,Z:n>>16&255});
R={classID:"null",Clr:{t:"Objc",v:R}};var Q=new eX(v.E.v,!0);Q.f=$.bH;Q.data={d:cc.p1,na:[z],g2:!0,b:{C9:1,Zc:R}};
this.T(Q)}.bind(this),YU:!0}}else if(m==0&&(fp.get(L.add)||L.add.SoCo||L.add.GdFl||L.add.PtFl))f.data={d:v.B.CZ,pw:b0.eB.qa};
else if(m!=0&&m!=-1)f.data={d:v.B.CZ,pw:b0.eB.qa};else if(m==0&&L.add.SoLd)X.data={o0:"placedLayerEditContents",t6:{classID:"placedLayerEditContents"}};
else if(m==0&&L.add.TySh){k.f=$.ck;k.data={d:"editCurr",e5:z}}else f.data={d:v.B.c6,pw:"layerstyle",a:z};
this.T(X.data?X:f.data?f:k);return}if(i.button!=0)return;if(m==1||m==3){var P=m==3?L.x6(e).X:L.Re();
A=P.S0?e.q.O.join("")=="111"?1:2:0}var F={d:cc.yL,a:z,JI:m,ado:A,uT:!0};this.gK(F)};gx.prototype.gK=function(i){var C=new eX(v.E.v,!0);
C.data=i;C.f=$.bH;this.T(C)};gx.prototype.ade=function(){var i=this.Qe.a,C=i.add,m=this.parent.GB.h(),e=this.parent.DR[m].h();
if(m==0){if(e[0]&&C.SoLd==null&&C.TySh==null&&i.rq())return!0;if(e[1]&&fp.get(C)!=null)return!0;if(e[2]&&C.TySh!=null)return!0;
if(e[3]&&C.vstk!=null)return!0;if(e[4]&&C.SoLd!=null)return!0;return!1}if(m==1)return i.getName().toLowerCase().indexOf(e.toLowerCase())!=-1};
cp.Au=function(i,C,m,e,z,L,l,x){k5.call(this);this.a5q=C;this.jE=m;this.index=L;this.n=d.t("div","styleitem");
this.GC=d.t("div","head");this.ajZ=null;if(C=="f"){var S=this.ajZ=d.t("div","headR");S.textContent="\u2699";
this.GC.appendChild(S)}this.Hj=d.t("div","eye gsicon");this.EH=d.t("div","label");this.n.appendChild(this.GC);
this.GC.appendChild(this.Hj);if(l){this.Cw=l;this.GC.appendChild(l);this.GC.setAttribute("style","height: "+x+"px")}this.EH.innerHTML=i;
this.n.setAttribute("style","margin-left: "+(24+e*16+z*22)+"px");this.GC.appendChild(this.EH);this.Hj.addEventListener("click",this.a32.bind(this),!1);
var k=this.n;k.setAttribute("draggable","true");k.addEventListener("dragstart",this.Q2.bind(this),!1);
if(!0){k.addEventListener("drop",this.lG.bind(this),!1);k.addEventListener("dragover",this.ei.bind(this),!1);
k.addEventListener("dragenter",d.Vw,!1);k.addEventListener("dragleave",this.Ph.bind(this),!1)}this.n.addEventListener("click",this.$d.bind(this),!1)};
cp.Au.prototype=new k5;cp.Au.prototype.Q2=function(i){i.stopPropagation();i.dataTransfer.setData("Text",JSON.stringify({rp:this.a5q,dA:this.parent.Qe.index,KJ:this.index}))};
cp.Au.prototype.Ph=function(i){d.Vw(i);this.XG()};cp.Au.prototype.lG=function(i){d.Vw(i);this.XG();var C=i.dataTransfer.getData("Text");
if(C=="")return;var C=JSON.parse(C);gx.amQ(i,C,this.parent,this.index+(gx.zS(i,this.GC)>.5?0:1))};cp.Au.prototype.ei=function(i){d.Vw(i);
var C=gx.zS(i,this.GC)>.5;this.XG();var m="border-"+(C?"bottom":"top");this.GC.style[m]="0.2em solid rgba(0,0,0,0.5)"};
cp.Au.prototype.XG=function(i){this.GC.style.border="none"};cp.Au.prototype.fJ=function(i){this.Hj.style.opacity=i?1:.2};
cp.Au.prototype.$d=function(i){var C=gx.PJ,m=Date.now()-C<300;gx.PJ=Date.now();if(i.target==this.Hj)return;
var e=this.parent.Qe.index;if(m&&this.jE!=null){var e=this.parent.Qe.index,z=new eX(v.E.H,!0);if(this.jE.indexOf("afw_")==0){var L=this.jE.slice(4),l=jg[L]||ft.s[L],x=i.target==this.ajZ;
if(!x&&!l)return;z.data=$.fe.adh(x?"blendOptions":L,{a:e,index:this.index})}else z.data={d:v.B.c6,pw:this.jE,a:e,index:this.index};
this.T(z)}else{if(i.target.className!="thumb")this.parent.gK({d:cc.yL,a:e,JI:0})}};cp.Au.prototype.a32=function(i){var C={fm:cc.gk,f:cc.nH,sm:cc.kj,s:cc.CY}[this.a5q];
this.parent.gK({d:C,a:this.parent.Qe.index,index:this.index})};function kv(){b0.call(this,"Guide Guy",!1,"---panels/guideguy",b0.eB.aDH);
this.uS=null;this.Pl=new ib(null,I.up._Y)}kv.prototype=new b0("");kv.prototype.M1=function(){this.Po=[];
var i=d.t("div","form padded");this.wF.appendChild(i);i.setAttribute("style","width:200px");this.wF.appendChild(i);
var C=d.t("canvas"),m=C.getContext("2d");C.width=C.height=160;var e=[32,0,16,160,0,32,160,16,0,112,160,16],z="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),L=[0,0,0,0,0,0,0,0,0,0];
i.appendChild(this.Pl.n);for(var Y=0;Y<10;Y++){m.clearRect(0,0,160,160);m.setTransform(1,0,0,1,80,80);
m.rotate((Y&3)*Math.PI/2);m.translate(-80,-80);m.fillStyle="rgba(0,0,0,0.3)";if(Y<4){for(var l=0;l<12;
l+=4){m.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)";m.fillRect(e[l],e[l+1],e[l+2],e[l+3])}}else if(Y<6){var x=8*6;
m.fillRect(0,0,x,160);m.fillRect(8*7,0,x,160);m.fillStyle="#000000";m.fillRect(8*14,0,x,160)}else if(Y<8){m.fillRect(0,0,16,160);
m.fillRect(160-16,0,16,160);m.fillRect(32,0,160-64,160);m.fillStyle="#000000";m.fillRect(32,80-8,160-64,8*1)}else{m.fillRect(0,0,8*7,160);
m.fillRect(8*13,0,160,160);m.fillStyle="#000000";m.fillRect(8*7,80-8,8*6,8*1)}var S="<img src=\""+C.toDataURL()+"\" class=\"autoscale gsicon\" /> ",k=new db(S,0,200,null,Y==4||Y==5?0:2,null,null,4,z[Y]);
k.parent=this;k.k(v.E.p,this.awE,this);k.c(L[Y]);k._();this.Po.push(k);i.appendChild(k.n)}var f=[[11,14],[11,15,0]];
this.ZE=[];for(var Y=0;Y<f.length;Y++){var X=new c1(f[Y],!0,null,!0);this.ZE.push(X);X.k("click",this.Ac,this);
i.appendChild(X.n)}for(var Y=0;Y<6;Y++){m.setTransform(1,0,0,1,80,80);m.rotate(Math.floor(Y/3)*Math.PI/2);
m.translate(-80,-80);m.clearRect(0,0,160,160);m.fillStyle="rgba(0,0,0,0.3)";m.fillRect(0,0,160,160);
m.clearRect(16,16,128,128);m.fillStyle="#000000";var o=Y%3;m.fillRect([0,9,18][o]*8,0,16,160);var S="<img src=\""+C.toDataURL()+"\" class=\"autoscale gsicon\" /> ",X=new c1(S,!1,null,!1);
this.ZE.push(X);X.k("click",this.Ac,this);i.appendChild(X.n)}};kv.prototype._=function(){b0.prototype._.call(this);
this.Pl._();if(this.Po==null)return;for(var Y=0;Y<this.ZE.length;Y++)this.ZE[Y]._()};kv.prototype.awE=function(i){var C=this.Po,m=C.indexOf(i.target),e=Math.floor(m/2),z=m&1,L=[];
for(var Y=0;Y<4;Y++)L.push(C[2*Y+z].h());var l=-1;if(e==2&&L[2]!=0&&L[3]!=0&&L[4]!=0)l=4;if(e==3&&L[3]!=0&&L[2]!=0&&L[4]!=0)l=4;
if(e==4&&L[4]!=0&&L[2]!=0&&L[3]!=0)l=3;if(l!=-1)C[2*l+z].c(0)};kv.prototype.Ac=function(i){var C=this.uS,m=this.ZE.indexOf(i.target),e=[[],[]];
if(C==null)return;var z=C.u?C.u.rect:new j2(0,0,C.m,C.J),L=z.m,l=z.J;if(m==0){var x=[[],[]],S=this.Pl.h();
for(var Y=0;Y<this.Po.length;Y++){var k=this.Po[Y].h();k=I.up.QH(k,C.lC,C.m,S);x[Y&1].push(k)}var f=[kv.ai5(x[0],z.x,z.x+L),kv.ai5(x[1],z.y,z.y+l)];
e=kv.FZ(f);$.a8.tf(e,C.pR())}else if(m==1){}else{m-=2;var X=Math.floor(m/3),f=[[],[]];f[X].push([z.x,z.x+L/2,z.x+L,z.y,z.y+l/2,z.y+l][m]);
e=kv.FZ(f);$.a8.tf(e,C.pR())}this.aj8(e)};kv.FZ=function(i){var C=[],m=[];for(var e=0;e<2;e++)for(var Y=0;
Y<i[e].length;Y++){C.push([e,i[e][Y]]);m.push(-1)}return[C,m]};kv.prototype.akZ=function(i){var C=this.ahS.indexOf(i.target)};
kv.prototype.aj8=function(i){var C=new eX(v.E.v,!0);C.f=$.z_;C.data={d:"gids",Y$:i};this.T(C)};kv.ai5=function(i,C,m){var e=[],z=i[2],L=i[3],l=i[4],x=0;
if(z==0)x++;if(L==0)x++;if(l==0)x++;if(x>1&&z==0&&L==0){if(i[0]!=0)e.push(C+i[0]);if(i[1]!=0)e.push(m-i[1]);
return e}var S=m-C-i[0]-i[1];if(z==0){if(l==0){z=Math.floor(S/L);l=(S-z*L)/(z-1)}else{z=1;while(L*z+l*(z-1)+L+l<=S)z++}}else if(z!=0&&L!=0){if(z*L>S)z=Math.floor(S/L);
l=(S-z*L)/(z-1)}e.push(C+i[0],m-i[1]);var L=(S-l*(z-1))/z;for(var Y=1;Y<z;Y++){if(l==0)e.push(C+i[0]+Y*L);
else e.push(C+i[0]+Y*L+(Y-1)*l,C+i[0]+Y*L+Y*l)}return e};kv.prototype.bw=function(i,C,m){this.uS=i};
kv.prototype.tx=function(){if(d.bv(this.wF)&&this.Po==null)this.M1();this._()};kv.prototype.P6=function(i){this.Pl.c(i.Cv.d5)};
function bJ(){b0.call(this,[9,2],!1,"---panels/properties",b0.eB.qa);this.aeu=null;this.R6=null;this.os=null;
this.ajn=-1;this.Y2=null}bJ.prototype=new b0("");bJ.prototype.Oh=function(i,C){this.HG=i;this.bB=C;i=i-16;
C=C-30;var m=this.Y2;if(m){m.style.width=i+"px";m.style.height=C+"px";for(var Y=0;Y<3;Y++)this.oK[Y].Oh(i-12,C)}};
bJ.prototype.M1=function(){this.Y2=d.t("div","padded scrollable");this.wF.appendChild(this.Y2);var i=d.t("span");
this.Y2.appendChild(i);this.Fq=[new c1([0,3]),new c1([12,73]),new c1([12,91,0])];for(var Y=0;Y<this.Fq.length;
Y++){var C=this.Fq[Y];C.k("click",this.ak0,this);i.appendChild(C.n);if(Y==2)C.n.style.marginRight="0"}this.Y2.appendChild(d.t("hr"));
this.J9=new bJ.BB;this.J9.parent=this;this.X3=new bJ.mX;this.X3.parent=this;this.wr=new bJ.Q8;this.wr.parent=this;
this.oK=[this.J9,this.X3,this.wr];this.Y2.appendChild(this.J9.n);this.EG=d.t("div","lpfoot");this.wF.appendChild(this.EG);
this.hA=[];for(var Y=0;Y<3;Y++){var C=new c1("W");C.k("click",this.Ji,this);this.hA.push(C);this.EG.appendChild(C.n)}this.Oh(this.HG,this.bB)};
bJ.prototype.Ji=function(i){var Y=this.hA.indexOf(i.target),C=new eX(v.E.v,!0);C.f=$.bH;if(Y==0)C.data={d:cc.nu};
if(Y==1)C.data={d:cc.at};if(Y==2)C.data={d:cc.$U};this.T(C)};bJ.prototype.ak0=function(i){var Y=this.Fq.indexOf(i.currentTarget);
this.MS(Y);this.a7J(Y==1?this.X3.au:-1)};bJ.prototype.MS=function(i){for(var Y=0;Y<3;Y++){this.Fq[Y].m5();
var C=this.oK[Y].n;if(C.parentNode==this.Y2&&Y!=i)this.Y2.removeChild(C);if(C.parentNode!=this.Y2&&Y==i)this.Y2.appendChild(C)}this.Fq[i].vG()};
bJ.prototype.a7J=function(i){var C=this.R6.g[0],m=this.R6.M[C],e=i+1;if(i==1&&m.Aa)return;var z=new eX(v.E.v,!0);
z.f=$.bH;if(i!=1&&m.Aa){z.data={d:cc.yL,a:C,JI:2};this.T(z)}z.data={d:cc.yL,a:C,JI:e};this.T(z)};bJ.prototype._=function(){b0.prototype._.call(this);
if(this.Y2==null)return;this.bw(this.R6);for(var Y=0;Y<3;Y++){this.Fq[Y]._();this.oK[Y]._()}eD.xI(this.hA,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
bJ.prototype.tx=function(){if(!d.bv(this.wF))return;if(this.Y2==null){this.M1();this.P6(this.os,dm.cX);
this.bw(this.aeu);this._()}};bJ.prototype.bw=function(i){this.aeu=i;if(this.Y2==null)return;this.J9.bw(i);
this.X3.bw(i);this.wr.bw(i);if(i==null||i.g.length==0||i.M[i.g[0]]==null){d.uc(this.wF,"disabled");this.R6=null;
return}else d.nP(this.wF,"disabled");var C=i.g[0],m=i.M[C];this.hA[0].c(m.cy);this.hA[1].c(m.gF());var e=i.bM(),z=e[0],L=e[1];
if(L.length!=0){var l=z[L[0]],x=l.add.vogk,S=!1;if(x)for(var Y=0;Y<x.length;Y++){var k=x[Y].v;if(!I.ta.GL(k))continue;
S=!0;C=l.h6}}C+=","+S;if(i!=this.R6||this.ajn!=C){this.R6=i;this.ajn=C;if(S)this.MS(2);else if(m.ii<1&&!m.Aa||fp.get(m.add))this.MS(0);
else this.MS(1)}this.Fq[1].wo(this.X3.au!=-1);this.Fq[2].wo(S)};bJ.prototype.P6=function(i,C){this.os=i;
if(this.J9)this.J9.P6(i,C);if(this.wr)this.wr.P6(i,C)};bJ.BB=function(){k5.call(this);this.n=d.t("div","form");
this.aeQ=new bd("Hello");this.E1=new c1([1,12,2],null,null,!0);this.E1.n.style.aiK="right";this.E1.k("click",this.TK,this);
this.n.appendChild(this.aeQ.n);this.n.appendChild(this.E1.n);this.CO=null;this.O_=null;this.R6=null;
this.os=null;this.a3K=-1;this.agy=null;this.Gp=null;this.ms=new er(0,!0,!0);this.ms.parent=this;this.ms.k(v.E.p,this.alG,this);
this.n.appendChild(this.ms.n);this.fu=new hv(!0);this.fu.parent=this;this.fu.k(v.E.p,this.ah6,this);
this.mf=d.t("div","marged hiline");this.mf.appendChild(this.fu.n);this.f$=new cA("GrFl",!0);this.f$.parent=this;
this.f$.k(v.E.p,this.aql,this);this.E8=d.t("div","marged hiline");var i="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var Y=0;Y<i.length;Y++){var C=this.f$.as[i[Y]].n;this.E8.appendChild(C)}this.jt=new cA("patternFill",!0);
this.jt.parent=this;this.jt.k(v.E.p,this.aiL,this);this.r9=d.t("div","marged hiline");var i=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<i.length;Y++){var C=this.jt.as[i[Y]].n;this.r9.appendChild(C)}this.JY={};for(var m in fp.names){if(jg[m]==null)continue;
this.JY[m]=new jg[m];this.JY[m].k(v.E.p,this.azE,this);this.JY[m].parent=this}var e=this.aAF=d.t("div","marged hiline");
this.s_=new er(0,!0);e.appendChild(this.s_.n);this.s_.k(v.E.p,this.zs,this);this.aBV=null;this.i0=new aq;
this.i0.parent=this;this.i0.k(v.E.p,this.zs,this);e.appendChild(this.i0.n)};bJ.BB.prototype=new k5;bJ.BB.prototype.alG=function(i){var C=this.ms.h(),m=this.Gp,e=new j2(C[0],C[1],C[2],C[3]);
if(e.LJ(m))return;this.Gp=e;var z=new eX(v.E.v,!0);if(m.m==e.m&&m.J==e.J){z.f=$.z_;z.data={d:"trsl",a2:e.x-m.x,NA:e.y-m.y}}else{z.f=$.yn;
z.data={d:"scl",jj:[2,4],b:new b5(e.m/m.m,e.J/m.J),h8:0}}this.T(z)};bJ.BB.prototype.Oh=function(i,C){var m=this.JY;
for(var e in m)m[e].Oh(i,C)};bJ.BB.prototype.TK=function(i){var C=this.R6,m=C.M[C.g[0]],e=fp.get(m.add);
this.O_.c(ft.TQ(e));this.azE()};bJ.BB.prototype._=function(){for(var i in this.JY)this.JY[i]._();this.f$._();
this.jt._();this.i0._();this.s_._();this.E1._();this.ms._()};bJ.BB.prototype.zs=function(i){var C=new eX(v.E.v,!0),m=this.s_.h(),e=this.aBV;
if(i.target==this.s_&&m[2]==e[2]&&m[3]==e[3]){C.f=$.z_;C.data={d:"trsl",a2:m[0]-e[0],NA:m[1]-e[1]}}else{var z=cc.OC(new j2(m[0],m[1],m[2],m[3])),L=this.i0.aDp();
L.artboardRect={t:"Objc",v:z};var l=this.R6,x=l.M[l.g[0]],S=x.add.artb.guideIndeces;if(S)L.guideIndeces=JSON.parse(JSON.stringify(S));
C.f=$.bH;C.data={d:cc.LV,GE:L}}this.T(C)};bJ.BB.prototype.ah6=function(i){var C=this.R6,m=C.g[0];if(C.M[m].add.SoCo==null)return;
var e=JSON.parse(JSON.stringify(C.M[m].add.SoCo));e.Clr.v=this.fu.h();this.l2({C9:1,Zc:e})};bJ.BB.prototype.aql=function(i){var C=this.R6,m=C.g[0];
if(C.M[m].add.GdFl==null)return;this.l2({C9:2,Zc:this.f$.h()})};bJ.BB.prototype.aiL=function(i){this.l2({C9:3,Zc:this.jt.h()})};
bJ.BB.prototype.l2=function(i){this.a8w($.bH,{d:cc.p1,na:[this.R6.g[0]],g2:!0,b:i})};bJ.BB.prototype.azE=function(i){this.a8w($.vR,{d:"edit_layer",b:this.O_.h()})};
bJ.BB.prototype.a8w=function(i,C){var m=new eX(v.E.v,!0);m.f=i;m.data=C;this.T(m)};bJ.BB.prototype.bw=function(i,C){var m=bC.get([0,3]),e=!1,z=!1,L=null;
this.R6=i;if(i&&i.M.length>0&&i.g.length!=0&&i.M[i.g[0]]){var l=i.M[i.g[0]],x=fp.get(l.add);if(x!=null&&this.JY[x]!=null){L=this.JY[x].n;
this.O_=this.JY[x];this.JY[x].c(JSON.parse(JSON.stringify(l.add[x])));if(i.g[0]!=this.a3K){var S=i.I6(i.g[0]-1);
this.agy=I.so(S)}this.JY[x].Sw(this.agy);m=bC.get(fp.names[x]);e=!0}if(x==null&&l.add.artb==null){var k=this.Gp=I.C.Ub($.V.S8(i));
z=!k.bs();var f=i.h5();k.x-=f.x;k.y-=f.y;this.ms.c([k.x,k.y,k.m,k.J],[i.lC,i.m,this.os.Cv.d5])}if(l.add.SoCo){L=this.mf;
this.fu.c(l.add.SoCo.Clr.v);m=bC.get([6,48,0,0])}if(l.add.GdFl){L=this.E8;this.f$.update(i,l.add.GdFl);
m=bC.get([6,48,0,1])}if(l.add.PtFl){L=this.r9;this.jt.update(i,l.add.PtFl);m=bC.get([6,48,0,2])}if(l.add.artb){var X=l.add.artb,o=l.d3();
L=this.aAF;this.i0.apZ(X);var A=this.aBV=[o.x,o.y,o.m,o.J];this.s_.c(A,[i.lC,i.m,this.os.Cv.d5]);m=bC.get([1,16,0])}this.a3K=i.g[0]}if(L!=this.CO){if(this.CO)this.n.removeChild(this.CO);
if(L!=null)this.n.appendChild(L);this.CO=L}this.aeQ.c(m);this.E1.n.style.display=e?"":"none";this.ms.n.style.display=z?"":"none"};
bJ.BB.prototype.P6=function(i,C){this.os=i;this.f$.P6(i,C);this.jt.P6(i,C);if(C==dm.Yb)this.bw(this.R6,i);
for(var m in this.JY)this.JY[m].P6(i,C)};bJ.mX=function(){k5.call(this);this.n=d.t("div","form");this.R6=null;
this.au=0;var i=d.t("span","fitem");this.n.appendChild(i);this.Fq=[new c1([6,2]),new c1([6,3]),new c1([6,50])];
for(var Y=0;Y<this.Fq.length;Y++){var C=this.Fq[Y];C.k("click",this.ahm,this);i.appendChild(C.n)}this.hr=new jp([12,74],0,255);
this.hr.k(v.E.p,this.ec,this);this.n.appendChild(this.hr.n);this.cc=new jp([7,6],0,500,"px",2,!0);this.cc.k(v.E.p,this.ec,this);
this.n.appendChild(this.cc.n);this.ng=new c1([4,11],null,null,!0);this.ng.k("click",this.a7x,this)};
bJ.mX.prototype=new k5;bJ.mX.prototype.a7x=function(){var i=new eX(v.E.v,!0);i.f=$.vR;i.data={d:"start",GT:"nvrt"};
this.T(i)};bJ.mX.prototype.ec=function(i){var C=this.hr.h(),m=this.cc.h(),e=new eX(v.E.v,!0);e.f=$.bH;
e.data={d:cc.op,gg:this.R6.g[0],rx:{nw:this.au,hr:C,cc:m}};this.T(e)};bJ.mX.prototype._=function(){for(var Y=0;
Y<this.Fq.length;Y++)this.Fq[Y]._();this.hr._();this.cc._();this.ng._()};bJ.mX.prototype.bw=function(i){this.R6=i;
this.PT()};bJ.mX.prototype.ahm=function(i){this.PT(this.Fq.indexOf(i.currentTarget));this.parent.a7J(this.au)};
bJ.mX.prototype.PT=function(i){var C=this.R6,m=this.Fq;for(var Y=0;Y<3;Y++){var e=m[Y];e.m5();e.hH()}if(C==null||C.M.length==0||C.g.length==0||C.M[C.g[0]]==null)return;
var z=-1,L=C.M[C.g[0]];if(L.k_()&&L.x6(C).X!=null){m[2].WN();z=2}if(L.add.vmsk){m[1].WN();z=1}if(L.Re()){m[0].WN();
z=0}if(i!=null)z=i;else if(L.Aa)z=1;else if(L.ii==3)z=2;else if(L.ii==1)z=0;this.au=z;if(z==-1){this.hr.hH();
this.cc.hH();return}var l=L.uo(z);this.hr.WN();this.cc.WN();this.hr.c(l.hr);this.cc.c(l.cc);m[z].vG();
var x=this.ng.n;if(z==0)this.n.appendChild(x);else if(x.parentNode==this.n)this.n.removeChild(x)};bJ.Q8=function(){k5.call(this);
this.n=d.t("div","form");this.uS=null;this.os=null;this.Rl=-1;this.ms=new er(0,!1);this.j4=new jp([12,15],-180,180,"\xB0",2);
this.t_=new er(1,!0);this.PC=new jp([12,94,0],0,100,null,2);this.v1=new jp([12,78],3,30);this.yb=new c1(["\u279C  ",[12,76,0]],null,null,!0);
this.ms.k(v.E.p,this.il,this);this.j4.k(v.E.p,this.il,this);this.t_.k(v.E.p,this.il,this);this.PC.k(v.E.p,this.il,this);
this.v1.k(v.E.p,this.il,this);this.yb.k("click",this.il,this)};bJ.Q8.prototype=new k5;bJ.Q8.prototype._=function(){this.ms._();
this.j4._();this.t_._();this.PC._();this.v1._()};bJ.Q8.prototype.il=function(i){var C=this.uS,m=I.ta.v6(C),e=i.target.h(),z=[this.ms,this.j4,this.t_,this.PC,this.v1,this.yb].indexOf(i.target);
if(z==0){var L=C.h5(),l=[],x=l[0]=e[0]+L.x,S=l[1]=e[1]+L.y;l[2]=x+e[2];l[3]=S+e[3];e=l}if(z==1)e=e*Math.PI/180;
var k={0:1,1:2,2:3,3:3,4:4}[z];m[k]=e;var f=new eX(v.E.v,!0);f.f=$.bH;f.data={d:cc.ZA,b:m,akN:z==5};
this.T(f)};bJ.Q8.prototype.bw=function(i){var C=this.n;this.uS=i;if(i==null)return;var m=this.os,e=[i.lC,i.m,m.Cv.d5],z=I.ta.v6(i),L=z[0],l=z[1];
if(l==null)return;var x=L!=this.Rl;this.Rl=L;if(x)d._l(C);if(x)C.appendChild(this.ms.n);if(x)C.appendChild(this.j4.n);
var S=i.h5();this.ms.c([l[0]-S.x,l[1]-S.y,l[2]-l[0],l[3]-l[1]],e);this.j4.c(z[2]*180/Math.PI);if(L==2){if(x)C.appendChild(this.t_.n);
var k=z[3];this.t_.c(k,e)}if(L==7||L==8){if(x)C.appendChild(this.PC.n);this.PC.c(z[3])}if(L==8){if(x)C.appendChild(this.v1.n);
this.v1.c(z[4])}C.appendChild(this.yb.n)};bJ.Q8.prototype.P6=function(i,C){this.os=i;this.bw(this.uS)};
function aa(i){b0.call(this,i.name,!0);this.n4=i;this.p7=null;this.zI=new dh(this.wF);this.zI.parent=this}aa.prototype=new b0;
aa.Cc=function(){var i=document.createElement("canvas"),C=document.createElement("canvas"),m=16,e=I.R(16*16*4);
I.EC(e,m,m,8);var z=I.scale._2(e,m,m);return{CD:i,lg:C,eo:i.getContext("2d",{willReadFrequently:!0}),mW:C.getContext("2d"),iX:z}}();
aa.prototype.arx=function(){if(this.n4.mZ())return window.confirm(bC.get([22,6,3])+" "+this.n4.name+". "+bC.get([22,6,4]));
return!0};aa.prototype.P6=function(i,C){this.p7=i};aa.prototype.bw=function(i){this.tx();this.__()};
aa.prototype.Oh=function(i,C){if(i<=0||C<=0)return;this.HG=i;this.bB=C;var m=this.n4,e=aa.Cc,z=d.XP();
m.q.eo.m=Math.floor(i*z);m.q.eo.J=Math.floor(C*z);d.Ay(e.CD,i,C);d.Ay(e.lg,i,C);d.Ay(cY.BF(),i,C);if(m.q.U==0)m.q.U=$._q.qj(m.m,m.J,i*z,C*z);
this.__()};aa.prototype.tx=function(){var i=this.wF.firstChild,C=aa.Cc,m=cY.fp&&d4==0;if(!m&&i==cY.BF()||m&&i==C.CD)this.wF.removeChild(i);
var e=m?cY.BF():C.CD;if(!d.bv(e))this.wF.appendChild(e)};aa.prototype.__=function(){if(this.p7==null)return;
var i=this.n4,C=cY.fp&&d4==0;if(C)this.aqK();else this.gP()};aa.prototype.aqK=function(){if(cY.fp&&aa.xb==null){var i=aa.xb=[],C=[0,2,8,32,128];
for(var Y=0;Y<5;Y++)i[Y]=[new aa.fM(!1,C[Y],!1),new aa.fM(!0,C[Y],!1)];i.push([new aa.fM(!1,0,!0),new aa.fM(!0,0,!0)])}var m=this.n4,e=aa.Cc,P,R=0,a,O;
if(m.A1==null)return;var z=m.q,L=z.eo.m,l=z.eo.J,x=cY.Hs;e.eo.clearRect(0,0,L,l);var S=this.am9(m);if(z.wi==null||z.wi.m!=L||z.wi.J!=l)z.wi=new cY.RV(L,l);
if(S){var k=Date.now(),f=l,X=new Uint8Array(e.eo.getImageData(0,0,L,f).data.buffer);z.wi.set(X,new j2(0,0,L,f));
this.Ds=!0}else if(this.p7.JC){if(this.Ds){cY.OK(z.wi);cY.mn(1);this.Ds=!1}var o=I.up._C,X=new Uint8Array(m.q.R8.data.buffer);
z.wi.set(X,new j2(0,0,o,l));var X=new Uint8Array(m.q.qL.data.buffer);z.wi.set(X,new j2(0,0,L,o));var X=new Uint8Array(e.eo.getImageData(0,l-o,L,o).data.buffer);
z.wi.set(X,new j2(0,l-o,L,o));this.Ds=!0}else if(this.Ds){cY.OK(z.wi);cY.mn(1);this.Ds=!1}var A=z.ip(0,0);
if(aa.aAf==null)aa.aAf=new Float32Array(4*1024);var F=[0,0,0,0],n=aa.aAf;if(m.add.artd){n.fill(0);F=aa.TZ(m);
var Q=m.m,s=m.J,N=0;for(var Y=0;Y<m.M.length;Y++){var j=m.M[Y],_=j.add.artb;if(_==null||!j.gF())continue;
var B=j.d3();n[R]=B.x/Q;n[R+1]=B.y/s;n[R+2]=B.m/Q;n[R+3]=B.J/s;R+=4;if(R==n.length)break}if(R>2*4)N++;
if(R>8*4)N++;if(R>32*4)N++;P=aa.xb[N+1];n=new Float32Array(n.buffer,0,[2,8,32,128][N]*4)}else P=aa.xb[m.a3?5:0];
var H=m.AA();if(H==null)P=P[0];else{P=P[1];O=H[m.add.fcmy==1?6:4];a=H[2]}cY.amK(L,l);cY.mn(0);cY.amK(L,l);
P._s();var q=new hN;q.scale(L,l);q.concat(z.Vf(!0));q.scale(1/m.m,1/m.J);var h=[q.W,q.e,0,q.xF,q.o6,0,q.W_,q.Rj,1];
P.ZY(z.wi.zo,m.A1.zo,new Float32Array(h),new Float32Array([L/8,l/8,A.x/L,A.y/l]),m.m,m.J,1/m.q.U,L,l,new Float32Array(F),n,new Float32Array(I.X$.S4(I.X$.ai4(z.O))),O,a);
x.drawArrays(x.TRIANGLES,0,6)};aa.TZ=function(i){return[0,0,0,0]};aa.acw=function(i){var C=I.I.oq(i.v),m=[C.Z/255,C.r/255,C.e/255,1];
for(var Y=0;Y<4;Y++)m[Y]=Math.min(1,m[Y]);return m};aa.kS=function(i,C){var m=i[2]*255;if(cY.fp)m=C?0:Math.max(2,m);
return"rgba("+i[0]*255+","+i[1]*255+","+m+","+i[3]+")"};aa.xY=function(i){var C=i.length;if(cY.fp)for(var Y=0;
Y<C;Y+=4){if(i[Y+2]==0)i[Y+2]=3}};aa.prototype.gP=function(){var i=this.n4,C=aa.Cc;if(d4==0&&i.buffer==null)return;
var m=i.q,e=m.eo,z=e.m,L=e.J,l=new j2(0,0,i.m,i.J);C.mW.clearRect(0,0,z,L);C.eo.clearRect(0,0,z,L);var x=m.Vf(!0),S=x.clone();
S.Fb();if(i.add.artd==null){C.eo.save();var k=S.M$(new b5(0,0));S.translate(-k.x,-k.y);C.eo.translate(Math.round(k.x),Math.round(k.y));
C.eo.fillStyle=d4==0?C.iX:"#ffffff";if(i.a3)C.eo.fillRect(-5e3,-5e3,2e4,2e4);else{var f=i.add.arts;if(d4==1)for(var Y=0;
Y<f.length;Y++){var X=I.C.OO(f[Y].zO);this.Pp(I.C.Ym(X),S,C.eo);C.eo.fill()}else{this.Pp(I.C.Ym(l),S,C.eo);
C.eo.fill()}}C.eo.restore()}else{C.eo.fillStyle=aa.kS(aa.TZ(i));C.eo.fillRect(0,0,z,L);C.eo.save();C.eo.setTransform(S.W,S.e,S.xF,S.o6,S.W_,S.Rj);
var o=i.root.children;for(var Y=0;Y<o.length;Y++){var A=o[Y].a;if(A.add.artb==null||!A.gF())continue;
var P=A.d3(),F=A.bA();if(F!=0)continue;C.eo.fillStyle=C.iX;C.eo.save();C.eo.scale(1/m.U,1/m.U);C.eo.fillRect(m.U*P.x,m.U*P.y,P.m*m.U,P.J*m.U);
C.eo.restore()}C.eo.restore()}if(m.yR.length!=e.P()){m.yR=I.R(e.P());m.mU=I.R(e.P()*4)}m.mU.fill(0);
if(d4==1){var S=m.Vf(!0);S.Fb();C.eo.save();var n=I.C.Ym(m.eo);I.C.i(n.j,m.Vf(!0),n.j);var X=I.C.Ve(n.j);
C.eo.setTransform(S.W,S.e,S.xF,S.o6,S.W_,S.Rj);i.root.a3n(i,C.eo,this.p7,X);C.eo.restore()}else{I.scale.anR(i.buffer,l,x,m.mU,e,i.a3);
var R=i.AA();if(R)ICC.U.applyLUT(R[i.add.fcmy==1?5:3],R[2],m.mU,m.mU);if(m.O[0]+m.O[1]+m.O[2]!=3)I.X$.aCC(m.mU,m.mU,I.X$.ai4(m.O));
C.mW.putImageData(new ImageData(new Uint8ClampedArray(m.mU.buffer),e.m,e.J),0,0);C.eo.drawImage(C.lg,0,0);
C.eo.getImageData(0,0,1,1)}this.am9(i)};aa.prototype.am9=function(i){var C=i.q,m=C.O[0]+C.O[1]+C.O[2],e=aa.Cc,z=!1,L=[];
for(var Y=0;Y<i.g.length;Y++){var l=i.M[i.g[Y]];if(l==null)continue;var x=l.ii;if(x!=1&&x!=3)continue;
var S=x==1?l.Re():l.x6(i).X;if(S.S0)L.push(S)}for(var Y=0;Y<i.T3.length;Y++)if(i.T3[Y].S0)L.push(i.T3[Y]);
for(var Y=0;Y<L.length;Y++){var S=L[Y];this.a3i(S,C,L.length==1&&m==0?2:1,S.color,S.GN);z=!0}var k=this.p7;
z=this.as6(i,e.eo,C,L.length!=0)||z;if(i.u&&k.B4&&k.Cv.o4){this.a3i(i.u,C,0,0,null);z=!0}return z};aa.prototype.a3i=function(i,C,m,e,z){var L=0;
if(z)L=Math.round(z.e)<<16|Math.round(z.r)<<8|Math.round(z.Z);var l=C.Vf(!0),x=C.eo,S=new j2(0,0,C.n4.m,C.n4.J),k=aa.Cc;
if(C.mU==null||C.mU.length!=x.P()*4){C.yR=I.R(x.P());C.mU=I.R(x.P()*4)}C.yR.fill(e);C.mU.fill(0);var f=i.channel,X=i.rect;
I.scale.i(f,X,l,C.yR,x);if(m==0){var o=new Uint32Array([4278190080,4294967295]);aa.xY(new Uint8Array(o.buffer));
I.u.aAA(C.yR,C.mU,x,o,d.XP()>1.9)}else{var A=Date.now();I.u.avj(C.yR,C.mU,x,m,L);aa.xY(C.mU)}var P=new ImageData(new Uint8ClampedArray(C.mU.buffer),x.m,x.J);
k.mW.putImageData(P,0,0);k.eo.save();if(m!=0){var F=new j2(0,0,S.m,S.J),n=l.clone();n.Fb();this.Pp(I.C.Ym(F),n,k.eo);
k.eo.clip()}k.eo.drawImage(k.lg,0,0);k.eo.restore()};aa.prototype.as6=function(i,C,m,e){var z=i.N.RA!=null||i.N.tp!=null||i.N.J5!=null||i.N.Bd!=null||i.N.XR.length!=0||i.N.z9.length!=0,L=this.p7,l=L.Cv,x=fn.st[L.qW],S=Math.round(12*d.XP()),k=S/i.q.U,f=m.Vf(!0);
f.Fb();C.save();C.setTransform(f.W,f.e,f.xF,f.o6,f.W_,f.Rj);var X=aa.TZ(i)[0];X=X<.5?X+.5:X-.5;X=""+Math.round(X*255).toString(16);
while(X.length<2)X="0"+X;C.font=k+"px sans-serif";if(i.add.artd){C.fillStyle="#"+X+X+X;for(var Y=0;Y<i.M.length;
Y++){var o=i.M[Y];if(o.add.artb==null||!o.gF())continue;var A=o.d3();C.save();C.beginPath();C.rect(A.x,A.y-2*k,A.m,2*k);
C.clip();C.fillText(o.getName(),A.x+2,A.y-k*.7);C.beginPath();C.restore();z=!0}}if(i.add.arts&&L.jw==$.arN){var P=i.add.arts;
for(var Y=0;Y<P.length;Y++){var A=P[Y],F=I.C.OO(A.zO),n=(Y+1+"").padStart(2,"0");n+=" - "+A.T_;C.save();
C.beginPath();C.fillStyle=A.g?"#cce6ff":"#dddddd";C.rect(F.x,F.y,C.measureText(n).width+k,k*1.5);C.fill();
C.fillStyle="black";C.fillText(n,F.x+k/2,F.y+k*1.1);C.restore()}z=!0}function R(e4){return e4==1||e4==2||e4==4||e4==5}var Q=aa.kS([.3,.5,1,1]),s=aa.kS([1,1,1,1]);
if(L.B4&&l.DI){C.fillStyle=C.strokeStyle=Q;C.lineWidth=1.5/m.U;var j=i.bM(),_=j[0],B=j[1];for(var N=0;
N<B.length;N++){var o=_[B[N]],a=o.add.vmsk,O=a.$,H=I.C.BN(O);this.Pp(H,null,C);C.stroke();z=!0;var q=3*d.XP()/m.U;
for(var Y=0;Y<a.Gu.length;Y++){var h=I.o.aum(O,a.Gu[Y]);if(h==null)continue;var D=h.x,T=h.y;C.beginPath();
var p=Y==0;if(a.ca)p=!p;if(p){C.moveTo(D-q,T-q);C.lineTo(D+q,T+q);C.moveTo(D-q,T+q);C.lineTo(D+q,T-q);
C.stroke()}else{C.arc(D,T,q*1,0,2*Math.PI);C.fill()}z=!0}if(i.g.length!=1)continue;var y=-1,b=-1,g=-1;
for(var Y=0;Y<O.length;Y++){if(O[Y].type>5)continue;if(O[Y].type==0||O[Y].type==3){b=Y+1;g=O[Y].length;
if(O[Y].ay!=-1)y++;continue}if(a.g.indexOf(y)!=-1){var D=O[Y].L.x,T=O[Y].L.y;C.fillRect(D-q*.8,T-q*.8,2*q*.8,2*q*.8)}if(a.Ki.indexOf(Y)!=-1){var u=O[Y],t=[u.L];
C.beginPath();C.moveTo(u.My.x,u.My.y);C.lineTo(u.L.x,u.L.y);C.lineTo(u.sP.x,u.sP.y);var V=b+(Y+g-b-1)%g,c=b+(Y+g-b+1)%g,E=O[V],Z=O[c];
if(E&&R(E.type)&&a.Ki.indexOf(V)==-1){C.moveTo(E.L.x,E.L.y);C.lineTo(E.sP.x,E.sP.y);t.push(E.sP)}if(Z&&R(Z.type)&&a.Ki.indexOf(c)==-1){C.moveTo(Z.L.x,Z.L.y);
C.lineTo(Z.My.x,Z.My.y);t.push(Z.My)}C.stroke();if(!u.L.LJ(u.My))t.push(u.My);if(!u.L.LJ(u.sP))t.push(u.sP);
for(var G=0;G<t.length;G++){var h=t[G],D=h.x,T=h.y;if(G==0&&(u.type==2||u.type==5))C.fillRect(D-1.2*q,T-1.2*q,2.4*q,2.4*q);
else{C.beginPath();C.arc(D,T,q*1.2,0,2*Math.PI);C.fill();if(G!=0)C.fillStyle=s;C.beginPath();C.arc(D,T,q*.8,0,2*Math.PI);
C.fill();C.fillStyle=Q}}}z=!0}}}C.lineWidth=1/m.U;if(i.N.wY){C.fillStyle=C.strokeStyle=Q;var Z={j:[],G:[]},J=aa.ay9;
if(J==null){J=aa.ay9={j:[1,0],G:["M"]};for(var Y=1;Y<30;Y++){var K=Math.PI*2*Y/30;J.j.push(Math.cos(K),Math.sin(K));
J.G.push("L")}J.G.push("Z","M","L","M","L");J.j.push(-.5,0,.5,0,0,-.5,0,.5)}for(var Y=0;Y<i.N.wY.length;
Y++){var E=$.HS.akf(i.N.wY[Y],m),M=new hN(E[0],0,0,E[0],E[1],E[2]);I.C.concat(Z,J,M)}this.Pp(Z,null,C);
C.stroke();z=!0}var U=new hN(1,0,0,1,.5/m.U,.5/m.U);if(i.a3){C.fillStyle=C.strokeStyle=Q;var Z={j:[0,0,i.m,0,i.m,i.J,0,i.J],G:["M","L","L","L","Z"]};
this.Pp(Z,U,C);C.stroke();z=!0}if(i.N.yT){C.fillStyle=C.strokeStyle=aa.kS([0,0,0,.5]);this.Pp(i.N.yT,null,C,!0);
C.fill("evenodd")}C.strokeStyle=Q;C.fillStyle=s;if(i.N.J5){this.Pp(i.N.J5,U,C);C.stroke()}var r=aa.dJ(i.N.Lq,C,m);
C.fill();C.stroke();z=z||r;C.fillStyle=C.strokeStyle=aa.kS([0,0,0,cY.fp&&d4==0?1:.5],!0);if(i.N.RA){this.Pp(i.N.RA,null,C);
C.fill()}if(i.N.tp){this.Pp(i.N.tp,U,C);C.stroke()}for(var dS in i.N.Zp)if(i.N.Zp[dS].tp){this.Pp(i.N.Zp[dS].tp,null,C);
C.stroke();z=!0}var r=aa.dJ(i.N.jr,C,m);C.stroke();z=z||r;if(i.N.x2.length+i.N._7.length+i.N.Ly.length!=0){z=!0;
C.fillStyle=s;aa.HB(i.N.x2,C,m,6);C.fill();aa.HB(i.N._7,C,m,6);C.fill();C.fillStyle=Q;aa.HB(i.N.x2,C,m,4);
C.fill();aa.HB(i.N.Ly,C,m,4);C.fill();C.fillStyle=aa.kS([.7,.7,.7,1]);aa.HB(i.N._7,C,m,4);C.fill()}if(i.N.XR.length!=0){for(var Y=0;
Y<i.N.XR.length;Y++){var w=i.N.XR[Y],di=w[1],eM;if(e){eM=C.getImageData(di.x,di.y,di.m,di.J);I.l.Qv("norm",w[0],di,new Uint8Array(eM.data.buffer),di,di,1)}else eM=new ImageData(new Uint8ClampedArray(w[0].buffer),di.m,di.J);
C.putImageData(eM,di.x,di.y)}}var j5=.5/m.U;C.lineWidth=1/m.U;if(i.N.va){z=!0;var ds=i.N.va,ba=ds.gI,H={G:[],j:[]};
for(var Y=0;Y<ds.vL.length;Y++)I.C.concat(H,I.C.Ym(ds.vL[Y]));H.j=H.j.concat(ba);for(var Y=0;Y<ba.length;
Y+=4){H.G.push("M","L")}for(var Y=0;Y<H.j.length;Y++){H.j[Y]+=j5}C.strokeStyle=aa.kS([.9,.2,.2,1]);this.Pp(H,null,C);
C.stroke();var gH=d.XP(),ir=2/m.U;C.font=k*.9+"px sans-serif";for(var Y=0;Y<ba.length;Y+=4){var D=ba[Y],T=ba[Y+1],iP=ba[Y+2],iy=ba[Y+3],iG=Math.sqrt((iy-T)*(iy-T)+(iP-D)*(iP-D));
iG=I.up.Rd(iG,i.lC,L,T==iy?i.m:i.J);var eg=new b5((D+iP)/2,(T+iy)/2);C.fillStyle=aa.kS([.9,.2,.2,1]);
var du=C.measureText(iG).width;C.fillRect(eg.x-du/2-ir*gH,eg.y-3.5*ir*gH,du+2*ir*gH,7*ir*gH);C.fillStyle=aa.kS([1,1,1,1]);
C.save();C.translate(eg.x-du/2,eg.y+2*ir*gH);C.scale(.1,.1);C.font=k*9+"px sans-serif";C.fillText(iG,0,0);
C.restore()}}if(L.B4){if(l.tc&&i.q.U>10&&d4==0){this.EC(i,C,1,1,.25,l.i1,16777215);z=!0}if(l.mH){var gh=I.up.QH(l.I0,i.lC,i.m,l.oB),ga=gh;
if(l.oB==4)ga*=i.J/i.m;this.EC(i,C,gh,ga,1,l.i1,l.He);z=!0}if(l.Nb){var d5=i.pR(),fu=i.sq(),ay=Math.max(i.q.eo.m,i.q.eo.J)/i.q.U;
ay=Math.max(Math.max(i.m,i.J)*2,ay);for(var Y=0;Y<d5[0].length;Y++){var c7=d5[0][Y],eE=d5[1][Y];if(eE!=-1&&eE!=fu)continue;
var jn=m.ip(c7[1],c7[1]),dI=m.yy(Math.floor(jn.x)+.5,Math.floor(jn.y)+.5),dQ=I.dK(l.Gi);dQ=[dQ.Z/255,dQ.r/255,dQ.e/255,1];
if(eE!=-1)dQ=[0,.5,1,1];C.beginPath();C.strokeStyle=aa.kS(dQ);if(c7[0]==0){var jo=dI.x;C.moveTo(jo,-ay);
C.lineTo(jo,ay)}else{var hT=dI.x;C.moveTo(-ay,hT);C.lineTo(ay,hT)}C.stroke();z=!0}}var ea=i.cU;if(ea.length>0&&L.jw==$.ad$){var di=7/i.q.U,b9=di/3,bI=di*4;
C.strokeStyle=C.fillStyle="black";for(var Y=0;Y<ea.length;Y++){var ii=ea[Y];C.fillRect(ii.x-.5*b9,ii.y-.5*bI,b9,bI);
C.fillRect(ii.x-.5*bI,ii.y-.5*b9,bI,b9);C.lineWidth=2.5/i.q.U;C.beginPath();C.arc(ii.x,ii.y,di,0,2*Math.PI);
C.stroke();C.font=1.9*di+"px serif";C.lineWidth=1.25/i.q.U;C.strokeText(""+(Y+1),ii.x+.75*di,ii.y+2.5*di)}z=!0}var d_=i.xE;
if(l.xE&&d_.length!=0){C.font=k*.8+"px sans-serif";var c4=[],kG=[];for(var Y=0;Y<d_.length;Y++){var fC=$.FD.Tw(d_,Y);
c4.push(fC);if(i.s3.indexOf(Y)!=-1)kG.push(fC)}c4.reverse();var bO=Date.now();c4=I.rect.abn([0,0,i.m,i.J],c4);
for(var G=0;G<2;G++)for(var Y=0;Y<c4.length;Y++){var id=c4[Y],y=id[4],g=y!=null?d_[y]:null;if(g&&G==0||g==null&&G==1)continue;
var D=Math.round(id[0]),T=Math.round(id[1]),iP=Math.round(id[2]),iy=Math.round(id[3]);C.strokeStyle=C.fillStyle=aa.kS(g?[0,.7,.7,1]:[.8,.8,.8,1]);
C.strokeRect(D+j5,T+j5,iP-D,iy-T);var a5=Y+1,eU=C.measureText(a5),du=eU.width;C.fillRect(D,T,du+k/2,k);
C.fillStyle=aa.kS([1,1,1,1]);C.fillText(a5,D+k/4,T+k*.8)}var ir=2/i.q.U,af=2*ir;for(var Y=0;Y<kG.length;
Y++){var id=kG[Y],D=Math.round(id[0]),T=Math.round(id[1]),iP=Math.round(id[2]),iy=Math.round(id[3]);
C.strokeStyle=C.fillStyle=aa.kS([1,.6,0,1]);C.strokeRect(D+j5,T+j5,iP-D,iy-T);var a7=[D,T,iP,T,iP,iy,D,iy];
for(var g$=0;g$<a7.length;g$+=2){var jo=a7[g$],hT=a7[g$+1],cg=a7[g$+2&7],cC=a7[g$+3&7];C.fillRect(jo-ir,hT-ir,af,af);
C.fillRect(Math.round((jo+cg)/2)-ir,Math.round((hT+cC)/2)-ir,af,af)}}z=!0}var kF=i.add.Anno;if(kF&&kF.length!=0)for(var Y=0;
Y<kF.length;Y++){var am=kF[Y],dQ=am[2],jo=am[0]-j5,hT=am[1]-j5,af=30/m._0,cJ=.4*af,fX=.6*af;C.beginPath();
C.moveTo(jo,hT+fX);C.lineTo(jo,hT);C.lineTo(jo+af,hT);C.lineTo(jo+af,hT+af);C.lineTo(jo+cJ,hT+af);C.closePath();
C.lineTo(jo+cJ,hT+fX);C.lineTo(jo+cJ,hT+af);if(Y==i.q.lz){C.lineWidth*=5;C.strokeStyle=aa.kS([0,0,0,.5]);
C.stroke();C.lineWidth/=5}C.fillStyle=aa.kS([dQ.Z/255,dQ.r/255,dQ.e/255,1]);C.fill();C.strokeStyle=aa.kS([0,0,0,1]);
C.stroke()}}C.strokeStyle=aa.kS([1,0,0,1]);if(i.N.Bd){this.Pp(i.N.Bd,U,C);C.stroke()}C.restore();if(L.JC){if(i.q.qL==null||i.q.qL.width!=i.q.eo.m||i.q.R8.height!=i.q.eo.J){i.q.qL=C.createImageData(i.q.eo.m,I.up._C);
i.q.R8=C.createImageData(I.up._C,i.q.eo.J)}var x=fn.st[L.qW],hP=0,kx=0,f2=i.m,gt=i.J;if(i.sq()!=-1){var A=i.M[i.sq()].d3();
hP=A.x;kx=A.y;f2=A.m;gt=A.J}hP*=m.U;kx*=m.U;var m=i.q,iD=[1,i.lC,i.lC/2.54,i.lC/25.4,f2/100][l.d5],eb=m.U*i.m/2,dA=m.U*i.J/2,e9=[m.U*iD,new b5(m.F.x+(hP+eb*iD-eb),m.F.y+(kx+dA*iD-dA))];
if(l.d5==4)iD*=gt/f2;var eI=[m.U*iD,new b5(m.F.x+(hP+eb*iD-eb),m.F.y+(kx+dA*iD-dA))],d9=this.zI.Xn;I.up.am2(m,x["--text-color"],x["--bg-input"],Math.floor(d9.x),Math.floor(d9.y),e9,eI);
var f9=iz.akS(m.U,aa.kS([1,1,1,1]),i.m,i.J);aa.xY(i.q.R8.data);aa.xY(i.q.qL.data);C.putImageData(i.q.R8,0,0);
C.putImageData(i.q.qL,0,0);C.putImageData(f9,0,i.q.eo.J-f9.height)}if(i.N.z9.length!=0){for(var Y=0;
Y<i.N.z9.length;Y++){var w=i.N.z9[Y],di=w[1];C.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),di.m,di.J),di.x,di.y)}}return z};
aa.prototype.EC=function(i,C,m,e,z,L,l){while(m*i.q.U<4){m*=2;e*=2}var x=i.m,S=i.J,k=.5/i.q.U;l=I.dK(l);
C.strokeStyle=aa.kS([l.Z/255,l.r/255,l.e/255,z],!1);C.save();C.rect(0,0,x,S);C.clip();C.beginPath();
for(var f=0;f<=x;f+=m){C.moveTo(f+k,0);C.lineTo(f+k,S)}if(L==0){for(var X=0;X<=S;X+=e){C.moveTo(0,X+k);
C.lineTo(x,X+k)}}else{e*=Math.sqrt(4/3);var o=e*Math.floor(x/e),A=x*(e/(2*m));for(var X=-o;X<=S+o;X+=e){C.moveTo(0,X);
C.lineTo(x,X-A);C.moveTo(0,X);C.lineTo(x,X+A)}}C.stroke();C.restore()};aa.HB=function(i,C,m,e){C.beginPath();
var z=e*d.XP()/m.U,L=!1;for(var Y=0;Y<i.length;Y+=2){L=!0;var l=i[Y],x=i[Y+1];C.moveTo(l+z,x);C.arc(l,x,z,0,2*Math.PI)}return L};
aa.dJ=function(i,C,m,e){C.beginPath();var z=(e?e:1)*(4*d.XP()+.5)/m.U,L=!1;for(var Y=0;Y<i.length;Y+=2){L=!0;
var l=i[Y],x=i[Y+1];C.rect(l-z,x-z,2*z,2*z)}return L};aa.Zl=function(i,C,m,e){m.beginPath();if(e)m.rect(-1e5,-1e5,1e6,1e6);
var z=i;if(C){z=I.C.clone(i);I.C.i(z.j,C,z.j)}Typr.U.pathToContext({cmds:z.G,crds:z.j},m)};aa.prototype.Pp=aa.Zl;
aa.fM=function(i,C,m){cY.kb.call(this);var e=C!=0,z=m?"true":"in01(sCoord)",L="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(i?"uniform sampler2D lut;  uniform float N;  "+cY.er.a7e:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(e?"uniform vec4 bgClr;  uniform vec4 ars["+C+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+cY.er.adA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(m?"-floor(sCoord)":"")+"); \t\t\t\t"+(i?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(e?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+C+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+z+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+z+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.oG(L,l)};aa.fM.prototype=new cY.kb;aa.fM.prototype.ZY=function(i,C,m,e,z,L,l,x,S,k,f,X,o,A){this.TE("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var P=cY.Hs,F=this.wA;P.uniformMatrix3fv(F.tmat,!1,m);P.uniform4fv(F.gsize,e);P.uniform3f(F.contSizeZoom,z,L,l);
P.uniform2f(F.cnvSize,x,S);P.uniformMatrix4fv(F.ctrn,!1,X);if(this.ak_){P.uniform4fv(F.ars,f);P.uniform4fv(F.bgClr,k)}P.uniform1i(F.source,0);
P.uniform1i(F.target,1);P.activeTexture(P.TEXTURE0);P.bindTexture(P.TEXTURE_2D,i);P.activeTexture(P.TEXTURE1);
P.bindTexture(P.TEXTURE_2D,C);if(o){P.uniform1f(F.N,A);P.uniform1i(F.lut,2);P.activeTexture(P.TEXTURE2);
P.bindTexture(P.TEXTURE_2D,o.zo);var n=P.LINEAR;P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,n);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,n)}P.activeTexture(P.TEXTURE0)};function gl(){b0.call(this,[9,7],!1,"---panels/layercomps",b0.eB.a63);
this.wF.setAttribute("style","min-width:240px;");this.R6=null;this.im=-1;this.kW=[];this.oU=d.t("div","scrollable");
this.oU.style.height="160px";this.wF.appendChild(this.oU);this.EG=d.t("div","lpfoot");this.wF.appendChild(this.EG);
this.ZE=[];var i=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],C=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var Y=0;Y<i.length;Y++){var m=i[Y];if(Y>0)m="<img src=\""+PIMG[i[Y]]+"\" class=\"miniscale gsicon\" />";
var e=new c1(m,!1,C[Y]);e.k("click",this.ahN,this);this.EG.appendChild(e.n);this.ZE.push(e)}}gl.prototype=new b0("");
gl.prototype.Oh=function(i,C){this.wF.setAttribute("style","width:"+(i-2)+"px;");this.oU.style.height=C-28+"px"};
gl.prototype.gK=function(i){var C=new eX(v.E.v,!0);C.data=i;C.f=$.IA;this.T(C)};gl.asu="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
gl.prototype.ahN=function(i){var Y=this.ZE.indexOf(i.currentTarget)-1;if(Y==-1){var C=new eX(v.E.H,!0);
C.data={d:v.B._i,QC:gl.asu};this.T(C);return}if(Y!=1)if(this.im==-1)return;this.gK({d:["updLC","addLC","delLC"][Y],h6:this.im});
if(Y==2)this.im=-1};gl.prototype._=function(){b0.prototype._.call(this);for(var Y=0;Y<this.ZE.length;
Y++)this.ZE[Y]._()};gl.prototype.bw=function(i){if(i==null)d.uc(this.wF,"disabled");else d.nP(this.wF,"disabled");
this.R6=i;d._l(this.oU);if(i==null)return;var C=i.Rk.lastAppliedComp?i.Rk.lastAppliedComp.v:0,m=i.Rk.list.v.slice(0);
m.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Y=0;Y<m.length;
Y++){var e=m[Y].v,z=new iC(e.Nm.v,e.compID.v,e.capturedInfo.v,C,this.im);z.k("activate",this.zv,this);
z.parent=this;this.oU.appendChild(z.n);this.kW.push(z)}};gl.prototype.zv=function(i){this.im=i.currentTarget.h6;
this.bw(this.R6)};function iC(i,Y,C,m,e){k5.call(this);this.h6=Y;this.n=d.t("div","head listitem"+(Y==e?" selected":""));
var z=Y==m,L=new c1(z?"\u2713":"\u2014");if(z)L.vG();this.n.appendChild(L.n);L.k("click",this.uL,this);
var l=this.cs=d.t("span");l.textContent=i;this.n.appendChild(l);this.ZE=[];if(Y!=0){this.n.addEventListener("mouseup",this.zv.bind(this),!1);
this.adG=d.t("span","headR");this.n.appendChild(this.adG);var x=["lrs/eye","pos","lrs/fx"],S=["Visibility","Position","Appearance"];
for(var k=0;k<x.length;k++){var f=new c1("<img src=\""+PIMG[x[k]]+"\" class=\"autoscale gsicon\" />",!1,S[k]);
if((C>>k&1)==0)f.n.setAttribute("style","opacity:0.3");f.k("click",this.a8I,this);this.adG.appendChild(f.n);
this.ZE.push(f)}}}iC.prototype=new k5;iC.prototype.zv=function(i){if(i.target!=this.cs&&i.target!=this.n)return;
if(i.detail==1)this.T(new eX("activate",!1));else{var C=new b0.J2(this.cs,this.LD.bind(this))}};iC.prototype.a8I=function(i){var Y=this.ZE.indexOf(i.currentTarget);
this.gK({d:"editLC",aoh:Y,h6:this.h6})};iC.prototype.LD=function(i){this.gK({d:"editLC",TA:i,h6:this.h6})};
iC.prototype.uL=function(i){this.gK({d:"setLC",h6:this.h6})};iC.prototype.gK=function(i){var C=new eX(v.E.v,!0);
C.data=i;C.f=$.IA;this.T(C)};function iA(){b0.call(this,[9,11],!1,"---panels/navigator",b0.eB.a74);var i=this.wF;
d.uc(i,"padded");i.setAttribute("style","cursor:grab;");this.B2=d.t("canvas");i.appendChild(this.B2);
d._Z(i);d.o$(this.B2);d.h_(this.B2,this.Gw.bind(this));this.df=new dd(null,2,6400,"%",null,!0);this.df.k(v.E.p,this.aDu,this);
i.appendChild(this.df.n);this.a8h=this.km.bind(this);this.aB6=this.vE.bind(this);this.uS=null;this.MG=null;
this.WW=!1}iA.prototype=new b0("");iA.prototype.Oh=function(i,C){this.HG=i*1.2;this.bB=C*1.2;this.__()};
iA.prototype.aDu=function(i){var C=this.df.h(),m=this.uS,e=C/100;if(.8<e&&e<1.2)e=1;else if(1.8<e)e=Math.round(e);
var z=new eX(v.E.v,!0);z.f=$.BM;z.data={d:"zoom",U:e};this.T(z)};iA.prototype.Gw=function(i){var C=this.uS;
if(C==null)return;this.WW=!0;d.AX(window,this.a8h);d.xd(window,this.aB6)};iA.prototype.km=function(i){var C=d.CV(i,this.B2),m=this.uS,e=this.B2.width,z=this.B2.height,L=(C.x*d.XP()-e/2)/e,l=(C.y*d.XP()-z/2)/z,x=d.XP()*m.q.U,S=Math.round(-m.q.U*m.m*L),k=Math.round(-m.q.U*m.J*l);
$.gx.fV(m,S,k)};iA.prototype.vE=function(i){d.nz(window,this.a8h);d.uh(window,this.aB6);this.WW=!1};
iA.prototype.bw=function(i){if(i==null&&this.uS!=null)this.B2.width=100;this.uS=i;this.__()};iA.prototype.a2u=function(){var i=this.uS,C=d.XP(),m=$._q.qj(i.m,i.J,C*(this.HG-10),C*(this.bB-36)),e=I.k2(i.I6(),new j2(0,0,i.m,i.J),m);
this.MG=[e.S2,e.rect]};iA.prototype.__=function(){var i=this.uS;if(i==null||i.q.U==0)return;var C=i.q;
if(!d.bv(this.wF))return;this.df.c(C.U*100);if(!this.WW)this.a2u();var m=this.MG[0],e=this.MG[1],z=e.m,L=e.J,l=this.B2;
l.width=z;l.height=L;d.n9(l,z,L);var x=this.wF;x.style.width=this.B2.style.width+12+"px";var S=l.getContext("2d"),k=S.createImageData(z,L);
I.EP(m,k.data);S.putImageData(k,0,0);S.getImageData(0,0,1,1);var f=C.eo,X=C.yy(f.x,f.y),o=C.yy(f.x+f.m,f.y+f.J),A=z/i.m;
S.scale(A,A);S.lineWidth=4/A;S.strokeStyle="#ff0000";S.strokeRect(X.x,X.y,o.x-X.x,o.y-X.y)};iA.prototype.P6=function(i,C){};
iA.prototype.tx=function(){this.__()};function aP(i,C){b0.call(this,i.name,!1,i.icon,C);this.aht=i}aP.prototype=new b0("");
aP.prototype.M1=function(){var i=this.wF,C=this.aht;if(!d.bv(i)||this.Ap)return;var m=this.Ap=d.t("iframe");
m.setAttribute("src",C.url);this.wF.appendChild(m)};aP.prototype.tx=aP.prototype.bw=function(){this.M1()};
aP.prototype.jB=function(i){if(d.bv(this.Ap))this.Ap.contentWindow.postMessage(i,"*")};aP.prototype.Oh=function(i,C){if(this.Ap==null)return;
this.Ap.setAttribute("style","width:"+i+"px; height:"+C+"px")};function g7(){b0.call(this,[9,12],!1,"---panels/tpreset",b0.eB.tM);
this.os=null;this.ON=new jb($.go);this.ON.parent=this;var i=d.t("div","padded");i.setAttribute("style","width:20em");
this.wF.appendChild(i);i.appendChild(this.ON.R2)}g7.prototype=new b0("");g7.prototype.tx=function(){this.ON.dp(this.os.JS)};
g7.prototype.P6=function(i,C){this.os=i;if(C==dm.cX||C==dm.tM)this.ON.dp(i.JS)};g7.prototype.Oh=function(i,C){this.ON.azW(this.os.jw)};
g7.prototype._=function(){b0.prototype._.call(this);this.ON._()};var bg=function(){var i=[],C=null,m=null,e=null,z=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function L(){b0.call(this,"Memory",!1,null,b0.eB.ai3);var o=d.t("div","padded");this.wF.appendChild(o);
m=new c1(["<< VAR0",[0,13,2]],!1,null,!0);m.addEventListener("click",function(A){i.pop();x()});o.appendChild(m.n);
C=d.t("div","scrollable");C.setAttribute("style","width:20em;  height:26em; margin-top:8px;");o.appendChild(C)}L.prototype=new b0("");
L.prototype.bw=function(o,A,P){e=A;this.tx()};L.prototype.tx=function(){m.wo(!1);if(!d.bv(C))return;
var o={T_:"Total:",Oz:[]};for(var Y=0;Y<e.length;Y++)o.Oz.push(k(e[Y]));X(o);i=[o];x()};L.prototype._=function(){b0.prototype._.call(this);
m._()};function l(o){var A=o.currentTarget,Y=0;while((A=A.previousSibling)!=null)Y++;i.push(i[i.length-1].Oz[Y-1]);
x()}function x(){m.wo(i.length>1);var o=i[i.length-1];d._l(C);S(o,C,0);o.Oz.sort(function(A,P){return P.Z_[0]-A.Z_[0]});
for(var Y=0;Y<o.Oz.length;Y++)S(o.Oz[Y],C,1)}function S(o,A,P){var F=b3.WF,n=P!=0&&o.Oz,R="margin-left:"+P*10+"px; margin-bottom:8px; padding:3px 5px;";
if(n)R+="cursor:pointer;";if(o.rp!=null)R+="background-color:rgba("+z[o.rp].join(",")+",0.2);";var Q=d.t("div");
A.appendChild(Q);Q.setAttribute("style",R);Q.innerHTML=d._N(o.T_)+"<br />"+"RAM: <b>"+F(o.Z_[0])+"</b>\u2001GPU: <b>"+F(o.Z_[1])+"</b>";
if(n)Q.addEventListener("click",l,!1)}function k(o){var A={T_:o.name,Oz:[],rp:0},P=cY.fp?1:0,F=1-P,n={T_:"History",Oz:[],rp:5};
A.Oz.push(n);for(var Y=1;Y<o.history.length;Y++){var R=o.history[Y];n.Oz.push({T_:bC.get(R.name),rp:5,Z_:[R.Di(),0]})}X(n);
var n={T_:"Final Image",Z_:[o.m*o.J*4,P*o.m*o.J*4],rp:2};A.Oz.push(n);for(var Y=0;Y<o.M.length;Y++){var Q=f(o.M[Y]);
if(Q.Oz.length!=0)A.Oz.push(Q)}var s=o.add.lnk2;if(s)for(var Y=0;Y<s.length;Y++){var Q=s[Y],j={T_:Q.VO,Oz:[],rp:4},_=0;
j.Oz.push({T_:"Raw file",Z_:[Q.raw.length,0]});if(Q.pC)for(var B=0;B<Q.pC.length;B+=2)_+=Q.pC[B].length;
if(_!=0)j.Oz.push({T_:"Decoded pixels",Z_:[_,0]});X(j);A.Oz.push(j)}X(A);return A}function f(o){var A={T_:o.getName(),Oz:[],rp:1},P=cY.fp?1:0,F=1-P,n=o.rect.P();
if(n!=0)A.Oz.push({T_:"Layer pixels",Z_:[n*4,P*n*4]});if(o.add.lmfx&&o.f3.Qb.type){var R=o.f3.Qb.type,_=0;
for(var Q in R){var s=0;for(var j=0;j<R[Q].length;j++)if(Q=="ebbl"){if(R[Q][j].ZX)s+=R[Q][j].ZX.gG.P();
if(R[Q][j].Br)s+=R[Q][j].Br.gG.P();if(R[Q][j].Iv)s+=R[Q][j].Iv.gG.P();if(R[Q][j].OM)s+=R[Q][j].OM.gG.P()}else s+=R[Q][j].gG.P();
if(s!=0)A.Oz.push({T_:bC.get(jt.names[jt.order.indexOf(Q)]),Z_:[F*s*4,P*s*4],rp:3})}if(o.f3.YN)_+=n;
if(o.f3.Ee)_+=n;if(o.f3.pY)_+=n;if(o.f3.pY)_+=n;if(o.f3.rd)_+=n;if(o.f3.nF)_+=n;var B=o.f3.SJ?o.f3.SJ.length:0;
if(_+B!=0)A.Oz.push({T_:"Additional Blending Data",Z_:[F*_*4+B,P*_*4]})}var N=o.Re(),a=N?N.rect.P():0;
if(a!=0){A.Oz.push({T_:"Raster Mask",Z_:[a,0]})}var N=o.add.vmsk,a=N&&N.ow?N.ow.rect.P():0;if(a!=0){A.Oz.push({T_:"Vector Mask",Z_:[a,0]})}X(A);
return A}function X(o){o.Z_=[0,0];for(var Y=0;Y<o.Oz.length;Y++){o.Z_[0]+=o.Oz[Y].Z_[0];o.Z_[1]+=o.Oz[Y].Z_[1]}}return L}();
function eL(){b0.call(this,[9,14],!1,"---panels/notes",b0.eB.ad3);this.wF.setAttribute("style","min-width:240px;");
var i=d.t("div","padded");this.wF.appendChild(i);this.s9=new kz("Author");i.appendChild(this.s9.n);this.oy=d.t("textarea");
d.xq(this.oy);i.appendChild(this.oy);var C=new c1("<<",null,null,!0);i.appendChild(C.n);this.ad0=C;var m=new c1(">>",null,null,!0);
i.appendChild(m.n);C.k("click",this.B9,this);m.k("click",this.B9,this);var e=this.aaQ=new bd("");i.appendChild(e.n)}eL.prototype=new b0("");
eL.prototype.B9=function(i){var C=i.target==this.ad0?-1:1,m=this.uS,e=m.add.Anno;if(e==null)return;var z=e.length,L=m.q.lz;
m.q.lz=(L+C+z)%z;m.sa=!0;this.__()};eL.prototype.__=function(){var i=this.uS;if(i==null)return;var C=i.add.Anno;
if(C==null||C.length==0)return;var m=i.q.lz,e=C[m];this.oy.value=e[4];this.aaQ.c(m+1+" / "+C.length);
this.s9.c(e[3])};eL.prototype.Oh=function(i,C){if(this.HG==i)return;this.HG=i;C=Math.min(C,200);this.oy.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(i-10)+"px; height:"+(C-66)+"px")};
eL.prototype.bw=function(i,C,m){this.uS=i;this.__()};function f5(){k5.call(this);this.f=0;this.nX=null;
this.n=d.t("div","toolconf");this.ON=null;this.Dt=null;this.body=new d.t("div","body")}f5.prototype=new k5;
f5.prototype.aeY=function(i,C){this.f=i;this.nX=C;if($.Jy[i]){var m=this.ON=new jb(i);this.n.appendChild(m.n);
m.parent=this}else{this.Dt=d.t("div");this.n.appendChild(this.Dt)}this.n.appendChild(this.body);this._()};
f5.prototype.ad4=function(i,C){};f5.prototype.ah$=function(i){};f5.prototype.P6=function(i,C){if(C==dm.cX||C==dm.tM)if(this.ON)this.ON.dp(i.JS)};
f5.prototype.Ag=function(i){};f5.prototype._=function(){if(this.ON)this.ON._();else this.Dt.innerHTML=d.W3(this.nX,null,"toolicon");
this.ll()};f5.prototype.ll=function(){};function iY(){f5.call(this);this.i0=new aq;this.i0.k(v.E.p,this.zs,this);
this.body.appendChild(this.i0.n)}iY.prototype=new f5;iY.prototype.ll=function(){this.i0._()};iY.prototype.zs=function(i){var C=new eX(v.E.H,!0);
C.data={d:v.B.GQ,f:this.f,N5:this.i0.aDp()};this.T(C)};iY.prototype.Ag=function(i){this.i0.apZ(i.Hw)};
function bT(i){f5.call(this);if(i==null)return;this.os=null;this.Po={};if(i.indexOf("brush")!=-1&&i.indexOf("prsr")==-1)i.push("prsr");
for(var Y=0;Y<i.length;Y++){var C=i[Y],m=null;if(C=="brush"){m=new bc}if(C=="bmode"){m=new ib([12,19,0],aw.jI,aw._g)}if(C=="bmode0"){m=new ib([12,19,0],aw.jI.slice(23))}if(C=="emode"){m=new ib([12,36],[[9,3],[10,38]])}if(C=="opacity"){m=new db([12,0],0,100,"%");
m.c(100)}if(C=="flow"){m=new db([12,63],0,100,"%");m.c(100)}if(C=="smth"){m=new db([19,3,0],0,100,"%");
m.c(0)}if(C=="samp"){m=new ib([12,36],[[12,25,4],[12,25,5],[12,46]])}if(C=="wconf"){m=new gQ;m.c([40,!0,!0])}if(C=="sall"){m=new em([12,25,2])}if(C=="smode"){m=new ib([12,36],[[19,7,0],[19,7,1]]);
m.c(1)}if(C=="pdetail"){m=new em([12,65]);m.vG()}if(C=="rng"){m=new ib([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
m.c(1)}if(C=="expo"){m=new db([12,5],0,100,"%");m.c(50)}if(C=="algnd"){m=new em([12,75]);m.c(!1)}if(C=="sfrom"){m=new ib([12,70],[[17,1],[17,3],[17,0]])}if(C=="alt"){m=new as(null,["Alt"],!0,["Select Source"])}if(C=="qsmode"){m=new iw([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(C=="redge"){m=new c1([7,11],!1,null,!0)}if(C=="sesu"){m=new c1("Select Subject",!1,null,!0)}if(C=="setop"){m=new bh}if(C=="patch"){m=new iw(null,[[12,70],[12,71]])}if(C=="strn"){m=new db([12,64],1,100,"%");
m.c(50)}if(C=="prsr"){m=this.Po.brush.$E}this.body.appendChild(m.n);if(C=="prsr")continue;m.parent=this;
this.Po[C]=m;if(C=="brush")m.k(v.E.p,this.aA2,this);else if(C=="redge"||C=="sesu")m.k("click",dy.aoy,this);
else m.k(v.E.p,this.ty,this)}}bT.prototype=new f5;bT.prototype.ad4=function(i,C){i=i[1];var m=this.Po;
if(i.Md)m.bmode.c(aw.W5.indexOf(i.Md.v.BlnM));if(i.Opct)m.opacity.c(i.Opct.v);if(i.flow)m.flow.c(i.flow.v);
if(i.Brsh)m.brush.c(i,C.iy.fT,C.iy.bh);if(i.FrgC){var e=I.I.oq(i.FrgC.v),z=new eX(v.E.H,!0);z.data={d:v.B.Mc,N5:dm.li,Tt:0,b:e.Z<<16|e.r<<8|e.e};
this.T(z)}this.aA2();this.ty()};bT.prototype.ah$=function(){if($.Jy[this.f]==null)return null;var i=this.Po,C;
for(var m in $.zB)if($.zB[m]==this.f)C=m;var e=JSON.parse(JSON.stringify(i.brush.h()));e.classID=C;if(i.bmode)e.Md={t:"enum",v:{BlnM:aw.W5[i.bmode.h()]}};
if(i.opacity)e.Opct={t:"long",v:i.opacity.h()};if(i.flow)e.flow={t:"long",v:i.flow.h()};var z=this.os.Dm;
z={Z:z>>>16,r:z>>>8&255,e:z&255};e.FrgC={t:"Objc",v:I.I.$q(z)};return["Brush Preset "+e.Brsh.v.Dmtr.v.val,e]};
bT.prototype.ll=function(){for(var i in this.Po)this.Po[i]._()};bT.prototype.Ag=function(i){if(i.axC=="showBrushOpts"){this.Po.brush.adS(i.If.x,i.If.y)}for(var C in i.bL){var m=i.bL[C];
if(C!="qsmode")m*=100;if(this.Po[C])this.Po[C].c(m)}};bT.prototype.P6=function(i,C){f5.prototype.P6.call(this,i,C);
this.os=i;var m=this.Po.brush;if(m==null)return;if(C==dm.cX||C==dm.go)m.dp(i.iy);if(C==dm.Vy){m.c(i.iy.n_,i.iy.fT,i.iy.bh)}};
bT.prototype.aA2=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.Mc,N5:dm.Vy,nE:this.Po.brush.h()};this.T(i)};
bT.prototype.ty=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.GQ,f:this.f};for(var C in this.Po){if(C=="brush"||C=="redge")continue;
var m=this.Po[C].h();if(["opacity","flow","smth","expo","strn"].indexOf(C)!=-1)i.data[C]=m/100;else if(C=="bmode")i.data.bmode=aw.Az[m];
else if(C=="bmode0")i.data.bmode=aw.Az[23+m];else i.data[C]=m}this.T(i)};function dy(i,C){f5.call(this);
if(i)return;this.Po={};for(var Y=0;Y<C.length;Y++){var m=C[Y],e=null;if(m=="sesu"&&!d.mA())continue;
if(m=="binop")e=new bh;if(m=="feat"){e=new db([7,6],0,100,"px");e.c(0)}if(m=="redge")e=new c1([7,11],!1,null,!0);
if(m=="sesu")e=new c1("Select Subject",!1,null,!0);if(m=="wconf")e=new gQ;if(m=="cstr")e=new iu;if(m=="anta"){e=new em([12,25,1]);
e.c(!0)}if(m=="sall")e=new em([12,25,2]);if(m=="redge"||m=="sesu")e.k("click",dy.aoy,this);else e.k(v.E.p,this.ty,this);
e.parent=this;this.body.appendChild(e.n);this.Po[m]=e}}dy.prototype=new f5;dy.prototype.Ag=function(i){if(i.yE!=null)this.Po.binop.c(i.yE);
else if(i.DO){for(var C in i.DO)if(this.Po[C])this.Po[C].c(i.DO[C])}else{var m=dy.Q6;if(m==null){var e=ed.ay3(!0);
m=dy.Q6=new gw(e.items,e.SF)}m._();m.parent=this;m.update(i.xn,i.p7);var z=new eX(v.E.H,!0);z.data={d:v.B.vs,aA:m,x:i.Es.Xy+2,y:i.Es.UE+1};
this.T(z)}};dy.prototype.ll=function(){for(var i in this.Po)this.Po[i]._()};dy.aoy=function(i){var C=i.target==this.Po.sesu,m=new eX(C?v.E.v:v.E.H,!0);
if(C){m.f=$.iH;m.data={d:"bgrm",b:2}}else m.data={d:v.B.c6,pw:"redge"};this.T(m)};dy.prototype.ty=function(){var i=new eX(v.E.H,!0);
i.data={d:v.B.GQ,f:this.f,DO:{}};for(var C in this.Po)i.data.DO[C]=this.Po[C].h();this.T(i)};function cI(){bT.call(this,["brush","strn"])}cI.prototype=new bT;
function jf(){bT.call(this,"brush bmode opacity flow smth prsr".split(" "))}jf.prototype=new bT;function j7(){bT.call(this,["brush","bmode0","samp","wconf"])}j7.prototype=new bT;
function io(){bT.call(this,["brush"])}io.prototype=new bT;function c3(){bT.call(this,["brush","bmode","opacity","smth","prsr"])}c3.prototype=new bT;
function fq(){bT.call(this,["brush","rng","expo"])}fq.prototype=new bT;function aY(){bT.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}aY.prototype=new bT;
function fK(i){f5.call(this);if(i==null)return;this.Fq=[];this.UM=new c1("\u2026",!1,null,!0);if(!i)this.body.appendChild(this.UM.n);
this.UM.k("click",this.KP,this);this.Ty=new k5;this.Ty.parent=this;var C=this.Ty.n=d.t("div","floatcont form"),m=[[17,0],[17,1],[11,12,0],[17,2]];
for(var Y=0;Y<m.length;Y++){var e=new c1(m[Y],!1,null,!0);this.Fq.push(e);e.k("click",this.a5M,this);
if(!i||Y==1)C.appendChild(e.n)}this.Ed=new iu;this.Ed.k(v.E.p,this.S1,this);if(!i)this.body.appendChild(this.Ed.n);
this.SR=new c1([15,7,6],!1,null,!0);this.SR.k("click",this.a5M,this);if(!i)this.body.appendChild(this.SR.n);
this.aI=new em([15,7,10]);this.aI.k(v.E.p,this.S1,this);if(!i)this.body.appendChild(this.aI.n);this.ub=new em("Content-Aware");
this.ub.k(v.E.p,this.S1,this);if(!i)this.body.appendChild(this.ub.n);this.zp=new fe;this.zp.k("click",this.Zs,this)}fK.prototype=new f5;
fK.prototype.KP=function(i){if(d.bv(this.Ty.n))return;var C=this.UM.n.getBoundingClientRect(),m=new eX(v.E.H,!0);
m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height+4};this.T(m)};fK.prototype.ll=function(){this.zp._();
for(var Y=0;Y<this.Fq.length;Y++)this.Fq[Y]._();this.Ed._();this.aI._();this.SR._()};fK.prototype.Ag=function(i){if(i.wL){this.Ed.aAK(i.wL[0],i.wL[1]);
return}var C=this.zp.n;if(i.LI)this.body.appendChild(C);else if(this.body.contains(C))this.body.removeChild(C);
if(i.Ed)this.Ed.c(i.Ed)};fK.prototype.Zs=function(i){var C={d:v.B.GQ,f:this.f,jh:this.zp.h()?"commit":"cancel"},m=new eX(v.E.H,!0);
m.data=C;this.T(m)};fK.prototype.a5M=function(i){i.target.n.blur();var C={d:v.B.GQ,f:this.f,jh:"cropby",a75:this.Fq.indexOf(i.target)};
if(i.target==this.SR)C.jh="straighten";var m=new eX(v.E.H,!0);m.data={d:v.B.E_,aA:this.Ty};this.T(m);
m.data=C;this.T(m)};fK.prototype.S1=function(i){var C={d:v.B.GQ,f:this.f,jh:"config",rA:{Q7:this.Ed.h(),UH:this.aI.h(),EA:this.ub.h()},azo:i.target==this.Ed},m=new eX(v.E.H,!0);
m.data=C;this.T(m)};function bw(){fK.call(this,!1)}bw.prototype=new fK;function fb(){fK.call(this,!0)}fb.prototype=new fK;
function kD(){bT.call(this,["brush","rng","expo"])}kD.prototype=new bT;function e8(){bT.call(this,"brush emode opacity flow smth prsr".split(" "))}e8.prototype=new bT;
function ew(){bT.call(this,["brush","samp","wconf"])}ew.prototype=new bT;function cG(){dy.call(this,!1,["binop","feat","anta","redge","cstr"])}cG.prototype=new dy(!0);
function ks(){f5.call(this);var i=this.Po=[new ib([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new ib([12,70],[[17,1],[17,3],[17,0]]),new em([12,20,1]),new em([8,0])];
i[1].c(2);i[2].c(!0);for(var Y=0;Y<i.length;Y++){var C=i[Y];C.k(v.E.p,this.ty,this);this.body.appendChild(C.n)}}ks.prototype=new f5;
ks.prototype.ty=function(i){var C=this.Po,m=[];for(var Y=0;Y<C.length;Y++)m[Y]=C[Y].h();var e=new eX(v.E.H,!0);
e.data={d:v.B.GQ,f:this.f,DO:m};this.T(e)};ks.prototype.ll=function(){for(var Y=0;Y<this.Po.length;Y++)this.Po[Y]._()};
function ci(){f5.call(this);this.Su=new jv(!1);this.Su.parent=this;this.Su.k(v.E.p,this.ec,this);this.body.appendChild(this.Su.n);
this.Su.c(JSON.parse(jt.UL.aaV).v);this.f7=new ib(null,jt.I.names.slice(0,5));this.f7.k(v.E.p,this.ec,this);
this.body.appendChild(this.f7.n);this.ZU=new ib([12,19,0],aw.jI,aw._g);this.ZU.k(v.E.p,this.ec,this);
this.body.appendChild(this.ZU.n);this.Ry=new db([12,0],0,100,"%");this.Ry.parent=this;this.Ry.k(v.E.p,this.ec,this);
this.body.appendChild(this.Ry.n);this.Ry.c(100);this.JG=new em([12,23,0]);this.JG.k(v.E.p,this.ec,this);
this.body.appendChild(this.JG.n);this.a6=new em([12,23,3]);this.a6.k(v.E.p,this.ec,this);this.body.appendChild(this.a6.n)}ci.prototype=new f5;
ci.prototype.ll=function(){this.f7._();this.ZU._();this.Ry._();this.JG._();this.a6._()};ci.prototype.P6=function(i,C){f5.prototype.P6.call(this,i,C);
var m=C==dm.li;this.Su.ef(i.Dm,i.yv);if(m||C==dm.AU||C==dm.cX)this.Su.dp(i.Wc)};ci.prototype.ec=function(){var i=new eX(v.E.H,!0);
i.data={d:v.B.GQ,f:this.f};i.data.N5={I:this.Su.h(),b2:jt.I.types[this.f7.h()],ca:this.JG.M5(),ge:this.a6.M5(),a3k:aw.Az[this.ZU.h()],Hh:this.Ry.h()/100};
this.T(i)};function fJ(){f5.call(this);this.Zx=new em([8,7,1]);this.body.appendChild(this.Zx.n);this.Zx.k(v.E.p,this.ty,this)}fJ.prototype=new f5;
fJ.prototype.ty=function(){var i={d:v.B.GQ,f:this.f,ob:this.Zx.h()},C=new eX(v.E.H,!0);C.data=i;this.T(C)};
function au(){f5.call(this);var i=d.t("span","fitem");this.body.appendChild(i);this.aY=[new db([12,15],-180,180,"\xB0"),new c1([1,12,2],null,null,!0)];
for(var Y=0;Y<this.aY.length;Y++){var C=this.aY[Y];C.parent=this;i.appendChild(C.n);C.k(Y==1?"click":v.E.p,this.Vz,this)}}au.prototype=new f5;
au.prototype.ll=function(){for(var Y=0;Y<this.aY.length;Y++)this.aY[Y]._()};au.prototype.Ag=function(i){this.aY[0].c(i.wv*180/Math.PI)};
au.prototype.Vz=function(i){var C=this.aY.indexOf(i.target),m=new eX(v.E.H,!0);m.data={d:v.B.GQ,f:this.f,wv:C==1?0:i.target.h()*Math.PI/180};
this.T(m)};function eT(){bT.call(this,["brush","algnd","sfrom","alt"])}eT.prototype=new bT;function kd(){f5.call(this);
this.sj=new aM;this.sj.parent=this;this.body.appendChild(this.sj.Qh.n);this.body.appendChild(this.sj.ac.n);
this.body.appendChild(this.sj.sp.n);this.body.appendChild(this.sj.rm.n);var i=d.t("span","fitem");this.body.appendChild(i);
i.appendChild(this.sj.Ou.n);i.appendChild(this.sj.j1.n);i.appendChild(this.sj.Bv.n);this.Ms=new ib("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.Ms.k(v.E.p,this.Zs,this);this.body.appendChild(this.Ms.n);this.O7=new ib(null,["\u2B85","\u253F","\u2B87"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.O7.k(v.E.p,this.Zs,this);this.body.appendChild(this.O7.n);this.L8=new c1([11,9],!1,null,!0);this.L8.k("click",this.a1M,this);
this.body.appendChild(this.L8.n);this.zp=new fe;this.zp.k("click",this.Zs,this)}kd.prototype=new f5;
kd.prototype.ll=function(){this.zp._();this.sj._();this.L8._()};kd.prototype.a1M=function(i){var C={d:v.B.GQ,f:this.f,jh:"showwarp"},m=new eX(v.E.H,!0);
m.data=C;this.T(m)};kd.prototype.Ag=function(i){if(i.jh=="showactive")this.body.appendChild(this.zp.n);
if(i.jh=="hideactive")this.body.removeChild(this.zp.n);if(i.jh=="changeOther"){this.Ms.c(i.Tz);this.O7.c([0,2,1][i.L2])}if(i.jh=="showpan"){var C=[{name:[0,1],mL:!0}],m=[{K:v.E.v,f:$.ck,A:{d:"editCurr",e5:i.e5}}],e=i.Es;
if(i.aw1){C=[{name:["VAR0: VAR1",[0,5],[7,0]],mL:!0}];m=[{K:v.E.HW,A:$.Z3.BT(!0)}];var z=ed.aml();C=C.concat(z[0]);
m=m.concat(z[1])}C.push({name:[11,9]});m.push({K:v.E.H,A:{d:v.B.GQ,f:this.f,jh:"showwarp"}});var L=new gw(C,m);
L.parent=this;L._();L.update(i.xn,i.p7);var l=new eX(v.E.H,!0);l.data={d:v.B.vs,aA:L,x:e.Xy+2,y:e.UE+1};
this.T(l)}};kd.prototype.P6=function(i,C){f5.prototype.P6.call(this,i,C);if(C!=dm.cX&&C!=dm.QI&&C!=dm.sY&&C!=dm.jl)return;
this.sj.c(i.c4,i.FV,i.Tf)};kd.prototype.Zs=function(i){var C={d:v.B.GQ,f:this.f,jh:this.zp.h()?"commit":"cancel"};
if(i.target==this.Ms||i.target==this.O7){C.jh="changeOther";C.Tz=this.Ms.h();C.L2=[0,2,1][this.O7.h()]}var m=new eX(v.E.H,!0);
m.data=C;this.T(m)};function fd(){dy.call(this,!1,["binop","feat","anta","redge"])}fd.prototype=new dy(!0);
function fU(){f5.call(this);var i=[],m="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.sG=new em([12,85]);this.sG.c(!0);this.sG.k(v.E.p,this.ty,this);i.push(this.sG.n);this.TR=new ib(null,[[0,4],[0,3]]);
this.TR.k(v.E.p,this.ty,this);this.TR.c(1);i.push(this.TR.n);this.gu=new em([20,1]);this.gu.k(v.E.p,this.ty,this);
i.push(this.gu.n);this.tA=new em([12,83]);this.tA.k(v.E.p,this.ty,this);i.push(this.tA.n);this.Ty=new k5;
this.Ty.n=d.t("div","floatcont form");this.Ty.n.setAttribute("style","max-width: 200px;");this.Ty.parent=this;
var C=this.Ty.n;this.a6v=new ib("Scale for exported files",["1x","2x","3x","4x"]);C.appendChild(this.a6v.n);
this.MQ=new c1(m+" PNG",!1,"Save selected layers as PNG",!0);C.appendChild(this.MQ.n);this.MQ.k("click",this.GU,this);
this.a0S=new c1(m+" SVG",!1,"Save selected layers as SVG",!0);C.appendChild(this.a0S.n);this.a0S.k("click",this.GU,this);
var e=new c1(m,!1,"Save selected layers",!0);i.push(e.n);e.k("click",function(S){if(d.bv(this.Ty.n))return;
var k=e.n.getBoundingClientRect(),f=new eX(v.E.H,!0);f.data={d:v.B.vs,aA:this.Ty,x:k.left,y:k.top+k.height,FF:!0};
this.T(f)},this);var z=d.t("span","fitem");i.push(z);var L=d.t("span","fitem");i.push(L);this.ZE=[];
for(var Y=0;Y<8;Y++){var l=Y==3||Y==7?[20,4,6]:[20,4,Y<3?Y:Y-1],x=new c1("Hi",!1,l);(Y<4?z:L).appendChild(x.n);
x.k("click",this.GU,this);this.ZE.push(x)}for(var Y=0;Y<i.length;Y++)this.body.appendChild(i[Y]);this.akV=i}fU.prototype=new f5;
fU.prototype.Ag=function(i){var C=i.Hw,m=i.anj;this.sG.c(C.qP);this.gu.c(C.bx);this.tA.c(C.va);if(m){d._l(this.body);
for(var Y=0;Y<m.length;Y++)if(m[Y]==1&&this.akV[Y])this.body.appendChild(this.akV[Y])}};fU.prototype.GU=function(i){var C=this.ZE.indexOf(i.target),m;
if(C==-1){m=new eX(v.E.H,!0);m.data={d:v.B.GQ,f:this.f,Tt:i.target==this.MQ?"getPNG":"getSVG",IQ:this.a6v.h()+1}}else{m=new eX(v.E.v,!0);
m.f=$.z_;m.data={d:"algn",b:C}}this.T(m)};fU.prototype.ty=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.GQ,f:this.f,Tt:"prms",qP:this.sG.M5(),a16:this.TR.h(),bx:this.gu.M5(),va:this.tA.M5()};
this.T(C)};fU.prototype.ll=function(){this.sG._();this.TR._();this.gu._();this.tA._();var i="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var Y=0;Y<8;Y++){this.ZE[Y]._H(d.W3("align/"+i[Y],null,"autoscale"))}};function ah(){dy.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}ah.prototype=new dy(!0);
function hy(){bT.call(this,["setop","patch"])}hy.prototype=new bT;function dO(){bT.call(this,["setop"])}dO.prototype=new bT;
function ho(i){var C=i==$.agg?[]:["bmode"];bT.call(this,C.concat(["opacity","wconf","sall"]))}ho.prototype=new bT;
function i8(){dy.call(this,!1,["binop","feat","anta","redge"])}i8.prototype=new dy(!0);function b4(){dy.call(this,!1,["binop","feat","anta","redge"])}b4.prototype=new dy(!0);
function hO(){dy.call(this,!1,["binop","feat","redge","cstr"])}hO.prototype=new dy(!0);function im(){f5.call(this);
this.os=null;this.uF=null;this.NK=[new kz("X",null,3.2,null,!0),new kz("Y",null,3.2,null,!0),new kz("W",null,3.2,null,!0),new kz("H",null,3.2,null,!0),new kz([12,15],"\xB0",3.7,null,!0),new kz(["VAR0 1",[12,80,0]],null,3.5,null,!0),new kz(["VAR0 2",[12,80,0]],null,3.5,null,!0),new c1([15,7,6],!1,null,!0),new c1([2,2],!1,null,!0)];
for(var Y=0;Y<this.NK.length;Y++){var i=this.NK[Y];this.body.appendChild(i.n);if(Y>6)i.k("click",this.I9,this)}this.G9=0}im.prototype=new f5;
im.prototype.I9=function(i){var C=this.NK.indexOf(i.target)==7,m=new eX(v.E.v,!0);if(C){if(this.G9==0)return;
m.f=$.yn;m.data={d:"rot",jj:[2,5],b:-this.G9}}else{m.f=$.kK;for(var Y=0;Y<6;Y++)this.NK[Y].c(null)}this.T(m)};
im.prototype.Ag=function(i){function C(x,S,k){var f=Math.sqrt(Math.pow(S.x-x.x,2)+Math.pow(S.y-x.y,2)),X=Math.sqrt(Math.pow(S.x-k.x,2)+Math.pow(S.y-k.y,2)),o=Math.sqrt(Math.pow(k.x-x.x,2)+Math.pow(k.y-x.y,2));
return Math.acos((X*X+f*f-o*o)/(2*X*f))}if(i==null)return;this.uF=i;var m=i.ahl,e=i.oc,z=e.x-m.x,L=e.y-m.y;
this.G9=-Math.atan2(L,z);if(i.V$)this.G9=C(e,m,i.V$);var l=this.NK;l[0].c(this.rj(i,m.x));l[1].c(this.rj(i,m.y));
l[2].c(this.rj(i,z));l[3].c(this.rj(i,L));l[4].c((this.G9*180/Math.PI).toFixed(2));l[5].c(this.rj(i,b5.qM(m,e)));
if(i.V$){l[6].c(this.rj(i,b5.qM(m,i.V$)))}else l[6].c("")};im.prototype.rj=function(i,C){var m=I.up.Rd(C,i.lC,this.os,i.ajC,!1);
return parseFloat(m).toFixed(2)};im.prototype.P6=function(i,C){this.os=i;this.Ag(this.uF)};im.prototype.ll=function(){var i=this.NK;
for(var Y=0;Y<i.length;Y++)i[Y]._();d.Nr(i[2],i[3])};function dF(){bT.call(this,["brush","strn","pdetail"])}dF.prototype=new bT;
function kr(){bT.call(this,["brush","sfrom"]);this.aaM=[];var i=[[7,12]];for(var Y=0;Y<i.length;Y++){var C=new c1(i[Y],!1,null,!0);
this.aaM.push(C);C.parent=this;this.body.appendChild(C.n);C.k("click",this.apn,this)}}kr.prototype=new bT;
kr.prototype.apn=function(i){var C=this.aaM.indexOf(i.currentTarget),m=new eX(v.E.HW,!0);m.data=$.N9.WA(C==0?"contentAware":"aiHeal");
this.T(m)};function jS(){bT.call(this,["brush","strn"])}jS.prototype=new bT;function hS(){bT.call(this,["brush","flow","smode"])}hS.prototype=new bT;
function eK(){f5.call(this);this.Fb=!1;var i=d.t("span","fitem");this.body.appendChild(i);this.bU=new iw(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
i.appendChild(this.bU.n);this.bU.k(v.E.p,this.ty,this);this.wM=new c1([20,2]);this.body.appendChild(this.wM.n);
this.wM.k("click",this.a7l,this);this.vy=new c1([20,3]);this.body.appendChild(this.vy.n);this.vy.k("click",this.a7l,this);
this.Zx=new em([8,7,1]);this.body.appendChild(this.Zx.n);this.Zx.k(v.E.p,this.ty,this)}eK.prototype=new f5;
eK.prototype.ll=function(){this.wM._();this.vy._()};eK.prototype.ty=function(){var i={d:v.B.GQ,f:this.f,u7:this.bU.h()==0,ob:this.Zx.h()},C=new eX(v.E.H,!0);
C.data=i;this.T(C)};eK.prototype.Ag=function(i){if(this.Fb!=i.Fb)this.bU.c(1-this.bU.h());this.Fb=i.Fb};
eK.prototype.a7l=function(i){var C=new eX(v.E.v,!0);C.f=$.BM;C.data={d:"adapt",b:i.target==this.wM?"pixel":"fitscr"};
this.T(C)};function d1(i,C){f5.call(this);if(i==null)return;this.YV=i;this.Ax={};this.ao_=C;for(var Y=0;
Y<i.length;Y++){var m=i[Y],e=null;if(m=="tmode"){e=new ib(null,[[12,76,1],[12,76,0],[12,76,2]]);e.c(0);
if(C)e.aDJ(2)}if(m=="make"){e=new iw("Make",[[17,2],[12,76,1]],null,!0)}if(m=="anta"){e=new em([12,25,1]);
e.c(!0)}if(m=="binop"){e=new ib(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(m=="pshape")e=new ib(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(m=="shape")e=new aO([12,76,1]);if(m=="crad"){e=new db([12,94,0],0,50,"px");e.c(0)}if(m=="cstr"){e=new iu}if(m=="irad"){e=new db([12,94,1],0,100,"%");
e.c(40)}if(m=="length"){e=new db([12,80,0],4,40);e.c(4)}if(m=="sides"){e=new db([12,78],3,30);e.c(5)}if(m=="width"){e=new db([12,41],1,100,"px");
e.c(5)}if(m=="tolr"){e=new db([12,24],0,100);e.c(5)}if(m=="fstyle"){e=new eP([12,26])}if(m=="sstyle"){e=new c2}if(m=="psnap"){e=new em([8,10])}if(m=="crnr"){e=new c1("\u2312",!1,[12,94,0],!0)}if(m=="aopts"){e=new e0;
e.c([!1,!1,50,60,0])}if(m=="smplp"){e=new c1([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}e.parent=this;
this.body.appendChild(e.n);this.Ax[m]=e;e.k(m=="crnr"||m=="smplp"?"click":v.E.p,this.ty,this)}}d1.prototype=new f5;
d1.prototype.Ag=function(i){if(i.yE!=null)this.Ax.binop.c(i.yE);else if(i.Tt=="vals")for(var C in i.aw4)this.Ax[C].c(i.aw4[C]);
else{var m=d1.Q6,e=function(L){return{w:L!=null&&L.KT(!1)}};if(m==null)m=d1.Q6=new gw([{name:"Remove Anchor Point",w:function(L){var l=L?L.bM():null;
return{w:L&&l[1].length!=0&&l[0][l[1][0]].add.vmsk.Ki.length!=0}}},{name:"Remove Path",w:function(L){var l=L?L.bM():null;
return{w:L&&l[1].length!=0&&l[0][l[1][0]].add.vmsk.g.length!=0}},mL:!0},{name:"Make Selection"},{name:[2,3],w:e},{name:[14,9],w:e}],[{K:v.E.v,f:$.tP,A:{d:"remove",D9:!0}},{K:v.E.v,f:$.iF,A:{d:"remove"}},{K:v.E.H,A:{d:v.B.c6,pw:"makesel"}},{K:v.E.HW,A:$.SY.wI(null)},{K:v.E.HW,A:$.SY.wI("PbTl")}]);
m.parent=this;m.update(i.xn,i.p7);var z=new eX(v.E.H,!0);z.data={d:v.B.vs,aA:m,x:i.Es.Xy+2,y:i.Es.UE+1};
this.T(z)}};d1.prototype.ayN=function(Y){return null};d1.prototype.ll=function(){for(var i in this.Ax){this.Ax[i]._()}};
d1.prototype.ty=function(i){var C=new eX(v.E.H,!0),m=this.Ax;if(i.target==m.crnr){C=new eX(v.E.v,!0);
C.f=$.tP;C.data={d:"crnr"}}else if(i.target==m.smplp){C=new eX(v.E.v,!0);C.f=$.iF;C.data={d:"smplp"}}else if(i.target==m.make){var Y=i.target.h();
console.log(Y);if(Y==0)C.data={d:v.B.c6,pw:"makesel"};else{C=new eX(v.E.v,!0);C.f=$.C0;C.data={d:"newfill",rp:0}}}else if(i.target==m.fstyle){C.data={d:v.B.Mc,N5:dm.w4,b:m.fstyle.h()}}else if(i.target==m.sstyle){C.data={d:v.B.Mc,N5:dm.$w,b:m.sstyle.h()}}else if(i.target==m.tmode){C.data={d:v.B.Mc,N5:dm.QB,b:m.tmode.h()}}else{if(m.pshape)this.Ns();
C.data={d:v.B.GQ,f:this.f};for(var e in m)C.data[e]=m[e].h()}this.T(C)};d1.prototype.Ns=function(){var i=this.Ax,C=i.tmode.h(),m=i.pshape?this.ayN(i.pshape.h()):this.YV,e;
if(C==0)e=["anta","make"];if(C==1)e=["anta","fstyle","sstyle"];if(C==2)e=["make","binop","fstyle","sstyle"];
var z=i.binop;if(z){var L=z.h();if(C==0){z.asB(0)}else{z.aDJ(0);if(L==0){z.c(1);this.ty({target:z})}}}d._l(this.body);
for(var Y=0;Y<m.length;Y++){var l=m[Y];if(e.indexOf(l)!=-1)continue;this.body.appendChild(i[l].n)}};
d1.prototype.P6=function(i,C){f5.prototype.P6.call(this,i,C);var m=this.Ax.fstyle,e=this.Ax.sstyle,z=this.Ax.tmode;
if(m)m.P6(i,C);if(e)e.P6(i,C);if(C==dm.cX||C==dm.Tl)if(i.Qu.length!=0&&this.Ax.shape){this.Ax.shape.dp(i.Qu)}if(C==dm.cX||C==dm.w4)if(m)m.c(null,i.ZF,i.em);
if(C==dm.cX||C==dm.$w)if(e)e.c(null,i.Co,i.QD);if(C==dm.cX||C==dm.QB){var L=i.Wn;if(this.ao_&&L==2)L=0;
if(z){z.c(L);this.Ns()}}};function bz(){d1.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}bz.prototype=new d1;
function eq(){d1.call(this,"tmode make anta fstyle sstyle binop".split(" "))}eq.prototype=new d1;function gU(){d1.call(this,["fstyle","sstyle","smplp"]);
this.a3Z=null;this.arS=null;this.acx=null;this._y=new ib([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.WW=new c1("\u25BC");this.WW.vG();this.ph=new c1("\u25B2");this.ph.vG();this.SE=[this._y,this.WW,this.ph];
for(var Y=0;Y<this.SE.length;Y++){var i=this.SE[Y];this.body.appendChild(i.n);i.parent=this;i.k(Y==0?v.E.p:"click",this.OL,this)}}gU.prototype=new d1;
gU.prototype.Ag=function(i){if(i.jh=="main"){var C=this.SE,m=i.Pz;if(m){this.arS=m.clone();this.acx=JSON.stringify(i.ta);
var e=m.g.slice(0),z=e.length;for(var Y=0;Y<e.length;Y++)e[Y]++;e.sort(function(S,k){return S-k});C[0].WN();
C[1].wo(z!=0);C[2].wo(z!=0);C[0]._H(z==0?"No Paths":z==1?"Path "+e[0]:"Paths "+e.slice(0,3).join(",")+(z>3?"..":""));
if(z!=0){var L=m.g[0],l=I.o.IY(m.$,L),x=m.$[l];this._y.c([3,0,1,2][x.ay])}}else for(var Y=0;Y<C.length;
Y++)C[Y].hH()}else d1.prototype.Ag.call(this,i)};gU.prototype.ll=function(){d1.prototype.ll.call(this);
this._y._()};gU.prototype.OL=function(i){if(i.target==this._y||i.target==this.WW||i.target==this.ph){var C={},m=this.arS,e=m.$,z=m.g,L=I.o.vS(e),l=JSON.parse(this.acx);
z.sort(function(Q,s){return Q-s});if(i.target==this._y){var x=this._y.h();if(x<4)for(var Y=0;Y<z.length;
Y++)e[I.o.IY(e,z[Y])].ay=[1,2,3,0][x];else{if(L<=1)return;m.$=I.o.JB(e);m.g=m.$.length==2?[]:[0];m.Ki=[];
l=[I.ta.T9()]}}else{var S=i.target==this.WW?-1:1,k=[];for(var Y=0;Y<L;Y++){var f=I.o.IY(e,Y),X=f+1+e[f].length;
k.push(e.slice(f,X))}var o=z.slice(0);for(var Y=0;Y<z.length;Y++)o[Y]=Math.max(Y,Math.min(L-1-(z.length-1-Y),o[Y]+S));
if(z.join(",")==o.join(","))return;var A=JSON.parse(JSON.stringify(l));for(var Y=0;Y<z.length;Y++){var P=S==-1?Y:z.length-1-Y,f=z[P],X=o[P];
if(f!=X){var F=k[f];k[f]=k[X];k[X]=F;F=A[f];A[f]=A[X];A[X]=F}}var n=e.slice(0,2);for(var Y=0;Y<k.length;
Y++)n=n.concat(k[Y]);m.$=n;m.g=o;l=A}C.Pz=m;C.ta=l;var R=new eX(v.E.H,!0);R.data={d:v.B.GQ,f:this.f,BR:C};
this.T(R)}};function dZ(){d1.call(this,["fstyle","sstyle","crnr","psnap"])}dZ.prototype=new d1;function jW(){d1.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}jW.prototype=new d1;
function fA(){d1.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}fA.prototype=new d1;
function jx(){d1.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Ax.aopts.c([!1,!0,50,60,0])}jx.prototype=new d1;jx.prototype.ayN=function(Y){var i=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(i[Y])};function hV(){d1.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}hV.prototype=new d1;
function cy(){d1.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}cy.prototype=new d1;
function cw(){dy.call(this,!1,["binop","feat","redge","sesu"])}cw.prototype=new dy(!0);function iF(){bT.call(this,["brush","qsmode","redge","sesu"])}iF.prototype=new bT;
function gC(){f5.call(this);this.ea=[];for(var Y=0;Y<2;Y++){var i=new c1(Y==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.ea.push(i);i.k("click",this.OL,this);this.body.appendChild(i.n)}}gC.prototype=new f5;gC.prototype.OL=function(i){var C;
if(this.ea.indexOf(i.target)==0){C=new eX(v.E.HW,!0);C.data={o0:"make",t6:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{C=new eX(v.E.H,!0);
C.data={d:v.B.c6,pw:"divslice"}}this.T(C)};gC.prototype.ll=function(i){for(var Y=0;Y<this.ea.length;
Y++)this.ea[Y]._()};function i6(){f5.call(this);var i=this.Du=[new c1("\u25BC",null,null,!0),new c1("\u25B2",null,null,!0),new c1([5,4],null,null,!0),new c1(["VAR0...",[15,10,22]],null,null,!0)];
for(var Y=0;Y<4;Y++){var C=i[Y];this.body.appendChild(C.n);C.k("click",this.OL,this)}}i6.prototype=new f5;
i6.prototype.OL=function(i){var C=this.Du.indexOf(i.target),m;if(C==3){m=new eX(v.E.H,!0);m.data={d:v.B.c6,pw:"divslice"}}else{m=new eX(v.E.v,!0);
m.f=$.$r;m.data={d:C==2?"delete":"reorder",dir:C==0?-1:1}}this.T(m)};i6.prototype._=function(){f5.prototype._.call(this);
for(var Y=0;Y<4;Y++)this.Du[Y]._()};function g9(i,C){f5.call(this);if(window.Typr==null||i)return;this.ahx=C;
this.gU=null;this.a9O=d.t("span","");this.aA0=d.t("span","");var m=1,e=this.Lr={h8:new jH(null,24),Tn:new db("X",0,0,"px",0,!1,!0,4),EE:new db("Y",0,0,"px",0,!1,!0,4),gR:new db("W",0,0,["%","px"],2,!1,!0,5),qB:new c1("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),rw:new db("H",0,0,["%","px"],2,!1,!0,5),aAq:new db("\u2221",0,0,"\xB0",m,!1,!0),ama:new db("\u25B1 H",-85,85,"\xB0",m,!1,!0),as7:new db("\u25B1 V",-85,85,"\xB0",m,!1,!0),OD:new ib(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),kh:new ib("Protect",[])};
e.OD.c(1);e.qB.c(!0);for(var z in e){var L=e[z],l=!0;if(C&&(L==e.aAq||L==e.ama||L==e.as7||L==e.OD))l=!1;
if(!C&&L==e.kh)l=!1;if(l)this.a9O.appendChild(L.n);var x=L==e.qB?"click":v.E.p;L.k(x,this.ad_,this)}this.i5=new iw("Split",iw.XA(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.i5.c(-1);this.i5.k(v.E.p,this.ahD,this);this.hj=new hW(!0,!0,!0);this.hj.k(v.E.p,this.ahD,this);
this.hj.parent=this;var S=this.aA0,k=this.hj;S.appendChild(this.i5.n);S.appendChild(k.BS.n);S.appendChild(k.gs.n);
S.appendChild(k.vw.n);S.appendChild(k.FT.n);S.appendChild(k.WO.n);this.L8=new c1([11,9]);this.L8.k("click",this.alg,this);
this.zp=new fe;this.zp.k("click",this.Zs,this)}g9.prototype=new f5;g9.prototype.Ag=function(i){if(i.Es){var C=g9,m=this.Q6;
if(m==null)m=this.Q6=new gw(C.abr(),C.avx(this.f));m._();m.parent=this;m.update(i.xn,i.p7);var e=new eX(v.E.H,!0);
e.data={d:v.B.vs,aA:m,x:i.Es.Xy+2,y:i.Es.UE+1};this.T(e);return}d._l(this.body);this.gU=i;if(i.Lr){var z=i.Lr.TD,L=i.Lr.OT.clone(),l=Math.atan2(-L.e,L.W),x=new hN;
x.rotate(-l);L.concat(x);var S=this.Lr;S.h8.c(i.Lr.dr);S.Tn.c(i.Lr.YG.x);S.EE.c(i.Lr.YG.y);S.gR.c(L.W*(S.gR.uR()=="%"?100:z.m));
S.rw.c(L.o6*(S.rw.uR()=="%"?100:z.J));S.aAq.c(-l*180/Math.PI);S.ama.c(Math.atan(L.xF/L.o6)*180/Math.PI);
S.as7.c(0*180/Math.PI);this.body.appendChild(this.a9O);this.L8.m5();if(i.Lr.H9!=null)S.qB.c(i.Lr.H9)}if(i.mG){if(i.axA)this.i5.c(-1);
this.hj.c(i.mG);this.body.appendChild(this.aA0);this.L8.vG()}if(i.T3)S.kh.bD(i.T3);this.body.appendChild(this.zp.n);
if(i.a2E&&!this.ahx)this.body.appendChild(this.L8.n)};g9.prototype.ad_=function(i){var C=this.Lr,m=this.gU.Lr.TD;
if(i.target==C.qB)C.qB.c(!C.qB.h());else if(C.qB.M5()){var e=C.rw,z=C.gR,L=m.J,l=m.m;if(i.target==C.gR){e=C.gR;
z=C.rw;L=m.m;l=m.J}var x=e.h()/(e.uR()=="%"?100:L);x*=z.uR()=="%"?100:l;z.c(x)}var S=[];for(var k in C)if(C[k]!=C.qB&&C[k]!=C.h8){var x=C[k].h();
if((C[k]==C.gR||C[k]==C.rw)&&x==0){x=.1;C[k].c(x)}if(C[k]==C.gR&&C[k].uR()=="px")x/=m.m/100;if(C[k]==C.rw&&C[k].uR()=="px")x/=m.J/100;
S.push(x)}var f=new b5(S[0],S[1]);if(i.target==C.h8){this.f1({jh:"ctyp",dr:C.h8.h()})}else if(i.target==C.Tn||i.target==C.EE){this.f1({jh:"cen",YG:f})}else{var X=this.gU.Lr.OT.clone(),o=X.clone(),A=Math.atan2(-X.e,X.W);
o.translate(-f.x,-f.y);o.rotate(-A);var P=new hN(o.W,o.e,o.xF,o.o6,0,0);P.Fb();o.concat(P);var F=S[2]/100,n=S[3]/100;
o.concat(new hN(F,F*Math.tan(S[6]*Math.PI/180),n*Math.tan(S[5]*Math.PI/180),n,0,0));o.rotate(-S[4]*Math.PI/180);
o.translate(f.x,f.y);this.gU.Lr.OT=o;this.f1({jh:"trn",Lr:o,iv:C.OD.h(),Ox:C.kh.h(),H9:C.qB.h()})}};
g9.prototype.ahD=function(i){var C=this.i5;this.f1(i.target==C?{jh:"splt",b:C.h()}:{jh:"wrp",mG:this.hj.h()})};
g9.prototype.alg=function(i){this.f1({jh:"switchWarp"})};g9.prototype.Zs=function(i){this.f1({jh:this.zp.h()?"commit":"cancel"})};
g9.prototype.f1=function(i){i.d=v.B.GQ;i.f=this.f;var C=new eX(v.E.H,!0);C.data=i;this.T(C)};g9.prototype.ll=function(){var i=this.Lr;
for(var C in i)i[C]._();d.Nr(i.gR,i.rw);this.zp._();this.i5._();this.hj._();this.L8._()};g9.abr=function(){var i=function(C){var m=!0;
if(C==null||C.g.length==0)m=!1;else{var e=C.g;for(var Y=0;Y<e.length;Y++){if(C.M[e[Y]].add.TySh)m=!1}}return{w:m}};
return[{name:[5,9],Xt:"Shift+Alt+Ctrl + T",mL:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],w:i},{name:[2,9],w:i,mL:!0},{name:[11,9],w:function(C){if(C==null||C.g.length!=1)return{w:!1};
var m=C.M[C.g[0]];return{w:m.add.TySh==null&&!m.yJ()}},mL:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
g9.avx=function(i){if(i==null)i=$.yn;return[{K:v.E.v,f:i,A:{d:"again"}},{K:v.E.H,A:{d:v.B.n$,f:i,Hw:{VU:3}}},{K:v.E.H,A:{d:v.B.n$,f:i,Hw:{VU:4}}},{K:v.E.H,A:{d:v.B.n$,f:i,Hw:{VU:5}}},{K:v.E.H,A:{d:v.B.n$,f:i,Hw:{VU:2}}},{K:v.E.H,A:{d:v.B.n$,f:i,Hw:{VU:1}}},{K:v.E.H,A:{d:v.B.n$,f:i,Hw:{VU:-1}}},{K:v.E.HW,A:$.V.t$(!0,90,!0)},{K:v.E.HW,A:$.V.t$(!0,-90,!0)},{K:v.E.HW,A:$.V.t$(!0,-180,!0)},{K:v.E.HW,A:$.V.t$(!1,"Hrzn",!0)},{K:v.E.HW,A:$.V.t$(!1,"Vrtc",!0)}]};
function jj(){g9.call(this)}jj.prototype=new g9(!0);function hn(){g9.call(this)}hn.prototype=new g9(!0);
function iQ(){g9.call(this,!1,!0)}iQ.prototype=new g9(!0);function kq(){f5.call(this);var i=this.YV=[new ib([12,36],["Rigid",[15,10,0],[24,4]]),new ib([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new db([7,4],0,100,"px"),new em("Show Mesh"),new c1("\u25BC",null,null,!0),new c1("\u25B2",null,null,!0)];
for(var Y=0;Y<i.length;Y++){var C=i[Y];C.parent=this;this.body.appendChild(C.n);C.k(Y<4?v.E.p:"click",this.axI,this)}this.zp=new fe;
this.zp.k("click",this.Zs,this);this.body.appendChild(this.zp.n)}kq.prototype=new f5;kq.prototype.ll=function(){var i=this.YV;
for(var Y=0;Y<4;Y++)i[Y]._();this.zp._()};kq.prototype.Ag=function(i){var i=i.N5;for(var Y=0;Y<4;Y++)this.YV[Y].c(i[Y])};
kq.prototype.axI=function(i){var C=[];for(var Y=0;Y<4;Y++)C[Y]=this.YV[Y].h();var m=this.YV.indexOf(i.target);
if(m<4)this.f1({jh:"prm",N5:C});else this.f1({jh:"moveDepth",amp:m==5})};kq.prototype.Zs=function(i){this.f1({jh:this.zp.h()?"commit":"cancel"})};
kq.prototype.f1=function(i){i.d=v.B.GQ;i.f=this.f;var C=new eX(v.E.H,!0);C.data=i;this.T(C)};function bK(){f5.call(this);
var i=this.Po=[new ib([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var Y=0;Y<i.length;Y++){var C=i[Y];
C.k(v.E.p,this.ty,this);this.body.appendChild(C.n)}}bK.prototype=new f5;bK.prototype.ty=function(i){var C=this.Po,m=[];
for(var Y=0;Y<C.length;Y++)m[Y]=C[Y].h();var e=new eX(v.E.H,!0);e.data={d:v.B.GQ,f:this.f,DO:m};this.T(e)};
bK.prototype.ll=function(){for(var Y=0;Y<this.Po.length;Y++)this.Po[Y]._()};function fa(){dy.call(this,!1,["binop"]);
this.kU=new c1("Remove",!1,null,!0);this.kU.k("click",this.SZ,this);this.kU.n.style.marginRight="2em";
this.amo=new kz("New content");this.m0=new c1("\u2026",!1,null,!0);this.m0.k("click",this.KP,this);this.uN=new c1("Replace",!1,null,!0);
this.uN.k("click",this.SZ,this);this.body.appendChild(this.kU.n);this.body.appendChild(this.amo.n);this.body.appendChild(this.m0.n);
this.body.appendChild(this.uN.n);this.Ty=new k5;this.Ty.parent=this;var i=this.Ty.n=d.t("div","floatcont form label6"),C=this.Lu="euler euler_a ddim dpm k_lms pndm".split(" "),m=this.Yi=[new em("Use default settings"),new kz("Neg. prompt",null,13.25),new dd("Guidance",-20,20),new dd("Steps",10,50),new ib("Sampler",C)];
m[0].k(v.E.p,this._,this);m[0].c(!0);m[2].c(6);m[3].c(20);for(var Y=0;Y<m.length;Y++){i.appendChild(m[Y].n);
d._Z(i)}}fa.prototype=new dy(!0);fa.prototype._=function(){f5.prototype._.call(this);var i=this.Yi;for(var Y=0;
Y<i.length;Y++){i[Y]._();if(Y>0)i[Y].wo(!i[0].h())}};fa.prototype.SZ=function(i){var C=this.Yi,m={},e=["negative_prompt","guidance","steps","sampler"],z=!C[0].h();
if(z){for(var Y=1;Y<C.length;Y++)m[e[Y-1]]=C[Y].h();m.sampler=this.Lu[m.sampler];m.steps=Math.min(m.steps,50)}var L=new eX(v.E.HW,!0);
L.data=$.N9.WA("aiHeal");if(i.target==this.uN){L.data.t6.prmt={t:"TEXT",v:this.amo.h()};if(z)L.data.t6.N5=m}this.T(L)};
fa.prototype.KP=function(i){if(d.bv(this.Ty.n))return;var C=this.m0.n.getBoundingClientRect(),m=new eX(v.E.H,!0);
m.data={d:v.B.vs,aA:this.Ty,x:C.left,y:C.top+C.height+4};this.T(m)};function hu(){k5.call(this);this.n=d.t("div","cmanager");
window.alert=function(e,z){this.a9W(e,z);console.log("Alert: "+e)}.bind(this);window.onblur=function(e){var z=this;
z.fC()}.bind(this);this.HG=0;this.bB=0;this.vh=[];this.fN={};this.De=d.t("div","alertcont");this.n.appendChild(this.De);
this.a7H=d.t("div","alertcont");this.n.appendChild(this.a7H);this.Kk=d.t("div","alertcont");this.ar9=0;
this.Vp=-1;this.atp=null;this.ea=null;var i=this.ac_=d.t("div","alertpanel");i.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Kk.appendChild(i);var C=this.Kj=d.t("input");C.setAttribute("type","text");d.xq(C);C.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
C.addEventListener("input",this.a4Z.bind(this),!1);C.addEventListener("keydown",this.auC.bind(this),!1);
i.appendChild(C);var m=this.a0R=d.t("div","contextpanel scrollable");m.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
m.addEventListener("click",this.ayp.bind(this),!1);i.appendChild(m);d.h_(document.body,this.aBH.bind(this))}hu.prototype=new k5;
hu.prototype.MN=function(){if(d.bv(this.Kk))this.n.removeChild(this.Kk)};hu.prototype.abw=function(i,C){var m=this.atp=[],e=C.awW;
for(var Y=0;Y<ed.data.length;Y++){var z=ed.data[Y],L=[bC.get(z.name)],l=[Y];hu.ff(z.items,L,l,m,i,C,e==null?null:e[Y]==null?0:e[Y])}var x=C.s;
for(var Y=0;Y<x.cJ.length;Y++){var S=x.cJ[Y],k=x.keys[Y];for(var f=0;f<S.length;f++)m.push([["Tools",bC.get(S[f].f.name)],[-1,S[f].f.id],k?k.zm:null])}this.n.appendChild(this.Kk);
var X=this.Kj;X.focus();X.select();this.__()};hu.prototype.a4Z=function(i){this.Vp=-1;this.__()};hu.prototype.__=function(){var i=this.Kj.value.toLowerCase().trim().replace(/  +/g," "),C=this.atp,m=[],e=[],z=i.split(" ");
if(i!="")for(var Y=0;Y<C.length;Y++){var L=C[Y][0],l=[],x=0;for(var S=0;S<L.length;S++)l[S]=-1;for(var k=0;
k<z.length;k++)for(var S=0;S<L.length;S++){var f=L[S].toLowerCase().indexOf(z[k]);if(f!=-1){l[S]=[f,f+z[k].length];
x++;break}}if(x==z.length){m.push(C[Y]);e.push(l)}}var X=[],o=this.a0R;d._l(o);for(var Y=0;Y<m.length;
Y++){var A=m[Y],P=A[0],f=e[Y],F="enab",R="";if(Y==this.Vp)F+=" active";var n=d.t("div",F);X.push(n);
o.appendChild(n);for(var S=0;S<P.length;S++){var Q=f[S],s=z[S],j=P[S];if(Q!=-1)j=j.slice(0,Q[0])+"<span style=\"color:black\">"+j.slice(Q[0],Q[1])+"</span>"+j.slice(Q[1]);
R+=j;if(S<P.length-1)R+=" \uFE65 "}if(A[2]&&(typeof A[2]!="string"||A[2].length==1))R+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+jD.NU(A[2])+"</span>";
n.innerHTML=R}this.ea=[m,X]};hu.prototype.auC=function(i){var C=jD.fG,m=i.code;if(C(m,jD.pn))this.MN();
var e=C(m,jD.vx),z=C(m,jD.h$),L=C(m,jD.RX);if(e||z){this.Vp=Math.max(0,Math.min(this.ea[0].length-1,this.Vp+(e?-1:1)));
this.__()}if(L&&this.Vp!=-1)this.akM(this.Vp)};hu.ff=function(i,C,m,e,z,L,l){if(typeof l=="number"){if(l==0)return;
if(l==1)l=null}for(var Y=0;Y<i.length;Y++){if(l!=null&&(l[Y]==0||l[Y]==null))continue;var x=i[Y],S=C.slice(0),k=m.slice(0),f=bC.get(x.name);
if(x.w){var X=x.w(z,L,Y);if(X.rK)f=X.rK;if(X.w==!1)continue}S.push(f);k.push(Y);if(x.sub)hu.ff(x.sub,S,k,e,z,L,l?l[Y]:null);
else e.push([S,k,x.Xt])}};hu.prototype.ayp=function(i){var C=i.target;if(C.tagName.toLowerCase()=="span")C=C.parentNode;
var m=this.ea[1].indexOf(C);if(m!=-1)this.akM(m)};hu.prototype.akM=function(i){var C=this.ea[0][i][1];
if(C[0]==-1){var m=new eX(v.E.H,!0);m.data={d:v.B.n$,f:C[1]};this.T(m)}else{var e=ed.data[C[0]].SF[C[1]];
for(var Y=2;Y<C.length;Y++)e=e.sub[C[Y]];var z=new eX(e.K,!0);z.f=e.f;z.data=e.A;this.T(z)}this.MN()};
hu.prototype.Oh=function(i,C){this.HG=i;this.bB=C;this.a0R.style["max-height"]=C-120+"px"};hu.prototype.a7$=function(i){var C=d.t("div","alertpanel");
C.textContent=bC.get(i);this.De.appendChild(C);this.fN[JSON.stringify(i)]=C};hu.prototype.at0=function(i){var C=this.fN[JSON.stringify(i)];
this.De.removeChild(C);delete this.fN[JSON.stringify(i)]};hu.prototype.a9W=function(i,C){var m=this.a7H;
for(var Y=0;Y<m.children.length;Y++)if(m.children[Y].textContent==i)return;var e=d.t("div","alertpanel tpanel");
e.textContent=i;e.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");m.appendChild(e);if(C==null)C=1500;
var z=C,L=Math.max(Date.now()+z,this.ar9+z);setTimeout(function(){e.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){m.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},L-Date.now()-30);
setTimeout(function(){m.removeChild(m.firstChild);m.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},L-Date.now());
this.ar9=L};hu.prototype.aBH=function(i){var C=this.vh;for(var Y=C.length-1;Y>=0;Y--){var m=C[Y],e=i.target;
while(e!=null){if(e==m.n){this.fC(m);return}e=e.parentNode}}this.fC();var z=i.target;while(z!=this.Kk&&z!=document.body)z=z.parentNode;
if(z!=this.Kk)this.MN()};hu.prototype.fC=function(i){var C=this.vh;for(var Y=0;Y<C.length;Y++){if(i&&i.amU(C[Y]))continue;
var m=C[Y].n;if(!(C[Y]instanceof gw))d.l8(C[Y],this.n);else this.n.removeChild(m);m.style.height="auto";
d.nP(m,"scrollable");C.splice(Y,1);Y--}};hu.prototype.avO=function(i){this.fC(i.aA);var C=i.aA,m=C.n;
if(this.vh.indexOf(C)!=-1)return;this.vh.push(C);this.n.appendChild(m);var e=this.HG,z=this.bB,L=i.x,l=i.y,x=this.n.getBoundingClientRect(),S=C instanceof gw,k=-1,f=z-2;
if(S||i.FF){var X=C.H3(),o=C.arp();if(S)X=Math.min(X,200);var A=e-X-2,P=z-o-2;if(l<P)k=2;else if(L<A)k=1;
else if(0<l-o-2)k=0;else k=3;if(i.a0w)k=0;if(i.afp)k=2;if(k==2){L=Math.min(L,A)}else if(k==1){l=Math.min(l,P)}else if(k==0){l=l-o-2;
L=Math.min(L,A);f=i.y}else if(k==3){L=L-X-2;l=Math.min(l,P)}}l=Math.max(2,l);var top=Math.round(l-x.y+this.n.offsetTop);
m.style.position="absolute";m.style["z-index"]=10;if(l+C.arp()>f){m.style.height=f-l+"px";d.uc(m,"scrollable");
if(k==3)L-=10}m.style.left=Math.round(L)+"px";m.style.top=top+"px";if(!(C instanceof gw))d.RC(C)};hu.prototype.avG=function(i){var C=i.aA,m=this.vh.indexOf(C);
if(m==-1)return;this.vh.splice(m,1);var e=C.n;if(!(C instanceof gw))d.l8(C,this.n);else this.n.removeChild(C.n)};
hu.prototype.y7=function(){var i=this.vh;return i.length==0?null:i[i.length-1]};hu.prototype.amB=function(){this.avG({aA:this.y7()})};
function d3(){k5.call(this);this.n=d.t("div","confbar")}d3.prototype=new k5;d3.prototype.aon=function(i){i.parent=this;
d._l(this.n);this.n.appendChild(i.n)};function g_(i){k5.call(this);g_.Y2=this;g_.Jl=i;this.os=null;this.s2=d.t("input","");
this.s2.setAttribute("type","file");this.s2.setAttribute("multiple","");this.s2.addEventListener("change",function(C){this.uO(C.target.files,null,this.xx,null);
this.xx=null}.bind(this),!1);document.body.appendChild(this.s2);this.s2.setAttribute("style","display:none");
this.alw=[];this.h2=!1;this.aj6=[];this.XI=!1;this.amw={};this.xx=null}g_.prototype=new k5;g_.Jl=null;
g_.VF=function(i){try{var C={};C[i.type]=i;navigator.clipboard.write([new ClipboardItem(C)])}catch(a8){console.error(a8,a8.message)}};
g_.QU=function(i,C){navigator.clipboard.read().then(function(m){for(var Y=0;Y<m.length;Y++){try{var e=m[Y],z={},L=0,l=0;
for(var x=0;x<e.types.length;x++){var S=e.types[x];L++;e.getType(S).then(function(k){var f=S;new Response(k).arrayBuffer().then(function(X){z[this.rp]=X;
l++;if(l==L)g_.abL(z,i,C)}.bind({rp:this.rp}))}.bind({rp:S}))}}catch(a8){console.error(a8,a8.message)}}}).catch(function(m){})};
g_.aoX=function(i){navigator.permissions.query({name:"clipboard-read"}).then(function(C){i(C.state)})};
g_.abL=function(i,C,m){var e=["text/plain","image/png","text/html","text/plain"];for(var z in i)console.log(z,z.startsWith("text")?W.U8(new Uint8Array(i[z])).slice(0,100)+"...":i[z]);
for(var L=0;L<e.length;L++){var l=e[L],x=i[l];if(x==null)continue;if(l=="image/png"){g_.Jl({name:"image.png"},x,C,m);
return}if(l=="text/plain"){var S=W.U8(new Uint8Array(x));if(L==0)if(!S.startsWith("<!--")&&!S.startsWith("<svg"))continue;
if(m&&S.startsWith("<svg"))continue;var k=new eX(v.E.H,!0);k.data={d:v.B.ak1,b:S};C.T(k);return}if(l=="text/html"){var S=W.U8(new Uint8Array(x)),f=S.indexOf("src=\"");
if(f!=-1&&S.slice(f+5,f+9)!="http"){var X=f+10;while(S[X]!="\"")X++;var o=S.slice(f+5,X);g_.Jl({name:"chart.png"},i$.oR(o).buffer,C,m);
return}}}};g_.prototype.sF=function(i){if(i==null)i=[23,5];var C=JSON.stringify(i),m=this.amw;if(m[C]==null)m[C]=0;
if(m[C]==0){var e=new eX(v.E.H,!0);e.data={d:v.B.dB,rU:i};this.T(e)}m[C]++};g_.prototype.nd=function(i){if(i==null)i=[23,5];
var C=JSON.stringify(i),m=this.amw;if(m[C]==null)m[C]=0;m[C]--;if(m[C]==0){var e=new eX(v.E.H,!0);e.data={d:v.B.k6,rU:i};
this.T(e)}};g_.prototype.agY=function(i,C){this.xx=i;var m=window.showOpenFilePicker;if(m&&window.self==window.top){var e=this;
m({multiple:!0}).then(function(l){var x=[];function S(k){x.push(k);if(x.length==l.length){e.uO(x,null,e.xx,null,l);
e.xx=null}else l[x.length].getFile().then(S)}l[x.length].getFile().then(S)});return}var z=this.s2;if(C)z.setAttribute("accept",C);
else z.removeAttribute("accept");var L=document.createEvent("MouseEvents");L.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
z.dispatchEvent(L)};g_.prototype.RH=function(i){if(i.url.indexOf("photopea.com#i")!=-1||i.url.indexOf("photopea.com/#i")!=-1){this.vN(i.url.split("#i").pop());
return}this.alw.push(i);this.a3P()};g_.prototype.a3P=function(){var i=this.alw;if(i.length==0||this.h2)return;
this.h2=!0;var C=i.shift();this.sF();if(C.hl==null)C.hl={};var m=new XMLHttpRequest;m.dS=C;var e=C.url;
if(C.oH&&!e.startsWith("data:image"))e="mirror.php?url="+encodeURIComponent(e);m.open("GET",e);if(C.Za)for(var z in C.Za)m.setRequestHeader(z,C.Za[z]);
m.responseType="arraybuffer";m.onload=this.awG.bind(this);m.send()};g_.prototype.uO=function(i,C,m,e,z){for(var Y=0;
Y<i.length;Y++){this.sF();var L=i[Y],l=new FileReader;l.dS=L;l.dS.v2=m;l.dS.VR=e;l.ash=C;if(z)l.dS.To=z[Y];
l.onload=this.awG.bind(this);l.onerror=function(x){this.nd()}.bind(this);this.aj6.push([l,L])}this.s2.value=null;
this.auS()};g_.prototype.auS=function(){var i=this.aj6;if(i.length==0||this.XI)return;this.XI=!0;var C=i.shift();
C[0].readAsArrayBuffer(C[1])};g_.prototype.ab_=function(i,C,m){this.sF("Saving ...");this.os=C;setTimeout(m.bind({N7:i,caller:this}),50)};
g_.XN=function(i){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=new Uint8Array(i),e=m.length,z=e%3,L=e-z,l=[],x=0,S=0,k=0;
for(var Y=0;Y<L;Y+=3){x=m[Y];S=m[Y+1];k=m[Y+2];l.push(C[x>>2]+C[(x&3)<<4|S>>4]+C[(S&15)<<2|k>>6]+C[k&63])}if(z==1){x=m[L];
l.push(C[x>>2]+C[(x&3)<<4]+"==")}if(z==2){x=m[L];S=m[L+1];l.push(C[x>>2]+C[(x&3)<<4|S>>4]+C[(S&15)<<2]+"=")}var f=l.join("");
return f};g_.a0a=function(i,C){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(64),x=0,S=0,k=0,X=0;
for(var Y=0;Y<64;Y++)e[Y]=m.charCodeAt(Y);var z=new Uint8Array(i),L=C%3,l=C-L,f=new Uint8Array(Math.floor(C/3)*4+(L==0?0:4));
for(var Y=0;Y<l;Y+=3){x=z[Y];S=z[Y+1];k=z[Y+2];f[X]=e[x>>>2];f[X+1]=e[(x&3)<<4|S>>>4];f[X+2]=e[(S&15)<<2|k>>>6];
f[X+3]=e[k&63];X+=4}if(L==1){x=z[l];f[X]=e[x>>2];f[X+1]=e[(x&3)<<4];f[X+2]=61;f[X+3]=61}if(L==2){x=z[l];
S=z[l+1];f[X]=e[x>>2];f[X+1]=e[(x&3)<<4|S>>4];f[X+2]=e[(S&15)<<2];f[X+3]=61}return f};g_.prototype.awG=function(i){var C,m=i.target.dS;
if(i.target instanceof XMLHttpRequest)C=i.target.response;else C=i.target.result;g_.Jl(m,C,this,i.target.ash);
this.nd();if(i.target instanceof XMLHttpRequest){this.h2=!1;this.a3P()}else{this.XI=!1;this.auS()}};
g_.adT=function(i,C){var m=new XMLHttpRequest;m.open("POST","https://api.imgur.com/3/image",!0);m.rQ=C;
m.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");m.setRequestHeader("Content-type","application/x-www-form-urlencoded");
m.setRequestHeader("Accept","application/json");m.addEventListener("load",g_.apJ);m.send("type=base64&image="+encodeURIComponent(g_.XN(i)));
alert("Saving to Imgur ...",4e3)};g_.apJ=function(i){var C=JSON.parse(i.target.response);if(C.success){if(i.target.rQ)i.target.rQ(C.data.link);
else window.open(C.data.link,"Imgur")}};g_.prototype.vN=function(i,C,m){this.sF();var e=new XMLHttpRequest;
e.responseType="arraybuffer";e.open("GET","https://f000.backblazeb2.com/file/"+(m?"pp-resources":"psdshared")+"/"+i);
e.onload=this.aB1.bind(this);e.send();e.uF=[Date.now(),i,C?i:null,m]};g_.prototype.aB1=function(i){var C=i.target.uF,m=new Uint8Array(i.target.response);
console.log(m.length+" B,",Date.now()-C[0]+" ms");for(var Y=0;Y<m.length;Y++)m[Y]=255-m[Y];m=pako.inflateRaw(m);
var e=JSON.parse(W.U8(m,0,2e3));g_.Jl({name:e.name,KK:C[2]},m.slice(2e3).buffer,this);this.nd();if(!C[3])g_.BP("act=0&id="+C[1])};
g_.prototype.a6z=function(i,C,m,e){if(!(i instanceof ArrayBuffer))throw"e";i=new Uint8Array(i);var z=new Uint8Array(i.length+2e3),o="";
for(var Y=0;Y<2e3;Y++)z[Y]=32;W.ab(JSON.stringify({name:C}),z,0);z.set(i,2e3);i=z;i=pako.deflateRaw(i);
for(var Y=0;Y<i.length;Y++)i[Y]=255-i[Y];i=i.buffer;var L=i.byteLength,l=b3.WF(L),x=~~(609e5/2),S=~~(209e5/2);
if(L>x){confirm("Your file is "+l+". Our limit is "+b3.WF(x)+". Delete some layers and try again.");
return}if(L>S){var k=confirm("Your file is quite large ("+l+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!k)return}var f=sha1(i),X=[];for(var Y=0;Y<20;Y++){var A=parseInt(f.slice(Y*2,Y*2+2),16);X.push(A);
o+=String.fromCharCode(A)}var P=btoa(o).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(g_.axP(P,e)){console.log("file already exists");
if(m)m(P);else window.open("https://www.photopea.com#i"+P+".psd");return}this.sF("Publishing ...");var F=new XMLHttpRequest;
F.uF=[i,f,P,m,e];F.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+P+"&size="+L+"&bname="+e);
F.onload=this.aoF.bind(this);F.send()};g_.axP=function(i,C){try{var m=new XMLHttpRequest;m.open("HEAD","https://f000.backblazeb2.com/file/"+C+"/"+i,!1);
m.send();if(m.status==200)return!0}catch(a8){return!1}return!1};g_.prototype.aoF=function(i){console.log(i.target.response);
var C=JSON.parse(i.target.response),m=i.target.uF,e=new XMLHttpRequest;e.open("POST",C.uploadUrl);e.setRequestHeader("Authorization",C.authorizationToken);
e.setRequestHeader("X-Bz-File-Name",m[2]);e.setRequestHeader("Content-Type","b2/x-auto");e.setRequestHeader("X-Bz-Content-Sha1",m[1]);
e.send(new Blob([m[0]]));e.onload=this.aCj.bind({Oe:this,uF:m})};g_.prototype.aCj=function(i){this.Oe.nd("Publishing ...");
if(this.uF[3])this.uF[3](this.uF[2]);else window.open("https://www.photopea.com#i"+this.uF[2]+".psd");
if(this.uF[4]=="psdshared")g_.BP("act=2&id="+this.uF[2]+"&fileId="+JSON.parse(i.target.response).fileId)};
g_.BP=function(i){var C=new XMLHttpRequest;C.open("GET","/papi/img/update.php?"+i+"&rnd="+Math.random());
C.send()};g_.save=function(i,C){var m=new Uint8Array(i),e=document.createElement("a");if(typeof e.download=="string"){var z=new Blob([m]),L=window.URL.createObjectURL(z);
e.href=L;e.download=C;document.body.appendChild(e);e.click();document.body.removeChild(e)}else{var l="data:application/octet-stream;base64,"+g_.XN(i);
window.open(l)}};function ac(){this.size=16;this.data=I.R(16)}ac.prototype.uG=function(i,C){if(i+C<=this.size)return;
var m=this.size;while(i+C>this.size)this.size*=2;var e=I.R(this.size);for(var Y=0;Y<m;Y++)e[Y]=this.data[Y];
this.data=e};var c8={};c8.gc=function(i,C,m,e){var z=C.split(":"),L=z[0];if(z.length==2){if(L=="jpg")e=[Math.round(100*parseFloat(z[1]))];
if(L=="webp")e=[Math.round(100*parseFloat(z[1])),100,0,!1,!1];if(L=="psd")e=[!0,!0,!1,!1,!1];if(L=="svg")e=z[1].split(",").map(function(x){return x=="true"})}var l=i$.Nn(i,L.toUpperCase(),null,null,e,m);
return l};c8.avd=function(i,C,m){var e=i.I6(),z=C[0];return c8.gc(i,z,m)};c8.aoB=function(){var i=this.N7,C=this.caller,m=i.hl.sO,e=m.formats,z,L;
i.I6();var l=Date.now();if(m.version==1){var x=[],S=0,f=0;for(var Y=0;Y<e.length;Y++){var k=c8.gc(i,e[Y],C.os);
x.push(k);S+=k.byteLength}z=new Uint8Array(2e3+S);var X="{ \"source\": "+JSON.stringify(i.ZG)+", \"versions\": [\n";
for(var Y=0;Y<e.length;Y++){var o=new Uint8Array(x[Y]);X+="\t{\"format\": \""+e[Y].split(":")[0]+"\", \"start\": "+f+", \"size\": "+o.length+" }"+(Y+1<e.length?", ":"")+"\n";
z.set(o,2e3+f);f+=x[Y].byteLength}X+="] }";var A=W.ab(X,z,0);for(var Y=A;Y<2e3;Y++)z[Y]=32;L="application/octet-stream"}else{var P=new ac,F=0,n="",R=encodeURIComponent;
n="p="+R("{ \"source\": "+JSON.stringify(i.ZG)+", \"versions\": [");W.HC(P,F,n);F+=n.length;for(var Y=0;
Y<e.length;Y++){n=R(" {\"format\": \""+e[Y].split(":")[0]+"\", \"data\": \"");W.HC(P,F,n);F+=n.length;
var k=c8.gc(i,e[Y],C.os),Q=g_.a0a(k,k.byteLength),A=Q.length;P.uG(F,A);for(var s=0;s<A;s++){P.uG(F,3);
var j=Q[s];if(j==43){P.data[F]=37;P.data[F+1]=50;P.data[F+2]=66;F+=3}else if(j==47){P.data[F]=37;P.data[F+1]=50;
P.data[F+2]=70;F+=3}else if(j==61){P.data[F]=37;P.data[F+1]=51;P.data[F+2]=68;F+=3}else{P.data[F]=j;
F++}}n=R("\" }"+(Y+1<e.length?", ":""));W.HC(P,F,n);F+=n.length}n=R("] }");W.HC(P,F,n);F+=n.length;z=P.data.slice(0,F);
L="application/x-www-form-urlencoded"}var _=new XMLHttpRequest;_.open("POST",m.url,!0);if(L)_.setRequestHeader("Content-Type",L);
_.addEventListener("load",c8.a2b.bind(this));_.send(new Blob([z.buffer]))};c8.a2b=function(i){this.caller.nd("Saving ...");
var C=i.target.response;if(C.charAt(0)=="{"){C=JSON.parse(C);if(C.newSource)this.N7.ZG=C.newSource;if(C.message)alert(C.message,2e3);
if(C.script){var m=new eX(v.E.H,!0);m.data={d:v.B._i,QC:C.script};this.caller.T(m)}}else alert("Saved. Response: "+C,1500)};
c8.akx=function(i){var C=i.$R,m=C[1].split(".").pop(),e=c8.gc(i,m,null,m=="psd"&&C[0]==1?[!0,!1,!0,!1]:null),z=Storage.QF(C[0]);
return z.atN(C[1],e)};c8.alX=function(i,C){var m=i.tT.bX;if(C==null)C=c8.gc(i,m);an.vl(function(){var e=new XMLHttpRequest,z="https://www.googleapis.com/upload/drive/v3/files/"+i.tT.file.id+"?uploadType=media"+"&"+an.LM();
e.open("PATCH",z,!0);e.addEventListener("load",function(L){var l=JSON.parse(L.target.response);alert(l.name+" updated")});
e.send(C);alert("Saving \""+i.tT.file.name+"\" to Google Drive ...")})};c8.Jl=function(i,C,m,e){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)c8.ah3(i,C,m,e);
else{try{c8.ah3(i,C,m,e)}catch(a8){if(a8=="low_ram"){}else{var z="Error. Please, send your file to support@photopea.com and we will solve it.";
if(i$.ra(C)=="eps")z="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(z,1e4)}}}};c8.ah3=function(i,C,m,e){var z;if(i.name){var L=i.name.lastIndexOf(".");z=L==-1?i.name:i.name.slice(0,L)}else{if(i.url.substring(0,5)=="data:"||i.url.indexOf("googleapis")!=-1)z="image";
else z=i.url.substring(i.url.lastIndexOf("/")+1).split(".")[0];z=z.slice(0,50)}var l=i.name?i.name:i.url,x=new Uint8Array(C),S=i$.ra(C),k=window.gtag;
if(Math.random()<.25&&k&&S!=null&&i$.AL(S))k("event",S,{event_category:"Formats"});if(S==null)S=W.Sq(x,0,4);
if(l&&l.toLowerCase().endsWith(".raw")){var f=new eX(v.E.H,!0);f.data={d:v.B.c6,pw:"importraw",Sk:C,VO:l.split("/").pop()};
m.T(f);return}else if(S=="json"){var X="";for(var Y=0;Y<x.length;Y++)X+=String.fromCharCode(x[Y]);X=decodeURIComponent(escape(X));
var o=JSON.parse(X);if(o.name&&o.url){var f=new eX(v.E.H,!0);f.data={d:v.B.a7K,b:o};m.T(f)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(o)}return}if(S=="html"){var X=W.U8(x,0,x.length),A=new DOMParser,P=A.parseFromString(X,"text/html"),F=P.getElementsByTagName("meta");
for(var Y=0;Y<F.length;Y++){var n=F[Y],R=n.getAttribute("property"),Q=n.getAttribute("content"),s=null;
if(R=="og:image")s=Q;if(R==null&&Q&&Q.startsWith("0;url=/imgres?")){var j=Q.slice(14).split("&");for(var _=0;
_<j.length;_++)if(j[_].startsWith("imgurl"))s=decodeURIComponent(j[_].slice(7))}if(s==null)continue;
var f=new eX(v.E.H,!0);f.data={d:v.B.Df,N5:{url:s,oH:!0,v2:i.v2}};m.T(f)}return}if(i$.AL(S)){var B,N,a=i$.AL(S);
if(i.v2!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(S)!=-1){var f=new eX(v.E.H,!0);if(0<=i.v2)f.data={d:v.B.Tm,target:i.v2,e5:i.VR,n4:C,pM:z};
else{f=new eX(v.E.v,!0);f.data={d:cc.BV,data:new Uint8Array(C),VO:z+"."+S};f.f=$.bH}m.T(f);return}var O=[z,a,S,i,m,e,C];
if(a.yC){var H=d4==0?"psd":"ai";B=new ei(z+(S==H?"":"-"+S)+"."+H);a.pX(C,B,c8._5,O)}else{N=a.pX(C,null,c8._5,O,m)}if(a.xL!=!0)c8._5(B,N,O);
else m.sF();return}var q=new eX(v.E.H,!0);q.data={d:v.B.hf,Sk:C,T_:i.name};var h=i instanceof File&&i.JA!=!0,f=new eX(v.E.H,!0);
f.data={d:v.B.Mc,hl:"add",N5:null,mb:null,aeI:i.JA};if(S=="zip"){var D=Date.now(),T=UZIP.parse(C),p="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var y in T){var b=!1;for(var Y=0;Y<p.length;Y++)if(y.toLowerCase().endsWith("."+p[Y]))b=!0;if(y.startsWith("__MACOSX/")||T[y].length==0)b=!0;
if(b)continue;var g=y.split("/").pop();c8.Jl({name:g},T[y].buffer,m,e)}}else if(S=="jsx"||l&&l.toLowerCase().endsWith(".jsx")){if(h)m.T(q);
var X=W.U8(new Uint8Array(C));f.data={d:v.B._i,QC:X};m.T(f)}else if(S=="otf"){if(h)m.T(q);var u=Typr.parse(C);
f.data.N5=dm.sY;for(var Y=0;Y<u.length;Y++){f.data.mb=u[Y];m.T(f)}}else if(S=="asl"){if(h)m.T(q);var u=fT.uU(C,l);
f.data.N5=dm.nZ;f.data.mb=u.qo;m.T(f);f.data.N5=dm.nx;f.data.mb=u.te;m.T(f)}else if(S=="tpl"){if(h)m.T(q);
var u=gp.uU(C);f.data.N5=dm.go;f.data.mb={fT:u.fT,bh:u.bh,list:[]};m.T(f);if(u.axJ.length!=0){f.data.N5=dm.Tl;
f.data.mb=u.axJ;m.T(f)}if(u.te.length!=0){f.data.N5=dm.nx;f.data.mb=u.te;m.T(f)}f.data.N5=dm.tM;f.data.mb=u.list;
m.T(f)}else{var t="";for(var V in dm.Gh)if(dm.Gh[V][0]==S)t=V;if(t!=""){if(h)m.T(q);f.data.mb=dm.Gh[t][2].uU(C,l);
f.data.N5=t;m.T(f)}else if(C.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(S))}};
c8._5=function(i,C,m){var e=m[0],z=m[1],L=m[2],l=m[3],x=m[4],S=m[5],k=m[6];if(z.xL)x.nd();if(!z.yC){if(C.length==0)return;
if(C[0].t33421||C[0].t50706){I.raw.normalize(C[0],k);console.log(C[0]);var f=new eX(v.E.H,!0);f.data={d:v.B.c6,pw:"rawpea",FY:C[0]};
x.T(f);return}if(S){S(new Uint8Array(C[0].data),C[0].Jw);return}i=i$.Jd(e,C)}i.KK=l.KK;i.Bw=L;i.hl=l.hl;
i.ZG=l.url;i.an=l.an;i.tT=l.tT;i.To=l.To;i.$R=l.$R;if(i.tT)i.tT.bX=L;if(i.M.length!=0){var f=new eX(v.E.H,!0);
f.data={d:l.v2==null?v.B.D7:v.B.Tm,target:l.v2,e5:l.VR,n4:i};x.T(f)}};function cx(i){k5.call(this);this.AG=cx.AG++;
this.UU=i;this.anL=this.akv.bind(this);this.azR=this.a8E.bind(this);this.aaI=this.Jr.bind(this);this.adP=this.ax8.bind(this);
this.aue=this.aqY.bind(this);this.abb=this.a5m.bind(this);this.cA=0;this.apE=0;this.are=0;this.n=d.t("div","panelblock");
this.N6=d.t("div","block");this.qb=d.t("div","collapsed");this.n.appendChild(this.N6);this.hb=-1;this.Km=!0;
this.oh=d.t("div","panelhead");this.N6.appendChild(this.oh);this.rD(this.oh);this.zC=new c1("\u2261");
this.zC.n.setAttribute("style","position:absolute; right:0;");this.zC.k("click",this.a04,this);this.oU=d.t("div","body");
this.N6.appendChild(this.oU);this.wO=[];this.qr=null;this.Gv=null}cx.AG=0;cx.prototype=new k5;cx.Ar=26.1;
cx.prototype.a04=function(i){var C=this.wO[this.hb].Ad(),m=i.currentTarget.n.getBoundingClientRect();
C._();C.update();C.parent=this;var e=new eX(v.E.H,!0);e.data={d:v.B.vs,aA:C,x:m.left,y:m.top+m.height+2};
this.T(e)};cx.prototype.HQ=function(i){var C=this.N6,m=this.oh,e=this.oU;if(d.bv(m))C.removeChild(m);
if(d.bv(e))C.removeChild(e);if(i==0)C.appendChild(m);C.appendChild(e);this.are=i};cx.Vw=function(i){i.stopPropagation();
i.preventDefault()};cx.prototype.akv=function(i){var C=i.dataTransfer.types;if(C[1]!=null&&C[1]!=this.AG+"")return;
cx.Vw(i);var k7=i.currentTarget;if(i.target==k7)d.uc(k7,"highlight")};cx.prototype.a8E=function(i){cx.Vw(i);
var k7=i.currentTarget;if(i.target==k7)d.nP(k7,"highlight")};cx.prototype.rD=function(i){i.addEventListener("dragenter",this.anL,!1);
i.addEventListener("dragleave",this.azR,!1);i.addEventListener("dragover",cx.Vw,!1);i.addEventListener("drop",this.aaI,!1);
i.addEventListener("dragstart",function(C){C.dataTransfer.setData("Text","--panel");C.dataTransfer.setData(this.AG+"","")}.bind(this),!1)};
cx.prototype.Jr=function(i){this.azR(i);var C=null,k7=i.currentTarget,m=this.ada(k7);if(k7==this.oU&&this.hb!=-1)C=this.hb;
else if(k7==this.oh)C=null;else if(m!=-1)C=m;var e=i.dataTransfer.getData("Text");if(e==""||e.startsWith("http"))d.SS(i,this,C);
else if(e=="--panel"){var z=d.CV(i,k7),L=this.wO,l=L.slice(0),Y=this.hb,x=m==-1?L.length:z.x<k7.getBoundingClientRect().width/2?m:m+1;
if(Y==x||Y+1==x||k7==this.oU)return;var S=Y<x?x-1:x,k=L[Y];L.splice(Y,1);L.splice(S,0,k);d._l(this.oh);
for(var f=0;f<L.length;f++)this.oh.appendChild(L[f].As);this.T0(S);var X=[];for(var Y=0;Y<L.length;Y++)X[Y]=l.indexOf(L[Y]);
var o=new eX("shuffleItems",!1);o.data={a44:X};this.T(o)}else if(C!=null&&this instanceof bi){var o=new eX(v.E.H,!0);
o.data={d:v.B.a1R,akg:C};this.T(o)}};cx.prototype.V0=function(){return null};cx.prototype.a23=function(){if(this.V0()){this.oh.style.padding="0px";
this.Gv=this.V0();this.oU.appendChild(this.Gv);this.hI.wo(!1);var i=new eX(v.E.H,!0);i.data={d:v.B.za,b:1};
this.T(i)}};cx.prototype.a6A=function(){if(this.Gv){this.oh.style.padding="";this.oU.removeChild(this.Gv);
this.Gv=null;this.hI.wo(!0);var i=new eX(v.E.H,!0);i.data={d:v.B.za,b:0};this.T(i)}};cx.prototype.ada=function(i){var C=this.wO;
for(var Y=0;Y<C.length;Y++)if(C[Y].As==i)return Y;return-1};cx.prototype.iW=function(){for(var Y=0;Y<this.wO.length;
Y++)this.wO[Y].Lj.m5()};cx.prototype.Yd=function(){return this.hb};cx.prototype.VY=function(){if(this.Km)return;
this.Km=!0;this.n.removeChild(this.qb);this.n.appendChild(this.N6)};cx.prototype.collapse=function(){if(!this.Km)return;
this.Km=!1;this.n.appendChild(this.qb);this.n.removeChild(this.N6)};cx.prototype.Ar=function(){var i=0;
if(this.are==0){i=this.oh.getBoundingClientRect().height+1;i=Math.max(i,cx.Ar)}return i};cx.prototype.alH=function(){return this.Ar()+this.oU.getBoundingClientRect().height};
cx.prototype.Oh=function(i,C){this.oh.style.maxWidth=i+"px";var m=this.Ar();if(this.hb!=-1)this.wO[this.hb].Oh(i,C-m);
return C-m};cx.prototype.P6=function(i,C){if(this.hb!=-1)this.wO[this.hb].P6(i,C)};cx.prototype.bw=function(i,C,m){this.wO[this.hb].bw(i,C,m)};
cx.prototype.b3=function(i){this.a6A();if(this.wO.indexOf(i)!=-1){this.T0(this.wO.indexOf(i));return}i.parent=this;
this.wO.push(i);this.oh.appendChild(i.As);i.As.addEventListener("mouseover",this.adP,!1);this.rD(i.As);
this.qb.appendChild(i.Lj.n);i.Lj.k("click",this.a3F,this);i.k("select",this.ajA,this);i.k(v.E.ek,this.ajN,this);
this.T0(this.wO.length-1)};cx.prototype.ax8=function(i){if(i.buttons==0)return;var C=i.currentTarget,m=C,Y=0;
while((m=m.previousSibling)!=null)Y++;this.apE=Y;C.addEventListener("mouseout",this.aue,!1);this.cA=setTimeout(this.abb,700)};
cx.prototype.aqY=function(i){var C=i.currentTarget,m=C,Y=0;while((m=m.previousSibling)!=null)Y++;C.removeEventListener("mouseout",this.aue);
clearTimeout(this.cA)};cx.prototype.a5m=function(i){this.T(new eX(v.E.a0q,!1))};cx.prototype.a7F=function(i){return this.apE};
cx.prototype.Ne=function(Y){var i=new eX(v.E.ek,!1);i.data={Ux:Y};this.T(i);var C=this.wO[Y];this.wO.splice(Y,1);
this.oh.removeChild(C.As);this.qb.removeChild(C.Lj.n);C.As.className="";C.Lj.removeEventListener("click",this.a3F,this);
C.Lj.m5();C.removeEventListener("activate",this.ajA);C.removeEventListener(v.E.ek,this.ajN);var m=this.hb;
if(Y<m)m--;else if(Y==m&&Y==this.wO.length)m--;this.T0(m);if(this.wO.length==0)this.a23()};cx.prototype.asI=function(){return this.wO.length};
cx.prototype.mr=function(){if(this.wO.length!=0)this.wO[this.hb].mr()};cx.prototype.T0=function(i,C){if(C==null)C=!0;
for(var Y=0;Y<this.wO.length;Y++)this.wO[Y].As.className="";if(this.qr)this.oU.removeChild(this.qr);
this.qr=null;this.hb=i;if(i==-1)return;var m=this.wO[this.hb];this.qr=m.wF;this.oU.appendChild(m.wF);
m.As.className="active";if(!this.Km){this.T(new eX("showFloat"));this.wO[i].Lj.vG()}if(C)this.T(new eX(v.E.p,!1));
m.tx();var e=this.zC.n;if(e.parentNode)this.oh.removeChild(e);if(m.Ad())this.oh.appendChild(e);var z=new eX(v.E.H,!0);
z.data={d:v.B.a7};this.T(z)};cx.prototype.ajA=function(i){if(this.UU&&!this.UU.ap7())return;var Y=this.wO.indexOf(i.currentTarget);
this.T0(Y)};cx.prototype.ajN=function(i){if(this.UU&&!this.UU.ap7())return;var Y=this.wO.indexOf(i.currentTarget);
this.Ne(Y)};cx.prototype.a3F=function(i){var C=this.wO.indexOf(i.currentTarget.parent);if(this.wO[C].Lj.M5())this.T(new eX("hideFloat"));
else this.T0(C)};cx.prototype.asf=function(i){this.T(i)};function bi(i){cx.call(this,i);this.HG=0;this.bB=0;
d.xd(this.oh,this.aor.bind(this));this.$Q=0;this.agG=this.a2G.bind(this);this.rD(this.oU);this.DM=["default;"];
this.hI=new d.rC(this.oU);this.$m=new fo(!0);this.$m.parent=this;this.KC=this.$m.n;fo.JN(this.$m)}bi.prototype=new cx;
bi.prototype.aor=function(i){if(i.target!=this.oh)return;var C=this.$Q;this.$Q=Date.now();if(Date.now()-C>300)return;
var m=new eX(v.E.H,!0);m.data={d:v.B.c6,pw:"newproject"};this.T(m)};bi.prototype.DK=function(i,C){if(C)this.DM.push(i);
else{var m=this.DM.length-1;if(this.DM[m]==i)return;this.DM[m]=i}this.jR()};bi.prototype.axB=function(){this.DM.pop();
this.jR()};bi.prototype.jR=function(){var i=this.DM[this.DM.length-1];this.hI.bw(i,this.Ey)};bi.prototype.P6=function(i,C){cx.prototype.P6.call(this,i,C);
this.$m.P6(i,C);if(!i.rJ){}};bi.prototype._=function(){cx.prototype._.call(this);this.$m._()};bi.prototype.bw=function(i,C){for(var Y=0;
Y<C.length;Y++){var m=C[Y];this.wO[Y]._n(m.name+(m.mZ()?" *":""))}cx.prototype.bw.call(this,i,C)};bi.prototype.V0=function(){return this.KC};
bi.prototype.Oh=function(i,C){if(this.wO.length==0)C+=cx.Ar-1;this.HG=i;this.bB=C;C=cx.prototype.Oh.call(this,i,C);
this.Ey="height:"+C+"px; width:"+i+"px; overflow:hidden; position:relative;";this.jR();this.$m.Oh(i,C)};
bi.prototype.b3=function(i){cx.prototype.b3.call(this,i);i.As.addEventListener("click",this.agG,!1)};
bi.prototype.Ne=function(Y){var i=this.wO[Y];d.uh(i.As,this.agG);cx.prototype.Ne.call(this,Y)};bi.prototype.a2G=function(i){var C=this.$Q;
this.$Q=Date.now();if(Date.now()-C>300)return;var m=this.ada(i.currentTarget),e=this.wO[m].n4.name,z=new eX(v.E.H,!0),L={K:v.E.v,f:$.bH,A:{d:cc.s7}};
z.data={d:v.B.c6,pw:"namewindow",GZ:e.slice(0,e.length-4),Jo:L};this.T(z)};function iB(i){k5.call(this);
if(i)return;fn.a61(1);this.n=d.t("div","flexrow app");this.ZK=d.t("div");this.n.appendChild(this.ZK);
setTimeout(function(){var m=window.hideCap;if(m)m()},25e3);this.HU=new jD;window.addEventListener("blur",function(m){this.HU.reset()}.bind(this),!1);
window.addEventListener("resize",this.ov.bind(this),!1);var C=this.ZK;this.kt=new d$;this.kt.parent=this;
C.appendChild(this.kt.n);this.V3=new hu;this.V3.parent=this;C.appendChild(this.V3.n);this.cR=new b6(!0);
this.cR.parent=this;C.appendChild(this.cR.n);this.k(v.E.H,this.NZ,this);this.zK=this.TY.bind(this);window.requestAnimationFrame(this.zK)}iB.prototype=new k5;
iB.prototype.TY=function(i){this.zR();window.requestAnimationFrame(this.zK)};iB.prototype._=function(){};
iB.prototype.ov=function(i){var C=window.innerWidth,m=window.innerHeight;this.Oh(C,m)};iB.prototype.Oh=function(i,C){this.V3.Oh(i,C);
this.kt.Oh(i,C)};iB.prototype.NZ=function(i){var C=i.data.d;if(C==v.B.vs)this.V3.avO(i.data);if(C==v.B.E_)this.V3.avG(i.data);
if(C==v.B.dB)this.V3.a7$(i.data.rU);if(C==v.B.k6)this.V3.at0(i.data.rU);if(C==v.B.ze)this.V3.fC()};function cW(){iB.call(this);
this.Xn={x:0,y:0,$G:!1};this.u5=!1;this.BW=!1;this.cm=null;this.aCy=0;this.and=!1;this.d6=0;window.onmessage=function(f){if(Storage.agc(f.source))return;
if(f.data instanceof ArrayBuffer){var X=i$.ra(f.data),o=i$.AL(X);g_.Jl({url:"file"},f.data,this);if(o==null)this.mz()}else if(f.data instanceof Object||f.data.startsWith("{")||f.data.startsWith("amp-")||f.data.startsWith("0=goog")||f.data.startsWith("3PCoo")||f.data.startsWith("ima://")){}else if(f.data.startsWith("--ur ")){var A=f.data.split(" ").pop(),s=null;
A=A.length==0?[]:A.split(",");console.log(A);var P=this.Zk.mb,F=new eX(v.E.H,!0);F.data={d:v.B.Mc,N5:dm.e1,yu:A};
this.T(F);var n=A,R=P;if(R.length>n.length){var Q=R;R=n;n=Q}for(var Y=0;Y<n.length;Y++)if(R.indexOf(n[Y])==-1)s=n[Y];
g_.BP("act=3&id="+s+"&dif="+(n==A?1:-1));alert((n==A?"Resource added.":"Resource removed.")+" "+s)}else if(f.data.startsWith("--ot ")){if(this.kt.y7())this.kt.y7().close();
this.fo.vN(f.data.split(" ").pop(),!0)}else if(f.data.startsWith("--et ")){}else{console.log(f.data);
var F=new eX(v.E.H,!0);F.data={d:v.B._i,QC:f.data};this.T(F);this.mz()}}.bind(this);window.onbeforeunload=function(f){this.aAr();
for(var Y=0;Y<this.dM.length;Y++)if(this.dM[Y].mZ())return this.dM[Y].name}.bind(this);window.setInterval(this.aaP.bind(this),5*60*1e3);
var i=this;if(window.indexedDB&&(!hQ.Vk()||document.hasStorageAccess==null)){var C={uG:window.indexedDB.open("pp",1)};
C.uG.onupgradeneeded=function(f){var X=f.target.result,o=X.createObjectStore("rsrc",{keyPath:"k"})};
C.uG.onsuccess=function(f){var X=i.Zk.sR.ks=f.target.result,o=X.transaction(["rsrc"],"readwrite").objectStore("rsrc"),A=o.get("fs0");
A.onsuccess=function(f){if(f.target.result){var n=i.Zk.sR.kB=f.target.result.fset;for(var R in n){if(!R.endsWith(".jsx")&&!R.endsWith(".psd"))g_.Jl({url:R,JA:!0},n[R],i)}}};
var P=new BroadcastChannel("pp-tabs"),F=[];P.onmessage=function(f){if(f.data=="id")P.postMessage(i.Zk.sR.id);
else F.push(f.data)};P.postMessage("id");setTimeout(function(){var o=X.transaction(["rsrc"],"readwrite").objectStore("rsrc"),n=o.getAllKeys();
n.onsuccess=function(){var R=n.result,Q=[],s=0;for(var Y=0;Y<R.length;Y++){if(R[Y]=="fs0")continue;if(F.indexOf(R[Y])!=-1)continue;
Q.push(R[Y])}for(var Y=0;Y<Q.length;Y++){var A=o.get(Q[Y]);A.onsuccess=function(f){if(f.target.result){var j=f.target.result.fset;
for(var _ in j){try{g_.Jl({url:_,JA:!0},j[_],i);var B=i.M2();B.Ga=B.e6=-1}catch(f){console.log(f)}}s++;
if(s==Q.length)for(var Y=0;Y<Q.length;Y++){var A=o.delete(Q[Y])}}}}}},200)}}var m=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],e=d.aJ[ch.qh][ch.to];
for(var Y=0;Y<m.length;Y++){var z=d.cF(m[Y]);if(e.indexOf(z)!=-1){var L=d.aJ[ch.qh][ch.oU],l=d.cF("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
d._l(L);L[ch.a8j]=l;return}}this.s=cW.aus();this.Zk={s:this.s,a8P:!1,jw:null,N4:0,iy:{bh:[],fT:[],list:[],n_:null},JS:[],a0n:[],Wc:[],Y7:[],tb:[],VN:[],aqi:[],a56:[],tb:[],Qu:[cV.TQ()],Qb:[],ai:[],Tj:null,Wn:0,$_:jt.$_.TQ(),ZF:{C9:1,Zc:JSON.parse(JSON.stringify(jt.$i[0]))},Co:jt.lc.TQ(),em:[null].concat(jt.$i),QD:[null].concat(jt.$i),FV:new gA(function(f){var X=new eX(v.E.H,!0);
X.data={d:v.B.Df,N5:{url:"rsrc/fonts/"+f}};this.T(X)}.bind(this)),c4:{JR:[],hU:null,t7:null},font:null,Tf:[],mb:[],aca:{},Dm:0,yv:16777215,JC:!1,B4:!0,Cv:{Nb:!0,mH:!1,o4:!0,DI:!0,tc:!0,xE:!0,I0:20,oB:0,i1:0,d5:0,He:8421504,Gi:65535},dZ:!0,Cn:[!0,!0,!1,!0,!0],Ef:[0,1,2,3,5,6,7,9,10,16,17,100],qW:1,zi:!0,hP:{},rJ:!0,a7j:!1,compact:!1,gY:1,Xo:0,KC:!0,CN:null,sR:{id:"ts"+Math.round(Math.random()*16777215),a6s:!1,aqp:!1,kB:{},fk:{},ks:null},a94:0,atw:null,JK:null,anT:null,bC:null};
gA.Ln.oG(this);this.auT={TD:new j2,zM:new b5};this.Zk.c4=e7.avh();this.z6=new ed;this.SH=new d3;this.JO=new ai(this.s,!0);
this.Nz=new hc;this.hw=new bi(this);this.j8=d.t("div");this.G2=!1;this.jC=this.a65.bind(this);d.uc(this.hw.n,"mainblock");
this.cR.parent=this.z6.parent=this.SH.parent=this.JO.parent=this.Nz.parent=this.hw.parent=this;this.hw.k(v.E.p,this.BE,this);
this.hw.k(v.E.ek,this.azs,this);this.hw.k("shuffleItems",this.a9F,this);this.hw.k(v.E.a0q,this.akp,this);
this.k("mouse",this.avp,this);this.k(v.E.v,this.X4,this);this.k(v.E.HW,this.axr,this);document.body.addEventListener("keydown",this.N0.bind(this),!1);
window.addEventListener("keyup",this.Ny.bind(this),!1);window.addEventListener("paste",this.ad2.bind(this),!1);
window.addEventListener("copy",this.abo.bind(this),!1);window.addEventListener("wheel",function(f){if(f.ctrlKey)f.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(f){if(window.innerWidth>400)f.preventDefault();
this.Zk.CN=f}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(f){if(f.a9v){console.log("Service worker installing")}else if(f.aqM){console.log("Service worker installed")}else if(f.active){console.log("Service worker active")}}).catch(function(f){console.log("Registration failed with "+f)})}this.bW=0;
this.dM=[];this.fo=new g_(c8.Jl);this.fo.parent=this;var x=this.ZK,S=this.C_=d.t("div");S.appendChild(this.z6.n);
S.appendChild(this.SH.n);this.cR.awM(S);var k=this.apN=d.t("div","flexrow");x.appendChild(k);k.appendChild(this.JO.n);
k.appendChild(this.hw.n);k.appendChild(this.Nz.n);this.fo.RH({url:"rsrc/basic/basic.zip"});this.NP($.z_);
a8.oG(this.ah5.bind(this))}cW.prototype=new iB(!0);cW.prototype.mz=function(i){var C=new eX(v.E.H);C.data={d:v.B.MD,N5:i?i:"done"};
this.T(C)};cW.prototype.aaP=function(){var i=this.Zk.sR,m=!1;if(i.ks==null)return;var C=this.dM;for(var Y=0;
Y<C.length;Y++){var e=C[Y];if(e.e6!=e.f0){var z=Date.now(),L=i$.Nn(e,"psd",0,0,[!0,!1,!0,!1,!0]);e.e6=e.f0;
i.fk[e.name]=L;m=!0;console.log(Date.now()-z,"saving "+e.name,L.byteLength)}}if(m){var l=new eX(v.E.H);
l.data={d:v.B.Mc,N5:dm.bK,aeH:!0};this.T(l)}};cW.prototype.ah5=function(){d.aJ[ch.Ru](this.aC3.bind(this),Math.pow(Math.PI,8)+d.aJ[ch.a3t][ch.alO]()*1e4);
var i=a8.h0();if(i!=null&&i.globals!=null)this.Qn(i.globals);else{this.and=!0;var C=bC.eC();if(C&&C.length!=0){var m=C[0];
bC.Cy(m,this.jC)}}if(!this.vJ()){var e=d.alf();if(e==0)this.a7j=!0;if(e==2)this.Zk.rJ=!1;if(e!=1&&Math.random()<.002)d.ajv()}if(!hQ.Vk()||!this.Zk.rJ){this.a5Q();
this.cj()}else{var z=d.Wb(d.aJ[ch.by]);z[ch.cM](ch.vu,this.afS.bind(this));z[ch.XX](d.wq("61="),d.wq("_MYOqDLGJa;A:6"));
z[ch.xM]()}this.u5=!0;this.mz()};cW.prototype.afS=function(i){var C=JSON.parse(i.target[ch.Rr]),m=d.aJ[ch.R$][ch.aim]()/1e3,e=d.aJ[ch.qh][ch.to],z=!1;
for(var L in C)if(L.indexOf(".")!=-1&&e.indexOf(L)!=-1&&parseInt(C[L])>m)z=!0;if(z)this.Zk.rJ=!1;this.a5Q();
this.cj()};cW.prototype.cj=function(i){this.BW=!0;if(!this.Zk.KC)this.hw.KC=null;else if(this.dM.length==0)this.hw.a23();
this.FB(dm.cX);this._();this.ov();this.Nz.bw(this.M2(),this.dM,this.Zk)};cW.prototype.Qn=function(i){var C=this.Zk;
if(i.fcolor!=null)C.Dm=i.fcolor;if(i.bcolor!=null)C.yv=i.bcolor;if(i.rulers!=null)C.JC=i.rulers;if(i.extras!=null)C.B4=i.extras;
if(i.favFam!=null)C.Tf=i.favFam;if(i.rsrc!=null)C.mb=i.rsrc;if(i.font!=null)C.c4.JR[0].Name=i.font;if(i.panels!=null)C.Ef=i.panels;
if(i.as!=null)C.gY=i.as;if(i.co!=null)C.Xo=i.co;if(i.eparams){var m=i.eparams,e=C.Cv;if(m.guides!=null)e.Nb=m.guides;
if(m.grid!=null)e.mH=m.grid;if(m.gsize!=null)e.I0=m.gsize;if(m.gunits!=null)e.oB=m.gunits;if(m.gtype!=null)e.i1=m.gtype;
if(m.runits!=null)e.d5=m.runits;if(m.gcol!=null)e.He=m.gcol;if(m.gucol!=null)e.Gi=m.gucol;if(m.sels!=null)e.o4=m.sels;
if(m.paths!=null)e.DI=m.paths;if(m.pgrid!=null)e.tc=m.pgrid;if(m.slices!=null)e.xE=m.slices}if(i.lang!=null)bC.Cy(i.lang,this.jC);
if(i.theme!=null)C.qW=i.theme;if(i.topt||C.dQ){var z=i.topt?i.topt:{},L=C.dQ?C.dQ:{};for(var l in this.s.map){if(l>=103)continue;
var x="t"+l;if(z[x]||L[x])this.s.map[l].f.Cd(z[x],L[x],this)}}};cW.prototype.a5Q=function(){if(this.Zk.a8P)return;
this.Zk.a8P=!0;var i=null,C=window.location.href,m=C.indexOf("="),e=C.indexOf("#");if(m!=-1)i=C.substring(C.indexOf("?")+1,m);
if(e!=-1&&e!=C.length-1){i="p";m=e}if(e!=-1&&C[e+1]=="i"){this.fo.vN(C.slice(e+2,e+10))}else if(C.slice(e+1).startsWith("goog_rewarded")){}else if(e!=-1&&C[e+1]=="t"){this.fo.vN(C.slice(e+2,e+10).split("").reverse().join(""),!0)}else if(i=="p"||i=="state"){var z=C.substring(m+1,C.length);
z=JSON.parse(decodeURI(z));if(i=="p"){if(z.script=="alert(73)")this.Zk.rJ=!1;if(z.script)bY.aok(this);
if(z.server)this.cm=z.server;if(z.resources)for(var Y=0;Y<z.resources.length;Y++)this.fo.RH({url:z.resources[Y]});
if(z.files)for(var Y=0;Y<z.files.length;Y++)this.fo.RH({url:z.files[Y],hl:{sO:z.server,aqE:z.script}});
var L=z.environment;if(L==null)L={};if(L.plugins!=null)this.Nz.aBo(L.plugins);if(L.localsave!=null)this.Zk.zi=L.localsave;
if(L.customIO!=null)this.Zk.hP=L.customIO;if(L.vmode!=null){var l=L.vmode;if(l==1)this.Zk.compact=!0;
if(l==2)this.HQ(1)}if(L.intro!=null)this.Zk.KC=L.intro;if(L.menus!=null)this.Zk.awW=L.menus;if(L.tmnu!=null)this.Zk.dQ=L.tmnu;
if(L.panels!=null)this.Zk.Ef=L.panels;if(L.showtools!=null){var x=L.showtools,S=x.indexOf(this.Zk.jw);
this.Zk.tF=x;if(S==-1)this.NP(x[0])}if(L.phrases!=null)bC.a8k(L.phrases);if(L.autosave!=null){this.Zk.gY=0;
window.setInterval(function(){var X=new eX(v.E.H);X.data={d:v.B.pt};this.T(X)}.bind(this),L.autosave*1e3)}if(L.icons!=null){for(var k in L.icons)if(L.icons[k].indexOf("\"")==-1){if((k==ch.aiR||k==ch.asT)&&this.Zk.rJ)continue;
PIMG[k]=L.icons[k];PIMG["__"+k]=!0}}this.Qn(L);if(z.files==null&&z.script){fL.nk(z.script,this);this.mz()}}else if(i=="state"){var f=this.fo;
if(z.action=="create"){var X=new eX(v.E.H);X.data={d:v.B.c6,pw:"newproject",ax4:z.folderId};this.T(X)}if(z.action=="open"){for(var Y=0;
Y<z.ids.length;Y++)an.vl(function(){var A="https://www.googleapis.com/drive/v3/files/"+this.afh,P=new XMLHttpRequest;
P.open("GET",A);P.setRequestHeader("Authorization",an.wQ());P.send();P.onload=function(F){var n=JSON.parse(F.target.response);
f.RH({url:A+"?alt=media",name:n.name,tT:{file:n,bX:""},Za:{Authorization:an.wQ()}})}}.bind({afh:z.ids[Y]}));
alert("Loading files from Google Drive ...")}}}else{var o=window.launchQueue;if(o){var f=this.fo;o.setConsumer(function(A){var P=A.files;
console.log(P);for(var Y=0;Y<P.length;Y++){var F=P[Y];F.getFile().then(function(n){f.uO([n],null,null,null,[F])})}})}}};
cW.prototype._=function(){var i=document.getElementById("cap");if(i){var C=!1,m=i.getElementsByTagName("h1")[0],L=0,x=0,S=0;
m.textContent=C?"Photopea":bC.get([0,17,0]);var e=i.getElementsByTagName("p"),z=d._N(bC.get([0,17,1])),l=["PSD","XCF","Sketch","XD","CDR"];
for(var Y=0;Y<l.length;Y++)z=z.replace(l[Y],"<b>"+l[Y]+"</b>");if(!C)z+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
e[0].innerHTML=z;z=bC.get([0,17,2])+" "+bC.get([0,17,3]);for(var Y=0;Y<z.length;Y++){var k=z[Y];if(k=="<")x++;
if(k==">")S++}if(!C&&x*S==9){var f=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var Y=0;Y<3;Y++){var X=z.indexOf("<",L),o=z.indexOf(">",L),A=z.slice(0,X)+"<a href=\""+f[Y]+"\" target=\"_blank\">"+z.slice(X+1,o)+"</a>";
L=A.length;z=A+z.slice(o+1)}e[1].innerHTML=z}else e[1].innerHTML=bC.get([0,17,2])}var P=document.getElementById("sponsors");
if(P)P.textContent=bC.get([0,17,4]);this.cR._();this.z6._();this.Nz._();this.JO._();this.kt._();this.hw._();
for(var F in this.s.map)if(this.s.map[F].po)this.s.map[F].po._()};cW.prototype.vJ=function(){var i=d.aJ[ch.UR][ch.ayx];
if(i&&i[1]){if(i[1].endsWith(ch.wq("UUPSDm@ID")))return!0}return 4<d.aJ[ch.UR][ch.Yg][ch.a5A](ch.wq("'$!|"))};
cW.prototype.Oh=function(i,C){i=Math.floor(i);C=Math.floor(C);var m=d.wq("WUMK&AM"),e=ch.W5,z=d.aJ[ch.qh],L=Math.max(i,window.screen.width),l=Math.max(C,window.screen.height),X=0;
if(hQ.Y0==null)hQ.Y0=Math.min(L,l)<500||L<750?0:L<1500?1:2;var x=hQ.Y0,S=!this.BW||this.vJ()||!this.Zk.rJ||a8.md()||x==0;
if(!S&&hQ.Vk()){if(this.ahE==null)this.ahE=Math.random()<.5;S=this.ahE}if(S){if(x!=0&&d.aJ[m]&&this.BW)d.aJ[m]()}else{if(x==0)C-=60;
else i-=x==1?180:320}iB.prototype.Oh.call(this,i,C);if(S&&this.G2){this.n[ch.Mh](this.j8);d._l(this.j8);
this.G2=!1}if(!S&&!this.G2){var k=function(P){if(Math.random()<.002){a8.event(hQ.qN()?"gota_0":"gota_1")}this.alV(i,C);
var F=x==0?z[ch.oU]:this.n;F.appendChild(this.j8);this.j8[ch.$B](e,d.wq("_MMJLNDfKCAg")+(x==0?10:10)+d.wq("_d$ebOS?I:==Ba-+# }$M"));
this.j8[e][d.wq("_MMJLND&<:E")]=(x==0?0:19)+d.wq("_d");this.j8[e][d.wq("i5WJHX")]=x==0?0:1}.bind(this);
function f(){hQ.aAI(k)}setTimeout(f,2300);this.G2=!0}if(d.bv(this.z6.n))X+=31;if(d.bv(this.SH.n))X+=32;
this.cR.a3o=this.Zk.rJ&&this.BW;this.cR.Oh(i,X);var o=C-X,A=d.wq("_d");this.j8[e][ch.aBv]=(x==0?100>>>1:C-11)+A;
this.j8[e][ch.Ng]=(x==0?i:6*Math.pow(10,2))+A;if(d.bv(this.JO.n))this.JO.Oh(i,o);this.Nz.Oh(i,o);this.hw.Oh(i-this.JO.H3()-this.Nz.H3(),o)};
cW.prototype.alV=function(i,C){var m=function(){var e=new eX(v.E.H);e.data={d:v.B.c6,pw:"account"};this.T(e)}.bind(this);
hQ.alW(i,C,this.j8,m)};cW.prototype.abo=function(i){console.log("systemCopy")};cW.prototype.ad2=function(i){if(d.Il())return;
console.log("systemPaste");if(!i.clipboardData)return;var C=i.target.tagName.toLowerCase(),m=i.clipboardData.items;
if(m==null)return;var e=this.a9u.bind(this);for(var Y=0;Y<m.length;Y++){var z=m[Y],L=z.getAsFile();if(z.type.indexOf("image")!=-1){if(L.size==this.Zk.a94)return;
this.Zk.a94=L.size;if(L){L.name="image.png";this.fo.uO([L],e)}}}};cW.prototype.a9u=function(i,C){var m={buffer:i,rect:C},e=this.Zk;
if(d.Il()){var z=this.auT,L=z.TD;if(L.m==C.m&&L.J==C.J){m.rect=L;m.zM=z.zM}}else{if(e.JK){var l=new eX(v.E.v,!0);
l.f=$.Z9;l.data={d:"h_stepbck"};this.T(l)}}e.JK=m;var l=new eX(v.E.H,!0);l.data={d:v.B.nT,a1g:!0};this.T(l)};
cW.prototype.aoQ=function(){if(this.kt.y7()!=null)alert(bC.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
cW.prototype.X4=function(i){var C=this.M2();if(C==null){alert(bC.get([15,7,7]));return}var m=i.f==$.dq||i.f==$.BM;
if(this.kt._$()&&i.W0!=!0&&!m){this.aoQ();return}var e=this.s,z=this.Zk.jw,L=i.f;if(L==$.ck&&z==$.IJ)L=$.IJ;
if(z!=L&&e.map[z].f._$()&&!m&&!(z==$.g6&&L==$.uz)){console.log("disabling",z);e.map[z].f.disable(C,this,this.Zk,this.HU)}var l=this.s.map[L].f;
l.X4(i.data,this,C,this.HU,this.Zk)};cW.prototype.axr=function(i){var C=this.Zk;if(i.data.iO!=!0)h3.ajd({o0:i.data.o0,t6:i.data.t6},this,C,this.M2());
var m=C.Tj,e=C.ai;if(m==null)return;var z={aip:!1,U$:"Step",acy:0,w:!0,exp:!1,o0:i.data.o0};if(m[2]==null)m[2]=e[m[0]].eo[m[1]].eo.length-1;
if(i.data.t6)z.t6=i.data.t6;e[m[0]].eo[m[1]].eo.splice(m[2]+1,0,z);m[2]++;this.FB(dm.v)};cW.prototype.NZ=function(i){if(this.a7j){i.data=0;
return i.type}if(d.aJ.__csrf&&!a8.md()){var C=ch.wq("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(C,5e3);return}iB.prototype.NZ.call(this,i);var m=i.data.d;if(m==v.B.bF)h3.a9o(this.M2(),this.Zk.ai,i.data.BR[0],i.data.BR[1],this);
if(m==v.B.a1R){this.a1F(i.data.akg)}if(m==v.B.aua){this._();this.ov()}if(m==v.B.a7)this.ov();if(m==v.B.k3)if(this.Zk.CN){this.Zk.CN.prompt();
this.Zk.CN=null}if(m==v.B.TF)this.hw.DK(i.data.uu,i.data.push);if(m==v.B.a1h)this.hw.axB();if(m==v.B.ayE)this.BE(null,i.data.dir);
if(m==v.B.P4)this.hw.Ne(this.dM.indexOf(i.data.N7?i.data.N7:this.M2()));if(m==v.B.za){if(i.data.rE)navigator.keyboard.lock(["Escape"]);
if(i.data.rE&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();else document.body.requestFullscreen()}else if(i.data.rE)document.body.webkitRequestFullScreen();
if(i.data.b!=null)this.HQ(i.data.b)}if(m==v.B.aqs){if(i.data.$G)this.HU.wT(i.data.akX);else this.HU.WL(i.data.akX);
this.xC(i.data.$G?"down":"up")}if(m==v.B.a7K){var e=i.data.b;this.Nz.aBo([e]);this._()}if(m==v.B.ss){var z=this.M2(),L=z.I6().slice(0),l=z.M[z.g[0]],x=new j2(0,0,z.m,z.J),S=ei.Eu()+"-d71c-11e5-b1ae-a548a96e5f9f",k=new eX(v.E.H,!0);
if(i.data.N5==0){var f={name:"Default/"+z.name.split(".")[0],id:S,GK:[L,x]};k.data={d:v.B.Mc,hl:"add",N5:dm.nZ,mb:[f]};
this.T(k)}if(i.data.N5==1){var X=I.R(x.P()*4);I.eS(X,4294967295);I.l.Qv("norm",L,x,X,x,x,1);var o=I.R(x.P());
I.Gt(X,o);I.Fb(o);var A=I.yP(o,x);if(A.bs())A=x;var P=I.R(A.P());I.Vo(o,x,P,A);A.x=A.y=0;var F={TD:A,id:S,GK:[P,A]},n=iH.UD(S),R=n.Brsh.v;
R.Dmtr.v.val=Math.max(A.m,A.J);R.Spcn.v.val=10;k.data={d:v.B.Mc,hl:"add",N5:dm.go,mb:{list:[{t:"Objc",v:n}],fT:[F],bh:[]}};
this.T(k);k.data={d:v.B.Mc,N5:dm.Vy,nE:n};this.T(k)}if(i.data.N5==2){var Q=z.bM(),s=Q[0][Q[1][0]],j={ud:"Default/"+l.getName(),hg:S,$:s.add.vmsk.clone().$},_=I.o.RP(j.$),B=new hN(_.m,0,0,_.J,_.x,_.y);
B.Fb();I.o.Pa(j.$,B);_.x=_.y=0;j.zO=_.clone();k.data={d:v.B.Mc,hl:"add",N5:dm.Tl,mb:[j]};this.T(k)}}if(m==v.B.Df)this.fo.RH(i.data.N5);
if(m==v.B.mp){var N=i.data.ao4,a=i.data.Lv;if(N!=!0&&a!=!0&&this.y5("open"))return;var O=this.hw.Yd();
if(a)O=-1-O;this.fo.agY(N||a?O:null,i.data.a14)}if(m==v.B.W6){var H=i.data.arZ,q=i.data.sD,h=this.g3(H);
if(q){var D=H==dm.go,T=[];for(var Y=0;Y<q.length;Y++)T.push((D?h.list:h)[q[Y]]);h=D?{bh:h.bh,fT:h.fT,list:T}:T}if(H==dm.nx){var x=new ei;
for(var Y=0;Y<h.length;Y++){var p=h[Y].b2.Lefx;if(p)k4.aog(p,x,this.Zk.VN)}h={qo:x.add.Patt?x.add.Patt:[],te:h}}if(H==dm.tM){var y=this.Zk.iy;
h={fT:[],bh:[],list:h};console.log(h)}if(H==dm.v)h=h[i.data.dA];var b=dm.Gh[H],L=b[2].Em(h);g_.save(L,b[1]+"."+b[0])}if(m==v.B.hf){var g=this.Zk.sR,u=i.data.apf;
if(g.ks&&!g.a6s&&!u){g.aqp=window.confirm("Load \""+i.data.T_+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
g.a6s=!0}if((g.aqp||u)&&g.ks){g.kB[i.data.T_]=i.data.Sk;var k=new eX(v.E.H);k.data={d:v.B.Mc,N5:dm.bK};
this.T(k)}}if(m==v.B.asO){var z=this.M2(),c="<!DOCTYPE HTML>";if(z==null)return;var t=i$.yt(z.I6().buffer,z.m,z.J),V=window.open();
c+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";c+="<body><img src=\""+t+"\" /></body>";
c+="</html>";V.document.write(c)}if(m==v.B.KU){if(this.y5("publishOnline"))return;var E=i.data.Kp!="psd",z=this.M2();
if(z==null)return;if(!E&&z.KK)return;var C="Your "+(E?"picture":"document")+" will be published at "+(E?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!E)C+=" We guarantee 6+ months of storage.";var Z=i.data.rQ?!0:confirm(C);if(Z){if(!E){var k=new eX(v.E.v,!0);
k.f=$.bH;k.data={d:cc.vc};this.T(k);var G=new j2(0,0,z.m,z.J);for(var Y=0;Y<z.M.length;Y++){var l=z.M[Y];
if(l.rect.bs()||l.yJ()||l.Re()||l.RM()||l.Q9()||l.add.TySh||l.add.vmsk||l.add.SoLd)continue;var J=G.G_(l.rect);
if(!J.LJ(l.rect)&&!J.bs()){var K=I.R(J.P()*4);I.fF(l.buffer,l.rect,K,J);l.buffer=K;l.rect=J}if(!I.DP(l.buffer,l.rect.m,l.rect.J))continue;
var M=l.gF(),U=l.opacity,r=l.fn,dS=l.cy;l.fJ(!0);l.opacity=255;l.fn="norm";z.g=[Y];k.data={d:cc.o3,Kp:"jpg"};
this.T(k);var w=z.M[Y];l.fJ(M);w.fJ(M);l.opacity=w.opacity=U;l.fn=w.fn=r,l.cy=w.cy=dS}}if(z.N3){z.um()}var di=z.m,eM=z.J,j5=i.data.a8G,ds;
if(j5)while(Math.max(di,eM)>j5){di=di>>>1;eM=eM>>>1}console.log(di,eM);if(i.data.Kp=="psd")ds=i$.Nn(z,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(i.data.Kp=="png")ds=i$.Nn(z,"png",di,eM);else{var ba=i$.Nn(z,"png",di,eM),gH=i$.Nn(z,"jpg",di,eM);
ds=ba.byteLength<gH.byteLength?ba:gH}if(i.data.rQ==null)i.data.rQ=function(f9){var e4=E?f9:"https://www.photopea.com/#i"+f9+".psd",k=new eX(v.E.H);
k.data={d:v.B.c6,pw:"linkview",au_:e4};this.T(k)}.bind(this);if(E)g_.adT(ds,i.data.rQ);else this.fo.a6z(ds,z.name,i.data.rQ,"psdshared")}}if(m==v.B.pt){var z=this.M2(),ir=!1;
if(z==null)return;if(z.N3){z.um()}if(i.data.jJ){if(!this.DJ(z,i.data.jJ))return;var L=c8.avd(z,i.data.jJ,this.Zk);
this.mz(L);ir=!0}else if(z.an){if(this.dM.indexOf(z.an.Ff)!=-1){var L=new Uint8Array(i$.AL("PSD").B3(z,null,null,[!0,!1])),k=new eX(v.E.v,!0);
k.data={d:cc.BV,n4:z.an.Ff,data:L,id:z.an.abg,VO:z.name};k.f=$.bH;this.T(k);alert("Smart Object updated")}ir=!0}else if(this.y5("save")){ir=!0}else if(z.tT){c8.alX(z);
ir=!0}else if(z.$R){var iP=c8.akx(z);if(iP==1){alert("Already saving another file. Try again later.");
return}ir=!0}else if(z.hl&&z.hl.sO){if(!this.DJ(z,z.hl.sO.formats))return;this.fo.ab_(z,this.Zk,c8.aoB);
ir=!0}else if(z.To&&"psd jpg png gif webp svg bmp".split(" ").indexOf(z.Bw)!=-1){this.aBc();return}if(ir){z.Ga=z.f0;
z.JZ=Date.now();z.Qq=!0}else{var k=new eX(v.E.H,!0);k.data={d:v.B.Bm};this.T(k)}}if(m==v.B.Bm){if(!this.Zk.zi){alert("function is disabled");
return}if(this.y5("saveAsPSD"))return;var z=this.M2();if(z==null)return;if(!this.DJ(z))return;var k=new eX(v.E.v,!0);
k.data={d:cc.vc};k.f=$.bH;this.T(k);var iy=z.M.length,iG="Your document has "+z.M.length+" layers.";
if(iy>1<<15){alert(iG+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(iy>8e3&&!confirm(iG+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var eg={qg:[]};z.root.a1Y([],eg);var du=eg.qg;if(du.length>11&&!confirm("One layer is nested "+(du.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+du.join(" \uD83E\uDC1A ")+"."))return;
var gh=window.showSaveFilePicker;if(window.parent!=window)gh=null;if(gh&&!i.data.anZ){var ga={suggestedName:z.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
gh(ga).then(function(i){z.To=i;z.name=i.name;z.sa=!0;z.Bw="psd";this.aBc()}.bind(this));return}var d5=window.gtag;
if(z.Pb()&&d5)d5("event",z.Bw+":"+d.cF(a8.md()?"\"'|('61":"w'| "),{event_category:"Formats"});if(z.N3){z.um()}var fu=d4==0?"PSD":"AI",ay=i$.AL(fu);
if(i.data.anZ){var L=z.Bw=="psd"?ay.B3(z):c8.gc(z,z.Bw,this.Zk);this.alA(L,z,this)}else{var L=ay.B3(z);
g_.save(L,z.name);z.Ga=z.f0;z.JZ=Date.now();z.Qq=!0}}if(m==v.B.Z8)window.open(i.data.link,"_blank");
if(m==v.B.arD){if(this.kt._$()){this.aoQ();return}var z=this.M2(),l=z.M[z.g[0]],e=z.pE(l.add.SoLd.Idnt.v);
for(var Y=0;Y<this.dM.length;Y++){var c7=this.dM[Y].an;if(c7!=null&&c7.abg==e.zx&&c7.Ff==z){this.hw.T0(Y);
return}}g_.Jl({name:e.VO,an:{abg:l.add.SoLd.Idnt.v,Ff:z}},e.raw.buffer,this)}if(m==v.B.acs){var z=this.M2(),l=z.M[z.g[0]],e=z.pE(l.add.SoLd.Idnt.v);
g_.save(e.raw.buffer,e.VO)}if(m==v.B.asw){console.log(i.data);g_.Jl({name:i.data.$R[1].split("/").pop(),$R:i.data.$R},i.data.Jg,this)}if(m==v.B.a6L){var z=this.M2();
z.$R=i.data.$R;z.name=z.$R[1].split("/").pop();var k=new eX(v.E.H);k.data={d:v.B.pt};this.T(k)}if(m==v.B.wb){this.a5Z()}if(m==v.B.kk){this.ax1(i.data.lk,i.data.vX,i.data.PF)}if(m==v.B.nT){this.avs(i.data.a1g,i.data.e0,i.data.PF)}if(m==v.B.ak1){var eE=i.data.b;
if(this.Zk.jw==$.ck&&this.Dh()._$()){var k=new eX(v.E.v,!0);k.f=$.ck;k.data={d:"insertText",b:eE};this.T(k);
return}if(eE.startsWith("vcb;")){var jn=JSON.parse(eE.slice(4));jn[0]=cV.axe(jn[0]);var k=new eX(v.E.v,!0);
k.f=$.iF;k.data={d:"append",jj:"Paste Paths",amT:jn};this.T(k)}else if(eE.startsWith("lrs;")){var dI=eE.split(";"),dQ=this.dM[parseInt(dI[1])];
if(dQ==null)return;var jo=this.M2(),hT=dQ.g;dQ.g=JSON.parse(dI[2]);var ea=dQ.gV(null,dQ!=jo);dQ.g=hT;
var k=new eX(v.E.v,!0);k.data={d:cc.sz,M:ea,Ff:dQ,CH:jo};k.f=$.bH;this.T(k)}else if(eE.startsWith("<!--")||eE.startsWith("<svg")){var b9=W.x5(eE),ii=i$.AL("svg"),x=new ei("image.psd");
ii.pX(b9.buffer,x);if(this.dM.length!=0){var d_=x.M;if(d_.length==3&&d_[0].getName()=="</Layer group>"&&d_[2].yJ())d_=[d_[1]];
var k=new eX(v.E.v,!0);k.f=$.bH;k.data={d:cc.sz,M:d_,Ff:x,CH:this.M2()};this.T(k)}else this.ayB(x)}}if(m==v.B._i){fL.nk(i.data.QC,this)}if(m==v.B.MD){if(window.parent!=window)window.parent.postMessage(i.data.N5,"*");
this.Nz.jB(i.data.N5)}if(m==v.B.CZ){var c4=parseFloat(i.data.pw);if(this.Zk.Ef.indexOf(c4)==-1){var k=new eX(v.E.H,!0);
k.data={d:v.B.Mc,N5:dm.r3,b:c4,hl:"add"};this.T(k)}this.Nz.a4Q(i.data.pw)}if(m==v.B.tJ){this.V3.abw(this.M2(),this.Zk)}if(m==v.B.c6){var kG="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var Y=0;Y<kG.length;Y+=2)if(i.data.pw==kG[Y]&&this.y5(kG[Y+1]))return;if(!this.Zk.zi&&i.data.window=="saveforweb"){alert("function is disabled");
return}this.kt.a9M(i.data.pw,this.M2(),i.data,this.dM,this.HU)}if(m==v.B.SQ)g_.save(i.data.data,i.data.name);
if(m==v.B.D7){if(!this.kt._$()||i.W0)this.ayB(i.data.n4)}if(m==v.B.Tm){this.hw.T0(i.data.target);var k=new eX(v.E.v,!0);
k.data={d:cc.ap0,n4:i.data.n4,pM:i.data.pM,e5:i.data.e5};k.f=$.bH;this.T(k);this.NP($.yn)}if(m==v.B.auY){cY.fp=!cY.fp;
if(this.dM.length>0)this.M2().Y()}if(m==v.B.ako){var fC=a8.h0();if(fC!=null&&fC.globals!=null)this.Qn(fC.globals);
this.cj()}if(m==v.B.I1){this.fo.uO(i.data.data,null,i.data.v2,i.data.VR,i.data.aqq)}if(m==v.B.n$){var bO=this.Dh();
if(!this.kt.y7()!=null)this.NP(i.data.f,i.data.Hw);var id=this.Dh();if(id!=bO&&i.data.afu)id.k7(this.M2(),this,this.Zk,this.HU,this.Xn)}if(m==v.B.l6){if(this.s.S_)this.NP(this.s.S_)}if(m==v.B.GQ){var a5=this.s.map[i.data.f].f,z=this.M2();
a5.Mp(i.data,this,z,this.HU,this.Zk);if(z)z.gZ=!0;this.aqS()}if(m==v.B.Yo){var eU=this.s.map[i.data.f];
this.a73(eU);eU.po.Ag(i.data)}if(m==v.B.Mc){var z=this.M2(),af=i.data.N5,a7=i.data.mb,g$=this.Zk;if(i.data.hl=="set"){var id=$.zB[a7[1].classID];
if(g$.jw!=id)this.NP(id);this.s.map[id].po.ad4(a7,g$)}if(i.data.hl=="add"){var b=dm.Gh[af];if(af==dm.r3){g$.Ef.push(i.data.b);
g$.Ef.sort(function(f9,e4){return f9-e4})}else if(b==null){if(a7)g$.FV.aqc(a7,i.data.aeI);if(z)z.Qq=!0}else{var cg=this.g3(af);
if(af==dm.go){cg.fT=cg.fT.concat(a7.fT);cg.bh=cg.bh.concat(a7.bh);cg=cg.list;a7=a7.list}if(af==dm.nx&&z){for(var Y=0;
Y<a7.length;Y++){var p=a7[Y].b2.Lefx;if(p)k4.ac1(p,z,g$.VN)}}if(af==dm.tM&&a7==null){var x=this.s.map[g$.jw].po.ah$();
if(x==null)return;a7=[x]}for(var Y=0;Y<a7.length;Y++)cg.push(a7[Y]);if(af==dm.Tl){var cC={};for(var Y=0;
Y<cg.length;Y++){var kF=cg[Y].ud;while(cC[kF]!=null)kF=cg[Y].ud=kF+"X";cC[kF]=!0}}if(i.data.aeI!=!0)if(cg.length!=a7.length||af==dm.Pe||af==dm.nx||af==dm.nM||af==dm.v)alert(bC.get(b[3])+" "+bC.get([23,1])+".")}}if(i.data.hl=="del"){if(af==dm.r3){g$.Ef.splice(g$.Ef.indexOf(i.data.b),1)}else{var b=dm.Gh[af],q=i.data.sD,cg=this.g3(af);
if(af==dm.go)cg=cg.list;for(var Y=0;Y<q.length;Y++)cg[q[Y]]=null;for(var Y=0;Y<cg.length;Y++)if(cg[Y]==null){cg.splice(Y,1);
Y--}alert(bC.get(b[3])+" deleted.")}}if(i.data.hl=="rnm"){var b=dm.Gh[af],cg=this.g3(af);if(af==dm.go)cg=cg.list;
if(cg[i.data.sD[0]]==null)return;b[2]._n(cg[i.data.sD[0]],(i.data.lN?i.data.lN:"")+i.data.b)}if(af==dm.w4){var am=i.data.b;
g$.ZF=am;g$.em[am.C9]=am.Zc}if(af==dm.$w){var am=i.data.b;g$.Co=JSON.parse(JSON.stringify(am));var cJ=jt.NF(am);
g$.QD[cJ.C9]=cJ.Zc}if(af==dm.gm){g$.$_=i.data.b}if(af==dm.QB){g$.Wn=i.data.b}if(af==dm.QI){g$.c4=i.data.c4}if(af==dm.Vy){var K=JSON.parse(JSON.stringify(i.data.nE)),fX=K.useBrushSize;
if(fX&&fX.v){K.Brsh.v.Dmtr.v.val=g$.iy.n_.Brsh.v.Dmtr.v.val;fX.v=!1}g$.iy.n_=K;var hP={o0:"select",t6:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:K.Nm.v.split("/").pop()}}]}}},eU=this.Dh();
eU.Oe=this;eU.track(hP)}if(af==dm.jl){g$.Tf=i.data.yu}if(af==dm.e1){g$.mb=i.data.yu}if(af==dm.li){var hP,kx="Clrs";
if(i.data.Tt<2){var f2=i.data.b,gt=i.data.Tt==0,iD=I.I.$q({Z:f2>>>16,r:f2>>>8&255,e:f2&255});if(gt)g$.Dm=f2;
else g$.yv=f2;kx=gt?"FrgC":"BckC";hP={o0:"set",t6:{__name:"Set",classID:"setd",T:{t:"Objc",v:iD}}}}if(i.data.Tt==2){var eb=g$.Dm;
g$.Dm=g$.yv;g$.yv=eb;hP={o0:"exchange",t6:{__name:"Exchange",classID:"Exch"}}}if(i.data.Tt==3){g$.Dm=0;
g$.yv=16777215;if(z!=null&&z.g.length!=0&&z.M[z.g[0]].ii==1){var eb=g$.Dm;g$.Dm=g$.yv;g$.yv=eb}hP={o0:"reset",t6:{__name:"Reset",classID:"Rset"}}}if(hP){hP.t6.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:kx}}]};
var eU=this.Dh();eU.Oe=this;eU.track(hP)}}if(af==dm.YT){g$.JC=!g$.JC;this.ov()}if(af==dm.e$){g$.B4=!g$.B4;
this.ov()}var dA=g$.Cv;if(af==dm.bu){dA.o4=!dA.o4;this.ov()}if(af==dm.ou){dA.DI=!dA.DI;this.ov()}if(af==dm.Jz){dA.Nb=!dA.Nb;
this.ov()}if(af==dm.Ob){dA.mH=!dA.mH;this.ov()}if(af==dm.Pw){dA.tc=!dA.tc;this.ov()}if(af==dm.$k){dA.xE=!dA.xE;
this.ov()}if(af==dm.Yb){g$.Cv=i.data.yu;this.ov()}if(af==dm.aAB){g$.dZ=!g$.dZ;this.ov()}if(af==dm.hD){g$.Cn[i.data.HX]=!g$.Cn[i.data.HX];
this.ov()}if(af==dm.Zr){bC.xa(i.data.lang,this.jC)}if(af==dm.Vr){g$.qW=i.data.qW;this._()}if(af==dm.bK&&g$.sR.ks){var e9=g$.sR.ks.transaction(["rsrc"],"readwrite").objectStore("rsrc"),eI={k:"fs0",fset:g$.sR.kB};
if(i.data.aeH)eI={k:g$.sR.id,fset:g$.sR.fk};var d9=Object.keys(eI.fset).length==0?e9.delete(eI.k):e9.put(eI);
d9.onerror=function(i){console.log(i);alert("Storing failed. Browser says: "+i.target.error.message,7e3)}}this.FB(af)}};
cW.prototype.aBc=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.dB,rU:"Saving ..."};this.T(i);setTimeout(function(){var i=new eX(v.E.H,!0);
i.data={d:v.B.Bm,anZ:!0};this.T(i)}.bind(this),20)};cW.prototype.alA=function(i,C){C.To.createWritable().then(function(m){m.write(i);
return m}).then(function(m){return m.close()}).then(function(m){C.Ga=C.f0;C.JZ=Date.now();C.Qq=!0;var e=new eX(v.E.H,!0);
e.data={d:v.B.k6,rU:"Saving ..."};this.T(e)}.bind(this)).catch(function(m){var e=new eX(v.E.H,!0);e.data={d:v.B.k6,rU:"Saving ..."};
this.T(e)}.bind(this))};cW.prototype.awi=function(){var i=this.Zk,C=i.mb,m=i.aca;for(var Y=0;Y<C.length;
Y++){var e=C[Y];if(m[e])continue;m[e]=!0;this.fo.vN(e,!1,!0)}};cW.prototype.a65=function(){this._();
this.ov()};cW.prototype.y5=function(i){var C=this.Zk.hP[i];if(C){var m=new eX(v.E.H,!0);m.data={d:v.B._i,QC:C};
this.T(m)}return C!=null};cW.prototype.DJ=function(i,C){var m=!0,l=15;if(C){m=!1;for(var Y=0;Y<C.length;
Y++)if(C[Y].startsWith(d.wq("__M")))m=!0}var e=i.Pb()||i.an&&i.an.Ff.Pb();if(this.vJ())e=!1;var z=new d.aJ[ch.R$],L=(z[d.cF("xy,b-66:")]()&1)*60+z[d.wq("VQ]3LNRN<G")]();
if(e&&!a8.md()&&L>l&&m){var x=d.aJ[d.cF("}$z{2*35")][d.cF("y'|!")],S=d.wq("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
S+="\n\n"+d.wq("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-L+120)+d.wq("nYRTXTBMd");
if(x.indexOf(d.cF("\"|'/-1)(W0?@"))==-1)S=bC.get([0,11+6,3+2]);d.aJ._cwY(S);return!1}return!0};cW.prototype.g3=function(i){var C=this.Zk,m=[dm.go,dm.AU,dm.ij,dm.nM,dm.nZ,dm.Tl,dm.nx,dm.Pe,dm.v,dm.tM,dm.K1],e=[C.iy,C.Wc,C.Y7,C.tb,C.VN,C.Qu,C.Qb,C.aqi,C.ai,C.JS,C.a0n];
return e[m.indexOf(i)]};cW.prototype.a5Z=function(){var i=this.ax1(),C=this.M2();if(C==null||C.g.length==0)return;
var m=C.M[C.g[0]],e=new eX(v.E.v);if(i==1){e.f=$.iF;e.data={d:"remove",jj:"Cut Paths"}}else{e=new eX(v.E.HW);
e.data={o0:"delete"}}this.T(e)};cW.prototype.ax1=function(i,C,m){if(i==null)i=!1;var e=this.Zk;console.log("doCopy",i,C);
var z=this.M2();if(e.jw==$.ck&&this.Dh()._$()){var L=new eX(v.E.v,!0);L.f=$.ck;L.data={d:"copyText"};
this.T(L);return}if(z==null||z.g.length==0)return;var l=z.M[C==null?z.g[0]:C],x=z.bM(),S=x[0],f=x[1],X=S[f[0]];
if(!i&&X!=null&&X.add.vmsk.g.length!=0){var o=$.SY.Ik(X.add.vmsk,X.add.vogk);if(d.Il()){o[0]=cV.acn(o[0]);
var A="vcb;"+JSON.stringify(o);g_.VF(new Blob([A],{type:"text/plain"}))}else e.bC=o;return 1}else if(z.u==null){if(d.Il()){var A="lrs;"+this.dM.indexOf(z)+";"+JSON.stringify(z.g);
g_.VF(new Blob([A],{type:"text/plain"}))}}else{var P,F;if(i){var n=new j2(0,0,z.m,z.J);F=n.G_(z.u.rect);
P=I.R(F.P()*4);I.fF(z.I6(),n,P,F);I.v0(z.u.channel,z.u.rect,P,F)}else if(z.Xk.length!=0){F=z.u.rect.clone();
P=I.R(F.P()*4);var R=z.T3[z.Xk[0]],Q=R.Hp(F);I.uM(Q,P);I.uC(z.u.channel,P,3)}else{var s=l.z2(z,z.u);
if(s==null){alert("Copied area is empty");return}P=s.Jg;F=s.rect}var j=z.q.O,_=j[0]+j[1]+j[2];if(_==1){var B=j.indexOf(1);
for(var Y=0;Y<P.length;Y+=4)P[Y]=P[Y+1]=P[Y+2]=P[Y+B]}var N=new b5(z.m,z.J);if(d.Il()&&m!=!0){var a=i$.AL("PNG").a8g(P.buffer,F.m,F.J);
g_.VF(new Blob([new Uint8Array(a)],{type:"image/png"}));this.auT={TD:F,zM:N}}else e.JK={buffer:P,rect:F,zM:N};
e.atw=F.clone();e.bC=null}};cW.prototype.avs=function(i,C,m){if(C)this.a1B=!0;console.log("doPaste");
var e=this.Zk,z=e.JK,S;if(this.dM.length==0){if(!i&&d.Il()){g_.QU(this,null);return}if(z){var L=i$.Jd("image.psd",[{data:z.buffer.buffer,Jw:z.rect}]),l=new eX(v.E.H);
l.data={d:v.B.D7,n4:L};this.T(l)}return}var L=this.M2();if(e.jw==$.ck&&this.Dh()._$()){g_.QU(this,null);
return}var x=L.M[L.g.length==0?L.M.length-1:L.g[0]];if(e.bC){var f=L.bM(!0),X=f[0],o=f[1];S=X[o[0]]}var l=new eX(v.E.v,!0);
if(e.bC!=null&&S!=null){l.f=$.iF;l.data={d:"append",jj:"Paste Paths",amT:e.bC}}else if(!i&&d.Il()&&m!=!0){g_.QU(this,this.a9u.bind(this));
return}else{if(z==null)return;if(L.KT(!1)&&(L.q.O.join("")!="111"||L.Xk.length!=0||x.ii>0||x.rect.bs())){l.f=$.go;
l.data={d:"draw",a2r:!0,jj:[5,2]}}else{l.f=$.bH;l.data={d:cc.dt,e0:this.a1B};this.a1B=!1}l.data.JK=z}this.T(l)};
cW.prototype.aj0=function(){var i=this.Zk.FV;if(i.a07())return;for(var Y=0;Y<this.dM.length;Y++){var C=this.dM[Y];
if(!b7.hM(C,i,this))continue;if(C.qK)b7.LL(C,i,this);var m=C.add.lnk2;if(m)for(var e=0;e<m.length;e++){var z=m[e];
if(z.qK)$.a5.ZR(C,z.zx,z.pC[1],z.pC[1],i)}if(C.a17)continue;C.a17=!0;if(C.hl&&C.hl.aqE)fL.nk(C.hl.aqE,this);
this.mz();var L=new eX(v.E.v);L.f=$.bH;L.data={d:cc.u$};var l=new eX(v.E.H);l.data={d:v.B.CZ,pw:b0.eB.ath}}};
cW.prototype.FB=function(i){this.awi();var C=this.Zk,m=C.jw,l=!1;if(i==dm.Vy){if(this.s.map[m].po)this.s.map[m].po.P6(C,i)}else for(var e in this.s.map)if(this.s.map[e].po)this.s.map[e].po.P6(C,i);
if(i==dm.sY){if(m!=$.ck)this.s.map[$.ck].f.P6(C,i);this.aj0()}this.hw.P6(C,i);this.JO.P6(C,i);this.kt.P6(C,i);
if(d4==1&&(i==dm.w4||i==dm.$w))this.s.map[$.wJ].f.P6(C,i);else this.Dh().P6(C,i);this.Nz.P6(C,i);this.z6.P6(C,i);
if(i==dm.Vr||i==dm.cX){fn.a61(C.qW);this.update(!0)}var z=C.c4,L=z.hU.Font;if(i==dm.QI&&L!=null&&z.JR[L].Name!=C.font){C.font=z.JR[L].Name;
l=!0}if([dm.r3,dm.jl,dm.e1,dm.li,dm.YT,dm.e$,dm.Yb,dm.Jz,dm.Ob,dm.bu,dm.ou,dm.Pw,dm.$k,dm.Zr,dm.Vr].indexOf(i)!=-1||l)this.aqS()};
cW.prototype.aqS=function(){if(!this.u5)return;var i={},C=this.s.map;for(var m in C){var e=C[m].f;if(e.nc&&e.nc()!=null)i["t"+m]=e.nc()}var z=this.Zk,L=z.Cv,l={guides:L.Nb,grid:L.mH,sels:L.o4,paths:L.DI,pgrid:L.tc,slices:L.xE,gsize:parseFloat(L.I0.toFixed(2)),gunits:L.oB,gtype:L.i1,runits:L.d5};
if(L.He!=8421504)l.gcol=L.He;if(L.Gi!=65535)l.gucol=L.Gi;var x={fcolor:z.Dm,bcolor:z.yv,rulers:z.JC,extras:z.B4,favFam:z.Tf,rsrc:z.mb,panels:z.Ef,eparams:l,lang:bC.dx(),theme:z.qW,as:z.gY,co:z.Xo,topt:i};
if(z.font!=null)x.font=z.font;var S=a8.h0();if(S==null)S={};S.globals=x;a8.Z1(S)};cW.prototype.Ge=function(i){var C=this.HU,m=this.Xn,e=this.Zk.jw,z=this.s.map[e].f,L=null,l=!1;
for(var Y=0;Y<this.s.aie.length;Y++){var x=this.s.aie[Y],S=!0;for(var k=0;k<x.Xt.length;k++){var f=x.Xt[k];
if(!C.S(f))S=!1}if(S&&(!x.$A||!z._$())&&(x.rl==null||x.rl.indexOf(e)!=-1)){L=x.f;l=x.$A;break}}if((!m.$G||e==$.eA||i)&&this.s.O2!=L&&(L!=e||!l)){var X=this.M2();
if(this.s.O2!=null&&L==null)this.Dh().disable(X,this,this.Zk,C,!0);this.s.O2=L;this.Dh().enable(X,this,this.Zk,C,L!=null&&L!=e)}};
cW.prototype.eG=function(i){var C=this.Zk.jw,m=this.M2();if(C!=null){this.s.map[C].f.disable(m,this,this.Zk,this.HU)}};
cW.prototype.a73=function(i){if(i.po==null){i.po=new i._b(i.f.id);i.po.aeY(i.f.id,i.f.nX);i.po.P6(this.Zk,dm.cX);
i.po._()}};cW.prototype.NP=function(i,C){if(i==$.yn&&this.kt.y7())return;var m=this.M2(),e=this.Zk;if(this.s.map[i].f.Xf(m,e,C)){this.eG();
if(i!=e.jw)this.s.S_=e.jw?e.jw:$.z_;e.jw=i;this.JO.NP(e.jw);var z=this.s.map[i];this.s.UI[z.LH]=z.akG;
this.a73(z);this.SH.aon(z.po);var L=z.f;L.enable(m,this,this.Zk,this.HU,!1,C);if(m)m.gZ=!0;this.ov();
this.cR.a5R()}};cW.prototype.Dh=function(i){var C=this.s,m=C.zX,e=C.O2,z=this.Zk.jw;if(m)z=m;else if(e&&i==null)z=e;
return C.map[z].f};cW.prototype.ayB=function(i){var C=this.Zk,m=this.dM.indexOf(i);if(m!=-1){this.hw.T0(m);
return}if(this.cm&&(i.hl==null||i.hl.sO==null)){i.hl={sO:this.cm}}if(i.ZG==null){i.ZG="local,"+this.aCy+","+i.name;
this.aCy++}i.JZ=Date.now();if(d4==1&&i.add.arts==null)i.al9();if(hQ.qN()!=0&&!this.and&&d.aJ[d.cF("t$&!'31")].toString().indexOf(d.cF(" u,$4&"))==-1){alert(d.cF("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var Y=0;Y<i.M.length;Y++){var e=i.M[Y];if(e.add.SoLd!=null){var z=Date.now()}}var L=i.M.length,l=ch.Jb(),x=Math.PI*(6550<<14)+(d.ox(31)?20:10)*7e7;
if(l>x){var L=i.M.length;i.M=[];return L}if(cY.fp){cY.YX(Math.max(i.m,i.J));for(var Y=0;Y<i.M.length;
Y++){var e=i.M[Y];if(e.rq())cY.YX(Math.max(e.rect.m,e.rect.J))}}i.JJ();i.kr();if(i.a6Z)i.a1s();else i.Y();
i.a6Z=!1;this.dM.push(i);this.hw.b3(new aa(i));i.gZ=!0;i.Qq=!0;this.aj0();var S=new eX(v.E.v);S.f=$.vR;
S.data={d:"auto",xk:2}};cW.prototype.M2=function(){return this.dM[this.bW]};cW.prototype.ap7=function(){return this.kt.y7()==null};
cW.prototype.BE=function(i,C){this.eG();var m=this.dM.length;if(C!=null)this.hw.T0((this.hw.Yd()+C+m)%m);
this.bW=this.hw.Yd();var e=this.M2();this.z6.auL(e,this.Zk);this.Nz.bw(e,this.dM,this.Zk);this.ov();
if(e)e.gZ=!0};cW.prototype.azs=function(i){this.eG();var C=this.dM,m=C[i.data.Ux];C.splice(i.data.Ux,1);
if(C.length==0){this.BE(i);var e=cY.BF(),z=aa.Cc.CD;if(e.parentNode)e.parentNode.removeChild(e);if(z.parentNode)z.parentNode.removeChild(z)}this.aAr(m.name)};
cW.prototype.aAr=function(i){var C=this.Zk.sR,m=!1;if(C.ks==null)return;for(var e in C.fk){if(i==null||e==i){delete C.fk[e];
m=!0}}if(m){var z=new eX(v.E.H);z.data={d:v.B.Mc,N5:dm.bK,aeH:!0};this.T(z)}};cW.prototype.a9F=function(i){var C=[],m=i.data.a44;
for(var Y=0;Y<m.length;Y++)C[Y]=this.dM[m[Y]];this.dM=C;this.bW=this.hw.Yd()};cW.prototype.akp=function(i){var C=this.hw,m=C.a7F(),e=this.Dh(),z=this.M2();
if(m==C.Yd()||!e.axi())return;this.a1F(m,e)};cW.prototype.a1F=function(i,C){console.log("dup2doc");var m=this.Zk,e=this.hw,z=this.M2(),L=this.dM[i],l,x=new eX(v.E.v,!0);
x.f=$.bH;if(z.u==null){x.data={d:cc.sz,M:z.gV(null,!0),Ff:z,CH:L,asy:C==null};this.T(x)}else l=z.M[z.g[0]].z2(z,z.u);
var S=this.Xn,f=m.JC;m.JC=!1;S=z.q.yy(S.x,S.y);if(C)C.NR(z,this,m,this.HU);e.T0(i);if(z.u){x.data={d:cc.dt,JK:{buffer:l.Jg,rect:l.rect}};
this.T(x)}S=L.q.ip(S.x,S.y);if(C)C.k7(L,this,m,this.HU,S);m.JC=f};cW.prototype.avp=function(i){var C=this.M2(),m=this.HU,e=this.Zk,z=i.fd;
if(z)this.Xn=z;if(z)z.y-=e.Xo;if(this.IX==null)this.IX=0;if(i.action=="multidown"){this.KB=i.Mq.length;
this.IX=Date.now()}if(i.action=="up"&&Date.now()-this.IX<100){var L=new eX(v.E.v);L.f=$.Z9;L.data={d:this.KB==2?"h_stepbck":"h_stepfwd"};
this.T(L)}if(i.action.startsWith("multi")){var l=new eX(v.E.v,!0);l.data={d:i.action,Mq:i.Mq};l.f=$.BM;
this.T(l);return}var x=this.s.map[$.z_].f;if((i.action=="down"||i.action=="rdown")&&e.jw!=$.z_&&this.s.O2!=$.z_&&x.a6U(C,this,e,m,z)){this.s.zX=$.z_;
x.enable(C,this,e,m,!0)}if(i.action=="idown"){m.wT("Space");this.Ge(!0);i.action="down"}var S=this.kt.y7(),f=S!=null&&S.IM()&&this.s.O2==null?S:this.Dh();
if(i.action=="scroll"){var X=!m.S(jD.Uj)&&i.Yu,l=new eX(v.E.v,!0);l.data={d:"scroll",Ml:i.Ml.clone(),fd:z,aAe:X};
l.f=m.S(jD.rb)||X?$.BM:$.dq;this.T(l)}if(S!=null&&f!=S&&this.kt._$()&&f.id!=$.dq&&f.id!=$.BM)return;
if(i.action=="down")f.k7(C,this,e,m,z);if(i.action=="rdown")f.SB(C,this,e,m,z);if(i.action=="move")f.ct(C,this,e,m,z);
if(i.action=="up"||i.action=="iup"||i.action=="cancellast")f.$d(C,this,e,m,z,i.action=="cancellast");
if(i.action=="rup")f.mq(C,this,e,m,z);if(i.action=="iup"){m.WL("Space");this.Ge(!0)}if(i.action=="cancellast"){if(C&&C.history.length!=0&&Date.now()-C.history[C.history.length-1].a0b<200){var L=new eX(v.E.v);
L.f=$.Z9;L.data={d:"h_stepbck"};this.T(L)}}var o=this.Nz;if(i.action=="down")o.k7(C,this,e,m,z);if(i.action=="move")o.ct(C,this,e,m,z);
if(i.action=="up")o.$d(C,this,e,m,z);if(i.action=="down"||i.action=="up"){this.Ge()}if(i.action=="down"||i.action=="up"||i.action=="ctx"){C.gZ=!0}if((i.action=="up"||i.action=="rup")&&this.s.zX){this.s.zX=null;
x.disable(C,this,e,m)}};cW.prototype.zR=function(i){var C=this.M2(),m=this.Xn;if(C&&this.Dh().Ce(m,this.HU)){var e=C.q,z=e.eo.m,L=e.eo.J,l=0,x=0,S=16;
if(m.x<S)l=S-m.x;if(m.x>z-S)l=m.x-(z-S);if(m.y<S)x=S-m.y;if(m.y>L-S)x=m.y-(L-S);var k=this.HU.S(jD.$I)?8:1;
if((l!=0||x!=0)&&(C.m*e.U>z||C.J*e.U>L)){l=Math.min(5,l*.5)*k;x=Math.min(5,x*.5)*k;if(m.x>S)l=-l;if(m.y>S)x=-x;
e.F.x+=l;e.F.y+=x;this.avp({fd:this.Xn,action:"move"});C.sa=!0}}this.update()};cW.prototype.update=function(i){var C=this.M2();
if(C==null)return;if(d4!=0){if(C.buffer)throw"e"}if(C.gZ){var m=this.s.map;for(var e in m){if(m[e].f.Bj)m[e].f.Bj(C,this,this.Zk,this.HU)}if(d4==1){m[$.wJ].f.Bj(C,this,this.Zk,this.HU,!0)}}if(C.N3&&d4==0)if(cY.fp)cY.YX(Math.max(C.m,C.J));
if(C.N3&&d4==0){C.um()}var z=C.q,L=this.d6,l=this.d6=Date.now();if(C.N3||C.Pm||C.Qq||C.sa||i||z._0!=z.U||!z.Qj.LJ(z.F)){var x=z._0;
if(z._0!=z.U){var S=$._q.aaa(z.U,z._0>z.U),k=.12;if(z._0<z.U&&z._0<S)z._0=S;if(z._0>z.U&&z._0>S)z._0=S;
var f=Math.abs(z.U-S)*(l-L)*.001/k;if(z._0<z.U)z._0=Math.min(z.U,z._0+f);else z._0=Math.max(z.U,z._0-f)}var X=x==z.U?0:(z._0-z.U)/(x-z.U);
z.Qj.x=z.F.x+X*(z.Qj.x-z.F.x);z.Qj.y=z.F.y+X*(z.Qj.y-z.F.y);this.hw.P6(this.Zk,null);this.hw.bw(C,this.dM)}if((C.N3||C.sa||C.gZ)&&(!this.Xn.$G||C.nb)){if(C.gZ)C.kr();
this.Nz.bw(C,this.dM,this.Zk);this.JO.a1L(C,this.HU);C.Yj=!1}C.nb=!1;C.gZ=!1;C.N3=null;C.Pm=C.Qq=C.sa=!1};
cW.prototype.N0=function(i){var C=i.target.tagName.toLowerCase(),m=i.target.getAttribute("type"),e=jD,z=e.fG(i.code,e.RX);
if(!((C=="input"||C=="select"||C=="button")&&e.fG(i.code,e.kR))){if(e.jn(i)&&C!="select"){i.preventDefault()}this.HU.wT(e.Ka(i));
this.xC("down")}};cW.prototype.Ny=function(i){if(i.key==" ")this.HU.PH();if(jD.fG(i.code,jD.aV))this.HU.reset();
this.HU.WL(jD.Ka(i));var C=i.target.tagName.toLowerCase();if(jD.jn(i)&&C!="select"){i.preventDefault()}this.xC("up")};
cW.prototype.xC=function(i){var C=this.HU,m=this.M2(),e=m!=null&&m.g.length!=0;if(this.V3.y7()!=null){if(C.S(jD.pn)||C.S(jD.RX)){this.V3.amB()}return}this.Ge();
var z=this.V6(jD.Uj),L=C.S(jD.rb),l=C.S(jD.$I);if(z&&C.S(jD.uA)&&i=="down"){var x=new eX(v.E.v),S=new eX(v.E.H);
x.f=$.Z9;if(l){x.data={d:"h_stepfwd"}}else{x.data={d:"h_stepbck"}}if(this.kt.y7()!=null&&this.kt.y7()._$()){}else this.T(x)}if(z){var x=new eX(v.E.v),k=new eX(v.E.HW),S=new eX(v.E.H);
if(C.S(jD.k$)&&C.S(jD.wA)){S.data={d:v.B.c6,pw:"storwindow"};this.T(S)}if(!L&&i=="down")for(var f in fp.keys){var X=fp.keys[f],o=!0;
for(var Y=0;Y<X.length;Y++)if(!C.S(X[Y]))o=!1;if(o){x.f=$.vR;if(f=="hue2"&&l&&m.M[m.g[0]].add.SoLd==null)x.data={d:"auto",xk:3};
else x.data={d:"start",GT:f}}}if(C.S(jD.B)){if(L){k.data={o0:"selectAllLayers",t6:{classID:"null",null:h3.Ei("Lyr",!0)}}}else k.data=$.Z3.BT(!0)}if(C.S(jD.Cl)){if(L)S.data={d:v.B.c6,pw:"csize"};
else if(m)S.data={d:v.B.kk,lk:l}}if(C.S(jD.pJ)&&m.u){k.data=$.Z3.BT()}if(C.S(jD.E)&&i=="down"){if(l)k.data={o0:"mergeVisible"};
else k.data={o0:"mergeLayersNew",t6:{__name:"Merge Layers",classID:"Mrg2"}}}if(C.S(jD.LQ)){if(l&&this.Zk.jw!=$.yn)S.data={d:v.B.c6,pw:"afw_fade"};
else if(L){x.f=$.uz;x.data={d:"applylast"}}else S.data={d:v.B.tJ}}if(C.S(jD.yM)){if(L&&m&&m.H_(m.g[0])){x.f=$.bH;
x.data={d:cc.nu}}else{x.f=$.bH;x.data={d:cc.X6,BO:l}}}if(C.S(jD.HL)){S.data={d:v.B.Mc,N5:dm.e$}}if(C.S(jD.k$)){if(l){x.data=null;
if(L)S.data={d:v.B.c6,pw:"finfo"};else k.data={o0:"inverse"}}else if(L)S.data={d:v.B.c6,pw:"isize"}}if(C.S(jD.NI)){k.data={o0:(l?"cut":"copy")+"ToLayer"}}if(C.S(jD.WP)){S.data={d:v.B.c6,pw:"preferences"}}if(C.S(jD.Rf)){if(l){x.f=$.bH;
x.data={d:cc.q3}}else if(i=="down")S.data={d:v.B.c6,pw:"newproject"}}if(C.S(jD.Lz)){if(L)S.data={d:v.B.c6,pw:"storwindow",VU:0};
else{S.data={d:v.B.mp};C.reset()}}if(C.S(jD.Je)){S.data={d:v.B.asO};C.reset()}if(C.S(jD.eB)){S.data={d:v.B.Mc,N5:dm.YT}}if(C.S(jD.xv)&&i=="down"){if(l){if(L)S.data={d:v.B.c6,pw:"saveforweb"};
else S.data={d:v.B.Bm}}else S.data={d:v.B.pt}}if(C.S(jD.f3)){if(l){x.f=$.bH;x.data={d:cc.Ev};this.T(x);
x.f=$.yn;x.data={d:"again"}}else S.data={d:v.B.n$,f:$.yn}}if(C.S(jD.AH)){S.data={d:v.B.nT}}if(C.S(jD.JU)){this.hw.mr()}if(C.S(jD.gA)&&m&&m.OJ()){S.data={d:v.B.wb}}if(C.S(jD.Gg)||C.S(jD.yw)){x.f=$.bH;
x.data={d:cc.LF,Tt:0};if(C.S(jD.Gg))x.data.Tt=l?3:2;else x.data.Tt=l?0:1}if(C.S(jD.Ws)&&m){x.f=$.bH;
x.data={d:cc.at}}if(C.S(jD.RX)&&m){var A=0;if(l)A++;if(L)A+=2;x.f=$.iH;x.data={d:"frompath",BR:[null,0,A]}}if(C.S(jD.BU)){k.data=$.lx.Jh(0)}if(C.S(jD.kR)){var P=this.dM.length,F=C.S(jD.$I)?-1:1;
if(P>1)this.hw.T0((this.hw.Yd()+P+F)%P)}if(C.S(jD.Ro)){S.data={d:v.B.Mc,N5:dm.Jz}}if(C.S(jD.Tp)){S.data={d:v.B.Mc,N5:dm.Ob}}$._q.a76(C,x);
if(this.kt.y7()!=null&&this.kt.y7()._$()){}else{if(x.data)this.T(x);if(k.data)this.T(k);if(S.data)this.T(S)}}if(!z&&L){var n;
if(C.S(jD.Gg))n="Bckw";if(C.S(jD.yw))n="Frwr";if(C.S(jD.Ws))n="Back";if(C.S(jD.BU))n="Frnt";if(n){var k=new eX(v.E.HW);
k.data={o0:"select",t6:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:n}}]},MkVs:{t:"bool",v:!1}}};
this.T(k)}}if(m&&m.g.length!=0){var R=m.M[m.g[0]],Q=R.ii;if(Q==1||Q==3||z){var x=new eX(v.E.v),s=Q==3?R.x6(m).X:R.Re();
if(s){var j=s.S0?m.q.O.join("")=="111"?1:2:0;x.f=$.BM;if(s&&C.S(jD.pn)&&j!=0){x.data={d:"mskView",b:0}}if(s&&C.S(jD.a9I)){x.data={d:"mskView",b:j==1?0:1}}if(s&&C.S(jD.agj)){x.data={d:"mskView",b:j==2?0:2}}if(x.data)this.T(x)}}}var _=C.nK();
if(m&&z&&2<=_&&_<=5){var B=[1,1,1];if(_>2){B=[0,0,0];B[_-3]=1}var N=new eX(v.E.v,!0);N.f=$.dq;N.data={d:"setcls",O:B};
this.T(N)}if(!C.S(jD.Uj)&&!L&&i=="down"){var x=new eX(v.E.v),S=new eX(v.E.H),a=this.s.map[this.Zk.jw],O=-1;
for(var Y=0;Y<this.s.keys.length;Y++)if(this.s.keys[Y]&&this.V6(this.s.keys[Y]))O=Y;if(O!=-1){var H=null;
if(a.LH!=O)H=this.s.UI[O];if(a.LH==O&&l)H=(a.akG+1)%this.s.cJ[O].length;if(H!=null){var q=this.s.cJ[O][H].f.id,h=this.Zk.tF;
if((h==null||h.indexOf(parseInt(q))!=-1)&&!this.Xn.$G)S.data={d:v.B.n$,f:q}}}if(C.S(jD.HL))S.data={d:v.B.n$,f:$.dq};
if(C.S(jD.eB))S.data={d:v.B.n$,f:$.KM};if(C.S(jD.gA))S.data={d:v.B.Mc,N5:dm.li,Tt:2};if(C.S(jD.pJ))S.data={d:v.B.Mc,N5:dm.li,Tt:3};
if(S.data)this.T(S);if(C.S(jD.aBL)&&m&&m.g.length==1){var R=m.M[m.g[0]];x.f=$.bH;var D=R.aG(0)||R.aG(1)||R.aG(2)||R.aG(31);
x.data={d:cc.g$,yu:D?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.T(x)}var _=C.nK();if(e&&_!=-1&&this.V6(jD.cq[_])){var T=m.g[0],R=m.M[T],p=jD.NX(Math.round(100*R.opacity/255),_);
x.f=$.bH;x.data={d:cc.kM,yu:Math.round(255*p/100)};this.T(x)}var y=this.Zk.N4;if(C.S(jD.kR)){S.data={d:v.B.za,b:y==0?1:0};
this.T(S)}if(C.S(jD.LQ)||C.S(jD.pn)&&y==2){var b=document.fullscreenElement!=null==(y==2);S.data={d:v.B.za,b:y==0?2:0,rE:b};
this.T(S)}if(C.S(jD.EF)&&!this.Xn.$G){x.f=$.iH;x.data={d:"qmask"};this.T(x)}}if(!C.S(jD.Uj)&&!L&&l){var x=new eX(v.E.v),S=new eX(v.E.H);
if(C.S(jD.Ws))S.data={d:v.B.c6,pw:"shortcuts"};if(C.S(jD.ih))S.data={d:v.B.c6,pw:"fill"};if(C.S(jD.anx))S.data={d:v.B.c6,pw:"sel_feather"};
if(e&&(C.S(jD.Ek)||C.S(jD.Mn))){var T=m.g[0],R=m.M[T],g=aw.Az,u=g.length,t=g.indexOf(R.fn);x.f=$.bH;
x.data={d:cc.sE,yu:(t+u+(C.S(jD.Ek)?1:-1))%u};this.T(x)}if(S.data)this.T(S)}var x=new eX(v.E.v),V=i=="down"&&(this.V6(jD.nR)||this.V6(jD.sk));
if((z||L)&&V){x=new eX(v.E.HW);x.data=$.N9.WA(z?"BckC":"FrgC");this.T(x)}else if(this.kt.y7()==null&&m&&V&&!this.Xn.$G){if(m.u!=null){x=new eX(v.E.HW);
x.data={o0:"delete"}}else if(m.g.length!=0){var R=m.M[m.g[0]];if(R.ii==1)x.data={d:cc.Eh};else if(R.ii==3)x.data={d:cc.Hv};
else x.data={d:cc.$U};x.f=$.bH}this.T(x)}if(this.kt.y7()!=null){if(C.S(jD.pn)){this.kt.y7().atc()}else{this.kt.y7().xC(m,this,this.Zk,C)}}if(this.Zk.jw==null)return;
var a=this.Dh();if(this.kt.y7()==null||this.s.O2)a.xC(m,this,this.Zk,C)};cW.prototype.V6=function(i){var C=this.HU,m=this.s.map[this.Zk.jw].f,top=this.kt.y7(),e=this.M2();
return C.S(i)&&!m.Xu(i,e)&&(top==null||!top.Xu(i,e))};cW.prototype.HQ=function(i){var C=this.apN,m=this.ZK;
this.Zk.N4=i;var e=d.bv,z=this.z6.n;if(e(z))this.C_.removeChild(z);var L=this.SH.n;if(e(L))this.C_.removeChild(L);
var l=this.JO.n;if(e(l))C.removeChild(l);var x=this.hw.n;if(e(x))C.removeChild(x);var S=this.Nz.n;if(e(S))C.removeChild(S);
if(i==0){this.C_.appendChild(z);this.C_.appendChild(L);m.appendChild(C);C.appendChild(l);C.appendChild(x);
C.appendChild(S)}if(i==1){this.C_.appendChild(z);C.appendChild(x)}if(i==2){C.appendChild(x)}this.hw.HQ(i==2?1:0);
this.ov()};cW.prototype.aC3=function(i){if(this.vJ())return 1;if(d.alf()==0){this.Zk={};this.Oh=function(C,m){return Math.sqrt(C*m)}}return-1};
cW.aus=function(){var i=d4==0?[[{f:new $.a8,_b:fU},{f:new $.HS,_b:iY}],[{f:new $.DU,_b:hO,yO:0},{f:new $.Tq,_b:cG,yO:0}],[{f:new $.nG,_b:fd,yO:0},{f:new $.PN,_b:i8,yO:0},{f:new $.y$,_b:b4,yO:0}],[{f:new $.Hi,_b:ah,yO:0},{f:new $.Jj,_b:iF,yO:0},{f:new $.B8,_b:cw,yO:0}],[{f:new $.ajg,_b:bw},{f:new $.a6Y,_b:fb},{f:new $.FD,_b:gC,yO:0},{f:new $.A4,_b:i6,yO:0}],[{f:new $.U3,_b:ks},{f:new $.xy,_b:bK,yO:0},{f:new $.ix,_b:im}],[{f:new $.xP,_b:kr,yO:0},{f:new $.qS,_b:eT,yO:0},{f:new $.nG(!0),_b:fa,yO:0},{f:new $.v8,_b:hy,yO:0},{f:new $.avA,_b:dO,yO:0},{f:new $.K2,_b:io,yO:0}],[{f:new $.mi,_b:jf,yO:0},{f:new $.K3,_b:c3,yO:0},{f:new $.j_,_b:j7,yO:0}],[{f:new $.ni,_b:aY,yO:0}],[{f:new $.ti,_b:e8,yO:0},{f:new $.o1,_b:ew,yO:0},{f:new $.fm(!0),_b:ho,yO:0}],[{f:new $.pK,_b:ci,yO:0},{f:new $.fm,_b:ho,yO:0}],[{f:new $.Uo,_b:cI,yO:0},{f:new $.Sh,_b:dF,yO:0},{f:new $.Jv,_b:jS,yO:0}],[{f:new $.CE,_b:kD,yO:0},{f:new $.KR,_b:fq,yO:0},{f:new $.NW,_b:hS,yO:0}],[{f:new $.u8,_b:kd},{f:new $.fa,_b:kd}],[{f:new $.cV(0),_b:bz},{f:new $.Th,_b:eq},{f:new $.cV(1),_b:bz},{f:new $.cV(2),_b:bz},{f:new $.cV(3),_b:bz},{f:new $.cV(4),_b:bz}],[{f:new $.RU,_b:gU},{f:new $.Nc,_b:dZ}],[{f:new $.Rect,_b:jW},{f:new $.Xl,_b:fA},{f:new $.$P,_b:hV},{f:new $.BQ,_b:jx},{f:new $.uj,_b:cy}],[{f:new $.gx,_b:fJ},{f:new $.NM,_b:au}],[{f:new $._q,_b:eK}]]:[[{f:new $.a8,_b:fU}],[{f:new $.Nc,_b:dZ}],[{f:new $.cV(0),_b:bz}],[{f:new $.Th,_b:eq}],[{f:new $.u8,_b:kd},{f:new $.fa,_b:kd}],[{f:new $.$P,_b:hV}],[{f:new $.Rect,_b:jW},{f:new $.Xl,_b:fA},{f:new $.BQ,_b:jx},{f:new $.uj,_b:cy}],[{f:new $.apO,_b:fJ}],[{f:new $.gx,_b:fJ},{f:new $.NM,_b:au}],[{f:new $._q,_b:eK}]],l="",x="";
if(d4==0&&!d.mA())i[6].splice(2,1);var C=d4==0?[jD.AH,jD._X,jD.nJ,jD.JU,jD.Cl,jD.k$,jD.NI,jD.ns,jD.xv,jD.E,jD.yM,null,jD.Lz,jD.f3,jD.Je,jD.B,jD.wA,jD.HL,jD.uA]:[jD.AH,jD.B,jD.Je,null,jD.f3,null,jD._X,jD.HL,jD.uA],m={aie:[{f:$.BM,$A:!1,Xt:[jD.a59,jD.uE]},{f:$.dq,$A:!1,Xt:[jD.uE]},{f:$.$r,$A:!0,Xt:[jD.Uj],rl:[$.CG]},{f:$.CG,$A:!0,Xt:[jD.Uj],rl:[$.$r]},{f:$.tP,$A:!0,Xt:[jD.Uj],rl:[$.iF,$.wJ,$.NB]},{f:$.iF,$A:!0,Xt:[jD.Uj],rl:[$.tP,$.C0,$.zQ,$.mV,$.$t,$.Ks]},{f:$.z_,$A:!0,Xt:[jD.Uj]}],cJ:i,UI:[],keys:C,Qx:[{f:new $.aiq,_b:jj},{f:new $.aan,_b:hn},{f:new $.aD5,_b:iQ},{f:new $.U3(!0),_b:ks},{f:new $.tq,_b:kq}],XU:[{f:new $.a5},{f:new $.History},{f:new $.FX},{f:new $.w2},{f:new $.q7},{f:new $.fe}],map:{},S_:null,O2:null,zX:null},e=m.cJ;
for(var Y=0;Y<e.length;Y++){var z=e[Y];if(hQ=="---")continue;for(var L=0;L<z.length;L++)if(z[L].yO!=null&&z[L].yO!=d4){z.splice(L,1);
L--}if(z.length==0){e.splice(Y,1);m.keys.splice(Y,1);Y--}}for(var Y=0;Y<m.cJ.length;Y++){var S=m.cJ[Y];
if(S=="---")continue;var k=m.keys[Y];for(var L=0;L<S.length;L++){m.map[S[L].f.id]=S[L];S[L].LH=Y;S[L].akG=L;
var f=bC.get(S[L].f.name);x+="<li>"+S[L].f.id+": "+f+"</li>";l+="\t"+JSON.stringify(S[L].f.name)+", "+(k?"\""+k.zm+"\"":"null")+", "+S[L].f.id+", // "+f+"\n"}m.UI[Y]=0}for(var Y=0;
Y<m.Qx.length;Y++)m.map[m.Qx[Y].f.id]=m.Qx[Y];for(var Y=0;Y<m.XU.length;Y++)m.map[m.XU[Y].f.id]=m.XU[Y];
return m};function g0(i){k5.call(this);if(i==null)return;this.HG=null;this.bB=null;this.n=d.t("div","sbar"+" "+i);
this.b0=new d.t("div","top");this.b0.innerHTML="> <";this.n.appendChild(this.b0);this.pe=1;this.b0.addEventListener("click",this.aqm.bind(this),!1)}g0.prototype=new k5;
g0.prototype.aqm=function(i){if(this.HG!=null&&this.HG<500&&this.pe==0)return;if(this.pe==0)this.VY(!0);
else this.collapse(!0)};g0.prototype.a4S=function(i){this.pe=i;this.b0.innerHTML=this.pe==0?"< >":"> <"};
g0.prototype.ayM=function(){var i=new eX(v.E.H,!0);i.data={d:v.B.a7};this.T(i)};g0.prototype.VY=function(i){this.a4S(1);
if(i)this.ayM()};g0.prototype.collapse=function(i){this.a4S(0);if(i)this.ayM()};g0.prototype.$f=function(){return this.pe==1};
function gO(i,C){g0.call(this,"vcolumn");this._k=i;this.a5g=C;this.z5();this.lA=d.t("div");this.lA.setAttribute("style","cursor:default;");
this.agF=this.a6x.bind(this);this.ahB=this.aBy.bind(this);this.aer=this.anP.bind(this);d.h_(this.n,this.agF);
this.n.appendChild(this.lA);this.PY=d.t("div");this.lA.appendChild(this.PY);this.mP=-1;this.aps=d.t("div","float");
var m=this.pk=d.t("canvas","gsicon"),e=Math.round(12*d.XP());m.width=m.height=e;var z=m.getContext("2d");
z.moveTo(2,2);z.lineTo(e-2,e-2);z.moveTo(2,7);z.lineTo(e-7,e-2);z.stroke();this.pk.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
d.o$(this.pk);d.h_(this.pk,this.agF);d.$L(m);this.p8=[];this.FN=[];this.azc=null;this.vi=null;this.aBe=0}gO.prototype=new g0;
gO.prototype.a6x=function(i){var C=i.target==this.pk;if(!C){if(i.target!=this.n)return;if(!this.$f())return}else{var m=this.p8[this.mP].N6;
m.style.pointerEvents="none";var e=m.getBoundingClientRect();this.azc=[e.width,e.height];this.FN[this.mP]=[e.width,e.height]}i.stopPropagation();
this.vi=d.CV(i,document.body);this.aBe=this._k;d.AX(document,this.ahB);d.xd(document,this.aer)};gO.prototype.aBy=function(i){var C=d.CV(i,document.body);
if(this.$f()){this._k=this.aBe+this.vi.x-C.x;this.z5()}else{var m=this.FN[this.mP],e=this.azc;m[0]=e[0]+this.vi.x-C.x;
m[1]=e[1]+C.y-this.vi.y}var z=new eX(v.E.H,!0);z.data={d:v.B.a7};this.T(z)};gO.prototype.anP=function(i){if(!this.$f()){var C=this.p8[this.mP].N6;
C.style.pointerEvents="auto"}d.nz(document,this.ahB);d.uh(document,this.aer)};gO.prototype.amu=function(i){i.k("showFloat",this.az8,this);
i.k("hideFloat",this.fE,this);this.p8.push(i);i.parent=this;this.lA.appendChild(i.n)};gO.prototype.awf=function(Y){var i=this.p8[Y];
i.removeEventListener("showFloat",this.az8,this);i.removeEventListener("hideFloat",this.fE,this);this.p8.splice(Y,1);
i.parent=null;this.lA.removeChild(i.n)};gO.prototype.a5i=function(){return this.p8.length};gO.prototype.iW=function(){for(var Y=0;
Y<this.p8.length;Y++)this.p8[Y].iW()};gO.prototype.az8=function(i){this.iW();var C=this.aps;this.PY.appendChild(C);
this.mP=this.p8.indexOf(i.currentTarget);var m=this.p8[this.mP].N6;d._l(C);C.appendChild(m);C.appendChild(this.pk);
this.Oh(this.HG,this.bB)};gO.prototype.fE=function(i){this.iW();if(this.mP!=-1){this.PY.removeChild(this.aps);
this.mP=-1}};gO.prototype.z5=function(){function i(C){return Math.round(C*d.XP())/d.XP()}this.n.setAttribute("style","width: "+this._k+"px; border-left-width:"+i(4)+"px; cursor:ew-resize;")};
gO.prototype.VY=function(i){this.z5();this.fE();for(var Y=0;Y<this.p8.length;Y++)this.p8[Y].VY();g0.prototype.VY.call(this,i)};
gO.prototype.collapse=function(i){this.n.removeAttribute("style");for(var Y=0;Y<this.p8.length;Y++)this.p8[Y].collapse();
g0.prototype.collapse.call(this,i)};gO.a6m=11;gO.prototype.Oh=function(i,C){this.HG=i;this.bB=C;C-=gO.a6m;
var m=this.p8.length;if(m==0)return;if(!this.$f()){var e=C<400?C:400+(C-400)*.5;for(var Y=0;Y<m;Y++){var z=this.p8[Y],L=this.FN[Y];
z.Oh(L?L[0]:this._k,L?L[1]:e)}}else{var l=C;for(var Y=0;Y<m;Y++){var z=this.p8[Y],x=z.alH();if(Y==m-1){x=l;
z.n.style.borderBottom="none"}z.Oh(this._k,x);l-=x+4}}};function b6(i){k5.call(this);this.n=d.t("div");
this.lA=null;this.Jm=0;this.R4=0;this.azq=i;this.a2J=this.MU.bind(this);this.a5G=this.bz.bind(this);
this.a0u=this.f9.bind(this);this.$s=null;this.OB=null;this.Jc=null;d.h_(this.n,this.a2J);var C=this.n,e="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
C.addEventListener("touchmove",d.O5,!1);this.a3o=!0;this.ZE=[];var m=this.a7y=d.t("div");m.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(m);var z=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",e+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",e+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",e+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var Y=0;Y<z.length;Y++){var L=new c1(z[Y]);this.ZE.push(L);L.n.setAttribute("style","margin-left:"+(Y<7?4:0)+"px;cursor:pointer;");
L.k("click",this.Ac,this)}}b6.prototype=new k5;b6.prototype._=function(){var i=this.a7y;d._l(i);for(var Y=0;
Y<this.ZE.length;Y++){var C=this.ZE[Y];if(Y<5)C._();i.appendChild(C.n)}};b6.prototype.Ac=function(i){var Y=this.ZE.indexOf(i.currentTarget);
if(Y==0){if(window.showCap)window.showCap();return}var C=" issues learn blog api twitter facebook".split(" "),m=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),e=window.ga;
if(e)e("send","event","Links",C[Y]);var z=new eX(v.E.H,!0);z.data={d:v.B.Z8,link:m[Y]};this.T(z)};b6.prototype.MU=function(i){if(i.as5){i.preventDefault();
i.stopPropagation()}var C=window;d.AX(C,this.a5G);d.xd(C,this.a0u);C=this.lA;this.$s=new b5(parseInt(C.style.left),parseInt(C.style.top));
this.OB=d.CV(i,this.n);this.Jc=C.getBoundingClientRect()};b6.prototype.bz=function(i){var C=d.CV(i,this.n),m=this.$s.x+C.x-this.OB.x,e=this.$s.y+C.y-this.OB.y,z=this.Jm-this.Jc.width,L=this.R4-this.Jc.height;
if(this.azq)this.lA.style.left=Math.min(0,Math.max(z,m))+"px";else this.lA.style.top=Math.min(0,Math.max(L,e))+"px";
if(m-10>0){this.OB.x=C.x-10;this.$s.x=0}if(m+10<z){this.OB.x=C.x+10;this.$s.x=z}};b6.prototype.f9=function(i){var C=window;
d.nz(C,this.a5G);d.uh(C,this.a0u)};b6.prototype.awM=function(i){if(this.lA){this.n.removeChild(this.lA)}this.lA=i;
this.n.appendChild(i);i.style.position="absolute";if(this.azq)i.style.left=0;else i.style.top=0};b6.prototype.Oh=function(i,C){this.Jm=i;
this.R4=C;this.n.setAttribute("style","position:relative; width: "+i+"px; height: "+C+"px; overflow:hidden; white-space: nowrap; ");
var m=this.lA.firstChild,e=this.a7y,z=m?m.firstChild.getBoundingClientRect().width+80:1e9,L=170,l=this.a3o&&i>z+L;
e[ch.W5][ch.a2y]=l?"":ch.Fe;var x=this.ZE;for(var Y=0;Y<x.length;Y++){var S=Y>4||i-z>500?"":ch.Fe,k=x[Y];
k.n.style.display=S}};b6.prototype.a5R=function(){this.lA.style.left="0";this.lA.style.top="0"};function hc(){k5.call(this);
this.os=null;this.B_=hc.Je;this.aBu="";this.n=d.t("div","rightbar");this.eP=[new gO(300),new gO(268,!0)];
this.p8=[new cx,new cx,new cx,new cx,new cx,new cx,new cx];this.aeE=[]}hc.prototype=new k5;hc.prototype._=function(){var i=this.B_;
for(var Y=0;Y<i.length;Y++)i[Y].aA._()};hc.Je=[{aA:new kk,tl:3},{aA:new fG,tl:1},{aA:new jr,tl:4},{aA:new eD,tl:2},{aA:new ka(!0),tl:5},{aA:new fc(!0),tl:5},{aA:new hs,tl:0},{aA:new fP,tl:5},{aA:new dL,tl:3},{aA:new hF,tl:0},{aA:new f1,tl:3},{aA:new cp,tl:2},{aA:new gl,tl:4},{aA:new iA,tl:3},{aA:new eL,tl:5},{aA:new ka(!1),tl:5},{aA:new il,tl:2},{aA:new bJ,tl:3},{aA:new cs,tl:1},{aA:new ca,tl:0},{aA:new g7,tl:5},{aA:new c_,tl:6,rW:!0}];
if(d.mA())hc.Je.push({aA:new jJ,tl:6,rW:!0});hc.Je.push({aA:new kv,tl:6,rW:!0},{aA:new bg,tl:6,rW:!0});
(function(){var i=[{id:b0.eB.arL,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var Y=0;Y<i.length;Y++)hc.Je.push({aA:new aP(i[Y],100+Y),tl:6,rW:!0})}());hc.prototype.aBo=function(i){for(var Y=0;
Y<i.length;Y++){var C=i[Y],m=new aP(C,"plg_"+C.name);this.B_.push({aA:m,tl:6});this.aeE.push(m.cp)}this.__()};
hc.prototype.P6=function(i,C){this.os=i;var m=this.B_;for(var Y=0;Y<m.length;Y++)m[Y].aA.P6(i,C);if(C==dm.r3||C==dm.cX)this.__()};
hc.prototype.jB=function(i){var C=this.B_;for(var Y=0;Y<C.length;Y++)C[Y].aA.jB(i)};hc.prototype.Oh=function(i,C){this.HG=i;
this.bB=C;this.__();this.eP[0].Oh(i,C);this.eP[1].Oh(i,C)};hc.prototype.__=function(){var i=this.os,C=this.HG,m=this.bB;
if(i==null||C==0)return;var e=i.Ef.concat(this.aeE),z=C<500||C<700&&C<m,L=JSON.stringify(e)+","+z;if(L!=this.aBu){this.aBu=L;
d._l(this.n);var l=[];for(var Y=0;Y<this.eP.length;Y++){var x=this.eP[Y];l[Y]=x.$f();while(x.a5i()!=0)x.awf(0);
x.VY()}var S=[];for(var Y=0;Y<this.p8.length;Y++){var k=this.p8[Y];k.VY();while(k.asI()!=0)k.Ne(0);S.push(0)}for(var Y=0;
Y<e.length;Y++){var f=this.aj9(e[Y].toString());if(f==null)continue;this.p8[f.tl].b3(f.aA);this.p8[f.tl].T0(0);
S[f.tl]++}var X=[];for(var Y=0;Y<S.length;Y++){if(S[Y]==0)continue;var o=Y<3||z?1:0,x=this.eP[o];x.parent=this;
x.amu(this.p8[Y]);X[o]=!0}for(var Y=0;Y<this.eP.length;Y++)if(X[Y])this.n.appendChild(this.eP[Y].n);
this.eP[0].collapse();if(C<700||this.os.compact||!l[1]){this.eP[1].collapse()}var A=new eX(v.E.H,!0);
A.data={d:v.B.a7};this.T(A)}};hc.prototype.aj9=function(i){for(var Y=0;Y<this.B_.length;Y++)if(this.B_[Y].aA.cp==i)return this.B_[Y]};
hc.prototype.a4Q=function(i){var C=this.aj9(i);this.p8[C.tl].b3(C.aA)};hc.prototype.bw=function(i,C,m){var e=this.B_;
for(var Y=0;Y<e.length;Y++)e[Y].aA.bw(i,C,m)};hc.prototype.k7=function(i,C,m,e,z){var L=this.B_;for(var Y=0;
Y<L.length;Y++)L[Y].aA.k7(i,C,m,e,z)};hc.prototype.ct=function(i,C,m,e,z){var L=this.B_;for(var Y=0;
Y<L.length;Y++)L[Y].aA.ct(i,C,m,e,z)};hc.prototype.$d=function(i,C,m,e,z){var L=this.B_;for(var Y=0;
Y<L.length;Y++)L[Y].aA.$d(i,C,m,e,z)};function ai(i,C){g0.call(this,"toolbar");this.n.removeChild(this.b0);
this.ot=d.t("div","tools");this.n.appendChild(this.ot);this.tF=null;this.jw=null;this.a8U=C;this.ps=null;
this.uS=null;this.a8M=-1;this.acI={};this.asU=i;this.s=null;this.wO=null;this.qt=null;this.Dd=null;this.Hd=new h_;
this.Hd.n.style.marginTop="5px";this.Hd.n.style.marginBottom="3px";this.Hd.parent=this;this.Ex=new c1(d.W3("lrs/mask"),!1,[6,6,1]);
this.Ex.k("click",function(L){var l=new eX(v.E.v,!0);l.f=$.iH;l.data={d:"qmask"};this.T(l)},this);var m=new as(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
m.k(v.E.p,this.alP,this);var e=d.t("span","rangecontFloat form padded");e.appendChild(m.n);e.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var z=this.n;this.adE=[!1,!1,!1,!1];this.RR=new c1(d.W3("kb"),!1,"Virtual Keys");this.RR.k("click",function(L){var l=this.RR.n.getBoundingClientRect();
e.style.top=l.top-110+"px";e.style.left=l.left+l.width+8+"px";if(d.bv(e)){d.l8({n:e},z)}else{z.appendChild(e);
d.RC({n:e})}},this)}ai.prototype=new g0;ai.prototype.alP=function(i){var C=i.target.h();this.RR.c(C[0]||C[1]||C[2]||C[3]);
var m=new eX(v.E.H,!0);for(var Y=0;Y<4;Y++){if(C[Y]!=this.adE[Y]){m.data={d:v.B.aqs,$G:C[Y],akX:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][Y]};
this.T(m)}}this.adE=C.slice(0)};ai.prototype.a1L=function(i,C){this.ps=C;this.uS=i;if(i==null||i.g.length==0||i.M[i.g[0]]==null)return;
var m=i.Ex()!=null,e=i.q.O,z=i.M[i.g[0]].ii,L=z==1||z==3||m||e[0]+e[1]+e[2]==1;this.Hd.azp(L);this.Ex.c(m)};
ai.prototype.aix=function(i,C){var m=i.length,e=[];for(var Y=0;Y<m;Y++)e[Y]=i[Y].slice(0);i=e;var z=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],L=Math.min(z.length/2,m-C);
for(var Y=0;Y<L;Y++){var l=z[2*Y],x=z[2*Y+1];i[l]=i[l].concat(i[x]);i[x]=null}for(var Y=0;Y<i.length;
Y++)if(i[Y]==null){i.splice(Y,1);Y--}return i};ai.prototype.aqu=function(i,C){for(var Y=0;Y<C.length;
Y++)for(var m=0;m<C[Y].length;m++)if(C[Y][m].f.id==i)return Y};ai.prototype.a4J=function(i){var C=this.asU;
this.wO=[];this.qt=[];this.Dd=[];this.s=[];var m=C.cJ;if(i!=null&&this.a8U)m=this.aix(m,i);var e=this.tF;
if(e){var z=[];for(var Y=0;Y<m.length;Y++){var L=[];for(var l=0;l<m[Y].length;l++){var x=m[Y][l];if(e==null||e.indexOf(parseInt(x.f.id))!=-1)L.push(x)}if(L.length>0)z.push(L)}m=z}for(var Y=0;
Y<m.length;Y++){var S=[],k=this.wO.length,f=null,X=-1;for(var l=0;l<m[Y].length;l++){var x=m[Y][l].f,o=this.aqu(x.id,C.cJ),A=C.keys[o];
if(A==jD.HL&&l==1)A=jD.eB;this.s.push(x);var P=new gN(x.name,A,x.nX,this.wO.length,Y,m[Y].length>1);
this.wO.push(P);var F=this.acI[x.id];if(F==null)F=0;if(F>X){X=F;f=P}P.k(v.E.p,this.Mj,this);P.k("mover",this.qz,this);
S.push({name:x.name,Ch:x.nX,Xt:A?A.zm:""})}this.qt.push(f);this.Dd.push(S.length==1?null:[S,k])}};ai.prototype.Oh=function(i,C){var m=this.bB=C,e=32;
if(1<d.XP()&&d.XP()<1.5)e=18+14*(1/d.XP());var z=39+23,L=Math.floor((m-z)/e);if(L!=this.a8M){this.a8M=L;
this.a4J(L);this.NP()}var l=this.qt.length*e+z,x=Math.min(1,m/l);if(.75<=x){this.ot.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+x+","+x+");");
this.n.setAttribute("style","height:"+(C-2)+"px;")}else{m-=4;this.ot.setAttribute("style","height: "+m+"px;  width:"+Math.ceil(l/m)*34+"px");
this.n.setAttribute("style","")}};ai.prototype._=function(){if(this.s==null)return;for(var Y=0;Y<this.wO.length;
Y++)this.wO[Y]._()};ai.prototype.Mj=function(i){var C=new eX(v.E.H,!0);C.data={d:v.B.n$,f:this.s[i.id].id};
this.T(C)};ai.prototype.agf=function(i){var C=i.target.aAD+i.target.kT()[0];this.wO[C].f9(null,!0)};
ai.prototype.qz=function(i){var C=this.ps,m=new eX(v.E.H,!0);m.data={d:v.B.ze};this.T(m);var e=i.target,z=this.Dd[e.LH];
if(z==null)return;var L=new gw(z[0],null,!0);L.aAD=z[1];L.LH=e.LH;L.k("select",this.agf,this);L.parent=this;
L._();var l=e.n.getBoundingClientRect(),m=new eX(v.E.H,!0);m.data={d:v.B.vs,aA:L,x:l.left+l.width+8,y:l.top};
if(C==null||!(C.S(jD.uE)||C.S(jD.Uj)))this.T(m)};ai.prototype.NP=function(i){if(i==null)i=this.jw;this.jw=i;
if(this.s==null)return;this.acI[i]=Date.now();var C=-1;for(var Y=0;Y<this.s.length;Y++)if(this.s[Y].id==i)C=Y;
for(var Y=0;Y<this.wO.length;Y++){var m=this.wO[Y];m.av8(C==Y)}if(C==-1)return;this.qt[this.wO[C].LH]=this.wO[C];
d._l(this.ot);var e=this.qt;for(var Y=0;Y<e.length;Y++){this.ot.appendChild(e[Y].n)}if(!this.a8U)return;
this.ot.appendChild(this.Hd.n);if(this.bB>640)this.ot.appendChild(this.Ex.n);this.ot.appendChild(this.RR.n)};
ai.prototype.P6=function(i,C){if(C==dm.cX&&i.tF){this.tF=i.tF;this.a4J();this.NP()}this.Hd.abF(i.Dm,i.yv);
if(d4==1&&C==dm.gm){this.Hd.aqa(i,this.uS)}};function gN(i,C,m,e,z,L){k5.call(this);this.cA=0;this.zI=this.aBj.bind(this);
this.LH=z;this.E4=e;this.fU=i;this.qy=C;this.a4K=L;this.nX=m;this.n=d.t("button","");this.n.innerHTML=d.W3(this.nX);
if(this.a4K){var l=d.t("img","gsicon");l.setAttribute("src",PIMG["tools/corner"]);l.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(l)}this.n.addEventListener("touchstart",d.O5,!1);this._();d.h_(this.n,this.MU.bind(this));
d.xd(this.n,this.f9.bind(this));this.n.addEventListener("contextmenu",this.zI,!1);this.n.addEventListener("contextmenu",gN.Vw,!1)}gN.prototype=new k5;
gN.Vw=function(i){i.stopPropagation();i.preventDefault();return!1};gN.prototype._=function(){var i=this.qy?" ("+this.qy.zm+")":"";
this.n.setAttribute("title",bC.get(this.fU)+i)};gN.prototype.MU=function(i){gN.Rl=this.E4;this.cA=setTimeout(this.zI,160)};
gN.prototype.f9=function(i,C){if(C==null&&gN.Rl!=this.E4)return;clearTimeout(this.cA);var m=new eX(v.E.p,!1);
m.target=this;m.id=this.E4;this.T(m)};gN.prototype.aBj=function(i){var C=new eX("mover",!1);C.target=this;
C.id=this.E4;this.T(C)};gN.prototype.av8=function(i){this.n.className=i?"toolbtn active":"toolbtn"};
function ed(){k5.call(this);this.n=d.t("div","topbar");this.Ww=d.t("span","");this.azu=0;this.n.appendChild(this.Ww);
this.M6=null;this.P3=null;this.JM=[];this.Ef=[];var i=this.MU.bind(this);for(var Y=0;Y<ed.data.length;
Y++){var C=d.t("button");this.JM.push(C);var m=ed.data[Y];C.addEventListener("mouseover",i,!1);d.h_(C,i)}this.td=new c1([0,13,0],!1,null,!0);
this.td.k("click",this.Z$,this);this.n.appendChild(this.td.n);this.Fc=new c1(d.W3("tools/zoom",null,"autoscale"),!1,[12,86]);
this.Fc.k("click",this.Z$,this);this.n.appendChild(this.Fc.n);this.Xe=new c1("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Xe.k("click",this.Z$,this);this.n.appendChild(this.Xe.n)}ed.prototype=new k5;ed.prototype.atq=function(){if(this.Ef.length!=0)return;
for(var Y=0;Y<ed.data.length;Y++){var i=ed.data[Y],C=new gw(i.items,i.SF);C.parent=this;this.Ef.push(C)}this._()};
ed.prototype._=function(){this.td._();this.Fc._();this.Xe._();for(var Y=0;Y<this.JM.length;Y++)this.JM[Y].textContent=bC.get(ed.data[Y].name);
this.a43();for(var Y=0;Y<this.Ef.length;Y++)this.Ef[Y]._()};ed.prototype.Z$=function(i){var C=new eX(v.E.H,!0);
if(i.target==this.td)C.data={d:v.B.c6,pw:"account"};else if(i.target==this.Fc)C.data={d:v.B.tJ};else C.data={d:v.B.za,rE:!0};
this.T(C)};ed.prototype.auL=function(i,C){this.M6=i;this.P3=C};ed.prototype.P6=function(i,C){this.P3=i;
if(C==dm.cX){var m=i.awW;d._l(this.Ww);for(var Y=0;Y<this.JM.length;Y++){var e=ed.data[Y];if(m==null||m[Y]==1||m[Y]instanceof Array)if(e.yO==null||e.yO==d4)this.Ww.appendChild(this.JM[Y]);
if(m!=null&&m[Y]instanceof Array){this.atq();this.Ef[Y].arF(m[Y])}}this.n.removeChild(this.td.n);this.n.removeChild(this.Fc.n);
this.n.removeChild(this.Xe.n);if(i.rJ)this.n.appendChild(this.td.n);this.n.appendChild(this.Fc.n);this.n.appendChild(this.Xe.n)}this.a43()};
ed.prototype.a43=function(i,C){var m=this.td,e=12255232;if(a8.Op())e=a8.md()?43520:16755200;m.n.setAttribute("style","color:#ffffff; background-color:#"+I.dP(e))};
ed.prototype.MU=function(i){this.atq();var Y=this.JM.indexOf(i.currentTarget),C=this.Ef[Y];if(i.type=="mouseover"&&!d.bv(this.Ef[this.azu].n))return;
if(d.bv(C.n))return;i.as5=!0;this.azu=Y;for(var Y=0;Y<ed.data.length;Y++)this.Ef[Y].update(this.M6,this.P3);
var m=i.target.getBoundingClientRect(),e=new eX(v.E.H,!0);e.data={d:v.B.vs,aA:C,x:m.left,y:m.top+m.height+2,afp:!0};
this.T(e)};ed.ay3=function(i){var C=jD,m=C.Uj,e=C.$I,z=C.rb,L=function(k){return{w:k!=null}},l=function(k){return{w:k!=null&&k.u!=null}},x={name:[0,5],yO:0,items:[{name:[7,0],w:L,Xt:[m,C.B]},{name:[7,1],Xt:[m,C.pJ],w:l},{name:[7,2],Xt:[e,m,C.k$],w:l,mL:!0},{name:"Remove BG",w:function(k){return{w:d.mA()&&k!=null&&k.g.length!=0&&!k.M[k.g[0]].rect.bs()}}},{name:[7,8],w:L,HT:!0},{name:[7,13],HT:!0,w:function(k){return{w:k!=null&&k.g.length!=0&&!k.M[k.g[0]].rect.bs()}},mL:!0},{name:[7,11],HT:!0,w:function(k){return{w:k!=null&&k.g.length!=0&&!k.M[k.g[0]].rect.bs()}}},{name:[7,3],w:L,mL:!0,sub:[{name:[7,9],HT:!0,w:l},{name:[19,3,0],HT:!0,w:l},{name:[7,4],HT:!0,w:l},{name:[7,5],HT:!0,w:l},{name:[7,6],HT:!0,w:l,Xt:"Shift+F6"}]},{name:"Grow",w:l},{name:"Similar",w:l,mL:!0},{name:[7,10],w:l,mL:!0},{name:[6,6,1],w:function(k){return{w:k!=null,_t:k!=null&&k.Ex()!=null}},Xt:[C.EF],mL:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],w:l}],SF:[{K:v.E.HW,A:$.Z3.BT(!0)},{K:v.E.HW,A:$.Z3.BT()},{K:v.E.HW,A:{o0:"inverse"}},{K:v.E.v,f:$.iH,A:{d:"bgrm",b:1}},{K:v.E.H,A:{d:v.B.c6,pw:"crange"}},{K:v.E.H,A:{d:v.B.c6,pw:"magiccut"}},{K:v.E.H,A:{d:v.B.c6,pw:"redge"}},{sub:[{K:v.E.H,A:{d:v.B.c6,pw:"sel_border"}},{K:v.E.H,A:{d:v.B.c6,pw:"sel_smoothness"}},{K:v.E.H,A:{d:v.B.c6,pw:"sel_expand"}},{K:v.E.H,A:{d:v.B.c6,pw:"sel_contract"}},{K:v.E.H,A:{d:v.B.c6,pw:"sel_feather"}}]},{K:v.E.HW,A:{o0:"grow",t6:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:v.E.HW,A:{o0:"similar",t6:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:v.E.H,A:{d:v.B.n$,f:$.Ta}},{K:v.E.v,f:$.iH,A:{d:"qmask"}},{K:v.E.H,A:{d:v.B.c6,pw:"loadsel"}},{K:v.E.H,A:{d:v.B.c6,pw:"savesel"}}]};
if(i){var S=x.items.length-1;x.items.splice(S-2,0,{name:[6,49],Xt:[m,C.NI],mL:!0});x.SF.splice(S-2,0,{K:v.E.HW,A:{o0:"copyToLayer"}});
x.items.splice(S-1,0,{name:[10,16],Xt:[z,m,C.f3]});x.SF.splice(S-1,0,{K:v.E.H,A:{d:v.B.n$,f:$.yn}})}return x};
ed.Un=function(i,C){if(i==null||i.g.length==0)return!1;var m=i.M[i.g[0]];return m.add.TySh!=null&&C.jw==$.ck};
ed.aml=function(){var i=jD,C=i.Uj,m=i.$I,e=i.rb,z=function(L){return{w:L!=null}};return[[{name:[5,0],Xt:[C,i.gA],w:function(L,l){return{w:L!=null&&(L.OJ()||ed.Un(L,l))}}},{name:[5,1],Xt:[C,i.Cl],w:z},{name:[5,2],Xt:[C,i.AH],w:function(L,l){return{w:ed.Un()||d.Il()||l.JK!=null||l.bC!=null||l.awt!=null}}},{name:[2,2],w:function(L,l){return{w:L!=null&&(L.u!=null||ed.Un(L,l))}},Xt:"Delete",mL:!0}],[{K:v.E.H,A:{d:v.B.wb}},{K:v.E.H,A:{d:v.B.kk}},{K:v.E.H,A:{d:v.B.nT}},{K:v.E.HW,A:{o0:"delete"}}]]};
ed.data=function(){var i=jD,C=i.Uj,m=i.$I,e=i.rb,z=function(A){return{w:A!=null&&A.g.length!=0}},L=function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].add.SoLd!=null}},l=function(A){return{w:A!=null}},x=function(A){return{w:A!=null&&A.KT(!1)}},S=[],k=[],f="none maxx avrg medn minn rang stdv summ vari".split(" "),X=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var Y=0;Y<f.length;Y++){S.push({name:X[Y],w:function(A,P){if(A==null||A.g.length!=1)return{w:!1};
var F=A.M[A.g[0]].add.SoLd;if(F==null)return{w:!1};return{w:!0,_t:F.Impr.v.classID==this.a5a}}.bind({a5a:f[Y]})});
k.push({K:v.E.v,f:$.bH,A:{d:cc.Pt,yu:f[Y]}})}var o=ed.aml(!0);return[{name:[0,0],items:[{name:[5,3],Xt:[e,C,i.Rf],title:[11,7],HT:!0},{name:[1,0],Xt:[C,i.Lz],HT:!0},{name:[1,11],HT:!0,w:l},{name:["VAR0 VAR1",[1,0],[0,14]],mL:!0,sub:[{name:"Storage",HT:!0,Xt:[e,C,i.Lz]},{name:[1,5],HT:!0},{name:[11,0],HT:!0},{name:["PSD VAR0",[25,0]],HT:!0}]},{name:[1,18],mL:!0,w:l,sub:[{name:"PNG",Xt:"Imgur.com",w:function(A,P){return{w:A!=null&&P.zi}}},{name:"JPG",Xt:"Imgur.com",w:function(A,P){return{w:A!=null&&P.zi}}},{name:"PSD",Xt:"Photopea.com",w:function(A,P){return{w:A!=null&&P.zi&&!A.KK}}}]},{name:"Save ...",Xt:[C,i.xv],w:function(A,P){var F=bC.get([1,2]),n=!0;
if(A){if(A.an)F+=" ("+bC.get([6,7,1])+")";if(A.tT)F+=" (Google Drive)";if(A.$R)F+=" ("+Storage.list[A.$R[0]][0]+")";
n="psd jpg png gif webp svg bmp".split(" ").indexOf(A.Bw)!=-1}return{w:A!=null&&(A.$R!=null||A.To!=null&&n||A.an!=null||A.hl!=null&&A.hl.sO!=null||A.tT!=null||P.hP.save!=null),rK:F}}},{name:d4==0?[1,3]:"Save as AI",w:function(A,P){return{w:A!=null&&P.zi}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:l,sub:[{name:(d4==0?"PSD":"AI")+" to Storage",w:function(A,P){return{w:A!=null&&P.zi}}},{name:["VAR0 PSD/PSB",[1,2]],HT:!0,w:function(A,P){return{w:A!=null&&P.zi}}}]},{name:[1,8],w:l,sub:function(){var A=i$.am(0),P=[];
for(var Y=0;Y<A.length;Y++)P.push({name:A[Y],Xt:"."+A[Y].toLowerCase()});P.push({name:[0,14],sub:function(){var A=i$.am(1),P=[];
for(var Y=0;Y<A.length;Y++)P.push({name:A[Y],Xt:"."+A[Y].toLowerCase()});return P}()});return P}()},{name:[1,4],HT:!0,w:l,mL:!0},{name:[1,9],HT:!0,w:l},{name:"Export Color Lookup",HT:!0,w:l,mL:!0},{name:[1,14],HT:!0,w:l,mL:!0},{name:[1,17],sub:[{name:"Batch",HT:!0},{name:"PDF Presentation",HT:!0},{name:"Convert Formats",HT:!0},{name:"Generate Mockups",HT:!0,w:l}]},{name:[1,10],HT:!0}],SF:[{K:v.E.H,A:{d:v.B.c6,pw:"newproject"}},{K:v.E.H,A:{d:v.B.mp}},{K:v.E.H,A:{d:v.B.mp,ao4:!0}},{sub:[{K:v.E.H,A:{d:v.B.c6,pw:"storwindow",VU:0}},{K:v.E.H,A:{d:v.B.c6,pw:"open_from_url"}},{K:v.E.H,A:{d:v.B.c6,pw:"camera"}},{K:v.E.H,A:{d:v.B.c6,pw:"res0"}}]},{sub:[{K:v.E.H,A:{d:v.B.KU,Kp:"png"}},{K:v.E.H,A:{d:v.B.KU,Kp:"jpg"}},{K:v.E.H,A:{d:v.B.KU,Kp:"psd"}}]},{K:v.E.H,A:{d:v.B.pt}},{K:v.E.H,A:{d:v.B.Bm}},{sub:[{K:v.E.H,A:{d:v.B.c6,pw:"storwindow",VU:1}},{K:v.E.H,A:{d:v.B.c6,pw:"savepsb"}}]},{sub:function(){var A=i$.am(0),P=[];
for(var Y=0;Y<A.length;Y++)P.push({K:v.E.H,A:{d:v.B.c6,pw:"saveforweb",Kp:Y}});P.push({sub:function(){var F=i$.am(0).length,A=i$.am(1),P=[];
for(var Y=0;Y<A.length;Y++)P.push({K:v.E.H,A:{d:v.B.c6,pw:"saveforweb",Kp:F+Y}});return P}()});return P}()},{K:v.E.H,A:{d:v.B.c6,pw:"saveforweb",Kp:5,a4c:!0}},{K:v.E.H,A:{d:v.B.c6,pw:"eassets"}},{K:v.E.H,A:{d:v.B.c6,pw:"exlut"}},{K:v.E.H,A:{d:v.B.c6,pw:"finfo"}},{sub:[{K:v.E.H,A:{d:v.B.c6,pw:"batch"}},{K:v.E.H,A:{d:v.B.c6,pw:"pdfpres"}},{K:v.E.H,A:{d:v.B.c6,pw:"cformat"}},{K:v.E.H,A:{d:v.B.c6,pw:"mockups"}}]},{K:v.E.H,A:{d:v.B.c6,pw:"script"}}]},{name:[0,1],items:[{name:[2,8],w:l},{name:[2,0],w:l,Xt:[m,C,i.uA]},{name:[2,1],w:l,Xt:[C,i.uA],mL:!0},{name:[2,11],Xt:[m,C,i.LQ],mL:!0,HT:!0,w:function(A,P){return{w:jl.apY(A)&&P.jw!=$.yn}}},o[0][0],o[0][1],{name:[5,7],Xt:[m,C,i.Cl],w:function(A){return{w:A!=null&&A.OJ()}}},o[0][2],o[0][3],{name:[2,3],w:x,HT:!0,Xt:[m,i.ih]},{name:[14,9],w:x,HT:!0,mL:!0},{name:[10,48],w:x},{name:[10,46],w:function(A){return{w:$.tq.hW(A)}}},{name:[10,16],w:l,Xt:[e,C,i.f3]},{name:[2,4],w:l,sub:g9.abr()},{name:[2,10,1],w:l},{name:[2,10,0],w:l,mL:!0},{name:[12,87],w:l,sub:[{name:[12,62],w:l},{name:[9,3],w:l},{name:[10,31],w:function(A){return{w:A!=null&&A.bM()[1].length!=0}}}]},{name:[1,15],HT:!0},{name:[12,79],HT:!0,Xt:[C,i.WP]},{name:[1,13],HT:!0}],SF:[{K:v.E.v,f:$.Z9,A:{d:"h_undoredo"}},{K:v.E.v,f:$.Z9,A:{d:"h_stepfwd"}},{K:v.E.v,f:$.Z9,A:{d:"h_stepbck"}},{K:v.E.H,A:{d:v.B.c6,pw:"afw_fade"}},o[1][0],o[1][1],{K:v.E.H,A:{d:v.B.kk,lk:!0}},o[1][2],o[1][3],{K:v.E.H,A:{d:v.B.c6,pw:"fill"}},{K:v.E.H,A:{d:v.B.c6,pw:"stroke"}},{K:v.E.H,A:{d:v.B.n$,f:$.m6}},{K:v.E.v,f:$.uz,A:{d:"start",L0:"rigidTransform"}},{K:v.E.H,A:{d:v.B.n$,f:$.yn}},{sub:g9.avx()},{K:v.E.HW,A:{o0:"align",t6:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:v.E.v,f:$.bH,A:{d:cc.u$}},{sub:[{K:v.E.H,A:{d:v.B.ss,N5:0}},{K:v.E.H,A:{d:v.B.ss,N5:1}},{K:v.E.H,A:{d:v.B.ss,N5:2}}]},{K:v.E.H,A:{d:v.B.c6,pw:"pmanager"}},{K:v.E.H,A:{d:v.B.c6,pw:"preferences"}},{K:v.E.H,A:{d:v.B.c6,pw:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:l,mL:!0,sub:[{name:"RGB",w:function(A){if(A==null)return{w:!1};
return{_t:A.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(A){if(A==null)return{w:!1};return{_t:A.add.fcmy!=null,w:!0}}}]},{name:[3],w:l,mL:!0,sub:function(){var A=[];
for(var P in fp.names){A.push({name:fp.names[P],HT:jg[P]!=null,Xt:fp.keys[P],mL:fp.azL.indexOf(P)!=-1});
if(P=="selc"){A.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],HT:!0,mL:!0});A.push({name:[19,7,0],Xt:[C,m,i.wA],w:x});
A.push({name:[4,18],HT:!0,w:x})}}return A}()},{name:[4,16,0],w:x},{name:[4,16,1],w:x},{name:[4,16,2],w:x,mL:!0},{name:[11,11,1],w:x,HT:!0},{name:[11,11,0],w:x,HT:!0,mL:!0},{name:[11,3],w:l,HT:!0,Xt:[e,C,i.Cl]},{name:[11,10],w:l,HT:!0,Xt:[e,C,i.k$]},{name:[2,4],w:l,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(A){return{w:A!=null&&A.u!=null}}},{name:[11,12,0],w:l,Xt:[C,i.BU],HT:!0},{name:[11,12,2],w:l,mL:!0},{name:[12,53],w:l},{name:[2,12],w:x,HT:!0,mL:!0},{name:[2,14],w:l,HT:!0}],SF:[{sub:[{K:v.E.v,f:$.z_,A:{d:"fcmy",b:0}},{K:v.E.v,f:$.z_,A:{d:"fcmy",b:1}}]},{sub:function(){var A=[];
for(var P in fp.names){A.push({K:v.E.v,f:$.vR,A:{d:"start",GT:P}});if(P=="selc"){A.push({K:v.E.v,f:$.uz,A:{d:"start",L0:"adaptCorrect"}});
A.push({K:v.E.HW,A:{o0:"desaturate"}});A.push({K:v.E.v,f:$.vR,A:{d:"start",GT:"matc"}})}}return A}()},{K:v.E.HW,A:{o0:"levels",t6:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:v.E.HW,A:{o0:"levels",t6:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:v.E.HW,A:{o0:"levels",t6:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:v.E.H,A:{d:v.B.c6,pw:"rcolors"}},{K:v.E.H,A:{d:v.B.c6,pw:"vbitmap"}},{K:v.E.H,A:{d:v.B.c6,pw:"csize"}},{K:v.E.H,A:{d:v.B.c6,pw:"isize"}},{sub:[{K:v.E.HW,A:$.V.t$(!0,90)},{K:v.E.HW,A:$.V.t$(!0,-90)},{K:v.E.HW,A:$.V.t$(!0,-180)},{K:v.E.HW,A:$.V.t$(!1,"Hrzn")},{K:v.E.HW,A:$.V.t$(!1,"Vrtc")}]},{K:v.E.HW,A:{o0:"crop",t6:{__name:"Crop",classID:"Crop"}}},{K:v.E.H,A:{d:v.B.c6,pw:"trim"}},{K:v.E.HW,A:{o0:"revealAll",t6:{classID:"RvlA"}}},{K:v.E.HW,A:{o0:"duplicate",t6:{classID:"Dplc",null:h3.Ei("Dcmn",!0)}}},{K:v.E.v,f:$.vR,A:{d:"start",GT:"aply"}},{K:v.E.H,A:{d:v.B.c6,pw:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:l,sub:[{name:[0,3],Xt:[m,C,i.Rf]},{name:[0,4]},{name:[1,16,0],HT:!0},{name:[1,16,3],HT:!0,mL:!0},{name:[6,49,0],Xt:[C,i.NI]},{name:[6,49,1],Xt:[m,C,i.NI],w:function(A){return{w:A!=null&&A.u!=null&&A.KT(!1)}}}]},{name:[6,0],w:z,Xt:[C,i.NI]},{name:[11,4],w:z},{name:[5,4],w:z,mL:!0},{name:[11,6],w:z,mL:!0,sub:ih.kw(!0)},{name:[6,48,1],w:l,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:l,mL:!0,sub:ih.ay7()},{name:[6,2],w:l,sub:[{name:[6,4],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()==null}}},{name:[6,5,0],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()==null}}},{name:[6,5,1],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()==null&&A.u!=null}}},{name:[6,5,2],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()==null&&A.u!=null}}},{name:[6,5,3],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()==null}},mL:!0},{name:[5,4],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()!=null}}},{name:[5,8],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()!=null&&A.KT(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].Re()!=null}}}]},{name:[6,3],w:l,sub:[{name:[6,4],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].add.vmsk==null}}},{name:[12,76,7],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].add.vmsk==null}},mL:!0},{name:[5,4],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(A){return{w:A!=null&&A.g.length!=0&&A.M[A.g[0]].add.vmsk!=null}}}]},cp.aw3(!0),{name:[6,7,1],w:l,mL:!0,sub:[{name:[6,7,0],mL:!0},{name:"Open (Edit Contents)",w:L,HT:!0},{name:"Replace Contents",w:L,HT:!0},{name:"Export Contents",w:L,HT:!0,mL:!0},{name:[6,36,4],w:L,sub:S},{name:"Turn into JPG",w:L}]},{name:[6,8],w:cp.a2n},{name:[6,34],mL:!0,w:function(A){if(A==null||A.g.length==0)return{w:!1};
var P=A.M[A.g[0]];return{w:P.add.lmfx!=null&&!P.yJ()}}},{name:[6,9],w:l,mL:!0,Xt:[C,i.yM]},{name:[6,55],w:l,sub:[{name:[6,56,0],Xt:[m,C,i.yw]},{name:[6,56,1],Xt:[C,i.yw]},{name:[6,56,2],Xt:[C,i.Gg]},{name:[6,56,3],Xt:[m,C,i.Gg]}]},{name:"Combine Shapes",w:l,mL:!0,sub:[{name:[18,1],Ch:"set/union"},{name:[18,2],Ch:"set/difference"},{name:[18,3],Ch:"set/intersection"},{name:[18,4],Ch:"set/xor"}]},{name:[6,58],w:l,mL:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Xt:[C,i.E],w:function(A){var P=A==null?0:A.g.length;
return{w:P!=0&&(P!=1||A.g[0]!=0),rK:bC.get(P>1||P==1&&A.M[A.g[0]].yJ()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:l},{name:[2,13],w:l}],SF:[{sub:[{K:v.E.v,f:$.bH,A:{d:cc.q3}},{K:v.E.v,f:$.bH,A:{d:cc.wf}},{K:v.E.H,A:{d:v.B.c6,pw:"newartb",VU:0}},{K:v.E.H,A:{d:v.B.c6,pw:"newartb",VU:1}},{K:v.E.HW,A:{o0:"copyToLayer"}},{K:v.E.HW,A:{o0:"cutToLayer"}}]},{K:v.E.v,f:$.bH,A:{d:cc.Ev}},{K:v.E.H,A:{d:v.B.c6,pw:"duplinto"}},{K:v.E.v,f:$.bH,A:{d:cc.$U}},{sub:ih.v5(!0)},{sub:[{K:v.E.v,f:$.C0,A:{d:"newfill",rp:0}},{K:v.E.HW,A:$.P0.WA(1)},{K:v.E.HW,A:$.P0.WA(2)}]},{sub:ih.i6()},{sub:[{K:v.E.v,f:$.bH,A:{d:cc.XE,VU:"RvlA"}},{K:v.E.v,f:$.bH,A:{d:cc.XE,VU:"HdAl"}},{K:v.E.v,f:$.bH,A:{d:cc.XE,VU:"RvlS"}},{K:v.E.v,f:$.bH,A:{d:cc.XE,VU:"HdSl"}},{K:v.E.v,f:$.bH,A:{d:cc.XE,VU:"Trns"}},{K:v.E.v,f:$.bH,A:{d:cc.Eh}},{K:v.E.v,f:$.bH,A:{d:cc.Wf}},{K:v.E.v,f:$.bH,A:{d:cc.Q3}}]},{sub:[{K:v.E.v,f:$.bH,A:{d:cc.gj,SX:!1}},{K:v.E.v,f:$.bH,A:{d:cc.gj,SX:!0}},{K:v.E.v,f:$.bH,A:{d:cc.gj,an5:!0}},{K:v.E.v,f:$.bH,A:{d:cc.l9}},{K:v.E.v,f:$.bH,A:{d:cc.bo}}]},{K:v.E.v,f:$.bH,A:{d:cc.nu}},{sub:[{K:v.E.HW,A:{o0:"newPlacedLayer"}},{K:v.E.HW,A:{o0:"placedLayerEditContents",t6:{classID:"placedLayerEditContents"}}},{K:v.E.HW,A:{o0:"placedLayerReplaceContents",t6:{classID:"placedLayerReplaceContents"}}},{K:v.E.HW,A:{o0:"placedLayerExportContents",t6:{classID:"placedLayerExportContents"}}},{sub:k},{K:v.E.v,f:$.bH,A:{d:cc.a1_}}]},{K:v.E.HW,A:{o0:"rasterizeLayer",t6:{classID:"rasterizeLayer",null:h3.Ei("Lyr",!0)}}},{K:v.E.HW,A:{o0:"rasterizeLayer",t6:{classID:"rasterizeLayer",null:h3.Ei("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:v.E.v,f:$.bH,A:{d:cc.X6}},{sub:[{K:v.E.v,f:$.bH,A:{d:cc.LF,Tt:0}},{K:v.E.v,f:$.bH,A:{d:cc.LF,Tt:1}},{K:v.E.v,f:$.bH,A:{d:cc.LF,Tt:2}},{K:v.E.v,f:$.bH,A:{d:cc.LF,Tt:3}}]},{sub:[{K:v.E.v,f:$.bH,A:{d:cc.x_,CX:0}},{K:v.E.v,f:$.bH,A:{d:cc.x_,CX:1}},{K:v.E.v,f:$.bH,A:{d:cc.x_,CX:2}},{K:v.E.v,f:$.bH,A:{d:cc.x_,CX:3}}]},{sub:[{K:v.E.v,f:$.bH,A:{d:cc.XB,Tt:"makeframes"}},{K:v.E.v,f:$.bH,A:{d:cc.XB,Tt:"unmakeframes"}},{K:v.E.v,f:$.bH,A:{d:cc.XB,Tt:"merge"}}]},{K:v.E.HW,A:{o0:"mergeLayersNew",t6:{__name:"Merge Layers",classID:"Mrg2"}}},{K:v.E.HW,A:{o0:"flattenImage"}},{K:v.E.v,f:$.uz,A:{d:"start",L0:"defr"}}]},ed.ay3(!1),function(){var A={name:[0,6],yO:0,items:[{name:[24,18,4],Xt:[e,C,i.LQ],w:l,mL:!0}],SF:[{K:v.E.v,f:$.uz,A:{d:"applylast"}}]};
for(var Y=0;Y<ft.KE.length;Y++){var P=ft.KE[Y];if(P.Zc!=null){var F={name:ft.names[P.Zc],HT:!0,mL:P.mL,w:l};
if(P.Zc=="VaPo")F.w=x;A.items.push(F);A.SF.push({K:v.E.v,f:$.uz,A:{d:"start",L0:P.Zc}});continue}var n={name:P.iQ,sub:[],w:l};
A.items.push(n);var R={sub:[]};A.SF.push(R);for(var Q=0;Q<P.YP.length;Q++){var s={name:ft.names[P.YP[Q]],HT:ft.TQ(P.YP[Q])!=null};
n.sub.push(s);var j={K:v.E.v,f:$.uz,A:{d:"start",L0:P.YP[Q]}};R.sub.push(j)}}return A}(),{name:[0,7],items:[{name:[8,0],w:l,Xt:[C,i.Ek]},{name:[8,1],w:l,Xt:[C,i.Mn]},{name:[20,3],w:l,Xt:[C,i.GX]},{name:[20,2],w:l,Xt:[C,i.q_]},{name:[8,14],w:function(A,P){return{w:A!=null,_t:A!=null&&A.a3}},mL:!0},{name:[12,36],mL:!0,sub:[{name:"Fullscreen",w:function(A,P){return{_t:document.fullscreenElement!=null}},mL:!0},{name:"Standard",w:function(A,P){return{_t:P.N4==0}}},{name:"Menu Bar and Canvas",w:function(A,P){return{_t:P.N4==1}}}]},{name:[8,13],Xt:[C,i.HL],w:function(A,P){return{_t:P.B4}}},{name:[8,12],mL:!0,sub:[{name:[17,2],w:function(A,P){return{w:P.B4,_t:P.Cv.o4}}},{name:[8,9],w:function(A,P){return{w:P.B4,_t:P.Cv.DI}}},{name:[8,2],w:function(A,P){return{w:P.B4,_t:P.Cv.Nb}},Xt:[C,i.Ro]},{name:[8,4],w:function(A,P){return{w:P.B4,_t:P.Cv.mH}},Xt:[C,i.Tp]},{name:[8,8],w:function(A,P){return{w:P.B4,_t:P.Cv.tc}}},{name:[8,11,0],w:function(A,P){return{w:P.B4,_t:P.Cv.xE}}}]},{name:[8,3],w:function(A,P){return{_t:P.JC}},Xt:[C,i.eB],mL:!0},{name:[8,5],w:function(A,P){return{_t:P.dZ}}},{name:[8,6],mL:!0,sub:[{name:[8,2],w:function(A,P){return{_t:P.Cn[0]}}},{name:[8,4],w:function(A,P){return{_t:P.Cn[1]}}},{name:[9,1],w:function(A,P){return{_t:P.Cn[2]}}},{name:[8,11,0],w:function(A,P){return{_t:P.Cn[3]}}},{name:[8,7,0],w:function(A,P){return{_t:P.Cn[4]}}}]},{name:[11,15,2],w:function(A,P){return{w:A!=null,_t:A!=null&&A.ej}}},{name:[11,15,0],w:l},{name:[11,14],w:l,HT:!0},{name:[11,15,1],w:function(A,P){return{w:A!=null&&A.g.length!=0}},mL:!0},{name:[8,11,2],w:function(A,P){return{w:A!=null&&A.xE.length!=0}}}],SF:[{K:v.E.v,f:$.BM,A:{d:"zoom",u7:!0}},{K:v.E.v,f:$.BM,A:{d:"zoom",u7:!1}},{K:v.E.v,f:$.BM,A:{d:"adapt",b:"fitscr"}},{K:v.E.v,f:$.BM,A:{d:"adapt",b:"pixel"}},{K:v.E.v,f:$.z_,A:{d:"pview"}},{sub:[{K:v.E.H,A:{d:v.B.za,rE:!0}},{K:v.E.H,A:{d:v.B.za,b:0}},{K:v.E.H,A:{d:v.B.za,b:1}},{K:v.E.H,A:{d:v.B.za,b:2}}]},{K:v.E.H,A:{d:v.B.Mc,N5:dm.e$}},{sub:[{K:v.E.H,A:{d:v.B.Mc,N5:dm.bu}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.ou}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.Jz}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.Ob}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.Pw}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.$k}}]},{K:v.E.H,A:{d:v.B.Mc,N5:dm.YT}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.aAB}},{sub:[{K:v.E.H,A:{d:v.B.Mc,N5:dm.hD,HX:0}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.hD,HX:1}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.hD,HX:2}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.hD,HX:3}},{K:v.E.H,A:{d:v.B.Mc,N5:dm.hD,HX:4}}]},{K:v.E.v,f:$.z_,A:{d:"lockguides"}},{K:v.E.v,f:$.z_,A:{d:"gids",Y$:[[],[]]}},{K:v.E.H,A:{d:v.B.c6,pw:"addguides"}},{K:v.E.v,f:$.z_,A:{d:"gidsFromLayer"}},{K:v.E.v,f:$.$r,A:{d:"deleteAll"}}]},function(){var A={name:[0,8],items:[{name:[0,14],mL:!0,sub:[]},{name:"Plugins",mL:!0}],SF:[{sub:[]},{K:v.E.H,A:{d:v.B.c6,pw:"res1"}}]};
for(var Y=0;Y<hc.Je.length;Y++){var P=hc.Je[Y],F=function(){var n=P.aA.cp;return function(R,Q){return{_t:Q.Ef.indexOf(parseInt(n))!=-1}}}();
(P.rW?A.items[0].sub:A.items).push({name:P.aA.name,w:F});(P.rW?A.SF[0].sub:A.SF).push({K:v.E.H,A:{d:v.B.CZ,pw:P.aA.cp}})}return A}(),function(){var A={name:[0,14],items:[],SF:[]},P={name:[0,9],sub:[]};
A.items.push(P);var F={sub:[]};A.SF.push(F);var n=bC.ajH();for(var Y=0;Y<n.length;Y++){var R=n[Y],Q=R.code,s=bC.aft(Q);
P.sub.push({name:R.name,Xt:Q,w:function(j,_){return{_t:this.Xt==bC.dx()}}});F.sub.push({K:v.E.H,A:{d:v.B.Mc,N5:dm.Zr,lang:s}})}P.sub.push({name:[0,12]});
F.sub.push({K:v.E.H,A:{d:v.B.Z8,link:"https://www.photopea.com/translate/"}});var P={name:[0,15],sub:[]};
A.items.push(P);var F={sub:[]};A.SF.push(F);for(var Y=0;Y<fn.st.length;Y++){P.sub.push({name:fn.st[Y].name,w:function(j,_){return{_t:this.name==fn.st[_.qW].name}}});
F.sub.push({K:v.E.H,A:{d:v.B.Mc,N5:dm.Vr,qW:Y}})}A.items.push({name:[0,17,6],w:function(j,_){return{w:_.CN!=null}}});
A.SF.push({K:v.E.H,A:{d:v.B.k3}});A.items.push({name:[11,13]});A.SF.push({K:v.E.H,A:{d:v.B.c6,pw:"shortcuts"}});
A.items.push({name:[0,16],w:function(j){return{_t:cY.fp,w:cY.a0H}},mL:!0});A.SF.push({K:v.E.H,A:{d:v.B.auY}});
A.items.push({name:"",w:function(j,_){return _.rJ?{rK:"About Photopea",w:!0}:{rK:"",w:!1}}});A.SF.push({K:v.E.H,A:{d:v.B.c6,pw:"aboutpp"}});
return A}()]}();function d$(){k5.call(this);this.n=d.t("div","");this.Jm=0;this.R4=0;this.os=null;this.tl=d.t("div","");
this.tl.setAttribute("style","width:200em; height:100em; position:absolute;");this.Sg=[];this.iC=[];
this.Bi={}}d$.prototype=new k5;d$.prototype.M1=function(i){var C=Date.now(),m=[];if(i=="-"){m=[new hz,new fg,new f6("pdfpres"),new f6("cformat"),new f6("batch"),new f6("mockups"),new eN,new ji,new b3,new aS,new ep,new ig,new dT,new br,new js,new cK,new hp,new kh,new j_,new ih,new c0("isize"),new c0("csize"),new eW,new aX,new f4,new et,new aI,new go,new ae,new bD,new km(!1),new km(!0),new hf(0),new hf(1),new ck,new aF,new kE,new j3,new hR,new be,new ju(0),new ju(1),new ju(2),new ju(3),new ju(4),new ju(5),new ju(6),new ju(7),new ju(8),new cQ,new ar,new al,new gn,new ie,new dD,new bM,new cf,new f0(0),new f0(1),new fi("border",[7,9],"px"),new fi("smoothness",[19,3,0],"px"),new fi("expand",[7,4],"px"),new fi("contract",[7,5],"px"),new fi("feather",[7,6],"px"),new f8(0,"namewindow",[12,48]),new f8(2,"billto","Bill To"),new f8(1,"cornerradius",[12,94,0],"px",!0,!0),new f8(1,"scaleeffects",[6,30,1],"%",!0),new f8(1,"doczoom","Zoom","%",!0),new f8(1,"setFPS","Set FPS","fps,120",!1),new f8(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(d4==0){m.push(new eo)}}else m=[new jl(i.slice(4))];this.agS(m);this.Bi[i]=!0};d$.prototype.agS=function(i){var C=this.os;
for(var Y=0;Y<i.length;Y++){var m=i[Y];m.parent=this;this.iC.push(m);this.Z4(m);m._();if(C)m.P6(C,dm.cX);
m.k(v.E.ek,this.xm,this);d.l8(m)}};d$.prototype.Oh=function(i,C){this.Jm=i;this.R4=C;for(var Y=0;Y<this.iC.length;
Y++)this.Z4(this.iC[Y])};d$.prototype._=function(){for(var Y=0;Y<this.iC.length;Y++)this.iC[Y]._()};
d$.prototype.y7=function(){return this.Sg.length==0?null:this.Sg[this.Sg.length-1]};d$.prototype._$=function(){for(var Y=0;
Y<this.Sg.length;Y++)if(this.Sg[Y]._$())return!0;return!1};d$.prototype.a9M=function(i,C,m,e,z){var L=i.startsWith("afw_"),l=null;
if(!L&&!this.Bi["-"])this.M1("-");if(L&&!this.Bi[i])this.M1(i);if(typeof i=="object"){l=i;if(!l.aoC(v.E.ek,this.xm))l.k(v.E.ek,this.xm,this);
l.parent=this}else for(var Y=0;Y<this.iC.length;Y++)if(this.iC[Y].id==i)l=this.iC[Y];if(this._$()&&l._$()){alert("Finish the current action first");
return}if(!l.cd(C))return;if(this.Sg.indexOf(l)!=-1){if(i=="colorpicker")l.bw(C,m,e,z);return}var x=this.Sg.length-1;
if(x>=0)d.uc(this.Sg[x].n,"wdisabled");this.n.appendChild(l.n);this.Sg.push(l);this.Z4(l);d.RC(l);l.bw(C,m,e,z)};
d$.prototype.Z4=function(i){var C=this.Jm,m=this.R4,e=i.Ck(C,m),z;if(e!=null){z=e}else{e=new b5(0,0);
z=i.a1X();if(z==null){var L=this.Sg.indexOf(i)+1;if(C<450||m<450)z=new b5(0,0);else z=new b5(L*150,L*150)}}i.n.style.left=z.x+"px";
i.n.style.top=this.n.offsetTop+z.y+"px";i.Oh(this.Jm-e.x*2,this.R4-e.y*2-34)};d$.prototype.P6=function(i,C){this.os=i;
for(var Y=0;Y<this.iC.length;Y++)this.iC[Y].P6(i,C)};d$.prototype.xm=function(i){var C=this.Sg.pop();
d.l8(C,this.n);var m=this.Sg.length-1;if(m>=0)d.nP(this.Sg[m].n,"wdisabled");if(this.tl.parentNode==this.n)this.n.removeChild(this.tl)};
window.onload=function(){document.body.appendChild(new cW().n)}}())